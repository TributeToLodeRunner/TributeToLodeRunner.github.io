(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["Infinner"] = factory();
	else
		root["Infinner"] = factory();
})(this, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./kotlin/88b0986a7186d029-atomicfu-js-ir.js":
/*!***************************************************!*\
  !*** ./kotlin/88b0986a7186d029-atomicfu-js-ir.js ***!
  \***************************************************/
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
  if (true)
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(/*! ./kotlin-kotlin-stdlib-js-ir.js */ "./kotlin/kotlin-kotlin-stdlib-js-ir.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  else {}
}(this, function (_, kotlin_kotlin) {
  'use strict';
  //region block: imports
  var objectMeta = kotlin_kotlin.$_$.r9;
  var classMeta = kotlin_kotlin.$_$.p8;
  var toString = kotlin_kotlin.$_$.qd;
  //endregion
  //region block: pre-declaration
  None.prototype = Object.create(atomicfu$TraceBase.prototype);
  None.prototype.constructor = None;
  //endregion
  function loop(_this__u8e3s4, action) {
    while (true) {
      action(_this__u8e3s4.z16_1);
    }
  }
  function loop_0(_this__u8e3s4, action) {
    while (true) {
      action(_this__u8e3s4.a17_1);
    }
  }
  function None() {
    None_instance = this;
    atomicfu$TraceBase.call(this);
  }
  None.$metadata$ = objectMeta('None', undefined, undefined, undefined, undefined, atomicfu$TraceBase.prototype);
  var None_instance;
  function None_getInstance() {
    if (None_instance == null)
      new None();
    return None_instance;
  }
  function atomicfu$TraceBase() {
  }
  atomicfu$TraceBase.prototype.atomicfu$Trace$append$1 = function (event) {
  };
  atomicfu$TraceBase.prototype.atomicfu$Trace$append$2 = function (event1, event2) {
  };
  atomicfu$TraceBase.prototype.atomicfu$Trace$append$3 = function (event1, event2, event3) {
  };
  atomicfu$TraceBase.prototype.atomicfu$Trace$append$4 = function (event1, event2, event3, event4) {
  };
  atomicfu$TraceBase.$metadata$ = classMeta('TraceBase');
  function AtomicRef(value) {
    this.z16_1 = value;
  }
  AtomicRef.prototype.b17 = function (_set____db54di) {
    this.z16_1 = _set____db54di;
  };
  AtomicRef.prototype.c17 = function () {
    return this.z16_1;
  };
  AtomicRef.prototype.atomicfu$compareAndSet = function (expect, update) {
    if (!(this.z16_1 === expect))
      return false;
    this.z16_1 = update;
    return true;
  };
  AtomicRef.prototype.atomicfu$getAndSet = function (value) {
    var oldValue = this.z16_1;
    this.z16_1 = value;
    return oldValue;
  };
  AtomicRef.prototype.toString = function () {
    return toString(this.z16_1);
  };
  AtomicRef.$metadata$ = classMeta('AtomicRef');
  Object.defineProperty(AtomicRef.prototype, 'kotlinx$atomicfu$value', {
    configurable: true,
    get: AtomicRef.prototype.c17,
    set: AtomicRef.prototype.b17
  });
  function atomic$ref$1(initial) {
    return atomic(initial, None_getInstance());
  }
  function AtomicBoolean(value) {
    this.d17_1 = value;
  }
  AtomicBoolean.prototype.e17 = function (_set____db54di) {
    this.d17_1 = _set____db54di;
  };
  AtomicBoolean.prototype.c17 = function () {
    return this.d17_1;
  };
  AtomicBoolean.prototype.atomicfu$compareAndSet = function (expect, update) {
    if (!(this.d17_1 === expect))
      return false;
    this.d17_1 = update;
    return true;
  };
  AtomicBoolean.prototype.atomicfu$getAndSet = function (value) {
    var oldValue = this.d17_1;
    this.d17_1 = value;
    return oldValue;
  };
  AtomicBoolean.prototype.toString = function () {
    return this.d17_1.toString();
  };
  AtomicBoolean.$metadata$ = classMeta('AtomicBoolean');
  Object.defineProperty(AtomicBoolean.prototype, 'kotlinx$atomicfu$value', {
    configurable: true,
    get: AtomicBoolean.prototype.c17,
    set: AtomicBoolean.prototype.e17
  });
  function atomic$boolean$1(initial) {
    return atomic_0(initial, None_getInstance());
  }
  function AtomicInt(value) {
    this.a17_1 = value;
  }
  AtomicInt.prototype.f17 = function (_set____db54di) {
    this.a17_1 = _set____db54di;
  };
  AtomicInt.prototype.c17 = function () {
    return this.a17_1;
  };
  AtomicInt.prototype.atomicfu$compareAndSet = function (expect, update) {
    if (!(this.a17_1 === expect))
      return false;
    this.a17_1 = update;
    return true;
  };
  AtomicInt.prototype.atomicfu$getAndSet = function (value) {
    var oldValue = this.a17_1;
    this.a17_1 = value;
    return oldValue;
  };
  AtomicInt.prototype.atomicfu$getAndIncrement = function () {
    var tmp0_this = this;
    var tmp1 = tmp0_this.a17_1;
    tmp0_this.a17_1 = tmp1 + 1 | 0;
    return tmp1;
  };
  AtomicInt.prototype.atomicfu$getAndDecrement = function () {
    var tmp0_this = this;
    var tmp1 = tmp0_this.a17_1;
    tmp0_this.a17_1 = tmp1 - 1 | 0;
    return tmp1;
  };
  AtomicInt.prototype.atomicfu$getAndAdd = function (delta) {
    var oldValue = this.a17_1;
    var tmp0_this = this;
    tmp0_this.a17_1 = tmp0_this.a17_1 + delta | 0;
    return oldValue;
  };
  AtomicInt.prototype.atomicfu$addAndGet = function (delta) {
    var tmp0_this = this;
    tmp0_this.a17_1 = tmp0_this.a17_1 + delta | 0;
    return this.a17_1;
  };
  AtomicInt.prototype.atomicfu$incrementAndGet = function () {
    var tmp0_this = this;
    tmp0_this.a17_1 = tmp0_this.a17_1 + 1 | 0;
    return tmp0_this.a17_1;
  };
  AtomicInt.prototype.atomicfu$decrementAndGet = function () {
    var tmp0_this = this;
    tmp0_this.a17_1 = tmp0_this.a17_1 - 1 | 0;
    return tmp0_this.a17_1;
  };
  AtomicInt.prototype.toString = function () {
    return this.a17_1.toString();
  };
  AtomicInt.$metadata$ = classMeta('AtomicInt');
  Object.defineProperty(AtomicInt.prototype, 'kotlinx$atomicfu$value', {
    configurable: true,
    get: AtomicInt.prototype.c17,
    set: AtomicInt.prototype.f17
  });
  function atomic$int$1(initial) {
    return atomic_1(initial, None_getInstance());
  }
  function AtomicLong(value) {
    this.g17_1 = value;
  }
  AtomicLong.prototype.h17 = function (_set____db54di) {
    this.g17_1 = _set____db54di;
  };
  AtomicLong.prototype.c17 = function () {
    return this.g17_1;
  };
  AtomicLong.prototype.atomicfu$compareAndSet = function (expect, update) {
    if (!this.g17_1.equals(expect))
      return false;
    this.g17_1 = update;
    return true;
  };
  AtomicLong.prototype.atomicfu$getAndSet = function (value) {
    var oldValue = this.g17_1;
    this.g17_1 = value;
    return oldValue;
  };
  AtomicLong.prototype.atomicfu$getAndIncrement$long = function () {
    var tmp0_this = this;
    var tmp1 = tmp0_this.g17_1;
    tmp0_this.g17_1 = tmp1.yl();
    return tmp1;
  };
  AtomicLong.prototype.atomicfu$getAndDecrement$long = function () {
    var tmp0_this = this;
    var tmp1 = tmp0_this.g17_1;
    tmp0_this.g17_1 = tmp1.zl();
    return tmp1;
  };
  AtomicLong.prototype.atomicfu$getAndAdd$long = function (delta) {
    var oldValue = this.g17_1;
    var tmp0_this = this;
    tmp0_this.g17_1 = tmp0_this.g17_1.ka(delta);
    return oldValue;
  };
  AtomicLong.prototype.atomicfu$addAndGet$long = function (delta) {
    var tmp0_this = this;
    tmp0_this.g17_1 = tmp0_this.g17_1.ka(delta);
    return this.g17_1;
  };
  AtomicLong.prototype.atomicfu$incrementAndGet$long = function () {
    var tmp0_this = this;
    tmp0_this.g17_1 = tmp0_this.g17_1.yl();
    return tmp0_this.g17_1;
  };
  AtomicLong.prototype.atomicfu$decrementAndGet$long = function () {
    var tmp0_this = this;
    tmp0_this.g17_1 = tmp0_this.g17_1.zl();
    return tmp0_this.g17_1;
  };
  AtomicLong.prototype.toString = function () {
    return this.g17_1.toString();
  };
  AtomicLong.$metadata$ = classMeta('AtomicLong');
  Object.defineProperty(AtomicLong.prototype, 'kotlinx$atomicfu$value', {
    configurable: true,
    get: AtomicLong.prototype.c17,
    set: AtomicLong.prototype.h17
  });
  function atomic$long$1(initial) {
    return atomic_2(initial, None_getInstance());
  }
  function atomic(initial, trace) {
    return new AtomicRef(initial);
  }
  function atomic_0(initial, trace) {
    return new AtomicBoolean(initial);
  }
  function atomic_1(initial, trace) {
    return new AtomicInt(initial);
  }
  function atomic_2(initial, trace) {
    return new AtomicLong(initial);
  }
  //region block: exports
  _.$_$ = _.$_$ || {};
  _.$_$.a = atomic$boolean$1;
  _.$_$.b = atomic$long$1;
  _.$_$.c = atomic$ref$1;
  _.$_$.d = atomic$int$1;
  //endregion
  return _;
}));



/***/ }),

/***/ "./kotlin/Infinner.js":
/*!****************************!*\
  !*** ./kotlin/Infinner.js ***!
  \****************************/
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
  if (true)
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(/*! ./kotlin-kotlin-stdlib-js-ir.js */ "./kotlin/kotlin-kotlin-stdlib-js-ir.js"), __webpack_require__(/*! ./kotlinx-serialization-kotlinx-serialization-json-js-ir.js */ "./kotlin/kotlinx-serialization-kotlinx-serialization-json-js-ir.js"), __webpack_require__(/*! ./kotlinx-serialization-kotlinx-serialization-core-js-ir.js */ "./kotlin/kotlinx-serialization-kotlinx-serialization-core-js-ir.js"), __webpack_require__(/*! ./kool-kool-core.js */ "./kotlin/kool-kool-core.js"), __webpack_require__(/*! ./MultiplatformSettings-multiplatform-settings-js-ir.js */ "./kotlin/MultiplatformSettings-multiplatform-settings-js-ir.js"), __webpack_require__(/*! ./kotlinx.coroutines-kotlinx-coroutines-core-js-ir.js */ "./kotlin/kotlinx.coroutines-kotlinx-coroutines-core-js-ir.js"), __webpack_require__(/*! ./MultiplatformSettings-multiplatform-settings-no-arg-js-ir.js */ "./kotlin/MultiplatformSettings-multiplatform-settings-no-arg-js-ir.js"), __webpack_require__(/*! ./kotlin_org_mifek_wfc_WFC_Kotlin.js */ "./kotlin/kotlin_org_mifek_wfc_WFC_Kotlin.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  else {}
}(this, function (_, kotlin_kotlin, kotlin_org_jetbrains_kotlinx_kotlinx_serialization_json, kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core, kotlin_de_fabmax_kool_kool_core, kotlin_com_russhwolf_multiplatform_settings, kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core, kotlin_com_russhwolf_multiplatform_settings_no_arg, kotlin_org_mifek_wfc_WFC_Kotlin) {
  'use strict';
  //region block: imports
  var imul = Math.imul;
  var CoroutineImpl = kotlin_kotlin.$_$.a8;
  var get_COROUTINE_SUSPENDED = kotlin_kotlin.$_$.l7;
  var Default_getInstance = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_json.$_$.a;
  var decodeToString = kotlin_kotlin.$_$.eb;
  var JsonObject = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_json.$_$.c;
  var getKClass = kotlin_kotlin.$_$.d;
  var arrayOf = kotlin_kotlin.$_$.bd;
  var createKType = kotlin_kotlin.$_$.a;
  var serializer = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.s1;
  var THROW_CCE = kotlin_kotlin.$_$.uc;
  var KSerializer = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.n1;
  var isInterface = kotlin_kotlin.$_$.h9;
  var ensureNotNull = kotlin_kotlin.$_$.ed;
  var JsonArray = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_json.$_$.b;
  var collectionSizeOrDefault = kotlin_kotlin.$_$.o4;
  var ArrayList_init_$Create$ = kotlin_kotlin.$_$.s;
  var get_jsonPrimitive = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_json.$_$.f;
  var get_int = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_json.$_$.e;
  var Unit_getInstance = kotlin_kotlin.$_$.k3;
  var classMeta = kotlin_kotlin.$_$.p8;
  var LinkedHashMap_init_$Create$ = kotlin_kotlin.$_$.c1;
  var THROW_ISE = kotlin_kotlin.$_$.vc;
  var Enum = kotlin_kotlin.$_$.jc;
  var removePrefix = kotlin_kotlin.$_$.nb;
  var _Char___init__impl__6a9atx = kotlin_kotlin.$_$.g2;
  var replace$default = kotlin_kotlin.$_$.o;
  var Vec2i = kotlin_de_fabmax_kool_kool_core.$_$.e;
  var IllegalStateException_init_$Create$ = kotlin_kotlin.$_$.s1;
  var objectMeta = kotlin_kotlin.$_$.r9;
  var UiSurface_init_$Create$ = kotlin_de_fabmax_kool_kool_core.$_$.z3;
  var contains = kotlin_kotlin.$_$.p4;
  var Ui2Scene$default = kotlin_de_fabmax_kool_kool_core.$_$.m3;
  var UniversalKeyCode_init_$Create$ = kotlin_de_fabmax_kool_kool_core.$_$.x3;
  var int$default = kotlin_com_russhwolf_multiplatform_settings.$_$.c;
  var float$default = kotlin_com_russhwolf_multiplatform_settings.$_$.b;
  var boolean$default = kotlin_com_russhwolf_multiplatform_settings.$_$.a;
  var mutableStateOf = kotlin_de_fabmax_kool_kool_core.$_$.w1;
  var MutableStateValue = kotlin_de_fabmax_kool_kool_core.$_$.p1;
  var Companion_getInstance = kotlin_de_fabmax_kool_kool_core.$_$.o4;
  var OrthographicCamera = kotlin_de_fabmax_kool_kool_core.$_$.r2;
  var ProjCorrectionMode_ONSCREEN_getInstance = kotlin_de_fabmax_kool_kool_core.$_$.k3;
  var AssertionError_init_$Create$ = kotlin_kotlin.$_$.k1;
  var toString = kotlin_kotlin.$_$.zb;
  var contentHashCode = kotlin_kotlin.$_$.u4;
  var Job$default = kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.d;
  var CoroutineScope = kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.j;
  var Settings = kotlin_com_russhwolf_multiplatform_settings_no_arg.$_$.a;
  var asIterable = kotlin_kotlin.$_$.h4;
  var Random = kotlin_kotlin.$_$.ca;
  var until = kotlin_kotlin.$_$.ia;
  var sum = kotlin_kotlin.$_$.w6;
  var println = kotlin_kotlin.$_$.f8;
  var to = kotlin_kotlin.$_$.rd;
  var toMap = kotlin_kotlin.$_$.e7;
  var checkIndexOverflow = kotlin_kotlin.$_$.n4;
  var listOf = kotlin_kotlin.$_$.z5;
  var interfaceMeta = kotlin_kotlin.$_$.y8;
  var KMutableProperty1 = kotlin_kotlin.$_$.la;
  var getPropertyCallableRef = kotlin_kotlin.$_$.u8;
  var TexFormat_RGBA_getInstance = kotlin_de_fabmax_kool_kool_core.$_$.g3;
  var AddressMode_CLAMP_TO_EDGE_getInstance = kotlin_de_fabmax_kool_kool_core.$_$.b3;
  var FilterMethod_NEAREST_getInstance = kotlin_de_fabmax_kool_kool_core.$_$.f3;
  var TextureProps = kotlin_de_fabmax_kool_kool_core.$_$.h2;
  var TexFormat_R_getInstance = kotlin_de_fabmax_kool_kool_core.$_$.h3;
  var PluginGeneratedSerialDescriptor = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.h1;
  var IntSerializer_getInstance = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.l;
  var UnknownFieldException_init_$Create$ = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.d;
  var typeParametersSerializers = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.e1;
  var GeneratedSerializer = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.f1;
  var throwMissingFieldException = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.k1;
  var Vec4i = kotlin_de_fabmax_kool_kool_core.$_$.g;
  var Comparator = kotlin_kotlin.$_$.gc;
  var compareValues = kotlin_kotlin.$_$.j7;
  var serializer_0 = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.r1;
  var toString_0 = kotlin_kotlin.$_$.qd;
  var sortedWith = kotlin_kotlin.$_$.u6;
  var mapCapacity = kotlin_kotlin.$_$.a6;
  var coerceAtLeast = kotlin_kotlin.$_$.da;
  var LinkedHashMap_init_$Create$_0 = kotlin_kotlin.$_$.b1;
  var copyToArray = kotlin_kotlin.$_$.e5;
  var throwUninitializedPropertyAccessException = kotlin_kotlin.$_$.pd;
  var JsonPrimitive = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_json.$_$.d;
  var padStart = kotlin_kotlin.$_$.lb;
  var ArrayList_init_$Create$_0 = kotlin_kotlin.$_$.t;
  var first = kotlin_kotlin.$_$.l5;
  var IntCompanionObject_getInstance = kotlin_kotlin.$_$.a3;
  var lazy = kotlin_kotlin.$_$.md;
  var Companion_getInstance_0 = kotlin_de_fabmax_kool_kool_core.$_$.e4;
  var MutableVec2i_init_$Create$ = kotlin_de_fabmax_kool_kool_core.$_$.t3;
  var MutableVec2i_init_$Create$_0 = kotlin_de_fabmax_kool_kool_core.$_$.s3;
  var KProperty1 = kotlin_kotlin.$_$.ma;
  var equals = kotlin_kotlin.$_$.r8;
  var CoroutineScope_0 = kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.k;
  var Long = kotlin_kotlin.$_$.oc;
  var delay = kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.a;
  var async$default = kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.e;
  var NoSuchElementException_init_$Create$ = kotlin_kotlin.$_$.z1;
  var sum_0 = kotlin_kotlin.$_$.y6;
  var LocalKeyCode_init_$Create$ = kotlin_de_fabmax_kool_kool_core.$_$.w3;
  var SuspendFunction1 = kotlin_kotlin.$_$.b8;
  var Default_getInstance_0 = kotlin_kotlin.$_$.d3;
  var generateSequence = kotlin_kotlin.$_$.wa;
  var abs = kotlin_kotlin.$_$.x9;
  var shuffled = kotlin_kotlin.$_$.r6;
  var randomI = kotlin_de_fabmax_kool_kool_core.$_$.h;
  var Char = kotlin_kotlin.$_$.fc;
  var _UInt___get_data__impl__f0vqqw = kotlin_kotlin.$_$.q2;
  var _UInt___init__impl__l7qpdl = kotlin_kotlin.$_$.p2;
  var uintCompare = kotlin_kotlin.$_$.sd;
  var toByte = kotlin_kotlin.$_$.s9;
  var joinToString$default = kotlin_kotlin.$_$.i;
  var joinToString$default_0 = kotlin_kotlin.$_$.h;
  var IntArray2D = kotlin_org_mifek_wfc_WFC_Kotlin.$_$.c;
  var fillArrayVal = kotlin_kotlin.$_$.s8;
  var toList = kotlin_kotlin.$_$.d7;
  var launch$default = kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.f;
  var Cartesian2DModelOptions_init_$Create$ = kotlin_org_mifek_wfc_WFC_Kotlin.$_$.a;
  var getStringHashCode = kotlin_kotlin.$_$.v8;
  var createUint8Buffer = kotlin_de_fabmax_kool_kool_core.$_$.v2;
  var charSequenceGet = kotlin_kotlin.$_$.m8;
  var charSequenceLength = kotlin_kotlin.$_$.n8;
  var TextureData2d = kotlin_de_fabmax_kool_kool_core.$_$.g2;
  var sequenceOf = kotlin_kotlin.$_$.ab;
  var asSequence = kotlin_kotlin.$_$.m4;
  var chunked = kotlin_kotlin.$_$.sa;
  var flatMap = kotlin_kotlin.$_$.va;
  var toString_1 = kotlin_kotlin.$_$.k2;
  var OverlappingCartesian2DModel_init_$Create$ = kotlin_org_mifek_wfc_WFC_Kotlin.$_$.b;
  var Monotonic_getInstance = kotlin_kotlin.$_$.g3;
  var ValueTimeMark__elapsedNow_impl_eonqvs = kotlin_kotlin.$_$.f2;
  var TimedValue = kotlin_kotlin.$_$.dc;
  var Duration = kotlin_kotlin.$_$.cc;
  var Pair = kotlin_kotlin.$_$.sc;
  var noWhenBranchMatchedException = kotlin_kotlin.$_$.nd;
  var toString_2 = kotlin_kotlin.$_$.v9;
  var filter = kotlin_kotlin.$_$.ua;
  var last = kotlin_kotlin.$_$.x5;
  var AssetManager = kotlin_de_fabmax_kool_kool_core.$_$.w2;
  var Scene = kotlin_de_fabmax_kool_kool_core.$_$.s2;
  var NotImplementedError = kotlin_kotlin.$_$.qc;
  var toggle = kotlin_de_fabmax_kool_kool_core.$_$.b2;
  var WrapContent_getInstance = kotlin_de_fabmax_kool_kool_core.$_$.l4;
  var Grow_init_$Create$ = kotlin_de_fabmax_kool_kool_core.$_$.y3;
  var width = kotlin_de_fabmax_kool_kool_core.$_$.c2;
  var height = kotlin_de_fabmax_kool_kool_core.$_$.u1;
  var margin$default = kotlin_de_fabmax_kool_kool_core.$_$.o3;
  var ColumnLayout_getInstance = kotlin_de_fabmax_kool_kool_core.$_$.g4;
  var layout = kotlin_de_fabmax_kool_kool_core.$_$.v1;
  var AlignmentX_End_getInstance = kotlin_de_fabmax_kool_kool_core.$_$.y2;
  var alignX = kotlin_de_fabmax_kool_kool_core.$_$.s1;
  var AlignmentY_Bottom_getInstance = kotlin_de_fabmax_kool_kool_core.$_$.z2;
  var alignY = kotlin_de_fabmax_kool_kool_core.$_$.t1;
  var RowLayout_getInstance = kotlin_de_fabmax_kool_kool_core.$_$.i4;
  var BoxNode = kotlin_de_fabmax_kool_kool_core.$_$.o1;
  var Companion_getInstance_1 = kotlin_de_fabmax_kool_kool_core.$_$.f4;
  var TextNode = kotlin_de_fabmax_kool_kool_core.$_$.r1;
  var Companion_getInstance_2 = kotlin_de_fabmax_kool_kool_core.$_$.k4;
  var text = kotlin_de_fabmax_kool_kool_core.$_$.z1;
  var AlignmentY_Center_getInstance = kotlin_de_fabmax_kool_kool_core.$_$.a3;
  var align$default = kotlin_de_fabmax_kool_kool_core.$_$.n3;
  var Companion_getInstance_3 = kotlin_de_fabmax_kool_kool_core.$_$.h4;
  var onClick = kotlin_de_fabmax_kool_kool_core.$_$.x1;
  var SwitchNode = kotlin_de_fabmax_kool_kool_core.$_$.q1;
  var Companion_getInstance_4 = kotlin_de_fabmax_kool_kool_core.$_$.j4;
  var toggleState = kotlin_de_fabmax_kool_kool_core.$_$.a2;
  var onToggle = kotlin_de_fabmax_kool_kool_core.$_$.y1;
  var RectProps = kotlin_de_fabmax_kool_kool_core.$_$.n2;
  var textureMesh$default = kotlin_de_fabmax_kool_kool_core.$_$.r3;
  var Texture2d_init_$Create$ = kotlin_de_fabmax_kool_kool_core.$_$.a4;
  var numberToInt = kotlin_kotlin.$_$.q9;
  var InterpolatedFloat = kotlin_de_fabmax_kool_kool_core.$_$.i2;
  var LinearAnimator = kotlin_de_fabmax_kool_kool_core.$_$.l2;
  var ConfigBuilder = kotlin_de_fabmax_kool_kool_core.$_$.d2;
  var Config = kotlin_de_fabmax_kool_kool_core.$_$.e2;
  var OffscreenRenderPass2d = kotlin_de_fabmax_kool_kool_core.$_$.f2;
  var ProjCorrectionMode_OFFSCREEN_getInstance = kotlin_de_fabmax_kool_kool_core.$_$.j3;
  var Color = kotlin_de_fabmax_kool_kool_core.$_$.u2;
  var group$default = kotlin_de_fabmax_kool_kool_core.$_$.q3;
  var SuspendFunction2 = kotlin_kotlin.$_$.c8;
  var hashCode = kotlin_kotlin.$_$.w8;
  var getNumberHashCode = kotlin_kotlin.$_$.t8;
  var padEnd = kotlin_kotlin.$_$.kb;
  var mvpMatrix = kotlin_de_fabmax_kool_kool_core.$_$.j;
  var Companion_getInstance_5 = kotlin_de_fabmax_kool_kool_core.$_$.m4;
  var times = kotlin_de_fabmax_kool_kool_core.$_$.e1;
  var fragmentColorBlock$default = kotlin_de_fabmax_kool_kool_core.$_$.l3;
  var float4Port = kotlin_de_fabmax_kool_kool_core.$_$.r;
  var get_rgb = kotlin_de_fabmax_kool_kool_core.$_$.z;
  var convertColorSpace = kotlin_de_fabmax_kool_kool_core.$_$.i;
  var get_a = kotlin_de_fabmax_kool_kool_core.$_$.l;
  var times_0 = kotlin_de_fabmax_kool_kool_core.$_$.c1;
  var BlendMode_BLEND_PREMULTIPLIED_ALPHA_getInstance = kotlin_de_fabmax_kool_kool_core.$_$.c3;
  var toFloat2 = kotlin_de_fabmax_kool_kool_core.$_$.g1;
  var minus = kotlin_de_fabmax_kool_kool_core.$_$.w;
  var times_1 = kotlin_de_fabmax_kool_kool_core.$_$.b1;
  var div = kotlin_de_fabmax_kool_kool_core.$_$.n;
  var div_0 = kotlin_de_fabmax_kool_kool_core.$_$.o;
  var ge = kotlin_de_fabmax_kool_kool_core.$_$.t;
  var Config_0 = kotlin_de_fabmax_kool_kool_core.$_$.m1;
  var KslProgram = kotlin_de_fabmax_kool_kool_core.$_$.k;
  var KslUnlitShader = kotlin_de_fabmax_kool_kool_core.$_$.n1;
  var div_1 = kotlin_de_fabmax_kool_kool_core.$_$.p;
  var toInt2 = kotlin_de_fabmax_kool_kool_core.$_$.i1;
  var toFloat1 = kotlin_de_fabmax_kool_kool_core.$_$.f1;
  var get_x = kotlin_de_fabmax_kool_kool_core.$_$.j1;
  var toInt1 = kotlin_de_fabmax_kool_kool_core.$_$.h1;
  var times_2 = kotlin_de_fabmax_kool_kool_core.$_$.d1;
  var minus_0 = kotlin_de_fabmax_kool_kool_core.$_$.v;
  var plus = kotlin_de_fabmax_kool_kool_core.$_$.x;
  var get = kotlin_de_fabmax_kool_kool_core.$_$.s;
  var get_r = kotlin_de_fabmax_kool_kool_core.$_$.y;
  var and = kotlin_de_fabmax_kool_kool_core.$_$.m;
  var shr = kotlin_de_fabmax_kool_kool_core.$_$.a1;
  var gt = kotlin_de_fabmax_kool_kool_core.$_$.u;
  var KslShader = kotlin_de_fabmax_kool_kool_core.$_$.l1;
  var PipelineConfig = kotlin_de_fabmax_kool_kool_core.$_$.k1;
  var CullMethod_NO_CULLING_getInstance = kotlin_de_fabmax_kool_kool_core.$_$.d3;
  var DepthCompareOp_DISABLED_getInstance = kotlin_de_fabmax_kool_kool_core.$_$.e3;
  var removeLastOrNull = kotlin_kotlin.$_$.k6;
  var lastOrNull = kotlin_kotlin.$_$.w5;
  var Collection = kotlin_kotlin.$_$.m3;
  var sortWith = kotlin_kotlin.$_$.t6;
  var reversed = kotlin_kotlin.$_$.o6;
  var isObject = kotlin_kotlin.$_$.j9;
  var ReadWriteProperty = kotlin_kotlin.$_$.ba;
  var NullPointerException_init_$Create$ = kotlin_kotlin.$_$.a2;
  var Vec3f = kotlin_de_fabmax_kool_kool_core.$_$.f;
  var InterpolatedValue = kotlin_de_fabmax_kool_kool_core.$_$.j2;
  var BoundingBox = kotlin_de_fabmax_kool_kool_core.$_$.a;
  var MutableVec3f_init_$Create$ = kotlin_de_fabmax_kool_kool_core.$_$.u3;
  var Node = kotlin_de_fabmax_kool_kool_core.$_$.q2;
  var InverseSquareAnimator = kotlin_de_fabmax_kool_kool_core.$_$.k2;
  var Companion_getInstance_6 = kotlin_de_fabmax_kool_kool_core.$_$.n4;
  var Node_init_$Init$ = kotlin_de_fabmax_kool_kool_core.$_$.d4;
  var Texture2d_init_$Create$_0 = kotlin_de_fabmax_kool_kool_core.$_$.b4;
  var Vec2f = kotlin_de_fabmax_kool_kool_core.$_$.d;
  var MutableVec2f = kotlin_de_fabmax_kool_kool_core.$_$.b;
  var Group = kotlin_de_fabmax_kool_kool_core.$_$.o2;
  var Group_init_$Init$ = kotlin_de_fabmax_kool_kool_core.$_$.c4;
  var IndexedVertexList = kotlin_de_fabmax_kool_kool_core.$_$.m2;
  var Mesh = kotlin_de_fabmax_kool_kool_core.$_$.p2;
  var float3 = kotlin_de_fabmax_kool_kool_core.$_$.q;
  var LoadingState_LOADED_getInstance = kotlin_de_fabmax_kool_kool_core.$_$.i3;
  var MutableVec2i = kotlin_de_fabmax_kool_kool_core.$_$.c;
  var KslUnlitShader_init_$Create$ = kotlin_de_fabmax_kool_kool_core.$_$.v3;
  var colorMesh$default = kotlin_de_fabmax_kool_kool_core.$_$.p3;
  var Char__plus_impl_qi7pgj = kotlin_kotlin.$_$.i2;
  var Char__minus_impl_a2frrh = kotlin_kotlin.$_$.h2;
  var group = kotlin_de_fabmax_kool_kool_core.$_$.t2;
  var createDefaultContext = kotlin_de_fabmax_kool_kool_core.$_$.x2;
  //endregion
  //region block: pre-declaration
  $loadAnimationsCOROUTINE$0.prototype = Object.create(CoroutineImpl.prototype);
  $loadAnimationsCOROUTINE$0.prototype.constructor = $loadAnimationsCOROUTINE$0;
  GameSpeed.prototype = Object.create(Enum.prototype);
  GameSpeed.prototype.constructor = GameSpeed;
  MainMenuState.prototype = Object.create(State.prototype);
  MainMenuState.prototype.constructor = MainMenuState;
  RunGameState.prototype = Object.create(State.prototype);
  RunGameState.prototype.constructor = RunGameState;
  Exit.prototype = Object.create(State.prototype);
  Exit.prototype.constructor = Exit;
  AppActions.prototype = Object.create(Enum.prototype);
  AppActions.prototype.constructor = AppActions;
  TileSet.prototype = Object.create(Enum.prototype);
  TileSet.prototype.constructor = TileSet;
  $loadCOROUTINE$1.prototype = Object.create(CoroutineImpl.prototype);
  $loadCOROUTINE$1.prototype.constructor = $loadCOROUTINE$1;
  LevelSet.prototype = Object.create(Enum.prototype);
  LevelSet.prototype.constructor = LevelSet;
  $loadCOROUTINE$2.prototype = Object.create(CoroutineImpl.prototype);
  $loadCOROUTINE$2.prototype.constructor = $loadCOROUTINE$2;
  $loadSoundsCOROUTINE$3.prototype = Object.create(CoroutineImpl.prototype);
  $loadSoundsCOROUTINE$3.prototype.constructor = $loadSoundsCOROUTINE$3;
  Action_0.prototype = Object.create(Enum.prototype);
  Action_0.prototype.constructor = Action_0;
  ActorSequence.prototype = Object.create(Enum.prototype);
  ActorSequence.prototype.constructor = ActorSequence;
  ActorState.prototype = Object.create(StackedState.prototype);
  ActorState.prototype.constructor = ActorState;
  ControllableState.prototype = Object.create(ActorState.prototype);
  ControllableState.prototype.constructor = ControllableState;
  MovementState.prototype = Object.create(ControllableState.prototype);
  MovementState.prototype.constructor = MovementState;
  MoveLeft.prototype = Object.create(MovementState.prototype);
  MoveLeft.prototype.constructor = MoveLeft;
  BarLeft.prototype = Object.create(MoveLeft.prototype);
  BarLeft.prototype.constructor = BarLeft;
  RunLeft.prototype = Object.create(MoveLeft.prototype);
  RunLeft.prototype.constructor = RunLeft;
  StopState.prototype = Object.create(ControllableState.prototype);
  StopState.prototype.constructor = StopState;
  FallState.prototype = Object.create(ActorState.prototype);
  FallState.prototype.constructor = FallState;
  MoveRight.prototype = Object.create(MovementState.prototype);
  MoveRight.prototype.constructor = MoveRight;
  RunRight.prototype = Object.create(MoveRight.prototype);
  RunRight.prototype.constructor = RunRight;
  BarRight.prototype = Object.create(MoveRight.prototype);
  BarRight.prototype.constructor = BarRight;
  RunDown.prototype = Object.create(MovementState.prototype);
  RunDown.prototype.constructor = RunDown;
  MoveUp.prototype = Object.create(MovementState.prototype);
  MoveUp.prototype.constructor = MoveUp;
  RunUp.prototype = Object.create(MoveUp.prototype);
  RunUp.prototype.constructor = RunUp;
  GameState.prototype = Object.create(Enum.prototype);
  GameState.prototype.constructor = GameState;
  Sound.prototype = Object.create(Enum.prototype);
  Sound.prototype.constructor = Sound;
  Game$slambda.prototype = Object.create(CoroutineImpl.prototype);
  Game$slambda.prototype.constructor = Game$slambda;
  InHole.prototype = Object.create(ActorState.prototype);
  InHole.prototype.constructor = InHole;
  Shake.prototype = Object.create(ActorState.prototype);
  Shake.prototype.constructor = Shake;
  Guard.prototype = Object.create(Actor.prototype);
  Guard.prototype.constructor = Guard;
  TileLogicType.prototype = Object.create(Enum.prototype);
  TileLogicType.prototype.constructor = TileLogicType;
  Tile.prototype = Object.create(Enum.prototype);
  Tile.prototype.constructor = Tile;
  Status.prototype = Object.create(Enum.prototype);
  Status.prototype.constructor = Status;
  NeighborhoodNeumann2d.prototype = Object.create(NeighbourhoodTopology.prototype);
  NeighborhoodNeumann2d.prototype.constructor = NeighborhoodNeumann2d;
  generateGameLevel$slambda.prototype = Object.create(CoroutineImpl.prototype);
  generateGameLevel$slambda.prototype.constructor = generateGameLevel$slambda;
  DigState.prototype = Object.create(ActorState.prototype);
  DigState.prototype.constructor = DigState;
  DigLeft.prototype = Object.create(DigState.prototype);
  DigLeft.prototype.constructor = DigLeft;
  DigRight.prototype = Object.create(DigState.prototype);
  DigRight.prototype.constructor = DigRight;
  Runner.prototype = Object.create(Actor.prototype);
  Runner.prototype.constructor = Runner;
  State_0.prototype = Object.create(Enum.prototype);
  State_0.prototype.constructor = State_0;
  AsyncScene$checkState$slambda.prototype = Object.create(CoroutineImpl.prototype);
  AsyncScene$checkState$slambda.prototype.constructor = AsyncScene$checkState$slambda;
  AsyncScene.prototype = Object.create(Scene.prototype);
  AsyncScene.prototype.constructor = AsyncScene;
  $loadResourcesCOROUTINE$4.prototype = Object.create(CoroutineImpl.prototype);
  $loadResourcesCOROUTINE$4.prototype.constructor = $loadResourcesCOROUTINE$4;
  GameScene.prototype = Object.create(AsyncScene.prototype);
  GameScene.prototype.constructor = GameScene;
  GameLevelScene.prototype = Object.create(GameScene.prototype);
  GameLevelScene.prototype.constructor = GameLevelScene;
  GameScene$lambda$slambda.prototype = Object.create(CoroutineImpl.prototype);
  GameScene$lambda$slambda.prototype.constructor = GameScene$lambda$slambda;
  GameScene$bg$delegate$lambda$slambda.prototype = Object.create(CoroutineImpl.prototype);
  GameScene$bg$delegate$lambda$slambda.prototype.constructor = GameScene$bg$delegate$lambda$slambda;
  $reloadCOROUTINE$6.prototype = Object.create(CoroutineImpl.prototype);
  $reloadCOROUTINE$6.prototype.constructor = $reloadCOROUTINE$6;
  $loadResourcesCOROUTINE$7.prototype = Object.create(CoroutineImpl.prototype);
  $loadResourcesCOROUTINE$7.prototype.constructor = $loadResourcesCOROUTINE$7;
  GameUI.prototype = Object.create(AsyncScene.prototype);
  GameUI.prototype.constructor = GameUI;
  LabeledMenuCommand.prototype = Object.create(MenuCommand.prototype);
  LabeledMenuCommand.prototype.constructor = LabeledMenuCommand;
  MainMenuScene$_get_reloadLevels_$slambda_m0t77b.prototype = Object.create(CoroutineImpl.prototype);
  MainMenuScene$_get_reloadLevels_$slambda_m0t77b.prototype.constructor = MainMenuScene$_get_reloadLevels_$slambda_m0t77b;
  MainMenuScene.prototype = Object.create(GameScene.prototype);
  MainMenuScene.prototype.constructor = MainMenuScene;
  MaskModel.prototype = Object.create(KslProgram.prototype);
  MaskModel.prototype.constructor = MaskModel;
  MaskShader.prototype = Object.create(KslUnlitShader.prototype);
  MaskShader.prototype.constructor = MaskShader;
  Program.prototype = Object.create(KslProgram.prototype);
  Program.prototype.constructor = Program;
  TileMapShader.prototype = Object.create(KslShader.prototype);
  TileMapShader.prototype.constructor = TileMapShader;
  Sprite.prototype = Object.create(Group.prototype);
  Sprite.prototype.constructor = Sprite;
  ActorView.prototype = Object.create(Sprite.prototype);
  ActorView.prototype.constructor = ActorView;
  InterpolatedVec3f.prototype = Object.create(InterpolatedValue.prototype);
  InterpolatedVec3f.prototype.constructor = InterpolatedVec3f;
  CameraController.prototype = Object.create(Node.prototype);
  CameraController.prototype.constructor = CameraController;
  GameControls.prototype = Object.create(Node.prototype);
  GameControls.prototype.constructor = GameControls;
  GameAction.prototype = Object.create(Enum.prototype);
  GameAction.prototype.constructor = GameAction;
  LevelView.prototype = Object.create(Group.prototype);
  LevelView.prototype.constructor = LevelView;
  RunnerAction.prototype = Object.create(Enum.prototype);
  RunnerAction.prototype.constructor = RunnerAction;
  RunnerController.prototype = Object.create(Node.prototype);
  RunnerController.prototype.constructor = RunnerController;
  Model.prototype = Object.create(KslProgram.prototype);
  Model.prototype.constructor = Model;
  SpriteShader.prototype = Object.create(KslShader.prototype);
  SpriteShader.prototype.constructor = SpriteShader;
  StatusView.prototype = Object.create(Group.prototype);
  StatusView.prototype.constructor = StatusView;
  TextView.prototype = Object.create(Group.prototype);
  TextView.prototype.constructor = TextView;
  //endregion
  function $loadAnimationsCOROUTINE$0(_this__u8e3s4, ctx, resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
    this.x69_1 = _this__u8e3s4;
    this.y69_1 = ctx;
  }
  $loadAnimationsCOROUTINE$0.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 2;
            this.k7_1 = 1;
            suspendResult = this.y69_1.j2a().g1x('anims/' + this.x69_1.z69_1 + '.json', this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            var tmp0_safe_receiver = suspendResult;
            if (tmp0_safe_receiver == null)
              null;
            else {
              var tmp0_decodeFromString = Default_getInstance();
              var tmp1_decodeFromString = decodeToString(tmp0_safe_receiver.e6());
              var tmp1_serializer = tmp0_decodeFromString.yn();
              var tmp0_cast = serializer(tmp1_serializer, createKType(getKClass(JsonObject), arrayOf([]), false));
              var root = tmp0_decodeFromString.xn(isInterface(tmp0_cast, KSerializer) ? tmp0_cast : THROW_CCE(), tmp1_decodeFromString);
              var tmp_0 = root.p10('sequence');
              var frames = tmp_0 instanceof JsonObject ? tmp_0 : THROW_CCE();
              var tmp2_forEach = frames.a3();
              var tmp0_iterator = tmp2_forEach.h();
              while (tmp0_iterator.n()) {
                var element = tmp0_iterator.o();
                var tmp1_set = this.x69_1.a6a_1;
                var tmp_1 = ensureNotNull(frames.p10(element));
                var tmp0_map = tmp_1 instanceof JsonArray ? tmp_1 : THROW_CCE();
                var tmp0_mapTo = ArrayList_init_$Create$(collectionSizeOrDefault(tmp0_map, 10));
                var tmp0_iterator_0 = tmp0_map.h();
                while (tmp0_iterator_0.n()) {
                  var item = tmp0_iterator_0.o();
                  tmp0_mapTo.b(get_int(get_jsonPrimitive(item)));
                }
                var tmp2_set = tmp0_mapTo;
                tmp1_set.a(element, tmp2_set);
              }
            }

            ;
            return Unit_getInstance();
          case 2:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 2) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  $loadAnimationsCOROUTINE$0.$metadata$ = classMeta('$loadAnimationsCOROUTINE$0', undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function AnimationFrames(asset) {
    this.z69_1 = asset;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.a6a_1 = tmp$ret$0;
  }
  AnimationFrames.prototype.b6a = function (ctx, $cont) {
    var tmp = new $loadAnimationsCOROUTINE$0(this, ctx, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  AnimationFrames.$metadata$ = classMeta('AnimationFrames');
  function get_simpleTextureProps() {
    init_properties_App_kt_kz6q5v();
    return simpleTextureProps;
  }
  var simpleTextureProps;
  function get_simpleValueTextureProps() {
    init_properties_App_kt_kz6q5v();
    return simpleValueTextureProps;
  }
  var simpleValueTextureProps;
  var GameSpeed_SPEED_VERY_SLOW_instance;
  var GameSpeed_SPEED_SLOW_instance;
  var GameSpeed_SPEED_NORMAL_instance;
  var GameSpeed_SPEED_FAST_instance;
  var GameSpeed_SPEED_VERY_FAST_instance;
  function values() {
    return [GameSpeed_SPEED_VERY_SLOW_getInstance(), GameSpeed_SPEED_SLOW_getInstance(), GameSpeed_SPEED_NORMAL_getInstance(), GameSpeed_SPEED_FAST_getInstance(), GameSpeed_SPEED_VERY_FAST_getInstance()];
  }
  function valueOf(value) {
    switch (value) {
      case 'SPEED_VERY_SLOW':
        return GameSpeed_SPEED_VERY_SLOW_getInstance();
      case 'SPEED_SLOW':
        return GameSpeed_SPEED_SLOW_getInstance();
      case 'SPEED_NORMAL':
        return GameSpeed_SPEED_NORMAL_getInstance();
      case 'SPEED_FAST':
        return GameSpeed_SPEED_FAST_getInstance();
      case 'SPEED_VERY_FAST':
        return GameSpeed_SPEED_VERY_FAST_getInstance();
      default:
        GameSpeed_initEntries();
        THROW_ISE();
        break;
    }
  }
  var GameSpeed_entriesInitialized;
  function GameSpeed_initEntries() {
    if (GameSpeed_entriesInitialized)
      return Unit_getInstance();
    GameSpeed_entriesInitialized = true;
    GameSpeed_SPEED_VERY_SLOW_instance = new GameSpeed('SPEED_VERY_SLOW', 0, 14);
    GameSpeed_SPEED_SLOW_instance = new GameSpeed('SPEED_SLOW', 1, 18);
    GameSpeed_SPEED_NORMAL_instance = new GameSpeed('SPEED_NORMAL', 2, 23);
    GameSpeed_SPEED_FAST_instance = new GameSpeed('SPEED_FAST', 3, 29);
    GameSpeed_SPEED_VERY_FAST_instance = new GameSpeed('SPEED_VERY_FAST', 4, 35);
  }
  function GameSpeed(name, ordinal, fps) {
    Enum.call(this, name, ordinal);
    this.e6a_1 = fps;
  }
  GameSpeed.prototype.f6a = function () {
    return 1000 / this.e6a_1 | 0;
  };
  GameSpeed.prototype.g6a = function () {
    var tmp$ret$1;
    {
      var tmp0_lowercase = removePrefix(this.il(), 'SPEED_');
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_lowercase;
      }
      tmp$ret$1 = tmp$ret$0.toLowerCase();
    }
    var tmp = tmp$ret$1;
    var tmp_0 = _Char___init__impl__6a9atx(95);
    var tmp_1 = _Char___init__impl__6a9atx(32);
    return replace$default(tmp, tmp_0, tmp_1, false, 4, null);
  };
  GameSpeed.$metadata$ = classMeta('GameSpeed', undefined, undefined, undefined, undefined, Enum.prototype);
  function ViewSpec_init_$Init$(tileSize, visibleSize, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0))
      tileSize = new Vec2i(20, 22);
    if (!(($mask0 & 2) === 0))
      visibleSize = new Vec2i(28, 18);
    ViewSpec.call($this, tileSize, visibleSize);
    return $this;
  }
  function ViewSpec_init_$Create$(tileSize, visibleSize, $mask0, $marker) {
    return ViewSpec_init_$Init$(tileSize, visibleSize, $mask0, $marker, Object.create(ViewSpec.prototype));
  }
  function ViewSpec(tileSize, visibleSize) {
    this.h6a_1 = tileSize;
    this.i6a_1 = visibleSize;
  }
  ViewSpec.prototype.j6a = function () {
    return this.h6a_1;
  };
  ViewSpec.prototype.k6a = function () {
    return imul(this.i6a_1.z1z(), this.h6a_1.z1z());
  };
  ViewSpec.prototype.l6a = function () {
    return imul(this.i6a_1.b20(), this.h6a_1.b20());
  };
  ViewSpec.$metadata$ = classMeta('ViewSpec');
  function get_backgroundImageFile() {
    return backgroundImageFile;
  }
  var backgroundImageFile;
  function State() {
  }
  State.prototype.m6a = function (obj) {
  };
  State.prototype.n6a = function (obj) {
  };
  State.$metadata$ = classMeta('State');
  function MainMenuState$exitState$lambda($tmp0_safe_receiver, $app) {
    return function (it) {
      $tmp0_safe_receiver.t4g($app.p6a_1);
      return Unit_getInstance();
    };
  }
  function MainMenuState$exitState$lambda_0($tmp1_safe_receiver, $app) {
    return function (it) {
      $tmp1_safe_receiver.t4g($app.p6a_1);
      return Unit_getInstance();
    };
  }
  function MainMenuState() {
    MainMenuState_instance = this;
    State.call(this);
    this.x6a_1 = false;
    this.y6a_1 = false;
    this.z6a_1 = false;
    this.a6b_1 = null;
    this.b6b_1 = null;
  }
  MainMenuState.prototype.c6b = function () {
    var tmp = this.a6b_1;
    var tmp0_safe_receiver = tmp instanceof MainMenuScene ? tmp : null;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.m6d_1;
    var tmp_0;
    if (tmp1_elvis_lhs == null) {
      throw IllegalStateException_init_$Create$();
    } else {
      tmp_0 = tmp1_elvis_lhs;
    }
    return tmp_0;
  };
  MainMenuState.prototype.z6d = function (app) {
    State.prototype.m6a.call(this, app);
    var game = new Game(app.u6a_1);
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_also = new MainMenuScene(app.u6a_1, game, app.p6a_1.j2a());
      {
      }
      {
        var tmp0_this = app.p6a_1;
        {
          var tmp0_plusAssign = tmp0_this.u28_1;
          tmp0_plusAssign.b(tmp0_also);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    tmp.a6b_1 = tmp$ret$0;
    var tmp0_safe_receiver = this.b6b_1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$1;
      {
        {
        }
        var tmp0_this_0 = app.p6a_1;
        var tmp0_plusAssign_0 = tmp0_this_0.u28_1;
        tmp0_plusAssign_0.b(tmp0_safe_receiver);
        tmp$ret$1 = Unit_getInstance();
      }
    }
    game.u4j();
  };
  MainMenuState.prototype.m6a = function (obj) {
    return this.z6d(obj instanceof App ? obj : THROW_CCE());
  };
  MainMenuState.prototype.p6e = function (app) {
    State.prototype.n6a.call(this, app);
    var tmp0_safe_receiver = this.b6b_1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        var tmp0_this = app.p6a_1;
        {
          var tmp0_minusAssign = tmp0_this.u28_1;
          tmp0_minusAssign.c4(tmp0_safe_receiver);
        }
        tmp$ret$0 = app.p6a_1.b2c(1, MainMenuState$exitState$lambda(tmp0_safe_receiver, app));
      }
    }
    this.b6b_1 = null;
    var tmp1_safe_receiver = this.a6b_1;
    if (tmp1_safe_receiver == null)
      null;
    else {
      var tmp$ret$1;
      {
        {
        }
        var tmp0_this_0 = app.p6a_1;
        {
          var tmp0_minusAssign_0 = tmp0_this_0.u28_1;
          tmp0_minusAssign_0.c4(tmp1_safe_receiver);
        }
        tmp$ret$1 = app.p6a_1.b2c(1, MainMenuState$exitState$lambda_0(tmp1_safe_receiver, app));
      }
    }
    this.a6b_1 = null;
  };
  MainMenuState.prototype.n6a = function (obj) {
    return this.p6e(obj instanceof App ? obj : THROW_CCE());
  };
  MainMenuState.prototype.q6e = function (obj) {
    if (this.y6a_1 ? true : this.x6a_1) {
      if (this.y6a_1) {
        var tmp$ret$0;
        {
          var tmp0_with = obj.u6a_1;
          {
          }
          tmp0_with.v6e_1.m1e(MainMenuState_getInstance().c6b().b6f_1.e3o_1);
          tmp0_with.u6e_1.m1e(MainMenuState_getInstance().c6b().a6f_1.e3o_1);
          tmp0_with.z6e_1.m1e(get_START_HEALTH());
          tmp$ret$0 = tmp0_with.s6e_1.m1e(0);
        }
      }
      this.y6a_1 = false;
      this.x6a_1 = false;
      return RunGameState_getInstance();
    }
    if (this.z6a_1) {
      this.z6a_1 = false;
      return Exit_getInstance();
    }
    return null;
  };
  MainMenuState.prototype.o6a = function (obj) {
    return this.q6e(obj instanceof App ? obj : THROW_CCE());
  };
  MainMenuState.$metadata$ = objectMeta('MainMenuState', undefined, undefined, undefined, undefined, State.prototype);
  var MainMenuState_instance;
  function MainMenuState_getInstance() {
    if (MainMenuState_instance == null)
      new MainMenuState();
    return MainMenuState_instance;
  }
  function RunGameState$enterState$lambda$lambda() {
    return function ($this$$receiver) {
      var tmp0_safe_receiver = RunGameState_getInstance().c6f_1;
      if (tmp0_safe_receiver == null)
        null;
      else
        tmp0_safe_receiver.s6h($this$$receiver);
      return Unit_getInstance();
    };
  }
  function RunGameState$enterState$lambda() {
    return function ($this$Ui2Scene) {
      $this$Ui2Scene.v4j(UiSurface_init_$Create$(null, null, null, RunGameState$enterState$lambda$lambda(), 7, null));
      return Unit_getInstance();
    };
  }
  function RunGameState$enterState$lambda_0($app) {
    return function (it) {
      var tmp;
      if (RunGameState_getInstance().e6f_1 == null) {
        tmp = Unit_getInstance();
      } else if (it.g23()) {
        var tmp_0;
        if (contains($app.p6a_1.u28_1, RunGameState_getInstance().e6f_1)) {
          var tmp0_this = $app.p6a_1;
          var tmp0_minusAssign = tmp0_this.u28_1;
          var tmp1_minusAssign = ensureNotNull(RunGameState_getInstance().e6f_1);
          tmp0_minusAssign.c4(tmp1_minusAssign);
          tmp_0 = Unit_getInstance();
        } else {
          var tmp1_this = $app.p6a_1;
          var tmp2_plusAssign = tmp1_this.u28_1;
          var tmp3_plusAssign = ensureNotNull(RunGameState_getInstance().e6f_1);
          tmp2_plusAssign.b(tmp3_plusAssign);
          tmp_0 = Unit_getInstance();
        }
        tmp = tmp_0;
      }
      return Unit_getInstance();
    };
  }
  function RunGameState$exitState$lambda($tmp1_safe_receiver, $tmp0_with) {
    return function (it) {
      $tmp1_safe_receiver.t4g($tmp0_with);
      return Unit_getInstance();
    };
  }
  function RunGameState$exitState$lambda_0($tmp2_safe_receiver, $tmp0_with) {
    return function (it) {
      $tmp2_safe_receiver.t4g($tmp0_with);
      return Unit_getInstance();
    };
  }
  function RunGameState$exitState$lambda_1($tmp3_safe_receiver, $tmp0_with) {
    return function (it) {
      $tmp3_safe_receiver.t4g($tmp0_with);
      return Unit_getInstance();
    };
  }
  function RunGameState() {
    RunGameState_instance = this;
    State.call(this);
    this.c6f_1 = null;
    this.d6f_1 = null;
    this.e6f_1 = null;
    this.f6f_1 = null;
  }
  RunGameState.prototype.z6d = function (app) {
    State.prototype.m6a.call(this, app);
    var game = new Game(app.u6a_1);
    var conf = ViewSpec_init_$Create$(null, null, 3, null);
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_apply = GameLevelScene_init_$Create$(game, app.p6a_1, null, app.u6a_1, 'level', 4, null);
      {
      }
      {
        tmp0_apply.v4j(new GameControls(game, app.p6a_1.k2a()));
      }
      tmp$ret$0 = tmp0_apply;
    }
    tmp.c6f_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp_1 = app.p6a_1.j2a();
    tmp_0.d6f_1 = GameUI_init_$Create$(game, tmp_1, app.u6a_1, null, 8, null);
    var tmp0_this = app.p6a_1;
    {
      var tmp1_plusAssign = tmp0_this.u28_1;
      var tmp2_plusAssign = ensureNotNull(this.c6f_1);
      tmp1_plusAssign.b(tmp2_plusAssign);
    }
    var tmp1_this = app.p6a_1;
    {
      var tmp3_plusAssign = tmp1_this.u28_1;
      var tmp4_plusAssign = ensureNotNull(this.d6f_1);
      tmp3_plusAssign.b(tmp4_plusAssign);
    }
    var tmp_2 = this;
    tmp_2.e6f_1 = Ui2Scene$default(null, false, RunGameState$enterState$lambda(), 3, null);
    var tmp_3 = this;
    var tmp_4 = app.p6a_1.k2a();
    var tmp_5 = UniversalKeyCode_init_$Create$(_Char___init__impl__6a9atx(100));
    tmp_3.f6f_1 = tmp_4.q27(tmp_5, 'toggle debug', null, RunGameState$enterState$lambda_0(app), 4, null);
  };
  RunGameState.prototype.m6a = function (obj) {
    return this.z6d(obj instanceof App ? obj : THROW_CCE());
  };
  RunGameState.prototype.p6e = function (app) {
    State.prototype.n6a.call(this, app);
    var tmp$ret$4;
    {
      var tmp0_with = app.p6a_1;
      {
      }
      var tmp0_safe_receiver = RunGameState_getInstance().f6f_1;
      if (tmp0_safe_receiver == null)
        null;
      else {
        var tmp$ret$0;
        {
          {
          }
          tmp$ret$0 = tmp0_with.k2a().r27(tmp0_safe_receiver);
        }
      }
      var tmp1_safe_receiver = RunGameState_getInstance().c6f_1;
      if (tmp1_safe_receiver == null)
        null;
      else {
        var tmp$ret$1;
        {
          {
          }
          var tmp0_this = tmp0_with;
          {
            var tmp0_minusAssign = tmp0_this.u28_1;
            tmp0_minusAssign.c4(tmp1_safe_receiver);
          }
          tmp$ret$1 = tmp0_with.b2c(1, RunGameState$exitState$lambda(tmp1_safe_receiver, tmp0_with));
        }
      }
      RunGameState_getInstance().c6f_1 = null;
      var tmp2_safe_receiver = RunGameState_getInstance().d6f_1;
      if (tmp2_safe_receiver == null)
        null;
      else {
        var tmp$ret$2;
        {
          {
          }
          var tmp0_this_0 = tmp0_with;
          {
            var tmp0_minusAssign_0 = tmp0_this_0.u28_1;
            tmp0_minusAssign_0.c4(tmp2_safe_receiver);
          }
          tmp$ret$2 = tmp0_with.b2c(1, RunGameState$exitState$lambda_0(tmp2_safe_receiver, tmp0_with));
        }
      }
      RunGameState_getInstance().d6f_1 = null;
      var tmp3_safe_receiver = RunGameState_getInstance().e6f_1;
      if (tmp3_safe_receiver == null)
        null;
      else {
        var tmp$ret$3;
        {
          {
          }
          var tmp0_this_1 = app.p6a_1;
          {
            var tmp0_minusAssign_1 = tmp0_this_1.u28_1;
            tmp0_minusAssign_1.c4(tmp3_safe_receiver);
          }
          tmp$ret$3 = tmp0_with.b2c(1, RunGameState$exitState$lambda_1(tmp3_safe_receiver, tmp0_with));
        }
      }
      RunGameState_getInstance().e6f_1 = null;
      tmp$ret$4 = Unit_getInstance();
    }
  };
  RunGameState.prototype.n6a = function (obj) {
    return this.p6e(obj instanceof App ? obj : THROW_CCE());
  };
  RunGameState.prototype.q6e = function (app) {
    return null;
  };
  RunGameState.prototype.o6a = function (obj) {
    return this.q6e(obj instanceof App ? obj : THROW_CCE());
  };
  RunGameState.$metadata$ = objectMeta('RunGameState', undefined, undefined, undefined, undefined, State.prototype);
  var RunGameState_instance;
  function RunGameState_getInstance() {
    if (RunGameState_instance == null)
      new RunGameState();
    return RunGameState_instance;
  }
  function Exit() {
    Exit_instance = this;
    State.call(this);
  }
  Exit.prototype.z6d = function (obj) {
    return obj.p6a_1.y2b();
  };
  Exit.prototype.m6a = function (obj) {
    return this.z6d(obj instanceof App ? obj : THROW_CCE());
  };
  Exit.prototype.q6e = function (obj) {
    return null;
  };
  Exit.prototype.o6a = function (obj) {
    return this.q6e(obj instanceof App ? obj : THROW_CCE());
  };
  Exit.$metadata$ = objectMeta('Exit', undefined, undefined, undefined, undefined, State.prototype);
  var Exit_instance;
  function Exit_getInstance() {
    if (Exit_instance == null)
      new Exit();
    return Exit_instance;
  }
  function GameSettings$speed$delegate$lambda() {
    return function (s) {
      var tmp$ret$0;
      {
        tmp$ret$0 = valueOf(s);
      }
      return tmp$ret$0;
    };
  }
  function GameSettings$spriteMode$delegate$lambda() {
    return function (s) {
      var tmp$ret$0;
      {
        tmp$ret$0 = valueOf_0(s);
      }
      return tmp$ret$0;
    };
  }
  function GameSettings$version$delegate$lambda() {
    return function (s) {
      var tmp$ret$0;
      {
        tmp$ret$0 = valueOf_1(s);
      }
      return tmp$ret$0;
    };
  }
  function GameSettings(settings) {
    this.t6h_1 = settings;
    var tmp = this;
    tmp.u6h_1 = int$default(this.t6h_1, null, 0, 1, null);
    var tmp_0 = this;
    tmp_0.v6h_1 = int$default(this.t6h_1, null, 0, 1, null);
    var tmp_1 = this;
    tmp_1.w6h_1 = int$default(this.t6h_1, null, get_START_HEALTH(), 1, null);
    var tmp_2 = this;
    var tmp$ret$0;
    {
      var tmp0_enumDelegate = this.t6h_1;
      var tmp1_enumDelegate = GameSpeed_SPEED_SLOW_getInstance();
      tmp$ret$0 = new EnumDelegate(tmp0_enumDelegate, null, tmp1_enumDelegate, GameSettings$speed$delegate$lambda());
    }
    tmp_2.x6h_1 = tmp$ret$0;
    var tmp_3 = this;
    var tmp$ret$1;
    {
      var tmp0_enumDelegate_0 = this.t6h_1;
      var tmp1_enumDelegate_0 = TileSet_SPRITES_APPLE2_getInstance();
      tmp$ret$1 = new EnumDelegate(tmp0_enumDelegate_0, null, tmp1_enumDelegate_0, GameSettings$spriteMode$delegate$lambda());
    }
    tmp_3.y6h_1 = tmp$ret$1;
    var tmp_4 = this;
    var tmp$ret$2;
    {
      var tmp0_enumDelegate_1 = this.t6h_1;
      var tmp1_enumDelegate_1 = LevelSet_CLASSIC_getInstance();
      tmp$ret$2 = new EnumDelegate(tmp0_enumDelegate_1, null, tmp1_enumDelegate_1, GameSettings$version$delegate$lambda());
    }
    tmp_4.z6h_1 = tmp$ret$2;
    var tmp_5 = this;
    tmp_5.a6i_1 = float$default(this.t6h_1, null, 60.0, 1, null);
    var tmp_6 = this;
    tmp_6.b6i_1 = boolean$default(this.t6h_1, null, false, 3, null);
    var tmp_7 = this;
    tmp_7.c6i_1 = boolean$default(this.t6h_1, null, true, 1, null);
    var tmp_8 = this;
    tmp_8.d6i_1 = boolean$default(this.t6h_1, null, false, 1, null);
  }
  GameSettings.prototype.e6i = function (_set____db54di) {
    return this.u6h_1.s8(this, curScore$factory(), _set____db54di);
  };
  GameSettings.prototype.f6i = function () {
    return this.u6h_1.r8(this, curScore$factory_0());
  };
  GameSettings.prototype.g6i = function (_set____db54di) {
    return this.v6h_1.s8(this, currentLevel$factory(), _set____db54di);
  };
  GameSettings.prototype.h6i = function () {
    return this.v6h_1.r8(this, currentLevel$factory_0());
  };
  GameSettings.prototype.i6i = function (_set____db54di) {
    return this.w6h_1.s8(this, runnerLifes$factory(), _set____db54di);
  };
  GameSettings.prototype.j6i = function () {
    return this.w6h_1.r8(this, runnerLifes$factory_0());
  };
  GameSettings.prototype.k6i = function (_set____db54di) {
    return this.x6h_1.p6i(this, speed$factory(), _set____db54di);
  };
  GameSettings.prototype.u58 = function () {
    return this.x6h_1.j2r(this, speed$factory_0());
  };
  GameSettings.prototype.q6i = function (_set____db54di) {
    return this.y6h_1.p6i(this, spriteMode$factory(), _set____db54di);
  };
  GameSettings.prototype.r6i = function () {
    return this.y6h_1.j2r(this, spriteMode$factory_0());
  };
  GameSettings.prototype.s6i = function (_set____db54di) {
    return this.z6h_1.p6i(this, version$factory(), _set____db54di);
  };
  GameSettings.prototype.t6i = function () {
    return this.z6h_1.j2r(this, version$factory_0());
  };
  GameSettings.prototype.u6i = function (_set____db54di) {
    return this.c6i_1.s8(this, immortal$factory(), _set____db54di);
  };
  GameSettings.prototype.v6i = function () {
    return this.c6i_1.r8(this, immortal$factory_0());
  };
  GameSettings.prototype.w6i = function (_set____db54di) {
    return this.d6i_1.s8(this, stopGuards$factory(), _set____db54di);
  };
  GameSettings.prototype.x6i = function () {
    return this.d6i_1.r8(this, stopGuards$factory_0());
  };
  GameSettings.$metadata$ = classMeta('GameSettings');
  function AppContext$score$lambda(this$0) {
    return function (it) {
      this$0.r6e_1.e6i(it);
      return Unit_getInstance();
    };
  }
  function AppContext$spriteMode$lambda(this$0) {
    return function (it) {
      this$0.r6e_1.q6i(it);
      return Unit_getInstance();
    };
  }
  function AppContext$levelSet$lambda(this$0) {
    return function (it) {
      this$0.r6e_1.s6i(it);
      return Unit_getInstance();
    };
  }
  function AppContext$currentLevel$lambda(this$0) {
    return function (it) {
      this$0.r6e_1.g6i(it);
      return Unit_getInstance();
    };
  }
  function AppContext$speed$lambda(this$0) {
    return function (it) {
      this$0.r6e_1.k6i(it);
      return Unit_getInstance();
    };
  }
  function AppContext$stopGuards$lambda(this$0) {
    return function (v) {
      this$0.r6e_1.w6i(v);
      return Unit_getInstance();
    };
  }
  function AppContext$immortal$lambda(this$0) {
    return function (v) {
      this$0.r6e_1.u6i(v);
      return Unit_getInstance();
    };
  }
  function AppContext$runnerLifes$lambda(this$0) {
    return function (v) {
      this$0.r6e_1.i6i(v);
      return Unit_getInstance();
    };
  }
  function AppContext(gameSettings) {
    this.r6e_1 = gameSettings;
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_also = mutableStateOf(this.r6e_1.f6i());
      {
      }
      {
        tmp0_also.k3o(AppContext$score$lambda(this));
      }
      tmp$ret$0 = tmp0_also;
    }
    tmp.s6e_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      var tmp0_also_0 = mutableStateOf(this.r6e_1.r6i());
      {
      }
      {
        tmp0_also_0.k3o(AppContext$spriteMode$lambda(this));
      }
      tmp$ret$1 = tmp0_also_0;
    }
    tmp_0.t6e_1 = tmp$ret$1;
    var tmp_1 = this;
    var tmp$ret$2;
    {
      var tmp0_also_1 = mutableStateOf(this.r6e_1.t6i());
      {
      }
      {
        tmp0_also_1.k3o(AppContext$levelSet$lambda(this));
      }
      tmp$ret$2 = tmp0_also_1;
    }
    tmp_1.u6e_1 = tmp$ret$2;
    var tmp_2 = this;
    var tmp$ret$3;
    {
      var tmp0_also_2 = mutableStateOf(this.r6e_1.h6i());
      {
      }
      {
        tmp0_also_2.k3o(AppContext$currentLevel$lambda(this));
      }
      tmp$ret$3 = tmp0_also_2;
    }
    tmp_2.v6e_1 = tmp$ret$3;
    var tmp_3 = this;
    var tmp$ret$4;
    {
      var tmp0_also_3 = mutableStateOf(this.r6e_1.u58());
      {
      }
      {
        tmp0_also_3.k3o(AppContext$speed$lambda(this));
      }
      tmp$ret$4 = tmp0_also_3;
    }
    tmp_3.w6e_1 = tmp$ret$4;
    var tmp_4 = this;
    var tmp$ret$5;
    {
      var tmp0_also_4 = new MutableStateValue(this.r6e_1.x6i());
      {
      }
      {
        tmp0_also_4.k3o(AppContext$stopGuards$lambda(this));
      }
      tmp$ret$5 = tmp0_also_4;
    }
    tmp_4.x6e_1 = tmp$ret$5;
    var tmp_5 = this;
    var tmp$ret$6;
    {
      var tmp0_also_5 = new MutableStateValue(this.r6e_1.v6i());
      {
      }
      {
        tmp0_also_5.k3o(AppContext$immortal$lambda(this));
      }
      tmp$ret$6 = tmp0_also_5;
    }
    tmp_5.y6e_1 = tmp$ret$6;
    var tmp_6 = this;
    var tmp$ret$7;
    {
      var tmp0_also_6 = new MutableStateValue(this.r6e_1.j6i());
      {
      }
      {
        tmp0_also_6.k3o(AppContext$runnerLifes$lambda(this));
      }
      tmp$ret$7 = tmp0_also_6;
    }
    tmp_6.z6e_1 = tmp$ret$7;
  }
  AppContext.prototype.y6i = function () {
    return this.r6e_1;
  };
  AppContext.prototype.x6i = function () {
    return this.x6e_1;
  };
  AppContext.prototype.v6i = function () {
    return this.y6e_1;
  };
  AppContext.$metadata$ = classMeta('AppContext');
  var AppActions_ESC_instance;
  function values_0() {
    return [AppActions_ESC_getInstance()];
  }
  function App$AppActions$lambda() {
    return function ($this$null, it) {
      $this$null.w6a_1.d6j();
      changeState($this$null, MainMenuState_getInstance());
      return Unit_getInstance();
    };
  }
  function App$AppActions$lambda_0() {
    return function ($this$null, it) {
      return Unit_getInstance();
    };
  }
  var AppActions_entriesInitialized;
  function AppActions_initEntries() {
    if (AppActions_entriesInitialized)
      return Unit_getInstance();
    AppActions_entriesInitialized = true;
    var tmp = toInputSpec(Companion_getInstance().z25_1, new Int32Array([]));
    var tmp_0 = App$AppActions$lambda();
    AppActions_ESC_instance = new AppActions('ESC', 0, tmp, tmp_0, App$AppActions$lambda_0());
  }
  function Companion() {
    Companion_instance = this;
  }
  Companion.prototype.e6j = function (width, height) {
    var tmp$ret$0;
    {
      var tmp0_apply = new OrthographicCamera('plain');
      {
      }
      {
        tmp0_apply.i4s(ProjCorrectionMode_ONSCREEN_getInstance());
        tmp0_apply.g4b_1 = false;
        tmp0_apply.h4b_1 = true;
        var hw = width / 2.0;
        tmp0_apply.f4b_1 = height * 1.0;
        tmp0_apply.e4b_1 = 0.0;
        tmp0_apply.c4b_1 = -hw;
        tmp0_apply.d4b_1 = hw;
        tmp0_apply.x54(10.0);
        tmp0_apply.w54(0.1);
      }
      tmp$ret$0 = tmp0_apply;
    }
    return tmp$ret$0;
  };
  Companion.$metadata$ = objectMeta('Companion');
  var Companion_instance;
  function Companion_getInstance_7() {
    if (Companion_instance == null)
      new Companion();
    return Companion_instance;
  }
  function changeState($this, newState) {
    var tmp0_safe_receiver = $this.v6a_1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      tmp0_safe_receiver.n6a($this);
    }
    $this.v6a_1 = newState;
    var tmp1_safe_receiver = $this.v6a_1;
    if (tmp1_safe_receiver == null)
      null;
    else {
      tmp1_safe_receiver.m6a($this);
    }
  }
  function expect($this, cond, msg) {
    if (!cond)
      throw AssertionError_init_$Create$(msg());
  }
  function expect$default($this, cond, msg, $mask0, $handler) {
    if (!(($mask0 & 4) === 0)) {
      msg = App$expect$lambda();
    }
    return expect($this, cond, msg);
  }
  function AppActions(name, ordinal, keyCode, onPress, onRelease) {
    Enum.call(this, name, ordinal);
    this.h6j_1 = keyCode;
    this.i6j_1 = onPress;
    this.j6j_1 = onRelease;
  }
  AppActions.prototype.k6j = function () {
    return this.h6j_1;
  };
  AppActions.prototype.l6j = function () {
    return this.i6j_1;
  };
  AppActions.prototype.m6j = function () {
    return this.j6j_1;
  };
  AppActions.$metadata$ = classMeta('AppActions', [Action], undefined, undefined, undefined, Enum.prototype);
  function App$fsm$lambda$lambda$lambda() {
    return function (it) {
      return Unit_getInstance();
    };
  }
  function App$fsm$lambda$lambda$lambda_0() {
    return function (it) {
      return Unit_getInstance();
    };
  }
  function App$fsm$lambda$lambda$lambda_1() {
    return function ($this$edge) {
      return Unit_getInstance();
    };
  }
  function App$fsm$lambda$lambda() {
    return function ($this$state) {
      $this$state.s6j(App$fsm$lambda$lambda$lambda());
      $this$state.t6j(App$fsm$lambda$lambda$lambda_0());
      $this$state.u6j('play game', false, 0, App$fsm$lambda$lambda$lambda_1(), 6, null);
      return Unit_getInstance();
    };
  }
  function App$fsm$lambda$lambda$lambda_2() {
    return function (it) {
      return Unit_getInstance();
    };
  }
  function App$fsm$lambda$lambda$lambda_3() {
    return function (it) {
      return Unit_getInstance();
    };
  }
  function App$fsm$lambda$lambda_0() {
    return function ($this$state) {
      $this$state.s6j(App$fsm$lambda$lambda$lambda_2());
      $this$state.t6j(App$fsm$lambda$lambda$lambda_3());
      return Unit_getInstance();
    };
  }
  function App$fsm$lambda() {
    return function ($this$buildStateMachine) {
      $this$buildStateMachine.v6j('mainmenu', App$fsm$lambda$lambda());
      $this$buildStateMachine.v6j('play game', App$fsm$lambda$lambda_0());
      return Unit_getInstance();
    };
  }
  function App$lambda(this$0) {
    return function (it) {
      var tmp0_safe_receiver = this$0.v6a_1;
      var newState = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.o6a(this$0);
      var tmp1_safe_receiver = newState;
      if (tmp1_safe_receiver == null)
        null;
      else {
        var tmp$ret$0;
        {
          {
          }
          tmp$ret$0 = changeState(this$0, tmp1_safe_receiver);
        }
      }
      return Unit_getInstance();
    };
  }
  function App$test1$lambda() {
    return function () {
      var tmp$ret$0;
      {
        var tmp0_toString = (new ViewCell(true, 0)).y6j();
        tmp$ret$0 = toString(tmp0_toString, 2);
      }
      return tmp$ret$0;
    };
  }
  function App$test2$lambda($item, $resultProbs, $tmp1__anonymous__6ijp4k, $eps) {
    return function () {
      return 'expect ' + $item + ' but got ' + $resultProbs.z2($tmp1__anonymous__6ijp4k) + ' (eps = ' + $eps + ')';
    };
  }
  function App$test3$lambda($a, $b) {
    return function () {
      return 'expect ' + $a + '.hashCode = ' + contentHashCode($a) + ' == ' + $b + '.hashCode = ' + contentHashCode($b);
    };
  }
  function App$expect$lambda() {
    return function () {
      return 'assert error';
    };
  }
  function AppActions_ESC_getInstance() {
    AppActions_initEntries();
    return AppActions_ESC_instance;
  }
  function App(ctx) {
    Companion_getInstance_7();
    this.p6a_1 = ctx;
    var tmp = this;
    tmp.q6a_1 = Job$default(null, 1, null);
    this.r6a_1 = CoroutineScope(this.q6a_1);
    this.s6a_1 = Settings();
    this.t6a_1 = new GameSettings(this.s6a_1);
    this.u6a_1 = new AppContext(this.t6a_1);
    this.v6a_1 = null;
    var tmp_0 = this;
    tmp_0.w6a_1 = buildStateMachine('mainmenu', App$fsm$lambda());
    this.z6j();
    this.a6k(null, 1, null);
    registerActions(this.p6a_1.k2a(), this, asIterable(values_0()));
    changeState(this, MainMenuState_getInstance());
    var tmp0_this = this.p6a_1;
    {
      var tmp0_plusAssign = tmp0_this.p28_1;
      tmp0_plusAssign.b(App$lambda(this));
    }
    this.p6a_1.m1c();
    this.q6a_1.v18(null, 1, null);
    this.b6k();
  }
  App.prototype.z5r = function () {
    return this.p6a_1;
  };
  App.prototype.b6k = function () {
    var tmp = (new ViewCell(false, 0)).y6j() === get_b(0);
    expect$default(this, tmp, null, 4, null);
    var tmp_0 = (new ViewCell(true, 0)).y6j() === get_b(128);
    expect(this, tmp_0, App$test1$lambda());
    var tmp_1 = (new ViewCell(false, 16)).y6j() === get_b(16);
    expect$default(this, tmp_1, null, 4, null);
    var tmp_2 = (new ViewCell(false, 127)).y6j() === get_b(127);
    expect$default(this, tmp_2, null, 4, null);
    var tmp_3 = (new ViewCell(true, 127)).y6j() === get_b(255);
    expect$default(this, tmp_3, null, 4, null);
  };
  App.prototype.c6k = function (choices) {
    var steps = 10000;
    var eps = 100.0 / steps;
    var r = Random(0);
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    var results = tmp$ret$0;
    {
      var tmp0_forEach = until(0, steps);
      var inductionVariable = tmp0_forEach.i9();
      var last = tmp0_forEach.k9();
      if (inductionVariable <= last)
        do {
          var element = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          {
            var c = choice(r, choices);
            {
              var tmp$ret$2;
              {
                var value = results.z2(c);
                var tmp;
                if (value == null) {
                  var tmp$ret$1;
                  {
                    tmp$ret$1 = 0;
                  }
                  var answer = tmp$ret$1;
                  results.a(c, answer);
                  tmp = answer;
                } else {
                  tmp = value;
                }
                tmp$ret$2 = tmp;
              }
              var tmp0_set = tmp$ret$2 + 1 | 0;
              results.a(c, tmp0_set);
            }
          }
        }
         while (!(element === last));
    }
    var t = sum(choices);
    var tmp$ret$5;
    {
      var tmp$ret$4;
      {
        var tmp0_mapTo = ArrayList_init_$Create$(collectionSizeOrDefault(choices, 10));
        var tmp0_iterator = choices.h();
        while (tmp0_iterator.n()) {
          var item = tmp0_iterator.o();
          var tmp$ret$3;
          {
            tmp$ret$3 = item / t;
          }
          tmp0_mapTo.b(tmp$ret$3);
        }
        tmp$ret$4 = tmp0_mapTo;
      }
      tmp$ret$5 = tmp$ret$4;
    }
    var expectedProbs = tmp$ret$5;
    println(expectedProbs);
    var rt = sum(results.b3());
    var tmp$ret$9;
    {
      var tmp$ret$8;
      {
        var tmp0_mapTo_0 = ArrayList_init_$Create$(results.m());
        var tmp$ret$6;
        {
          tmp$ret$6 = results.y().h();
        }
        var tmp0_iterator_0 = tmp$ret$6;
        while (tmp0_iterator_0.n()) {
          var item_0 = tmp0_iterator_0.o();
          var tmp$ret$7;
          {
            tmp$ret$7 = to(item_0.j2(), item_0.l2() / rt);
          }
          tmp0_mapTo_0.b(tmp$ret$7);
        }
        tmp$ret$8 = tmp0_mapTo_0;
      }
      tmp$ret$9 = tmp$ret$8;
    }
    var resultProbs = toMap(tmp$ret$9);
    {
      var index = 0;
      var tmp0_iterator_1 = expectedProbs.h();
      while (tmp0_iterator_1.n()) {
        var item_1 = tmp0_iterator_1.o();
        {
          var tmp1 = index;
          index = tmp1 + 1 | 0;
          var tmp1__anonymous__uwfjfc = checkIndexOverflow(tmp1);
          var tmp$ret$11;
          {
            var tmp0_isFuzzyZero = item_1 - ensureNotNull(resultProbs.z2(tmp1__anonymous__uwfjfc));
            var tmp$ret$10;
            {
              tmp$ret$10 = Math.abs(tmp0_isFuzzyZero);
            }
            tmp$ret$11 = tmp$ret$10 <= eps;
          }
          var tmp_0 = tmp$ret$11;
          expect(this, tmp_0, App$test2$lambda(item_1, resultProbs, tmp1__anonymous__uwfjfc, eps));
        }
      }
    }
  };
  App.prototype.a6k = function (choices, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      choices = listOf([100, 200, 50, 1000]);
    return this.c6k(choices);
  };
  App.prototype.z6j = function () {
    var tmp$ret$2;
    {
      var tmp0_arrayOf = [Tile_LADDER_getInstance(), Tile_BRICK_getInstance()];
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          tmp$ret$0 = tmp0_arrayOf;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    var a = tmp$ret$2;
    var tmp$ret$5;
    {
      var tmp1_arrayOf = [Tile_LADDER_getInstance(), Tile_BRICK_getInstance()];
      var tmp$ret$4;
      {
        var tmp$ret$3;
        {
          tmp$ret$3 = tmp1_arrayOf;
        }
        tmp$ret$4 = tmp$ret$3;
      }
      tmp$ret$5 = tmp$ret$4;
    }
    var b = tmp$ret$5;
    var tmp$ret$8;
    {
      var tmp2_arrayOf = [Tile_EMPTY_getInstance(), Tile_PLAYER_getInstance()];
      var tmp$ret$7;
      {
        var tmp$ret$6;
        {
          tmp$ret$6 = tmp2_arrayOf;
        }
        tmp$ret$7 = tmp$ret$6;
      }
      tmp$ret$8 = tmp$ret$7;
    }
    var c = tmp$ret$8;
    var tmp = contentHashCode(a) === contentHashCode(b);
    expect(this, tmp, App$test3$lambda(a, b));
    var tmp_0 = !(contentHashCode(a) === contentHashCode(c));
    expect$default(this, tmp_0, null, 4, null);
    var tmp_1 = !(contentHashCode(b) === contentHashCode(c));
    expect$default(this, tmp_1, null, 4, null);
  };
  App.$metadata$ = classMeta('App');
  function Action() {
  }
  Action.$metadata$ = interfaceMeta('Action');
  function registerActions(inputManager, root, actions) {
    init_properties_App_kt_kz6q5v();
    var tmp$ret$2;
    {
      var tmp$ret$1;
      {
        var tmp0_mapTo = ArrayList_init_$Create$(collectionSizeOrDefault(actions, 10));
        var tmp0_iterator = actions.h();
        while (tmp0_iterator.n()) {
          var item = tmp0_iterator.o();
          var tmp$ret$0;
          {
            var tmp = item.k6j().d6k_1;
            var tmp_0 = item.il();
            var tmp_1 = registerActions$lambda(item);
            tmp$ret$0 = inputManager.p27(tmp, tmp_0, tmp_1, registerActions$lambda_0(item, root));
          }
          tmp0_mapTo.b(tmp$ret$0);
        }
        tmp$ret$1 = tmp0_mapTo;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    return tmp$ret$2;
  }
  function unregisterActions(inputManager, actions) {
    init_properties_App_kt_kz6q5v();
    {
      var tmp0_iterator = actions.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          inputManager.r27(element);
        }
      }
    }
  }
  function registerActions$lambda($item) {
    return function (ev) {
      return ev.g23() ? (($item.k6j().e6k_1 | ev.c23_1) ^ $item.k6j().e6k_1) === 0 : false;
    };
  }
  function registerActions$lambda_0($item, $root) {
    return function (ev) {
      if (ev.h23())
        $item.m6j()($root, ev);
      else if (ev.g23())
        $item.l6j()($root, ev);
      return Unit_getInstance();
    };
  }
  function GameSpeed_SPEED_VERY_SLOW_getInstance() {
    GameSpeed_initEntries();
    return GameSpeed_SPEED_VERY_SLOW_instance;
  }
  function GameSpeed_SPEED_SLOW_getInstance() {
    GameSpeed_initEntries();
    return GameSpeed_SPEED_SLOW_instance;
  }
  function GameSpeed_SPEED_NORMAL_getInstance() {
    GameSpeed_initEntries();
    return GameSpeed_SPEED_NORMAL_instance;
  }
  function GameSpeed_SPEED_FAST_getInstance() {
    GameSpeed_initEntries();
    return GameSpeed_SPEED_FAST_instance;
  }
  function GameSpeed_SPEED_VERY_FAST_getInstance() {
    GameSpeed_initEntries();
    return GameSpeed_SPEED_VERY_FAST_instance;
  }
  function curScore$factory() {
    return getPropertyCallableRef('curScore', 1, KMutableProperty1, function (receiver) {
      return receiver.f6i();
    }, function (receiver, value) {
      return receiver.e6i(value);
    });
  }
  function curScore$factory_0() {
    return getPropertyCallableRef('curScore', 1, KMutableProperty1, function (receiver) {
      return receiver.f6i();
    }, function (receiver, value) {
      return receiver.e6i(value);
    });
  }
  function currentLevel$factory() {
    return getPropertyCallableRef('currentLevel', 1, KMutableProperty1, function (receiver) {
      return receiver.h6i();
    }, function (receiver, value) {
      return receiver.g6i(value);
    });
  }
  function currentLevel$factory_0() {
    return getPropertyCallableRef('currentLevel', 1, KMutableProperty1, function (receiver) {
      return receiver.h6i();
    }, function (receiver, value) {
      return receiver.g6i(value);
    });
  }
  function runnerLifes$factory() {
    return getPropertyCallableRef('runnerLifes', 1, KMutableProperty1, function (receiver) {
      return receiver.j6i();
    }, function (receiver, value) {
      return receiver.i6i(value);
    });
  }
  function runnerLifes$factory_0() {
    return getPropertyCallableRef('runnerLifes', 1, KMutableProperty1, function (receiver) {
      return receiver.j6i();
    }, function (receiver, value) {
      return receiver.i6i(value);
    });
  }
  function speed$factory() {
    return getPropertyCallableRef('speed', 1, KMutableProperty1, function (receiver) {
      return receiver.u58();
    }, function (receiver, value) {
      return receiver.k6i(value);
    });
  }
  function speed$factory_0() {
    return getPropertyCallableRef('speed', 1, KMutableProperty1, function (receiver) {
      return receiver.u58();
    }, function (receiver, value) {
      return receiver.k6i(value);
    });
  }
  function spriteMode$factory() {
    return getPropertyCallableRef('spriteMode', 1, KMutableProperty1, function (receiver) {
      return receiver.r6i();
    }, function (receiver, value) {
      return receiver.q6i(value);
    });
  }
  function spriteMode$factory_0() {
    return getPropertyCallableRef('spriteMode', 1, KMutableProperty1, function (receiver) {
      return receiver.r6i();
    }, function (receiver, value) {
      return receiver.q6i(value);
    });
  }
  function version$factory() {
    return getPropertyCallableRef('version', 1, KMutableProperty1, function (receiver) {
      return receiver.t6i();
    }, function (receiver, value) {
      return receiver.s6i(value);
    });
  }
  function version$factory_0() {
    return getPropertyCallableRef('version', 1, KMutableProperty1, function (receiver) {
      return receiver.t6i();
    }, function (receiver, value) {
      return receiver.s6i(value);
    });
  }
  function immortal$factory() {
    return getPropertyCallableRef('immortal', 1, KMutableProperty1, function (receiver) {
      return receiver.v6i();
    }, function (receiver, value) {
      return receiver.u6i(value);
    });
  }
  function immortal$factory_0() {
    return getPropertyCallableRef('immortal', 1, KMutableProperty1, function (receiver) {
      return receiver.v6i();
    }, function (receiver, value) {
      return receiver.u6i(value);
    });
  }
  function stopGuards$factory() {
    return getPropertyCallableRef('stopGuards', 1, KMutableProperty1, function (receiver) {
      return receiver.x6i();
    }, function (receiver, value) {
      return receiver.w6i(value);
    });
  }
  function stopGuards$factory_0() {
    return getPropertyCallableRef('stopGuards', 1, KMutableProperty1, function (receiver) {
      return receiver.x6i();
    }, function (receiver, value) {
      return receiver.w6i(value);
    });
  }
  var properties_initialized_App_kt_kalemn;
  function init_properties_App_kt_kz6q5v() {
    if (properties_initialized_App_kt_kalemn) {
    } else {
      properties_initialized_App_kt_kalemn = true;
      simpleTextureProps = new TextureProps(TexFormat_RGBA_getInstance(), AddressMode_CLAMP_TO_EDGE_getInstance(), AddressMode_CLAMP_TO_EDGE_getInstance(), AddressMode_CLAMP_TO_EDGE_getInstance(), FilterMethod_NEAREST_getInstance(), FilterMethod_NEAREST_getInstance(), false, 1);
      simpleValueTextureProps = new TextureProps(TexFormat_R_getInstance(), AddressMode_CLAMP_TO_EDGE_getInstance(), AddressMode_CLAMP_TO_EDGE_getInstance(), AddressMode_CLAMP_TO_EDGE_getInstance(), FilterMethod_NEAREST_getInstance(), FilterMethod_NEAREST_getInstance(), false, 1);
    }
  }
  function TileSet_init_$Init$(name, ordinal, path, tileWidth, tileHeight, $mask0, $marker, $this) {
    if (!(($mask0 & 8) === 0))
      tileWidth = 20;
    if (!(($mask0 & 16) === 0))
      tileHeight = 22;
    TileSet.call($this, name, ordinal, path, tileWidth, tileHeight);
    return $this;
  }
  function TileSet_init_$Create$(name, ordinal, path, tileWidth, tileHeight, $mask0, $marker) {
    return TileSet_init_$Init$(name, ordinal, path, tileWidth, tileHeight, $mask0, $marker, Object.create(TileSet.prototype));
  }
  var TileSet_SPRITES_APPLE2_instance;
  var TileSet_SPRITES_COMMODORE64_instance;
  var TileSet_SPRITES_IBM_instance;
  var TileSet_SPRITES_ATARI8BIT_instance;
  var TileSet_SPRITES_ZXSPECTRUM_instance;
  var TileSet_SPRITES_NES_instance;
  function values_1() {
    return [TileSet_SPRITES_APPLE2_getInstance(), TileSet_SPRITES_COMMODORE64_getInstance(), TileSet_SPRITES_IBM_getInstance(), TileSet_SPRITES_ATARI8BIT_getInstance(), TileSet_SPRITES_ZXSPECTRUM_getInstance(), TileSet_SPRITES_NES_getInstance()];
  }
  function valueOf_0(value) {
    switch (value) {
      case 'SPRITES_APPLE2':
        return TileSet_SPRITES_APPLE2_getInstance();
      case 'SPRITES_COMMODORE64':
        return TileSet_SPRITES_COMMODORE64_getInstance();
      case 'SPRITES_IBM':
        return TileSet_SPRITES_IBM_getInstance();
      case 'SPRITES_ATARI8BIT':
        return TileSet_SPRITES_ATARI8BIT_getInstance();
      case 'SPRITES_ZXSPECTRUM':
        return TileSet_SPRITES_ZXSPECTRUM_getInstance();
      case 'SPRITES_NES':
        return TileSet_SPRITES_NES_getInstance();
      default:
        TileSet_initEntries();
        THROW_ISE();
        break;
    }
  }
  var TileSet_entriesInitialized;
  function TileSet_initEntries() {
    if (TileSet_entriesInitialized)
      return Unit_getInstance();
    TileSet_entriesInitialized = true;
    TileSet_SPRITES_APPLE2_instance = TileSet_init_$Create$('SPRITES_APPLE2', 0, 'ap2', 0, 0, 24, null);
    TileSet_SPRITES_COMMODORE64_instance = TileSet_init_$Create$('SPRITES_COMMODORE64', 1, 'c64', 0, 0, 24, null);
    TileSet_SPRITES_IBM_instance = TileSet_init_$Create$('SPRITES_IBM', 2, 'ibm', 0, 0, 24, null);
    TileSet_SPRITES_ATARI8BIT_instance = TileSet_init_$Create$('SPRITES_ATARI8BIT', 3, 'a8b', 0, 0, 24, null);
    TileSet_SPRITES_ZXSPECTRUM_instance = TileSet_init_$Create$('SPRITES_ZXSPECTRUM', 4, 'zxs', 0, 0, 24, null);
    TileSet_SPRITES_NES_instance = TileSet_init_$Create$('SPRITES_NES', 5, 'nes', 0, 0, 24, null);
  }
  function TileSet(name, ordinal, path, tileWidth, tileHeight) {
    Enum.call(this, name, ordinal);
    this.h6k_1 = path;
    this.i6k_1 = tileWidth;
    this.j6k_1 = tileHeight;
  }
  TileSet.prototype.g6a = function () {
    return removePrefix(this.il(), 'SPRITES_');
  };
  TileSet.$metadata$ = classMeta('TileSet', undefined, undefined, undefined, undefined, Enum.prototype);
  function GapsSpec_init_$Init$(top, right, bottom, left, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0))
      top = 0;
    if (!(($mask0 & 2) === 0))
      right = 0;
    if (!(($mask0 & 4) === 0))
      bottom = 0;
    if (!(($mask0 & 8) === 0))
      left = 0;
    GapsSpec.call($this, top, right, bottom, left);
    return $this;
  }
  function GapsSpec_init_$Create$(top, right, bottom, left, $mask0, $marker) {
    return GapsSpec_init_$Init$(top, right, bottom, left, $mask0, $marker, Object.create(GapsSpec.prototype));
  }
  function GapsSpec(top, right, bottom, left) {
    this.k6k_1 = top;
    this.l6k_1 = right;
    this.m6k_1 = bottom;
    this.n6k_1 = left;
  }
  GapsSpec.prototype.toString = function () {
    return 'GapsSpec(top=' + this.k6k_1 + ', right=' + this.l6k_1 + ', bottom=' + this.m6k_1 + ', left=' + this.n6k_1 + ')';
  };
  GapsSpec.prototype.hashCode = function () {
    var result = this.k6k_1;
    result = imul(result, 31) + this.l6k_1 | 0;
    result = imul(result, 31) + this.m6k_1 | 0;
    result = imul(result, 31) + this.n6k_1 | 0;
    return result;
  };
  GapsSpec.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof GapsSpec))
      return false;
    var tmp0_other_with_cast = other instanceof GapsSpec ? other : THROW_CCE();
    if (!(this.k6k_1 === tmp0_other_with_cast.k6k_1))
      return false;
    if (!(this.l6k_1 === tmp0_other_with_cast.l6k_1))
      return false;
    if (!(this.m6k_1 === tmp0_other_with_cast.m6k_1))
      return false;
    if (!(this.n6k_1 === tmp0_other_with_cast.n6k_1))
      return false;
    return true;
  };
  GapsSpec.$metadata$ = classMeta('GapsSpec');
  function ImageAtlasSpec_init_$Init$(tileset, tileWidth, tileHeight, gap, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0))
      tileset = TileSet_SPRITES_APPLE2_getInstance();
    if (!(($mask0 & 2) === 0))
      tileWidth = tileset.i6k_1;
    if (!(($mask0 & 4) === 0))
      tileHeight = tileset.j6k_1;
    if (!(($mask0 & 8) === 0)) {
      gap = GapsSpec_init_$Create$(0, 0, 0, 0, 15, null);
    }
    ImageAtlasSpec.call($this, tileset, tileWidth, tileHeight, gap);
    return $this;
  }
  function ImageAtlasSpec_init_$Create$(tileset, tileWidth, tileHeight, gap, $mask0, $marker) {
    return ImageAtlasSpec_init_$Init$(tileset, tileWidth, tileHeight, gap, $mask0, $marker, Object.create(ImageAtlasSpec.prototype));
  }
  function ImageAtlasSpec(tileset, tileWidth, tileHeight, gap) {
    this.o6k_1 = tileset;
    this.p6k_1 = tileWidth;
    this.q6k_1 = tileHeight;
    this.r6k_1 = gap;
  }
  ImageAtlasSpec.prototype.s6k = function () {
    return this.p6k_1;
  };
  ImageAtlasSpec.prototype.t6k = function () {
    return this.q6k_1;
  };
  ImageAtlasSpec.prototype.toString = function () {
    return 'ImageAtlasSpec(tileset=' + this.o6k_1 + ', tileWidth=' + this.p6k_1 + ', tileHeight=' + this.q6k_1 + ', gap=' + this.r6k_1 + ')';
  };
  ImageAtlasSpec.prototype.hashCode = function () {
    var result = this.o6k_1.hashCode();
    result = imul(result, 31) + this.p6k_1 | 0;
    result = imul(result, 31) + this.q6k_1 | 0;
    result = imul(result, 31) + this.r6k_1.hashCode() | 0;
    return result;
  };
  ImageAtlasSpec.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof ImageAtlasSpec))
      return false;
    var tmp0_other_with_cast = other instanceof ImageAtlasSpec ? other : THROW_CCE();
    if (!this.o6k_1.equals(tmp0_other_with_cast.o6k_1))
      return false;
    if (!(this.p6k_1 === tmp0_other_with_cast.p6k_1))
      return false;
    if (!(this.q6k_1 === tmp0_other_with_cast.q6k_1))
      return false;
    if (!this.r6k_1.equals(tmp0_other_with_cast.r6k_1))
      return false;
    return true;
  };
  ImageAtlasSpec.$metadata$ = classMeta('ImageAtlasSpec');
  function Companion_0() {
    Companion_instance_0 = this;
  }
  Companion_0.$metadata$ = objectMeta('Companion');
  var Companion_instance_0;
  function Companion_getInstance_8() {
    if (Companion_instance_0 == null)
      new Companion_0();
    return Companion_instance_0;
  }
  function $serializer() {
    $serializer_instance = this;
    var tmp0_serialDesc = new PluginGeneratedSerialDescriptor('Frame', this, 4);
    tmp0_serialDesc.wu('x', false);
    tmp0_serialDesc.wu('y', false);
    tmp0_serialDesc.wu('w', false);
    tmp0_serialDesc.wu('h', false);
    this.u6k_1 = tmp0_serialDesc;
  }
  $serializer.prototype.hn = function () {
    return this.u6k_1;
  };
  $serializer.prototype.tu = function () {
    var tmp$ret$2;
    {
      var tmp0_arrayOf = [IntSerializer_getInstance(), IntSerializer_getInstance(), IntSerializer_getInstance(), IntSerializer_getInstance()];
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          tmp$ret$0 = tmp0_arrayOf;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    return tmp$ret$2;
  };
  $serializer.prototype.in = function (decoder) {
    var tmp0_desc = this.u6k_1;
    var tmp1_flag = true;
    var tmp2_index = 0;
    var tmp3_bitMask0 = 0;
    var tmp4_local0 = 0;
    var tmp5_local1 = 0;
    var tmp6_local2 = 0;
    var tmp7_local3 = 0;
    var tmp8_input = decoder.aq(tmp0_desc);
    if (tmp8_input.nq()) {
      tmp4_local0 = tmp8_input.fq(tmp0_desc, 0);
      tmp3_bitMask0 = tmp3_bitMask0 | 1;
      tmp5_local1 = tmp8_input.fq(tmp0_desc, 1);
      tmp3_bitMask0 = tmp3_bitMask0 | 2;
      tmp6_local2 = tmp8_input.fq(tmp0_desc, 2);
      tmp3_bitMask0 = tmp3_bitMask0 | 4;
      tmp7_local3 = tmp8_input.fq(tmp0_desc, 3);
      tmp3_bitMask0 = tmp3_bitMask0 | 8;
    } else
      while (tmp1_flag) {
        tmp2_index = tmp8_input.oq(tmp0_desc);
        switch (tmp2_index) {
          case -1:
            tmp1_flag = false;
            break;
          case 0:
            tmp4_local0 = tmp8_input.fq(tmp0_desc, 0);
            tmp3_bitMask0 = tmp3_bitMask0 | 1;
            break;
          case 1:
            tmp5_local1 = tmp8_input.fq(tmp0_desc, 1);
            tmp3_bitMask0 = tmp3_bitMask0 | 2;
            break;
          case 2:
            tmp6_local2 = tmp8_input.fq(tmp0_desc, 2);
            tmp3_bitMask0 = tmp3_bitMask0 | 4;
            break;
          case 3:
            tmp7_local3 = tmp8_input.fq(tmp0_desc, 3);
            tmp3_bitMask0 = tmp3_bitMask0 | 8;
            break;
          default:
            throw UnknownFieldException_init_$Create$(tmp2_index);
        }
      }
    tmp8_input.bq(tmp0_desc);
    return Frame_init_$Create$(tmp3_bitMask0, tmp4_local0, tmp5_local1, tmp6_local2, tmp7_local3, null);
  };
  $serializer.$metadata$ = objectMeta('$serializer', [GeneratedSerializer]);
  var $serializer_instance;
  function $serializer_getInstance() {
    if ($serializer_instance == null)
      new $serializer();
    return $serializer_instance;
  }
  function Frame_init_$Init$(seen1, x, y, w, h, serializationConstructorMarker, $this) {
    if (!(15 === (15 & seen1)))
      throwMissingFieldException(seen1, 15, $serializer_getInstance().u6k_1);
    $this.v6k_1 = x;
    $this.w6k_1 = y;
    $this.x6k_1 = w;
    $this.y6k_1 = h;
    return $this;
  }
  function Frame_init_$Create$(seen1, x, y, w, h, serializationConstructorMarker) {
    return Frame_init_$Init$(seen1, x, y, w, h, serializationConstructorMarker, Object.create(Frame.prototype));
  }
  function Frame(x, y, w, h) {
    Companion_getInstance_8();
    this.v6k_1 = x;
    this.w6k_1 = y;
    this.x6k_1 = w;
    this.y6k_1 = h;
  }
  Frame.prototype.z1z = function () {
    return this.v6k_1;
  };
  Frame.prototype.b20 = function () {
    return this.w6k_1;
  };
  Frame.prototype.z6k = function () {
    return new Vec4i(this.v6k_1, this.w6k_1, this.x6k_1, this.y6k_1);
  };
  Frame.prototype.toString = function () {
    return 'Frame(x=' + this.v6k_1 + ', y=' + this.w6k_1 + ', w=' + this.x6k_1 + ', h=' + this.y6k_1 + ')';
  };
  Frame.prototype.hashCode = function () {
    var result = this.v6k_1;
    result = imul(result, 31) + this.w6k_1 | 0;
    result = imul(result, 31) + this.x6k_1 | 0;
    result = imul(result, 31) + this.y6k_1 | 0;
    return result;
  };
  Frame.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Frame))
      return false;
    var tmp0_other_with_cast = other instanceof Frame ? other : THROW_CCE();
    if (!(this.v6k_1 === tmp0_other_with_cast.v6k_1))
      return false;
    if (!(this.w6k_1 === tmp0_other_with_cast.w6k_1))
      return false;
    if (!(this.x6k_1 === tmp0_other_with_cast.x6k_1))
      return false;
    if (!(this.y6k_1 === tmp0_other_with_cast.y6k_1))
      return false;
    return true;
  };
  Frame.$metadata$ = classMeta('Frame', undefined, undefined, {0: $serializer_getInstance});
  function sam$kotlin_Comparator$0(function_0) {
    this.a6l_1 = function_0;
  }
  sam$kotlin_Comparator$0.prototype.w = function (a, b) {
    return this.a6l_1(a, b);
  };
  sam$kotlin_Comparator$0.prototype.compare = function (a, b) {
    return this.w(a, b);
  };
  sam$kotlin_Comparator$0.$metadata$ = classMeta('sam$kotlin_Comparator$0', [Comparator]);
  function ImageAtlas$load$lambda($res, $tilesInRow) {
    return function (a, b) {
      var tmp$ret$2;
      {
        var tmp$ret$0;
        {
          tmp$ret$0 = ensureNotNull($res.z2(a)).w6k_1 * $tilesInRow + ensureNotNull($res.z2(a)).v6k_1;
        }
        var tmp = tmp$ret$0;
        var tmp$ret$1;
        {
          tmp$ret$1 = ensureNotNull($res.z2(b)).w6k_1 * $tilesInRow + ensureNotNull($res.z2(b)).v6k_1;
        }
        tmp$ret$2 = compareValues(tmp, tmp$ret$1);
      }
      return tmp$ret$2;
    };
  }
  function $loadCOROUTINE$1(_this__u8e3s4, spec, assets, resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
    this.j6l_1 = _this__u8e3s4;
    this.k6l_1 = spec;
    this.l6l_1 = assets;
  }
  $loadCOROUTINE$1.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 3;
            this.m6l_1 = 'sprites/' + this.k6l_1.o6k_1.h6k_1 + '/' + this.j6l_1.a6m_1 + '.png';
            this.n6l_1 = 'sprites/' + this.k6l_1.o6k_1.h6k_1 + '/' + this.j6l_1.a6m_1 + '.json';
            var tmp_0 = this;
            var tmp_1 = this;
            tmp_1.o6l_1 = serializer_0(createKType(getKClass(Frame), arrayOf([]), false));
            var tmp_2 = this.o6l_1;
            tmp_0.p6l_1 = isInterface(tmp_2, KSerializer) ? tmp_2 : THROW_CCE();
            this.k7_1 = 1;
            suspendResult = this.l6l_1.g1x(this.n6l_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            this.q6l_1 = suspendResult;
            this.r6l_1 = ensureNotNull(this.q6l_1);
            this.s6l_1 = this.r6l_1.e6();
            this.t6l_1 = decodeToString(this.s6l_1);
            var tmp_3 = this;
            var tmp_4 = this;
            tmp_4.u6l_1 = Default_getInstance();
            var tmp_5 = this;
            tmp_5.v6l_1 = this.u6l_1.yn();
            var tmp_6 = this;
            tmp_6.w6l_1 = serializer(this.v6l_1, createKType(getKClass(JsonObject), arrayOf([]), false));
            var tmp_7 = this.w6l_1;
            tmp_3.x6l_1 = this.u6l_1.xn(isInterface(tmp_7, KSerializer) ? tmp_7 : THROW_CCE(), this.t6l_1);
            var tmp_8 = this;
            tmp_8.y6l_1 = LinkedHashMap_init_$Create$();
            var tmp_9 = this;
            var tmp_10 = this.x6l_1.p10('frames');
            tmp_9.z6l_1 = tmp_10 instanceof JsonObject ? tmp_10 : THROW_CCE();
            var tmp0_iterator = this.z6l_1.y().h();
            while (tmp0_iterator.n()) {
              var element = tmp0_iterator.o();
              var tmp0_set = element.j2();
              var tmp_11 = Default_getInstance();
              var tmp_12 = element.l2();
              var tmp1_set = tmp_11.xn(this.p6l_1, toString_0((tmp_12 instanceof JsonObject ? tmp_12 : THROW_CCE()).p10('frame')));
              this.y6l_1.a(tmp0_set, tmp1_set);
            }

            this.k7_1 = 2;
            suspendResult = this.l6l_1.j1x(this.m6l_1, get_simpleTextureProps(), this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 2:
            var loadedTexture = suspendResult;
            var tilesInRow = ensureNotNull(loadedTexture.e4y()).y3u() / this.k6l_1.p6k_1;
            println('tiles in row = ' + tilesInRow);
            var tmp2_sortedBy = this.y6l_1.a3();
            var tmp_13 = ImageAtlas$load$lambda(this.y6l_1, tilesInRow);
            var sortedByXYKeys = sortedWith(tmp2_sortedBy, new sam$kotlin_Comparator$0(tmp_13));
            this.j6l_1.c6m_1.t7();
            var result = LinkedHashMap_init_$Create$_0(coerceAtLeast(mapCapacity(collectionSizeOrDefault(sortedByXYKeys, 10)), 16));
            var tmp0_iterator_0 = sortedByXYKeys.h();
            while (tmp0_iterator_0.n()) {
              var element_0 = tmp0_iterator_0.o();
              result.a(element_0, ensureNotNull(this.y6l_1.z2(element_0)));
            }

            this.j6l_1.c6m_1.b4(result);
            var index = 0;
            var tmp0_iterator_1 = sortedByXYKeys.h();
            while (tmp0_iterator_1.n()) {
              var item = tmp0_iterator_1.o();
              var tmp1 = index;
              index = tmp1 + 1 | 0;
              var tmp3__anonymous__ufb84q = checkIndexOverflow(tmp1);
              var tmp0_set_0 = this.j6l_1.e6m_1;
              tmp0_set_0.a(item, tmp3__anonymous__ufb84q);
            }

            var tmp_14 = this.j6l_1;
            var tmp4_map = this.j6l_1.c6m_1;
            var tmp0_mapTo = ArrayList_init_$Create$(tmp4_map.m());
            var tmp0_iterator_2 = tmp4_map.y().h();
            while (tmp0_iterator_2.n()) {
              var item_0 = tmp0_iterator_2.o();
              tmp0_mapTo.b(item_0.l2().z6k());
            }

            var tmp5_toTypedArray = tmp0_mapTo;
            tmp_14.d6m_1 = copyToArray(tmp5_toTypedArray);
            this.j6l_1.b6m_1.m1e(loadedTexture);
            return Unit_getInstance();
          case 3:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 3) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  $loadCOROUTINE$1.$metadata$ = classMeta('$loadCOROUTINE$1', undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function ImageAtlas(name) {
    this.a6m_1 = name;
    this.b6m_1 = mutableStateOf(null);
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.c6m_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = LinkedHashMap_init_$Create$();
    }
    tmp_0.e6m_1 = tmp$ret$1;
  }
  ImageAtlas.prototype.f6m = function () {
    return this.b6m_1;
  };
  ImageAtlas.prototype.g6m = function () {
    var tmp = this.d6m_1;
    if (!(tmp == null))
      return tmp;
    else {
      throwUninitializedPropertyAccessException('tileCoords');
    }
  };
  ImageAtlas.prototype.h6m = function () {
    return this.e6m_1;
  };
  ImageAtlas.prototype.i6m = function (spec, assets, $cont) {
    var tmp = new $loadCOROUTINE$1(this, spec, assets, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  ImageAtlas.prototype.j6m = function (frameIndex) {
    return new Vec2i(this.g6m()[frameIndex].z1z(), this.g6m()[frameIndex].b20());
  };
  ImageAtlas.$metadata$ = classMeta('ImageAtlas');
  function TileSet_SPRITES_APPLE2_getInstance() {
    TileSet_initEntries();
    return TileSet_SPRITES_APPLE2_instance;
  }
  function TileSet_SPRITES_COMMODORE64_getInstance() {
    TileSet_initEntries();
    return TileSet_SPRITES_COMMODORE64_instance;
  }
  function TileSet_SPRITES_IBM_getInstance() {
    TileSet_initEntries();
    return TileSet_SPRITES_IBM_instance;
  }
  function TileSet_SPRITES_ATARI8BIT_getInstance() {
    TileSet_initEntries();
    return TileSet_SPRITES_ATARI8BIT_instance;
  }
  function TileSet_SPRITES_ZXSPECTRUM_getInstance() {
    TileSet_initEntries();
    return TileSet_SPRITES_ZXSPECTRUM_instance;
  }
  function TileSet_SPRITES_NES_getInstance() {
    TileSet_initEntries();
    return TileSet_SPRITES_NES_instance;
  }
  var LevelSet_CLASSIC_instance;
  var LevelSet_CHAMPIONSHIP_instance;
  var LevelSet_FANBOOK_instance;
  var LevelSet_PROFESSIONAL_instance;
  var LevelSet_REVENGE_instance;
  function values_2() {
    return [LevelSet_CLASSIC_getInstance(), LevelSet_CHAMPIONSHIP_getInstance(), LevelSet_FANBOOK_getInstance(), LevelSet_PROFESSIONAL_getInstance(), LevelSet_REVENGE_getInstance()];
  }
  function valueOf_1(value) {
    switch (value) {
      case 'CLASSIC':
        return LevelSet_CLASSIC_getInstance();
      case 'CHAMPIONSHIP':
        return LevelSet_CHAMPIONSHIP_getInstance();
      case 'FANBOOK':
        return LevelSet_FANBOOK_getInstance();
      case 'PROFESSIONAL':
        return LevelSet_PROFESSIONAL_getInstance();
      case 'REVENGE':
        return LevelSet_REVENGE_getInstance();
      default:
        LevelSet_initEntries();
        THROW_ISE();
        break;
    }
  }
  var LevelSet_entriesInitialized;
  function LevelSet_initEntries() {
    if (LevelSet_entriesInitialized)
      return Unit_getInstance();
    LevelSet_entriesInitialized = true;
    LevelSet_CLASSIC_instance = new LevelSet('CLASSIC', 0, 'classic');
    LevelSet_CHAMPIONSHIP_instance = new LevelSet('CHAMPIONSHIP', 1, 'championship');
    LevelSet_FANBOOK_instance = new LevelSet('FANBOOK', 2, 'fanbook');
    LevelSet_PROFESSIONAL_instance = new LevelSet('PROFESSIONAL', 3, 'professional');
    LevelSet_REVENGE_instance = new LevelSet('REVENGE', 4, 'revenge');
  }
  function LevelSet(name, ordinal, path) {
    Enum.call(this, name, ordinal);
    this.m6m_1 = path;
  }
  LevelSet.prototype.g6a = function () {
    var tmp = this.w1() + 1 | 0;
    var tmp$ret$1;
    {
      var tmp0_lowercase = this.il();
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_lowercase;
      }
      tmp$ret$1 = tmp$ret$0.toLowerCase();
    }
    return '' + tmp + '.' + tmp$ret$1;
  };
  LevelSet.$metadata$ = classMeta('LevelSet', undefined, undefined, undefined, undefined, Enum.prototype);
  function Companion_1() {
    Companion_instance_1 = this;
    var tmp = this;
    var tmp$ret$4;
    {
      var tmp0_associateBy = values_3();
      var capacity = coerceAtLeast(mapCapacity(tmp0_associateBy.length), 16);
      var tmp$ret$3;
      {
        var tmp0_associateByTo = LinkedHashMap_init_$Create$_0(capacity);
        var indexedObject = tmp0_associateBy;
        var inductionVariable = 0;
        var last = indexedObject.length;
        while (inductionVariable < last) {
          var element = indexedObject[inductionVariable];
          inductionVariable = inductionVariable + 1 | 0;
          var tmp$ret$2;
          {
            var tmp$ret$1;
            {
              var tmp0_lowercase = element.il();
              var tmp$ret$0;
              {
                tmp$ret$0 = tmp0_lowercase;
              }
              tmp$ret$1 = tmp$ret$0.toLowerCase();
            }
            tmp$ret$2 = tmp$ret$1;
          }
          tmp0_associateByTo.a(tmp$ret$2, element);
        }
        tmp$ret$3 = tmp0_associateByTo;
      }
      tmp$ret$4 = tmp$ret$3;
    }
    tmp.n6m_1 = tmp$ret$4;
  }
  Companion_1.prototype.o6m = function () {
    return this.n6m_1;
  };
  Companion_1.$metadata$ = objectMeta('Companion');
  var Companion_instance_1;
  function Companion_getInstance_9() {
    if (Companion_instance_1 == null)
      new Companion_1();
    return Companion_instance_1;
  }
  function $loadCOROUTINE$2(_this__u8e3s4, levelSet, resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
    this.x6m_1 = _this__u8e3s4;
    this.y6m_1 = levelSet;
  }
  $loadCOROUTINE$2.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 2;
            this.k7_1 = 1;
            suspendResult = this.x6m_1.z6m_1.g1x('maps/' + this.y6m_1.m6m_1 + '.json', this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            var ARGUMENT = suspendResult;
            var ARGUMENT_0 = ensureNotNull(ARGUMENT);
            var ARGUMENT_1 = ARGUMENT_0.e6();
            var json = decodeToString(ARGUMENT_1);
            var tmp0_decodeFromString = Default_getInstance();
            var tmp1_serializer = tmp0_decodeFromString.yn();
            var tmp0_cast = serializer(tmp1_serializer, createKType(getKClass(JsonObject), arrayOf([]), false));
            var obj = tmp0_decodeFromString.xn(isInterface(tmp0_cast, KSerializer) ? tmp0_cast : THROW_CCE(), json);
            var tmp_0 = obj.p10('levels');
            var tmp1_with = tmp_0 instanceof JsonObject ? tmp_0 : THROW_CCE();
            var tmp_1 = tmp1_with.p10('total');
            var total = tmp_1 instanceof JsonPrimitive ? tmp_1 : THROW_CCE();
            this.x6m_1.b6n_1.t7();
            var inductionVariable = 1;
            var last = get_int(total);
            if (inductionVariable <= last)
              do {
                var i = inductionVariable;
                inductionVariable = inductionVariable + 1 | 0;
                var tmp_2 = tmp1_with.p10('level-' + padStart(i.toString(), 3, _Char___init__impl__6a9atx(48)));
                var rows = tmp_2 instanceof JsonArray ? tmp_2 : THROW_CCE();
                var tmp0_mapTo = ArrayList_init_$Create$(collectionSizeOrDefault(rows, 10));
                var tmp0_iterator = rows.h();
                while (tmp0_iterator.n()) {
                  var item = tmp0_iterator.o();
                  tmp0_mapTo.b(get_jsonPrimitive(item).q10());
                }
                var map = tmp0_mapTo;
                this.x6m_1.b6n_1.b(map);
              }
               while (!(i === last));
            return Unit_getInstance();
          case 2:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 2) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  $loadCOROUTINE$2.$metadata$ = classMeta('$loadCOROUTINE$2', undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function LevelsRep(assets, scope) {
    Companion_getInstance_9();
    this.z6m_1 = assets;
    this.a6n_1 = scope;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.b6n_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = LinkedHashMap_init_$Create$();
    }
    tmp_0.c6n_1 = tmp$ret$1;
  }
  LevelsRep.prototype.d6n = function () {
    return this.a6n_1;
  };
  LevelsRep.prototype.e6n = function () {
    return this.b6n_1;
  };
  LevelsRep.prototype.f6n = function (levelSet, $cont) {
    var tmp = new $loadCOROUTINE$2(this, levelSet, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  LevelsRep.prototype.g6n = function (id, tileSet, generated) {
    {
      var tmp0_forEach = tileSet.c6m_1.a3();
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          if (!Companion_getInstance_9().n6m_1.t2(element)) {
            println(element + ' not found in ' + Companion_getInstance_9().n6m_1);
          }
        }
      }
    }
    var tmp$ret$0;
    {
      var tmp1_mod = this.b6n_1.m();
      var r = id % tmp1_mod | 0;
      tmp$ret$0 = r + (tmp1_mod & ((r ^ tmp1_mod) & (r | (-r | 0))) >> 31) | 0;
    }
    var lid = tmp$ret$0;
    var tmp$ret$2;
    {
      var tmp2_getOrPut = this.c6n_1;
      var value = tmp2_getOrPut.z2(lid);
      var tmp;
      if (value == null) {
        var tmp$ret$1;
        {
          var tmp_0;
          if (generated) {
            var fromMap = this.b6n_1.r(lid);
            var tmp_1 = 24 + first(fromMap).length | 0;
            var tmp_2 = 12 + fromMap.m() | 0;
            tmp_0 = generateGameLevel$default(lid, fromMap, 0, 0, tmp_1, tmp_2, 0, 0, null, tileSet.e6m_1, this.a6n_1, 460, null);
          } else {
            tmp_0 = loadGameLevel(lid, this.b6n_1.r(lid), tileSet.e6m_1);
          }
          tmp$ret$1 = tmp_0;
        }
        var answer = tmp$ret$1;
        tmp2_getOrPut.a(lid, answer);
        tmp = answer;
      } else {
        tmp = value;
      }
      tmp$ret$2 = tmp;
    }
    return tmp$ret$2;
  };
  LevelsRep.$metadata$ = classMeta('LevelsRep');
  function LevelSet_CLASSIC_getInstance() {
    LevelSet_initEntries();
    return LevelSet_CLASSIC_instance;
  }
  function LevelSet_CHAMPIONSHIP_getInstance() {
    LevelSet_initEntries();
    return LevelSet_CHAMPIONSHIP_instance;
  }
  function LevelSet_FANBOOK_getInstance() {
    LevelSet_initEntries();
    return LevelSet_FANBOOK_instance;
  }
  function LevelSet_PROFESSIONAL_getInstance() {
    LevelSet_initEntries();
    return LevelSet_PROFESSIONAL_instance;
  }
  function LevelSet_REVENGE_getInstance() {
    LevelSet_initEntries();
    return LevelSet_REVENGE_instance;
  }
  function $loadSoundsCOROUTINE$3(_this__u8e3s4, resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
    this.p6n_1 = _this__u8e3s4;
  }
  $loadSoundsCOROUTINE$3.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 5;
            this.q6n_1 = 'sounds/ap2';
            this.r6n_1 = this.q6n_1 + '/sounds.json';
            this.k7_1 = 1;
            suspendResult = this.p6n_1.i6o_1.g1x(this.r6n_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            this.s6n_1 = suspendResult;
            this.t6n_1 = ensureNotNull(this.s6n_1);
            this.u6n_1 = this.t6n_1.e6();
            this.v6n_1 = decodeToString(this.u6n_1);
            var tmp_0 = this;
            var tmp_1 = this;
            tmp_1.w6n_1 = Default_getInstance();
            var tmp_2 = this;
            tmp_2.x6n_1 = this.w6n_1.yn();
            var tmp_3 = this;
            tmp_3.y6n_1 = serializer(this.x6n_1, createKType(getKClass(JsonObject), arrayOf([]), false));
            var tmp_4 = this.y6n_1;
            tmp_0.z6n_1 = this.w6n_1.xn(isInterface(tmp_4, KSerializer) ? tmp_4 : THROW_CCE(), this.v6n_1);
            this.a6o_1 = this.p6n_1.j6o_1;
            var tmp_5 = this;
            var tmp_6 = this.z6n_1.p10('clips');
            tmp_5.b6o_1 = tmp_6 instanceof JsonObject ? tmp_6 : THROW_CCE();
            var tmp_7 = this;
            tmp_7.c6o_1 = ArrayList_init_$Create$(this.b6o_1.m());
            var tmp_8 = this;
            tmp_8.d6o_1 = this.b6o_1.y().h();
            this.k7_1 = 2;
            continue $sm;
          case 2:
            if (!this.d6o_1.n()) {
              this.k7_1 = 4;
              continue $sm;
            }

            this.e6o_1 = this.d6o_1.o();
            this.f6o_1 = this.e6o_1.j2();
            var tmp_9 = this;
            var tmp_10 = this.e6o_1.l2();
            var tmp_11 = (tmp_10 instanceof JsonObject ? tmp_10 : THROW_CCE()).p10('type');
            tmp_9.g6o_1 = (tmp_11 instanceof JsonPrimitive ? tmp_11 : THROW_CCE()).q10();
            this.h6o_1 = this.e6o_1.j2();
            this.k7_1 = 3;
            suspendResult = this.p6n_1.i6o_1.k1x(this.q6n_1 + '/' + this.f6o_1 + '.' + this.g6o_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 3:
            var ARGUMENT = suspendResult;
            var ARGUMENT_0 = to(this.h6o_1, ARGUMENT);
            this.c6o_1.b(ARGUMENT_0);
            ;
            this.k7_1 = 2;
            continue $sm;
          case 4:
            var ARGUMENT_1 = this.c6o_1;
            var ARGUMENT_2 = toMap(ARGUMENT_1);
            this.a6o_1.b4(ARGUMENT_2);
            var tmp2_forEach = this.p6n_1.j6o_1;
            var tmp0_iterator = tmp2_forEach.y().h();
            while (tmp0_iterator.n()) {
              var element = tmp0_iterator.o();
              var name = element.j2();
              var clip = element.l2();
            }

            return Unit_getInstance();
          case 5:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 5) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  $loadSoundsCOROUTINE$3.$metadata$ = classMeta('$loadSoundsCOROUTINE$3', undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function SoundPlayer(assets) {
    this.i6o_1 = assets;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.j6o_1 = tmp$ret$0;
  }
  SoundPlayer.prototype.k6o = function ($cont) {
    var tmp = new $loadSoundsCOROUTINE$3(this, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  SoundPlayer.prototype.l6o = function (s, looped, playSingle) {
    var tmp0_safe_receiver = this.j6o_1.z2(s);
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        if (playSingle ? !tmp0_safe_receiver.s5i() : false)
          return Unit_getInstance();
        if (!tmp0_safe_receiver.s5i())
          tmp0_safe_receiver.r5i();
        tmp$ret$0 = tmp0_safe_receiver.q5i();
      }
    }
  };
  SoundPlayer.prototype.m6o = function (s, looped, playSingle, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      looped = false;
    if (!(($mask0 & 4) === 0))
      playSingle = true;
    return this.l6o(s, looped, playSingle);
  };
  SoundPlayer.prototype.n6o = function (s, delay) {
    var tmp0_safe_receiver = this.j6o_1.z2(s);
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      tmp0_safe_receiver.r5i();
      tmp = Unit_getInstance();
    }
    return tmp;
  };
  SoundPlayer.prototype.o6o = function (s, delay, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      delay = 0.0;
    return this.n6o(s, delay);
  };
  SoundPlayer.$metadata$ = classMeta('SoundPlayer');
  function get_TILE_HEIGHT() {
    return TILE_HEIGHT;
  }
  var TILE_HEIGHT;
  function get_W4() {
    return W4;
  }
  var W4;
  function get_H4() {
    return H4;
  }
  var H4;
  function get_H2() {
    return H2;
  }
  var H2;
  var Action_ACT_NONE_instance;
  var Action_ACT_UP_instance;
  var Action_ACT_DOWN_instance;
  var Action_ACT_LEFT_instance;
  var Action_ACT_RIGHT_instance;
  var Action_ACT_DIG_instance;
  var Action_entriesInitialized;
  function Action_initEntries() {
    if (Action_entriesInitialized)
      return Unit_getInstance();
    Action_entriesInitialized = true;
    Action_ACT_NONE_instance = new Action_0('ACT_NONE', 0);
    Action_ACT_UP_instance = new Action_0('ACT_UP', 1);
    Action_ACT_DOWN_instance = new Action_0('ACT_DOWN', 2);
    Action_ACT_LEFT_instance = new Action_0('ACT_LEFT', 3);
    Action_ACT_RIGHT_instance = new Action_0('ACT_RIGHT', 4);
    Action_ACT_DIG_instance = new Action_0('ACT_DIG', 5);
  }
  function Action_0(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  Action_0.$metadata$ = classMeta('Action', undefined, undefined, undefined, undefined, Enum.prototype);
  var ActorSequence_RunRight_instance;
  var ActorSequence_RunLeft_instance;
  var ActorSequence_RunUpDown_instance;
  var ActorSequence_BarRight_instance;
  var ActorSequence_BarLeft_instance;
  var ActorSequence_FallRight_instance;
  var ActorSequence_FallLeft_instance;
  var ActorSequence_DigRight_instance;
  var ActorSequence_DigLeft_instance;
  var ActorSequence_Reborn_instance;
  var ActorSequence_ShakeRight_instance;
  var ActorSequence_ShakeLeft_instance;
  var ActorSequence_entriesInitialized;
  function ActorSequence_initEntries() {
    if (ActorSequence_entriesInitialized)
      return Unit_getInstance();
    ActorSequence_entriesInitialized = true;
    ActorSequence_RunRight_instance = new ActorSequence('RunRight', 0, 'runRight');
    ActorSequence_RunLeft_instance = new ActorSequence('RunLeft', 1, 'runLeft');
    ActorSequence_RunUpDown_instance = new ActorSequence('RunUpDown', 2, 'runUpDown');
    ActorSequence_BarRight_instance = new ActorSequence('BarRight', 3, 'barRight');
    ActorSequence_BarLeft_instance = new ActorSequence('BarLeft', 4, 'barLeft');
    ActorSequence_FallRight_instance = new ActorSequence('FallRight', 5, 'fallRight');
    ActorSequence_FallLeft_instance = new ActorSequence('FallLeft', 6, 'fallLeft');
    ActorSequence_DigRight_instance = new ActorSequence('DigRight', 7, 'digRight');
    ActorSequence_DigLeft_instance = new ActorSequence('DigLeft', 8, 'digLeft');
    ActorSequence_Reborn_instance = new ActorSequence('Reborn', 9, 'reborn');
    ActorSequence_ShakeRight_instance = new ActorSequence('ShakeRight', 10, 'shakeRight');
    ActorSequence_ShakeLeft_instance = new ActorSequence('ShakeLeft', 11, 'shakeLeft');
  }
  function ActorSequence(name, ordinal, id) {
    Enum.call(this, name, ordinal);
    this.r6o_1 = id;
  }
  ActorSequence.prototype.w1z = function () {
    return this.r6o_1;
  };
  ActorSequence.$metadata$ = classMeta('ActorSequence', undefined, undefined, undefined, undefined, Enum.prototype);
  function Controllable() {
  }
  Controllable.$metadata$ = interfaceMeta('Controllable');
  function Actor$ActorState$ControllableState$lambda$lambda() {
    return function ($this$validWhen) {
      return !$this$validWhen.m6p();
    };
  }
  function Actor$ActorState$ControllableState$lambda$lambda_0() {
    return function ($this$validWhen) {
      var tmp;
      if ($this$validWhen.s6o().b20() > 0 ? $this$validWhen.z5e().f6q($this$validWhen.z1z(), $this$validWhen.b20() + 1 | 0) : false) {
        var tmp_0;
        var tmp_1 = $this$validWhen.z5e();
        var tmp_2 = $this$validWhen.z1z();
        var tmp_3 = $this$validWhen.b20();
        if (tmp_1.e6q(tmp_2, tmp_3, false, 4, null)) {
          tmp_0 = true;
        } else {
          var tmp_4 = $this$validWhen.z5e();
          var tmp_5 = $this$validWhen.z1z();
          var tmp_6 = $this$validWhen.b20() + 1 | 0;
          tmp_0 = tmp_4.e6q(tmp_5, tmp_6, false, 4, null);
        }
        tmp = !tmp_0;
      } else {
        tmp = false;
      }
      return tmp;
    };
  }
  function Actor$ActorState$ControllableState$lambda$lambda_1($actor, this$0) {
    return function ($this$action) {
      $actor.g6q(ActorSequence_FallLeft_getInstance());
      var tmp0_subject = this$0;
      var tmp;
      if (tmp0_subject instanceof MoveRight) {
        $actor.g6q(ActorSequence_FallRight_getInstance());
        $actor.i6p_1 = Action_ACT_RIGHT_getInstance();
        tmp = Unit_getInstance();
      } else {
        if (tmp0_subject instanceof MoveLeft) {
          $actor.i6p_1 = Action_ACT_LEFT_getInstance();
          tmp = Unit_getInstance();
        } else {
          tmp = Unit_getInstance();
        }
      }
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$ControllableState$lambda($actor, this$0) {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$ControllableState$lambda$lambda());
      $this$edge.m6q(Actor$ActorState$ControllableState$lambda$lambda_0());
      $this$edge.n6q(Actor$ActorState$ControllableState$lambda$lambda_1($actor, this$0));
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$ControllableState$lambda$lambda_2() {
    return function ($this$validWhen) {
      return $this$validWhen.s6o().b20() < 0 ? $this$validWhen.o6q() : false;
    };
  }
  function Actor$ActorState$ControllableState$lambda_0() {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$ControllableState$lambda$lambda_2());
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$ControllableState$lambda$lambda_3() {
    return function ($this$validWhen) {
      return $this$validWhen.s6o().b20() > 0 ? $this$validWhen.p6q() : false;
    };
  }
  function Actor$ActorState$ControllableState$lambda_1() {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$ControllableState$lambda$lambda_3());
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$ControllableState$lambda$lambda_4() {
    return function ($this$validWhen) {
      return $this$validWhen.s6o().z1z() < 0 ? ($this$validWhen.r6q() > 0 ? $this$validWhen.z5e().q6q($this$validWhen.z1z(), $this$validWhen.b20()) : false) ? true : $this$validWhen.r6q() <= 0 ? $this$validWhen.z5e().q6q($this$validWhen.z1z() - 1 | 0, $this$validWhen.b20()) : false : false;
    };
  }
  function Actor$ActorState$ControllableState$lambda_2() {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$ControllableState$lambda$lambda_4());
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$ControllableState$lambda$lambda_5() {
    return function ($this$validWhen) {
      return $this$validWhen.s6o().z1z() > 0 ? ($this$validWhen.r6q() < 0 ? $this$validWhen.z5e().q6q($this$validWhen.z1z(), $this$validWhen.b20()) : false) ? true : $this$validWhen.r6q() >= 0 ? $this$validWhen.z5e().q6q($this$validWhen.z1z() + 1 | 0, $this$validWhen.b20()) : false : false;
    };
  }
  function Actor$ActorState$ControllableState$lambda_3() {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$ControllableState$lambda$lambda_5());
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$ControllableState$lambda$lambda_6() {
    return function ($this$validWhen) {
      return ($this$validWhen.s6o().z1z() < 0 ? $this$validWhen.r6q() > 0 ? true : $this$validWhen.r6q() <= 0 ? !$this$validWhen.z5e().s6q($this$validWhen.z1z() - 1 | 0, $this$validWhen.b20()) : false : false) ? !$this$validWhen.z5e().q6q($this$validWhen.r6q() > 0 ? $this$validWhen.z1z() : $this$validWhen.z1z() - 1 | 0, $this$validWhen.b20()) : false;
    };
  }
  function Actor$ActorState$ControllableState$lambda_4() {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$ControllableState$lambda$lambda_6());
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$ControllableState$lambda$lambda_7() {
    return function ($this$validWhen) {
      return ($this$validWhen.s6o().z1z() > 0 ? $this$validWhen.r6q() < 0 ? true : $this$validWhen.r6q() >= 0 ? !$this$validWhen.z5e().s6q($this$validWhen.z1z() + 1 | 0, $this$validWhen.b20()) : false : false) ? !$this$validWhen.z5e().q6q($this$validWhen.r6q() >= 0 ? $this$validWhen.z1z() + 1 | 0 : $this$validWhen.z1z(), $this$validWhen.b20()) : false;
    };
  }
  function Actor$ActorState$ControllableState$lambda_5() {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$ControllableState$lambda$lambda_7());
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$ControllableState$lambda$lambda_8() {
    return function ($this$validWhen) {
      var tmp;
      var tmp_0;
      if ($this$validWhen instanceof Runner) {
        tmp_0 = $this$validWhen.w6o();
      } else {
        tmp_0 = false;
      }
      if (tmp_0) {
        tmp = $this$validWhen.m6r($this$validWhen.z1z() + 1 | 0);
      } else {
        tmp = false;
      }
      return tmp;
    };
  }
  function Actor$ActorState$ControllableState$lambda_6() {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$ControllableState$lambda$lambda_8());
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$ControllableState$lambda$lambda_9() {
    return function ($this$validWhen) {
      var tmp;
      var tmp_0;
      if ($this$validWhen instanceof Runner) {
        tmp_0 = $this$validWhen.u6o();
      } else {
        tmp_0 = false;
      }
      if (tmp_0) {
        tmp = $this$validWhen.m6r($this$validWhen.z1z() - 1 | 0);
      } else {
        tmp = false;
      }
      return tmp;
    };
  }
  function Actor$ActorState$ControllableState$lambda_7() {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$ControllableState$lambda$lambda_9());
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$ControllableState$lambda$lambda_10(this$0) {
    return function ($this$validWhen) {
      var tmp;
      if (!this$0.u6r_1 ? !get_anyKeyPressed($this$validWhen) : false) {
        tmp = !(this$0 instanceof StopState);
      } else {
        tmp = false;
      }
      return tmp;
    };
  }
  function Actor$ActorState$ControllableState$lambda_8(this$0) {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$ControllableState$lambda$lambda_10(this$0));
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$ControllableState$lambda_9($actor) {
    return function (it) {
      $actor.i6p_1 = Action_ACT_NONE_getInstance();
      return Unit_getInstance();
    };
  }
  function Companion_2() {
    Companion_instance_2 = this;
    this.v6r_1 = 'stop';
  }
  Companion_2.prototype.il = function () {
    return this.v6r_1;
  };
  Companion_2.$metadata$ = objectMeta('Companion');
  var Companion_instance_2;
  function Companion_getInstance_10() {
    if (Companion_instance_2 == null)
      new Companion_2();
    return Companion_instance_2;
  }
  function Actor$ActorState$StopState$lambda($actor) {
    return function ($this$onUpdate) {
      var tmp;
      if ($this$onUpdate.s6o().z1z() < 0) {
        tmp = $actor.g6q(ActorSequence_RunLeft_getInstance());
      }
      var tmp_0;
      if ($this$onUpdate.s6o().z1z() > 0) {
        tmp_0 = $actor.g6q(ActorSequence_RunRight_getInstance());
      }
      return Unit_getInstance();
    };
  }
  function Companion_3() {
    Companion_instance_3 = this;
    this.w6r_1 = 'fall';
  }
  Companion_3.prototype.il = function () {
    return this.w6r_1;
  };
  Companion_3.$metadata$ = objectMeta('Companion');
  var Companion_instance_3;
  function Companion_getInstance_11() {
    if (Companion_instance_3 == null)
      new Companion_3();
    return Companion_instance_3;
  }
  function Actor$ActorState$FallState$lambda($actor) {
    return function (it) {
      var tmp$ret$0;
      {
        {
        }
        var tmp;
        if ($actor instanceof Runner) {
          var tmp_0 = Sound_FALL_getInstance();
          var tmp_1 = $actor.z1z();
          var tmp_2 = $actor.b20();
          tmp = $actor.x6o_1.x6r(tmp_0, tmp_1, tmp_2, false, 8, null);
        }
        tmp$ret$0 = tmp;
      }
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$FallState$lambda_0($actor) {
    return function (it) {
      var tmp$ret$0;
      {
        {
        }
        $actor.x6o_1.y6r(Sound_FALL_getInstance());
        tmp$ret$0 = Unit_getInstance();
      }
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$FallState$lambda$lambda($actor) {
    return function ($this$action) {
      var tmp0_safe_receiver = $actor.z6r();
      if (tmp0_safe_receiver == null)
        null;
      else
        tmp0_safe_receiver();
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$FallState$lambda$lambda_0() {
    return function ($this$validWhen) {
      return $this$validWhen.m6p();
    };
  }
  function Actor$ActorState$FallState$lambda_1($actor) {
    return function ($this$edge) {
      $this$edge.n6q(Actor$ActorState$FallState$lambda$lambda($actor));
      $this$edge.m6q(Actor$ActorState$FallState$lambda$lambda_0());
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$FallState$lambda_2($actor) {
    return function ($this$onUpdate) {
      var tmp;
      if ($this$onUpdate.s6o().z1z() < 0 ? true : $this$onUpdate.u6o()) {
        if (!$this$onUpdate.e6p_1.equals(ActorSequence_FallLeft_getInstance()))
          $this$onUpdate.g6q(ActorSequence_FallLeft_getInstance());
        $actor.i6p_1 = $this$onUpdate.u6o() ? Action_ACT_DIG_getInstance() : Action_ACT_LEFT_getInstance();
        tmp = Unit_getInstance();
      } else if ($this$onUpdate.s6o().z1z() > 0 ? true : $this$onUpdate.w6o()) {
        if (!$this$onUpdate.e6p_1.equals(ActorSequence_FallRight_getInstance()))
          $this$onUpdate.g6q(ActorSequence_FallRight_getInstance());
        $actor.i6p_1 = $this$onUpdate.w6o() ? Action_ACT_DIG_getInstance() : Action_ACT_RIGHT_getInstance();
        tmp = Unit_getInstance();
      } else if ($this$onUpdate.s6o().b20() > 0) {
        $actor.i6p_1 = Action_ACT_DOWN_getInstance();
        tmp = Unit_getInstance();
      } else if (get_anyKeyPressed($this$onUpdate)) {
        $actor.i6p_1 = Action_ACT_NONE_getInstance();
        tmp = Unit_getInstance();
      }
      return null;
    };
  }
  function Actor$ActorState$FallState$lambda_3($actor) {
    return function ($this$BehaviorMoveDown) {
      var isBar = $this$BehaviorMoveDown.z5e().q6q($this$BehaviorMoveDown.z1z(), $this$BehaviorMoveDown.b20());
      var tmp;
      var tmp_0;
      var tmp_1 = $this$BehaviorMoveDown.z5e();
      var tmp_2 = $this$BehaviorMoveDown.z1z();
      var tmp_3 = $this$BehaviorMoveDown.b20() + 1 | 0;
      if (tmp_1.a6s(tmp_2, tmp_3, false, false, 12, null)) {
        tmp_0 = true;
      } else {
        tmp_0 = isBar;
      }
      if (tmp_0) {
        $this$BehaviorMoveDown.d6p_1.o2f(0);
        var tmp0_subject = $actor.i6p_1;
        var tmp0 = tmp0_subject.w1();
        var tmp_4;
        switch (tmp0) {
          case 3:
            tmp_4 = isBar ? ActorSequence_BarLeft_getInstance().r6o_1 : ActorSequence_RunLeft_getInstance().r6o_1;
            break;
          case 4:
            tmp_4 = isBar ? ActorSequence_BarRight_getInstance().r6o_1 : ActorSequence_RunRight_getInstance().r6o_1;
            break;
          default:
            if (isBar)
              $this$BehaviorMoveDown.g6q(ActorSequence_BarLeft_getInstance());
            Companion_getInstance_10();
            tmp_4 = 'stop';
            break;
        }
        tmp = tmp_4;
      } else {
        tmp = null;
      }
      return tmp;
    };
  }
  function MovementState_init_$Init$(actor, animName, name, $mask0, $marker, $this) {
    if (!(($mask0 & 4) === 0))
      name = ensureNotNull(animName).r6o_1;
    MovementState.call($this, actor, animName, name);
    return $this;
  }
  function Actor$ActorState$MovementState$lambda$lambda() {
    return function ($this$validWhen) {
      return $this$validWhen.s6o().b20() > 0;
    };
  }
  function Actor$ActorState$MovementState$lambda$lambda_0() {
    return function ($this$validWhen) {
      return $this$validWhen.s6o().b20() < 0;
    };
  }
  function Actor$ActorState$MovementState$lambda$lambda_1() {
    return function ($this$validWhen) {
      return $this$validWhen.u6o();
    };
  }
  function Actor$ActorState$MovementState$lambda$lambda_2() {
    return function ($this$validWhen) {
      return $this$validWhen.w6o();
    };
  }
  function Actor$ActorState$MovementState$lambda() {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$MovementState$lambda$lambda());
      $this$edge.m6q(Actor$ActorState$MovementState$lambda$lambda_0());
      $this$edge.m6q(Actor$ActorState$MovementState$lambda$lambda_1());
      $this$edge.m6q(Actor$ActorState$MovementState$lambda$lambda_2());
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$MovementState$lambda_0() {
    return function ($this$onUpdate) {
      var tmp0_this = $this$onUpdate;
      var tmp1 = tmp0_this.f6p_1;
      tmp0_this.f6p_1 = tmp1 + 1 | 0;
      return null;
    };
  }
  function Actor$ActorState$MoveLeft$BarLeft$lambda$lambda() {
    return function ($this$validWhen) {
      return !$this$validWhen.z5e().q6q($this$validWhen.z1z(), $this$validWhen.b20());
    };
  }
  function Actor$ActorState$MoveLeft$BarLeft$lambda() {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$MoveLeft$BarLeft$lambda$lambda());
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$MoveLeft$BarLeft$lambda_0($actor) {
    return function (it) {
      $actor.d6p_1.o2f(0);
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$MoveLeft$RunLeft$lambda$lambda() {
    return function ($this$validWhen) {
      return $this$validWhen.z5e().q6q($this$validWhen.z1z(), $this$validWhen.b20());
    };
  }
  function Actor$ActorState$MoveLeft$RunLeft$lambda() {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$MoveLeft$RunLeft$lambda$lambda());
      return Unit_getInstance();
    };
  }
  function BarLeft(actor) {
    MoveLeft.call(this, actor, ActorSequence_BarLeft_getInstance());
    var tmp = ActorSequence_RunLeft_getInstance().r6o_1;
    this.u6j(tmp, false, 0, Actor$ActorState$MoveLeft$BarLeft$lambda(), 6, null);
    this.s6j(Actor$ActorState$MoveLeft$BarLeft$lambda_0(actor));
  }
  BarLeft.$metadata$ = classMeta('BarLeft', undefined, undefined, undefined, undefined, MoveLeft.prototype);
  function RunLeft(actor) {
    MoveLeft.call(this, actor, ActorSequence_RunLeft_getInstance());
    var tmp = ActorSequence_BarLeft_getInstance().r6o_1;
    this.u6j(tmp, false, 0, Actor$ActorState$MoveLeft$RunLeft$lambda(), 6, null);
  }
  RunLeft.$metadata$ = classMeta('RunLeft', undefined, undefined, undefined, undefined, MoveLeft.prototype);
  function Actor$ActorState$MoveLeft$lambda$lambda() {
    return function ($this$validWhen) {
      return !$this$validWhen.s6s();
    };
  }
  function Actor$ActorState$MoveLeft$lambda() {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$MoveLeft$lambda$lambda());
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$MoveLeft$lambda_0(this$0) {
    return function ($this$onUpdate) {
      var tmp0_this = $this$onUpdate.d6p_1;
      tmp0_this.n2f(tmp0_this.z1z() - $this$onUpdate.z6o_1 | 0);
      this$0.j6s($this$onUpdate);
      var tmp;
      if ($this$onUpdate.r6q() > 0) {
        return null;
      }
      var tmp_0;
      if (!$this$onUpdate.s6s()) {
        $this$onUpdate.d6p_1.n2f(0);
        Companion_getInstance_10();
        return 'stop';
      }
      var tmp_1;
      if ($this$onUpdate.r6q() < -10) {
        var tmp1_this = $this$onUpdate.c6p_1;
        var tmp2 = tmp1_this.z1z();
        tmp1_this.n2f(tmp2 - 1 | 0);
        var tmp3_this = $this$onUpdate.d6p_1;
        tmp3_this.n2f(tmp3_this.z1z() + 20 | 0);
        var tmp_2;
        var tmp_3;
        if ($this$onUpdate instanceof Guard) {
          tmp_3 = $this$onUpdate.k6t_1;
        } else {
          tmp_3 = false;
        }
        if (tmp_3) {
          $this$onUpdate.k6t_1 = false;
          tmp_2 = Unit_getInstance();
        }
        tmp_1 = tmp_2;
      }
      return null;
    };
  }
  function Actor$ActorState$MoveRight$lambda(this$0) {
    return function ($this$onUpdate) {
      var tmp0_this = $this$onUpdate.d6p_1;
      tmp0_this.n2f(tmp0_this.z1z() + $this$onUpdate.z6o_1 | 0);
      this$0.j6s($this$onUpdate);
      var tmp;
      if (!$this$onUpdate.m6t()) {
        $this$onUpdate.d6p_1.n2f(0);
        Companion_getInstance_10();
        return 'stop';
      }
      var tmp_0;
      if ($this$onUpdate.r6q() > 10) {
        var tmp1_this = $this$onUpdate.c6p_1;
        var tmp2 = tmp1_this.z1z();
        tmp1_this.n2f(tmp2 + 1 | 0);
        var tmp3_this = $this$onUpdate.d6p_1;
        tmp3_this.n2f(tmp3_this.z1z() - 20 | 0);
        var tmp_1;
        var tmp_2;
        if ($this$onUpdate instanceof Guard) {
          tmp_2 = $this$onUpdate.k6t_1;
        } else {
          tmp_2 = false;
        }
        if (tmp_2) {
          $this$onUpdate.k6t_1 = false;
          tmp_1 = Unit_getInstance();
        }
        tmp_0 = tmp_1;
      }
      return null;
    };
  }
  function Actor$ActorState$RunRight$lambda$lambda() {
    return function ($this$validWhen) {
      return $this$validWhen.r6q() >= 0 ? $this$validWhen.z5e().q6q($this$validWhen.z1z() + 1 | 0, $this$validWhen.b20()) : false;
    };
  }
  function Actor$ActorState$RunRight$lambda() {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$RunRight$lambda$lambda());
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$BarRight$lambda$lambda() {
    return function ($this$validWhen) {
      return ($this$validWhen.r6q() >= 0 ? !$this$validWhen.z5e().s6q($this$validWhen.z1z() + 1 | 0, $this$validWhen.b20()) : false) ? !$this$validWhen.z5e().q6q($this$validWhen.z1z() + 1 | 0, $this$validWhen.b20()) : false;
    };
  }
  function Actor$ActorState$BarRight$lambda() {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$BarRight$lambda$lambda());
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$BarRight$lambda_0($actor) {
    return function (it) {
      $actor.d6p_1.o2f(0);
      return Unit_getInstance();
    };
  }
  function Companion_4() {
    Companion_instance_4 = this;
    this.n6t_1 = 'runDown';
  }
  Companion_4.$metadata$ = objectMeta('Companion');
  var Companion_instance_4;
  function Companion_getInstance_12() {
    if (Companion_instance_4 == null)
      new Companion_4();
    return Companion_instance_4;
  }
  function Actor$ActorState$RunDown$lambda$lambda() {
    return function ($this$validWhen) {
      return !$this$validWhen.p6q();
    };
  }
  function Actor$ActorState$RunDown$lambda() {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$RunDown$lambda$lambda());
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$RunDown$lambda_0() {
    return function ($this$BehaviorMoveDown) {
      var tmp;
      if (!$this$BehaviorMoveDown.p6q()) {
        tmp = $this$BehaviorMoveDown.d6p_1.o2f(0);
      }
      return null;
    };
  }
  function Actor$ActorState$MoveUp$lambda(this$0) {
    return function ($this$onUpdate) {
      var pos = $this$onUpdate.o6t() > 0;
      var tmp0_this = $this$onUpdate.d6p_1;
      tmp0_this.o2f(tmp0_this.b20() - $this$onUpdate.a6p_1 | 0);
      this$0.i6s($this$onUpdate);
      var tmp;
      var tmp_0;
      if (pos ? $this$onUpdate.o6t() <= 0 : false) {
        var tmp1_safe_receiver = this$0.x6t_1;
        tmp_0 = (tmp1_safe_receiver == null ? null : tmp1_safe_receiver($this$onUpdate)) === true;
      } else {
        tmp_0 = false;
      }
      if (tmp_0) {
        $this$onUpdate.d6p_1.o2f(0);
        tmp = Unit_getInstance();
      }
      var tmp_1;
      if ($this$onUpdate.o6t() < -11) {
        var tmp2_this = $this$onUpdate.c6p_1;
        var tmp3 = tmp2_this.b20();
        tmp2_this.o2f(tmp3 - 1 | 0);
        var tmp4_this = $this$onUpdate.d6p_1;
        tmp_1 = tmp4_this.o2f(tmp4_this.b20() + 22 | 0);
      }
      return null;
    };
  }
  function Companion_5() {
    Companion_instance_5 = this;
    this.y6t_1 = 'runUp';
  }
  Companion_5.$metadata$ = objectMeta('Companion');
  var Companion_instance_5;
  function Companion_getInstance_13() {
    if (Companion_instance_5 == null)
      new Companion_5();
    return Companion_instance_5;
  }
  function Actor$ActorState$RunUp$_init_$lambda_bf4iwu() {
    return function ($this$null) {
      return !$this$null.o6q();
    };
  }
  function Actor$ActorState$RunUp$lambda$lambda(this$0) {
    return function ($this$validWhen) {
      var tmp0_safe_receiver = this$0.z6t();
      var tmp;
      if (tmp0_safe_receiver == null) {
        tmp = null;
      } else {
        var tmp$ret$1;
        {
          {
          }
          var tmp$ret$0;
          {
            tmp$ret$0 = tmp0_safe_receiver($this$validWhen);
          }
          tmp$ret$1 = tmp$ret$0;
        }
        tmp = tmp$ret$1;
      }
      return tmp === true;
    };
  }
  function Actor$ActorState$RunUp$lambda(this$0) {
    return function ($this$edge) {
      $this$edge.m6q(Actor$ActorState$RunUp$lambda$lambda(this$0));
      return Unit_getInstance();
    };
  }
  function ControllableState(actor, animName, name) {
    ActorState.call(this, actor, animName, name);
    this.u6r_1 = true;
    Companion_getInstance_11();
    this.u6j('fall', false, 0, Actor$ActorState$ControllableState$lambda(actor, this), 6, null);
    Companion_getInstance_13();
    this.u6j('runUp', false, 0, Actor$ActorState$ControllableState$lambda_0(), 6, null);
    Companion_getInstance_12();
    this.u6j('runDown', false, 0, Actor$ActorState$ControllableState$lambda_1(), 6, null);
    var tmp = ActorSequence_BarLeft_getInstance().r6o_1;
    this.u6j(tmp, false, 0, Actor$ActorState$ControllableState$lambda_2(), 6, null);
    var tmp_0 = ActorSequence_BarRight_getInstance().r6o_1;
    this.u6j(tmp_0, false, 0, Actor$ActorState$ControllableState$lambda_3(), 6, null);
    var tmp_1 = ActorSequence_RunLeft_getInstance().r6o_1;
    this.u6j(tmp_1, false, 0, Actor$ActorState$ControllableState$lambda_4(), 6, null);
    var tmp_2 = ActorSequence_RunRight_getInstance().r6o_1;
    this.u6j(tmp_2, false, 0, Actor$ActorState$ControllableState$lambda_5(), 6, null);
    var tmp_3 = ActorSequence_DigRight_getInstance().r6o_1;
    this.u6j(tmp_3, false, 0, Actor$ActorState$ControllableState$lambda_6(), 6, null);
    var tmp_4 = ActorSequence_DigLeft_getInstance().r6o_1;
    this.u6j(tmp_4, false, 0, Actor$ActorState$ControllableState$lambda_7(), 6, null);
    Companion_getInstance_10();
    var tmp_5 = IntCompanionObject_getInstance().b1_1;
    this.u6j('stop', false, tmp_5, Actor$ActorState$ControllableState$lambda_8(this), 2, null);
    this.s6j(Actor$ActorState$ControllableState$lambda_9(actor));
  }
  ControllableState.$metadata$ = classMeta('ControllableState', undefined, undefined, undefined, undefined, ActorState.prototype);
  function StopState(actor) {
    Companion_getInstance_10();
    Companion_getInstance_10();
    ControllableState.call(this, actor, null, 'stop');
    this.k6s(Actor$ActorState$StopState$lambda(actor));
  }
  StopState.$metadata$ = classMeta('StopState', undefined, undefined, undefined, undefined, ControllableState.prototype);
  function FallState(actor) {
    Companion_getInstance_11();
    Companion_getInstance_11();
    ActorState.call(this, actor, null, 'fall');
    this.s6j(Actor$ActorState$FallState$lambda(actor));
    this.t6j(Actor$ActorState$FallState$lambda_0(actor));
    Companion_getInstance_10();
    this.u6j('stop', false, 0, Actor$ActorState$FallState$lambda_1(actor), 6, null);
    this.k6s(Actor$ActorState$FallState$lambda_2(actor));
    this.a6u(this, Actor$ActorState$FallState$lambda_3(actor));
  }
  FallState.$metadata$ = classMeta('FallState', undefined, undefined, undefined, undefined, ActorState.prototype);
  function MovementState(actor, animName, name) {
    ControllableState.call(this, actor, animName, name);
    Companion_getInstance_10();
    var tmp = IntCompanionObject_getInstance().b1_1;
    this.u6j('stop', false, tmp, Actor$ActorState$MovementState$lambda(), 2, null);
    this.k6s(Actor$ActorState$MovementState$lambda_0());
  }
  MovementState.$metadata$ = classMeta('MovementState', undefined, undefined, undefined, undefined, ControllableState.prototype);
  function MoveLeft(actor, animName) {
    MovementState_init_$Init$(actor, animName, null, 4, null, this);
    Companion_getInstance_10();
    this.u6j('stop', false, 0, Actor$ActorState$MoveLeft$lambda(), 6, null);
    this.k6s(Actor$ActorState$MoveLeft$lambda_0(this));
  }
  MoveLeft.$metadata$ = classMeta('MoveLeft', undefined, undefined, undefined, undefined, MovementState.prototype);
  function MoveRight(actor, animName) {
    MovementState_init_$Init$(actor, animName, null, 4, null, this);
    this.k6s(Actor$ActorState$MoveRight$lambda(this));
  }
  MoveRight.$metadata$ = classMeta('MoveRight', undefined, undefined, undefined, undefined, MovementState.prototype);
  function RunRight(actor) {
    MoveRight.call(this, actor, ActorSequence_RunRight_getInstance());
    var tmp = ActorSequence_BarRight_getInstance().r6o_1;
    this.u6j(tmp, false, 0, Actor$ActorState$RunRight$lambda(), 6, null);
  }
  RunRight.$metadata$ = classMeta('RunRight', undefined, undefined, undefined, undefined, MoveRight.prototype);
  function BarRight(actor) {
    MoveRight.call(this, actor, ActorSequence_BarRight_getInstance());
    var tmp = ActorSequence_RunRight_getInstance().r6o_1;
    this.u6j(tmp, false, 0, Actor$ActorState$BarRight$lambda(), 6, null);
    this.s6j(Actor$ActorState$BarRight$lambda_0(actor));
  }
  BarRight.$metadata$ = classMeta('BarRight', undefined, undefined, undefined, undefined, MoveRight.prototype);
  function RunDown(actor) {
    Companion_getInstance_12();
    var tmp = ActorSequence_RunUpDown_getInstance();
    Companion_getInstance_12();
    MovementState.call(this, actor, tmp, 'runDown');
    Companion_getInstance_10();
    this.u6j('stop', false, 0, Actor$ActorState$RunDown$lambda(), 6, null);
    this.a6u(this, Actor$ActorState$RunDown$lambda_0());
  }
  RunDown.$metadata$ = classMeta('RunDown', undefined, undefined, undefined, undefined, MovementState.prototype);
  function MoveUp(actor, name, onCenter) {
    MovementState.call(this, actor, ActorSequence_RunUpDown_getInstance(), name);
    this.x6t_1 = onCenter;
    this.k6s(Actor$ActorState$MoveUp$lambda(this));
  }
  MoveUp.prototype.z6t = function () {
    return this.x6t_1;
  };
  MoveUp.$metadata$ = classMeta('MoveUp', undefined, undefined, undefined, undefined, MovementState.prototype);
  function RunUp(actor) {
    Companion_getInstance_13();
    Companion_getInstance_13();
    MoveUp.call(this, actor, 'runUp', Actor$ActorState$RunUp$_init_$lambda_bf4iwu());
    Companion_getInstance_10();
    this.u6j('stop', false, 0, Actor$ActorState$RunUp$lambda(this), 6, null);
  }
  RunUp.$metadata$ = classMeta('RunUp', undefined, undefined, undefined, undefined, MoveUp.prototype);
  function Actor$ActorState$lambda(this$0) {
    return function (it) {
      var tmp0_safe_receiver = this$0.h6s_1;
      if (tmp0_safe_receiver == null)
        null;
      else {
        var tmp$ret$0;
        {
          {
          }
          tmp$ret$0 = this$0.g6s_1.g6q(tmp0_safe_receiver);
        }
      }
      return Unit_getInstance();
    };
  }
  function Actor$ActorState$BehaviorMoveDown$lambda($this_BehaviorMoveDown, $onCenter) {
    return function ($this$onUpdate) {
      var tmp0_this = $this$onUpdate.d6p_1;
      tmp0_this.o2f(tmp0_this.b20() + $this$onUpdate.a6p_1 | 0);
      $this_BehaviorMoveDown.i6s($this$onUpdate);
      var tmp;
      var containsUpper = $this$onUpdate.a6p_1;
      var containsArg = $this$onUpdate.o6t();
      if (0 <= containsArg ? containsArg < containsUpper : false) {
        var tmp1_safe_receiver = $onCenter;
        var tmp2_safe_receiver = tmp1_safe_receiver == null ? null : tmp1_safe_receiver($this$onUpdate);
        if (tmp2_safe_receiver == null)
          null;
        else {
          var tmp$ret$0;
          {
            {
            }
            return tmp2_safe_receiver;
          }
        }
        tmp = Unit_getInstance();
      }
      var tmp_0;
      if ($this$onUpdate.o6t() > 11) {
        var tmp3_this = $this$onUpdate.c6p_1;
        var tmp4 = tmp3_this.b20();
        tmp3_this.o2f(tmp4 + 1 | 0);
        var tmp5_this = $this$onUpdate.d6p_1;
        tmp_0 = tmp5_this.o2f(tmp5_this.b20() - 22 | 0);
      }
      return null;
    };
  }
  function checkGold($this) {
    if (((($this.z5e().d6u($this.z1z(), $this.b20()) ? $this.r6q() > (-$this.z6o_1 | 0) : false) ? $this.r6q() < $this.z6o_1 : false) ? $this.o6t() > (-$this.a6p_1 | 0) : false) ? $this.o6t() < $this.a6p_1 : false) {
      if ($this.c6u()) {
        $this.z5e().b6u($this.z1z(), $this.b20());
      }
    }
  }
  function ActorState(actor, animName, name) {
    StackedState.call(this, name);
    this.g6s_1 = actor;
    this.h6s_1 = animName;
    this.s6j(Actor$ActorState$lambda(this));
  }
  ActorState.prototype.i6s = function (_this__u8e3s4) {
    if (_this__u8e3s4.r6q() > 0) {
      var tmp0_this = _this__u8e3s4.d6p_1;
      tmp0_this.n2f(tmp0_this.z1z() - _this__u8e3s4.z6o_1 | 0);
      if (_this__u8e3s4.d6p_1.z1z() < 0)
        _this__u8e3s4.d6p_1.n2f(0);
    } else if (_this__u8e3s4.r6q() < 0) {
      var tmp1_this = _this__u8e3s4.d6p_1;
      tmp1_this.n2f(tmp1_this.z1z() + _this__u8e3s4.z6o_1 | 0);
      if (_this__u8e3s4.d6p_1.z1z() > 0)
        _this__u8e3s4.d6p_1.n2f(0);
    }
  };
  ActorState.prototype.j6s = function (_this__u8e3s4) {
    if (_this__u8e3s4.d6p_1.b20() > 0) {
      var tmp0_this = _this__u8e3s4.d6p_1;
      tmp0_this.o2f(tmp0_this.b20() - _this__u8e3s4.a6p_1 | 0);
      if (_this__u8e3s4.d6p_1.b20() < 0)
        _this__u8e3s4.d6p_1.o2f(0);
    } else if (_this__u8e3s4.d6p_1.b20() < 0) {
      var tmp1_this = _this__u8e3s4.d6p_1;
      tmp1_this.o2f(tmp1_this.b20() + _this__u8e3s4.a6p_1 | 0);
      if (_this__u8e3s4.d6p_1.b20() > 0)
        _this__u8e3s4.d6p_1.o2f(0);
    }
  };
  ActorState.prototype.a6u = function (_this__u8e3s4, onCenter) {
    var tmp$ret$0;
    {
      {
      }
      {
        _this__u8e3s4.k6s(Actor$ActorState$BehaviorMoveDown$lambda(_this__u8e3s4, onCenter));
      }
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0;
  };
  ActorState.$metadata$ = classMeta('ActorState', undefined, undefined, undefined, undefined, StackedState.prototype);
  function Actor$fsm$delegate$lambda$lambda($stopState, this$0) {
    return function ($this$buildStateMachine) {
      $this$buildStateMachine.e6u($stopState);
      $this$buildStateMachine.e6u(new RunLeft(this$0));
      $this$buildStateMachine.e6u(new BarLeft(this$0));
      $this$buildStateMachine.e6u(new RunRight(this$0));
      $this$buildStateMachine.e6u(new RunUp(this$0));
      $this$buildStateMachine.e6u(new RunDown(this$0));
      $this$buildStateMachine.e6u(new BarRight(this$0));
      $this$buildStateMachine.e6u(new FallState(this$0));
      return Unit_getInstance();
    };
  }
  function Actor$fsm$delegate$lambda(this$0) {
    return function () {
      var stopState = new StopState(this$0);
      var tmp = stopState.il();
      return buildStateMachine(tmp, Actor$fsm$delegate$lambda$lambda(stopState, this$0));
    };
  }
  function Actor$lambda(this$0) {
    return function (it) {
      this$0.b6p_1 = true;
      this$0.r5i();
      this$0.f6p_1 = 0;
      this$0.g6q(ActorSequence_RunRight_getInstance());
      this$0.d6p_1.n2f(0);
      this$0.d6p_1.o2f(0);
      return Unit_getInstance();
    };
  }
  function Actor(game) {
    this.x6o_1 = game;
    var tmp = this;
    tmp.y6o_1 = lazy(Actor$fsm$delegate$lambda(this));
    this.z6o_1 = 4;
    this.a6p_1 = 4;
    this.b6p_1 = true;
    this.c6p_1 = MutableVec2i_init_$Create$(Companion_getInstance_0().f2f_1);
    this.d6p_1 = MutableVec2i_init_$Create$(Companion_getInstance_0().f2f_1);
    this.e6p_1 = ActorSequence_RunRight_getInstance();
    this.f6p_1 = 0;
    this.g6p_1 = 0;
    var tmp0_this = this.x6o_1;
    {
      var tmp0_plusAssign = tmp0_this.b6e_1;
      tmp0_plusAssign.b(Actor$lambda(this));
    }
    this.h6p_1 = MutableVec2i_init_$Create$_0();
    this.i6p_1 = Action_ACT_NONE_getInstance();
    this.j6p_1 = false;
    this.k6p_1 = false;
    this.l6p_1 = null;
  }
  Actor.prototype.f6u = function () {
    return this.x6o_1;
  };
  Actor.prototype.g6u = function () {
    var tmp$ret$0;
    {
      var tmp0_getValue = fsm$factory();
      tmp$ret$0 = this.y6o_1.l2();
    }
    return tmp$ret$0;
  };
  Actor.prototype.h6u = function () {
    return this.a6p_1;
  };
  Actor.prototype.i6u = function (_set____db54di) {
    this.b6p_1 = _set____db54di;
  };
  Actor.prototype.j6u = function () {
    return this.b6p_1;
  };
  Actor.prototype.k6u = function () {
    return this.c6p_1;
  };
  Actor.prototype.l6u = function () {
    return this.d6p_1;
  };
  Actor.prototype.z5e = function () {
    return ensureNotNull(this.x6o_1.j6e_1);
  };
  Actor.prototype.m6u = function () {
    return imul(this.c6p_1.z1z(), 20) + this.d6p_1.z1z() | 0;
  };
  Actor.prototype.n6u = function () {
    return imul(this.c6p_1.b20(), 22) + this.d6p_1.b20() | 0;
  };
  Actor.prototype.z1z = function () {
    return this.c6p_1.z1z();
  };
  Actor.prototype.b20 = function () {
    return this.c6p_1.b20();
  };
  Actor.prototype.r6q = function () {
    return this.d6p_1.z1z();
  };
  Actor.prototype.o6t = function () {
    return this.d6p_1.b20();
  };
  Actor.prototype.g6q = function (v) {
    if (!this.e6p_1.equals(v)) {
      this.e6p_1 = v;
      this.f6p_1 = 0;
      this.g6p_1 = 0;
    }
  };
  Actor.prototype.o6u = function () {
    return this.e6p_1;
  };
  Actor.prototype.p6u = function (_set____db54di) {
    this.f6p_1 = _set____db54di;
  };
  Actor.prototype.q6u = function () {
    return this.f6p_1;
  };
  Actor.prototype.r6u = function () {
    return this.g6p_1;
  };
  Actor.prototype.s6o = function () {
    return this.h6p_1;
  };
  Actor.prototype.t6o = function (_set____db54di) {
    this.j6p_1 = _set____db54di;
  };
  Actor.prototype.u6o = function () {
    return this.j6p_1;
  };
  Actor.prototype.v6o = function (_set____db54di) {
    this.k6p_1 = _set____db54di;
  };
  Actor.prototype.w6o = function () {
    return this.k6p_1;
  };
  Actor.prototype.s6u = function () {
    var tmp = this.g6u();
    tmp.t6u(this, false, 2, null);
    checkGold(this);
  };
  Actor.prototype.m6p = function () {
    var tmp;
    var tmp_0;
    var tmp_1;
    var tmp_2 = this.z5e();
    var tmp_3 = this.z1z();
    var tmp_4 = this.b20();
    if (tmp_2.e6q(tmp_3, tmp_4, false, 4, null)) {
      tmp_1 = true;
    } else {
      tmp_1 = this.o6t() === 0 ? this.z5e().q6q(this.z1z(), this.b20()) : false;
    }
    if (tmp_1) {
      tmp_0 = true;
    } else {
      var tmp_5;
      if (this.o6t() >= 0) {
        var tmp_6 = this.z5e();
        var tmp_7 = this.z1z();
        var tmp_8 = this.b20() + 1 | 0;
        tmp_5 = tmp_6.a6s(tmp_7, tmp_8, false, false, 12, null);
      } else {
        tmp_5 = false;
      }
      tmp_0 = tmp_5;
    }
    if (tmp_0) {
      tmp = true;
    } else {
      tmp = this.z5e().v6u(this.z1z(), this.b20() + 1 | 0) ? this.o6t() >= this.x6o_1.u6u(this.z1z(), this.b20() + 1 | 0).l6u().b20() : false;
    }
    return tmp;
  };
  Actor.prototype.z6r = function () {
    return this.l6p_1;
  };
  Actor.prototype.o6q = function () {
    var tmp;
    var tmp_0;
    var tmp_1;
    if (this.o6t() <= 0) {
      var tmp_2 = this.z5e();
      var tmp_3 = this.z1z();
      var tmp_4 = this.b20();
      tmp_1 = tmp_2.e6q(tmp_3, tmp_4, false, 4, null);
    } else {
      tmp_1 = false;
    }
    if (tmp_1) {
      tmp_0 = !this.z5e().s6q(this.z1z(), this.b20() - 1 | 0);
    } else {
      tmp_0 = false;
    }
    if (tmp_0) {
      tmp = true;
    } else {
      var tmp_5;
      if (this.o6t() > 0) {
        var tmp_6 = this.z5e();
        var tmp_7 = this.z1z();
        var tmp_8 = this.b20() + 1 | 0;
        tmp_5 = tmp_6.e6q(tmp_7, tmp_8, false, 4, null);
      } else {
        tmp_5 = false;
      }
      tmp = tmp_5;
    }
    return tmp;
  };
  Actor.prototype.p6q = function () {
    var tmp;
    var tmp_0;
    var tmp_1 = this.z5e();
    var tmp_2 = this.z1z();
    var tmp_3 = this.b20();
    if (tmp_1.e6q(tmp_2, tmp_3, false, 4, null)) {
      tmp_0 = this.o6t() < 0;
    } else {
      tmp_0 = false;
    }
    if (tmp_0) {
      tmp = true;
    } else {
      tmp = this.z5e().f6q(this.z1z(), this.b20() + 1 | 0);
    }
    return tmp;
  };
  Actor.prototype.m6t = function () {
    return this.r6q() < 0 ? true : this.r6q() >= 0 ? !this.z5e().s6q(this.z1z() + 1 | 0, this.b20()) : false;
  };
  Actor.prototype.s6s = function () {
    return this.r6q() > 0 ? true : this.r6q() <= 0 ? !this.z5e().s6q(this.z1z() - 1 | 0, this.b20()) : false;
  };
  Actor.prototype.r5i = function () {
    var tmp = this.g6u();
    return tmp.w6u(false, 1, null);
  };
  Actor.$metadata$ = classMeta('Actor', [Controllable]);
  function Action_ACT_NONE_getInstance() {
    Action_initEntries();
    return Action_ACT_NONE_instance;
  }
  function Action_ACT_UP_getInstance() {
    Action_initEntries();
    return Action_ACT_UP_instance;
  }
  function Action_ACT_DOWN_getInstance() {
    Action_initEntries();
    return Action_ACT_DOWN_instance;
  }
  function Action_ACT_LEFT_getInstance() {
    Action_initEntries();
    return Action_ACT_LEFT_instance;
  }
  function Action_ACT_RIGHT_getInstance() {
    Action_initEntries();
    return Action_ACT_RIGHT_instance;
  }
  function Action_ACT_DIG_getInstance() {
    Action_initEntries();
    return Action_ACT_DIG_instance;
  }
  function ActorSequence_RunRight_getInstance() {
    ActorSequence_initEntries();
    return ActorSequence_RunRight_instance;
  }
  function ActorSequence_RunLeft_getInstance() {
    ActorSequence_initEntries();
    return ActorSequence_RunLeft_instance;
  }
  function ActorSequence_RunUpDown_getInstance() {
    ActorSequence_initEntries();
    return ActorSequence_RunUpDown_instance;
  }
  function ActorSequence_BarRight_getInstance() {
    ActorSequence_initEntries();
    return ActorSequence_BarRight_instance;
  }
  function ActorSequence_BarLeft_getInstance() {
    ActorSequence_initEntries();
    return ActorSequence_BarLeft_instance;
  }
  function ActorSequence_FallRight_getInstance() {
    ActorSequence_initEntries();
    return ActorSequence_FallRight_instance;
  }
  function ActorSequence_FallLeft_getInstance() {
    ActorSequence_initEntries();
    return ActorSequence_FallLeft_instance;
  }
  function ActorSequence_DigRight_getInstance() {
    ActorSequence_initEntries();
    return ActorSequence_DigRight_instance;
  }
  function ActorSequence_DigLeft_getInstance() {
    ActorSequence_initEntries();
    return ActorSequence_DigLeft_instance;
  }
  function ActorSequence_Reborn_getInstance() {
    ActorSequence_initEntries();
    return ActorSequence_Reborn_instance;
  }
  function ActorSequence_ShakeRight_getInstance() {
    ActorSequence_initEntries();
    return ActorSequence_ShakeRight_instance;
  }
  function ActorSequence_ShakeLeft_getInstance() {
    ActorSequence_initEntries();
    return ActorSequence_ShakeLeft_instance;
  }
  function fsm$factory() {
    return getPropertyCallableRef('fsm', 1, KProperty1, function (receiver) {
      return receiver.g6u();
    }, null);
  }
  var GameState_GAME_START_instance;
  var GameState_GAME_RUNNING_instance;
  var GameState_GAME_FINISH_instance;
  var GameState_GAME_FINISH_SCORE_COUNT_instance;
  var GameState_GAME_WAITING_instance;
  var GameState_GAME_PAUSE_instance;
  var GameState_GAME_NEW_LEVEL_instance;
  var GameState_GAME_RUNNER_DEAD_instance;
  var GameState_GAME_OVER_ANIMATION_instance;
  var GameState_GAME_OVER_instance;
  var GameState_GAME_NEXT_LEVEL_instance;
  var GameState_GAME_PREV_LEVEL_instance;
  var GameState_GAME_LOADING_instance;
  var GameState_GAME_WIN_instance;
  var GameState_entriesInitialized;
  function GameState_initEntries() {
    if (GameState_entriesInitialized)
      return Unit_getInstance();
    GameState_entriesInitialized = true;
    GameState_GAME_START_instance = new GameState('GAME_START', 0);
    GameState_GAME_RUNNING_instance = new GameState('GAME_RUNNING', 1);
    GameState_GAME_FINISH_instance = new GameState('GAME_FINISH', 2);
    GameState_GAME_FINISH_SCORE_COUNT_instance = new GameState('GAME_FINISH_SCORE_COUNT', 3);
    GameState_GAME_WAITING_instance = new GameState('GAME_WAITING', 4);
    GameState_GAME_PAUSE_instance = new GameState('GAME_PAUSE', 5);
    GameState_GAME_NEW_LEVEL_instance = new GameState('GAME_NEW_LEVEL', 6);
    GameState_GAME_RUNNER_DEAD_instance = new GameState('GAME_RUNNER_DEAD', 7);
    GameState_GAME_OVER_ANIMATION_instance = new GameState('GAME_OVER_ANIMATION', 8);
    GameState_GAME_OVER_instance = new GameState('GAME_OVER', 9);
    GameState_GAME_NEXT_LEVEL_instance = new GameState('GAME_NEXT_LEVEL', 10);
    GameState_GAME_PREV_LEVEL_instance = new GameState('GAME_PREV_LEVEL', 11);
    GameState_GAME_LOADING_instance = new GameState('GAME_LOADING', 12);
    GameState_GAME_WIN_instance = new GameState('GAME_WIN', 13);
  }
  function GameState(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  GameState.$metadata$ = classMeta('GameState', undefined, undefined, undefined, undefined, Enum.prototype);
  function get_SCORE_GOLD() {
    return SCORE_GOLD;
  }
  var SCORE_GOLD;
  function Sound_init_$Init$(name, ordinal, fileNameO, fileNameCall, $mask0, $marker, $this) {
    if (!(($mask0 & 4) === 0))
      fileNameO = null;
    if (!(($mask0 & 8) === 0))
      fileNameCall = null;
    Sound.call($this, name, ordinal, fileNameO, fileNameCall);
    return $this;
  }
  function Sound_init_$Create$(name, ordinal, fileNameO, fileNameCall, $mask0, $marker) {
    return Sound_init_$Init$(name, ordinal, fileNameO, fileNameCall, $mask0, $marker, Object.create(Sound.prototype));
  }
  var Sound_BORN_instance;
  var Sound_DEAD_instance;
  var Sound_DIG_instance;
  var Sound_DOWN_instance;
  var Sound_FALL_instance;
  var Sound_GOLD_instance;
  var Sound_FINISH_instance;
  var Sound_PASS_instance;
  var Sound_TRAP_instance;
  var Sound_entriesInitialized;
  function Sound_initEntries() {
    if (Sound_entriesInitialized)
      return Unit_getInstance();
    Sound_entriesInitialized = true;
    Sound_BORN_instance = Sound_init_$Create$('BORN', 0, null, null, 12, null);
    Sound_DEAD_instance = Sound_init_$Create$('DEAD', 1, null, null, 12, null);
    Sound_DIG_instance = Sound_init_$Create$('DIG', 2, null, null, 12, null);
    Sound_DOWN_instance = Sound_init_$Create$('DOWN', 3, null, null, 12, null);
    Sound_FALL_instance = Sound_init_$Create$('FALL', 4, null, null, 12, null);
    Sound_GOLD_instance = Sound_init_$Create$('GOLD', 5, 'getGold', null, 8, null);
    Sound_FINISH_instance = Sound_init_$Create$('FINISH', 6, null, null, 12, null);
    Sound_PASS_instance = Sound_init_$Create$('PASS', 7, null, null, 12, null);
    Sound_TRAP_instance = Sound_init_$Create$('TRAP', 8, null, null, 12, null);
  }
  function Sound(name, ordinal, fileNameO, fileNameCall) {
    Enum.call(this, name, ordinal);
    this.z6u_1 = fileNameO;
    this.a6v_1 = fileNameCall;
  }
  Sound.prototype.b6v = function () {
    var tmp1_elvis_lhs = this.z6u_1;
    var tmp;
    if (tmp1_elvis_lhs == null) {
      var tmp0_safe_receiver = this.a6v_1;
      tmp = tmp0_safe_receiver == null ? null : tmp0_safe_receiver();
    } else {
      tmp = tmp1_elvis_lhs;
    }
    var tmp2_elvis_lhs = tmp;
    var tmp_0;
    if (tmp2_elvis_lhs == null) {
      var tmp$ret$1;
      {
        var tmp0_lowercase = this.il();
        var tmp$ret$0;
        {
          tmp$ret$0 = tmp0_lowercase;
        }
        tmp$ret$1 = tmp$ret$0.toLowerCase();
      }
      tmp_0 = tmp$ret$1;
    } else {
      tmp_0 = tmp2_elvis_lhs;
    }
    return tmp_0;
  };
  Sound.$metadata$ = classMeta('Sound', undefined, undefined, undefined, undefined, Enum.prototype);
  function _get_fsm__e68kep($this) {
    var tmp$ret$0;
    {
      var tmp0_getValue = fsm$factory_0();
      tmp$ret$0 = $this.l6e_1.l2();
    }
    return tmp$ret$0;
  }
  function playGame($this, ev) {
    var tmp0_safe_receiver = $this.j6e_1;
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        var tmp$ret$0;
        {
          $this.c6e_1.s6u();
          if (!$this.a6e_1.x6e_1.e3o_1)
            guardsUpdate($this);
          if (!$this.g6e_1.e3o_1) {
            var tmp0_safe_receiver_0 = $this.j6e_1;
            if (tmp0_safe_receiver_0 == null)
              null;
            else {
              tmp0_safe_receiver_0.c6v($this.c6e_1);
            }
          }
          {
            var tmp0_forEach = $this.o6e_1;
            var tmp0_iterator = tmp0_forEach.h();
            while (tmp0_iterator.n()) {
              var element = tmp0_iterator.o();
              {
                element($this, ev);
              }
            }
          }
          tmp$ret$0 = tmp0_safe_receiver.d6v();
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp = tmp$ret$1;
    }
    var tmp1_elvis_lhs = tmp;
    return tmp1_elvis_lhs == null ? false : tmp1_elvis_lhs;
  }
  function playGame$default($this, ev, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      ev = null;
    return playGame($this, ev);
  }
  function guardsUpdate($this) {
    if ($this.d6e_1.q())
      return Unit_getInstance();
    if ($this.f6e_1 === 2) {
      $this.f6e_1 = 0;
    } else {
      var tmp0_this = $this;
      var tmp1 = tmp0_this.f6e_1;
      tmp0_this.f6e_1 = tmp1 + 1 | 0;
    }
    var tmp;
    var tmp2_safe_receiver = $this.j6e_1;
    if (equals(tmp2_safe_receiver == null ? null : tmp2_safe_receiver.x6p_1, Status_LEVEL_STARTUP_getInstance())) {
      tmp = $this.d6e_1.m();
    } else {
      tmp = Companion_getInstance_15().e6v_1[$this.d6e_1.m()][$this.f6e_1];
    }
    var movesCount = tmp;
    while (movesCount > 0) {
      if ($this.e6e_1 >= ($this.d6e_1.m() - 1 | 0)) {
        $this.e6e_1 = 0;
      } else {
        var tmp3_this = $this;
        var tmp4 = tmp3_this.e6e_1;
        tmp3_this.e6e_1 = tmp4 + 1 | 0;
      }
      var tmp$ret$0;
      {
        var tmp0_with = $this.d6e_1.r($this.e6e_1);
        {
        }
        tmp$ret$0 = tmp0_with.g6v($this.c6e_1);
      }
      var tmp5 = movesCount;
      movesCount = tmp5 - 1 | 0;
    }
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda() {
    return function ($this$validWhen) {
      return get_anyKeyPressed($this$validWhen.c6e_1);
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda() {
    return function ($this$edge) {
      $this$edge.m6q(Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda());
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda_0(this$0) {
    return function (it) {
      this$0.h6e_1 = false;
      ensureNotNull(this$0.j6e_1).u4j();
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda(this$0) {
    return function ($this$state) {
      var tmp = GameState_GAME_RUNNING_getInstance();
      $this$state.u6j(tmp, false, 0, Game$fsm$delegate$lambda$lambda$lambda$lambda(), 6, null);
      $this$state.s6j(Game$fsm$delegate$lambda$lambda$lambda$lambda_0(this$0));
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_0() {
    return function ($this$action) {
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_1() {
    return function ($this$validWhen) {
      return $this$validWhen.c6e_1.h6v();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda_1() {
    return function ($this$edge) {
      $this$edge.n6q(Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_0());
      $this$edge.m6q(Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_1());
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_2() {
    return function ($this$validWhen) {
      return !$this$validWhen.c6e_1.j6u();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda_2() {
    return function ($this$edge) {
      $this$edge.m6q(Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_2());
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda_3() {
    return function ($this$onUpdate) {
      var tmp;
      var tmp_0;
      if (playGame$default($this$onUpdate, null, 2, null)) {
        var tmp0_safe_receiver = $this$onUpdate.j6e_1;
        tmp_0 = equals(tmp0_safe_receiver == null ? null : tmp0_safe_receiver.x6p_1, Status_LEVEL_PLAYING_getInstance());
      } else {
        tmp_0 = false;
      }
      if (tmp_0) {
        var tmp1_safe_receiver = $this$onUpdate.j6e_1;
        if (tmp1_safe_receiver == null)
          null;
        else {
          tmp1_safe_receiver.i6v();
        }
        tmp = Unit_getInstance();
      }
      return null;
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda_4(this$0) {
    return function (it) {
      this$0.i6e_1 = false;
      this$0.y6r(Sound_FALL_getInstance());
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda_0(this$0) {
    return function ($this$state) {
      var tmp = GameState_GAME_FINISH_getInstance();
      $this$state.u6j(tmp, false, 0, Game$fsm$delegate$lambda$lambda$lambda$lambda_1(), 6, null);
      var tmp_0 = GameState_GAME_RUNNER_DEAD_getInstance();
      $this$state.u6j(tmp_0, false, 0, Game$fsm$delegate$lambda$lambda$lambda$lambda_2(), 6, null);
      $this$state.k6s(Game$fsm$delegate$lambda$lambda$lambda$lambda_3());
      $this$state.t6j(Game$fsm$delegate$lambda$lambda$lambda$lambda_4(this$0));
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda_5(this$0) {
    return function (it) {
      var tmp = Sound_DEAD_getInstance();
      var tmp_0 = this$0.c6e_1.z1z();
      var tmp_1 = this$0.c6e_1.b20();
      this$0.x6r(tmp, tmp_0, tmp_1, false, 8, null);
      var tmp0_this = this$0.c6e_1;
      var tmp1 = tmp0_this.i6r_1;
      tmp0_this.j6v(tmp1 - 1 | 0);
      this$0.h6e_1 = false;
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_3() {
    return function ($this$validWhen) {
      return $this$validWhen.a6e_1.z6e_1.e3o_1 <= 0;
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda_6() {
    return function ($this$edge) {
      $this$edge.m6q(Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_3());
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_4() {
    return function ($this$validWhen) {
      return $this$validWhen.h6e_1 ? true : $this$validWhen.i6e_1;
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda_7() {
    return function ($this$edge) {
      $this$edge.m6q(Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_4());
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda_1(this$0) {
    return function ($this$state) {
      $this$state.s6j(Game$fsm$delegate$lambda$lambda$lambda$lambda_5(this$0));
      var tmp = GameState_GAME_OVER_getInstance();
      $this$state.u6j(tmp, false, 0, Game$fsm$delegate$lambda$lambda$lambda$lambda_6(), 6, null);
      var tmp_0 = GameState_GAME_NEW_LEVEL_getInstance();
      $this$state.u6j(tmp_0, false, 0, Game$fsm$delegate$lambda$lambda$lambda$lambda_7(), 6, null);
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda_8($finalScore, this$0) {
    return function (it) {
      $finalScore._v = this$0.c6e_1.j6r_1 + 1500 | 0;
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_5($finalScore) {
    return function ($this$validWhen) {
      return $this$validWhen.c6e_1.j6r_1 >= $finalScore._v;
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda_9($finalScore) {
    return function ($this$edge) {
      $this$edge.m6q(Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_5($finalScore));
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda_10() {
    return function ($this$onUpdate) {
      $this$onUpdate.c6e_1.k6v(100);
      var tmp = Sound_PASS_getInstance();
      var tmp_0 = $this$onUpdate.c6e_1.z1z();
      var tmp_1 = $this$onUpdate.c6e_1.b20();
      $this$onUpdate.x6r(tmp, tmp_0, tmp_1, false, 8, null);
      return null;
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda_2(this$0) {
    return function ($this$state) {
      var finalScore = {_v: 0};
      $this$state.s6j(Game$fsm$delegate$lambda$lambda$lambda$lambda_8(finalScore, this$0));
      var tmp = GameState_GAME_NEXT_LEVEL_getInstance();
      $this$state.u6j(tmp, false, 0, Game$fsm$delegate$lambda$lambda$lambda$lambda_9(finalScore), 6, null);
      $this$state.k6s(Game$fsm$delegate$lambda$lambda$lambda$lambda_10());
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda_11(this$0) {
    return function (it) {
      this$0.h6e_1 = false;
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_6() {
    return function ($this$validWhen) {
      return $this$validWhen.h6e_1 ? true : $this$validWhen.i6e_1;
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda_12() {
    return function ($this$edge) {
      $this$edge.m6q(Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_6());
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda_3(this$0) {
    return function ($this$state) {
      $this$state.s6j(Game$fsm$delegate$lambda$lambda$lambda$lambda_11(this$0));
      var tmp = GameState_GAME_NEW_LEVEL_getInstance();
      $this$state.u6j(tmp, false, 0, Game$fsm$delegate$lambda$lambda$lambda$lambda_12(), 6, null);
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda_13(this$0) {
    return function (it) {
      this$0.h6e_1 = false;
      var tmp0_this = this$0.c6e_1;
      tmp0_this.j6v(tmp0_this.i6r_1 + 1 | 0);
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_7() {
    return function ($this$validWhen) {
      return $this$validWhen.h6e_1 ? true : $this$validWhen.i6e_1;
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda_14() {
    return function ($this$edge) {
      $this$edge.m6q(Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_7());
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda_4(this$0) {
    return function ($this$state) {
      $this$state.s6j(Game$fsm$delegate$lambda$lambda$lambda$lambda_13(this$0));
      var tmp = GameState_GAME_NEW_LEVEL_getInstance();
      $this$state.u6j(tmp, false, 0, Game$fsm$delegate$lambda$lambda$lambda$lambda_14(), 6, null);
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_8() {
    return function ($this$validWhen) {
      var tmp0_safe_receiver = $this$validWhen.j6e_1;
      return equals(tmp0_safe_receiver == null ? null : tmp0_safe_receiver.x6p_1, Status_LEVEL_PLAYING_getInstance());
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda_15() {
    return function ($this$edge) {
      $this$edge.m6q(Game$fsm$delegate$lambda$lambda$lambda$lambda$lambda_8());
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda$lambda_16() {
    return function (it) {
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda_5() {
    return function ($this$state) {
      var tmp = GameState_GAME_START_getInstance();
      $this$state.u6j(tmp, false, 0, Game$fsm$delegate$lambda$lambda$lambda$lambda_15(), 6, null);
      $this$state.t6j(Game$fsm$delegate$lambda$lambda$lambda$lambda_16());
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda$lambda_6(this$0) {
    return function ($this$null) {
      var tmp0_forEach = this$0.n6e_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          element($this$null);
        }
      }
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda$lambda(this$0) {
    return function ($this$buildStateMachine) {
      var tmp = GameState_GAME_START_getInstance();
      $this$buildStateMachine.v6j(tmp, Game$fsm$delegate$lambda$lambda$lambda(this$0));
      var tmp_0 = GameState_GAME_RUNNING_getInstance();
      $this$buildStateMachine.v6j(tmp_0, Game$fsm$delegate$lambda$lambda$lambda_0(this$0));
      var tmp_1 = GameState_GAME_RUNNER_DEAD_getInstance();
      $this$buildStateMachine.v6j(tmp_1, Game$fsm$delegate$lambda$lambda$lambda_1(this$0));
      var tmp_2 = GameState_GAME_FINISH_getInstance();
      $this$buildStateMachine.v6j(tmp_2, Game$fsm$delegate$lambda$lambda$lambda_2(this$0));
      var tmp_3 = GameState_GAME_PREV_LEVEL_getInstance();
      $this$buildStateMachine.v6j(tmp_3, Game$fsm$delegate$lambda$lambda$lambda_3(this$0));
      var tmp_4 = GameState_GAME_NEXT_LEVEL_getInstance();
      $this$buildStateMachine.v6j(tmp_4, Game$fsm$delegate$lambda$lambda$lambda_4(this$0));
      var tmp_5 = GameState_GAME_NEW_LEVEL_getInstance();
      $this$buildStateMachine.v6j(tmp_5, Game$fsm$delegate$lambda$lambda$lambda_5());
      var tmp0_this = $this$buildStateMachine;
      var tmp0_plusAssign = tmp0_this.b6j_1;
      tmp0_plusAssign.b(Game$fsm$delegate$lambda$lambda$lambda_6(this$0));
      return Unit_getInstance();
    };
  }
  function Game$fsm$delegate$lambda(this$0) {
    return function () {
      var tmp = GameState_GAME_NEW_LEVEL_getInstance();
      return buildStateMachine(tmp, Game$fsm$delegate$lambda$lambda(this$0));
    };
  }
  function Game$slambda(resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
  }
  Game$slambda.prototype.d1v = function ($this$async, $cont) {
    var tmp = this.e1v($this$async, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  Game$slambda.prototype.s7 = function (p1, $cont) {
    return this.d1v((!(p1 == null) ? isInterface(p1, CoroutineScope_0) : false) ? p1 : THROW_CCE(), $cont);
  };
  Game$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 2;
            this.k7_1 = 1;
            suspendResult = delay(new Long(100, 0), this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            return Unit_getInstance();
          case 2:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 2) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  Game$slambda.prototype.e1v = function ($this$async, completion) {
    var i = new Game$slambda(completion);
    i.t6v_1 = $this$async;
    return i;
  };
  Game$slambda.$metadata$ = classMeta('Game$slambda', undefined, undefined, undefined, [1], CoroutineImpl.prototype);
  function Game$slambda_0(resultContinuation) {
    var i = new Game$slambda(resultContinuation);
    var l = function ($this$async, $cont) {
      return i.d1v($this$async, $cont);
    };
    l.$arity = 1;
    return l;
  }
  function Game(state) {
    this.a6e_1 = state;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.b6e_1 = tmp$ret$0;
    this.c6e_1 = new Runner(this);
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_0.d6e_1 = tmp$ret$1;
    this.e6e_1 = 0;
    this.f6e_1 = 0;
    this.g6e_1 = new MutableStateValue(false);
    this.h6e_1 = false;
    this.i6e_1 = false;
    this.j6e_1 = null;
    var tmp_1 = this;
    tmp_1.l6e_1 = lazy(Game$fsm$delegate$lambda(this));
    var tmp_2 = this;
    tmp_2.m6e_1 = Job$default(null, 1, null);
    async$default(this, null, null, Game$slambda_0(null), 3, null);
    var tmp_3 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = ArrayList_init_$Create$_0();
    }
    tmp_3.n6e_1 = tmp$ret$2;
    var tmp_4 = this;
    var tmp$ret$3;
    {
      tmp$ret$3 = ArrayList_init_$Create$_0();
    }
    tmp_4.o6e_1 = tmp$ret$3;
  }
  Game.prototype.i18 = function () {
    return this.a6e_1;
  };
  Game.prototype.u6v = function () {
    return this.c6e_1;
  };
  Game.prototype.v6v = function () {
    return this.d6e_1;
  };
  Game.prototype.w6v = function () {
    return this.g6e_1;
  };
  Game.prototype.x6v = function () {
    return _get_fsm__e68kep(this).y6v().equals(GameState_GAME_RUNNING_getInstance());
  };
  Game.prototype.z6v = function (v) {
    this.j6e_1 = v;
    var tmp0_safe_receiver = v;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        this.d6e_1.t7();
        {
          var tmp0_forEach = ensureNotNull(this.j6e_1).v6p_1;
          var tmp0_iterator = tmp0_forEach.h();
          while (tmp0_iterator.n()) {
            var element = tmp0_iterator.o();
            {
              var g = Guard_init_$Create$(this, null, 2, null);
              g.k6u().q2f(element);
              this.d6e_1.b(g);
            }
          }
        }
        {
          var tmp1_forEach = this.b6e_1;
          var tmp0_iterator_0 = tmp1_forEach.h();
          while (tmp0_iterator_0.n()) {
            var element_0 = tmp0_iterator_0.o();
            {
              element_0(tmp0_safe_receiver);
            }
          }
        }
        tmp0_safe_receiver.c6q_1 = true;
        tmp0_safe_receiver.x6p_1 = Status_LEVEL_PLAYING_getInstance();
        tmp$ret$0 = Unit_getInstance();
      }
    }
  };
  Game.prototype.z5e = function () {
    return this.j6e_1;
  };
  Game.prototype.a6w = function () {
    var tmp = this.k6e_1;
    if (!(tmp == null))
      return tmp;
    else {
      throwUninitializedPropertyAccessException('soundPlayer');
    }
  };
  Game.prototype.b6w = function (sound, x, y, force) {
    return this.a6w().l6o(sound.b6v(), false, force);
  };
  Game.prototype.x6r = function (sound, x, y, force, $mask0, $handler) {
    if (!(($mask0 & 8) === 0))
      force = false;
    return this.b6w(sound, x, y, force);
  };
  Game.prototype.y6r = function (sound) {
    var tmp = this.a6w();
    var tmp_0 = sound.b6v();
    return tmp.o6o(tmp_0, 0.0, 2, null);
  };
  Game.prototype.c6w = function () {
    _get_fsm__e68kep(this).d6w(true);
  };
  Game.prototype.e6w = function () {
    _get_fsm__e68kep(this).f6w(GameState_GAME_RUNNER_DEAD_getInstance());
  };
  Game.prototype.g6w = function () {
    _get_fsm__e68kep(this).f6w(GameState_GAME_FINISH_getInstance());
  };
  Game.prototype.h6w = function () {
    _get_fsm__e68kep(this).f6w(GameState_GAME_PREV_LEVEL_getInstance());
  };
  Game.prototype.i6w = function () {
    _get_fsm__e68kep(this).f6w(GameState_GAME_NEXT_LEVEL_getInstance());
  };
  Game.prototype.u4j = function () {
    this.e6e_1 = 0;
    this.f6e_1 = 0;
    _get_fsm__e68kep(this).d6w(true);
  };
  Game.prototype.j6w = function (ev) {
    var tmp = _get_fsm__e68kep(this);
    tmp.t6u(this, false, 2, null);
  };
  Game.prototype.o17 = function () {
    return this.m6e_1;
  };
  Game.prototype.k6w = function () {
    return this.o6e_1;
  };
  Game.prototype.u6u = function (x, y) {
    var tmp$ret$1;
    $l$block: {
      var tmp0_first = this.d6e_1;
      var tmp0_iterator = tmp0_first.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$0;
        {
          tmp$ret$0 = element.k6u().z1z() === x ? element.k6u().b20() === y : false;
        }
        if (tmp$ret$0) {
          tmp$ret$1 = element;
          break $l$block;
        }
      }
      throw NoSuchElementException_init_$Create$('Collection contains no element matching the predicate.');
    }
    return tmp$ret$1;
  };
  Game.$metadata$ = classMeta('Game', [CoroutineScope_0]);
  function InputSpec(code, modificatorBitMask) {
    this.d6k_1 = code;
    this.e6k_1 = modificatorBitMask;
  }
  InputSpec.prototype.b28 = function () {
    return this.d6k_1;
  };
  InputSpec.prototype.l6w = function () {
    return this.e6k_1;
  };
  InputSpec.prototype.toString = function () {
    return 'InputSpec(code=' + this.d6k_1 + ', modificatorBitMask=' + this.e6k_1 + ')';
  };
  InputSpec.prototype.hashCode = function () {
    var result = this.d6k_1.hashCode();
    result = imul(result, 31) + this.e6k_1 | 0;
    return result;
  };
  InputSpec.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof InputSpec))
      return false;
    var tmp0_other_with_cast = other instanceof InputSpec ? other : THROW_CCE();
    if (!this.d6k_1.equals(tmp0_other_with_cast.d6k_1))
      return false;
    if (!(this.e6k_1 === tmp0_other_with_cast.e6k_1))
      return false;
    return true;
  };
  InputSpec.$metadata$ = classMeta('InputSpec');
  function toInputSpec(_this__u8e3s4, mod) {
    return new InputSpec(_this__u8e3s4, sum_0(mod));
  }
  function toInputSpec_0(_this__u8e3s4, mod) {
    return toInputSpec(LocalKeyCode_init_$Create$(_this__u8e3s4), mod.slice());
  }
  function GameState_GAME_START_getInstance() {
    GameState_initEntries();
    return GameState_GAME_START_instance;
  }
  function GameState_GAME_RUNNING_getInstance() {
    GameState_initEntries();
    return GameState_GAME_RUNNING_instance;
  }
  function GameState_GAME_FINISH_getInstance() {
    GameState_initEntries();
    return GameState_GAME_FINISH_instance;
  }
  function GameState_GAME_NEW_LEVEL_getInstance() {
    GameState_initEntries();
    return GameState_GAME_NEW_LEVEL_instance;
  }
  function GameState_GAME_RUNNER_DEAD_getInstance() {
    GameState_initEntries();
    return GameState_GAME_RUNNER_DEAD_instance;
  }
  function GameState_GAME_OVER_getInstance() {
    GameState_initEntries();
    return GameState_GAME_OVER_instance;
  }
  function GameState_GAME_NEXT_LEVEL_getInstance() {
    GameState_initEntries();
    return GameState_GAME_NEXT_LEVEL_instance;
  }
  function GameState_GAME_PREV_LEVEL_getInstance() {
    GameState_initEntries();
    return GameState_GAME_PREV_LEVEL_instance;
  }
  function Sound_BORN_getInstance() {
    Sound_initEntries();
    return Sound_BORN_instance;
  }
  function Sound_DEAD_getInstance() {
    Sound_initEntries();
    return Sound_DEAD_instance;
  }
  function Sound_DIG_getInstance() {
    Sound_initEntries();
    return Sound_DIG_instance;
  }
  function Sound_DOWN_getInstance() {
    Sound_initEntries();
    return Sound_DOWN_instance;
  }
  function Sound_FALL_getInstance() {
    Sound_initEntries();
    return Sound_FALL_instance;
  }
  function Sound_GOLD_getInstance() {
    Sound_initEntries();
    return Sound_GOLD_instance;
  }
  function Sound_PASS_getInstance() {
    Sound_initEntries();
    return Sound_PASS_instance;
  }
  function Sound_TRAP_getInstance() {
    Sound_initEntries();
    return Sound_TRAP_instance;
  }
  function fsm$factory_0() {
    return getPropertyCallableRef('fsm', 1, KProperty1, function (receiver) {
      return _get_fsm__e68kep(receiver);
    }, null);
  }
  function Companion_6() {
    Companion_instance_6 = this;
    this.m6w_1 = 'inhole';
  }
  Companion_6.prototype.il = function () {
    return this.m6w_1;
  };
  Companion_6.$metadata$ = objectMeta('Companion');
  var Companion_instance_6;
  function Companion_getInstance_14() {
    if (Companion_instance_6 == null)
      new Companion_6();
    return Companion_instance_6;
  }
  function Guard$InHole$lambda($actor) {
    return function (it) {
      var tmp$ret$0;
      {
        {
        }
        var tmp;
        if ($actor.j6t_1 > 0) {
          println('has gold: empty: ' + $actor.z5e().n6w($actor.z1z(), $actor.b20() - 1 | 0));
          var tmp_0;
          if ($actor.z5e().n6w($actor.z1z(), $actor.b20() - 1 | 0)) {
            $actor.z5e().o6w($actor.z1z(), $actor.b20() - 1 | 0);
            $actor.j6t_1 = 0;
            tmp_0 = Unit_getInstance();
          } else {
            var tmp0_this = $actor.z5e();
            var tmp1 = tmp0_this.w6p_1;
            tmp0_this.w6p_1 = tmp1 - 1 | 0;
            tmp_0 = Unit_getInstance();
          }
          tmp = tmp_0;
        }
        tmp$ret$0 = tmp;
      }
      return Unit_getInstance();
    };
  }
  function Guard$InHole$lambda_0() {
    return function ($this$BehaviorMoveDown) {
      $this$BehaviorMoveDown.d6p_1.o2f(0);
      var tmp = Sound_TRAP_getInstance();
      var tmp_0 = $this$BehaviorMoveDown.z1z();
      var tmp_1 = $this$BehaviorMoveDown.b20();
      $this$BehaviorMoveDown.x6o_1.x6r(tmp, tmp_0, tmp_1, false, 8, null);
      var tmp0_subject = $this$BehaviorMoveDown.e6p_1;
      var tmp0 = tmp0_subject.w1();
      return (tmp0 === 5 ? ActorSequence_ShakeRight_getInstance() : ActorSequence_ShakeLeft_getInstance()).r6o_1;
    };
  }
  function Guard$Shake$lambda($actor) {
    return function (it) {
      $actor.k6t_1 = true;
      return Unit_getInstance();
    };
  }
  function Guard$Shake$lambda_0() {
    return function ($this$onUpdate) {
      var tmp;
      if ($this$onUpdate.f6p_1 < $this$onUpdate.g6p_1) {
        tmp = Unit_getInstance();
      } else {
        println('done');
        Companion_getInstance_13();
        return 'runUp';
      }
      var tmp0_this = $this$onUpdate;
      var tmp1 = tmp0_this.f6p_1;
      tmp0_this.f6p_1 = tmp1 + 1 | 0;
      return null;
    };
  }
  function Guard_init_$Init$(game, random, $mask0, $marker, $this) {
    if (!(($mask0 & 2) === 0))
      random = Default_getInstance_0();
    Guard.call($this, game, random);
    return $this;
  }
  function Guard_init_$Create$(game, random, $mask0, $marker) {
    return Guard_init_$Init$(game, random, $mask0, $marker, Object.create(Guard.prototype));
  }
  function randomRangeGenerator($this, min, max, random) {
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    var current = tmp$ret$0;
    var i = {_v: 0};
    return generateSequence(Guard$randomRangeGenerator$lambda(current, i, min, max, random));
  }
  function randomRangeGenerator$default($this, min, max, random, $mask0, $handler) {
    if (!(($mask0 & 8) === 0))
      random = $this.i6t_1;
    return randomRangeGenerator($this, min, max, random);
  }
  function Companion_7() {
    Companion_instance_7 = this;
    var tmp = this;
    var tmp$ret$23;
    {
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            tmp$ret$0 = [0, 0, 0];
          }
          tmp$ret$1 = tmp$ret$0;
        }
        tmp$ret$2 = tmp$ret$1;
      }
      var tmp_0 = tmp$ret$2;
      var tmp$ret$5;
      {
        var tmp$ret$4;
        {
          var tmp$ret$3;
          {
            tmp$ret$3 = [0, 1, 1];
          }
          tmp$ret$4 = tmp$ret$3;
        }
        tmp$ret$5 = tmp$ret$4;
      }
      var tmp_1 = tmp$ret$5;
      var tmp$ret$8;
      {
        var tmp$ret$7;
        {
          var tmp$ret$6;
          {
            tmp$ret$6 = [1, 1, 1];
          }
          tmp$ret$7 = tmp$ret$6;
        }
        tmp$ret$8 = tmp$ret$7;
      }
      var tmp_2 = tmp$ret$8;
      var tmp$ret$11;
      {
        var tmp$ret$10;
        {
          var tmp$ret$9;
          {
            tmp$ret$9 = [1, 2, 1];
          }
          tmp$ret$10 = tmp$ret$9;
        }
        tmp$ret$11 = tmp$ret$10;
      }
      var tmp_3 = tmp$ret$11;
      var tmp$ret$14;
      {
        var tmp$ret$13;
        {
          var tmp$ret$12;
          {
            tmp$ret$12 = [1, 2, 2];
          }
          tmp$ret$13 = tmp$ret$12;
        }
        tmp$ret$14 = tmp$ret$13;
      }
      var tmp_4 = tmp$ret$14;
      var tmp$ret$17;
      {
        var tmp$ret$16;
        {
          var tmp$ret$15;
          {
            tmp$ret$15 = [2, 2, 2];
          }
          tmp$ret$16 = tmp$ret$15;
        }
        tmp$ret$17 = tmp$ret$16;
      }
      var tmp_5 = tmp$ret$17;
      var tmp$ret$20;
      {
        var tmp$ret$19;
        {
          var tmp$ret$18;
          {
            tmp$ret$18 = [2, 2, 3];
          }
          tmp$ret$19 = tmp$ret$18;
        }
        tmp$ret$20 = tmp$ret$19;
      }
      var tmp0_arrayOf = [tmp_0, tmp_1, tmp_2, tmp_3, tmp_4, tmp_5, tmp$ret$20];
      var tmp$ret$22;
      {
        var tmp$ret$21;
        {
          tmp$ret$21 = tmp0_arrayOf;
        }
        tmp$ret$22 = tmp$ret$21;
      }
      tmp$ret$23 = tmp$ret$22;
    }
    tmp.e6v_1 = tmp$ret$23;
    this.f6v_1 = 0;
  }
  Companion_7.$metadata$ = objectMeta('Companion');
  var Companion_instance_7;
  function Companion_getInstance_15() {
    if (Companion_instance_7 == null)
      new Companion_7();
    return Companion_instance_7;
  }
  function InHole(actor) {
    Companion_getInstance_14();
    Companion_getInstance_14();
    ActorState.call(this, actor, null, 'inhole');
    this.s6j(Guard$InHole$lambda(actor));
    this.a6u(this, Guard$InHole$lambda_0());
  }
  InHole.$metadata$ = classMeta('InHole', undefined, undefined, undefined, undefined, ActorState.prototype);
  function Shake(actor, animName) {
    ActorState.call(this, actor, animName, animName.r6o_1);
    this.s6j(Guard$Shake$lambda(actor));
    this.k6s(Guard$Shake$lambda_0());
  }
  Shake.$metadata$ = classMeta('Shake', undefined, undefined, undefined, undefined, ActorState.prototype);
  function dropGold($this) {
    if ($this.j6t_1 > 1) {
      var tmp0_this = $this;
      var tmp1 = tmp0_this.j6t_1;
      tmp0_this.j6t_1 = tmp1 - 1 | 0;
    } else if ($this.j6t_1 === 1) {
      var tmp;
      if ($this.z5e().n6w($this.z1z(), $this.b20()) ? $this.z5e().z6p_1[$this.z1z()][$this.b20()].equals(TileLogicType_EMPTY_getInstance()) : false) {
        var tmp_0 = $this.z5e();
        var tmp_1 = $this.z1z();
        var tmp_2 = $this.b20() + 1 | 0;
        tmp = tmp_0.a6s(tmp_1, tmp_2, false, false, 4, null);
      } else {
        tmp = false;
      }
      if (tmp) {
        $this.z5e().o6w($this.z1z(), $this.b20());
        $this.j6t_1 = -1;
        return true;
      }
    } else if ($this.j6t_1 < 0) {
      var tmp2_this = $this;
      var tmp3 = tmp2_this.j6t_1;
      tmp2_this.j6t_1 = tmp3 + 1 | 0;
    }
    return false;
  }
  function bestMove($this, runner) {
    if ($this.k6t_1) {
      if ($this.z5e().p6w($this.z1z(), $this.b20())) {
        return Action_ACT_UP_getInstance();
      }
    }
    var maxTileY = $this.z5e().s6p_1 - 1 | 0;
    var x = $this.k6u().z1z();
    var y = $this.k6u().b20();
    if (y === runner.c6p_1.b20() ? true : runner.c6p_1.b20() === maxTileY ? y === (maxTileY - 1 | 0) : false) {
      $l$loop: while (!(x === runner.c6p_1.z1z())) {
        var tmp;
        var tmp_0;
        var tmp_1;
        var tmp_2;
        if ($this.z5e().q6w(x, y, false)) {
          tmp_2 = true;
        } else {
          var tmp_3 = $this.z5e();
          var tmp_4 = x;
          var tmp_5 = y + 1 | 0;
          tmp_2 = tmp_3.a6s(tmp_4, tmp_5, true, false, 8, null);
        }
        if (tmp_2) {
          tmp_1 = true;
        } else {
          tmp_1 = $this.z5e().q6q(x, y);
        }
        if (tmp_1) {
          tmp_0 = true;
        } else {
          tmp_0 = $this.z5e().q6q(x, y + 1 | 0);
        }
        if (tmp_0) {
          tmp = true;
        } else {
          tmp = $this.z5e().d6u(x, y + 1 | 0);
        }
        if (tmp) {
          if (x < runner.c6p_1.z1z()) {
            var tmp0 = x;
            x = tmp0 + 1 | 0;
          } else if (x > runner.c6p_1.z1z()) {
            var tmp1 = x;
            x = tmp1 - 1 | 0;
          }
        } else {
          break $l$loop;
        }
      }
      if (x === runner.c6p_1.z1z()) {
        var tmp_6;
        if ($this.k6u().z1z() < runner.c6p_1.z1z()) {
          tmp_6 = Action_ACT_RIGHT_getInstance();
        } else if ($this.k6u().z1z() > runner.c6p_1.z1z()) {
          tmp_6 = Action_ACT_LEFT_getInstance();
        } else {
          var tmp_7;
          if ($this.l6u().z1z() < runner.d6p_1.z1z()) {
            tmp_7 = Action_ACT_RIGHT_getInstance();
          } else {
            tmp_7 = Action_ACT_LEFT_getInstance();
          }
          tmp_6 = tmp_7;
        }
        var nextMove = tmp_6;
        return nextMove;
      }
    }
    return scanFloor($this, runner);
  }
  function GuardAiContext() {
    this.r6w_1 = 255;
    this.s6w_1 = Action_ACT_NONE_getInstance();
    this.t6w_1 = -1;
    this.u6w_1 = -1;
  }
  GuardAiContext.$metadata$ = classMeta('GuardAiContext');
  function scanFloor($this, runner) {
    var x = $this.k6u().z1z();
    var y = $this.k6u().b20();
    var maxTileX = $this.z5e().r6p_1 - 1 | 0;
    var maxTileY = $this.z5e().s6p_1 - 1 | 0;
    var guardAi = new GuardAiContext();
    guardAi.t6w_1 = $this.k6u().z1z();
    $l$loop_0: while (guardAi.t6w_1 > 0) {
      var curTile = new Vec2i(guardAi.t6w_1 - 1 | 0, y);
      if ($this.z5e().v6w(curTile).equals(TileLogicType_BLOCK_getInstance()) ? true : $this.z5e().v6w(curTile).equals(TileLogicType_SOLID_getInstance())) {
        break $l$loop_0;
      }
      var downTile = new Vec2i(guardAi.t6w_1 - 1 | 0, y + 1 | 0);
      if ((($this.z5e().y6w(curTile, false) ? true : $this.z5e().x6w(curTile)) ? true : y >= maxTileY) ? true : y < maxTileY ? $this.z5e().w6w(downTile, true, false) : false) {
        var tmp0_this = guardAi;
        var tmp1 = tmp0_this.t6w_1;
        tmp0_this.t6w_1 = tmp1 - 1 | 0;
      } else {
        var tmp2_this = guardAi;
        var tmp3 = tmp2_this.t6w_1;
        tmp2_this.t6w_1 = tmp3 - 1 | 0;
        break $l$loop_0;
      }
    }
    guardAi.u6w_1 = $this.k6u().z1z();
    $l$loop_2: while (guardAi.u6w_1 < maxTileX) {
      var curTile_0 = new Vec2i(guardAi.u6w_1 + 1 | 0, y);
      var curAct = $this.z5e().v6w(curTile_0);
      if (curAct.equals(TileLogicType_BLOCK_getInstance()) ? true : curAct.equals(TileLogicType_SOLID_getInstance())) {
        break $l$loop_2;
      }
      var downTile_0 = new Vec2i(guardAi.u6w_1 + 1 | 0, y + 1 | 0);
      if ((($this.z5e().y6w(curTile_0, false) ? true : $this.z5e().x6w(curTile_0)) ? true : y >= maxTileY) ? true : y < maxTileY ? $this.z5e().w6w(downTile_0, true, false) : false) {
        var tmp4_this = guardAi;
        var tmp5 = tmp4_this.u6w_1;
        tmp4_this.u6w_1 = tmp5 + 1 | 0;
      } else {
        var tmp6_this = guardAi;
        var tmp7 = tmp6_this.u6w_1;
        tmp6_this.u6w_1 = tmp7 + 1 | 0;
        break $l$loop_2;
      }
    }
    var downTileBase = $this.z5e().z6p_1[x][y + 1 | 0];
    if ((y < maxTileY ? !downTileBase.equals(TileLogicType_BLOCK_getInstance()) : false) ? !downTileBase.equals(TileLogicType_SOLID_getInstance()) : false) {
      scanDown($this, x, Action_ACT_DOWN_getInstance(), guardAi, runner);
    }
    if ($this.z5e().z6p_1[x][y].equals(TileLogicType_LADDR_getInstance())) {
      scanUp($this, x, Action_ACT_UP_getInstance(), guardAi, runner);
    }
    var curPath = Action_ACT_LEFT_getInstance();
    x = guardAi.t6w_1;
    $l$loop_3: while (true) {
      if (x === $this.k6u().z1z()) {
        if (curPath.equals(Action_ACT_LEFT_getInstance()) ? !(guardAi.u6w_1 === $this.k6u().z1z()) : false) {
          curPath = Action_ACT_RIGHT_getInstance();
          x = guardAi.u6w_1;
        } else {
          break $l$loop_3;
        }
      }
      if (y < maxTileY) {
        var downTile_1 = $this.z5e().z6p_1[x][y + 1 | 0];
        if (!downTile_1.equals(TileLogicType_BLOCK_getInstance()) ? !downTile_1.equals(TileLogicType_SOLID_getInstance()) : false) {
          scanDown($this, x, curPath, guardAi, runner);
        }
      }
      if ($this.z5e().z6p_1[x][y].equals(TileLogicType_LADDR_getInstance())) {
        scanUp($this, x, curPath, guardAi, runner);
      }
      if (curPath.equals(Action_ACT_LEFT_getInstance())) {
        var tmp8 = x;
        x = tmp8 + 1 | 0;
      } else {
        var tmp9 = x;
        x = tmp9 - 1 | 0;
      }
    }
    return guardAi.s6w_1;
  }
  function scanDown($this, x, curPath, guardAi, runner) {
    var maxTileX = $this.z5e().r6p_1 - 1 | 0;
    var maxTileY = $this.z5e().s6p_1 - 1 | 0;
    var y = $this.k6u().b20();
    $l$loop_0: while ((y < maxTileY ? !$this.z5e().z6p_1[x][y + 1 | 0].equals(TileLogicType_BLOCK_getInstance()) : false) ? !$this.z5e().z6p_1[x][y + 1 | 0].equals(TileLogicType_SOLID_getInstance()) : false) {
      if (!$this.z5e().z6p_1[x][y].equals(TileLogicType_EMPTY_getInstance()) ? !$this.z5e().z6p_1[x][y].equals(TileLogicType_HLADR_getInstance()) : false) {
        if (x > 0) {
          var downTile = new Vec2i(x - 1 | 0, y + 1 | 0);
          if ($this.z5e().w6w(downTile, true, false) ? true : $this.z5e().z6p_1[x - 1 | 0][y].equals(TileLogicType_BAR_getInstance())) {
            if (y >= runner.c6p_1.b20()) {
              break $l$loop_0;
            }
          }
        }
        if (x < maxTileX) {
          var downTile_0 = new Vec2i(x + 1 | 0, y + 1 | 0);
          var tmp;
          var tmp_0 = $this.z5e();
          if (tmp_0.z6w(downTile_0, false, false, 6, null)) {
            tmp = true;
          } else {
            tmp = $this.z5e().z6p_1[x + 1 | 0][y].equals(TileLogicType_BAR_getInstance());
          }
          if (tmp) {
            if (y >= runner.c6p_1.b20()) {
              break $l$loop_0;
            }
          }
        }
      }
      var tmp0 = y;
      y = tmp0 + 1 | 0;
    }
    var tmp_1;
    if (y === runner.c6p_1.b20()) {
      tmp_1 = abs(runner.c6p_1.z1z() - x | 0);
    } else if (y > runner.c6p_1.b20()) {
      tmp_1 = (y - runner.c6p_1.b20() | 0) + 200 | 0;
    } else {
      tmp_1 = (runner.c6p_1.b20() - y | 0) + 100 | 0;
    }
    var curRating = tmp_1;
    if (curRating < guardAi.r6w_1) {
      guardAi.r6w_1 = curRating;
      guardAi.s6w_1 = curPath;
    }
  }
  function scanUp($this, x, curPath, guardAi, runner) {
    var y = $this.k6u().b20();
    $l$loop_0: while (y > 0 ? $this.z5e().z6p_1[x][y].equals(TileLogicType_LADDR_getInstance()) : false) {
      var tmp0 = y;
      y = tmp0 - 1 | 0;
      if (x > 0) {
        var downTile = new Vec2i(x - 1 | 0, y + 1 | 0);
        if ($this.z5e().w6w(downTile, true, false) ? true : $this.z5e().z6p_1[x - 1 | 0][y].equals(TileLogicType_BAR_getInstance())) {
          if (y <= runner.c6p_1.b20()) {
            break $l$loop_0;
          }
        }
      }
      if (x < ($this.z5e().r6p_1 - 1 | 0)) {
        var downTile_0 = new Vec2i(x + 1 | 0, y + 1 | 0);
        if ($this.z5e().w6w(downTile_0, true, false) ? true : $this.z5e().z6p_1[x + 1 | 0][y].equals(TileLogicType_BAR_getInstance())) {
          if (y <= runner.c6p_1.b20()) {
            break $l$loop_0;
          }
        }
      }
    }
    var tmp;
    if (y === runner.c6p_1.b20()) {
      tmp = abs($this.k6u().z1z() - x | 0);
    } else if (y > runner.c6p_1.b20()) {
      tmp = (y - runner.c6p_1.b20() | 0) + 200 | 0;
    } else {
      tmp = (runner.c6p_1.b20() - y | 0) + 100 | 0;
    }
    var curRating = tmp;
    if (curRating < guardAi.r6w_1) {
      guardAi.r6w_1 = curRating;
      guardAi.s6w_1 = curPath;
    }
  }
  function Guard$randomRangeGenerator$lambda($current, $i, $min, $max, $random) {
    return function () {
      var tmp;
      if ($current.m() === 0 ? true : ($i._v % $current.m() | 0) === 0) {
        $current.t7();
        $current.m1(shuffled(until($min, $max), $random));
        tmp = Unit_getInstance();
      }
      var tmp0 = $i._v;
      $i._v = tmp0 + 1 | 0;
      return $current.r(tmp0 % $current.m() | 0);
    };
  }
  function Guard$lambda(this$0) {
    return function (it) {
      this$0.g6q(ActorSequence_RunRight_getInstance());
      return Unit_getInstance();
    };
  }
  function Guard$fsm$delegate$lambda$lambda$lambda(this$0) {
    return function (it) {
      var tmp = this$0.z5e().r6p_1;
      var gen = randomRangeGenerator$default(this$0, 0, tmp, null, 8, null).h();
      var inductionVariable = 1;
      var last = this$0.z5e().s6p_1;
      var tmp_0;
      if (inductionVariable < last) {
        $l$loop: do {
          var bornY = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          var bornX = gen.o();
          if (this$0.z5e().n6w(bornX, bornY)) {
            this$0.k6u().n2f(bornX);
            this$0.k6u().o2f(bornY);
            this$0.g6q(ActorSequence_Reborn_getInstance());
            break $l$loop;
          }
        }
         while (inductionVariable < last);
        tmp_0 = Unit_getInstance();
      }
      return Unit_getInstance();
    };
  }
  function Guard$fsm$delegate$lambda$lambda$lambda$lambda() {
    return function ($this$validWhen) {
      return !($this$validWhen.g6p_1 === 0) ? $this$validWhen.f6p_1 >= $this$validWhen.g6p_1 : false;
    };
  }
  function Guard$fsm$delegate$lambda$lambda$lambda_0() {
    return function ($this$edge) {
      $this$edge.m6q(Guard$fsm$delegate$lambda$lambda$lambda$lambda());
      return Unit_getInstance();
    };
  }
  function Guard$fsm$delegate$lambda$lambda$lambda_1() {
    return function ($this$onUpdate) {
      var tmp0_this = $this$onUpdate;
      var tmp1 = tmp0_this.f6p_1;
      tmp0_this.f6p_1 = tmp1 + 1 | 0;
      return null;
    };
  }
  function Guard$fsm$delegate$lambda$lambda$lambda_2($game, this$0) {
    return function (it) {
      var tmp = Sound_BORN_getInstance();
      var tmp_0 = this$0.z1z();
      var tmp_1 = this$0.b20();
      $game.x6r(tmp, tmp_0, tmp_1, false, 8, null);
      return Unit_getInstance();
    };
  }
  function Guard$fsm$delegate$lambda$lambda(this$0, $game) {
    return function ($this$state) {
      $this$state.s6j(Guard$fsm$delegate$lambda$lambda$lambda(this$0));
      Companion_getInstance_10();
      $this$state.u6j('stop', false, 0, Guard$fsm$delegate$lambda$lambda$lambda_0(), 6, null);
      $this$state.k6s(Guard$fsm$delegate$lambda$lambda$lambda_1());
      $this$state.t6j(Guard$fsm$delegate$lambda$lambda$lambda_2($game, this$0));
      return Unit_getInstance();
    };
  }
  function Guard$fsm$delegate$lambda$lambda$lambda_3() {
    return function ($this$validWhen) {
      return $this$validWhen.o6t() < 0 ? $this$validWhen.z5e().p6w($this$validWhen.z1z(), $this$validWhen.b20()) : false;
    };
  }
  function Guard$fsm$delegate$lambda$lambda_0() {
    return function ($this$edge) {
      $this$edge.m6q(Guard$fsm$delegate$lambda$lambda$lambda_3());
      return Unit_getInstance();
    };
  }
  function Guard$fsm$delegate$lambda(this$0, $game) {
    return function () {
      var tmp$ret$1;
      {
        var tmp0_apply = Actor.prototype.g6u.call(this$0);
        {
        }
        {
          tmp0_apply.e6u(new InHole(this$0));
          tmp0_apply.e6u(new Shake(this$0, ActorSequence_ShakeLeft_getInstance()));
          tmp0_apply.e6u(new Shake(this$0, ActorSequence_ShakeRight_getInstance()));
          var tmp = ActorSequence_Reborn_getInstance().r6o_1;
          tmp0_apply.v6j(tmp, Guard$fsm$delegate$lambda$lambda(this$0, $game));
          var tmp$ret$0;
          {
            Companion_getInstance_11();
            var tmp0_apply_0 = tmp0_apply.a6x('fall');
            {
            }
            {
              Companion_getInstance_14();
              tmp0_apply_0.u6j('inhole', false, 0, Guard$fsm$delegate$lambda$lambda_0(), 6, null);
            }
            tmp$ret$0 = tmp0_apply_0;
          }
        }
        tmp$ret$1 = tmp0_apply;
      }
      return tmp$ret$1;
    };
  }
  function Guard(game, random) {
    Companion_getInstance_15();
    Actor.call(this, game);
    this.i6t_1 = random;
    this.j6t_1 = 0;
    this.k6t_1 = false;
    var tmp0_this = game;
    {
      var tmp0_plusAssign = tmp0_this.b6e_1;
      tmp0_plusAssign.b(Guard$lambda(this));
    }
    var tmp = this;
    tmp.l6t_1 = lazy(Guard$fsm$delegate$lambda(this, game));
  }
  Guard.prototype.b6x = function () {
    return this.j6t_1;
  };
  Guard.prototype.c6u = function () {
    var tmp;
    if (this.j6t_1 === 0) {
      this.j6t_1 = randomI(0, 26) + 12 | 0;
      tmp = true;
    } else {
      tmp = false;
    }
    return tmp;
  };
  Guard.prototype.m6p = function () {
    return Actor.prototype.m6p.call(this) ? true : this.k6t_1;
  };
  Guard.prototype.m6t = function () {
    return Actor.prototype.m6t.call(this) ? !this.z5e().v6u(this.z1z() + 1 | 0, this.b20()) ? true : this.z5e().v6u(this.z1z() + 1 | 0, this.b20()) ? this.r6q() < this.f6u().u6u(this.z1z() + 1 | 0, this.b20()).r6q() : false : false;
  };
  Guard.prototype.s6s = function () {
    return Actor.prototype.s6s.call(this) ? !this.z5e().v6u(this.z1z() - 1 | 0, this.b20()) ? true : this.z5e().v6u(this.z1z() - 1 | 0, this.b20()) ? this.r6q() > this.f6u().u6u(this.z1z() - 1 | 0, this.b20()).r6q() : false : false;
  };
  Guard.prototype.o6q = function () {
    return (Actor.prototype.o6q.call(this) ? !this.z5e().v6u(this.z1z(), this.b20() - 1 | 0) ? true : this.z5e().v6u(this.z1z(), this.b20() - 1 | 0) ? this.o6t() < this.f6u().u6u(this.z1z(), this.b20() - 1 | 0).o6t() : false : false) ? true : this.k6t_1 ? this.z5e().p6w(this.z1z(), this.b20()) : false;
  };
  Guard.prototype.p6q = function () {
    return Actor.prototype.p6q.call(this) ? !this.z5e().v6u(this.z1z(), this.b20() + 1 | 0) ? true : this.z5e().v6u(this.z1z(), this.b20() + 1 | 0) ? this.o6t() > this.f6u().u6u(this.z1z(), this.b20() + 1 | 0).o6t() : false : false;
  };
  Guard.prototype.g6v = function (runner) {
    var tmp = this.g6u().c6x();
    if (tmp instanceof ControllableState) {
      var nextAct = bestMove(this, runner);
      var tmp0_subject = nextAct;
      var tmp0 = tmp0_subject.w1();
      {
        var neiGuard;
        switch (tmp0) {
          case 1:
            neiGuard = new Vec2i(this.z1z(), this.b20() - 1 | 0);
            break;
          case 2:
            neiGuard = new Vec2i(this.z1z(), this.b20() + 1 | 0);
            break;
          case 4:
            neiGuard = new Vec2i(this.z1z() + 1 | 0, this.b20());
            break;
          case 3:
            neiGuard = new Vec2i(this.z1z() - 1 | 0, this.b20());
            break;
          default:
            neiGuard = null;
            break;
        }
      }
      if (!(neiGuard == null) ? !this.z5e().d6x(neiGuard) : false) {
        var tmp_0 = this.s6o();
        var tmp1_subject = nextAct;
        var tmp0_0 = tmp1_subject.w1();
        tmp_0.n2f(tmp0_0 === 4 ? 1 : tmp0_0 === 3 ? -1 : 0);
        var tmp_1 = this.s6o();
        var tmp2_subject = nextAct;
        var tmp0_1 = tmp2_subject.w1();
        tmp_1.o2f(tmp0_1 === 2 ? 1 : tmp0_1 === 1 ? -1 : 0);
      } else {
        this.s6o().n2f(0);
        this.s6o().o2f(0);
      }
    }
    var oldx = this.z1z();
    var oldy = this.b20();
    Actor.prototype.s6u.call(this);
    var tmp_2 = this.g6u().c6x();
    if (tmp_2 instanceof MovementState) {
      dropGold(this);
    }
    if (this.z5e().e6x(this.z1z(), this.b20()))
      this.g6u().f6w(ActorSequence_Reborn_getInstance().r6o_1);
    if (!(oldx === this.z1z()) ? true : !(oldy === this.b20())) {
      this.z5e().a6q_1[oldx][oldy] = false;
      this.z5e().a6q_1[this.z1z()][this.b20()] = true;
    }
    var tmp_3 = this.g6u().c6x();
    if (tmp_3 instanceof ControllableState) {
      if ((this.k6t_1 ? !this.z5e().p6w(this.z1z(), this.b20()) : false) ? !this.z5e().p6w(this.z1z(), this.b20() + 1 | 0) : false)
        this.k6t_1 = false;
    }
  };
  Guard.prototype.g6u = function () {
    var tmp$ret$0;
    {
      var tmp0_getValue = fsm$factory_1();
      tmp$ret$0 = this.l6t_1.l2();
    }
    return tmp$ret$0;
  };
  Guard.prototype.f6x = function () {
    return this.o6u().equals(ActorSequence_Reborn_getInstance());
  };
  Guard.prototype.toString = function () {
    return format('guard %d+%d x %d+%d state=%s gold=%d inhole=%s', [this.z1z(), this.r6q(), this.b20(), this.o6t(), this.g6u().y6v(), this.j6t_1, this.k6t_1]);
  };
  Guard.$metadata$ = classMeta('Guard', undefined, undefined, undefined, undefined, Actor.prototype);
  function fsm$factory_1() {
    return getPropertyCallableRef('fsm', 1, KProperty1, function (receiver) {
      return receiver.g6u();
    }, null);
  }
  function TileLogicType_init_$Init$(name, ordinal, collision, $mask0, $marker, $this) {
    if (!(($mask0 & 4) === 0))
      collision = 0;
    TileLogicType.call($this, name, ordinal, collision);
    return $this;
  }
  function TileLogicType_init_$Create$(name, ordinal, collision, $mask0, $marker) {
    return TileLogicType_init_$Init$(name, ordinal, collision, $mask0, $marker, Object.create(TileLogicType.prototype));
  }
  var TileLogicType_EMPTY_instance;
  var TileLogicType_BLOCK_instance;
  var TileLogicType_SOLID_instance;
  var TileLogicType_LADDR_instance;
  var TileLogicType_BAR_instance;
  var TileLogicType_TRAP_instance;
  var TileLogicType_HLADR_instance;
  var TileLogicType_GOLD_instance;
  var TileLogicType_entriesInitialized;
  function TileLogicType_initEntries() {
    if (TileLogicType_entriesInitialized)
      return Unit_getInstance();
    TileLogicType_entriesInitialized = true;
    TileLogicType_EMPTY_instance = TileLogicType_init_$Create$('EMPTY', 0, 0, 4, null);
    TileLogicType_BLOCK_instance = new TileLogicType('BLOCK', 1, 15);
    TileLogicType_SOLID_instance = new TileLogicType('SOLID', 2, 15);
    TileLogicType_LADDR_instance = TileLogicType_init_$Create$('LADDR', 3, 0, 4, null);
    TileLogicType_BAR_instance = TileLogicType_init_$Create$('BAR', 4, 0, 4, null);
    TileLogicType_TRAP_instance = new TileLogicType('TRAP', 5, 14);
    TileLogicType_HLADR_instance = TileLogicType_init_$Create$('HLADR', 6, 0, 4, null);
    TileLogicType_GOLD_instance = TileLogicType_init_$Create$('GOLD', 7, 0, 4, null);
  }
  function TileLogicType(name, ordinal, collision) {
    Enum.call(this, name, ordinal);
    this.i6x_1 = collision;
  }
  TileLogicType.$metadata$ = classMeta('TileLogicType', undefined, undefined, undefined, undefined, Enum.prototype);
  function Tile_init_$Init$(name, ordinal, char, base, act, frameName, $mask0, $marker, $this) {
    if (!(($mask0 & 32) === 0))
      frameName = null;
    Tile.call($this, name, ordinal, char, base, act, frameName);
    return $this;
  }
  function Tile_init_$Create$(name, ordinal, char, base, act, frameName, $mask0, $marker) {
    return Tile_init_$Init$(name, ordinal, char, base, act, frameName, $mask0, $marker, Object.create(Tile.prototype));
  }
  var Tile_EMPTY_instance;
  var Tile_BRICK_instance;
  var Tile_SOLID_instance;
  var Tile_LADDER_instance;
  var Tile_ROPE_instance;
  var Tile_TRAP_instance;
  var Tile_HLADDER_instance;
  var Tile_GOLD_instance;
  var Tile_GUARD_instance;
  var Tile_PLAYER_instance;
  function Companion_8() {
    Companion_instance_8 = this;
    var tmp = this;
    var tmp$ret$2;
    {
      var tmp0_associateBy = values_3();
      var capacity = coerceAtLeast(mapCapacity(tmp0_associateBy.length), 16);
      var tmp$ret$1;
      {
        var tmp0_associateByTo = LinkedHashMap_init_$Create$_0(capacity);
        var indexedObject = tmp0_associateBy;
        var inductionVariable = 0;
        var last = indexedObject.length;
        while (inductionVariable < last) {
          var element = indexedObject[inductionVariable];
          inductionVariable = inductionVariable + 1 | 0;
          var tmp$ret$0;
          {
            tmp$ret$0 = element.l6x_1;
          }
          tmp0_associateByTo.a(new Char(tmp$ret$0), element);
        }
        tmp$ret$1 = tmp0_associateByTo;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    tmp.p6x_1 = tmp$ret$2;
  }
  Companion_8.prototype.q6x = function () {
    return this.p6x_1;
  };
  Companion_8.$metadata$ = objectMeta('Companion');
  var Companion_instance_8;
  function Companion_getInstance_16() {
    Tile_initEntries();
    if (Companion_instance_8 == null)
      new Companion_8();
    return Companion_instance_8;
  }
  function values_3() {
    return [Tile_EMPTY_getInstance(), Tile_BRICK_getInstance(), Tile_SOLID_getInstance(), Tile_LADDER_getInstance(), Tile_ROPE_getInstance(), Tile_TRAP_getInstance(), Tile_HLADDER_getInstance(), Tile_GOLD_getInstance(), Tile_GUARD_getInstance(), Tile_PLAYER_getInstance()];
  }
  var Tile_entriesInitialized;
  function Tile_initEntries() {
    if (Tile_entriesInitialized)
      return Unit_getInstance();
    Tile_entriesInitialized = true;
    var tmp = _Char___init__impl__6a9atx(32);
    var tmp_0 = TileLogicType_EMPTY_getInstance();
    var tmp_1 = TileLogicType_EMPTY_getInstance();
    Tile_EMPTY_instance = Tile_init_$Create$('EMPTY', 0, tmp, tmp_0, tmp_1, null, 32, null);
    var tmp_2 = _Char___init__impl__6a9atx(35);
    var tmp_3 = TileLogicType_BLOCK_getInstance();
    var tmp_4 = TileLogicType_BLOCK_getInstance();
    Tile_BRICK_instance = Tile_init_$Create$('BRICK', 1, tmp_2, tmp_3, tmp_4, null, 32, null);
    var tmp_5 = _Char___init__impl__6a9atx(64);
    var tmp_6 = TileLogicType_SOLID_getInstance();
    var tmp_7 = TileLogicType_SOLID_getInstance();
    Tile_SOLID_instance = Tile_init_$Create$('SOLID', 2, tmp_5, tmp_6, tmp_7, null, 32, null);
    var tmp_8 = _Char___init__impl__6a9atx(72);
    var tmp_9 = TileLogicType_LADDR_getInstance();
    var tmp_10 = TileLogicType_LADDR_getInstance();
    Tile_LADDER_instance = Tile_init_$Create$('LADDER', 3, tmp_8, tmp_9, tmp_10, null, 32, null);
    var tmp_11 = _Char___init__impl__6a9atx(45);
    var tmp_12 = TileLogicType_BAR_getInstance();
    var tmp_13 = TileLogicType_BAR_getInstance();
    Tile_ROPE_instance = Tile_init_$Create$('ROPE', 4, tmp_11, tmp_12, tmp_13, null, 32, null);
    var tmp_14 = _Char___init__impl__6a9atx(88);
    var tmp_15 = TileLogicType_TRAP_getInstance();
    var tmp_16 = TileLogicType_TRAP_getInstance();
    var tmp$ret$1;
    {
      var tmp0_lowercase = Tile_BRICK_getInstance().il();
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_lowercase;
      }
      tmp$ret$1 = tmp$ret$0.toLowerCase();
    }
    Tile_TRAP_instance = new Tile('TRAP', 5, tmp_14, tmp_15, tmp_16, tmp$ret$1);
    var tmp_17 = _Char___init__impl__6a9atx(83);
    var tmp_18 = TileLogicType_HLADR_getInstance();
    var tmp_19 = TileLogicType_EMPTY_getInstance();
    var tmp$ret$3;
    {
      var tmp0_lowercase_0 = Tile_LADDER_getInstance().il();
      var tmp$ret$2;
      {
        tmp$ret$2 = tmp0_lowercase_0;
      }
      tmp$ret$3 = tmp$ret$2.toLowerCase();
    }
    Tile_HLADDER_instance = new Tile('HLADDER', 6, tmp_17, tmp_18, tmp_19, tmp$ret$3);
    var tmp_20 = _Char___init__impl__6a9atx(36);
    var tmp_21 = TileLogicType_GOLD_getInstance();
    var tmp_22 = TileLogicType_EMPTY_getInstance();
    Tile_GOLD_instance = Tile_init_$Create$('GOLD', 7, tmp_20, tmp_21, tmp_22, null, 32, null);
    Tile_GUARD_instance = new Tile('GUARD', 8, _Char___init__impl__6a9atx(48), TileLogicType_EMPTY_getInstance(), TileLogicType_EMPTY_getInstance(), '');
    Tile_PLAYER_instance = new Tile('PLAYER', 9, _Char___init__impl__6a9atx(38), TileLogicType_EMPTY_getInstance(), TileLogicType_EMPTY_getInstance(), '');
    Companion_getInstance_16();
  }
  function Tile(name, ordinal, char, base, act, frameName) {
    Enum.call(this, name, ordinal);
    this.l6x_1 = char;
    this.m6x_1 = base;
    this.n6x_1 = act;
    this.o6x_1 = frameName;
  }
  Tile.prototype.r6x = function () {
    return this.l6x_1;
  };
  Tile.prototype.s6x = function () {
    return this.m6x_1;
  };
  Tile.prototype.t6x = function () {
    return this.n6x_1;
  };
  Tile.prototype.u6x = function () {
    var tmp0_elvis_lhs = this.o6x_1;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      var tmp$ret$1;
      {
        var tmp0_lowercase = this.il();
        var tmp$ret$0;
        {
          tmp$ret$0 = tmp0_lowercase;
        }
        tmp$ret$1 = tmp$ret$0.toLowerCase();
      }
      tmp = tmp$ret$1;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  };
  Tile.prototype.v6x = function () {
    var tmp0_subject = this;
    var tmp0 = tmp0_subject.w1();
    return (((tmp0 === 9 ? true : tmp0 === 8) ? true : tmp0 === 7) ? Tile_EMPTY_getInstance() : this).w1();
  };
  Tile.$metadata$ = classMeta('Tile', undefined, undefined, undefined, undefined, Enum.prototype);
  function getBit(_this__u8e3s4, $this, position) {
    var tmp$ret$2;
    {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          tmp$ret$0 = _UInt___init__impl__l7qpdl(_UInt___get_data__impl__f0vqqw(_this__u8e3s4) >>> position | 0);
        }
        var tmp0_and = tmp$ret$0;
        tmp$ret$1 = _UInt___init__impl__l7qpdl(_UInt___get_data__impl__f0vqqw(tmp0_and) & _UInt___get_data__impl__f0vqqw(_UInt___init__impl__l7qpdl(1)));
      }
      var tmp1_compareTo = tmp$ret$1;
      tmp$ret$2 = uintCompare(_UInt___get_data__impl__f0vqqw(tmp1_compareTo), _UInt___get_data__impl__f0vqqw(_UInt___init__impl__l7qpdl(0)));
    }
    return tmp$ret$2 > 0;
  }
  function withBit(_this__u8e3s4, $this, position, bit) {
    var tmp;
    if (bit) {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          tmp$ret$0 = _UInt___init__impl__l7qpdl(_UInt___get_data__impl__f0vqqw(_UInt___init__impl__l7qpdl(1)) << position);
        }
        var tmp0_or = tmp$ret$0;
        tmp$ret$1 = _UInt___init__impl__l7qpdl(_UInt___get_data__impl__f0vqqw(_this__u8e3s4) | _UInt___get_data__impl__f0vqqw(tmp0_or));
      }
      tmp = tmp$ret$1;
    } else {
      var tmp$ret$4;
      {
        var tmp$ret$3;
        {
          var tmp$ret$2;
          {
            tmp$ret$2 = _UInt___init__impl__l7qpdl(_UInt___get_data__impl__f0vqqw(_UInt___init__impl__l7qpdl(1)) << position);
          }
          var tmp1_inv = tmp$ret$2;
          tmp$ret$3 = _UInt___init__impl__l7qpdl(~_UInt___get_data__impl__f0vqqw(tmp1_inv));
        }
        var tmp2_and = tmp$ret$3;
        tmp$ret$4 = _UInt___init__impl__l7qpdl(_UInt___get_data__impl__f0vqqw(_this__u8e3s4) & _UInt___get_data__impl__f0vqqw(tmp2_and));
      }
      tmp = tmp$ret$4;
    }
    return tmp;
  }
  function packHole(_this__u8e3s4, $this, v) {
    return withBit(_this__u8e3s4, $this, 7, v);
  }
  function unpackHole(_this__u8e3s4, $this) {
    return getBit(_this__u8e3s4, $this, 7);
  }
  function packFrameNum(_this__u8e3s4, $this, f) {
    var tmp$ret$3;
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = _UInt___init__impl__l7qpdl(_UInt___get_data__impl__f0vqqw(_this__u8e3s4) & _UInt___get_data__impl__f0vqqw(_UInt___init__impl__l7qpdl(65408)));
      }
      var tmp1_or = tmp$ret$0;
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          tmp$ret$1 = _UInt___init__impl__l7qpdl(f);
        }
        var tmp0_and = tmp$ret$1;
        tmp$ret$2 = _UInt___init__impl__l7qpdl(_UInt___get_data__impl__f0vqqw(tmp0_and) & _UInt___get_data__impl__f0vqqw(_UInt___init__impl__l7qpdl(127)));
      }
      var tmp2_or = tmp$ret$2;
      tmp$ret$3 = _UInt___init__impl__l7qpdl(_UInt___get_data__impl__f0vqqw(tmp1_or) | _UInt___get_data__impl__f0vqqw(tmp2_or));
    }
    return tmp$ret$3;
  }
  function unpackFrameNum(_this__u8e3s4, $this) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = _UInt___init__impl__l7qpdl(_UInt___get_data__impl__f0vqqw(_this__u8e3s4) & _UInt___get_data__impl__f0vqqw(_UInt___init__impl__l7qpdl(65407)));
      }
      var tmp0_toInt = tmp$ret$0;
      tmp$ret$1 = _UInt___get_data__impl__f0vqqw(tmp0_toInt);
    }
    return tmp$ret$1;
  }
  function Companion_9() {
    Companion_instance_9 = this;
  }
  Companion_9.prototype.w6x = function (b) {
    var tmp$ret$2;
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = _UInt___init__impl__l7qpdl(b);
      }
      var tmp0_with = tmp$ret$0;
      {
      }
      var tmp$ret$1;
      {
        tmp$ret$1 = new ViewCell(unpackHole(tmp0_with, Companion_getInstance_17()), unpackFrameNum(tmp0_with, Companion_getInstance_17()));
      }
      tmp$ret$2 = tmp$ret$1;
    }
    return tmp$ret$2;
  };
  Companion_9.$metadata$ = objectMeta('Companion');
  var Companion_instance_9;
  function Companion_getInstance_17() {
    if (Companion_instance_9 == null)
      new Companion_9();
    return Companion_instance_9;
  }
  function ViewCell(hole, frameNum) {
    Companion_getInstance_17();
    this.w6j_1 = hole;
    this.x6j_1 = frameNum;
  }
  ViewCell.prototype.y6j = function () {
    var b = _UInt___init__impl__l7qpdl(0);
    b = packHole(b, Companion_getInstance_17(), this.w6j_1);
    b = packFrameNum(b, Companion_getInstance_17(), this.x6j_1);
    var tmp$ret$0;
    {
      var tmp0_toByte = b;
      tmp$ret$0 = toByte(_UInt___get_data__impl__f0vqqw(tmp0_toByte));
    }
    return tmp$ret$0;
  };
  ViewCell.prototype.toString = function () {
    return 'ViewCell(hole=' + this.w6j_1 + ', frameNum=' + this.x6j_1 + ')';
  };
  ViewCell.prototype.hashCode = function () {
    var result = this.w6j_1 | 0;
    result = imul(result, 31) + this.x6j_1 | 0;
    return result;
  };
  ViewCell.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof ViewCell))
      return false;
    var tmp0_other_with_cast = other instanceof ViewCell ? other : THROW_CCE();
    if (!(this.w6j_1 === tmp0_other_with_cast.w6j_1))
      return false;
    if (!(this.x6j_1 === tmp0_other_with_cast.x6j_1))
      return false;
    return true;
  };
  ViewCell.$metadata$ = classMeta('ViewCell');
  function dis(_this__u8e3s4, algo) {
    var tmp = _this__u8e3s4.b68(algo);
    var map = joinToString$default(tmp, '\n', null, null, 0, null, dis$lambda(), 30, null);
    println(map);
  }
  function generateGameLevel(levelId, exampleMap, exampleWidth, exampleHeight, mapWidth, mapHeight, exampleOriginX, exampleOriginY, genOptions, tilesAtlasIndex, scope) {
    var patternSize = 3;
    println('input = ' + exampleWidth + ' x ' + exampleHeight + ', output = ' + mapWidth + ' x ' + mapHeight + ' example origin= ' + exampleOriginX + ' x ' + exampleOriginY);
    println(joinToString$default_0(exampleMap, '\n', null, null, 0, null, null, 62, null));
    println('for generator');
    println(joinToString$default_0(exampleMap, '\n', null, null, 0, null, generateGameLevel$lambda(), 30, null));
    println('raw patterns count: ' + imul((exampleWidth - patternSize | 0) + 1 | 0, (exampleHeight - patternSize | 0) + 1 | 0));
    var initials = new IntArray2D(exampleWidth, exampleHeight, generateGameLevel$lambda_0(exampleWidth, exampleMap));
    var tmp$ret$2;
    {
      var tmp = 0;
      var tmp_0 = mapHeight;
      var tmp$ret$0;
      {
        tmp$ret$0 = fillArrayVal(Array(tmp_0), null);
      }
      var tmp_1 = tmp$ret$0;
      while (tmp < tmp_0) {
        var tmp_2 = tmp;
        var tmp$ret$1;
        {
          var tmp_3 = until(0, mapWidth);
          tmp$ret$1 = joinToString$default_0(tmp_3, '', null, null, 0, null, generateGameLevel$lambda_1(exampleOriginX, tmp_2, exampleOriginY, exampleWidth, exampleHeight, exampleMap), 30, null);
        }
        tmp_1[tmp_2] = tmp$ret$1;
        tmp = tmp + 1 | 0;
      }
      var tmp0_apply = loadGameLevel(levelId, toList(tmp_1), tilesAtlasIndex);
      {
      }
      {
        launch$default(scope, null, null, generateGameLevel$slambda_0(initials, patternSize, mapWidth, mapHeight, genOptions, exampleMap, exampleOriginX, exampleOriginY, exampleWidth, exampleHeight, tmp0_apply, tilesAtlasIndex, null), 3, null);
      }
      tmp$ret$2 = tmp0_apply;
    }
    return tmp$ret$2;
  }
  function generateGameLevel$default(levelId, exampleMap, exampleWidth, exampleHeight, mapWidth, mapHeight, exampleOriginX, exampleOriginY, genOptions, tilesAtlasIndex, scope, $mask0, $handler) {
    if (!(($mask0 & 4) === 0))
      exampleWidth = first(exampleMap).length;
    if (!(($mask0 & 8) === 0))
      exampleHeight = exampleMap.m();
    if (!(($mask0 & 16) === 0))
      mapWidth = exampleWidth;
    if (!(($mask0 & 32) === 0))
      mapHeight = exampleHeight;
    if (!(($mask0 & 64) === 0))
      exampleOriginX = (mapWidth - exampleWidth | 0) / 2 | 0;
    if (!(($mask0 & 128) === 0))
      exampleOriginY = mapHeight - exampleHeight | 0;
    if (!(($mask0 & 256) === 0)) {
      genOptions = Cartesian2DModelOptions_init_$Create$(false, true, false, true, false, false, false, false, false, false, false, false, false, true, 0.0, 19792, null);
    }
    return generateGameLevel(levelId, exampleMap, exampleWidth, exampleHeight, mapWidth, mapHeight, exampleOriginX, exampleOriginY, genOptions, tilesAtlasIndex, scope);
  }
  function loadGameLevel(levelId, map, tilesAtlasIndex) {
    return GameLevel_init_$Create$(levelId, map, tilesAtlasIndex, 0, 8, null);
  }
  function Anim_init_$Init$(pos, name, currentFrame, $mask0, $marker, $this) {
    if (!(($mask0 & 4) === 0))
      currentFrame = 0;
    Anim.call($this, pos, name, currentFrame);
    return $this;
  }
  function Anim_init_$Create$(pos, name, currentFrame, $mask0, $marker) {
    return Anim_init_$Init$(pos, name, currentFrame, $mask0, $marker, Object.create(Anim.prototype));
  }
  function Anim(pos, name, currentFrame) {
    this.x6x_1 = pos;
    this.y6x_1 = name;
    this.z6x_1 = currentFrame;
  }
  Anim.prototype.z3 = function () {
    return this.x6x_1;
  };
  Anim.prototype.a4 = function () {
    return this.y6x_1;
  };
  Anim.prototype.a6y = function () {
    return this.z6x_1;
  };
  Anim.prototype.toString = function () {
    return 'Anim(pos=' + this.x6x_1 + ', name=' + this.y6x_1 + ', currentFrame=' + this.z6x_1 + ')';
  };
  Anim.prototype.hashCode = function () {
    var result = this.x6x_1.hashCode();
    result = imul(result, 31) + getStringHashCode(this.y6x_1) | 0;
    result = imul(result, 31) + this.z6x_1 | 0;
    return result;
  };
  Anim.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Anim))
      return false;
    var tmp0_other_with_cast = other instanceof Anim ? other : THROW_CCE();
    if (!this.x6x_1.equals(tmp0_other_with_cast.x6x_1))
      return false;
    if (!(this.y6x_1 === tmp0_other_with_cast.y6x_1))
      return false;
    if (!(this.z6x_1 === tmp0_other_with_cast.z6x_1))
      return false;
    return true;
  };
  Anim.$metadata$ = classMeta('Anim');
  var Status_LEVEL_STARTUP_instance;
  var Status_LEVEL_PAUSED_instance;
  var Status_LEVEL_PLAYING_instance;
  var Status_LEVEL_DONE_instance;
  var Status_entriesInitialized;
  function Status_initEntries() {
    if (Status_entriesInitialized)
      return Unit_getInstance();
    Status_entriesInitialized = true;
    Status_LEVEL_STARTUP_instance = new Status('LEVEL_STARTUP', 0);
    Status_LEVEL_PAUSED_instance = new Status('LEVEL_PAUSED', 1);
    Status_LEVEL_PLAYING_instance = new Status('LEVEL_PLAYING', 2);
    Status_LEVEL_DONE_instance = new Status('LEVEL_DONE', 3);
  }
  function GameLevel_init_$Init$(levelId, map, primaryTileSet, maxGuards, $mask0, $marker, $this) {
    if (!(($mask0 & 8) === 0))
      maxGuards = 5;
    GameLevel.call($this, levelId, map, primaryTileSet, maxGuards);
    return $this;
  }
  function GameLevel_init_$Create$(levelId, map, primaryTileSet, maxGuards, $mask0, $marker) {
    return GameLevel_init_$Init$(levelId, map, primaryTileSet, maxGuards, $mask0, $marker, Object.create(GameLevel.prototype));
  }
  function Status(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  Status.$metadata$ = classMeta('Status', undefined, undefined, undefined, undefined, Enum.prototype);
  function stopAllAnims($this) {
    var i = $this.b6q_1.h();
    while (i.n()) {
      var a = i.o();
      if ((a.y6x_1 === 'fillHole' ? true : a.y6x_1 === 'digHoleLeftBase') ? true : a.y6x_1 === 'digHoleRightBase') {
        $this.b6y(a.x6x_1, new ViewCell(false, ensureNotNull($this.p6p_1.z2(Tile_BRICK_getInstance().u6x()))));
        $this.y6p_1[a.x6x_1.z1z()][a.x6x_1.b20()] = TileLogicType_BLOCK_getInstance();
      }
      i.e4();
    }
  }
  function Status_LEVEL_STARTUP_getInstance() {
    Status_initEntries();
    return Status_LEVEL_STARTUP_instance;
  }
  function Status_LEVEL_PLAYING_getInstance() {
    Status_initEntries();
    return Status_LEVEL_PLAYING_instance;
  }
  function Status_LEVEL_DONE_getInstance() {
    Status_initEntries();
    return Status_LEVEL_DONE_instance;
  }
  function GameLevel(levelId, map, primaryTileSet, maxGuards) {
    this.n6p_1 = levelId;
    this.o6p_1 = map;
    this.p6p_1 = primaryTileSet;
    this.q6p_1 = maxGuards;
    this.r6p_1 = first(this.o6p_1).length;
    this.s6p_1 = this.o6p_1.m() + 1 | 0;
    this.t6p_1 = createUint8Buffer(imul(this.r6p_1, this.s6p_1));
    this.u6p_1 = MutableVec2i_init_$Create$_0();
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.v6p_1 = tmp$ret$0;
    this.w6p_1 = 0;
    this.x6p_1 = Status_LEVEL_STARTUP_getInstance();
    var tmp_0 = this;
    var tmp_1 = 0;
    var tmp_2 = this.r6p_1;
    var tmp$ret$1;
    {
      tmp$ret$1 = fillArrayVal(Array(tmp_2), null);
    }
    var tmp_3 = tmp$ret$1;
    while (tmp_1 < tmp_2) {
      var tmp_4 = tmp_1;
      var tmp$ret$4;
      {
        var tmp_5 = 0;
        var tmp_6 = this.s6p_1;
        var tmp$ret$2;
        {
          tmp$ret$2 = fillArrayVal(Array(tmp_6), null);
        }
        var tmp_7 = tmp$ret$2;
        while (tmp_5 < tmp_6) {
          var tmp_8 = tmp_5;
          var tmp$ret$3;
          {
            tmp$ret$3 = TileLogicType_EMPTY_getInstance();
          }
          tmp_7[tmp_8] = tmp$ret$3;
          tmp_5 = tmp_5 + 1 | 0;
        }
        tmp$ret$4 = tmp_7;
      }
      tmp_3[tmp_4] = tmp$ret$4;
      tmp_1 = tmp_1 + 1 | 0;
    }
    tmp_0.y6p_1 = tmp_3;
    var tmp_9 = this;
    var tmp_10 = 0;
    var tmp_11 = this.r6p_1;
    var tmp$ret$5;
    {
      tmp$ret$5 = fillArrayVal(Array(tmp_11), null);
    }
    var tmp_12 = tmp$ret$5;
    while (tmp_10 < tmp_11) {
      var tmp_13 = tmp_10;
      var tmp$ret$8;
      {
        var tmp_14 = 0;
        var tmp_15 = this.s6p_1;
        var tmp$ret$6;
        {
          tmp$ret$6 = fillArrayVal(Array(tmp_15), null);
        }
        var tmp_16 = tmp$ret$6;
        while (tmp_14 < tmp_15) {
          var tmp_17 = tmp_14;
          var tmp$ret$7;
          {
            tmp$ret$7 = TileLogicType_EMPTY_getInstance();
          }
          tmp_16[tmp_17] = tmp$ret$7;
          tmp_14 = tmp_14 + 1 | 0;
        }
        tmp$ret$8 = tmp_16;
      }
      tmp_12[tmp_13] = tmp$ret$8;
      tmp_10 = tmp_10 + 1 | 0;
    }
    tmp_9.z6p_1 = tmp_12;
    var tmp_18 = this;
    var tmp_19 = 0;
    var tmp_20 = this.r6p_1;
    var tmp$ret$9;
    {
      tmp$ret$9 = fillArrayVal(Array(tmp_20), null);
    }
    var tmp_21 = tmp$ret$9;
    while (tmp_19 < tmp_20) {
      var tmp_22 = tmp_19;
      var tmp$ret$12;
      {
        var tmp_23 = 0;
        var tmp_24 = this.s6p_1;
        var tmp$ret$10;
        {
          tmp$ret$10 = fillArrayVal(Array(tmp_24), null);
        }
        var tmp_25 = tmp$ret$10;
        while (tmp_23 < tmp_24) {
          var tmp_26 = tmp_23;
          var tmp$ret$11;
          {
            tmp$ret$11 = false;
          }
          tmp_25[tmp_26] = tmp$ret$11;
          tmp_23 = tmp_23 + 1 | 0;
        }
        tmp$ret$12 = tmp_25;
      }
      tmp_21[tmp_22] = tmp$ret$12;
      tmp_19 = tmp_19 + 1 | 0;
    }
    tmp_18.a6q_1 = tmp_21;
    var tmp_27 = this;
    var tmp$ret$13;
    {
      tmp$ret$13 = ArrayList_init_$Create$_0();
    }
    tmp_27.b6q_1 = tmp$ret$13;
    this.c6q_1 = false;
    this.d6q_1 = null;
    println('creating level ' + this.n6p_1 + ' ' + this.r6p_1 + ' x ' + this.s6p_1);
    println('from map:');
    println(joinToString$default_0(this.o6p_1, '\n', null, null, 0, null, null, 62, null));
    this.u4j();
  }
  GameLevel.prototype.c6y = function () {
    return this.n6p_1;
  };
  GameLevel.prototype.d6y = function () {
    return this.q6p_1;
  };
  GameLevel.prototype.y3u = function () {
    return this.r6p_1;
  };
  GameLevel.prototype.z3u = function () {
    return this.s6p_1;
  };
  GameLevel.prototype.e6y = function () {
    return this.u6p_1;
  };
  GameLevel.prototype.f6y = function () {
    return this.v6p_1;
  };
  GameLevel.prototype.g6y = function (_set____db54di) {
    this.w6p_1 = _set____db54di;
  };
  GameLevel.prototype.h6y = function () {
    return this.w6p_1;
  };
  GameLevel.prototype.d6v = function () {
    return this.w6p_1 === 0;
  };
  GameLevel.prototype.t6x = function () {
    return this.y6p_1;
  };
  GameLevel.prototype.s6x = function () {
    return this.z6p_1;
  };
  GameLevel.prototype.i6y = function () {
    return this.a6q_1;
  };
  GameLevel.prototype.j6y = function (_set____db54di) {
    this.c6q_1 = _set____db54di;
  };
  GameLevel.prototype.k6y = function () {
    return this.c6q_1;
  };
  GameLevel.prototype.l6y = function (_set____db54di) {
    this.d6q_1 = _set____db54di;
  };
  GameLevel.prototype.c6v = function (runner) {
    var iter = this.b6q_1.h();
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    var toAdd = tmp$ret$0;
    $l$loop_0: while (iter.n()) {
      var entry = iter.o();
      var tmp0_container = entry;
      var pos = tmp0_container.z3();
      var animName = tmp0_container.a4();
      var frame = tmp0_container.a6y();
      var tmp1_this = entry;
      var tmp2 = tmp1_this.z6x_1;
      tmp1_this.z6x_1 = tmp2 + 1 | 0;
      var tmp3_safe_receiver = this.d6q_1;
      var tmp4_safe_receiver = tmp3_safe_receiver == null ? null : tmp3_safe_receiver.a6a_1;
      var tmp5_elvis_lhs = tmp4_safe_receiver == null ? null : tmp4_safe_receiver.z2(animName);
      var tmp;
      if (tmp5_elvis_lhs == null) {
        continue $l$loop_0;
      } else {
        tmp = tmp5_elvis_lhs;
      }
      var animArray = tmp;
      var tmp6_container = pos;
      var x = component1(tmp6_container);
      var y = component2(tmp6_container);
      if (frame < animArray.m()) {
        var tileIndex = animArray.r(frame);
        if ((animName === 'digHoleLeftBase' ? true : animName === 'digHoleRightBase') ? this.a6q_1[x][y - 1 | 0] : false) {
          this.y6p_1[x][y] = TileLogicType_BLOCK_getInstance();
          this.m6y(x, y, new ViewCell(false, ensureNotNull(this.p6p_1.z2(Tile_BRICK_getInstance().u6x()))));
          this.a6q_1[x][y] = false;
          runner.f6u().y6r(Sound_DIG_getInstance());
          iter.e4();
          continue $l$loop_0;
        } else {
          this.m6y(x, y, new ViewCell(true, tileIndex));
        }
      } else {
        if (animName === 'fillHole') {
          this.b6y(pos, new ViewCell(false, ensureNotNull(this.p6p_1.z2(Tile_BRICK_getInstance().u6x()))));
          this.y6p_1[x][y] = TileLogicType_BLOCK_getInstance();
        }
        if (animName === 'digHoleLeftBase' ? true : animName === 'digHoleRightBase') {
          toAdd.b(Anim_init_$Create$(pos, 'fillHole', 0, 4, null));
        }
        if (animName === 'digHoleLeft' ? true : animName === 'digHoleRight') {
          this.b6y(pos, new ViewCell(false, ensureNotNull(this.p6p_1.z2(Tile_EMPTY_getInstance().u6x()))));
          this.y6p_1[pos.z1z()][pos.b20()] = TileLogicType_EMPTY_getInstance();
        }
        iter.e4();
      }
    }
    this.b6q_1.m1(toAdd);
  };
  GameLevel.prototype.n2d = function (x, y) {
    return this.n6y(x, y) ? Companion_getInstance_17().w6x(this.t6p_1.r(imul(y, this.r6p_1) + x | 0)) : null;
  };
  GameLevel.prototype.m6y = function (x, y, v) {
    if (this.n6y(x, y))
      this.t6p_1.i4y(imul(y, this.r6p_1) + x | 0, v.y6j());
    this.c6q_1 = true;
  };
  GameLevel.prototype.b6y = function (at, v) {
    return this.m6y(at.z1z(), at.b20(), v);
  };
  GameLevel.prototype.o6y = function (x, y, t) {
    if (this.n6y(x, y)) {
      var tmp0_safe_receiver = this.n2d(x, y);
      var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.w6j_1;
      var tmp = tmp1_elvis_lhs == null ? false : tmp1_elvis_lhs;
      var tmp2_elvis_lhs = this.p6p_1.z2(t.u6x());
      this.m6y(x, y, new ViewCell(tmp, tmp2_elvis_lhs == null ? 0 : tmp2_elvis_lhs));
    }
  };
  GameLevel.prototype.p6y = function (at) {
    return this.q6y(at.z1z(), at.b20());
  };
  GameLevel.prototype.q6y = function (x, y) {
    return NeighborhoodNeumann2d_getInstance().s6y(x, y);
  };
  GameLevel.prototype.v6w = function (at) {
    return this.y6p_1[at.z1z()][at.b20()];
  };
  GameLevel.prototype.n6y = function (x, y) {
    return ((x >= 0 ? x < this.r6p_1 : false) ? y >= 0 : false) ? y < this.s6p_1 : false;
  };
  GameLevel.prototype.u4j = function () {
    stopAllAnims(this);
    this.w6p_1 = 0;
    this.v6p_1.t7();
    {
      var tmp0_forEachIndexed = this.o6p_1;
      var index = 0;
      var tmp0_iterator = tmp0_forEachIndexed.h();
      while (tmp0_iterator.n()) {
        var item = tmp0_iterator.o();
        {
          var tmp1 = index;
          index = tmp1 + 1 | 0;
          var tmp1__anonymous__uwfjfc = checkIndexOverflow(tmp1);
          {
            var index_0 = 0;
            var indexedObject = item;
            var inductionVariable = 0;
            var last = indexedObject.length;
            while (inductionVariable < last) {
              var item_0 = charSequenceGet(indexedObject, inductionVariable);
              inductionVariable = inductionVariable + 1 | 0;
              {
                var tmp1_0 = index_0;
                index_0 = tmp1_0 + 1 | 0;
                var tmp0__anonymous__q1qw7t = tmp1_0;
                var guard = false;
                var tile = ensureNotNull(Companion_getInstance_16().p6x_1.z2(new Char(item_0)));
                var tmp0_subject = tile;
                var tmp0 = tmp0_subject.w1();
                switch (tmp0) {
                  case 9:
                    this.u6p_1.n2f(tmp0__anonymous__q1qw7t);
                    this.u6p_1.o2f(tmp1__anonymous__uwfjfc);
                    break;
                  case 8:
                    if (this.v6p_1.m() < this.q6p_1) {
                      guard = true;
                      this.v6p_1.b(new Vec2i(tmp0__anonymous__q1qw7t, tmp1__anonymous__uwfjfc));
                    }

                    break;
                  case 7:
                    var tmp1_this = this;
                    var tmp2 = tmp1_this.w6p_1;
                    tmp1_this.w6p_1 = tmp2 + 1 | 0;
                    ;
                    break;
                  default:
                    ;
                    break;
                }
                this.y6p_1[tmp0__anonymous__q1qw7t][tmp1__anonymous__uwfjfc] = tile.n6x_1;
                this.z6p_1[tmp0__anonymous__q1qw7t][tmp1__anonymous__uwfjfc] = tile.m6x_1;
                this.a6q_1[tmp0__anonymous__q1qw7t][tmp1__anonymous__uwfjfc] = guard;
                var tmp;
                var tmp_0;
                if (tile.m6x_1.equals(TileLogicType_HLADR_getInstance())) {
                  tmp_0 = true;
                } else {
                  var tmp$ret$0;
                  {
                    var tmp0_isEmpty = tile.u6x();
                    tmp$ret$0 = charSequenceLength(tmp0_isEmpty) === 0;
                  }
                  tmp_0 = tmp$ret$0;
                }
                if (tmp_0) {
                  tmp = Tile_EMPTY_getInstance().u6x();
                } else {
                  tmp = tile.u6x();
                }
                this.m6y(tmp0__anonymous__q1qw7t, tmp1__anonymous__uwfjfc, new ViewCell(false, ensureNotNull(this.p6p_1.z2(tmp))));
              }
            }
          }
        }
      }
    }
    var inductionVariable_0 = 0;
    var last_0 = this.r6p_1;
    if (inductionVariable_0 < last_0)
      do {
        var x = inductionVariable_0;
        inductionVariable_0 = inductionVariable_0 + 1 | 0;
        this.y6p_1[x][this.s6p_1 - 1 | 0] = TileLogicType_SOLID_getInstance();
        this.z6p_1[x][this.s6p_1 - 1 | 0] = TileLogicType_SOLID_getInstance();
        this.m6y(x, this.s6p_1 - 1 | 0, new ViewCell(false, ensureNotNull(this.p6p_1.z2('ground'))));
      }
       while (inductionVariable_0 < last_0);
    {
      var tmp2_forEach = this.a6q_1;
      var indexedObject_0 = tmp2_forEach;
      var inductionVariable_1 = 0;
      var last_1 = indexedObject_0.length;
      while (inductionVariable_1 < last_1) {
        var element = indexedObject_0[inductionVariable_1];
        inductionVariable_1 = inductionVariable_1 + 1 | 0;
        {
          {
            var index_1 = 0;
            var indexedObject_1 = element;
            var inductionVariable_2 = 0;
            var last_2 = indexedObject_1.length;
            while (inductionVariable_2 < last_2) {
              var item_1 = indexedObject_1[inductionVariable_2];
              inductionVariable_2 = inductionVariable_2 + 1 | 0;
              {
                var tmp1_1 = index_1;
                index_1 = tmp1_1 + 1 | 0;
                var tmp0__anonymous__q1qw7t_0 = tmp1_1;
                element[tmp0__anonymous__q1qw7t_0] = false;
              }
            }
          }
        }
      }
    }
    {
      var tmp3_forEach = this.v6p_1;
      var tmp0_iterator_0 = tmp3_forEach.h();
      while (tmp0_iterator_0.n()) {
        var element_0 = tmp0_iterator_0.o();
        {
          this.a6q_1[element_0.z1z()][element_0.b20()] = true;
        }
      }
    }
    this.c6q_1 = true;
  };
  GameLevel.prototype.t6y = function () {
    return new TextureData2d(this.t6p_1, this.r6p_1, this.s6p_1, TexFormat_R_getInstance());
  };
  GameLevel.prototype.i6v = function () {
    var inductionVariable = 0;
    var last = this.s6p_1;
    if (inductionVariable < last)
      do {
        var y = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var inductionVariable_0 = 0;
        var last_0 = this.r6p_1;
        if (inductionVariable_0 < last_0)
          do {
            var x = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            if (this.z6p_1[x][y].equals(TileLogicType_HLADR_getInstance())) {
              this.y6p_1[x][y] = TileLogicType_LADDR_getInstance();
              this.m6y(x, y, new ViewCell(false, ensureNotNull(this.p6p_1.z2(Tile_LADDER_getInstance().u6x()))));
            }
          }
           while (inductionVariable_0 < last_0);
      }
       while (inductionVariable < last);
    this.x6p_1 = Status_LEVEL_DONE_getInstance();
  };
  GameLevel.prototype.o6w = function (x, y) {
    this.z6p_1[x][y] = TileLogicType_GOLD_getInstance();
    this.o6y(x, y, Tile_GOLD_getInstance());
  };
  GameLevel.prototype.b6u = function (x, y) {
    this.z6p_1[x][y] = TileLogicType_EMPTY_getInstance();
    this.o6y(x, y, Tile_EMPTY_getInstance());
  };
  GameLevel.prototype.p6w = function (x, y) {
    return (this.n6y(x, y) ? this.z6p_1[x][y].equals(TileLogicType_BLOCK_getInstance()) : false) ? this.y6p_1[x][y].equals(TileLogicType_EMPTY_getInstance()) : false;
  };
  GameLevel.prototype.e6x = function (x, y) {
    return this.n6y(x, y) ? this.y6p_1[x][y].equals(TileLogicType_BLOCK_getInstance()) : false;
  };
  GameLevel.prototype.s6q = function (x, y) {
    var tmp;
    if (!this.n6y(x, y)) {
      tmp = true;
    } else {
      var tmp$ret$1;
      {
        var tmp0_run = this.y6p_1[x][y];
        {
        }
        var tmp$ret$0;
        {
          tmp$ret$0 = (tmp0_run.equals(TileLogicType_BLOCK_getInstance()) ? true : tmp0_run.equals(TileLogicType_SOLID_getInstance())) ? true : tmp0_run.equals(TileLogicType_TRAP_getInstance());
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp = tmp$ret$1;
    }
    return tmp;
  };
  GameLevel.prototype.f6q = function (x, y) {
    return (this.n6y(x, y) ? !this.y6p_1[x][y].equals(TileLogicType_BLOCK_getInstance()) : false) ? !this.y6p_1[x][y].equals(TileLogicType_SOLID_getInstance()) : false;
  };
  GameLevel.prototype.q6w = function (x, y, hidden) {
    return this.n6y(x, y) ? this.y6p_1[x][y].equals(TileLogicType_LADDR_getInstance()) ? true : this.z6p_1[x][y].equals(TileLogicType_HLADR_getInstance()) ? hidden : false : false;
  };
  GameLevel.prototype.e6q = function (x, y, hidden, $mask0, $handler) {
    if (!(($mask0 & 4) === 0))
      hidden = this.d6v();
    return this.q6w(x, y, hidden);
  };
  GameLevel.prototype.y6w = function (at, hidden) {
    return this.q6w(at.z1z(), at.b20(), hidden);
  };
  GameLevel.prototype.u6y = function (x, y, useBase, useGuard) {
    var tmp;
    if (useBase) {
      tmp = this.z6p_1;
    } else {
      tmp = this.y6p_1;
    }
    var check = tmp;
    return (((!this.n6y(x, y) ? true : check[x][y].equals(TileLogicType_BLOCK_getInstance())) ? true : check[x][y].equals(TileLogicType_SOLID_getInstance())) ? true : check[x][y].equals(TileLogicType_LADDR_getInstance())) ? true : useGuard ? this.v6u(x, y) : false;
  };
  GameLevel.prototype.a6s = function (x, y, useBase, useGuard, $mask0, $handler) {
    if (!(($mask0 & 4) === 0))
      useBase = false;
    if (!(($mask0 & 8) === 0))
      useGuard = true;
    return this.u6y(x, y, useBase, useGuard);
  };
  GameLevel.prototype.w6w = function (at, useBase, useGuard) {
    return this.u6y(at.z1z(), at.b20(), useBase, useGuard);
  };
  GameLevel.prototype.z6w = function (at, useBase, useGuard, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      useBase = false;
    if (!(($mask0 & 4) === 0))
      useGuard = true;
    return this.w6w(at, useBase, useGuard);
  };
  GameLevel.prototype.q6q = function (x, y) {
    return this.n6y(x, y) ? this.z6p_1[x][y].equals(TileLogicType_BAR_getInstance()) : false;
  };
  GameLevel.prototype.x6w = function (at) {
    return this.q6q(at.z1z(), at.b20());
  };
  GameLevel.prototype.d6u = function (x, y) {
    return this.n6y(x, y) ? this.z6p_1[x][y].equals(TileLogicType_GOLD_getInstance()) : false;
  };
  GameLevel.prototype.n6w = function (x, y) {
    return ((this.n6y(x, y) ? this.y6p_1[x][y].equals(TileLogicType_EMPTY_getInstance()) : false) ? !this.z6p_1[x][y].equals(TileLogicType_GOLD_getInstance()) : false) ? !this.v6u(x, y) : false;
  };
  GameLevel.prototype.v6u = function (x, y) {
    return this.n6y(x, y) ? this.a6q_1[x][y] : false;
  };
  GameLevel.prototype.d6x = function (at) {
    return this.v6u(at.z1z(), at.b20());
  };
  GameLevel.$metadata$ = classMeta('GameLevel');
  function NeighbourhoodTopology$NeighborhoodNeumann2d$neighbours$lambda($x, $y) {
    return function (_name_for_destructuring_parameter_0__wldtmu) {
      var tmp$ret$0;
      {
        tmp$ret$0 = _name_for_destructuring_parameter_0__wldtmu.r(0);
      }
      var dx = tmp$ret$0;
      var tmp$ret$1;
      {
        tmp$ret$1 = _name_for_destructuring_parameter_0__wldtmu.r(1);
      }
      var dy = tmp$ret$1;
      return sequenceOf([$x + dx | 0, $y + dy | 0]);
    };
  }
  function NeighborhoodNeumann2d() {
    NeighborhoodNeumann2d_instance = this;
    NeighbourhoodTopology.call(this);
    var tmp = this;
    var tmp$ret$2;
    {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          tmp$ret$0 = [0, -1, -1, 0, 1, 0, 0, 1];
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    tmp.r6y_1 = tmp$ret$2;
  }
  NeighborhoodNeumann2d.prototype.s6y = function (x, y) {
    var tmp = chunked(asSequence(this.r6y_1), 2);
    return flatMap(tmp, NeighbourhoodTopology$NeighborhoodNeumann2d$neighbours$lambda(x, y));
  };
  NeighborhoodNeumann2d.$metadata$ = objectMeta('NeighborhoodNeumann2d', undefined, undefined, undefined, undefined, NeighbourhoodTopology.prototype);
  var NeighborhoodNeumann2d_instance;
  function NeighborhoodNeumann2d_getInstance() {
    if (NeighborhoodNeumann2d_instance == null)
      new NeighborhoodNeumann2d();
    return NeighborhoodNeumann2d_instance;
  }
  function NeighbourhoodTopology() {
  }
  NeighbourhoodTopology.$metadata$ = classMeta('NeighbourhoodTopology');
  function dis$lambda() {
    return function (row) {
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          var tmp0_mapTo = ArrayList_init_$Create$(row.length);
          var indexedObject = row;
          var inductionVariable = 0;
          var last = indexedObject.length;
          while (inductionVariable < last) {
            var item = indexedObject[inductionVariable];
            inductionVariable = inductionVariable + 1 | 0;
            var tmp$ret$0;
            {
              var tmp0_subject = item;
              tmp$ret$0 = tmp0_subject == null ? '.' : tmp0_subject === IntCompanionObject_getInstance().a1_1 ? '!' : toString_1(values_3()[item].l6x_1);
            }
            tmp0_mapTo.b(tmp$ret$0);
          }
          tmp$ret$1 = tmp0_mapTo;
        }
        tmp$ret$2 = tmp$ret$1;
      }
      var tmp = tmp$ret$2;
      return joinToString$default_0(tmp, '', null, null, 0, null, null, 62, null);
    };
  }
  function generateGameLevel$lambda() {
    return function (it) {
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          var tmp0_mapTo = ArrayList_init_$Create$(charSequenceLength(it));
          var indexedObject = it;
          var inductionVariable = 0;
          var last = indexedObject.length;
          while (inductionVariable < last) {
            var item = charSequenceGet(indexedObject, inductionVariable);
            inductionVariable = inductionVariable + 1 | 0;
            var tmp$ret$0;
            {
              tmp$ret$0 = values_3()[ensureNotNull(Companion_getInstance_16().p6x_1.z2(new Char(item))).v6x()].l6x_1;
            }
            tmp0_mapTo.b(new Char(tmp$ret$0));
          }
          tmp$ret$1 = tmp0_mapTo;
        }
        tmp$ret$2 = tmp$ret$1;
      }
      var tmp = tmp$ret$2;
      return joinToString$default_0(tmp, '', null, null, 0, null, null, 62, null);
    };
  }
  function generateGameLevel$lambda_0($exampleWidth, $exampleMap) {
    return function (idx) {
      var x = idx % $exampleWidth | 0;
      var y = idx / $exampleWidth | 0;
      return ensureNotNull(Companion_getInstance_16().p6x_1.z2(new Char(charSequenceGet($exampleMap.r(y), x)))).v6x();
    };
  }
  function generateGameLevel$lambda_1($exampleOriginX, $tmp, $exampleOriginY, $exampleWidth, $exampleHeight, $exampleMap) {
    return function (x) {
      var exampleX = x - $exampleOriginX | 0;
      var exampleY = $tmp - $exampleOriginY | 0;
      var tileIndex = ((0 <= exampleX ? exampleX < $exampleWidth : false) ? 0 <= exampleY ? exampleY < $exampleHeight : false : false) ? charSequenceGet($exampleMap.r(exampleY), exampleX) : values_3()[0].l6x_1;
      return toString_1(tileIndex);
    };
  }
  function generateGameLevel$slambda$lambda() {
    return function (it) {
      println('failed');
      return Unit_getInstance();
    };
  }
  function generateGameLevel$slambda$lambda$lambda() {
    return function (it) {
      var tmp0_subject = it;
      return tmp0_subject == null ? '.' : tmp0_subject === IntCompanionObject_getInstance().a1_1 ? '!' : '' + it;
    };
  }
  function generateGameLevel$slambda$lambda_0() {
    return function (row) {
      return joinToString$default(row, '', null, null, 0, null, generateGameLevel$slambda$lambda$lambda(), 30, null);
    };
  }
  function generateGameLevel$slambda($initials, $patternSize, $mapWidth, $mapHeight, $genOptions, $exampleMap, $exampleOriginX, $exampleOriginY, $exampleWidth, $exampleHeight, $tmp0_apply, $tilesAtlasIndex, resultContinuation) {
    this.d6z_1 = $initials;
    this.e6z_1 = $patternSize;
    this.f6z_1 = $mapWidth;
    this.g6z_1 = $mapHeight;
    this.h6z_1 = $genOptions;
    this.i6z_1 = $exampleMap;
    this.j6z_1 = $exampleOriginX;
    this.k6z_1 = $exampleOriginY;
    this.l6z_1 = $exampleWidth;
    this.m6z_1 = $exampleHeight;
    this.n6z_1 = $tmp0_apply;
    this.o6z_1 = $tilesAtlasIndex;
    CoroutineImpl.call(this, resultContinuation);
  }
  generateGameLevel$slambda.prototype.d1v = function ($this$launch, $cont) {
    var tmp = this.e1v($this$launch, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  generateGameLevel$slambda.prototype.s7 = function (p1, $cont) {
    return this.d1v((!(p1 == null) ? isInterface(p1, CoroutineScope_0) : false) ? p1 : THROW_CCE(), $cont);
  };
  generateGameLevel$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        if (tmp === 0) {
          this.l7_1 = 1;
          var wcf = OverlappingCartesian2DModel_init_$Create$(this.d6z_1, this.e6z_1 - 1 | 0, this.f6z_1, this.g6z_1, this.h6z_1);
          var index = 0;
          var tmp0_iterator = this.i6z_1.h();
          while (tmp0_iterator.n()) {
            var item = tmp0_iterator.o();
            var tmp1 = index;
            index = tmp1 + 1 | 0;
            var tmp0__anonymous__q1qw7t = checkIndexOverflow(tmp1);
            var index_0 = 0;
            var indexedObject = item;
            var inductionVariable = 0;
            var last = indexedObject.length;
            while (inductionVariable < last) {
              var item_0 = charSequenceGet(indexedObject, inductionVariable);
              inductionVariable = inductionVariable + 1 | 0;
              var tmp1_0 = index_0;
              index_0 = tmp1_0 + 1 | 0;
              var tmp0__anonymous__q1qw7t_0 = tmp1_0;
              wcf.q67(this.j6z_1 + tmp0__anonymous__q1qw7t_0 | 0, this.k6z_1 + tmp0__anonymous__q1qw7t | 0, ensureNotNull(Companion_getInstance_16().p6x_1.z2(new Char(charSequenceGet(this.i6z_1.r(tmp0__anonymous__q1qw7t), tmp0__anonymous__q1qw7t_0)))).v6x());
            }
          }
          var tmp0_measureTimedValue = Monotonic_getInstance();
          var mark = tmp0_measureTimedValue.yb();
          var result = wcf.sr();
          var tmp0_container = new TimedValue(result, ValueTimeMark__elapsedNow_impl_eonqvs(mark));
          var algo = tmp0_container.z3();
          var buildTime = tmp0_container.bc();
          println('algorithm build in ' + new Duration(buildTime));
          var tmp1_this = algo;
          var tmp_0 = tmp1_this.y60();
          tmp_0.l65(generateGameLevel$slambda$lambda());
          var tmp0_measureTimedValue_0 = Monotonic_getInstance();
          var mark_0 = tmp0_measureTimedValue_0.yb();
          var result_0 = algo.e61(2, 0, 0, 6, null);
          var tmp2_container = new TimedValue(result_0, ValueTimeMark__elapsedNow_impl_eonqvs(mark_0));
          var res = tmp2_container.z3();
          var dur = tmp2_container.bc();
          println('wcf run in ' + new Duration(dur) + ' with result = ' + res);
          dis(wcf, algo);
          var out = wcf.b68(algo);
          var tmp1_map = until(0, this.f6z_1);
          var tmp0_mapTo = ArrayList_init_$Create$(collectionSizeOrDefault(tmp1_map, 10));
          var inductionVariable_0 = tmp1_map.i9();
          var last_0 = tmp1_map.k9();
          if (inductionVariable_0 <= last_0)
            do {
              var item_1 = inductionVariable_0;
              inductionVariable_0 = inductionVariable_0 + 1 | 0;
              tmp0_mapTo.b((item_1 % 10 | 0) === 0 ? item_1 / 10 | 0 : ' ');
            }
             while (!(item_1 === last_0));
          println(joinToString$default_0(tmp0_mapTo, '', null, null, 0, null, null, 62, null));
          var tmp2_map = until(0, this.f6z_1);
          var tmp0_mapTo_0 = ArrayList_init_$Create$(collectionSizeOrDefault(tmp2_map, 10));
          var inductionVariable_1 = tmp2_map.i9();
          var last_1 = tmp2_map.k9();
          if (inductionVariable_1 <= last_1)
            do {
              var item_2 = inductionVariable_1;
              inductionVariable_1 = inductionVariable_1 + 1 | 0;
              tmp0_mapTo_0.b(item_2 % 10 | 0);
            }
             while (!(item_2 === last_1));
          println(joinToString$default_0(tmp0_mapTo_0, '', null, null, 0, null, null, 62, null));
          println(joinToString$default(out, '\n', null, null, 0, null, generateGameLevel$slambda$lambda_0(), 30, null));
          var index_1 = 0;
          var tmp0_iterator_0 = this.i6z_1.h();
          while (tmp0_iterator_0.n()) {
            var item_3 = tmp0_iterator_0.o();
            var tmp1_1 = index_1;
            index_1 = tmp1_1 + 1 | 0;
            var tmp3__anonymous__ufb84q = checkIndexOverflow(tmp1_1);
            var index_2 = 0;
            var indexedObject_0 = item_3;
            var inductionVariable_2 = 0;
            var last_2 = indexedObject_0.length;
            while (inductionVariable_2 < last_2) {
              var item_4 = charSequenceGet(indexedObject_0, inductionVariable_2);
              inductionVariable_2 = inductionVariable_2 + 1 | 0;
              var tmp1_2 = index_2;
              index_2 = tmp1_2 + 1 | 0;
              var tmp0__anonymous__q1qw7t_1 = tmp1_2;
              out[tmp3__anonymous__ufb84q + this.k6z_1 | 0][this.j6z_1 + tmp0__anonymous__q1qw7t_1 | 0] = ensureNotNull(Companion_getInstance_16().p6x_1.z2(new Char(charSequenceGet(this.i6z_1.r(tmp3__anonymous__ufb84q), tmp0__anonymous__q1qw7t_1)))).w1();
            }
          }
          var index_3 = 0;
          var indexedObject_1 = out;
          var inductionVariable_3 = 0;
          var last_3 = indexedObject_1.length;
          while (inductionVariable_3 < last_3) {
            var item_5 = indexedObject_1[inductionVariable_3];
            inductionVariable_3 = inductionVariable_3 + 1 | 0;
            var tmp1_3 = index_3;
            index_3 = tmp1_3 + 1 | 0;
            var tmp4__anonymous__pkmkx7 = tmp1_3;
            var index_4 = 0;
            var indexedObject_2 = item_5;
            var inductionVariable_4 = 0;
            var last_4 = indexedObject_2.length;
            while (inductionVariable_4 < last_4) {
              var item_6 = indexedObject_2[inductionVariable_4];
              inductionVariable_4 = inductionVariable_4 + 1 | 0;
              var tmp$ret$0;
              l$ret$1: do {
                var tmp1_4 = index_4;
                index_4 = tmp1_4 + 1 | 0;
                var tmp0__anonymous__q1qw7t_2 = tmp1_4;
                if (item_6 == null ? true : item_6 === IntCompanionObject_getInstance().a1_1) {
                  tmp$ret$0 = Unit_getInstance();
                  break l$ret$1;
                }
                var tmp_1;
                var containsUpper = this.l6z_1;
                var containsArg = tmp0__anonymous__q1qw7t_2 - this.j6z_1 | 0;
                if (0 <= containsArg ? containsArg < containsUpper : false) {
                  var containsUpper_0 = this.m6z_1;
                  var containsArg_0 = tmp4__anonymous__pkmkx7 - this.k6z_1 | 0;
                  tmp_1 = 0 <= containsArg_0 ? containsArg_0 < containsUpper_0 : false;
                } else {
                  tmp_1 = false;
                }
                if (tmp_1) {
                  tmp$ret$0 = Unit_getInstance();
                  break l$ret$1;
                }
                var tile = values_3()[item_6];
                this.n6z_1.y6p_1[tmp0__anonymous__q1qw7t_2][tmp4__anonymous__pkmkx7] = tile.n6x_1;
                this.n6z_1.z6p_1[tmp0__anonymous__q1qw7t_2][tmp4__anonymous__pkmkx7] = tile.m6x_1;
                var tmp_2;
                var tmp_3;
                if (tile.m6x_1.equals(TileLogicType_HLADR_getInstance())) {
                  tmp_3 = true;
                } else {
                  var tmp0_isEmpty = tile.u6x();
                  tmp_3 = charSequenceLength(tmp0_isEmpty) === 0;
                }
                if (tmp_3) {
                  tmp_2 = Tile_EMPTY_getInstance().u6x();
                } else {
                  tmp_2 = tile.u6x();
                }
                this.n6z_1.m6y(tmp0__anonymous__q1qw7t_2, tmp4__anonymous__pkmkx7, new ViewCell(false, ensureNotNull(this.o6z_1.z2(tmp_2))));
              }
               while (false);
            }
          }
          return Unit_getInstance();
        } else if (tmp === 1) {
          throw this.n7_1;
        }
      } catch ($p) {
        throw $p;
      }
     while (true);
  };
  generateGameLevel$slambda.prototype.e1v = function ($this$launch, completion) {
    var i = new generateGameLevel$slambda(this.d6z_1, this.e6z_1, this.f6z_1, this.g6z_1, this.h6z_1, this.i6z_1, this.j6z_1, this.k6z_1, this.l6z_1, this.m6z_1, this.n6z_1, this.o6z_1, completion);
    i.p6z_1 = $this$launch;
    return i;
  };
  generateGameLevel$slambda.$metadata$ = classMeta('generateGameLevel$slambda', undefined, undefined, undefined, [1], CoroutineImpl.prototype);
  function generateGameLevel$slambda_0($initials, $patternSize, $mapWidth, $mapHeight, $genOptions, $exampleMap, $exampleOriginX, $exampleOriginY, $exampleWidth, $exampleHeight, $tmp0_apply, $tilesAtlasIndex, resultContinuation) {
    var i = new generateGameLevel$slambda($initials, $patternSize, $mapWidth, $mapHeight, $genOptions, $exampleMap, $exampleOriginX, $exampleOriginY, $exampleWidth, $exampleHeight, $tmp0_apply, $tilesAtlasIndex, resultContinuation);
    var l = function ($this$launch, $cont) {
      return i.d1v($this$launch, $cont);
    };
    l.$arity = 1;
    return l;
  }
  function TileLogicType_EMPTY_getInstance() {
    TileLogicType_initEntries();
    return TileLogicType_EMPTY_instance;
  }
  function TileLogicType_BLOCK_getInstance() {
    TileLogicType_initEntries();
    return TileLogicType_BLOCK_instance;
  }
  function TileLogicType_SOLID_getInstance() {
    TileLogicType_initEntries();
    return TileLogicType_SOLID_instance;
  }
  function TileLogicType_LADDR_getInstance() {
    TileLogicType_initEntries();
    return TileLogicType_LADDR_instance;
  }
  function TileLogicType_BAR_getInstance() {
    TileLogicType_initEntries();
    return TileLogicType_BAR_instance;
  }
  function TileLogicType_TRAP_getInstance() {
    TileLogicType_initEntries();
    return TileLogicType_TRAP_instance;
  }
  function TileLogicType_HLADR_getInstance() {
    TileLogicType_initEntries();
    return TileLogicType_HLADR_instance;
  }
  function TileLogicType_GOLD_getInstance() {
    TileLogicType_initEntries();
    return TileLogicType_GOLD_instance;
  }
  function Tile_EMPTY_getInstance() {
    Tile_initEntries();
    return Tile_EMPTY_instance;
  }
  function Tile_BRICK_getInstance() {
    Tile_initEntries();
    return Tile_BRICK_instance;
  }
  function Tile_SOLID_getInstance() {
    Tile_initEntries();
    return Tile_SOLID_instance;
  }
  function Tile_LADDER_getInstance() {
    Tile_initEntries();
    return Tile_LADDER_instance;
  }
  function Tile_ROPE_getInstance() {
    Tile_initEntries();
    return Tile_ROPE_instance;
  }
  function Tile_TRAP_getInstance() {
    Tile_initEntries();
    return Tile_TRAP_instance;
  }
  function Tile_HLADDER_getInstance() {
    Tile_initEntries();
    return Tile_HLADDER_instance;
  }
  function Tile_GOLD_getInstance() {
    Tile_initEntries();
    return Tile_GOLD_instance;
  }
  function Tile_GUARD_getInstance() {
    Tile_initEntries();
    return Tile_GUARD_instance;
  }
  function Tile_PLAYER_getInstance() {
    Tile_initEntries();
    return Tile_PLAYER_instance;
  }
  function get_START_HEALTH() {
    return START_HEALTH;
  }
  var START_HEALTH;
  function get_anyKeyPressed(_this__u8e3s4) {
    return ((_this__u8e3s4.u6o() ? true : _this__u8e3s4.w6o()) ? true : !(_this__u8e3s4.s6o().z1z() === 0)) ? true : !(_this__u8e3s4.s6o().b20() === 0);
  }
  function Companion_10() {
    Companion_instance_10 = this;
    this.q6z_1 = 1;
  }
  Companion_10.$metadata$ = objectMeta('Companion');
  var Companion_instance_10;
  function Companion_getInstance_18() {
    if (Companion_instance_10 == null)
      new Companion_10();
    return Companion_instance_10;
  }
  function Runner$DigState$lambda($actor) {
    return function (it) {
      var tmp$ret$0;
      {
        {
        }
        $actor.l6u().n2f(0);
        $actor.l6u().o2f(0);
        var tmp = $actor.f6u();
        var tmp_0 = Sound_DIG_getInstance();
        var tmp_1 = $actor.z1z();
        var tmp_2 = $actor.b20();
        tmp.x6r(tmp_0, tmp_1, tmp_2, false, 8, null);
        var tmp_3;
        if ($actor.u6o()) {
          tmp_3 = new Pair($actor.z1z() - 1 | 0, 'digHoleLeft');
        } else {
          tmp_3 = new Pair($actor.z1z() + 1 | 0, 'digHoleRight');
        }
        var tmp0_container = tmp_3;
        var digTileX = tmp0_container.z3();
        var bitmap = tmp0_container.a4();
        $actor.z5e().y6p_1[digTileX][$actor.b20() + 1 | 0] = TileLogicType_EMPTY_getInstance();
        var tmp_4 = $actor.z5e().b6q_1;
        var tmp_5 = new Vec2i(digTileX, $actor.b20());
        tmp_4.b(Anim_init_$Create$(tmp_5, bitmap, 0, 4, null));
        var tmp_6 = $actor.z5e().b6q_1;
        var tmp_7 = new Vec2i(digTileX, $actor.b20() + 1 | 0);
        var tmp_8 = bitmap + 'Base';
        tmp_6.b(Anim_init_$Create$(tmp_7, tmp_8, 0, 4, null));
        tmp$ret$0 = Unit_getInstance();
      }
      return Unit_getInstance();
    };
  }
  function Runner$DigState$lambda_0($actor, this$0) {
    return function ($this$onUpdate) {
      var tmp;
      var tmp_0 = $this$onUpdate.f6p_1;
      Companion_getInstance_18();
      if (tmp_0 >= 1) {
        var tmp0_subject = this$0;
        var tmp_1;
        if (tmp0_subject instanceof DigLeft) {
          tmp_1 = ActorSequence_RunLeft_getInstance();
        } else {
          if (tmp0_subject instanceof DigRight) {
            tmp_1 = ActorSequence_RunRight_getInstance();
          } else {
            noWhenBranchMatchedException();
          }
        }
        $actor.g6q(tmp_1);
        Companion_getInstance_10();
        return 'stop';
      }
      var tmp1_this = $this$onUpdate;
      var tmp2 = tmp1_this.f6p_1;
      tmp1_this.f6p_1 = tmp2 + 1 | 0;
      return null;
    };
  }
  function _set_score__kj1i43($this, value) {
    $this.j6r_1 = value;
    $this.f6u().a6e_1.s6e_1.m1e(value);
  }
  function DigState(actor, animName) {
    Companion_getInstance_18();
    ActorState.call(this, actor, animName, animName.r6o_1);
    this.s6j(Runner$DigState$lambda(actor));
    this.k6s(Runner$DigState$lambda_0(actor, this));
  }
  DigState.$metadata$ = classMeta('DigState', undefined, undefined, undefined, undefined, ActorState.prototype);
  function DigLeft(actor) {
    DigState.call(this, actor, ActorSequence_DigLeft_getInstance());
  }
  DigLeft.$metadata$ = classMeta('DigLeft', undefined, undefined, undefined, undefined, DigState.prototype);
  function DigRight(actor) {
    DigState.call(this, actor, ActorSequence_DigRight_getInstance());
  }
  DigRight.$metadata$ = classMeta('DigRight', undefined, undefined, undefined, undefined, DigState.prototype);
  function _get_tabs__de2oi5(_this__u8e3s4, $this) {
    return padStart(toString_2(_this__u8e3s4), 3, _Char___init__impl__6a9atx(32));
  }
  function checkCollision($this) {
    if ($this.z5e().v6u($this.z1z(), $this.b20()))
      return true;
    var tmp$ret$1;
    $l$block: {
      var tmp = chunked($this.z5e().p6y($this.k6u()), 2);
      var tmp0_firstOrNull = filter(tmp, Runner$checkCollision$lambda($this));
      var tmp0_iterator = tmp0_firstOrNull.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$0;
        {
          tmp$ret$0 = $this.z5e().v6u(first(element), last(element));
        }
        if (tmp$ret$0) {
          tmp$ret$1 = element;
          break $l$block;
        }
      }
      tmp$ret$1 = null;
    }
    var tmp0_safe_receiver = tmp$ret$1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$4;
      {
        {
        }
        var tmp0_container = tmp0_safe_receiver;
        var tmp$ret$2;
        {
          tmp$ret$2 = tmp0_container.r(0);
        }
        var x = tmp$ret$2;
        var tmp$ret$3;
        {
          tmp$ret$3 = tmp0_container.r(1);
        }
        var y = tmp$ret$3;
        var g = $this.f6u().u6u(x, y);
        var tmp_0;
        if ((!g.f6x() ? abs($this.m6u() - g.m6u() | 0) <= imul(3, get_W4()) : false) ? abs($this.n6u() - g.n6u() | 0) <= imul(3, get_H4()) : false) {
          return true;
        }
        tmp$ret$4 = tmp_0;
      }
    }
    return $this.z5e().e6x($this.z1z(), $this.b20());
  }
  function Runner$lambda(this$0) {
    return function (it) {
      this$0.k6u().n2f(it.u6p_1.z1z());
      this$0.k6u().o2f(it.u6p_1.b20());
      return Unit_getInstance();
    };
  }
  function Runner$fsm$delegate$lambda(this$0) {
    return function () {
      var tmp$ret$0;
      {
        var tmp0_apply = Actor.prototype.g6u.call(this$0);
        {
        }
        {
          tmp0_apply.e6u(new DigRight(this$0));
          tmp0_apply.e6u(new DigLeft(this$0));
        }
        tmp$ret$0 = tmp0_apply;
      }
      return tmp$ret$0;
    };
  }
  function Runner$onFallStop$lambda($game, this$0) {
    return function () {
      var tmp = Sound_DOWN_getInstance();
      var tmp_0 = this$0.z1z();
      var tmp_1 = this$0.b20();
      $game.x6r(tmp, tmp_0, tmp_1, false, 8, null);
      return Unit_getInstance();
    };
  }
  function Runner$checkCollision$lambda(this$0) {
    return function (it) {
      return this$0.z5e().n6y(first(it), last(it));
    };
  }
  function Runner(game) {
    Actor.call(this, game);
    this.i6r_1 = game.a6e_1.z6e_1.e3o_1;
    this.j6r_1 = game.a6e_1.s6e_1.e3o_1;
    var tmp0_this = game;
    {
      var tmp0_plusAssign = tmp0_this.b6e_1;
      tmp0_plusAssign.b(Runner$lambda(this));
    }
    var tmp = this;
    tmp.k6r_1 = lazy(Runner$fsm$delegate$lambda(this));
    var tmp_0 = this;
    tmp_0.l6r_1 = Runner$onFallStop$lambda(game, this);
  }
  Runner.prototype.j6v = function (value) {
    this.i6r_1 = value;
    this.f6u().a6e_1.z6e_1.m1e(value);
  };
  Runner.prototype.r6z = function () {
    return this.i6r_1;
  };
  Runner.prototype.s6z = function () {
    return this.j6r_1;
  };
  Runner.prototype.h6v = function () {
    var tmp;
    if (this.b20() === 0 ? this.o6t() === 0 : false) {
      var tmp0_safe_receiver = this.f6u().j6e_1;
      tmp = (tmp0_safe_receiver == null ? null : tmp0_safe_receiver.d6v()) === true;
    } else {
      tmp = false;
    }
    return tmp;
  };
  Runner.prototype.g6u = function () {
    var tmp$ret$0;
    {
      var tmp0_getValue = fsm$factory_2();
      tmp$ret$0 = this.k6r_1.l2();
    }
    return tmp$ret$0;
  };
  Runner.prototype.z6r = function () {
    return this.l6r_1;
  };
  Runner.prototype.t6z = function () {
    if (!this.f6u().a6e_1.y6e_1.e3o_1)
      this.i6u(false);
  };
  Runner.prototype.m6r = function (nx) {
    return this.z5e().e6x(nx, this.b20() + 1 | 0) ? this.z5e().n6w(nx, this.b20()) : false;
  };
  Runner.prototype.k6v = function (points) {
    var tmp0_this = this;
    _set_score__kj1i43(tmp0_this, tmp0_this.j6r_1 + points | 0);
  };
  Runner.prototype.c6u = function () {
    var tmp = this.f6u();
    var tmp_0 = Sound_GOLD_getInstance();
    var tmp_1 = this.z1z();
    var tmp_2 = this.b20();
    tmp.x6r(tmp_0, tmp_1, tmp_2, false, 8, null);
    var tmp0_this = this.z5e();
    var tmp1 = tmp0_this.w6p_1;
    tmp0_this.w6p_1 = tmp1 - 1 | 0;
    this.k6v(get_SCORE_GOLD());
    if (this.z5e().d6v()) {
      this.z5e().i6v();
    }
    return true;
  };
  Runner.prototype.s6u = function () {
    Actor.prototype.s6u.call(this);
    if (checkCollision(this))
      this.t6z();
  };
  Runner.prototype.toString = function () {
    return 'pos: ' + _get_tabs__de2oi5(this.z1z(), this) + ' ' + _get_tabs__de2oi5(this.r6q(), this) + ' x ' + _get_tabs__de2oi5(this.b20(), this) + ' ' + _get_tabs__de2oi5(this.o6t(), this) + ' = ' + _get_tabs__de2oi5(this.m6u(), this) + ' x ' + _get_tabs__de2oi5(this.n6u(), this) + '\n' + ('input: ' + this.s6o() + '\nanim: ' + this.o6u() + '[ ' + this.q6u() + ' ]');
  };
  Runner.$metadata$ = classMeta('Runner', [Controllable], undefined, undefined, undefined, Actor.prototype);
  function fsm$factory_2() {
    return getPropertyCallableRef('fsm', 1, KProperty1, function (receiver) {
      return receiver.g6u();
    }, null);
  }
  var State_NEW_instance;
  var State_LOADING_instance;
  var State_SETUP_instance;
  var State_RUNNING_instance;
  var State_entriesInitialized;
  function State_initEntries() {
    if (State_entriesInitialized)
      return Unit_getInstance();
    State_entriesInitialized = true;
    State_NEW_instance = new State_0('NEW', 0);
    State_LOADING_instance = new State_0('LOADING', 1);
    State_SETUP_instance = new State_0('SETUP', 2);
    State_RUNNING_instance = new State_0('RUNNING', 3);
  }
  function AsyncScene_init_$Init$(name, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0))
      name = null;
    AsyncScene.call($this, name);
    return $this;
  }
  function checkState($this, ctx) {
    if ($this.b71_1.equals(State_NEW_getInstance())) {
      $this.b71_1 = State_LOADING_getInstance();
      var tmp = ctx.j2a();
      tmp.c1t(AsyncScene$checkState$slambda_0($this, ctx, null));
    }
    if ($this.b71_1.equals(State_SETUP_getInstance())) {
      $this.c71(ctx);
      $this.b71_1 = State_RUNNING_getInstance();
    }
  }
  function State_0(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  State_0.$metadata$ = classMeta('State', undefined, undefined, undefined, undefined, Enum.prototype);
  function AsyncScene$lambda(this$0) {
    return function (it) {
      checkState(this$0, it);
      return Unit_getInstance();
    };
  }
  function AsyncScene$checkState$slambda(this$0, $ctx, resultContinuation) {
    this.l71_1 = this$0;
    this.m71_1 = $ctx;
    CoroutineImpl.call(this, resultContinuation);
  }
  AsyncScene$checkState$slambda.prototype.c1u = function ($this$launch, $cont) {
    var tmp = this.d1u($this$launch, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  AsyncScene$checkState$slambda.prototype.s7 = function (p1, $cont) {
    return this.c1u(p1 instanceof AssetManager ? p1 : THROW_CCE(), $cont);
  };
  AsyncScene$checkState$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 2;
            this.k7_1 = 1;
            suspendResult = this.l71_1.o71(this.n71_1, this.m71_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            this.l71_1.b71_1 = State_SETUP_getInstance();
            return Unit_getInstance();
          case 2:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 2) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  AsyncScene$checkState$slambda.prototype.d1u = function ($this$launch, completion) {
    var i = new AsyncScene$checkState$slambda(this.l71_1, this.m71_1, completion);
    i.n71_1 = $this$launch;
    return i;
  };
  AsyncScene$checkState$slambda.$metadata$ = classMeta('AsyncScene$checkState$slambda', undefined, undefined, undefined, [1], CoroutineImpl.prototype);
  function AsyncScene$checkState$slambda_0(this$0, $ctx, resultContinuation) {
    var i = new AsyncScene$checkState$slambda(this$0, $ctx, resultContinuation);
    var l = function ($this$launch, $cont) {
      return i.c1u($this$launch, $cont);
    };
    l.$arity = 1;
    return l;
  }
  function State_NEW_getInstance() {
    State_initEntries();
    return State_NEW_instance;
  }
  function State_LOADING_getInstance() {
    State_initEntries();
    return State_LOADING_instance;
  }
  function State_SETUP_getInstance() {
    State_initEntries();
    return State_SETUP_instance;
  }
  function State_RUNNING_getInstance() {
    State_initEntries();
    return State_RUNNING_instance;
  }
  function AsyncScene(name) {
    Scene.call(this, name);
    this.b71_1 = State_NEW_getInstance();
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.b58();
      tmp0_plusAssign.b(AsyncScene$lambda(this));
    }
  }
  AsyncScene.$metadata$ = classMeta('AsyncScene', undefined, undefined, undefined, undefined, Scene.prototype);
  function GameLevelScene_init_$Init$(game, ctx, assets, appContext, name, $mask0, $marker, $this) {
    if (!(($mask0 & 4) === 0))
      assets = ctx.j2a();
    if (!(($mask0 & 16) === 0))
      name = null;
    GameLevelScene.call($this, game, ctx, assets, appContext, name);
    return $this;
  }
  function GameLevelScene_init_$Create$(game, ctx, assets, appContext, name, $mask0, $marker) {
    return GameLevelScene_init_$Init$(game, ctx, assets, appContext, name, $mask0, $marker, Object.create(GameLevelScene.prototype));
  }
  function _get_currentLevel__t98d28($this) {
    return $this.q6h_1.g6n($this.y73().v6e_1.e3o_1, $this.z73(), false);
  }
  function GameLevelScene$lambda(this$0, $ctx, $appContext, $game) {
    return function ($this$null) {
      println('GameScene. gameState = ' + $this$null.n6j_1);
      var tmp0_subject = $this$null.n6j_1;
      var tmp0 = tmp0_subject.w1();
      var tmp;
      switch (tmp0) {
        case 0:
          this$0.a74($ctx);
          tmp = Unit_getInstance();
          break;
        case 1:
          this$0.b74($ctx);
          tmp = Unit_getInstance();
          break;
        case 2:
          var tmp_0 = this$0.c74();
          tmp_0.m6o('goldFinish', false, false, 6, null);
          this$0.d74($ctx);
          tmp = Unit_getInstance();
          break;
        case 7:
          this$0.d74($ctx);
          tmp = Unit_getInstance();
          break;
        case 11:
          if (this$0.e74().u58() === 0.0) {
            this$0.d74($ctx);
          }

          var tmp$ret$0;
          {
            var tmp0_with = $appContext.v6e_1;
            {
            }
            tmp0_with.m1e(tmp0_with.e3o_1 - 1 | 0);
            var tmp_1;
            if (tmp0_with.e3o_1 < 0) {
              tmp_1 = tmp0_with.m1e(tmp0_with.e3o_1 + this$0.q6h_1.b6n_1.m() | 0);
            }
            tmp$ret$0 = tmp_1;
          }

          tmp = tmp$ret$0;
          break;
        case 10:
          if (this$0.e74().u58() === 0.0) {
            this$0.d74($ctx);
          }

          println('nextlevel: ' + $appContext.v6e_1 + ' ' + this$0.q6h_1.b6n_1.m());
          var tmp$ret$1;
          {
            var tmp1_with = $appContext.v6e_1;
            {
            }
            tmp1_with.m1e(tmp1_with.e3o_1 + 1 | 0);
            var tmp_2;
            if (tmp1_with.e3o_1 >= this$0.q6h_1.b6n_1.m()) {
              throw new NotImplementedError('An operation is not implemented: FINISH');
            }
            tmp$ret$1 = tmp_2;
          }

          tmp = tmp$ret$1;
          break;
        case 6:
          $game.z6v(_get_currentLevel__t98d28(this$0));
          var tmp1_safe_receiver = $game.j6e_1;
          if (tmp1_safe_receiver == null)
            null;
          else {
            var tmp$ret$2;
            {
              {
              }
              tmp1_safe_receiver.d6q_1 = this$0.f74();
              tmp$ret$2 = this$0.g74($ctx, tmp1_safe_receiver);
            }
          }

          tmp = Unit_getInstance();
          break;
        default:
          tmp = Unit_getInstance();
          break;
      }
      return Unit_getInstance();
    };
  }
  function GameLevelScene$setupUi$lambda$lambda() {
    return function (it) {
      return it.j6t_1.toString();
    };
  }
  function GameLevelScene$setupUi$lambda(this$0) {
    return function (it) {
      var tmp$ret$2;
      {
        var tmp0_with = this$0.f6u();
        {
        }
        var tmp0_safe_receiver = this$0.h74();
        var tmp1_safe_receiver = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.i75();
        var tmp2_safe_receiver = tmp1_safe_receiver == null ? null : tmp1_safe_receiver.v4g();
        var tmp = tmp2_safe_receiver == null ? null : tmp2_safe_receiver.z1z();
        var tmp3_safe_receiver = this$0.h74();
        var tmp4_safe_receiver = tmp3_safe_receiver == null ? null : tmp3_safe_receiver.i75();
        var tmp5_safe_receiver = tmp4_safe_receiver == null ? null : tmp4_safe_receiver.v4g();
        var tmp_0 = tmp5_safe_receiver == null ? null : tmp5_safe_receiver.b20();
        var tmp6_safe_receiver = this$0.j75();
        var tmp7_safe_receiver = tmp6_safe_receiver == null ? null : tmp6_safe_receiver.p4s();
        var tmp8_safe_receiver = tmp7_safe_receiver == null ? null : tmp7_safe_receiver.k4r_1;
        var tmp_1 = tmp8_safe_receiver == null ? null : tmp8_safe_receiver.z1z();
        var tmp_2 = this$0.p4s().k4r_1.z1z();
        var tmp9_safe_receiver = this$0.j75();
        var tmp10_safe_receiver = tmp9_safe_receiver == null ? null : tmp9_safe_receiver.p4s();
        var tmp11_safe_receiver = tmp10_safe_receiver == null ? null : tmp10_safe_receiver.k4r_1;
        var tmp_3 = tmp11_safe_receiver == null ? null : tmp11_safe_receiver.b20();
        var tmp_4 = this$0.p4s().k4r_1.b20();
        var tmp12_safe_receiver = tmp0_with.j6e_1;
        var tmp13_safe_receiver = tmp12_safe_receiver == null ? null : tmp12_safe_receiver.y6p_1;
        var tmp14_safe_receiver = tmp13_safe_receiver == null ? null : tmp13_safe_receiver[tmp0_with.c6e_1.z1z()];
        var tmp15_elvis_lhs = tmp14_safe_receiver == null ? null : tmp14_safe_receiver[tmp0_with.c6e_1.b20()];
        var tmp_5 = tmp15_elvis_lhs == null ? '<no level>' : tmp15_elvis_lhs;
        var tmp16_safe_receiver = tmp0_with.j6e_1;
        var tmp17_elvis_lhs = tmp16_safe_receiver == null ? null : tmp16_safe_receiver.s6q(tmp0_with.c6e_1.z1z(), tmp0_with.c6e_1.b20());
        var tmp_6 = tmp17_elvis_lhs == null ? false : tmp17_elvis_lhs;
        var tmp18_safe_receiver = tmp0_with.j6e_1;
        var tmp19_elvis_lhs = tmp18_safe_receiver == null ? null : tmp18_safe_receiver.v6u(tmp0_with.c6e_1.z1z(), tmp0_with.c6e_1.b20() + 1 | 0);
        var tmp_7 = tmp19_elvis_lhs == null ? false : tmp19_elvis_lhs;
        var tmp20_safe_receiver = tmp0_with.j6e_1;
        var tmp_8;
        if (tmp20_safe_receiver == null) {
          tmp_8 = null;
        } else {
          var tmp$ret$1;
          {
            {
            }
            var tmp$ret$0;
            {
              tmp$ret$0 = tmp0_with.c6e_1.p6q();
            }
            tmp$ret$1 = tmp$ret$0;
          }
          tmp_8 = tmp$ret$1;
        }
        var tmp21_elvis_lhs = tmp_8;
        var tmp_9 = tmp21_elvis_lhs == null ? false : tmp21_elvis_lhs;
        var tmp_10 = joinToString$default_0(tmp0_with.d6e_1, ' ', null, null, 0, null, GameLevelScene$setupUi$lambda$lambda(), 30, null);
        var tmp22_safe_receiver = tmp0_with.j6e_1;
        var tmp23_elvis_lhs = tmp22_safe_receiver == null ? null : tmp22_safe_receiver.w6p_1;
        tmp$ret$2 = this$0.r6h_1.m1e(format('global runner center = %.1f x %.1f\ncamera = %.1f/%.1f x %.1f/%.1f\nact = %s\nbarrier = %b\nhas guard below = %b\ncan move down: %b\nguards: %s\nlevel.gold=%d\n\n%s', [tmp, tmp_0, tmp_1, tmp_2, tmp_3, tmp_4, tmp_5, tmp_6, tmp_7, tmp_9, tmp_10, tmp23_elvis_lhs == null ? 0 : tmp23_elvis_lhs, tmp0_with.c6e_1.toString()]));
      }
      return Unit_getInstance();
    };
  }
  function GameLevelScene$LabeledSwitch$lambda($toggleState) {
    return function (it) {
      toggle($toggleState);
      return Unit_getInstance();
    };
  }
  function GameLevelScene$LabeledSwitch$lambda_0($toggleState) {
    return function (it) {
      $toggleState.m1e(it);
      return Unit_getInstance();
    };
  }
  function $loadResourcesCOROUTINE$4(_this__u8e3s4, assets, ctx, resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
    this.s75_1 = _this__u8e3s4;
    this.t75_1 = assets;
    this.u75_1 = ctx;
  }
  $loadResourcesCOROUTINE$4.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 3;
            this.k7_1 = 1;
            suspendResult = GameScene.prototype.o71.call(this.s75_1, this.t75_1, this.u75_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            this.k7_1 = 2;
            suspendResult = this.s75_1.q6h_1.f6n(this.s75_1.y73().u6e_1.e3o_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 2:
            return Unit_getInstance();
          case 3:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 3) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  $loadResourcesCOROUTINE$4.$metadata$ = classMeta('$loadResourcesCOROUTINE$4', undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function GameLevelScene(game, ctx, assets, appContext, name) {
    GameScene.call(this, game, assets, appContext, ViewSpec_init_$Create$(null, null, 3, null), name);
    var tmp0_this = game;
    {
      var tmp0_plusAssign = tmp0_this.n6e_1;
      tmp0_plusAssign.b(GameLevelScene$lambda(this, ctx, appContext, game));
    }
    var tmp = this;
    tmp.p6h_1 = Job$default(null, 1, null);
    this.q6h_1 = new LevelsRep(assets, this);
    this.r6h_1 = new MutableStateValue('');
  }
  GameLevelScene.prototype.o17 = function () {
    return this.p6h_1;
  };
  GameLevelScene.prototype.v75 = function () {
    return this.r6h_1;
  };
  GameLevelScene.prototype.o71 = function (assets, ctx, $cont) {
    var tmp = new $loadResourcesCOROUTINE$4(this, assets, ctx, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  GameLevelScene.prototype.s6h = function (scope) {
    var tmp$ret$10;
    {
      {
      }
      var tmp$ret$9;
      {
        var tmp = scope.r3p();
        var tmp_0 = height(width(tmp, Grow_init_$Create$(1.0, null, WrapContent_getInstance(), 2, null)), WrapContent_getInstance());
        var tmp_1 = scope.d3r(25);
        alignY(alignX(layout(margin$default(tmp_0, tmp_1, null, scope.d3r(25), scope.d3r(60), 2, null), ColumnLayout_getInstance()), AlignmentX_End_getInstance()), AlignmentY_Bottom_getInstance());
        var tmp$ret$2;
        {
          var tmp0_Row = WrapContent_getInstance();
          var tmp1_Row = WrapContent_getInstance();
          var tmp$ret$1;
          {
            var tmp0_Box = RowLayout_getInstance();
            var box = scope.n3o().c3p(getKClass(BoxNode), Companion_getInstance_1().o3o_1);
            layout(height(width(box.r3p(), tmp0_Row), tmp1_Row), tmp0_Box);
            {
              var tmp$ret$0;
              {
                var tmp0_Text = box.f3r(this.r6h_1);
                var textNd = box.n3o().c3p(getKClass(TextNode), Companion_getInstance_2().y3x_1);
                text(textNd.r3p(), tmp0_Text);
                {
                  height(width(textNd.r3p(), WrapContent_getInstance()), WrapContent_getInstance());
                  var tmp0_this = this;
                  {
                    var tmp0_plusAssign = tmp0_this.o49();
                    tmp0_plusAssign.b(GameLevelScene$setupUi$lambda(this));
                  }
                }
                tmp$ret$0 = textNd;
              }
            }
            tmp$ret$1 = box;
          }
          tmp$ret$2 = tmp$ret$1;
        }
        var tmp$ret$4;
        {
          var tmp2_Row = WrapContent_getInstance();
          var tmp3_Row = WrapContent_getInstance();
          var tmp$ret$3;
          {
            var tmp0_Box_0 = RowLayout_getInstance();
            var box_0 = scope.n3o().c3p(getKClass(BoxNode), Companion_getInstance_1().o3o_1);
            layout(height(width(box_0.r3p(), tmp2_Row), tmp3_Row), tmp0_Box_0);
            {
              this.w75(box_0, 'stop animations', this.f6u().g6e_1);
            }
            tmp$ret$3 = box_0;
          }
          tmp$ret$4 = tmp$ret$3;
        }
        var tmp$ret$6;
        {
          var tmp4_Row = WrapContent_getInstance();
          var tmp5_Row = WrapContent_getInstance();
          var tmp$ret$5;
          {
            var tmp0_Box_1 = RowLayout_getInstance();
            var box_1 = scope.n3o().c3p(getKClass(BoxNode), Companion_getInstance_1().o3o_1);
            layout(height(width(box_1.r3p(), tmp4_Row), tmp5_Row), tmp0_Box_1);
            {
              this.w75(box_1, 'stop guards', this.y73().x6e_1);
            }
            tmp$ret$5 = box_1;
          }
          tmp$ret$6 = tmp$ret$5;
        }
        var tmp$ret$8;
        {
          var tmp6_Row = WrapContent_getInstance();
          var tmp7_Row = WrapContent_getInstance();
          var tmp$ret$7;
          {
            var tmp0_Box_2 = RowLayout_getInstance();
            var box_2 = scope.n3o().c3p(getKClass(BoxNode), Companion_getInstance_1().o3o_1);
            layout(height(width(box_2.r3p(), tmp6_Row), tmp7_Row), tmp0_Box_2);
            {
              this.w75(box_2, 'immortal', this.y73().y6e_1);
            }
            tmp$ret$7 = box_2;
          }
          tmp$ret$8 = tmp$ret$7;
        }
        tmp$ret$9 = tmp$ret$8;
      }
      tmp$ret$10 = tmp$ret$9;
    }
    return tmp$ret$10;
  };
  GameLevelScene.prototype.x75 = function (_this__u8e3s4, width_0) {
    var tmp = width(_this__u8e3s4.r3p(), width_0);
    align$default(tmp, null, AlignmentY_Center_getInstance(), 1, null);
  };
  GameLevelScene.prototype.w75 = function (_this__u8e3s4, label, toggleState_0) {
    var tmp$ret$0;
    {
      var textNd = _this__u8e3s4.n3o().c3p(getKClass(TextNode), Companion_getInstance_2().y3x_1);
      text(textNd.r3p(), label);
      {
        this.x75(textNd, Companion_getInstance_3().v3v_1);
        var tmp = textNd.r3p();
        onClick(tmp, GameLevelScene$LabeledSwitch$lambda(toggleState_0));
      }
      tmp$ret$0 = textNd;
    }
    var tmp$ret$3;
    {
      var tmp0_Switch = _this__u8e3s4.f3r(toggleState_0);
      var switch_0 = _this__u8e3s4.n3o().c3p(getKClass(SwitchNode), Companion_getInstance_4().n43_1);
      var tmp0_safe_receiver = tmp0_Switch;
      if (tmp0_safe_receiver == null)
        null;
      else {
        var tmp$ret$2;
        {
          {
          }
          var tmp$ret$1;
          {
            tmp$ret$1 = toggleState(switch_0.e44_1, tmp0_safe_receiver);
          }
          tmp$ret$2 = tmp$ret$1;
        }
      }
      {
        var tmp_0 = alignY(switch_0.r3p(), AlignmentY_Center_getInstance());
        onToggle(tmp_0, GameLevelScene$LabeledSwitch$lambda_0(toggleState_0));
      }
      tmp$ret$3 = switch_0;
    }
  };
  GameLevelScene.prototype.t4g = function (ctx) {
    this.p6h_1.v18(null, 1, null);
    GameScene.prototype.t4g.call(this, ctx);
  };
  GameLevelScene.$metadata$ = classMeta('GameLevelScene', [CoroutineScope_0], undefined, undefined, undefined, GameScene.prototype);
  function get_height(_this__u8e3s4) {
    return _this__u8e3s4.f4b_1 - _this__u8e3s4.e4b_1;
  }
  function get_width(_this__u8e3s4) {
    return _this__u8e3s4.d4b_1 - _this__u8e3s4.c4b_1;
  }
  function GameScene_init_$Init$(game, assets, appContext, conf, name, $mask0, $marker, $this) {
    if (!(($mask0 & 8) === 0)) {
      conf = ViewSpec_init_$Create$(null, null, 3, null);
    }
    GameScene.call($this, game, assets, appContext, conf, name);
    return $this;
  }
  function _get_bg__ndby06($this) {
    var tmp$ret$0;
    {
      var tmp0_getValue = bg$factory();
      tmp$ret$0 = $this.x73_1.l2();
    }
    return tmp$ret$0;
  }
  function GameScene$ticker$lambda(this$0) {
    return function (ev) {
      var tmp;
      if ((ev.g4w() - this$0.j73_1) * 1000 >= this$0.z72_1.w6e_1.e3o_1.f6a()) {
        this$0.x72_1.j6w(ev);
        this$0.j73_1 = ev.g4w();
        tmp = Unit_getInstance();
      }
      return Unit_getInstance();
    };
  }
  function GameScene$lambda$slambda(this$0, $it, resultContinuation) {
    this.j76_1 = this$0;
    this.k76_1 = $it;
    CoroutineImpl.call(this, resultContinuation);
  }
  GameScene$lambda$slambda.prototype.d1v = function ($this$launch, $cont) {
    var tmp = this.e1v($this$launch, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  GameScene$lambda$slambda.prototype.s7 = function (p1, $cont) {
    return this.d1v((!(p1 == null) ? isInterface(p1, CoroutineScope_0) : false) ? p1 : THROW_CCE(), $cont);
  };
  GameScene$lambda$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 2;
            this.k7_1 = 1;
            suspendResult = this.j76_1.z75(this.k76_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            var tmp0_safe_receiver = this.j76_1.x72_1.j6e_1;
            if (tmp0_safe_receiver == null)
              null;
            else {
              tmp0_safe_receiver.c6q_1 = true;
            }

            ;
            return Unit_getInstance();
          case 2:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 2) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  GameScene$lambda$slambda.prototype.e1v = function ($this$launch, completion) {
    var i = new GameScene$lambda$slambda(this.j76_1, this.k76_1, completion);
    i.l76_1 = $this$launch;
    return i;
  };
  GameScene$lambda$slambda.$metadata$ = classMeta('GameScene$lambda$slambda', undefined, undefined, undefined, [1], CoroutineImpl.prototype);
  function GameScene$lambda$slambda_0(this$0, $it, resultContinuation) {
    var i = new GameScene$lambda$slambda(this$0, $it, resultContinuation);
    var l = function ($this$launch, $cont) {
      return i.d1v($this$launch, $cont);
    };
    l.$arity = 1;
    return l;
  }
  function GameScene$lambda(this$0) {
    return function (it) {
      launch$default(this$0.m73_1, null, null, GameScene$lambda$slambda_0(this$0, it, null), 3, null);
      return Unit_getInstance();
    };
  }
  function GameScene$addLevelView$lambda() {
    return function ($this$addColorTexture) {
      $this$addColorTexture.a4p_1 = TexFormat_RGBA_getInstance();
      $this$addColorTexture.b4p_1 = FilterMethod_NEAREST_getInstance();
      $this$addColorTexture.c4p_1 = FilterMethod_NEAREST_getInstance();
      return Unit_getInstance();
    };
  }
  function GameScene$addLevelView$lambda$lambda$lambda(this$0) {
    return function ($this$generate) {
      var props = new RectProps();
      {
        props.q4n_1.x2f(this$0.c73_1, this$0.d73_1);
        props.p4n_1.t2d(-props.y3u() / 2.0, 0.0, 0.0);
        props.v4n();
      }
      $this$generate.w4n(props);
      return Unit_getInstance();
    };
  }
  function GameScene$addLevelView$lambda$lambda$lambda$lambda(this$0) {
    return function ($this$color) {
      var tmp = ensureNotNull(this$0.i73_1).o4t();
      $this$color.z2z(tmp, null, null, 0.0, null, 30, null);
      return Unit_getInstance();
    };
  }
  function GameScene$addLevelView$lambda$lambda$lambda_0(this$0) {
    return function ($this$$receiver) {
      $this$$receiver.u2x(GameScene$addLevelView$lambda$lambda$lambda$lambda(this$0));
      return Unit_getInstance();
    };
  }
  function GameScene$addLevelView$lambda$lambda$lambda_1($this_textureMesh, this$0) {
    return function (it) {
      var tmp = $this_textureMesh.f2o_1;
      (tmp instanceof MaskShader ? tmp : THROW_CCE()).z76(this$0.h73_1.x58(it.o4b_1));
      var tmp_0;
      if (this$0.h73_1.w58() >= 1.0) {
        this$0.x72_1.h6e_1 = true;
        tmp_0 = Unit_getInstance();
      } else if (get_anyKeyPressed(this$0.x72_1.c6e_1)) {
        this$0.b74(it.o4b_1);
        this$0.x72_1.i6e_1 = true;
        tmp_0 = Unit_getInstance();
      }
      return Unit_getInstance();
    };
  }
  function GameScene$addLevelView$lambda$lambda(this$0) {
    return function ($this$textureMesh) {
      $this$textureMesh.l4g(GameScene$addLevelView$lambda$lambda$lambda(this$0));
      $this$textureMesh.m4g(MaskShader_init_$Create$(GameScene$addLevelView$lambda$lambda$lambda_0(this$0)));
      var tmp0_this = $this$textureMesh;
      var tmp0_plusAssign = tmp0_this.o49();
      tmp0_plusAssign.b(GameScene$addLevelView$lambda$lambda$lambda_1($this$textureMesh, this$0));
      return Unit_getInstance();
    };
  }
  function GameScene$addLevelView$lambda_0(this$0) {
    return function ($this$group) {
      $this$group.v4j(textureMesh$default(null, false, GameScene$addLevelView$lambda$lambda(this$0), 3, null));
      return Unit_getInstance();
    };
  }
  function GameScene$removeLevelView$lambda($tmp2_safe_receiver, $ctx) {
    return function (it) {
      $tmp2_safe_receiver.t4g($ctx);
      return Unit_getInstance();
    };
  }
  function GameScene$removeLevelView$lambda_0($tmp3_safe_receiver, $ctx) {
    return function (it) {
      $tmp3_safe_receiver.t4g($ctx);
      return Unit_getInstance();
    };
  }
  function GameScene$removeLevelView$lambda_1($tmp4_safe_receiver, $ctx) {
    return function (it) {
      $tmp4_safe_receiver.t4g($ctx);
      return Unit_getInstance();
    };
  }
  function GameScene$bg$delegate$lambda$slambda(resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
  }
  GameScene$bg$delegate$lambda$slambda.prototype.d5m = function ($this$$receiver, it, $cont) {
    var tmp = this.e5m($this$$receiver, it, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  GameScene$bg$delegate$lambda$slambda.prototype.kc = function (p1, p2, $cont) {
    var tmp = (!(p1 == null) ? isInterface(p1, CoroutineScope_0) : false) ? p1 : THROW_CCE();
    return this.d5m(tmp, p2 instanceof AssetManager ? p2 : THROW_CCE(), $cont);
  };
  GameScene$bg$delegate$lambda$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 2;
            this.k7_1 = 1;
            suspendResult = this.j77_1.h1x(get_backgroundImageFile(), get_simpleTextureProps().p4x_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            return suspendResult;
          case 2:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 2) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  GameScene$bg$delegate$lambda$slambda.prototype.e5m = function ($this$$receiver, it, completion) {
    var i = new GameScene$bg$delegate$lambda$slambda(completion);
    i.i77_1 = $this$$receiver;
    i.j77_1 = it;
    return i;
  };
  GameScene$bg$delegate$lambda$slambda.$metadata$ = classMeta('GameScene$bg$delegate$lambda$slambda', undefined, undefined, undefined, [2], CoroutineImpl.prototype);
  function GameScene$bg$delegate$lambda$slambda_0(resultContinuation) {
    var i = new GameScene$bg$delegate$lambda$slambda(resultContinuation);
    var l = function ($this$$receiver, it, $cont) {
      return i.d5m($this$$receiver, it, $cont);
    };
    l.$arity = 2;
    return l;
  }
  function GameScene$bg$delegate$lambda$lambda(this$0) {
    return function ($this$null, w, h) {
      var tmp$ret$0;
      {
        tmp$ret$0 = Math.min(w, h);
      }
      var imageMinSide = tmp$ret$0;
      var tmp$ret$1;
      {
        var tmp = this$0.p4s();
        var tmp0_max = get_width(tmp instanceof OrthographicCamera ? tmp : THROW_CCE());
        var tmp_0 = this$0.p4s();
        var tmp1_max = get_height(tmp_0 instanceof OrthographicCamera ? tmp_0 : THROW_CCE());
        tmp$ret$1 = Math.max(tmp0_max, tmp1_max);
      }
      var camSide = tmp$ret$1;
      $this$null.w2f(camSide / imageMinSide);
      return Unit_getInstance();
    };
  }
  function GameScene$bg$delegate$lambda(this$0) {
    return function () {
      var tmp$ret$0;
      {
        var tmp = get_simpleTextureProps();
        var tmp_0 = Texture2d_init_$Create$(tmp, null, GameScene$bg$delegate$lambda$slambda_0(null), 2, null);
        var tmp0_apply = sprite$default(tmp_0, null, null, null, false, 30, null);
        {
        }
        {
          tmp0_apply.l78_1 = true;
          var tmp0_this = tmp0_apply;
          {
            var tmp0_plusAssign = tmp0_this.p78_1;
            tmp0_plusAssign.b(GameScene$bg$delegate$lambda$lambda(this$0));
          }
        }
        tmp$ret$0 = tmp0_apply;
      }
      return tmp$ret$0;
    };
  }
  function $reloadCOROUTINE$6(_this__u8e3s4, newts, resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
    this.y78_1 = _this__u8e3s4;
    this.z78_1 = newts;
  }
  $reloadCOROUTINE$6.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 6;
            var tmp_0 = this;
            tmp_0.a79_1 = ImageAtlasSpec_init_$Create$(this.z78_1, 0, 0, null, 14, null);
            this.k7_1 = 1;
            suspendResult = this.y78_1.n73_1.i6m(this.a79_1, this.y78_1.y72_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            this.k7_1 = 2;
            suspendResult = this.y78_1.o73_1.i6m(this.a79_1, this.y78_1.y72_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 2:
            this.k7_1 = 3;
            suspendResult = this.y78_1.p73_1.i6m(this.a79_1, this.y78_1.y72_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 3:
            this.k7_1 = 4;
            suspendResult = this.y78_1.q73_1.i6m(this.a79_1, this.y78_1.y72_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 4:
            this.k7_1 = 5;
            suspendResult = this.y78_1.r73_1.i6m(this.a79_1, this.y78_1.y72_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 5:
            this.y78_1.t73_1 = new AnimationFrames('runner');
            this.y78_1.u73_1 = new AnimationFrames('guard');
            this.y78_1.v73_1 = new AnimationFrames('hole');
            var tmp_1 = this.y78_1.z72_1.t6e_1.e3o_1;
            this.y78_1.s73_1.m1e(ImageAtlasSpec_init_$Create$(tmp_1, 0, 0, null, 14, null));
            var tmp0_safe_receiver = this.y78_1.x72_1.j6e_1;
            if (tmp0_safe_receiver == null)
              null;
            else {
              tmp0_safe_receiver.c6q_1 = true;
            }

            ;
            return Unit_getInstance();
          case 6:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 6) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  $reloadCOROUTINE$6.$metadata$ = classMeta('$reloadCOROUTINE$6', undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function $loadResourcesCOROUTINE$7(_this__u8e3s4, assets, ctx, resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
    this.j79_1 = _this__u8e3s4;
    this.k79_1 = assets;
    this.l79_1 = ctx;
  }
  $loadResourcesCOROUTINE$7.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 10;
            var tmp_0 = this;
            var tmp_1 = this.j79_1.z72_1.t6e_1.e3o_1;
            tmp_0.m79_1 = ImageAtlasSpec_init_$Create$(tmp_1, 0, 0, null, 14, null);
            this.k7_1 = 1;
            suspendResult = this.j79_1.n73_1.i6m(this.m79_1, this.k79_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            this.k7_1 = 2;
            suspendResult = this.j79_1.o73_1.i6m(this.m79_1, this.k79_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 2:
            this.k7_1 = 3;
            suspendResult = this.j79_1.p73_1.i6m(this.m79_1, this.k79_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 3:
            this.k7_1 = 4;
            suspendResult = this.j79_1.q73_1.i6m(this.m79_1, this.k79_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 4:
            this.k7_1 = 5;
            suspendResult = this.j79_1.r73_1.i6m(this.m79_1, this.k79_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 5:
            this.k7_1 = 6;
            suspendResult = this.j79_1.t73_1.b6a(this.l79_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 6:
            this.k7_1 = 7;
            suspendResult = this.j79_1.u73_1.b6a(this.l79_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 7:
            this.k7_1 = 8;
            suspendResult = this.j79_1.v73_1.b6a(this.l79_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 8:
            this.k7_1 = 9;
            suspendResult = this.j79_1.w73_1.k6o(this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 9:
            return Unit_getInstance();
          case 10:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 10) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  $loadResourcesCOROUTINE$7.$metadata$ = classMeta('$loadResourcesCOROUTINE$7', undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function GameScene(game, assets, appContext, conf, name) {
    AsyncScene.call(this, name);
    this.x72_1 = game;
    this.y72_1 = assets;
    this.z72_1 = appContext;
    this.a73_1 = conf;
    this.b73_1 = null;
    this.c73_1 = this.a73_1.k6a();
    this.d73_1 = this.a73_1.l6a();
    var tmp = this;
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_sqrt = imul(this.c73_1, this.c73_1) + imul(this.d73_1, this.d73_1) | 0;
        tmp$ret$0 = Math.sqrt(tmp0_sqrt);
      }
      var tmp1_ceil = tmp$ret$0 / 2;
      tmp$ret$1 = Math.ceil(tmp1_ceil);
    }
    tmp.e73_1 = numberToInt(tmp$ret$1);
    this.f73_1 = null;
    this.g73_1 = null;
    var tmp_0 = this;
    var tmp$ret$2;
    {
      var tmp0_apply = new LinearAnimator(new InterpolatedFloat(0.0, 1.0));
      {
      }
      {
        tmp0_apply.s58(1.0);
      }
      tmp$ret$2 = tmp0_apply;
    }
    tmp_0.h73_1 = tmp$ret$2;
    this.i73_1 = null;
    this.j73_1 = 0.0;
    var tmp_1 = this;
    tmp_1.k73_1 = GameScene$ticker$lambda(this);
    var tmp_2 = this;
    tmp_2.l73_1 = Job$default(null, 1, null);
    this.m73_1 = CoroutineScope(this.l73_1);
    this.z72_1.t6e_1.k3o(GameScene$lambda(this));
    var tmp$ret$3;
    {
      var tmp0_apply_0 = Companion_getInstance_7().e6j(this.a73_1.k6a(), this.a73_1.l6a());
      {
      }
      {
        tmp0_apply_0.i4s(ProjCorrectionMode_ONSCREEN_getInstance());
      }
      tmp$ret$3 = tmp0_apply_0;
    }
    this.o4s(tmp$ret$3);
    this.c58().n49(null);
    this.n73_1 = new ImageAtlas('tiles');
    this.o73_1 = new ImageAtlas('runner');
    this.p73_1 = new ImageAtlas('guard');
    this.q73_1 = new ImageAtlas('hole');
    this.r73_1 = new ImageAtlas('text');
    var tmp_3 = this;
    var tmp_4 = this.z72_1.t6e_1.e3o_1;
    tmp_3.s73_1 = mutableStateOf(ImageAtlasSpec_init_$Create$(tmp_4, 0, 0, null, 14, null));
    this.t73_1 = new AnimationFrames('runner');
    this.u73_1 = new AnimationFrames('guard');
    this.v73_1 = new AnimationFrames('hole');
    this.w73_1 = new SoundPlayer(this.y72_1);
    var tmp_5 = this;
    tmp_5.x73_1 = lazy(GameScene$bg$delegate$lambda(this));
  }
  GameScene.prototype.f6u = function () {
    return this.x72_1;
  };
  GameScene.prototype.n79 = function () {
    return this.y72_1;
  };
  GameScene.prototype.y73 = function () {
    return this.z72_1;
  };
  GameScene.prototype.h74 = function () {
    return this.b73_1;
  };
  GameScene.prototype.k6a = function () {
    return this.c73_1;
  };
  GameScene.prototype.l6a = function () {
    return this.d73_1;
  };
  GameScene.prototype.y75 = function () {
    return this.e73_1;
  };
  GameScene.prototype.e74 = function () {
    return this.h73_1;
  };
  GameScene.prototype.j75 = function () {
    return this.i73_1;
  };
  GameScene.prototype.d6n = function () {
    return this.m73_1;
  };
  GameScene.prototype.z73 = function () {
    return this.n73_1;
  };
  GameScene.prototype.o79 = function () {
    return this.r73_1;
  };
  GameScene.prototype.p79 = function () {
    return this.s73_1;
  };
  GameScene.prototype.f74 = function () {
    return this.v73_1;
  };
  GameScene.prototype.c74 = function () {
    return this.w73_1;
  };
  GameScene.prototype.z75 = function (newts, $cont) {
    var tmp = new $reloadCOROUTINE$6(this, newts, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  GameScene.prototype.o71 = function (assets, ctx, $cont) {
    var tmp = new $loadResourcesCOROUTINE$7(this, assets, ctx, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  GameScene.prototype.c71 = function (ctx) {
    this.x72_1.k6e_1 = this.w73_1;
    this.v4j(_get_bg__ndby06(this));
    this.v4j(new RunnerController(ctx.k2a(), this.x72_1.c6e_1));
    this.x72_1.u4j();
  };
  GameScene.prototype.g74 = function (ctx, level) {
    this.a76(ctx);
    this.b73_1 = new LevelView(this.x72_1, level, this.a73_1, this.n73_1, this.q73_1, this.o73_1, this.t73_1, this.p73_1, this.u73_1);
    var tmp0_safe_receiver = this.b73_1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$1;
      {
        {
        }
        var tmp = this;
        var tmp$ret$0;
        {
          var builder = new ConfigBuilder();
          {
            builder.l4o_1 = 'bg';
            builder.x4o(this.c73_1, this.d73_1);
            builder.z4o(false);
            builder.i4p(GameScene$addLevelView$lambda());
          }
          tmp$ret$0 = new Config(builder);
        }
        tmp.i73_1 = new OffscreenRenderPass2d(tmp0_safe_receiver, tmp$ret$0);
        tmp$ret$1 = Unit_getInstance();
      }
    }
    var tmp1_safe_receiver = this.i73_1;
    if (tmp1_safe_receiver == null)
      null;
    else {
      var tmp$ret$3;
      {
        {
        }
        var tmp$ret$2;
        {
          var tmp0_apply = Companion_getInstance_7().e6j(this.c73_1, this.d73_1);
          {
          }
          {
            tmp0_apply.i4s(ProjCorrectionMode_OFFSCREEN_getInstance());
          }
          tmp$ret$2 = tmp0_apply;
        }
        tmp1_safe_receiver.o4s(tmp$ret$2);
        tmp1_safe_receiver.n49(new Color(0.0, 0.0, 0.0, 0.0));
        this.d2c(tmp1_safe_receiver);
        var tmp_0 = this;
        var tmp_1 = tmp1_safe_receiver.p4s();
        var tmp_2 = tmp_1 instanceof OrthographicCamera ? tmp_1 : THROW_CCE();
        tmp_0.f73_1 = CameraController_init_$Create$(tmp_2, null, ctx, 2, null);
        tmp$ret$3 = Unit_getInstance();
      }
    }
    var tmp2_safe_receiver = this.f73_1;
    if (tmp2_safe_receiver == null)
      null;
    else {
      var tmp$ret$6;
      {
        {
        }
        var tmp$ret$5;
        {
          this.y4k(tmp2_safe_receiver);
          var tmp0_safe_receiver_0 = this.b73_1;
          var tmp_3;
          if (tmp0_safe_receiver_0 == null) {
            tmp_3 = null;
          } else {
            var tmp$ret$4;
            {
              {
              }
              tmp$ret$4 = tmp2_safe_receiver.l7a(this.x72_1, tmp0_safe_receiver_0, tmp0_safe_receiver_0.i75());
            }
            tmp_3 = Unit_getInstance();
          }
          tmp$ret$5 = tmp_3;
        }
        tmp$ret$6 = tmp$ret$5;
      }
    }
    var tmp_4 = this;
    tmp_4.g73_1 = group$default(null, GameScene$addLevelView$lambda_0(this), 1, null);
    this.v4j(ensureNotNull(this.g73_1));
    var tmp3_this = this;
    {
      var tmp0_plusAssign = tmp3_this.o49();
      var tmp1_plusAssign = this.k73_1;
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
  };
  GameScene.prototype.a76 = function (ctx) {
    var tmp0_safe_receiver = this.f73_1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        tmp0_safe_receiver.m7a(this.x72_1);
        tmp$ret$0 = this.y56(tmp0_safe_receiver);
      }
    }
    var tmp1_this = this;
    {
      var tmp0_minusAssign = tmp1_this.o49();
      var tmp1_minusAssign = this.k73_1;
      tmp0_minusAssign.c4(tmp1_minusAssign);
    }
    var tmp2_safe_receiver = this.i73_1;
    if (tmp2_safe_receiver == null)
      null;
    else {
      var tmp$ret$1;
      {
        {
        }
        this.d54(tmp2_safe_receiver);
        tmp$ret$1 = ctx.b2c(1, GameScene$removeLevelView$lambda(tmp2_safe_receiver, ctx));
      }
    }
    this.i73_1 = null;
    var tmp3_safe_receiver = this.g73_1;
    if (tmp3_safe_receiver == null)
      null;
    else {
      var tmp$ret$2;
      {
        {
        }
        this.r4j(tmp3_safe_receiver);
        tmp$ret$2 = ctx.b2c(1, GameScene$removeLevelView$lambda_0(tmp3_safe_receiver, ctx));
      }
    }
    this.g73_1 = null;
    var tmp4_safe_receiver = this.b73_1;
    if (tmp4_safe_receiver == null)
      null;
    else {
      var tmp$ret$3;
      {
        {
        }
        tmp$ret$3 = ctx.b2c(1, GameScene$removeLevelView$lambda_1(tmp4_safe_receiver, ctx));
      }
    }
    this.b73_1 = null;
  };
  GameScene.prototype.d74 = function (ctx) {
    var tmp$ret$0;
    {
      var tmp0_apply = this.h73_1;
      {
      }
      {
        tmp0_apply.t58(1.0);
        tmp0_apply.v58(0.0);
        tmp0_apply.l2().a59_1 = this.e73_1;
        tmp0_apply.l2().b59_1 = 0.0;
      }
      tmp$ret$0 = tmp0_apply;
    }
    return tmp$ret$0;
  };
  GameScene.prototype.a74 = function (ctx) {
    var tmp$ret$0;
    {
      var tmp0_apply = this.h73_1;
      {
      }
      {
        tmp0_apply.t58(1.0);
        tmp0_apply.v58(0.0);
        tmp0_apply.l2().a59_1 = 0.0;
        tmp0_apply.l2().b59_1 = this.e73_1;
      }
      tmp$ret$0 = tmp0_apply;
    }
    return tmp$ret$0;
  };
  GameScene.prototype.b74 = function (ctx) {
    var tmp$ret$0;
    {
      var tmp0_apply = this.h73_1;
      {
      }
      {
        tmp0_apply.t58(100.0);
      }
      tmp$ret$0 = tmp0_apply;
    }
    return tmp$ret$0;
  };
  GameScene.prototype.t4g = function (ctx) {
    this.l73_1.v18(null, 1, null);
    AsyncScene.prototype.t4g.call(this, ctx);
  };
  GameScene.$metadata$ = classMeta('GameScene', undefined, undefined, undefined, undefined, AsyncScene.prototype);
  function bg$factory() {
    return getPropertyCallableRef('bg', 1, KProperty1, function (receiver) {
      return _get_bg__ndby06(receiver);
    }, null);
  }
  function GameUI_init_$Init$(game, assets, gameSettings, conf, $mask0, $marker, $this) {
    if (!(($mask0 & 8) === 0)) {
      conf = ViewSpec_init_$Create$(null, null, 3, null);
    }
    GameUI.call($this, game, assets, gameSettings, conf);
    return $this;
  }
  function GameUI_init_$Create$(game, assets, gameSettings, conf, $mask0, $marker) {
    return GameUI_init_$Init$(game, assets, gameSettings, conf, $mask0, $marker, Object.create(GameUI.prototype));
  }
  function GameUI(game, assets, gameSettings, conf) {
    AsyncScene_init_$Init$(null, 1, null, this);
    this.v7b_1 = game;
    this.w7b_1 = assets;
    this.x7b_1 = gameSettings;
    this.y7b_1 = conf;
    this.z7b_1 = this.x7b_1.t6e_1;
    this.a7c_1 = new ImageAtlas('text');
    var tmp = this;
    var tmp_0 = this.x7b_1.t6e_1.e3o_1;
    tmp.b7c_1 = mutableStateOf(ImageAtlasSpec_init_$Create$(tmp_0, 0, 0, null, 14, null));
    this.o4s(Companion_getInstance_7().e6j(this.y7b_1.k6a(), this.y7b_1.l6a()));
    this.c58().n49(null);
  }
  GameUI.prototype.o71 = function (assets, ctx, $cont) {
    var tmp = this.a7c_1;
    var tmp_0 = this.z7b_1.e3o_1;
    return tmp.i6m(ImageAtlasSpec_init_$Create$(tmp_0, 0, 0, null, 14, null), assets, $cont);
  };
  GameUI.prototype.c71 = function (ctx) {
    this.v4j(new StatusView(this.v7b_1, new StringDrawer(this.a7c_1, this.b7c_1, Companion_getInstance_20().d7c_1, ensureNotNull(Companion_getInstance_20().d7c_1.z2(new Char(_Char___init__impl__6a9atx(32)))))));
  };
  GameUI.$metadata$ = classMeta('GameUI', undefined, undefined, undefined, undefined, AsyncScene.prototype);
  function MainMenuContext(levelSet, level) {
    this.a6f_1 = levelSet;
    this.b6f_1 = level;
  }
  MainMenuContext.prototype.toString = function () {
    return 'MainMenuContext(levelSet=' + this.a6f_1 + ', level=' + this.b6f_1 + ')';
  };
  MainMenuContext.prototype.hashCode = function () {
    var result = hashCode(this.a6f_1);
    result = imul(result, 31) + hashCode(this.b6f_1) | 0;
    return result;
  };
  MainMenuContext.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof MainMenuContext))
      return false;
    var tmp0_other_with_cast = other instanceof MainMenuContext ? other : THROW_CCE();
    if (!equals(this.a6f_1, tmp0_other_with_cast.a6f_1))
      return false;
    if (!equals(this.b6f_1, tmp0_other_with_cast.b6f_1))
      return false;
    return true;
  };
  MainMenuContext.$metadata$ = classMeta('MainMenuContext');
  function LabeledMenuCommand_init_$Init$(pos, label, labelDelta, onEnter, $mask0, $marker, $this) {
    if (!(($mask0 & 4) === 0))
      labelDelta = new Vec2i(2, 0);
    if (!(($mask0 & 8) === 0)) {
      onEnter = MainMenuScene$LabeledMenuCommand$_init_$lambda_od8y1q();
    }
    LabeledMenuCommand.call($this, pos, label, labelDelta, onEnter);
    return $this;
  }
  function LabeledMenuCommand_init_$Create$(pos, label, labelDelta, onEnter, $mask0, $marker) {
    return LabeledMenuCommand_init_$Init$(pos, label, labelDelta, onEnter, $mask0, $marker, Object.create(LabeledMenuCommand.prototype));
  }
  function MainMenuScene$LabeledMenuCommand$_init_$lambda_od8y1q() {
    return function ($this$null) {
      return Unit_getInstance();
    };
  }
  function digit(_this__u8e3s4, $this, n) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = Math.pow(10.0, n);
      }
      var tmp0_mod = numberToInt(tmp$ret$0);
      var r = _this__u8e3s4 % tmp0_mod | 0;
      tmp$ret$1 = r + (tmp0_mod & ((r ^ tmp0_mod) & (r | (-r | 0))) >> 31) | 0;
    }
    var tmp = tmp$ret$1;
    var tmp$ret$2;
    {
      var tmp1_pow = n - 1 | 0;
      tmp$ret$2 = Math.pow(10.0, tmp1_pow);
    }
    return numberToInt(tmp / tmp$ret$2);
  }
  function replaceDigit(_this__u8e3s4, $this, digitPos, value) {
    var tmp$ret$0;
    {
      var tmp0_pow = digitPos - 1 | 0;
      tmp$ret$0 = Math.pow(10.0, tmp0_pow);
    }
    var m = numberToInt(tmp$ret$0);
    return (_this__u8e3s4 - imul(digit(_this__u8e3s4, $this, digitPos), m) | 0) + imul(value, m) | 0;
  }
  function _get_map__e6co1h($this) {
    var tmp$ret$0;
    {
      var tmp0_getValue = map$factory();
      tmp$ret$0 = $this.x6d_1.l2();
    }
    return tmp$ret$0;
  }
  function _get_reloadLevels__5yzso3($this) {
    var tmp = $this.d6n();
    return launch$default(tmp, null, null, MainMenuScene$_get_reloadLevels_$slambda_m0t77b_0($this, null), 3, null);
  }
  function StaticLabel(text, x, y) {
    this.e7c_1 = text;
    this.f7c_1 = x;
    this.g7c_1 = y;
  }
  StaticLabel.prototype.k40 = function () {
    return this.e7c_1;
  };
  StaticLabel.prototype.z1z = function () {
    return this.f7c_1;
  };
  StaticLabel.prototype.b20 = function () {
    return this.g7c_1;
  };
  StaticLabel.prototype.toString = function () {
    return 'StaticLabel(text=' + this.e7c_1 + ', x=' + this.f7c_1 + ', y=' + this.g7c_1 + ')';
  };
  StaticLabel.prototype.hashCode = function () {
    var result = getStringHashCode(this.e7c_1);
    result = imul(result, 31) + getNumberHashCode(this.f7c_1) | 0;
    result = imul(result, 31) + getNumberHashCode(this.g7c_1) | 0;
    return result;
  };
  StaticLabel.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof StaticLabel))
      return false;
    var tmp0_other_with_cast = other instanceof StaticLabel ? other : THROW_CCE();
    if (!(this.e7c_1 === tmp0_other_with_cast.e7c_1))
      return false;
    if (!equals(this.f7c_1, tmp0_other_with_cast.f7c_1))
      return false;
    if (!equals(this.g7c_1, tmp0_other_with_cast.g7c_1))
      return false;
    return true;
  };
  StaticLabel.$metadata$ = classMeta('StaticLabel');
  function MenuCommand(pos, onEnter) {
    this.h7c_1 = pos;
    this.i7c_1 = onEnter;
  }
  MenuCommand.prototype.j7c = function () {
    return this.h7c_1;
  };
  MenuCommand.$metadata$ = classMeta('MenuCommand');
  function LabeledMenuCommand(pos, label, labelDelta, onEnter) {
    MenuCommand.call(this, pos, onEnter);
    this.m7c_1 = label;
    this.n7c_1 = labelDelta;
  }
  LabeledMenuCommand.prototype.o7c = function () {
    return this.m7c_1;
  };
  LabeledMenuCommand.prototype.p7c = function () {
    return this.n7c_1;
  };
  LabeledMenuCommand.$metadata$ = classMeta('LabeledMenuCommand', undefined, undefined, undefined, undefined, MenuCommand.prototype);
  function afterTeleport(_this__u8e3s4, $this) {
    _this__u8e3s4.c6e_1.l6u().n2f(0);
    _this__u8e3s4.c6e_1.l6u().o2f(0);
    _this__u8e3s4.c6e_1.r5i();
  }
  function teleportRunnerLeft(_this__u8e3s4, $this) {
    var tmp0_this = _this__u8e3s4.c6e_1.k6u();
    var tmp1 = tmp0_this.z1z();
    tmp0_this.n2f(tmp1 - 1 | 0);
    afterTeleport(_this__u8e3s4, $this);
  }
  function teleportRunnerRight(_this__u8e3s4, $this) {
    var tmp0_this = _this__u8e3s4.c6e_1.k6u();
    var tmp1 = tmp0_this.z1z();
    tmp0_this.n2f(tmp1 + 1 | 0);
    afterTeleport(_this__u8e3s4, $this);
  }
  function teleportRunnerDown(_this__u8e3s4, $this) {
    var tmp0_this = _this__u8e3s4.c6e_1.k6u();
    var tmp1 = tmp0_this.b20();
    tmp0_this.o2f(tmp1 + 1 | 0);
    afterTeleport(_this__u8e3s4, $this);
  }
  function teleportRunnerUp(_this__u8e3s4, $this) {
    var tmp0_this = _this__u8e3s4.c6e_1.k6u();
    var tmp1 = tmp0_this.b20();
    tmp0_this.o2f(tmp1 - 1 | 0);
    afterTeleport(_this__u8e3s4, $this);
  }
  function MainMenuScene$map$delegate$lambda() {
    return function () {
      var mx = 16;
      var end = '  # $ # ';
      var sep = '  ##H## ';
      var choice = '  $-H-$ ';
      var start = 'H @ H& $';
      var tmp$ret$2;
      {
        var tmp0_map = listOf([end, choice, '  # H#', '  @ H-  HHH@', '  # H#@@', choice, sep, choice, '0 # H # ', start]);
        var tmp$ret$1;
        {
          var tmp0_mapTo = ArrayList_init_$Create$(collectionSizeOrDefault(tmp0_map, 10));
          var tmp0_iterator = tmp0_map.h();
          while (tmp0_iterator.n()) {
            var item = tmp0_iterator.o();
            var tmp$ret$0;
            {
              tmp$ret$0 = padEnd(item, mx, _Char___init__impl__6a9atx(32));
            }
            tmp0_mapTo.b(tmp$ret$0);
          }
          tmp$ret$1 = tmp0_mapTo;
        }
        tmp$ret$2 = tmp$ret$1;
      }
      return tmp$ret$2;
    };
  }
  function MainMenuScene$_get_reloadLevels_$slambda_m0t77b(this$0, resultContinuation) {
    this.y7c_1 = this$0;
    CoroutineImpl.call(this, resultContinuation);
  }
  MainMenuScene$_get_reloadLevels_$slambda_m0t77b.prototype.d1v = function ($this$launch, $cont) {
    var tmp = this.e1v($this$launch, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  MainMenuScene$_get_reloadLevels_$slambda_m0t77b.prototype.s7 = function (p1, $cont) {
    return this.d1v((!(p1 == null) ? isInterface(p1, CoroutineScope_0) : false) ? p1 : THROW_CCE(), $cont);
  };
  MainMenuScene$_get_reloadLevels_$slambda_m0t77b.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 2;
            this.a7d_1 = new LevelsRep(this.y7c_1.n79(), this.y7c_1.d6n());
            this.k7_1 = 1;
            suspendResult = this.a7d_1.f6n(this.y7c_1.m6d_1.a6f_1.e3o_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            this.y7c_1.r6d_1 = this.a7d_1.b6n_1.m() - 1 | 0;
            return Unit_getInstance();
          case 2:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 2) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  MainMenuScene$_get_reloadLevels_$slambda_m0t77b.prototype.e1v = function ($this$launch, completion) {
    var i = new MainMenuScene$_get_reloadLevels_$slambda_m0t77b(this.y7c_1, completion);
    i.z7c_1 = $this$launch;
    return i;
  };
  MainMenuScene$_get_reloadLevels_$slambda_m0t77b.$metadata$ = classMeta('MainMenuScene$<get-reloadLevels>$slambda', undefined, undefined, undefined, [1], CoroutineImpl.prototype);
  function MainMenuScene$_get_reloadLevels_$slambda_m0t77b_0(this$0, resultContinuation) {
    var i = new MainMenuScene$_get_reloadLevels_$slambda_m0t77b(this$0, resultContinuation);
    var l = function ($this$launch, $cont) {
      return i.d1v($this$launch, $cont);
    };
    l.$arity = 1;
    return l;
  }
  function MainMenuScene$lambda(this$0) {
    return function (it) {
      this$0.o6d_1.m1e(it.g6a());
      return Unit_getInstance();
    };
  }
  function MainMenuScene$lambda_0(this$0) {
    return function (it) {
      this$0.p6d_1.m1e(it.g6a());
      return Unit_getInstance();
    };
  }
  function MainMenuScene$lambda_1(this$0) {
    return function (it) {
      this$0.q6d_1.m1e(it.g6a());
      _get_reloadLevels__5yzso3(this$0);
      return Unit_getInstance();
    };
  }
  function MainMenuScene$lambda_2(this$0) {
    return function (it) {
      var tmp$ret$0;
      {
        var tmp0_with = it + 1 | 0;
        {
        }
        this$0.s6d_1.m1e(digit(tmp0_with, this$0, 1).toString());
        this$0.t6d_1.m1e(digit(tmp0_with, this$0, 2).toString());
        tmp$ret$0 = this$0.u6d_1.m1e(digit(tmp0_with, this$0, 3).toString());
      }
      return Unit_getInstance();
    };
  }
  function MainMenuScene$lambda_3($game) {
    return function ($this$$receiver) {
      var tmp$ret$1;
      {
        var tmp0_with = $this$$receiver.m6d_1.a6f_1;
        {
        }
        $this$$receiver.r6d_1 = IntCompanionObject_getInstance().b1_1;
        var tmp = values_2();
        var tmp$ret$0;
        {
          var tmp0_mod = tmp0_with.e3o_1.w1() - 1 | 0;
          var tmp1_mod = values_2().length;
          var r = tmp0_mod % tmp1_mod | 0;
          tmp$ret$0 = r + (tmp1_mod & ((r ^ tmp1_mod) & (r | (-r | 0))) >> 31) | 0;
        }
        tmp0_with.m1e(tmp[tmp$ret$0]);
        tmp$ret$1 = teleportRunnerRight($game, $this$$receiver);
      }
      return Unit_getInstance();
    };
  }
  function MainMenuScene$lambda_4($game) {
    return function ($this$$receiver) {
      var tmp$ret$0;
      {
        var tmp0_with = $this$$receiver.m6d_1.a6f_1;
        {
        }
        $this$$receiver.r6d_1 = 0;
        tmp0_with.m1e(values_2()[(tmp0_with.e3o_1.w1() + 1 | 0) % values_2().length | 0]);
        tmp$ret$0 = teleportRunnerLeft($game, $this$$receiver);
      }
      return Unit_getInstance();
    };
  }
  function MainMenuScene$lambda_5($game) {
    return function ($this$$receiver) {
      teleportRunnerDown($game, $this$$receiver);
      var tmp$ret$1;
      {
        var tmp0_with = $this$$receiver.m6d_1.b6f_1;
        {
        }
        var tmp$ret$0;
        {
          var tmp0_min = $this$$receiver.r6d_1;
          var tmp1_min = replaceDigit(tmp0_with.e3o_1, $this$$receiver, 3, digit(tmp0_with.e3o_1, $this$$receiver, 3) + 1 | 0);
          tmp$ret$0 = Math.min(tmp0_min, tmp1_min);
        }
        tmp$ret$1 = tmp0_with.m1e(tmp$ret$0);
      }
      return Unit_getInstance();
    };
  }
  function MainMenuScene$lambda_6($game) {
    return function ($this$$receiver) {
      teleportRunnerUp($game, $this$$receiver);
      var tmp$ret$1;
      {
        var tmp0_with = $this$$receiver.m6d_1.b6f_1;
        {
        }
        var tmp$ret$0;
        {
          var tmp0_max = replaceDigit(tmp0_with.e3o_1, $this$$receiver, 3, digit(tmp0_with.e3o_1, $this$$receiver, 3) - 1 | 0);
          tmp$ret$0 = Math.max(0, tmp0_max);
        }
        tmp$ret$1 = tmp0_with.m1e(tmp$ret$0);
      }
      return Unit_getInstance();
    };
  }
  function MainMenuScene$lambda_7($game) {
    return function ($this$$receiver) {
      teleportRunnerDown($game, $this$$receiver);
      var tmp$ret$1;
      {
        var tmp0_with = $this$$receiver.m6d_1.b6f_1;
        {
        }
        var tmp$ret$0;
        {
          var tmp0_min = $this$$receiver.r6d_1;
          var tmp1_min = replaceDigit(tmp0_with.e3o_1, $this$$receiver, 2, digit(tmp0_with.e3o_1, $this$$receiver, 2) + 1 | 0);
          tmp$ret$0 = Math.min(tmp0_min, tmp1_min);
        }
        tmp$ret$1 = tmp0_with.m1e(tmp$ret$0);
      }
      return Unit_getInstance();
    };
  }
  function MainMenuScene$lambda_8($game) {
    return function ($this$$receiver) {
      teleportRunnerUp($game, $this$$receiver);
      var tmp$ret$1;
      {
        var tmp0_with = $this$$receiver.m6d_1.b6f_1;
        {
        }
        var tmp$ret$0;
        {
          var tmp0_max = replaceDigit(tmp0_with.e3o_1, $this$$receiver, 2, digit(tmp0_with.e3o_1, $this$$receiver, 2) - 1 | 0);
          tmp$ret$0 = Math.max(0, tmp0_max);
        }
        tmp$ret$1 = tmp0_with.m1e(tmp$ret$0);
      }
      return Unit_getInstance();
    };
  }
  function MainMenuScene$lambda_9($game) {
    return function ($this$$receiver) {
      teleportRunnerDown($game, $this$$receiver);
      var tmp$ret$1;
      {
        var tmp0_with = $this$$receiver.m6d_1.b6f_1;
        {
        }
        var tmp$ret$0;
        {
          var tmp0_min = $this$$receiver.r6d_1;
          var tmp1_min = replaceDigit(tmp0_with.e3o_1, $this$$receiver, 1, digit(tmp0_with.e3o_1, $this$$receiver, 1) + 1 | 0);
          tmp$ret$0 = Math.min(tmp0_min, tmp1_min);
        }
        tmp$ret$1 = tmp0_with.m1e(tmp$ret$0);
      }
      return Unit_getInstance();
    };
  }
  function MainMenuScene$lambda_10($game) {
    return function ($this$$receiver) {
      teleportRunnerUp($game, $this$$receiver);
      var tmp$ret$1;
      {
        var tmp0_with = $this$$receiver.m6d_1.b6f_1;
        {
        }
        var tmp$ret$0;
        {
          var tmp0_max = replaceDigit(tmp0_with.e3o_1, $this$$receiver, 1, digit(tmp0_with.e3o_1, $this$$receiver, 1) - 1 | 0);
          tmp$ret$0 = Math.max(0, tmp0_max);
        }
        tmp$ret$1 = tmp0_with.m1e(tmp$ret$0);
      }
      return Unit_getInstance();
    };
  }
  function MainMenuScene$lambda_11($game) {
    return function ($this$$receiver) {
      var tmp$ret$1;
      {
        var tmp0_with = $this$$receiver.y73().w6e_1;
        {
        }
        var tmp = values();
        var tmp$ret$0;
        {
          var tmp0_mod = tmp0_with.e3o_1.w1() - 1 | 0;
          var tmp1_mod = values().length;
          var r = tmp0_mod % tmp1_mod | 0;
          tmp$ret$0 = r + (tmp1_mod & ((r ^ tmp1_mod) & (r | (-r | 0))) >> 31) | 0;
        }
        tmp0_with.m1e(tmp[tmp$ret$0]);
        tmp$ret$1 = teleportRunnerRight($game, $this$$receiver);
      }
      return Unit_getInstance();
    };
  }
  function MainMenuScene$lambda_12($game) {
    return function ($this$$receiver) {
      var tmp$ret$0;
      {
        var tmp0_with = $this$$receiver.y73().w6e_1;
        {
        }
        tmp0_with.m1e(values()[(tmp0_with.e3o_1.w1() + 1 | 0) % values().length | 0]);
        tmp$ret$0 = teleportRunnerLeft($game, $this$$receiver);
      }
      return Unit_getInstance();
    };
  }
  function MainMenuScene$lambda_13($game) {
    return function ($this$$receiver) {
      var tmp$ret$1;
      {
        var tmp0_with = $this$$receiver.y73().t6e_1;
        {
        }
        var tmp = values_1();
        var tmp$ret$0;
        {
          var tmp0_mod = tmp0_with.e3o_1.w1() - 1 | 0;
          var tmp1_mod = values_1().length;
          var r = tmp0_mod % tmp1_mod | 0;
          tmp$ret$0 = r + (tmp1_mod & ((r ^ tmp1_mod) & (r | (-r | 0))) >> 31) | 0;
        }
        tmp0_with.m1e(tmp[tmp$ret$0]);
        tmp$ret$1 = teleportRunnerRight($game, $this$$receiver);
      }
      return Unit_getInstance();
    };
  }
  function MainMenuScene$lambda_14($game) {
    return function ($this$$receiver) {
      var tmp$ret$0;
      {
        var tmp0_with = $this$$receiver.y73().t6e_1;
        {
        }
        tmp0_with.m1e(values_1()[(tmp0_with.e3o_1.w1() + 1 | 0) % values_1().length | 0]);
        tmp$ret$0 = teleportRunnerLeft($game, $this$$receiver);
      }
      return Unit_getInstance();
    };
  }
  function MainMenuScene$lambda_15() {
    return function ($this$$receiver) {
      MainMenuState_getInstance().x6a_1 = true;
      return Unit_getInstance();
    };
  }
  function MainMenuScene$lambda_16() {
    return function ($this$$receiver) {
      MainMenuState_getInstance().y6a_1 = true;
      return Unit_getInstance();
    };
  }
  function MainMenuScene$setup$lambda(this$0) {
    return function (g, _anonymous_parameter_1__qggqgd) {
      this$0.y6d_1.m1e('' + g.c6e_1.z1z() + ' x ' + g.c6e_1.b20());
      var tmp$ret$1;
      $l$block: {
        var tmp0_firstOrNull = this$0.v6d_1;
        var tmp0_iterator = tmp0_firstOrNull.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$0;
          {
            tmp$ret$0 = element.h7c_1.z1z() === g.c6e_1.k6u().z1z() ? element.h7c_1.b20() === g.c6e_1.k6u().b20() : false;
          }
          if (tmp$ret$0) {
            tmp$ret$1 = element;
            break $l$block;
          }
        }
        tmp$ret$1 = null;
      }
      var tmp0_safe_receiver = tmp$ret$1;
      if (tmp0_safe_receiver == null)
        null;
      else {
        var tmp$ret$2;
        {
          {
          }
          var tmp = this$0.c74();
          tmp.m6o('getGold', false, false, 6, null);
          tmp$ret$2 = tmp0_safe_receiver.i7c_1(this$0);
        }
      }
      return Unit_getInstance();
    };
  }
  function MainMenuScene$setup$lambda$lambda(this$0) {
    return function ($this$$receiver) {
      $this$$receiver.j2e(10.0, 10.0, 0.0);
      $this$$receiver.p2e(this$0.p79().e3o_1.p6k_1 / 2.0, this$0.p79().e3o_1.q6k_1 / 2.0, 1.0);
      return Unit_getInstance();
    };
  }
  function MainMenuScene$setup$lambda$lambda_0($element) {
    return function ($this$textView) {
      $this$textView.j2e($element.f7c_1, $element.g7c_1, 0.0);
      $this$textView.p2e(0.5, 0.5, 1.0);
      return Unit_getInstance();
    };
  }
  function MainMenuScene$setup$lambda$lambda_1($element, this$0) {
    return function ($this$$receiver) {
      $this$$receiver.j2e($element.j7c().z1z() + $element.n7c_1.z1z() - ensureNotNull(this$0.f6u().j6e_1).r6p_1 / 2.0, ((ensureNotNull(this$0.f6u().j6e_1).s6p_1 - $element.j7c().b20() | 0) - 1 | 0) + $element.n7c_1.b20(), 0.0);
      return Unit_getInstance();
    };
  }
  function MainMenuScene$setup$lambda_0(this$0, $ctx) {
    return function ($this$null) {
      println($this$null.n6j_1);
      var tmp0_subject = $this$null.n6j_1;
      var tmp0 = tmp0_subject.w1();
      var tmp;
      switch (tmp0) {
        case 6:
          this$0.g74($ctx, ensureNotNull(this$0.f6u().j6e_1));
          var tmp_0 = this$0.o79();
          var tmp_1 = this$0.p79();
          this$0.v4j(new TextView(this$0.y6d_1, tmp_0, tmp_1, 10, MainMenuScene$setup$lambda$lambda(this$0)));
          var tmp1_safe_receiver = this$0.h74();
          if (tmp1_safe_receiver == null)
            null;
          else {
            var tmp$ret$0;
            {
              {
              }
              var tmp0_forEach = this$0.w6d_1;
              var tmp0_iterator = tmp0_forEach.h();
              while (tmp0_iterator.n()) {
                var element = tmp0_iterator.o();
                {
                  var tmp_2 = this$0.o79();
                  var tmp_3 = this$0.p79();
                  var tmp_4 = textView$default(element.e7c_1, tmp_2, tmp_3, 0, MainMenuScene$setup$lambda$lambda_0(element), 8, null);
                  tmp1_safe_receiver.i4l(tmp_4, 0, 2, null);
                }
              }
              tmp$ret$0 = Unit_getInstance();
            }
          }

          ;
          var tmp$ret$2;
          {
            var tmp0_filterIsInstance = this$0.v6d_1;
            var tmp$ret$1;
            {
              var tmp0_filterIsInstanceTo = ArrayList_init_$Create$_0();
              var tmp0_iterator_0 = tmp0_filterIsInstance.h();
              while (tmp0_iterator_0.n()) {
                var element_0 = tmp0_iterator_0.o();
                if (element_0 instanceof LabeledMenuCommand) {
                  tmp0_filterIsInstanceTo.b(element_0);
                }
              }
              tmp$ret$1 = tmp0_filterIsInstanceTo;
            }
            tmp$ret$2 = tmp$ret$1;
          }

          var tmp1_forEach = tmp$ret$2;
          var tmp0_iterator_1 = tmp1_forEach.h();
          while (tmp0_iterator_1.n()) {
            var element_1 = tmp0_iterator_1.o();
            {
              var tmp0_safe_receiver = this$0.h74();
              if (tmp0_safe_receiver == null)
                null;
              else {
                var tmp_5 = this$0.o79();
                var tmp_6 = this$0.p79();
                var tmp_7 = new TextView(element_1.m7c_1, tmp_5, tmp_6, 25, MainMenuScene$setup$lambda$lambda_1(element_1, this$0));
                tmp0_safe_receiver.i4l(tmp_7, 0, 2, null);
              }
            }
          }

          tmp = Unit_getInstance();
          break;
        case 0:
          this$0.a74($ctx);
          tmp = Unit_getInstance();
          break;
        case 2:
          tmp = this$0.f6u().c6e_1.r5i();
          break;
        default:
          tmp = Unit_getInstance();
          break;
      }
      return Unit_getInstance();
    };
  }
  function MainMenuScene(context, game, assets) {
    GameScene_init_$Init$(game, assets, context, null, 'mainmenu', 8, null, this);
    this.m6d_1 = new MainMenuContext(mutableStateOf(context.u6e_1.e3o_1), mutableStateOf(context.v6e_1.e3o_1));
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.n6d_1 = tmp$ret$0;
    this.o6d_1 = mutableStateOf(this.y73().t6e_1.e3o_1.g6a());
    this.p6d_1 = mutableStateOf(this.y73().w6e_1.e3o_1.g6a());
    this.q6d_1 = mutableStateOf(this.m6d_1.a6f_1.e3o_1.g6a());
    this.r6d_1 = IntCompanionObject_getInstance().b1_1;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_0.v6d_1 = tmp$ret$1;
    var tmp_1 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = ArrayList_init_$Create$_0();
    }
    tmp_1.w6d_1 = tmp$ret$2;
    var tmp_2 = this;
    tmp_2.x6d_1 = lazy(MainMenuScene$map$delegate$lambda());
    var tmp_3 = this.y73().t6e_1;
    tmp_3.k3o(MainMenuScene$lambda(this));
    var tmp_4 = this.y73().w6e_1;
    tmp_4.k3o(MainMenuScene$lambda_0(this));
    this.m6d_1.a6f_1.k3o(MainMenuScene$lambda_1(this));
    _get_reloadLevels__5yzso3(this);
    var tmp$ret$3;
    {
      var tmp0_with = this.m6d_1.b6f_1.e3o_1 + 1 | 0;
      {
      }
      this.s6d_1 = mutableStateOf(digit(tmp0_with, this, 1).toString());
      this.t6d_1 = mutableStateOf(digit(tmp0_with, this, 2).toString());
      this.u6d_1 = mutableStateOf(digit(tmp0_with, this, 3).toString());
      tmp$ret$3 = Unit_getInstance();
    }
    this.m6d_1.b6f_1.k3o(MainMenuScene$lambda_2(this));
    var levelHeight = _get_map__e6co1h(this).m();
    var levelWidth = first(_get_map__e6co1h(this)).length;
    var leftCol = 2;
    var rightCol = 6;
    var dy = 2;
    var y = 1;
    var dx = (-levelWidth | 0) / 2.0;
    var labelsX = (rightCol + 2 | 0) + dx;
    var tmp0_this = this;
    {
      var tmp1_plusAssign = tmp0_this.w6d_1;
      var tmp2_plusAssign = new StaticLabel('level set', labelsX, levelHeight - y + 1);
      tmp1_plusAssign.b(tmp2_plusAssign);
    }
    var tmp1_this = this;
    {
      var tmp3_plusAssign = tmp1_this.v6d_1;
      var tmp_5 = new Vec2i(leftCol, y);
      var tmp4_plusAssign = new MenuCommand(tmp_5, MainMenuScene$lambda_3(game));
      tmp3_plusAssign.b(tmp4_plusAssign);
    }
    var tmp2_this = this;
    {
      var tmp5_plusAssign = tmp2_this.v6d_1;
      var tmp_6 = new Vec2i(rightCol, y);
      var tmp6_plusAssign = LabeledMenuCommand_init_$Create$(tmp_6, this.q6d_1, null, MainMenuScene$lambda_4(game), 4, null);
      tmp5_plusAssign.b(tmp6_plusAssign);
    }
    y = y + dy | 0;
    var origin = new Vec2i(rightCol + 2 | 0, y);
    var tmp3_this = this;
    {
      var tmp7_plusAssign = tmp3_this.w6d_1;
      var tmp8_plusAssign = new StaticLabel('level', labelsX, levelHeight - y + 1);
      tmp7_plusAssign.b(tmp8_plusAssign);
    }
    var tmp4_this = this;
    {
      var tmp9_plusAssign = tmp4_this.v6d_1;
      var tmp_7 = plus_0(origin, new Vec2i(0, -1));
      var tmp_8 = new Vec2i(0, -1);
      var tmp10_plusAssign = new LabeledMenuCommand(tmp_7, this.u6d_1, tmp_8, MainMenuScene$lambda_5(game));
      tmp9_plusAssign.b(tmp10_plusAssign);
    }
    var tmp5_this = this;
    {
      var tmp11_plusAssign = tmp5_this.v6d_1;
      var tmp_9 = plus_0(origin, new Vec2i(0, 1));
      var tmp12_plusAssign = new MenuCommand(tmp_9, MainMenuScene$lambda_6(game));
      tmp11_plusAssign.b(tmp12_plusAssign);
    }
    var tmp6_this = this;
    {
      var tmp13_plusAssign = tmp6_this.v6d_1;
      var tmp_10 = plus_0(origin, new Vec2i(1, -1));
      var tmp_11 = new Vec2i(0, -1);
      var tmp14_plusAssign = new LabeledMenuCommand(tmp_10, this.t6d_1, tmp_11, MainMenuScene$lambda_7(game));
      tmp13_plusAssign.b(tmp14_plusAssign);
    }
    var tmp7_this = this;
    {
      var tmp15_plusAssign = tmp7_this.v6d_1;
      var tmp_12 = plus_0(origin, new Vec2i(1, 1));
      var tmp16_plusAssign = new MenuCommand(tmp_12, MainMenuScene$lambda_8(game));
      tmp15_plusAssign.b(tmp16_plusAssign);
    }
    var tmp8_this = this;
    {
      var tmp17_plusAssign = tmp8_this.v6d_1;
      var tmp_13 = plus_0(origin, new Vec2i(2, -1));
      var tmp_14 = new Vec2i(0, -1);
      var tmp18_plusAssign = new LabeledMenuCommand(tmp_13, this.s6d_1, tmp_14, MainMenuScene$lambda_9(game));
      tmp17_plusAssign.b(tmp18_plusAssign);
    }
    var tmp9_this = this;
    {
      var tmp19_plusAssign = tmp9_this.v6d_1;
      var tmp_15 = plus_0(origin, new Vec2i(2, 1));
      var tmp20_plusAssign = new MenuCommand(tmp_15, MainMenuScene$lambda_10(game));
      tmp19_plusAssign.b(tmp20_plusAssign);
    }
    y = y + dy | 0;
    var tmp10_this = this;
    {
      var tmp21_plusAssign = tmp10_this.w6d_1;
      var tmp22_plusAssign = new StaticLabel('speed', labelsX, levelHeight - y + 1);
      tmp21_plusAssign.b(tmp22_plusAssign);
    }
    var tmp11_this = this;
    {
      var tmp23_plusAssign = tmp11_this.v6d_1;
      var tmp_16 = new Vec2i(leftCol, y);
      var tmp24_plusAssign = new MenuCommand(tmp_16, MainMenuScene$lambda_11(game));
      tmp23_plusAssign.b(tmp24_plusAssign);
    }
    var tmp12_this = this;
    {
      var tmp25_plusAssign = tmp12_this.v6d_1;
      var tmp_17 = new Vec2i(rightCol, y);
      var tmp26_plusAssign = LabeledMenuCommand_init_$Create$(tmp_17, this.p6d_1, null, MainMenuScene$lambda_12(game), 4, null);
      tmp25_plusAssign.b(tmp26_plusAssign);
    }
    y = y + dy | 0;
    var tmp13_this = this;
    {
      var tmp27_plusAssign = tmp13_this.w6d_1;
      var tmp28_plusAssign = new StaticLabel('sprites', labelsX, levelHeight - y + 1);
      tmp27_plusAssign.b(tmp28_plusAssign);
    }
    var tmp14_this = this;
    {
      var tmp29_plusAssign = tmp14_this.v6d_1;
      var tmp_18 = new Vec2i(leftCol, y);
      var tmp30_plusAssign = new MenuCommand(tmp_18, MainMenuScene$lambda_13(game));
      tmp29_plusAssign.b(tmp30_plusAssign);
    }
    var tmp15_this = this;
    {
      var tmp31_plusAssign = tmp15_this.v6d_1;
      var tmp_19 = new Vec2i(rightCol, y);
      var tmp32_plusAssign = LabeledMenuCommand_init_$Create$(tmp_19, this.o6d_1, null, MainMenuScene$lambda_14(game), 4, null);
      tmp31_plusAssign.b(tmp32_plusAssign);
    }
    var tmp16_this = this;
    {
      var tmp33_plusAssign = tmp16_this.v6d_1;
      var tmp_20 = new Vec2i(7, levelHeight - 1 | 0);
      var tmp_21 = mutableStateOf('continue game');
      var tmp34_plusAssign = LabeledMenuCommand_init_$Create$(tmp_20, tmp_21, null, MainMenuScene$lambda_15(), 4, null);
      tmp33_plusAssign.b(tmp34_plusAssign);
    }
    var tmp17_this = this;
    {
      var tmp35_plusAssign = tmp17_this.v6d_1;
      var tmp_22 = new Vec2i(4, 0);
      var tmp_23 = mutableStateOf('new game');
      var tmp_24 = new Vec2i(0, 2);
      var tmp36_plusAssign = new LabeledMenuCommand(tmp_22, tmp_23, tmp_24, MainMenuScene$lambda_16());
      tmp35_plusAssign.b(tmp36_plusAssign);
    }
    this.y6d_1 = mutableStateOf('' + game.c6e_1.z1z() + ' x ' + game.c6e_1.b20());
  }
  MainMenuScene.prototype.c71 = function (ctx) {
    GameScene.prototype.c71.call(this, ctx);
    var tmp = this.f6u();
    var tmp$ret$0;
    {
      var tmp_0 = _get_map__e6co1h(this);
      var tmp_1 = this.z73().e6m_1;
      var tmp0_also = GameLevel_init_$Create$(0, tmp_0, tmp_1, 0, 8, null);
      {
      }
      {
        tmp0_also.d6q_1 = this.f74();
      }
      tmp$ret$0 = tmp0_also;
    }
    tmp.z6v(tmp$ret$0);
    var tmp0_this = this.f6u();
    {
      var tmp1_plusAssign = tmp0_this.o6e_1;
      tmp1_plusAssign.b(MainMenuScene$setup$lambda(this));
    }
    var tmp1_this = this.f6u();
    {
      var tmp2_plusAssign = tmp1_this.n6e_1;
      tmp2_plusAssign.b(MainMenuScene$setup$lambda_0(this, ctx));
    }
    this.f6u().c6w();
  };
  MainMenuScene.prototype.t4g = function (ctx) {
    this.f6u().c6e_1.r5i();
    GameScene.prototype.t4g.call(this, ctx);
    unregisterActions(ctx.k2a(), this.n6d_1);
    this.n6d_1.t7();
  };
  MainMenuScene.$metadata$ = classMeta('MainMenuScene', undefined, undefined, undefined, undefined, GameScene.prototype);
  function map$factory() {
    return getPropertyCallableRef('map', 1, KProperty1, function (receiver) {
      return _get_map__e6co1h(receiver);
    }, null);
  }
  function MaskShader$MaskModel$lambda$lambda(this$0, $this_vertexStage, $cfg) {
    return function ($this$main) {
      var tmp = mvpMatrix(this$0).i2e();
      var mvp = $this$main.y2v(tmp, null, 2, null);
      $this$main.t2w(this$0.n7d_1.z33(), $this_vertexStage.u35(Companion_getInstance_5().c2w_1.s2p_1));
      var tmp_0;
      if ($cfg.o2w_1) {
        tmp_0 = $this$main.l2w(mvp, $this_vertexStage.k2w(Companion_getInstance_5().i2w_1.s2p_1));
      }
      $this$main.t2w($this_vertexStage.y2o_1, times(mvp, $this$main.s2w($this_vertexStage.r2w(Companion_getInstance_5().z2v_1.s2p_1), 1.0)));
      return Unit_getInstance();
    };
  }
  function MaskShader$MaskModel$lambda(this$0, $cfg) {
    return function ($this$vertexStage) {
      $this$vertexStage.u2w(MaskShader$MaskModel$lambda$lambda(this$0, $this$vertexStage, $cfg));
      return Unit_getInstance();
    };
  }
  function MaskShader$MaskModel$lambda$lambda$lambda($this_fragmentStage) {
    return function ($this$if) {
      var tmp = $this$if.e3j(0.0);
      $this_fragmentStage.u3l($this$if, tmp, 0, 2, null);
      return Unit_getInstance();
    };
  }
  function MaskShader$MaskModel$lambda$lambda$lambda_0($cfg, $this_fragmentStage) {
    return function ($this$else) {
      var colorBlock = fragmentColorBlock$default($this$else, $cfg.m2w_1, null, 2, null);
      var baseColor = float4Port($this$else, 'baseColor', colorBlock.e2x_1);
      var tmp = get_rgb(baseColor);
      var outRgb = $this$else.g2x(tmp, null, 2, null);
      $this$else.t2w(outRgb, convertColorSpace($this$else, outRgb, $cfg.p2w_1));
      var tmp_0;
      if ($cfg.n2w_1.r2q_1.equals(BlendMode_BLEND_PREMULTIPLIED_ALPHA_getInstance())) {
        tmp_0 = $this$else.t2w(outRgb, times_0(outRgb, get_a(baseColor)));
      }
      var tmp_1 = get_a(baseColor);
      $this_fragmentStage.t2x($this$else, outRgb, tmp_1, 0, 4, null);
      return Unit_getInstance();
    };
  }
  function MaskShader$MaskModel$lambda$lambda_0(this$0, $cfg, $this_fragmentStage) {
    return function ($this$main) {
      var darkRadius = this$0.u3i('radius');
      var tmp0_safe_receiver = $cfg.m2w_1.a2z();
      var tex = this$0.d2y(ensureNotNull(tmp0_safe_receiver == null ? null : tmp0_safe_receiver.d2z_1));
      var tmp = toFloat2($this$main.x3k(tex, null, 2, null));
      var texSize = $this$main.r3j(tmp, null, 2, null);
      var div_1 = $this$main.p34(2.0);
      var centered = minus(this$0.n7d_1.c33(), $this$main.d3j(0.5));
      var tmp_0 = ge($this$main.l3k($this$main.k3k(div(times_1(texSize, centered), div_1))), div_0(darkRadius, div_1));
      var tmp_1 = $this$main.z3j(tmp_0, MaskShader$MaskModel$lambda$lambda$lambda($this_fragmentStage));
      tmp_1.w3h(MaskShader$MaskModel$lambda$lambda$lambda_0($cfg, $this_fragmentStage));
      return Unit_getInstance();
    };
  }
  function MaskShader$MaskModel$lambda_0(this$0, $cfg) {
    return function ($this$fragmentStage) {
      $this$fragmentStage.u2w(MaskShader$MaskModel$lambda$lambda_0(this$0, $cfg, $this$fragmentStage));
      return Unit_getInstance();
    };
  }
  function MaskShader_init_$Init$(cfg, model, $mask0, $marker, $this) {
    if (!(($mask0 & 2) === 0))
      model = new MaskModel(cfg);
    MaskShader.call($this, cfg, model);
    return $this;
  }
  function MaskShader_init_$Init$_0(block, $this) {
    var tmp$ret$0;
    {
      var tmp0_apply = new Config_0();
      {
      }
      block(tmp0_apply);
      tmp$ret$0 = tmp0_apply;
    }
    var tmp = tmp$ret$0;
    MaskShader_init_$Init$(tmp, null, 2, null, $this);
    return $this;
  }
  function MaskShader_init_$Create$(block) {
    return MaskShader_init_$Init$_0(block, Object.create(MaskShader.prototype));
  }
  function MaskModel(cfg) {
    KslProgram.call(this, 'Mask Shader');
    var tmp = this;
    tmp.n7d_1 = this.f2y('uv', null, 2, null);
    this.v2x(MaskShader$MaskModel$lambda(this, cfg));
    this.w2x(MaskShader$MaskModel$lambda_0(this, cfg));
    var tmp0_safe_receiver = cfg.q2w_1;
    if (tmp0_safe_receiver == null)
      null;
    else
      tmp0_safe_receiver(this);
  }
  MaskModel.$metadata$ = classMeta('MaskModel', undefined, undefined, undefined, undefined, KslProgram.prototype);
  function MaskShader(cfg, model) {
    KslUnlitShader.call(this, cfg, model);
    var tmp = this;
    tmp.y76_1 = this.b2v('radius', null, 2, null);
  }
  MaskShader.prototype.z76 = function (_set____db54di) {
    return this.y76_1.k2r(this, visibleRadius$factory(), _set____db54di);
  };
  MaskShader.prototype.o7d = function () {
    return this.y76_1.j2r(this, visibleRadius$factory_0());
  };
  MaskShader.$metadata$ = classMeta('MaskShader', undefined, undefined, undefined, undefined, KslUnlitShader.prototype);
  function visibleRadius$factory() {
    return getPropertyCallableRef('visibleRadius', 1, KMutableProperty1, function (receiver) {
      return receiver.o7d();
    }, function (receiver, value) {
      return receiver.z76(value);
    });
  }
  function visibleRadius$factory_0() {
    return getPropertyCallableRef('visibleRadius', 1, KMutableProperty1, function (receiver) {
      return receiver.o7d();
    }, function (receiver, value) {
      return receiver.z76(value);
    });
  }
  function TileMapShaderConf(totalTiles) {
    this.p7d_1 = totalTiles;
  }
  TileMapShaderConf.$metadata$ = classMeta('TileMapShaderConf');
  function TileMapShader$Program$lambda$lambda(this$0, $this_vertexStage, $uMvp) {
    return function ($this$main) {
      $this$main.t2w(this$0.c7e_1.z33(), $this_vertexStage.u35(Companion_getInstance_5().c2w_1.s2p_1));
      $this$main.t2w($this_vertexStage.y2o_1, times($uMvp.i2e(), $this$main.s2w($this_vertexStage.r2w(Companion_getInstance_5().z2v_1.s2p_1), 1.0)));
      return Unit_getInstance();
    };
  }
  function TileMapShader$Program$lambda(this$0) {
    return function ($this$vertexStage) {
      var uMvp = mvpMatrix(this$0);
      $this$vertexStage.u2w(TileMapShader$Program$lambda$lambda(this$0, $this$vertexStage, uMvp));
      return Unit_getInstance();
    };
  }
  function TileMapShader$Program$lambda$lambda$lambda($secondaryTileSet, $tileSize, $tileIndex, $this_fragmentStage, $xyWithinTile) {
    return function ($this$if) {
      var tmp = toFloat2($this$if.x3k($secondaryTileSet, null, 2, null));
      var secTileSetSize = $this$if.r3j(tmp, null, 2, null);
      var tilesInTileSet = toInt2(div_1(secTileSetSize, toFloat2($tileSize)));
      var y = toInt1($this$if.j3k(div_0(toFloat1($tileIndex), toFloat1(get_x(tilesInTileSet)))));
      var x = minus_0($tileIndex, times_2(y, get_x(tilesInTileSet)));
      var tileOffset = times_1($this$if.n3j(x, y), $tileSize);
      var tmp_0 = toInt2(plus($xyWithinTile, toFloat2(tileOffset)));
      var tmp_1 = $this$if.v3k($secondaryTileSet, tmp_0, null, 4, null);
      $this_fragmentStage.u3l($this$if, tmp_1, 0, 2, null);
      return Unit_getInstance();
    };
  }
  function TileMapShader$Program$lambda$lambda$lambda_0($this_fragmentStage, $tileSet, $xyWithinTile, $tileFrames, $tileIndex) {
    return function ($this$else) {
      var tmp = toInt2(plus($xyWithinTile, get($tileFrames, $tileIndex)));
      var tmp_0 = $this$else.v3k($tileSet, tmp, null, 4, null);
      $this_fragmentStage.u3l($this$else, tmp_0, 0, 2, null);
      return Unit_getInstance();
    };
  }
  function TileMapShader$Program$lambda$lambda_0($fieldSize, this$0, $tileSize, $field, $secondaryTileSet, $this_fragmentStage, $tileSet, $tileFrames) {
    return function ($this$main) {
      var inField = times_1($fieldSize, this$0.c7e_1.c33());
      var tilePos = $this$main.k3k(inField);
      var xyWithinTile = times_1(minus(inField, tilePos), toFloat2($tileSize));
      var tmp = toInt2(tilePos);
      var tx = $this$main.v3k($field, tmp, null, 4, null);
      var tmp_0 = toInt1(times_2(get_r(tx), $this$main.p34(255.0)));
      var texelValue = $this$main.v3j(tmp_0, null, 2, null);
      var isHole = shr(and(texelValue, $this$main.f3j(128)), $this$main.f3j(7));
      var tileIndex = and(texelValue, $this$main.f3j(127));
      var tmp_1 = gt(isHole, $this$main.f3j(0));
      var tmp_2 = $this$main.z3j(tmp_1, TileMapShader$Program$lambda$lambda$lambda($secondaryTileSet, $tileSize, tileIndex, $this_fragmentStage, xyWithinTile));
      tmp_2.w3h(TileMapShader$Program$lambda$lambda$lambda_0($this_fragmentStage, $tileSet, xyWithinTile, $tileFrames, tileIndex));
      return Unit_getInstance();
    };
  }
  function TileMapShader$Program$lambda_0(this$0, $conf) {
    return function ($this$fragmentStage) {
      var field = this$0.d2y('tileMap');
      var tileSet = this$0.d2y('tiles');
      var secondaryTileSet = this$0.d2y('secondaryTiles');
      var time = this$0.u3i('time');
      var tileSize = this$0.y3i('tileSize');
      var tileFrames = this$0.w3i('frames', $conf.p7d_1);
      var fieldSize = this$0.v3i('size');
      $this$fragmentStage.u2w(TileMapShader$Program$lambda$lambda_0(fieldSize, this$0, tileSize, field, secondaryTileSet, $this$fragmentStage, tileSet, tileFrames));
      return Unit_getInstance();
    };
  }
  function Program(conf) {
    KslProgram.call(this, 'tilemap');
    var tmp = this;
    tmp.c7e_1 = this.f2y('uv', null, 2, null);
    this.v2x(TileMapShader$Program$lambda(this));
    this.w2x(TileMapShader$Program$lambda_0(this, conf));
  }
  Program.$metadata$ = classMeta('Program', undefined, undefined, undefined, undefined, KslProgram.prototype);
  function TileMapShader(conf) {
    var tmp = new Program(conf);
    var tmp$ret$0;
    {
      var tmp0_apply = new PipelineConfig();
      {
      }
      {
        tmp0_apply.r2q_1 = BlendMode_BLEND_PREMULTIPLIED_ALPHA_getInstance();
        tmp0_apply.s2q_1 = CullMethod_NO_CULLING_getInstance();
        tmp0_apply.t2q_1 = DepthCompareOp_DISABLED_getInstance();
      }
      tmp$ret$0 = tmp0_apply;
    }
    KslShader.call(this, tmp, tmp$ret$0);
    var tmp_0 = this;
    tmp_0.n7e_1 = this.k2v('tiles', null, 2, null);
    var tmp_1 = this;
    tmp_1.o7e_1 = this.k2v('secondaryTiles', null, 2, null);
    var tmp_2 = this;
    tmp_2.p7e_1 = this.i2v('tileSize', null, 2, null);
    this.q7e_1 = this.l2v('frames', conf.p7d_1);
    var tmp_3 = this;
    tmp_3.r7e_1 = this.k2v('tileMap', null, 2, null);
    var tmp_4 = this;
    tmp_4.s7e_1 = this.d2v('size', null, 2, null);
    var tmp_5 = this;
    tmp_5.t7e_1 = this.b2v('time', null, 2, null);
  }
  TileMapShader.prototype.u7e = function (_set____db54di) {
    return this.n7e_1.y2s(this, tiles$factory(), _set____db54di);
  };
  TileMapShader.prototype.v7e = function () {
    return this.n7e_1.j2r(this, tiles$factory_0());
  };
  TileMapShader.prototype.w7e = function (_set____db54di) {
    return this.o7e_1.y2s(this, secondaryTiles$factory(), _set____db54di);
  };
  TileMapShader.prototype.x7e = function () {
    return this.o7e_1.j2r(this, secondaryTiles$factory_0());
  };
  TileMapShader.prototype.y7e = function (_set____db54di) {
    this.p7e_1.h2s(this, tileSize$factory(), _set____db54di);
    return Unit_getInstance();
  };
  TileMapShader.prototype.j6a = function () {
    return this.p7e_1.j2r(this, tileSize$factory_0());
  };
  TileMapShader.prototype.z7e = function () {
    return this.q7e_1.j2r(this, tileFrames$factory());
  };
  TileMapShader.prototype.a7f = function (_set____db54di) {
    return this.r7e_1.y2s(this, field$factory(), _set____db54di);
  };
  TileMapShader.prototype.f4c = function () {
    return this.r7e_1.j2r(this, field$factory_0());
  };
  TileMapShader.prototype.b7f = function (_set____db54di) {
    this.s7e_1.q2r(this, fieldSize$factory(), _set____db54di);
    return Unit_getInstance();
  };
  TileMapShader.prototype.c7f = function () {
    return this.s7e_1.j2r(this, fieldSize$factory_0());
  };
  TileMapShader.prototype.d7f = function (_set____db54di) {
    return this.t7e_1.k2r(this, time$factory(), _set____db54di);
  };
  TileMapShader.prototype.g4w = function () {
    return this.t7e_1.j2r(this, time$factory_0());
  };
  TileMapShader.$metadata$ = classMeta('TileMapShader', undefined, undefined, undefined, undefined, KslShader.prototype);
  function tiles$factory() {
    return getPropertyCallableRef('tiles', 1, KMutableProperty1, function (receiver) {
      return receiver.v7e();
    }, function (receiver, value) {
      return receiver.u7e(value);
    });
  }
  function tiles$factory_0() {
    return getPropertyCallableRef('tiles', 1, KMutableProperty1, function (receiver) {
      return receiver.v7e();
    }, function (receiver, value) {
      return receiver.u7e(value);
    });
  }
  function secondaryTiles$factory() {
    return getPropertyCallableRef('secondaryTiles', 1, KMutableProperty1, function (receiver) {
      return receiver.x7e();
    }, function (receiver, value) {
      return receiver.w7e(value);
    });
  }
  function secondaryTiles$factory_0() {
    return getPropertyCallableRef('secondaryTiles', 1, KMutableProperty1, function (receiver) {
      return receiver.x7e();
    }, function (receiver, value) {
      return receiver.w7e(value);
    });
  }
  function tileSize$factory() {
    return getPropertyCallableRef('tileSize', 1, KMutableProperty1, function (receiver) {
      return receiver.j6a();
    }, function (receiver, value) {
      return receiver.y7e(value);
    });
  }
  function tileSize$factory_0() {
    return getPropertyCallableRef('tileSize', 1, KMutableProperty1, function (receiver) {
      return receiver.j6a();
    }, function (receiver, value) {
      return receiver.y7e(value);
    });
  }
  function tileFrames$factory() {
    return getPropertyCallableRef('tileFrames', 1, KProperty1, function (receiver) {
      return receiver.z7e();
    }, null);
  }
  function field$factory() {
    return getPropertyCallableRef('field', 1, KMutableProperty1, function (receiver) {
      return receiver.f4c();
    }, function (receiver, value) {
      return receiver.a7f(value);
    });
  }
  function field$factory_0() {
    return getPropertyCallableRef('field', 1, KMutableProperty1, function (receiver) {
      return receiver.f4c();
    }, function (receiver, value) {
      return receiver.a7f(value);
    });
  }
  function fieldSize$factory() {
    return getPropertyCallableRef('fieldSize', 1, KMutableProperty1, function (receiver) {
      return receiver.c7f();
    }, function (receiver, value) {
      return receiver.b7f(value);
    });
  }
  function fieldSize$factory_0() {
    return getPropertyCallableRef('fieldSize', 1, KMutableProperty1, function (receiver) {
      return receiver.c7f();
    }, function (receiver, value) {
      return receiver.b7f(value);
    });
  }
  function time$factory() {
    return getPropertyCallableRef('time', 1, KMutableProperty1, function (receiver) {
      return receiver.g4w();
    }, function (receiver, value) {
      return receiver.d7f(value);
    });
  }
  function time$factory_0() {
    return getPropertyCallableRef('time', 1, KMutableProperty1, function (receiver) {
      return receiver.g4w();
    }, function (receiver, value) {
      return receiver.d7f(value);
    });
  }
  function pop(_this__u8e3s4) {
    return removeLastOrNull(_this__u8e3s4);
  }
  function push(_this__u8e3s4, e) {
    _this__u8e3s4.b(e);
    return _this__u8e3s4.m() - 1 | 0;
  }
  function current(_this__u8e3s4) {
    return lastOrNull(_this__u8e3s4);
  }
  function StackedStateEdge(targetState, replace, weight) {
    this.h6q_1 = targetState;
    this.i6q_1 = replace;
    this.j6q_1 = weight;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.k6q_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_0.l6q_1 = tmp$ret$1;
  }
  StackedStateEdge.prototype.e7f = function () {
    return this.j6q_1;
  };
  StackedStateEdge.prototype.n6q = function (action) {
    return push(this.l6q_1, action);
  };
  StackedStateEdge.prototype.m6q = function (guard) {
    return push(this.k6q_1, guard);
  };
  StackedStateEdge.prototype.f7f = function (retrieveState) {
    {
      var tmp0_forEach = this.l6q_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          element(this);
        }
      }
    }
    return retrieveState(this.h6q_1);
  };
  StackedStateEdge.prototype.g7f = function (event) {
    var tmp$ret$0;
    $l$block_0: {
      var tmp0_any = this.k6q_1;
      var tmp;
      if (isInterface(tmp0_any, Collection)) {
        tmp = tmp0_any.q();
      } else {
        tmp = false;
      }
      if (tmp) {
        tmp$ret$0 = false;
        break $l$block_0;
      }
      var tmp0_iterator = tmp0_any.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$1;
        {
          tmp$ret$1 = element(event);
        }
        if (tmp$ret$1) {
          tmp$ret$0 = true;
          break $l$block_0;
        }
      }
      tmp$ret$0 = false;
    }
    return tmp$ret$0;
  };
  StackedStateEdge.$metadata$ = classMeta('StackedStateEdge');
  function sam$kotlin_Comparator$0_0(function_0) {
    this.h7f_1 = function_0;
  }
  sam$kotlin_Comparator$0_0.prototype.w = function (a, b) {
    return this.h7f_1(a, b);
  };
  sam$kotlin_Comparator$0_0.prototype.compare = function (a, b) {
    return this.w(a, b);
  };
  sam$kotlin_Comparator$0_0.$metadata$ = classMeta('sam$kotlin_Comparator$0', [Comparator]);
  function StackedState$edge$lambda() {
    return function (a, b) {
      var tmp$ret$2;
      {
        var tmp$ret$0;
        {
          tmp$ret$0 = a.j6q_1;
        }
        var tmp = tmp$ret$0;
        var tmp$ret$1;
        {
          tmp$ret$1 = b.j6q_1;
        }
        tmp$ret$2 = compareValues(tmp, tmp$ret$1);
      }
      return tmp$ret$2;
    };
  }
  function StackedState(name) {
    this.n6j_1 = name;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.o6j_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_0.p6j_1 = tmp$ret$1;
    var tmp_1 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = ArrayList_init_$Create$_0();
    }
    tmp_1.q6j_1 = tmp$ret$2;
    var tmp_2 = this;
    var tmp$ret$3;
    {
      tmp$ret$3 = ArrayList_init_$Create$_0();
    }
    tmp_2.r6j_1 = tmp$ret$3;
  }
  StackedState.prototype.il = function () {
    return this.n6j_1;
  };
  StackedState.prototype.s6j = function (action) {
    return push(this.o6j_1, action);
  };
  StackedState.prototype.t6j = function (action) {
    return push(this.p6j_1, action);
  };
  StackedState.prototype.k6s = function (action) {
    return push(this.q6j_1, action);
  };
  StackedState.prototype.l6s = function () {
    return this.q6s();
  };
  StackedState.prototype.m6s = function (previous) {
    return this.p6s(previous);
  };
  StackedState.prototype.n6s = function (targetState, replace, weight, init) {
    var edge = new StackedStateEdge(targetState, replace, weight);
    init(edge);
    this.r6j_1.b(edge);
    {
      var tmp0_sortBy = this.r6j_1;
      if (tmp0_sortBy.m() > 1) {
        var tmp$ret$0;
        {
          var tmp = StackedState$edge$lambda();
          tmp$ret$0 = new sam$kotlin_Comparator$0_0(tmp);
        }
        sortWith(tmp0_sortBy, tmp$ret$0);
      }
    }
  };
  StackedState.prototype.u6j = function (targetState, replace, weight, init, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      replace = true;
    if (!(($mask0 & 4) === 0))
      weight = 0;
    return this.n6s(targetState, replace, weight, init);
  };
  StackedState.prototype.o6s = function (event) {
    var tmp$ret$1;
    $l$block: {
      var tmp0_firstOrNull = this.r6j_1;
      var tmp0_iterator = tmp0_firstOrNull.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$0;
        {
          tmp$ret$0 = element.g7f(event);
        }
        if (tmp$ret$0) {
          tmp$ret$1 = element;
          break $l$block;
        }
      }
      tmp$ret$1 = null;
    }
    return tmp$ret$1;
  };
  StackedState.prototype.p6s = function (previous) {
    var tmp0_forEach = this.o6j_1;
    var tmp0_iterator = tmp0_forEach.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      {
        element(this);
      }
    }
    return Unit_getInstance();
  };
  StackedState.prototype.q6s = function () {
    var tmp0_forEach = reversed(this.p6j_1);
    var tmp0_iterator = tmp0_forEach.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      {
        element(this);
      }
    }
    return Unit_getInstance();
  };
  StackedState.prototype.r6s = function (event) {
    var tmp$ret$1;
    $l$block: {
      var tmp0_firstNotNullOfOrNull = this.q6j_1;
      var tmp0_iterator = tmp0_firstNotNullOfOrNull.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$0;
        {
          tmp$ret$0 = element(event);
        }
        var result = tmp$ret$0;
        if (!(result == null)) {
          tmp$ret$1 = result;
          break $l$block;
        }
      }
      tmp$ret$1 = null;
    }
    return tmp$ret$1;
  };
  StackedState.$metadata$ = classMeta('StackedState');
  function StackedStateMachine$update$lambda(this$0) {
    return function (it) {
      return this$0.a6x(it);
    };
  }
  function StackedStateMachine(initialState) {
    this.z6i_1 = initialState;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.a6j_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_0.b6j_1 = tmp$ret$1;
    var tmp_1 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = LinkedHashMap_init_$Create$();
    }
    tmp_1.c6j_1 = tmp$ret$2;
  }
  StackedStateMachine.prototype.y6v = function () {
    return ensureNotNull(current(this.a6j_1));
  };
  StackedStateMachine.prototype.c6x = function () {
    return ensureNotNull(this.c6j_1.z2(ensureNotNull(current(this.a6j_1))));
  };
  StackedStateMachine.prototype.e6u = function (state) {
    {
      var tmp0_set = this.c6j_1;
      var tmp1_set = state.n6j_1;
      tmp0_set.a(tmp1_set, state);
    }
  };
  StackedStateMachine.prototype.v6j = function (name, init) {
    var state = new StackedState(name);
    init(state);
    this.e6u(state);
  };
  StackedStateMachine.prototype.a6x = function (name) {
    var tmp0_elvis_lhs = this.c6j_1.z2(name);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      throw NoSuchElementException_init_$Create$(toString_0(name));
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  };
  StackedStateMachine.prototype.i7f = function (event, safe) {
    if (this.j7f())
      return Unit_getInstance();
    var edge = this.c6x().o6s(event);
    var tmp;
    if (edge instanceof StackedStateEdge) {
      tmp = !equals(edge.h6q_1, this.y6v());
    } else {
      tmp = false;
    }
    if (tmp) {
      if (safe ? !this.c6j_1.a3().p(edge.h6q_1) : false) {
        println('finish by unknown edge: ' + edge.h6q_1);
        this.k7f();
        return Unit_getInstance();
      }
      var tmp_0 = edge;
      var newState = tmp_0.f7f(StackedStateMachine$update$lambda(this));
      this.l7f(newState, edge.i6q_1);
    }
    var tmp0_safe_receiver = this.c6x().r6s(event);
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$2;
      {
        {
        }
        var tmp$ret$1;
        {
          var tmp0_safe_receiver_0 = (tmp0_safe_receiver == null ? true : isObject(tmp0_safe_receiver)) ? tmp0_safe_receiver : null;
          var tmp_1;
          if (tmp0_safe_receiver_0 == null) {
            tmp_1 = null;
          } else {
            var tmp$ret$0;
            {
              {
              }
              var tmp_2;
              if (!equals(tmp0_safe_receiver_0, Unit_getInstance()) ? !equals(tmp0_safe_receiver_0, this.y6v()) : false) {
                tmp_2 = this.l7f(this.a6x(tmp0_safe_receiver_0), true);
              }
              tmp$ret$0 = tmp_2;
            }
            tmp_1 = Unit_getInstance();
          }
          tmp$ret$1 = tmp_1;
        }
        tmp$ret$2 = tmp$ret$1;
      }
    }
  };
  StackedStateMachine.prototype.t6u = function (event, safe, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      safe = false;
    return this.i7f(event, safe);
  };
  StackedStateMachine.prototype.f6w = function (stateName) {
    this.l7f(this.a6x(stateName), true);
  };
  StackedStateMachine.prototype.l7f = function (newState, replace) {
    var tmp;
    if (replace) {
      var tmp0_safe_receiver = pop(this.a6j_1);
      var tmp_0;
      if (tmp0_safe_receiver == null) {
        tmp_0 = null;
      } else {
        var tmp$ret$1;
        {
          {
          }
          var tmp$ret$0;
          {
            this.a6x(tmp0_safe_receiver).q6s();
            tmp$ret$0 = tmp0_safe_receiver;
          }
          tmp$ret$1 = tmp$ret$0;
        }
        tmp_0 = tmp$ret$1;
      }
      tmp = tmp_0;
    } else {
      var tmp1_safe_receiver = current(this.a6j_1);
      var tmp_1;
      if (tmp1_safe_receiver == null) {
        tmp_1 = null;
      } else {
        var tmp$ret$3;
        {
          {
          }
          var tmp$ret$2;
          {
            this.a6x(tmp1_safe_receiver).l6s();
            tmp$ret$2 = tmp1_safe_receiver;
          }
          tmp$ret$3 = tmp$ret$2;
        }
        tmp_1 = tmp$ret$3;
      }
      tmp = tmp_1;
    }
    var tmp2_elvis_lhs = tmp;
    var prev = tmp2_elvis_lhs == null ? this.z6i_1 : tmp2_elvis_lhs;
    push(this.a6j_1, newState.n6j_1);
    newState.p6s(prev);
    {
      var tmp0_forEach = this.b6j_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          element(newState);
        }
      }
    }
  };
  StackedStateMachine.prototype.m7f = function (newState, replace, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      replace = false;
    return this.l7f(newState, replace);
  };
  StackedStateMachine.prototype.k7f = function () {
    $l$loop: while (true) {
      var tmp$ret$0;
      {
        var tmp0_isNotEmpty = this.a6j_1;
        tmp$ret$0 = !tmp0_isNotEmpty.q();
      }
      if (!tmp$ret$0) {
        break $l$loop;
      }
      var tmp$ret$3;
      {
        var tmp0_safe_receiver = pop(this.a6j_1);
        var tmp;
        if (tmp0_safe_receiver == null) {
          tmp = null;
        } else {
          var tmp$ret$2;
          {
            {
            }
            var tmp$ret$1;
            {
              tmp$ret$1 = this.a6x(tmp0_safe_receiver);
            }
            tmp$ret$2 = tmp$ret$1;
          }
          tmp = tmp$ret$2;
        }
        var tmp1_also = tmp;
        {
        }
        {
          var tmp0_safe_receiver_0 = tmp1_also;
          if (tmp0_safe_receiver_0 == null)
            null;
          else {
            tmp0_safe_receiver_0.q6s();
          }
        }
        tmp$ret$3 = tmp1_also;
      }
    }
  };
  StackedStateMachine.prototype.j7f = function () {
    return this.a6j_1.q();
  };
  StackedStateMachine.prototype.d6j = function () {
    var tmp$ret$2;
    {
      var tmp0_safe_receiver = pop(this.a6j_1);
      var tmp;
      if (tmp0_safe_receiver == null) {
        tmp = null;
      } else {
        var tmp$ret$1;
        {
          {
          }
          var tmp$ret$0;
          {
            tmp$ret$0 = this.a6x(tmp0_safe_receiver);
          }
          tmp$ret$1 = tmp$ret$0;
        }
        tmp = tmp$ret$1;
      }
      var tmp0_also = tmp;
      {
      }
      {
        var tmp0_safe_receiver_0 = tmp0_also;
        if (tmp0_safe_receiver_0 == null)
          null;
        else {
          tmp0_safe_receiver_0.q6s();
        }
      }
      tmp$ret$2 = tmp0_also;
    }
    var old = tmp$ret$2;
    if (this.a6j_1.q()) {
      this.a6j_1.b(this.z6i_1);
    }
    var tmp_0 = this.c6x();
    var tmp1_safe_receiver = old;
    var tmp2_elvis_lhs = tmp1_safe_receiver == null ? null : tmp1_safe_receiver.n6j_1;
    tmp_0.m6s(tmp2_elvis_lhs == null ? this.z6i_1 : tmp2_elvis_lhs);
    var tmp3_safe_receiver = old;
    if (!equals(tmp3_safe_receiver == null ? null : tmp3_safe_receiver.n6j_1, this.y6v())) {
      var tmp1_forEach = this.b6j_1;
      var tmp0_iterator = tmp1_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          element(ensureNotNull(this.c6x()));
        }
      }
    }
    return this.y6v();
  };
  StackedStateMachine.prototype.d6w = function (force) {
    if (force) {
      this.a6j_1.t7();
      this.a6j_1.b(this.z6i_1);
      {
        var tmp0_forEach = this.b6j_1;
        var tmp0_iterator = tmp0_forEach.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          {
            element(this.c6x());
          }
        }
      }
    } else {
      this.a6j_1.t7();
      var tmp = this.a6x(this.z6i_1);
      this.m7f(tmp, false, 2, null);
    }
  };
  StackedStateMachine.prototype.w6u = function (force, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      force = true;
    return this.d6w(force);
  };
  StackedStateMachine.$metadata$ = classMeta('StackedStateMachine');
  function buildStateMachine(initialState, init) {
    var machine = new StackedStateMachine(initialState);
    init(machine);
    return machine;
  }
  function get_b(_this__u8e3s4) {
    return toByte(_this__u8e3s4);
  }
  function EnumDelegate(settings, key, defaultValue, convert) {
    this.l6i_1 = settings;
    this.m6i_1 = key;
    this.n6i_1 = defaultValue;
    this.o6i_1 = convert;
  }
  EnumDelegate.prototype.j2r = function (thisRef, property) {
    var tmp0_elvis_lhs = this.m6i_1;
    var lookupKey = tmp0_elvis_lhs == null ? property.callableName : tmp0_elvis_lhs;
    var tmp;
    var tmp$ret$0;
    {
      var tmp0_contains = this.l6i_1;
      tmp$ret$0 = tmp0_contains.n5x(lookupKey);
    }
    if (tmp$ret$0) {
      tmp = this.o6i_1(this.l6i_1.q5x(lookupKey, null, 2, null));
    } else {
      tmp = this.n6i_1;
    }
    return tmp;
  };
  EnumDelegate.prototype.r8 = function (thisRef, property) {
    return this.j2r((thisRef == null ? true : isObject(thisRef)) ? thisRef : THROW_CCE(), property);
  };
  EnumDelegate.prototype.p6i = function (thisRef, property, value) {
    var tmp0_elvis_lhs = this.m6i_1;
    var lookupKey = tmp0_elvis_lhs == null ? property.callableName : tmp0_elvis_lhs;
    this.l6i_1.o5x(lookupKey, value.u1_1);
  };
  EnumDelegate.prototype.s8 = function (thisRef, property, value) {
    var tmp = (thisRef == null ? true : isObject(thisRef)) ? thisRef : THROW_CCE();
    return this.p6i(tmp, property, value instanceof Enum ? value : THROW_CCE());
  };
  EnumDelegate.$metadata$ = classMeta('EnumDelegate', [ReadWriteProperty]);
  function choice(_this__u8e3s4, choices) {
    var total = sum(choices);
    var r = _this__u8e3s4.s(total);
    var choice = 0;
    while (r > 0) {
      r = r - choices.r(choice) | 0;
      if (r <= 0)
        return choice;
      var tmp0 = choice;
      choice = tmp0 + 1 | 0;
    }
    return choice;
  }
  function component1(_this__u8e3s4) {
    return _this__u8e3s4.z1z();
  }
  function component2(_this__u8e3s4) {
    return _this__u8e3s4.b20();
  }
  function get_nearestTwo(_this__u8e3s4) {
    var x = _this__u8e3s4;
    x = x - 1 | 0;
    x = x | x >> 1;
    x = x | x >> 2;
    x = x | x >> 4;
    x = x | x >> 8;
    x = x | x >> 16;
    return x + 1 | 0;
  }
  function plus_0(_this__u8e3s4, o) {
    return new Vec2i(_this__u8e3s4.z1z() + o.z1z() | 0, _this__u8e3s4.b20() + o.b20() | 0);
  }
  function ActorView$lambda(this$0) {
    return function (it) {
      var tmp0_safe_receiver = this$0.t7g_1.z5e();
      if (tmp0_safe_receiver == null)
        null;
      else {
        var tmp$ret$0;
        {
          {
          }
          this$0.w2s(this$0.u7g_1.b6m_1.e3o_1);
          var tmp0_elvis_lhs = this$0.v7g_1.a6a_1.z2(this$0.t7g_1.e6p_1.r6o_1);
          var tmp;
          if (tmp0_elvis_lhs == null) {
            throw NullPointerException_init_$Create$(this$0.t7g_1.e6p_1.r6o_1);
          } else {
            tmp = tmp0_elvis_lhs;
          }
          var sequence = tmp;
          if (this$0.t7g_1.g6p_1 === 0)
            this$0.t7g_1.g6p_1 = sequence.m();
          this$0.x7g().q2f(this$0.u7g_1.j6m(sequence.r(this$0.t7g_1.f6p_1 % sequence.m() | 0)));
          this$0.h2d();
          this$0.e2a(this$0.t7g_1.z1z() - tmp0_safe_receiver.r6p_1 / 2.0 + 0.5, (tmp0_safe_receiver.s6p_1 - this$0.t7g_1.b20() | 0) - 0.5, 0.0);
          this$0.e2a(this$0.t7g_1.r6q() / this$0.w7g_1.z1z(), -this$0.t7g_1.o6t() / this$0.w7g_1.b20(), 0.0);
          tmp$ret$0 = Unit_getInstance();
        }
      }
      return Unit_getInstance();
    };
  }
  function ActorView(actor, atlas, animations, tileSize) {
    var tmp = atlas.b6m_1.e3o_1;
    Sprite_init_$Init$(tileSize, tmp, tileSize, null, false, 24, null, this);
    this.t7g_1 = actor;
    this.u7g_1 = atlas;
    this.v7g_1 = animations;
    this.w7g_1 = tileSize;
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.o49();
      tmp0_plusAssign.b(ActorView$lambda(this));
    }
  }
  ActorView.$metadata$ = classMeta('ActorView', undefined, undefined, undefined, undefined, Sprite.prototype);
  function minus_1(_this__u8e3s4, position) {
    return new Vec3f(_this__u8e3s4.z1z() - position.z1z(), _this__u8e3s4.b20() - position.b20(), _this__u8e3s4.s2d() - position.s2d());
  }
  function InterpolatedVec3f(from, to) {
    InterpolatedValue.call(this, from);
    this.g7h_1 = from;
    this.h7h_1 = to;
  }
  InterpolatedVec3f.prototype.e59 = function (interpolationPos) {
    var x = new InterpolatedFloat(this.g7h_1.z1z(), this.h7h_1.z1z());
    var y = new InterpolatedFloat(this.g7h_1.b20(), this.h7h_1.b20());
    var z = new InterpolatedFloat(this.g7h_1.s2d(), this.h7h_1.s2d());
    x.h59(interpolationPos);
    y.h59(interpolationPos);
    z.h59(interpolationPos);
    this.g7h_1.t2d(x.l2(), y.l2(), z.l2());
  };
  InterpolatedVec3f.$metadata$ = classMeta('InterpolatedVec3f', undefined, undefined, undefined, undefined, InterpolatedValue.prototype);
  function CameraController_init_$Init$(cameraToControl, name, ctx, $mask0, $marker, $this) {
    if (!(($mask0 & 2) === 0))
      name = 'camcontrol';
    CameraController.call($this, cameraToControl, name, ctx);
    return $this;
  }
  function CameraController_init_$Create$(cameraToControl, name, ctx, $mask0, $marker) {
    return CameraController_init_$Init$(cameraToControl, name, ctx, $mask0, $marker, Object.create(CameraController.prototype));
  }
  function calculateCamera($this, boundNode, followNode) {
    var tmp$ret$2;
    {
      var tmp0_with = $this.f7a_1;
      {
      }
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          var tmp0_apply = new BoundingBox();
          {
          }
          {
            tmp0_apply.q2h(new Vec3f(-get_width(tmp0_with) / 4, -get_height(tmp0_with) / 4, 0.0));
            tmp0_apply.q2h(new Vec3f(get_width(tmp0_with) / 4, get_height(tmp0_with) / 4, 0.0));
          }
          tmp$ret$0 = tmp0_apply;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    var deadZone = tmp$ret$2;
    var tmp$ret$5;
    {
      var tmp1_with = $this.f7a_1;
      {
      }
      var tmp$ret$4;
      {
        var scaledMin = MutableVec3f_init_$Create$(boundNode.r4g().l2j_1);
        var scaledMax = MutableVec3f_init_$Create$(boundNode.r4g().m2j_1);
        boundNode.m4j_1.u2d(scaledMin, 0.0, 2, null);
        boundNode.m4j_1.u2d(scaledMax, 0.0, 2, null);
        var tmp$ret$3;
        {
          var tmp0_apply_0 = new BoundingBox();
          {
          }
          {
            tmp0_apply_0.q2h(new Vec3f(scaledMin.z1z() + get_width(tmp1_with) / 2.0, 0.0, 0.0));
            tmp0_apply_0.q2h(new Vec3f(scaledMax.z1z() - get_width(tmp1_with) / 2.0, scaledMax.b20() - get_height(tmp1_with), 0.0));
          }
          tmp$ret$3 = tmp0_apply_0;
        }
        tmp$ret$4 = tmp$ret$3;
      }
      tmp$ret$5 = tmp$ret$4;
    }
    var borderZone = tmp$ret$5;
    return CameraController$calculateCamera$lambda(followNode, $this, deadZone, borderZone);
  }
  function cameraCalculator($this, game, boundNode, followNode) {
    var calculator = calculateCamera($this, boundNode, followNode);
    return CameraController$cameraCalculator$lambda(game, calculator, $this);
  }
  function CameraController$calculateCamera$lambda($followNode, this$0, $deadZone, $borderZone) {
    return function () {
      var resultPos = MutableVec3f_init_$Create$($followNode.v4g());
      var tmp$ret$1;
      {
        var tmp0_with = this$0.f7a_1;
        {
        }
        var tmp$ret$0;
        {
          resultPos.s2h(new Vec3f(0.0, get_height(tmp0_with) / 2.0, 0.0));
          var diff = minus_1(resultPos, tmp0_with.v54());
          if (diff.z1z() > $deadZone.m2j_1.z1z()) {
            resultPos.t2f(tmp0_with.q54().z1z() + diff.z1z() - $deadZone.m2j_1.z1z());
          } else if (diff.z1z() < $deadZone.l2j_1.z1z()) {
            resultPos.t2f(tmp0_with.q54().z1z() - ($deadZone.l2j_1.z1z() - diff.z1z()));
          } else {
            resultPos.t2f(tmp0_with.q54().z1z());
          }
          if (diff.b20() > $deadZone.m2j_1.b20()) {
            resultPos.u2f(tmp0_with.q54().b20() + diff.b20() - $deadZone.m2j_1.b20());
          } else if (diff.b20() < $deadZone.l2j_1.b20()) {
            resultPos.u2f(tmp0_with.q54().b20() - ($deadZone.l2j_1.b20() - diff.b20()));
          } else {
            resultPos.u2f(tmp0_with.q54().b20());
          }
          $borderZone.v2j(resultPos);
          tmp$ret$0 = resultPos;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      return tmp$ret$1;
    };
  }
  function CameraController$cameraUpdater$lambda(this$0) {
    return function (_anonymous_parameter_0__qggqh8, _anonymous_parameter_1__qggqgd) {
      var tmp$ret$1;
      {
        var tmp0_with = this$0.f7a_1;
        {
        }
        var tmp$ret$0;
        {
          tmp0_with.qr().n2h(this$0.i7a_1.x58(this$0.g7a_1));
          tmp$ret$0 = tmp0_with.u54().t2d(tmp0_with.qr().z1z(), tmp0_with.qr().b20(), 0.0);
        }
        tmp$ret$1 = tmp$ret$0;
      }
      return Unit_getInstance();
    };
  }
  function CameraController$cameraCalculator$lambda($game, $calculator, this$0) {
    return function (ev) {
      var tmp;
      if ($game.x6v()) {
        var pos = $calculator();
        this$0.h7a_1.h7h_1.t2d(pos.z1z(), pos.b20(), 10.0);
        this$0.h7a_1.g7h_1.n2h(this$0.h7a_1.l2());
        this$0.i7a_1.t58(1.0);
        tmp = this$0.i7a_1.v58(0.0);
      }
      return Unit_getInstance();
    };
  }
  function CameraController(cameraToControl, name, ctx) {
    Node.call(this, name);
    this.f7a_1 = cameraToControl;
    this.g7a_1 = ctx;
    this.h7a_1 = new InterpolatedVec3f(MutableVec3f_init_$Create$(this.f7a_1.qr()), MutableVec3f_init_$Create$(this.f7a_1.qr()));
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_apply = new InverseSquareAnimator(this.h7a_1);
      {
      }
      {
        tmp0_apply.s58(1.0 / 4.0);
        tmp0_apply.m59(Companion_getInstance_6().i59_1);
        tmp0_apply.v58(0.0);
        tmp0_apply.t58(1.0);
      }
      tmp$ret$0 = tmp0_apply;
    }
    tmp.i7a_1 = tmp$ret$0;
    this.j7a_1 = null;
    var tmp_0 = this;
    tmp_0.k7a_1 = CameraController$cameraUpdater$lambda(this);
  }
  CameraController.prototype.z5r = function () {
    return this.g7a_1;
  };
  CameraController.prototype.l7a = function (game, boundNode, followNode) {
    this.j7a_1 = cameraCalculator(this, game, boundNode, followNode);
    var tmp0_safe_receiver = this.j7a_1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        var tmp0_this = this;
        var tmp0_plusAssign = tmp0_this.o49();
        tmp0_plusAssign.b(tmp0_safe_receiver);
        tmp$ret$0 = Unit_getInstance();
      }
    }
    var tmp1_this = game;
    {
      var tmp0_plusAssign_0 = tmp1_this.o6e_1;
      var tmp1_plusAssign = this.k7a_1;
      tmp0_plusAssign_0.b(tmp1_plusAssign);
    }
  };
  CameraController.prototype.m7a = function (game) {
    var tmp0_safe_receiver = this.j7a_1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        var tmp0_this = this;
        var tmp0_minusAssign = tmp0_this.o49();
        tmp0_minusAssign.c4(tmp0_safe_receiver);
        tmp$ret$0 = Unit_getInstance();
      }
    }
    var tmp1_this = game;
    {
      var tmp0_minusAssign_0 = tmp1_this.o6e_1;
      var tmp1_minusAssign = this.k7a_1;
      tmp0_minusAssign_0.c4(tmp1_minusAssign);
    }
  };
  CameraController.$metadata$ = classMeta('CameraController', undefined, undefined, undefined, undefined, Node.prototype);
  function GameControls$lambda($element) {
    return function (ev) {
      return ev.g23() ? ($element.k7h_1.e6k_1 ^ ev.c23_1) === 0 : false;
    };
  }
  function GameControls$lambda_0($element, this$0) {
    return function (ev) {
      if (ev.h23())
        $element.m7h_1(this$0.c7i_1, ev);
      else if (ev.g23())
        $element.l7h_1(this$0.c7i_1, ev);
      return Unit_getInstance();
    };
  }
  function GameControls(game, inputManager) {
    Node_init_$Init$(null, 1, null, this);
    this.c7i_1 = game;
    this.d7i_1 = inputManager;
    {
      var tmp0_forEach = values_4();
      var indexedObject = tmp0_forEach;
      var inductionVariable = 0;
      var last = indexedObject.length;
      while (inductionVariable < last) {
        var element = indexedObject[inductionVariable];
        inductionVariable = inductionVariable + 1 | 0;
        {
          var tmp = element.il();
          var tmp_0 = GameControls$lambda(element);
          this.d7i_1.p27(element.k7h_1.d6k_1, tmp, tmp_0, GameControls$lambda_0(element, this));
        }
      }
    }
  }
  GameControls.prototype.f6u = function () {
    return this.c7i_1;
  };
  GameControls.prototype.e7i = function () {
    return this.d7i_1;
  };
  GameControls.$metadata$ = classMeta('GameControls', undefined, undefined, undefined, undefined, Node.prototype);
  function GameAction_init_$Init$(name, ordinal, keyCode, onPress, onRelease, $mask0, $marker, $this) {
    if (!(($mask0 & 8) === 0)) {
      onPress = GameAction$_init_$lambda_ma369v();
    }
    if (!(($mask0 & 16) === 0)) {
      onRelease = GameAction$_init_$lambda_ma369v_0();
    }
    GameAction.call($this, name, ordinal, keyCode, onPress, onRelease);
    return $this;
  }
  function GameAction_init_$Create$(name, ordinal, keyCode, onPress, onRelease, $mask0, $marker) {
    return GameAction_init_$Init$(name, ordinal, keyCode, onPress, onRelease, $mask0, $marker, Object.create(GameAction.prototype));
  }
  var GameAction_BACK_instance;
  var GameAction_RESPAWN_instance;
  var GameAction_FINISH_instance;
  var GameAction_ANIMS_instance;
  var GameAction_PREV_instance;
  var GameAction_NEXT_instance;
  function values_4() {
    return [GameAction_BACK_getInstance(), GameAction_RESPAWN_getInstance(), GameAction_FINISH_getInstance(), GameAction_ANIMS_getInstance(), GameAction_PREV_getInstance(), GameAction_NEXT_getInstance()];
  }
  function GameAction$_init_$lambda_ma369v() {
    return function ($this$null, it) {
      return Unit_getInstance();
    };
  }
  function GameAction$_init_$lambda_ma369v_0() {
    return function ($this$null, it) {
      return Unit_getInstance();
    };
  }
  function GameAction$lambda() {
    return function ($this$null, it) {
      return Unit_getInstance();
    };
  }
  function GameAction$lambda_0() {
    return function ($this$null, it) {
      $this$null.e6w();
      return Unit_getInstance();
    };
  }
  function GameAction$lambda_1() {
    return function ($this$null, it) {
      $this$null.g6w();
      return Unit_getInstance();
    };
  }
  function GameAction$lambda_2() {
    return function ($this$null, it) {
      $this$null.g6e_1.m1e(!$this$null.g6e_1.e3o_1);
      return Unit_getInstance();
    };
  }
  function GameAction$lambda_3() {
    return function ($this$null, it) {
      $this$null.h6w();
      return Unit_getInstance();
    };
  }
  function GameAction$lambda_4() {
    return function ($this$null, it) {
      $this$null.i6w();
      return Unit_getInstance();
    };
  }
  var GameAction_entriesInitialized;
  function GameAction_initEntries() {
    if (GameAction_entriesInitialized)
      return Unit_getInstance();
    GameAction_entriesInitialized = true;
    var tmp = toInputSpec(Companion_getInstance().h26_1, new Int32Array([]));
    GameAction_BACK_instance = GameAction_init_$Create$('BACK', 0, tmp, null, GameAction$lambda(), 8, null);
    var tmp_0 = _Char___init__impl__6a9atx(97);
    Companion_getInstance();
    var tmp_1 = toInputSpec_0(tmp_0, new Int32Array([2]));
    var tmp_2 = GameAction$lambda_0();
    GameAction_RESPAWN_instance = GameAction_init_$Create$('RESPAWN', 1, tmp_1, tmp_2, null, 16, null);
    var tmp_3 = _Char___init__impl__6a9atx(115);
    Companion_getInstance();
    var tmp_4 = toInputSpec_0(tmp_3, new Int32Array([2]));
    var tmp_5 = GameAction$lambda_1();
    GameAction_FINISH_instance = GameAction_init_$Create$('FINISH', 2, tmp_4, tmp_5, null, 16, null);
    var tmp_6 = _Char___init__impl__6a9atx(110);
    Companion_getInstance();
    var tmp_7 = toInputSpec_0(tmp_6, new Int32Array([2]));
    var tmp_8 = GameAction$lambda_2();
    GameAction_ANIMS_instance = GameAction_init_$Create$('ANIMS', 3, tmp_7, tmp_8, null, 16, null);
    var tmp_9 = _Char___init__impl__6a9atx(44);
    Companion_getInstance();
    var tmp_10 = toInputSpec_0(tmp_9, new Int32Array([2]));
    var tmp_11 = GameAction$lambda_3();
    GameAction_PREV_instance = GameAction_init_$Create$('PREV', 4, tmp_10, tmp_11, null, 16, null);
    var tmp_12 = _Char___init__impl__6a9atx(46);
    Companion_getInstance();
    var tmp_13 = toInputSpec_0(tmp_12, new Int32Array([2]));
    var tmp_14 = GameAction$lambda_4();
    GameAction_NEXT_instance = GameAction_init_$Create$('NEXT', 5, tmp_13, tmp_14, null, 16, null);
  }
  function GameAction(name, ordinal, keyCode, onPress, onRelease) {
    Enum.call(this, name, ordinal);
    this.k7h_1 = keyCode;
    this.l7h_1 = onPress;
    this.m7h_1 = onRelease;
  }
  GameAction.prototype.k6j = function () {
    return this.k7h_1;
  };
  GameAction.prototype.l6j = function () {
    return this.l7h_1;
  };
  GameAction.prototype.m6j = function () {
    return this.m7h_1;
  };
  GameAction.$metadata$ = classMeta('GameAction', undefined, undefined, undefined, undefined, Enum.prototype);
  function GameAction_BACK_getInstance() {
    GameAction_initEntries();
    return GameAction_BACK_instance;
  }
  function GameAction_RESPAWN_getInstance() {
    GameAction_initEntries();
    return GameAction_RESPAWN_instance;
  }
  function GameAction_FINISH_getInstance() {
    GameAction_initEntries();
    return GameAction_FINISH_instance;
  }
  function GameAction_ANIMS_getInstance() {
    GameAction_initEntries();
    return GameAction_ANIMS_instance;
  }
  function GameAction_PREV_getInstance() {
    GameAction_initEntries();
    return GameAction_PREV_instance;
  }
  function GameAction_NEXT_getInstance() {
    GameAction_initEntries();
    return GameAction_NEXT_instance;
  }
  function LevelView$runnerView$delegate$lambda($game, $runnerAtlas, $runnerAnims, $conf) {
    return function () {
      return new ActorView($game.c6e_1, $runnerAtlas, $runnerAnims, $conf.h6a_1);
    };
  }
  function LevelView$lambda($level) {
    return function ($this$generate) {
      var props = new RectProps();
      {
        props.q4n_1.x2f($level.r6p_1, $level.s6p_1);
        props.p4n_1.t2d(-props.y3u() / 2.0, 0.0, 0.0);
      }
      $this$generate.w4n(props);
      return Unit_getInstance();
    };
  }
  function LevelView$lambda_0(this$0, $level, $tilesAtlas, $holesAtlas) {
    return function (it) {
      this$0.e75_1.d7f(it.g4w());
      var tmp;
      if ($level.c6q_1) {
        var tmp$ret$0;
        {
          var tmp0_with = this$0.e75_1;
          {
          }
          var tmp_0 = get_simpleValueTextureProps();
          var tmp_1 = $level.t6y();
          tmp0_with.a7f(Texture2d_init_$Create$_0(tmp_0, tmp_1, null, 4, null));
          tmp0_with.b7f(new Vec2f($level.r6p_1, $level.s6p_1));
          tmp0_with.u7e($tilesAtlas.b6m_1.e3o_1);
          tmp0_with.w7e($holesAtlas.b6m_1.e3o_1);
          var tmp0_forEachIndexed = $tilesAtlas.g6m();
          var index = 0;
          var indexedObject = tmp0_forEachIndexed;
          var inductionVariable = 0;
          var last = indexedObject.length;
          while (inductionVariable < last) {
            var item = indexedObject[inductionVariable];
            inductionVariable = inductionVariable + 1 | 0;
            {
              var tmp1 = index;
              index = tmp1 + 1 | 0;
              var tmp1__anonymous__uwfjfc = tmp1;
              tmp0_with.z7e()[tmp1__anonymous__uwfjfc] = new MutableVec2f(item.z1z(), item.b20());
            }
          }
          tmp$ret$0 = Unit_getInstance();
        }
        $level.c6q_1 = false;
        tmp = Unit_getInstance();
      }
      return Unit_getInstance();
    };
  }
  function LevelView(game, level, conf, tilesAtlas, holesAtlas, runnerAtlas, runnerAnims, guardAtlas, guardAnims) {
    Group_init_$Init$(null, 1, null, this);
    this.e75_1 = new TileMapShader(new TileMapShaderConf(tilesAtlas.g6m().length));
    var tmp = this;
    tmp.f75_1 = lazy(LevelView$runnerView$delegate$lambda(game, runnerAtlas, runnerAnims, conf));
    this.g75_1 = imul(conf.h6a_1.z1z(), level.r6p_1);
    this.h75_1 = imul(conf.h6a_1.b20(), level.s6p_1);
    this.p2e(conf.h6a_1.z1z(), conf.h6a_1.b20(), 1.0);
    this.e2a(0.0, 1.0, 0.0);
    var tmp$ret$1;
    {
      var tmp0_mesh = listOf([Companion_getInstance_5().z2v_1, Companion_getInstance_5().c2w_1]);
      var mesh = new Mesh(new IndexedVertexList(tmp0_mesh), null);
      {
        mesh.l4g(LevelView$lambda(level));
        var tmp$ret$0;
        {
          var tmp0_apply = this.e75_1;
          {
          }
          {
            tmp0_apply.y7e(conf.h6a_1);
          }
          tmp$ret$0 = tmp0_apply;
        }
        mesh.m4g(tmp$ret$0);
        var tmp0_this = mesh;
        {
          var tmp1_plusAssign = tmp0_this.o49();
          tmp1_plusAssign.b(LevelView$lambda_0(this, level, tilesAtlas, holesAtlas));
        }
      }
      tmp$ret$1 = mesh;
    }
    this.v4j(tmp$ret$1);
    this.v4j(this.i75());
    {
      var tmp1_forEach = game.d6e_1;
      var tmp0_iterator = tmp1_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          this.v4j(new ActorView(element, guardAtlas, guardAnims, conf.h6a_1));
        }
      }
    }
  }
  LevelView.prototype.i75 = function () {
    var tmp$ret$0;
    {
      var tmp0_getValue = runnerView$factory();
      tmp$ret$0 = this.f75_1.l2();
    }
    return tmp$ret$0;
  };
  LevelView.$metadata$ = classMeta('LevelView', undefined, undefined, undefined, undefined, Group.prototype);
  function runnerView$factory() {
    return getPropertyCallableRef('runnerView', 1, KProperty1, function (receiver) {
      return receiver.i75();
    }, null);
  }
  var RunnerAction_RIGHT_instance;
  var RunnerAction_LEFT_instance;
  var RunnerAction_UP_instance;
  var RunnerAction_DOWN_instance;
  var RunnerAction_STOP_instance;
  var RunnerAction_DIG_LEFT_instance;
  var RunnerAction_DIG_RIGHT_instance;
  function values_5() {
    return [RunnerAction_RIGHT_getInstance(), RunnerAction_LEFT_getInstance(), RunnerAction_UP_getInstance(), RunnerAction_DOWN_getInstance(), RunnerAction_STOP_getInstance(), RunnerAction_DIG_LEFT_getInstance(), RunnerAction_DIG_RIGHT_getInstance()];
  }
  function RunnerAction$lambda() {
    return function ($this$null, it) {
      $this$null.v7i_1.s6o().n2f(1);
      return Unit_getInstance();
    };
  }
  function RunnerAction$lambda_0() {
    return function ($this$null, it) {
      $this$null.v7i_1.s6o().n2f(0);
      return Unit_getInstance();
    };
  }
  function RunnerAction$lambda_1() {
    return function ($this$null, it) {
      $this$null.v7i_1.s6o().n2f(-1);
      return Unit_getInstance();
    };
  }
  function RunnerAction$lambda_2() {
    return function ($this$null, it) {
      $this$null.v7i_1.s6o().n2f(0);
      return Unit_getInstance();
    };
  }
  function RunnerAction$lambda_3() {
    return function ($this$null, it) {
      $this$null.v7i_1.s6o().o2f(-1);
      return Unit_getInstance();
    };
  }
  function RunnerAction$lambda_4() {
    return function ($this$null, it) {
      $this$null.v7i_1.s6o().o2f(0);
      return Unit_getInstance();
    };
  }
  function RunnerAction$lambda_5() {
    return function ($this$null, it) {
      $this$null.v7i_1.s6o().o2f(1);
      return Unit_getInstance();
    };
  }
  function RunnerAction$lambda_6() {
    return function ($this$null, it) {
      $this$null.v7i_1.s6o().o2f(0);
      return Unit_getInstance();
    };
  }
  function RunnerAction$lambda_7() {
    return function ($this$null, it) {
      var tmp$ret$0;
      {
        var tmp0_with = $this$null.v7i_1.s6o();
        {
        }
        tmp0_with.n2f(0);
        tmp$ret$0 = tmp0_with.o2f(0);
      }
      return Unit_getInstance();
    };
  }
  function RunnerAction$lambda_8() {
    return function ($this$null, it) {
      return Unit_getInstance();
    };
  }
  function RunnerAction$lambda_9() {
    return function ($this$null, it) {
      $this$null.v7i_1.t6o(true);
      return Unit_getInstance();
    };
  }
  function RunnerAction$lambda_10() {
    return function ($this$null, it) {
      $this$null.v7i_1.t6o(false);
      return Unit_getInstance();
    };
  }
  function RunnerAction$lambda_11() {
    return function ($this$null, it) {
      $this$null.v7i_1.v6o(true);
      return Unit_getInstance();
    };
  }
  function RunnerAction$lambda_12() {
    return function ($this$null, it) {
      $this$null.v7i_1.v6o(false);
      return Unit_getInstance();
    };
  }
  var RunnerAction_entriesInitialized;
  function RunnerAction_initEntries() {
    if (RunnerAction_entriesInitialized)
      return Unit_getInstance();
    RunnerAction_entriesInitialized = true;
    var tmp = Companion_getInstance().q26_1;
    var tmp_0 = RunnerAction$lambda();
    RunnerAction_RIGHT_instance = new RunnerAction('RIGHT', 0, tmp, tmp_0, RunnerAction$lambda_0());
    var tmp_1 = Companion_getInstance().p26_1;
    var tmp_2 = RunnerAction$lambda_1();
    RunnerAction_LEFT_instance = new RunnerAction('LEFT', 1, tmp_1, tmp_2, RunnerAction$lambda_2());
    var tmp_3 = Companion_getInstance().r26_1;
    var tmp_4 = RunnerAction$lambda_3();
    RunnerAction_UP_instance = new RunnerAction('UP', 2, tmp_3, tmp_4, RunnerAction$lambda_4());
    var tmp_5 = Companion_getInstance().s26_1;
    var tmp_6 = RunnerAction$lambda_5();
    RunnerAction_DOWN_instance = new RunnerAction('DOWN', 3, tmp_5, tmp_6, RunnerAction$lambda_6());
    var tmp_7 = UniversalKeyCode_init_$Create$(_Char___init__impl__6a9atx(32));
    var tmp_8 = RunnerAction$lambda_7();
    RunnerAction_STOP_instance = new RunnerAction('STOP', 4, tmp_7, tmp_8, RunnerAction$lambda_8());
    var tmp_9 = UniversalKeyCode_init_$Create$(_Char___init__impl__6a9atx(122));
    var tmp_10 = RunnerAction$lambda_9();
    RunnerAction_DIG_LEFT_instance = new RunnerAction('DIG_LEFT', 5, tmp_9, tmp_10, RunnerAction$lambda_10());
    var tmp_11 = UniversalKeyCode_init_$Create$(_Char___init__impl__6a9atx(120));
    var tmp_12 = RunnerAction$lambda_11();
    RunnerAction_DIG_RIGHT_instance = new RunnerAction('DIG_RIGHT', 6, tmp_11, tmp_12, RunnerAction$lambda_12());
  }
  function RunnerAction(name, ordinal, keyCode, onPress, onRelease) {
    Enum.call(this, name, ordinal);
    this.z7i_1 = keyCode;
    this.a7j_1 = onPress;
    this.b7j_1 = onRelease;
  }
  RunnerAction.prototype.k6j = function () {
    return this.z7i_1;
  };
  RunnerAction.prototype.l6j = function () {
    return this.a7j_1;
  };
  RunnerAction.prototype.m6j = function () {
    return this.b7j_1;
  };
  RunnerAction.$metadata$ = classMeta('RunnerAction', undefined, undefined, undefined, undefined, Enum.prototype);
  function RunnerController$lambda() {
    return function (ev) {
      return ev.g23() ? true : ev.h23();
    };
  }
  function RunnerController$lambda_0($item, this$0) {
    return function (ev) {
      if (ev.h23())
        $item.b7j_1(this$0, ev);
      else if (ev.g23())
        $item.a7j_1(this$0, ev);
      return Unit_getInstance();
    };
  }
  function RunnerController(inputManager, runner) {
    Node_init_$Init$(null, 1, null, this);
    this.u7i_1 = inputManager;
    this.v7i_1 = runner;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.w7i_1 = tmp$ret$0;
    var tmp$ret$3;
    {
      var tmp0_map = values_5();
      var tmp$ret$2;
      {
        var tmp0_mapTo = ArrayList_init_$Create$(tmp0_map.length);
        var indexedObject = tmp0_map;
        var inductionVariable = 0;
        var last = indexedObject.length;
        while (inductionVariable < last) {
          var item = indexedObject[inductionVariable];
          inductionVariable = inductionVariable + 1 | 0;
          var tmp$ret$1;
          {
            var tmp_0 = 'runner_action_' + item.il() + '_pressed';
            var tmp_1 = RunnerController$lambda();
            tmp$ret$1 = this.u7i_1.p27(item.z7i_1, tmp_0, tmp_1, RunnerController$lambda_0(item, this));
          }
          tmp0_mapTo.b(tmp$ret$1);
        }
        tmp$ret$2 = tmp0_mapTo;
      }
      tmp$ret$3 = tmp$ret$2;
    }
    this.w7i_1.m1(tmp$ret$3);
  }
  RunnerController.prototype.t4g = function (ctx) {
    Node.prototype.t4g.call(this, ctx);
    {
      var tmp0_forEach = this.w7i_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          this.u7i_1.r27(element);
        }
      }
    }
  };
  RunnerController.$metadata$ = classMeta('RunnerController', undefined, undefined, undefined, undefined, Node.prototype);
  function RunnerAction_RIGHT_getInstance() {
    RunnerAction_initEntries();
    return RunnerAction_RIGHT_instance;
  }
  function RunnerAction_LEFT_getInstance() {
    RunnerAction_initEntries();
    return RunnerAction_LEFT_instance;
  }
  function RunnerAction_UP_getInstance() {
    RunnerAction_initEntries();
    return RunnerAction_UP_instance;
  }
  function RunnerAction_DOWN_getInstance() {
    RunnerAction_initEntries();
    return RunnerAction_DOWN_instance;
  }
  function RunnerAction_STOP_getInstance() {
    RunnerAction_initEntries();
    return RunnerAction_STOP_instance;
  }
  function RunnerAction_DIG_LEFT_getInstance() {
    RunnerAction_initEntries();
    return RunnerAction_DIG_LEFT_instance;
  }
  function RunnerAction_DIG_RIGHT_getInstance() {
    RunnerAction_initEntries();
    return RunnerAction_DIG_RIGHT_instance;
  }
  function sprite(texture, name, spriteSize, regionSize, mirrorTexCoordsY) {
    return new Sprite(spriteSize, texture, regionSize, name, mirrorTexCoordsY);
  }
  function sprite$default(texture, name, spriteSize, regionSize, mirrorTexCoordsY, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      name = null;
    if (!(($mask0 & 4) === 0))
      spriteSize = null;
    if (!(($mask0 & 8) === 0))
      regionSize = null;
    if (!(($mask0 & 16) === 0))
      mirrorTexCoordsY = false;
    return sprite(texture, name, spriteSize, regionSize, mirrorTexCoordsY);
  }
  function Sprite$SpriteShader$Model$lambda$lambda(this$0, $texCoords, $this_vertexStage, $color) {
    return function ($this$main) {
      var tmp = mvpMatrix(this$0).i2e();
      var mvp = $this$main.y2v(tmp, null, 2, null);
      $this$main.t2w($texCoords.z33(), $this_vertexStage.u35(Companion_getInstance_5().c2w_1.s2p_1));
      $this$main.t2w($color.z33(), $this_vertexStage.a34(Companion_getInstance_5().d2w_1.s2p_1));
      $this$main.t2w($this_vertexStage.y2o_1, times(mvp, $this$main.s2w($this_vertexStage.r2w(Companion_getInstance_5().z2v_1.s2p_1), 1.0)));
      return Unit_getInstance();
    };
  }
  function Sprite$SpriteShader$Model$lambda(this$0, $texCoords, $color) {
    return function ($this$vertexStage) {
      $this$vertexStage.u2w(Sprite$SpriteShader$Model$lambda$lambda(this$0, $texCoords, $this$vertexStage, $color));
      return Unit_getInstance();
    };
  }
  function Sprite$SpriteShader$Model$lambda$lambda$lambda($this_fragmentStage, $texel) {
    return function ($this$if) {
      var tmp = float3($texel, 'xxx');
      $this_fragmentStage.t2x($this$if, tmp, null, 0, 6, null);
      return Unit_getInstance();
    };
  }
  function Sprite$SpriteShader$Model$lambda$lambda$lambda_0($this_fragmentStage, $texel) {
    return function ($this$else) {
      $this_fragmentStage.u3l($this$else, $texel, 0, 2, null);
      return Unit_getInstance();
    };
  }
  function Sprite$SpriteShader$Model$lambda$lambda_0(this$0, $texCoords, $this_fragmentStage) {
    return function ($this$main) {
      Companion_getInstance_19();
      var atlasTex = this$0.d2y('tex');
      Companion_getInstance_19();
      var textureOffset = this$0.y3i('texOffset');
      Companion_getInstance_19();
      var tileSize = this$0.y3i('tileSize');
      Companion_getInstance_19();
      var gray = this$0.x3i('gray');
      var atlasTexSize = toFloat2($this$main.x3k(atlasTex, null, 2, null));
      var tmp = toInt2($this$main.q3k(plus(times_1($texCoords.c33(), toFloat2(tileSize)), toFloat2(textureOffset))));
      var texel = $this$main.v3k(atlasTex, tmp, null, 4, null);
      var tmp_0 = gt(gray, $this$main.f3j(0));
      var tmp_1 = $this$main.z3j(tmp_0, Sprite$SpriteShader$Model$lambda$lambda$lambda($this_fragmentStage, texel));
      tmp_1.w3h(Sprite$SpriteShader$Model$lambda$lambda$lambda_0($this_fragmentStage, texel));
      return Unit_getInstance();
    };
  }
  function Sprite$SpriteShader$Model$lambda_0(this$0, $texCoords) {
    return function ($this$fragmentStage) {
      $this$fragmentStage.u2w(Sprite$SpriteShader$Model$lambda$lambda_0(this$0, $texCoords, $this$fragmentStage));
      return Unit_getInstance();
    };
  }
  function Companion_11() {
    Companion_instance_11 = this;
    this.c7j_1 = 'tex';
    this.d7j_1 = 'texOffset';
    this.e7j_1 = 'tileSize';
    this.f7j_1 = 'gray';
    this.g7j_1 = listOf([Companion_getInstance_5().z2v_1, Companion_getInstance_5().c2w_1, Companion_getInstance_5().d2w_1]);
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_apply = new PipelineConfig();
      {
      }
      {
        tmp0_apply.r2q_1 = BlendMode_BLEND_PREMULTIPLIED_ALPHA_getInstance();
        tmp0_apply.s2q_1 = CullMethod_NO_CULLING_getInstance();
        tmp0_apply.t2q_1 = DepthCompareOp_DISABLED_getInstance();
      }
      tmp$ret$0 = tmp0_apply;
    }
    tmp.h7j_1 = tmp$ret$0;
  }
  Companion_11.$metadata$ = objectMeta('Companion');
  var Companion_instance_11;
  function Companion_getInstance_19() {
    if (Companion_instance_11 == null)
      new Companion_11();
    return Companion_instance_11;
  }
  function Model() {
    KslProgram.call(this, 'sprite');
    var texCoords = this.f2y(null, null, 3, null);
    var color = this.h2y(null, null, 3, null);
    this.v2x(Sprite$SpriteShader$Model$lambda(this, texCoords, color));
    this.w2x(Sprite$SpriteShader$Model$lambda_0(this, texCoords));
  }
  Model.$metadata$ = classMeta('Model', undefined, undefined, undefined, undefined, KslProgram.prototype);
  function Sprite_init_$Init$(spriteSize, texture, regionSize, name, mirrorTexCoordsY, $mask0, $marker, $this) {
    if (!(($mask0 & 8) === 0))
      name = null;
    if (!(($mask0 & 16) === 0))
      mirrorTexCoordsY = false;
    Sprite.call($this, spriteSize, texture, regionSize, name, mirrorTexCoordsY);
    return $this;
  }
  function buildMesh($this) {
    $this.x56();
    $this.h2d();
    var tmp$ret$0;
    {
      var tmp0_mesh = Companion_getInstance_19().g7j_1;
      var tmp1_mesh = $this.il();
      var mesh = new Mesh(new IndexedVertexList(tmp0_mesh), tmp1_mesh);
      {
        mesh.l4g(Sprite$buildMesh$lambda($this, mesh));
        var tmp0_this = mesh;
        {
          var tmp0_plusAssign = tmp0_this.o49();
          tmp0_plusAssign.b(Sprite$buildMesh$lambda_0($this));
        }
      }
      tmp$ret$0 = mesh;
    }
    $this.v4j(tmp$ret$0);
  }
  function SpriteShader() {
    Companion_getInstance_19();
    KslShader.call(this, new Model(), Companion_getInstance_19().h7j_1);
    var tmp = this;
    Companion_getInstance_19();
    tmp.s7j_1 = this.k2v('tex', null, 2, null);
    var tmp_0 = this;
    Companion_getInstance_19();
    tmp_0.t7j_1 = this.i2v('texOffset', null, 2, null);
    var tmp_1 = this;
    Companion_getInstance_19();
    tmp_1.u7j_1 = this.i2v('tileSize', null, 2, null);
    var tmp_2 = this;
    Companion_getInstance_19();
    tmp_2.v7j_1 = this.g2v('gray', null, 2, null);
  }
  SpriteShader.prototype.w2s = function (_set____db54di) {
    return this.s7j_1.y2s(this, texture$factory(), _set____db54di);
  };
  SpriteShader.prototype.x2s = function () {
    return this.s7j_1.j2r(this, texture$factory_0());
  };
  SpriteShader.prototype.w7j = function (_set____db54di) {
    this.t7j_1.h2s(this, textureOffset$factory(), _set____db54di);
    return Unit_getInstance();
  };
  SpriteShader.prototype.x7g = function () {
    return this.t7j_1.j2r(this, textureOffset$factory_0());
  };
  SpriteShader.prototype.y7e = function (_set____db54di) {
    this.u7j_1.h2s(this, tileSize$factory_1(), _set____db54di);
    return Unit_getInstance();
  };
  SpriteShader.prototype.j6a = function () {
    return this.u7j_1.j2r(this, tileSize$factory_2());
  };
  SpriteShader.prototype.x7j = function (_set____db54di) {
    return this.v7j_1.b2s(this, grayScaled$factory(), _set____db54di);
  };
  SpriteShader.prototype.z7g = function () {
    return this.v7j_1.j2r(this, grayScaled$factory_0());
  };
  SpriteShader.$metadata$ = classMeta('SpriteShader', undefined, undefined, undefined, undefined, KslShader.prototype);
  function Sprite$spriteShader$delegate$lambda() {
    return function () {
      return new SpriteShader();
    };
  }
  function Sprite$lambda(this$0) {
    return function (it) {
      var tmp;
      if (this$0.n78_1.equals(Companion_getInstance_0().f2f_1) ? true : this$0.o78_1.equals(Companion_getInstance_0().f2f_1)) {
        var tmp_0;
        var tmp0_safe_receiver = this$0.h78_1;
        if (equals(tmp0_safe_receiver == null ? null : tmp0_safe_receiver.g4y(), LoadingState_LOADED_getInstance())) {
          if (this$0.n78_1.equals(Companion_getInstance_0().f2f_1)) {
            this$0.n78_1.n2f(ensureNotNull(ensureNotNull(this$0.h78_1).e4y()).y3u());
            this$0.n78_1.o2f(ensureNotNull(ensureNotNull(this$0.h78_1).e4y()).z3u());
            {
              var tmp0_forEach = this$0.p78_1;
              var tmp0_iterator = tmp0_forEach.h();
              while (tmp0_iterator.n()) {
                var element = tmp0_iterator.o();
                {
                  element(this$0, this$0.n78_1.z1z(), this$0.n78_1.b20());
                }
              }
            }
          }
          if (this$0.o78_1.equals(Companion_getInstance_0().f2f_1)) {
            this$0.o78_1.n2f(ensureNotNull(ensureNotNull(this$0.h78_1).e4y()).y3u());
            this$0.o78_1.o2f(ensureNotNull(ensureNotNull(this$0.h78_1).e4y()).z3u());
          }
          this$0.e4l().f2a(this$0.n78_1.z1z(), this$0.n78_1.b20(), 1.0);
          tmp_0 = Unit_getInstance();
        }
        tmp = tmp_0;
      }
      return Unit_getInstance();
    };
  }
  function Sprite$buildMesh$lambda(this$0, $mesh) {
    return function ($this$generate) {
      var props = new RectProps();
      {
        props.u5b(1.0);
        props.v5b(1.0);
        props.p4n_1.t2d(-props.y3u() / 2.0, -props.z3u() / 2.0, 0.0);
        if (this$0.j78_1) {
          props.v4n();
        }
      }
      $this$generate.w4n(props);
      $mesh.m4g(this$0.a7h());
      return Unit_getInstance();
    };
  }
  function Sprite$buildMesh$lambda_0(this$0) {
    return function (it) {
      this$0.a7h().w2s(this$0.h78_1);
      this$0.a7h().w7j(this$0.k78_1);
      this$0.a7h().y7e(this$0.o78_1);
      this$0.a7h().x7j(this$0.l78_1 ? 1 : 0);
      return Unit_getInstance();
    };
  }
  function Sprite(spriteSize, texture, regionSize, name, mirrorTexCoordsY) {
    Group.call(this, 'sprite ' + name + ' group');
    this.g78_1 = spriteSize;
    this.h78_1 = texture;
    this.i78_1 = regionSize;
    this.j78_1 = mirrorTexCoordsY;
    this.k78_1 = MutableVec2i_init_$Create$(Companion_getInstance_0().f2f_1);
    this.l78_1 = false;
    var tmp = this;
    tmp.m78_1 = lazy(Sprite$spriteShader$delegate$lambda());
    var tmp_0 = this;
    var tmp0_safe_receiver = this.g78_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.z1z();
    var tmp_1 = tmp1_elvis_lhs == null ? 0 : tmp1_elvis_lhs;
    var tmp2_safe_receiver = this.g78_1;
    var tmp3_elvis_lhs = tmp2_safe_receiver == null ? null : tmp2_safe_receiver.b20();
    tmp_0.n78_1 = new MutableVec2i(tmp_1, tmp3_elvis_lhs == null ? 0 : tmp3_elvis_lhs);
    var tmp_2 = this;
    var tmp0_safe_receiver_0 = this.i78_1;
    var tmp1_elvis_lhs_0 = tmp0_safe_receiver_0 == null ? null : tmp0_safe_receiver_0.z1z();
    var tmp_3 = tmp1_elvis_lhs_0 == null ? 0 : tmp1_elvis_lhs_0;
    var tmp2_safe_receiver_0 = this.i78_1;
    var tmp3_elvis_lhs_0 = tmp2_safe_receiver_0 == null ? null : tmp2_safe_receiver_0.b20();
    tmp_2.o78_1 = new MutableVec2i(tmp_3, tmp3_elvis_lhs_0 == null ? 0 : tmp3_elvis_lhs_0);
    var tmp_4 = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp_4.p78_1 = tmp$ret$0;
    buildMesh(this);
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.o49();
      tmp0_plusAssign.b(Sprite$lambda(this));
    }
  }
  Sprite.prototype.w2s = function (_set____db54di) {
    this.h78_1 = _set____db54di;
  };
  Sprite.prototype.x2s = function () {
    return this.h78_1;
  };
  Sprite.prototype.x7g = function () {
    return this.k78_1;
  };
  Sprite.prototype.y7g = function (_set____db54di) {
    this.l78_1 = _set____db54di;
  };
  Sprite.prototype.z7g = function () {
    return this.l78_1;
  };
  Sprite.prototype.a7h = function () {
    var tmp$ret$0;
    {
      var tmp0_getValue = spriteShader$factory();
      tmp$ret$0 = this.m78_1.l2();
    }
    return tmp$ret$0;
  };
  Sprite.prototype.b7h = function () {
    return this.n78_1;
  };
  Sprite.prototype.c7h = function () {
    return this.o78_1;
  };
  Sprite.prototype.d7h = function () {
    return this.p78_1;
  };
  Sprite.$metadata$ = classMeta('Sprite', undefined, undefined, undefined, undefined, Group.prototype);
  function spriteShader$factory() {
    return getPropertyCallableRef('spriteShader', 1, KProperty1, function (receiver) {
      return receiver.a7h();
    }, null);
  }
  function texture$factory() {
    return getPropertyCallableRef('texture', 1, KMutableProperty1, function (receiver) {
      return receiver.x2s();
    }, function (receiver, value) {
      return receiver.w2s(value);
    });
  }
  function texture$factory_0() {
    return getPropertyCallableRef('texture', 1, KMutableProperty1, function (receiver) {
      return receiver.x2s();
    }, function (receiver, value) {
      return receiver.w2s(value);
    });
  }
  function textureOffset$factory() {
    return getPropertyCallableRef('textureOffset', 1, KMutableProperty1, function (receiver) {
      return receiver.x7g();
    }, function (receiver, value) {
      return receiver.w7j(value);
    });
  }
  function textureOffset$factory_0() {
    return getPropertyCallableRef('textureOffset', 1, KMutableProperty1, function (receiver) {
      return receiver.x7g();
    }, function (receiver, value) {
      return receiver.w7j(value);
    });
  }
  function tileSize$factory_1() {
    return getPropertyCallableRef('tileSize', 1, KMutableProperty1, function (receiver) {
      return receiver.j6a();
    }, function (receiver, value) {
      return receiver.y7e(value);
    });
  }
  function tileSize$factory_2() {
    return getPropertyCallableRef('tileSize', 1, KMutableProperty1, function (receiver) {
      return receiver.j6a();
    }, function (receiver, value) {
      return receiver.y7e(value);
    });
  }
  function grayScaled$factory() {
    return getPropertyCallableRef('grayScaled', 1, KMutableProperty1, function (receiver) {
      return receiver.z7g();
    }, function (receiver, value) {
      return receiver.x7j(value);
    });
  }
  function grayScaled$factory_0() {
    return getPropertyCallableRef('grayScaled', 1, KMutableProperty1, function (receiver) {
      return receiver.z7g();
    }, function (receiver, value) {
      return receiver.x7j(value);
    });
  }
  function StringDrawer(atlas, spec, map, fallbackChar) {
    this.y7j_1 = atlas;
    this.z7j_1 = spec;
    this.a7k_1 = map;
    this.b7k_1 = fallbackChar;
    this.c7k_1 = createUint8Buffer(1000);
  }
  StringDrawer.prototype.d7k = function () {
    return this.y7j_1;
  };
  StringDrawer.prototype.e7k = function () {
    return this.z7j_1;
  };
  StringDrawer.prototype.f7k = function (string) {
    this.c7k_1.t7();
    var indexedObject = string;
    var inductionVariable = 0;
    var last = indexedObject.length;
    while (inductionVariable < last) {
      var c = charSequenceGet(indexedObject, inductionVariable);
      inductionVariable = inductionVariable + 1 | 0;
      var tmp$ret$0;
      {
        var tmp1_elvis_lhs = this.a7k_1.z2(new Char(c));
        var tmp0_and = toByte(tmp1_elvis_lhs == null ? this.b7k_1 : tmp1_elvis_lhs);
        tmp$ret$0 = toByte(tmp0_and & 127);
      }
      this.c7k_1.z5d(tmp$ret$0);
    }
    this.c7k_1.y3s();
    return new TextureData2d(this.c7k_1, this.c7k_1.a5e(), 1, TexFormat_R_getInstance());
  };
  StringDrawer.$metadata$ = classMeta('StringDrawer');
  function StatusView$lambda$lambda($toolbarWidth, $toolbarHeight) {
    return function ($this$generate) {
      var props = new RectProps();
      {
        props.q4n_1.x2f($toolbarWidth, $toolbarHeight);
        props.p4n_1.t2d(-props.y3u() / 2, 0.0, 0.0);
      }
      $this$generate.w4n(props);
      return Unit_getInstance();
    };
  }
  function StatusView$lambda$lambda$lambda() {
    return function ($this$color) {
      var tmp = new Color(0.0, 0.0, 0.0, 0.75);
      $this$color.x2z(tmp, null, 2, null);
      return Unit_getInstance();
    };
  }
  function StatusView$lambda$lambda_0() {
    return function ($this$$receiver) {
      $this$$receiver.u2x(StatusView$lambda$lambda$lambda());
      return Unit_getInstance();
    };
  }
  function StatusView$lambda($toolbarWidth, $toolbarHeight) {
    return function ($this$colorMesh) {
      $this$colorMesh.l4g(StatusView$lambda$lambda($toolbarWidth, $toolbarHeight));
      $this$colorMesh.m4g(KslUnlitShader_init_$Create$(StatusView$lambda$lambda_0()));
      return Unit_getInstance();
    };
  }
  function StatusView$lambda_0($toolbarWidth, $toolbarHeight) {
    return function ($this$generate) {
      var props = new RectProps();
      {
        props.q4n_1.x2f($toolbarWidth, $toolbarHeight);
        props.p4n_1.t2d(-props.y3u() / 2, 0.0, 0.0);
      }
      $this$generate.w4n(props);
      return Unit_getInstance();
    };
  }
  function StatusView$lambda_1(this$0) {
    return function (it) {
      var tmp;
      if (!(this$0.c7l_1.j6e_1 == null)) {
        var scores = padStart(this$0.c7l_1.c6e_1.j6r_1.toString(), 7, _Char___init__impl__6a9atx(48));
        var lives = padStart(this$0.c7l_1.c6e_1.i6r_1.toString(), 3, _Char___init__impl__6a9atx(48));
        var level = padStart((ensureNotNull(this$0.c7l_1.j6e_1).n6p_1 + 1 | 0).toString(), 3, _Char___init__impl__6a9atx(48));
        var text = 'score' + scores + ' men' + lives + ' level' + level;
        var tmp_0;
        if (!(text === this$0.e7l_1)) {
          var tmp_1 = get_simpleValueTextureProps();
          var tmp_2 = this$0.d7l_1.f7k(text);
          this$0.f7l_1.a7f(Texture2d_init_$Create$_0(tmp_1, tmp_2, null, 4, null));
          this$0.f7l_1.b7f(new Vec2f(text.length, 1.0));
          this$0.e7l_1 = text;
          tmp_0 = Unit_getInstance();
        }
        tmp = tmp_0;
      }
      return Unit_getInstance();
    };
  }
  function StatusView(game, builder) {
    Group_init_$Init$(null, 1, null, this);
    this.c7l_1 = game;
    this.d7l_1 = builder;
    this.e7l_1 = '';
    this.f7l_1 = new TileMapShader(new TileMapShaderConf(this.d7l_1.y7j_1.g6m().length));
    var tileSize = new Vec2i(this.d7l_1.z7j_1.e3o_1.p6k_1, this.d7l_1.z7j_1.e3o_1.q6k_1);
    var toolbarWidth = 28.0 * tileSize.z1z();
    var toolbarHeight = tileSize.b20();
    this.v4j(colorMesh$default(null, StatusView$lambda(toolbarWidth, toolbarHeight), 1, null));
    var tmp$ret$1;
    {
      var tmp0_mesh = listOf([Companion_getInstance_5().z2v_1, Companion_getInstance_5().c2w_1]);
      var mesh = new Mesh(new IndexedVertexList(tmp0_mesh), null);
      {
        mesh.l4g(StatusView$lambda_0(toolbarWidth, toolbarHeight));
        var tmp$ret$0;
        {
          var tmp0_apply = this.f7l_1;
          {
          }
          {
            tmp0_apply.y7e(tileSize);
            tmp0_apply.u7e(this.d7l_1.y7j_1.b6m_1.e3o_1);
            tmp0_apply.w7e(this.d7l_1.y7j_1.b6m_1.e3o_1);
            {
              var tmp0_forEachIndexed = this.d7l_1.y7j_1.g6m();
              var index = 0;
              var indexedObject = tmp0_forEachIndexed;
              var inductionVariable = 0;
              var last = indexedObject.length;
              while (inductionVariable < last) {
                var item = indexedObject[inductionVariable];
                inductionVariable = inductionVariable + 1 | 0;
                {
                  var tmp1 = index;
                  index = tmp1 + 1 | 0;
                  var tmp1__anonymous__uwfjfc = tmp1;
                  tmp0_apply.z7e()[tmp1__anonymous__uwfjfc] = new MutableVec2f(item.z1z(), item.b20());
                }
              }
            }
          }
          tmp$ret$0 = tmp0_apply;
        }
        mesh.m4g(tmp$ret$0);
        var tmp0_this = mesh;
        {
          var tmp1_plusAssign = tmp0_this.o49();
          tmp1_plusAssign.b(StatusView$lambda_1(this));
        }
      }
      tmp$ret$1 = mesh;
    }
    this.v4j(tmp$ret$1);
  }
  StatusView.prototype.f6u = function () {
    return this.c7l_1;
  };
  StatusView.prototype.g7l = function () {
    return this.d7l_1;
  };
  StatusView.prototype.h7l = function (_set____db54di) {
    this.e7l_1 = _set____db54di;
  };
  StatusView.prototype.i7l = function () {
    return this.e7l_1;
  };
  StatusView.$metadata$ = classMeta('StatusView', undefined, undefined, undefined, undefined, Group.prototype);
  function textView(text, fontAtlas, imageAtlasSpec, capacity, init) {
    return new TextView(mutableStateOf(text), fontAtlas, imageAtlasSpec, capacity, init);
  }
  function textView$default(text, fontAtlas, imageAtlasSpec, capacity, init, $mask0, $handler) {
    if (!(($mask0 & 8) === 0))
      capacity = text.length;
    if (!(($mask0 & 16) === 0)) {
      init = textView$lambda();
    }
    return textView(text, fontAtlas, imageAtlasSpec, capacity, init);
  }
  function Companion_12() {
    Companion_instance_12 = this;
    this.c7c_1 = 0;
    var tmp = this;
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = LinkedHashMap_init_$Create$();
      }
      var tmp0_apply = tmp$ret$0;
      {
      }
      {
        var inductionVariable = _Char___init__impl__6a9atx(48);
        if (inductionVariable <= _Char___init__impl__6a9atx(57))
          do {
            var c = inductionVariable;
            inductionVariable = Char__plus_impl_qi7pgj(inductionVariable, 1);
            {
              var tmp0_set = Char__minus_impl_a2frrh(c, _Char___init__impl__6a9atx(48));
              tmp0_apply.a(new Char(c), tmp0_set);
            }
          }
           while (inductionVariable <= _Char___init__impl__6a9atx(57));
        var inductionVariable_0 = _Char___init__impl__6a9atx(97);
        if (inductionVariable_0 <= _Char___init__impl__6a9atx(122))
          do {
            var c_0 = inductionVariable_0;
            inductionVariable_0 = Char__plus_impl_qi7pgj(inductionVariable_0, 1);
            {
              var tmp1_set = Char__minus_impl_a2frrh(c_0, _Char___init__impl__6a9atx(97)) + 10 | 0;
              tmp0_apply.a(new Char(c_0), tmp1_set);
            }
          }
           while (inductionVariable_0 <= _Char___init__impl__6a9atx(122));
        {
          tmp0_apply.a(new Char(_Char___init__impl__6a9atx(46)), 36);
        }
        {
          tmp0_apply.a(new Char(_Char___init__impl__6a9atx(60)), 37);
        }
        {
          tmp0_apply.a(new Char(_Char___init__impl__6a9atx(62)), 38);
        }
        {
          tmp0_apply.a(new Char(_Char___init__impl__6a9atx(45)), 39);
        }
        {
          tmp0_apply.a(new Char(_Char___init__impl__6a9atx(32)), 43);
        }
        {
          tmp0_apply.a(new Char(_Char___init__impl__6a9atx(58)), 44);
        }
        {
          tmp0_apply.a(new Char(_Char___init__impl__6a9atx(95)), 45);
        }
      }
      tmp$ret$1 = tmp0_apply;
    }
    tmp.d7c_1 = tmp$ret$1;
  }
  Companion_12.$metadata$ = objectMeta('Companion');
  var Companion_instance_12;
  function Companion_getInstance_20() {
    if (Companion_instance_12 == null)
      new Companion_12();
    return Companion_instance_12;
  }
  function drawFromBuffer($this, string) {
    $this.i7m_1.t7();
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = string;
      }
      tmp$ret$1 = tmp$ret$0.toLowerCase();
    }
    var indexedObject = tmp$ret$1;
    var inductionVariable = 0;
    var last = indexedObject.length;
    while (inductionVariable < last) {
      var c = charSequenceGet(indexedObject, inductionVariable);
      inductionVariable = inductionVariable + 1 | 0;
      var tmp$ret$2;
      {
        var tmp1_elvis_lhs = Companion_getInstance_20().d7c_1.z2(new Char(c));
        var tmp;
        if (tmp1_elvis_lhs == null) {
          Companion_getInstance_20();
          tmp = 0;
        } else {
          tmp = tmp1_elvis_lhs;
        }
        var tmp0_and = toByte(tmp);
        tmp$ret$2 = toByte(tmp0_and & 127);
      }
      $this.i7m_1.z5d(tmp$ret$2);
    }
    $this.i7m_1.y3s();
    return new TextureData2d($this.i7m_1, get_nearestTwo($this.i7m_1.a5e()), 1, TexFormat_R_getInstance());
  }
  function _get_textWidth__aptsyg($this) {
    return $this.f7m_1.e3o_1.length;
  }
  function _get_textHeight__vt67qh($this) {
    return 1.0;
  }
  function rebuildMeshes($this, spec) {
    if ($this.f7m_1.e3o_1.length === $this.k7m_1)
      return Unit_getInstance();
    $this.x56();
    var pads = 2.0;
    $this.v4j(group('scalethis', TextView$rebuildMeshes$lambda($this, spec, pads)));
    $this.k7m_1 = $this.f7m_1.e3o_1.length;
  }
  function updateShader($this) {
    var tmp$ret$0;
    {
      var tmp0_with = $this.j7m_1;
      {
      }
      var tmp = get_simpleValueTextureProps();
      var tmp_0 = drawFromBuffer($this, $this.f7m_1.e3o_1);
      tmp0_with.a7f(Texture2d_init_$Create$_0(tmp, tmp_0, null, 4, null));
      tmp0_with.b7f(new Vec2f($this.f7m_1.e3o_1.length, 1.0));
      tmp0_with.u7e($this.g7m_1.b6m_1.e3o_1);
      var tmp0_forEachIndexed = $this.g7m_1.g6m();
      var index = 0;
      var indexedObject = tmp0_forEachIndexed;
      var inductionVariable = 0;
      var last = indexedObject.length;
      while (inductionVariable < last) {
        var item = indexedObject[inductionVariable];
        inductionVariable = inductionVariable + 1 | 0;
        {
          var tmp1 = index;
          index = tmp1 + 1 | 0;
          var tmp1__anonymous__uwfjfc = tmp1;
          tmp0_with.z7e()[tmp1__anonymous__uwfjfc] = new MutableVec2f(item.z1z(), item.b20());
        }
      }
      tmp$ret$0 = Unit_getInstance();
    }
    return tmp$ret$0;
  }
  function TextView$rebuildMeshes$lambda$lambda$lambda() {
    return function ($this$generate) {
      var props = new RectProps();
      var tmp$ret$0;
      {
        tmp$ret$0 = Unit_getInstance();
      }
      $this$generate.w4n(props);
      return Unit_getInstance();
    };
  }
  function TextView$rebuildMeshes$lambda$lambda$lambda$lambda() {
    return function ($this$color) {
      var tmp = new Color(0.0, 0.0, 0.0, 0.75);
      $this$color.x2z(tmp, null, 2, null);
      return Unit_getInstance();
    };
  }
  function TextView$rebuildMeshes$lambda$lambda$lambda_0() {
    return function ($this$$receiver) {
      $this$$receiver.u2x(TextView$rebuildMeshes$lambda$lambda$lambda$lambda());
      return Unit_getInstance();
    };
  }
  function TextView$rebuildMeshes$lambda$lambda() {
    return function ($this$colorMesh) {
      $this$colorMesh.l4g(TextView$rebuildMeshes$lambda$lambda$lambda());
      $this$colorMesh.m4g(KslUnlitShader_init_$Create$(TextView$rebuildMeshes$lambda$lambda$lambda_0()));
      return Unit_getInstance();
    };
  }
  function TextView$rebuildMeshes$lambda$lambda_0($pads, $spec, this$0) {
    return function ($this$generate) {
      var props = new RectProps();
      {
        props.p4n_1.t2d($pads / $spec.p6k_1 / _get_textWidth__aptsyg(this$0), $pads / $spec.q6k_1 / _get_textHeight__vt67qh(this$0), 0.0);
      }
      $this$generate.w4n(props);
      return Unit_getInstance();
    };
  }
  function TextView$rebuildMeshes$lambda(this$0, $spec, $pads) {
    return function ($this$group) {
      $this$group.v4j(colorMesh$default(null, TextView$rebuildMeshes$lambda$lambda(), 1, null));
      var tmp$ret$1;
      {
        var tmp0_mesh = listOf([Companion_getInstance_5().z2v_1, Companion_getInstance_5().c2w_1]);
        var mesh = new Mesh(new IndexedVertexList(tmp0_mesh), null);
        {
          mesh.l4g(TextView$rebuildMeshes$lambda$lambda_0($pads, $spec, this$0));
          var tmp$ret$0;
          {
            var tmp0_apply = this$0.j7m_1;
            {
            }
            {
              tmp0_apply.y7e(new Vec2i($spec.p6k_1, $spec.q6k_1));
              tmp0_apply.w7e(this$0.g7m_1.b6m_1.e3o_1);
            }
            tmp$ret$0 = tmp0_apply;
          }
          mesh.m4g(tmp$ret$0);
        }
        tmp$ret$1 = mesh;
      }
      $this$group.v4j(tmp$ret$1);
      $this$group.p2e(_get_textWidth__aptsyg(this$0), _get_textHeight__vt67qh(this$0), 1.0);
      return Unit_getInstance();
    };
  }
  function TextView$lambda(this$0) {
    return function (it) {
      this$0.h7m_1 = true;
      return Unit_getInstance();
    };
  }
  function TextView$lambda_0(this$0) {
    return function (it) {
      this$0.h7m_1 = true;
      return Unit_getInstance();
    };
  }
  function TextView$lambda_1(this$0) {
    return function (it) {
      var tmp;
      if (this$0.h7m_1) {
        var tmp$ret$1;
        {
          var tmp_0 = this$0.u3p().r(0);
          var tmp0_with = tmp_0 instanceof Group ? tmp_0 : THROW_CCE();
          {
          }
          var tmp$ret$0;
          {
            tmp0_with.m4j_1.m2d();
            tmp$ret$0 = tmp0_with.p2e(_get_textWidth__aptsyg(this$0), _get_textHeight__vt67qh(this$0), 1.0);
          }
          tmp$ret$1 = tmp$ret$0;
        }
        updateShader(this$0);
        this$0.h7m_1 = false;
        tmp = Unit_getInstance();
      }
      return Unit_getInstance();
    };
  }
  function TextView(text, fontAtlas, spec, capacity, init) {
    Companion_getInstance_20();
    Group_init_$Init$(null, 1, null, this);
    this.f7m_1 = text;
    this.g7m_1 = fontAtlas;
    this.h7m_1 = true;
    this.i7m_1 = createUint8Buffer(capacity);
    this.j7m_1 = new TileMapShader(new TileMapShaderConf(this.g7m_1.g6m().length));
    this.k7m_1 = 0;
    this.f7m_1.k3o(TextView$lambda(this));
    this.g7m_1.b6m_1.k3o(TextView$lambda_0(this));
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.o49();
      tmp0_plusAssign.b(TextView$lambda_1(this));
    }
    rebuildMeshes(this, spec.e3o_1);
    init(this);
  }
  TextView.$metadata$ = classMeta('TextView', undefined, undefined, undefined, undefined, Group.prototype);
  function textView$lambda() {
    return function ($this$null) {
      return Unit_getInstance();
    };
  }
  function main() {
    var ctx = createDefaultContext();
    var app = new App(ctx);
  }
  function format(_this__u8e3s4, args) {
    var tmp = _this__u8e3s4 + ' format ';
    return tmp + joinToString$default(args, ', ', null, null, 0, null, null, 62, null);
  }
  //region block: post-declaration
  $serializer.prototype.uu = typeParametersSerializers;
  //endregion
  //region block: init
  backgroundImageFile = 'images/cover.jpg';
  TILE_HEIGHT = 22;
  W4 = 5;
  H4 = 5;
  H2 = 11;
  SCORE_GOLD = 250;
  START_HEALTH = 5;
  //endregion
  main();
  return _;
}));



/***/ }),

/***/ "./kotlin/MultiplatformSettings-multiplatform-settings-js-ir.js":
/*!**********************************************************************!*\
  !*** ./kotlin/MultiplatformSettings-multiplatform-settings-js-ir.js ***!
  \**********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
  if (true)
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(/*! ./kotlin-kotlin-stdlib-js-ir.js */ "./kotlin/kotlin-kotlin-stdlib-js-ir.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  else {}
}(this, function (_, kotlin_kotlin) {
  'use strict';
  //region block: imports
  var Unit_getInstance = kotlin_kotlin.$_$.k3;
  var THROW_CCE = kotlin_kotlin.$_$.uc;
  var classMeta = kotlin_kotlin.$_$.p8;
  var isObject = kotlin_kotlin.$_$.j9;
  var ReadWriteProperty = kotlin_kotlin.$_$.ba;
  var interfaceMeta = kotlin_kotlin.$_$.y8;
  var toInt = kotlin_kotlin.$_$.vb;
  var toDouble = kotlin_kotlin.$_$.tb;
  var toBoolean = kotlin_kotlin.$_$.sb;
  //endregion
  //region block: pre-declaration
  IntDelegate.prototype = Object.create(OptionalKeyDelegate.prototype);
  IntDelegate.prototype.constructor = IntDelegate;
  FloatDelegate.prototype = Object.create(OptionalKeyDelegate.prototype);
  FloatDelegate.prototype.constructor = FloatDelegate;
  BooleanDelegate.prototype = Object.create(OptionalKeyDelegate.prototype);
  BooleanDelegate.prototype.constructor = BooleanDelegate;
  function getString$default(key, defaultValue, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      defaultValue = '';
    return $handler == null ? this.p5x(key, defaultValue) : $handler(key, defaultValue);
  }
  //endregion
  function int(_this__u8e3s4, key, defaultValue) {
    return new IntDelegate(_this__u8e3s4, key, defaultValue);
  }
  function int$default(_this__u8e3s4, key, defaultValue, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      key = null;
    if (!(($mask0 & 2) === 0))
      defaultValue = 0;
    return int(_this__u8e3s4, key, defaultValue);
  }
  function float(_this__u8e3s4, key, defaultValue) {
    return new FloatDelegate(_this__u8e3s4, key, defaultValue);
  }
  function float$default(_this__u8e3s4, key, defaultValue, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      key = null;
    if (!(($mask0 & 2) === 0))
      defaultValue = 0.0;
    return float(_this__u8e3s4, key, defaultValue);
  }
  function boolean(_this__u8e3s4, key, defaultValue) {
    return new BooleanDelegate(_this__u8e3s4, key, defaultValue);
  }
  function boolean$default(_this__u8e3s4, key, defaultValue, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      key = null;
    if (!(($mask0 & 2) === 0))
      defaultValue = false;
    return boolean(_this__u8e3s4, key, defaultValue);
  }
  function IntDelegate(settings, key, defaultValue) {
    OptionalKeyDelegate.call(this, key);
    this.t5w_1 = settings;
    this.u5w_1 = defaultValue;
  }
  IntDelegate.prototype.v5w = function (key) {
    var tmp$ret$0;
    {
      var tmp0_get = this.t5w_1;
      var tmp1_get = this.u5w_1;
      tmp$ret$0 = tmp0_get.w5w(key, tmp1_get);
    }
    return tmp$ret$0;
  };
  IntDelegate.prototype.x5w = function (key, value) {
    var tmp$ret$0;
    {
      var tmp0_set = this.t5w_1;
      tmp$ret$0 = tmp0_set.y5w(key, value);
    }
  };
  IntDelegate.prototype.z5w = function (key, value) {
    return this.x5w(key, (!(value == null) ? typeof value === 'number' : false) ? value : THROW_CCE());
  };
  IntDelegate.$metadata$ = classMeta('IntDelegate', undefined, undefined, undefined, undefined, OptionalKeyDelegate.prototype);
  function FloatDelegate(settings, key, defaultValue) {
    OptionalKeyDelegate.call(this, key);
    this.c5x_1 = settings;
    this.d5x_1 = defaultValue;
  }
  FloatDelegate.prototype.v5w = function (key) {
    var tmp$ret$0;
    {
      var tmp0_get = this.c5x_1;
      var tmp1_get = this.d5x_1;
      tmp$ret$0 = tmp0_get.e5x(key, tmp1_get);
    }
    return tmp$ret$0;
  };
  FloatDelegate.prototype.f5x = function (key, value) {
    var tmp$ret$0;
    {
      var tmp0_set = this.c5x_1;
      tmp$ret$0 = tmp0_set.g5x(key, value);
    }
  };
  FloatDelegate.prototype.z5w = function (key, value) {
    return this.f5x(key, (!(value == null) ? typeof value === 'number' : false) ? value : THROW_CCE());
  };
  FloatDelegate.$metadata$ = classMeta('FloatDelegate', undefined, undefined, undefined, undefined, OptionalKeyDelegate.prototype);
  function BooleanDelegate(settings, key, defaultValue) {
    OptionalKeyDelegate.call(this, key);
    this.i5x_1 = settings;
    this.j5x_1 = defaultValue;
  }
  BooleanDelegate.prototype.v5w = function (key) {
    var tmp$ret$0;
    {
      var tmp0_get = this.i5x_1;
      var tmp1_get = this.j5x_1;
      tmp$ret$0 = tmp0_get.k5x(key, tmp1_get);
    }
    return tmp$ret$0;
  };
  BooleanDelegate.prototype.l5x = function (key, value) {
    var tmp$ret$0;
    {
      var tmp0_set = this.i5x_1;
      tmp$ret$0 = tmp0_set.m5x(key, value);
    }
  };
  BooleanDelegate.prototype.z5w = function (key, value) {
    return this.l5x(key, (!(value == null) ? typeof value === 'boolean' : false) ? value : THROW_CCE());
  };
  BooleanDelegate.$metadata$ = classMeta('BooleanDelegate', undefined, undefined, undefined, undefined, OptionalKeyDelegate.prototype);
  function OptionalKeyDelegate(key) {
    this.a5x_1 = key;
  }
  OptionalKeyDelegate.prototype.j2r = function (thisRef, property) {
    var tmp0_elvis_lhs = this.a5x_1;
    return this.v5w(tmp0_elvis_lhs == null ? property.callableName : tmp0_elvis_lhs);
  };
  OptionalKeyDelegate.prototype.r8 = function (thisRef, property) {
    return this.j2r((thisRef == null ? true : isObject(thisRef)) ? thisRef : THROW_CCE(), property);
  };
  OptionalKeyDelegate.prototype.j40 = function (thisRef, property, value) {
    var tmp0_elvis_lhs = this.a5x_1;
    this.z5w(tmp0_elvis_lhs == null ? property.callableName : tmp0_elvis_lhs, value);
  };
  OptionalKeyDelegate.prototype.s8 = function (thisRef, property, value) {
    var tmp = (thisRef == null ? true : isObject(thisRef)) ? thisRef : THROW_CCE();
    return this.j40(tmp, property, (value == null ? true : isObject(value)) ? value : THROW_CCE());
  };
  OptionalKeyDelegate.$metadata$ = classMeta('OptionalKeyDelegate', [ReadWriteProperty]);
  function contains(_this__u8e3s4, key) {
    return _this__u8e3s4.n5x(key);
  }
  function get(_this__u8e3s4, key, defaultValue) {
    return _this__u8e3s4.w5w(key, defaultValue);
  }
  function set(_this__u8e3s4, key, value) {
    return _this__u8e3s4.y5w(key, value);
  }
  function get_0(_this__u8e3s4, key, defaultValue) {
    return _this__u8e3s4.e5x(key, defaultValue);
  }
  function set_0(_this__u8e3s4, key, value) {
    return _this__u8e3s4.g5x(key, value);
  }
  function get_1(_this__u8e3s4, key, defaultValue) {
    return _this__u8e3s4.k5x(key, defaultValue);
  }
  function set_1(_this__u8e3s4, key, value) {
    return _this__u8e3s4.m5x(key, value);
  }
  function Settings() {
  }
  Settings.$metadata$ = interfaceMeta('Settings');
  function JsSettings_init_$Init$(delegate, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0))
      delegate = localStorage;
    JsSettings.call($this, delegate);
    return $this;
  }
  function JsSettings_init_$Create$(delegate, $mask0, $marker) {
    return JsSettings_init_$Init$(delegate, $mask0, $marker, Object.create(JsSettings.prototype));
  }
  function JsSettings(delegate) {
    this.r5x_1 = delegate;
  }
  JsSettings.prototype.n5x = function (key) {
    var tmp$ret$1;
    {
      var tmp0_get = this.r5x_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_get;
      }
      tmp$ret$1 = tmp$ret$0[key];
    }
    return !(tmp$ret$1 == null);
  };
  JsSettings.prototype.y5w = function (key, value) {
    {
      var tmp0_set = this.r5x_1;
      var tmp1_set = value.toString();
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_set;
      }
      tmp$ret$0[key] = tmp1_set;
    }
  };
  JsSettings.prototype.w5w = function (key, defaultValue) {
    var tmp$ret$1;
    {
      var tmp0_get = this.r5x_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_get;
      }
      tmp$ret$1 = tmp$ret$0[key];
    }
    var tmp0_safe_receiver = tmp$ret$1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : toInt(tmp0_safe_receiver);
    return tmp1_elvis_lhs == null ? defaultValue : tmp1_elvis_lhs;
  };
  JsSettings.prototype.o5x = function (key, value) {
    {
      var tmp0_set = this.r5x_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_set;
      }
      tmp$ret$0[key] = value;
    }
  };
  JsSettings.prototype.p5x = function (key, defaultValue) {
    var tmp$ret$1;
    {
      var tmp0_get = this.r5x_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_get;
      }
      tmp$ret$1 = tmp$ret$0[key];
    }
    var tmp0_elvis_lhs = tmp$ret$1;
    return tmp0_elvis_lhs == null ? defaultValue : tmp0_elvis_lhs;
  };
  JsSettings.prototype.g5x = function (key, value) {
    {
      var tmp0_set = this.r5x_1;
      var tmp1_set = value.toString();
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_set;
      }
      tmp$ret$0[key] = tmp1_set;
    }
  };
  JsSettings.prototype.e5x = function (key, defaultValue) {
    var tmp$ret$1;
    {
      var tmp0_get = this.r5x_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_get;
      }
      tmp$ret$1 = tmp$ret$0[key];
    }
    var tmp0_safe_receiver = tmp$ret$1;
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$4;
      {
        var tmp$ret$3;
        {
          var tmp0_unsafeCast = toDouble(tmp0_safe_receiver);
          var tmp$ret$2;
          {
            tmp$ret$2 = tmp0_unsafeCast;
          }
          tmp$ret$3 = tmp$ret$2;
        }
        tmp$ret$4 = tmp$ret$3;
      }
      tmp = tmp$ret$4;
    }
    var tmp1_elvis_lhs = tmp;
    return tmp1_elvis_lhs == null ? defaultValue : tmp1_elvis_lhs;
  };
  JsSettings.prototype.m5x = function (key, value) {
    {
      var tmp0_set = this.r5x_1;
      var tmp1_set = value.toString();
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_set;
      }
      tmp$ret$0[key] = tmp1_set;
    }
  };
  JsSettings.prototype.k5x = function (key, defaultValue) {
    var tmp$ret$1;
    {
      var tmp0_get = this.r5x_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_get;
      }
      tmp$ret$1 = tmp$ret$0[key];
    }
    var tmp0_safe_receiver = tmp$ret$1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : toBoolean(tmp0_safe_receiver);
    return tmp1_elvis_lhs == null ? defaultValue : tmp1_elvis_lhs;
  };
  JsSettings.$metadata$ = classMeta('JsSettings', [Settings]);
  //region block: post-declaration
  JsSettings.prototype.q5x = getString$default;
  //endregion
  //region block: exports
  _.$_$ = _.$_$ || {};
  _.$_$.a = boolean$default;
  _.$_$.b = float$default;
  _.$_$.c = int$default;
  _.$_$.d = JsSettings_init_$Create$;
  //endregion
  return _;
}));



/***/ }),

/***/ "./kotlin/MultiplatformSettings-multiplatform-settings-no-arg-js-ir.js":
/*!*****************************************************************************!*\
  !*** ./kotlin/MultiplatformSettings-multiplatform-settings-no-arg-js-ir.js ***!
  \*****************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
  if (true)
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(/*! ./MultiplatformSettings-multiplatform-settings-js-ir.js */ "./kotlin/MultiplatformSettings-multiplatform-settings-js-ir.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  else {}
}(this, function (_, kotlin_com_russhwolf_multiplatform_settings) {
  'use strict';
  //region block: imports
  var JsSettings_init_$Create$ = kotlin_com_russhwolf_multiplatform_settings.$_$.d;
  //endregion
  //region block: pre-declaration
  //endregion
  function Settings() {
    return JsSettings_init_$Create$(null, 1, null);
  }
  //region block: exports
  _.$_$ = _.$_$ || {};
  _.$_$.a = Settings;
  //endregion
  return _;
}));



/***/ }),

/***/ "./kotlin/kool-kool-core.js":
/*!**********************************!*\
  !*** ./kotlin/kool-kool-core.js ***!
  \**********************************/
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
  if (true)
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(/*! ./kotlin-kotlin-stdlib-js-ir.js */ "./kotlin/kotlin-kotlin-stdlib-js-ir.js"), __webpack_require__(/*! ./kotlinx.coroutines-kotlinx-coroutines-core-js-ir.js */ "./kotlin/kotlinx.coroutines-kotlinx-coroutines-core-js-ir.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  else {}
}(this, function (_, kotlin_kotlin, kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core) {
  'use strict';
  //region block: imports
  var imul = Math.imul;
  var log2 = Math.log2;
  var interfaceMeta = kotlin_kotlin.$_$.y8;
  var CompletableDeferred = kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.i;
  var CoroutineImpl = kotlin_kotlin.$_$.a8;
  var Unit_getInstance = kotlin_kotlin.$_$.k3;
  var THROW_CCE = kotlin_kotlin.$_$.uc;
  var mutableListOf = kotlin_kotlin.$_$.d6;
  var get_COROUTINE_SUSPENDED = kotlin_kotlin.$_$.l7;
  var classMeta = kotlin_kotlin.$_$.p8;
  var ensureNotNull = kotlin_kotlin.$_$.ed;
  var objectMeta = kotlin_kotlin.$_$.r9;
  var LinkedHashMap_init_$Create$ = kotlin_kotlin.$_$.c1;
  var SelectBuilderImpl = kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.h;
  var returnIfSuspended = kotlin_kotlin.$_$.f;
  var CoroutineScope = kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.k;
  var isInterface = kotlin_kotlin.$_$.h9;
  var noWhenBranchMatchedException = kotlin_kotlin.$_$.nd;
  var getKClassFromExpression = kotlin_kotlin.$_$.c;
  var Job$default = kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.d;
  var Channel$default = kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.b;
  var Factory_getInstance = kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.g;
  var ArrayList_init_$Create$ = kotlin_kotlin.$_$.s;
  var startsWith = kotlin_kotlin.$_$.pb;
  var launch$default = kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.f;
  var _Char___init__impl__6a9atx = kotlin_kotlin.$_$.g2;
  var indexOf$default = kotlin_kotlin.$_$.m;
  var until = kotlin_kotlin.$_$.ia;
  var substring = kotlin_kotlin.$_$.qb;
  var getStringHashCode = kotlin_kotlin.$_$.v8;
  var equals = kotlin_kotlin.$_$.r8;
  var SuspendFunction1 = kotlin_kotlin.$_$.b8;
  var Long = kotlin_kotlin.$_$.oc;
  var toLong = kotlin_kotlin.$_$.t9;
  var Enum = kotlin_kotlin.$_$.jc;
  var fillArrayVal = kotlin_kotlin.$_$.s8;
  var ArrayList_init_$Create$_0 = kotlin_kotlin.$_$.t;
  var toString = kotlin_kotlin.$_$.v9;
  var collectionSizeOrDefault = kotlin_kotlin.$_$.o4;
  var Char__toInt_impl_vasixd = kotlin_kotlin.$_$.j2;
  var uppercaseChar = kotlin_kotlin.$_$.bc;
  var numberToChar = kotlin_kotlin.$_$.p9;
  var Char = kotlin_kotlin.$_$.fc;
  var lazy = kotlin_kotlin.$_$.md;
  var roundToInt = kotlin_kotlin.$_$.z9;
  var captureStack = kotlin_kotlin.$_$.j8;
  var Exception = kotlin_kotlin.$_$.lc;
  var Exception_init_$Init$ = kotlin_kotlin.$_$.n1;
  var getProgressionLastElement = kotlin_kotlin.$_$.e8;
  var IllegalArgumentException_init_$Create$ = kotlin_kotlin.$_$.q1;
  var get_PI = kotlin_kotlin.$_$.w9;
  var abs = kotlin_kotlin.$_$.x9;
  var numberToInt = kotlin_kotlin.$_$.q9;
  var getNumberHashCode = kotlin_kotlin.$_$.t8;
  var Collection = kotlin_kotlin.$_$.m3;
  var IllegalStateException_init_$Create$ = kotlin_kotlin.$_$.u1;
  var asSequence = kotlin_kotlin.$_$.l4;
  var filter = kotlin_kotlin.$_$.ua;
  var NoSuchElementException_init_$Create$ = kotlin_kotlin.$_$.z1;
  var Map = kotlin_kotlin.$_$.v3;
  var first = kotlin_kotlin.$_$.l5;
  var checkIndexOverflow = kotlin_kotlin.$_$.n4;
  var throwUninitializedPropertyAccessException = kotlin_kotlin.$_$.pd;
  var StringBuilder_init_$Create$ = kotlin_kotlin.$_$.j1;
  var trimIndent = kotlin_kotlin.$_$.ac;
  var toMutableList = kotlin_kotlin.$_$.f7;
  var joinToString$default = kotlin_kotlin.$_$.h;
  var println = kotlin_kotlin.$_$.f8;
  var lineSequence = kotlin_kotlin.$_$.ib;
  var joinToString$default_0 = kotlin_kotlin.$_$.i;
  var StringBuilder = kotlin_kotlin.$_$.db;
  var prependIndent = kotlin_kotlin.$_$.mb;
  var UInt = kotlin_kotlin.$_$.xc;
  var contains$default = kotlin_kotlin.$_$.l;
  var map = kotlin_kotlin.$_$.za;
  var joinToString$default_1 = kotlin_kotlin.$_$.k;
  var LinkedHashSet_init_$Create$ = kotlin_kotlin.$_$.e1;
  var addAll = kotlin_kotlin.$_$.c4;
  var plus = kotlin_kotlin.$_$.g6;
  var emptySet = kotlin_kotlin.$_$.j5;
  var listOf = kotlin_kotlin.$_$.z5;
  var toSet = kotlin_kotlin.$_$.h7;
  var NotImplementedError_init_$Create$ = kotlin_kotlin.$_$.r;
  var retainAll = kotlin_kotlin.$_$.m6;
  var removeAll = kotlin_kotlin.$_$.i6;
  var Sequence = kotlin_kotlin.$_$.pa;
  var setOf = kotlin_kotlin.$_$.p6;
  var Regex_init_$Create$ = kotlin_kotlin.$_$.i1;
  var charSequenceGet = kotlin_kotlin.$_$.m8;
  var hashCode = kotlin_kotlin.$_$.w8;
  var last = kotlin_kotlin.$_$.x5;
  var emptyMap = kotlin_kotlin.$_$.i5;
  var removeLast = kotlin_kotlin.$_$.l6;
  var getKClass = kotlin_kotlin.$_$.d;
  var round = kotlin_kotlin.$_$.aa;
  var get_indices = kotlin_kotlin.$_$.r5;
  var reversed = kotlin_kotlin.$_$.ga;
  var get_lastIndex = kotlin_kotlin.$_$.u5;
  var KMutableProperty1 = kotlin_kotlin.$_$.la;
  var getPropertyCallableRef = kotlin_kotlin.$_$.u8;
  var KProperty1 = kotlin_kotlin.$_$.ma;
  var step = kotlin_kotlin.$_$.ha;
  var sortWith = kotlin_kotlin.$_$.t6;
  var Comparator = kotlin_kotlin.$_$.gc;
  var compareTo = kotlin_kotlin.$_$.q8;
  var removeAll_0 = kotlin_kotlin.$_$.j6;
  var KMutableProperty0 = kotlin_kotlin.$_$.ka;
  var _ULong___init__impl__c78o9k = kotlin_kotlin.$_$.r2;
  var _ULong___get_data__impl__fggpzb = kotlin_kotlin.$_$.s2;
  var emptyList = kotlin_kotlin.$_$.h5;
  var ULong__hashCode_impl_6hv2lb = kotlin_kotlin.$_$.t2;
  var toByte = kotlin_kotlin.$_$.s9;
  var async$default = kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.e;
  var _UInt___init__impl__l7qpdl = kotlin_kotlin.$_$.p2;
  var isObject = kotlin_kotlin.$_$.j9;
  var toString_0 = kotlin_kotlin.$_$.qd;
  var joinTo$default = kotlin_kotlin.$_$.j;
  var MutableMap = kotlin_kotlin.$_$.z3;
  var toList = kotlin_kotlin.$_$.d7;
  var isNaN_0 = kotlin_kotlin.$_$.jd;
  var charArrayOf = kotlin_kotlin.$_$.k8;
  var split$default = kotlin_kotlin.$_$.p;
  var charSequenceLength = kotlin_kotlin.$_$.n8;
  var toInt = kotlin_kotlin.$_$.wb;
  var NumberFormatException = kotlin_kotlin.$_$.rc;
  var removeAll_1 = kotlin_kotlin.$_$.h6;
  var MutableEntry = kotlin_kotlin.$_$.y3;
  var isComparable = kotlin_kotlin.$_$.d9;
  var NoSuchElementException_init_$Create$_0 = kotlin_kotlin.$_$.x1;
  var isInfinite = kotlin_kotlin.$_$.id;
  var isNaN_1 = kotlin_kotlin.$_$.kd;
  var DoubleCompanionObject_getInstance = kotlin_kotlin.$_$.y2;
  var IllegalStateException_init_$Create$_0 = kotlin_kotlin.$_$.s1;
  var setOf_0 = kotlin_kotlin.$_$.q6;
  var startsWith$default = kotlin_kotlin.$_$.q;
  var CompletableDeferred$default = kotlin_org_jetbrains_kotlinx_kotlinx_coroutines_core.$_$.c;
  var SuspendFunction2 = kotlin_kotlin.$_$.c8;
  var contains = kotlin_kotlin.$_$.p4;
  var mutableSetOf = kotlin_kotlin.$_$.f6;
  var to = kotlin_kotlin.$_$.rd;
  var mutableMapOf = kotlin_kotlin.$_$.e6;
  var copyToArray = kotlin_kotlin.$_$.e5;
  var sorted = kotlin_kotlin.$_$.v6;
  var listOf_0 = kotlin_kotlin.$_$.y5;
  var lines = kotlin_kotlin.$_$.jb;
  //endregion
  //region block: pre-declaration
  function onWindowCloseRequest(ctx) {
    return true;
  }
  function onWindowScaleChange(newScale, ctx) {
    return newScale;
  }
  AssetManager$loader$slambda$slambda.prototype = Object.create(CoroutineImpl.prototype);
  AssetManager$loader$slambda$slambda.prototype.constructor = AssetManager$loader$slambda$slambda;
  AssetManager$loader$slambda$slambda_1.prototype = Object.create(CoroutineImpl.prototype);
  AssetManager$loader$slambda$slambda_1.prototype.constructor = AssetManager$loader$slambda$slambda_1;
  AssetManager$loader$slambda.prototype = Object.create(CoroutineImpl.prototype);
  AssetManager$loader$slambda.prototype.constructor = AssetManager$loader$slambda;
  AssetManager$loadWorker$slambda.prototype = Object.create(CoroutineImpl.prototype);
  AssetManager$loadWorker$slambda.prototype.constructor = AssetManager$loadWorker$slambda;
  AssetManager$launch$slambda.prototype = Object.create(CoroutineImpl.prototype);
  AssetManager$launch$slambda.prototype.constructor = AssetManager$launch$slambda;
  $loadAssetCOROUTINE$0.prototype = Object.create(CoroutineImpl.prototype);
  $loadAssetCOROUTINE$0.prototype.constructor = $loadAssetCOROUTINE$0;
  $loadAssetCOROUTINE$1.prototype = Object.create(CoroutineImpl.prototype);
  $loadAssetCOROUTINE$1.prototype.constructor = $loadAssetCOROUTINE$1;
  $loadTextureDataCOROUTINE$2.prototype = Object.create(CoroutineImpl.prototype);
  $loadTextureDataCOROUTINE$2.prototype.constructor = $loadTextureDataCOROUTINE$2;
  RawAssetRef.prototype = Object.create(AssetRef.prototype);
  RawAssetRef.prototype.constructor = RawAssetRef;
  LoadedRawAsset.prototype = Object.create(LoadedAsset.prototype);
  LoadedRawAsset.prototype.constructor = LoadedRawAsset;
  TextureAssetRef.prototype = Object.create(AssetRef.prototype);
  TextureAssetRef.prototype.constructor = TextureAssetRef;
  LoadedTextureAsset.prototype = Object.create(LoadedAsset.prototype);
  LoadedTextureAsset.prototype.constructor = LoadedTextureAsset;
  UpdateState.prototype = Object.create(Enum.prototype);
  UpdateState.prototype.constructor = UpdateState;
  InputManager$BufferedPointerInput$UpdateState$STARTED.prototype = Object.create(UpdateState.prototype);
  InputManager$BufferedPointerInput$UpdateState$STARTED.prototype.constructor = InputManager$BufferedPointerInput$UpdateState$STARTED;
  InputManager$BufferedPointerInput$UpdateState$ACTIVE.prototype = Object.create(UpdateState.prototype);
  InputManager$BufferedPointerInput$UpdateState$ACTIVE.prototype.constructor = InputManager$BufferedPointerInput$UpdateState$ACTIVE;
  InputManager$BufferedPointerInput$UpdateState$ENDED_BEFORE_STARTED.prototype = Object.create(UpdateState.prototype);
  InputManager$BufferedPointerInput$UpdateState$ENDED_BEFORE_STARTED.prototype.constructor = InputManager$BufferedPointerInput$UpdateState$ENDED_BEFORE_STARTED;
  InputManager$BufferedPointerInput$UpdateState$ENDED_BEFORE_ACTIVE.prototype = Object.create(UpdateState.prototype);
  InputManager$BufferedPointerInput$UpdateState$ENDED_BEFORE_ACTIVE.prototype.constructor = InputManager$BufferedPointerInput$UpdateState$ENDED_BEFORE_ACTIVE;
  InputManager$BufferedPointerInput$UpdateState$ENDED.prototype = Object.create(UpdateState.prototype);
  InputManager$BufferedPointerInput$UpdateState$ENDED.prototype.constructor = InputManager$BufferedPointerInput$UpdateState$ENDED;
  InputManager$BufferedPointerInput$UpdateState$INVALID.prototype = Object.create(UpdateState.prototype);
  InputManager$BufferedPointerInput$UpdateState$INVALID.prototype.constructor = InputManager$BufferedPointerInput$UpdateState$INVALID;
  BufferedPointerInput.prototype = Object.create(Pointer.prototype);
  BufferedPointerInput.prototype.constructor = BufferedPointerInput;
  CursorMode.prototype = Object.create(Enum.prototype);
  CursorMode.prototype.constructor = CursorMode;
  CursorShape.prototype = Object.create(Enum.prototype);
  CursorShape.prototype.constructor = CursorShape;
  UniversalKeyCode.prototype = Object.create(KeyCode.prototype);
  UniversalKeyCode.prototype.constructor = UniversalKeyCode;
  LocalKeyCode.prototype = Object.create(KeyCode.prototype);
  LocalKeyCode.prototype.constructor = LocalKeyCode;
  KoolException.prototype = Object.create(Exception.prototype);
  KoolException.prototype.constructor = KoolException;
  Mat4fStack.prototype = Object.create(Mat4f.prototype);
  Mat4fStack.prototype.constructor = Mat4fStack;
  MutableVec2i.prototype = Object.create(Vec2i.prototype);
  MutableVec2i.prototype.constructor = MutableVec2i;
  MutableVec2f.prototype = Object.create(Vec2f.prototype);
  MutableVec2f.prototype.constructor = MutableVec2f;
  MutableVec2d.prototype = Object.create(Vec2d.prototype);
  MutableVec2d.prototype.constructor = MutableVec2d;
  MutableVec3f.prototype = Object.create(Vec3f.prototype);
  MutableVec3f.prototype.constructor = MutableVec3f;
  MutableVec3i.prototype = Object.create(Vec3i.prototype);
  MutableVec3i.prototype.constructor = MutableVec3i;
  MutableVec4f.prototype = Object.create(Vec4f.prototype);
  MutableVec4f.prototype.constructor = MutableVec4f;
  MutableVec4i.prototype = Object.create(Vec4i.prototype);
  MutableVec4i.prototype.constructor = MutableVec4i;
  KslShader.prototype = Object.create(Shader.prototype);
  KslShader.prototype.constructor = KslShader;
  function onShaderCreated(shader, pipeline, ctx) {
  }
  function onUpdate(cmd) {
  }
  Model.prototype = Object.create(KslProgram.prototype);
  Model.prototype.constructor = Model;
  KslUnlitShader.prototype = Object.create(KslShader.prototype);
  KslUnlitShader.prototype.constructor = KslUnlitShader;
  ConstColor.prototype = Object.create(ColorSource.prototype);
  ConstColor.prototype.constructor = ConstColor;
  UniformColor.prototype = Object.create(ColorSource.prototype);
  UniformColor.prototype.constructor = UniformColor;
  VertexColor.prototype = Object.create(ColorSource.prototype);
  VertexColor.prototype.constructor = VertexColor;
  TextureColor.prototype = Object.create(ColorSource.prototype);
  TextureColor.prototype.constructor = TextureColor;
  InstanceColor.prototype = Object.create(ColorSource.prototype);
  InstanceColor.prototype.constructor = InstanceColor;
  MixMode.prototype = Object.create(Enum.prototype);
  MixMode.prototype.constructor = MixMode;
  KslStatement.prototype = Object.create(KslOp.prototype);
  KslStatement.prototype.constructor = KslStatement;
  KslBlock.prototype = Object.create(KslStatement.prototype);
  KslBlock.prototype.constructor = KslBlock;
  ColorBlockFragmentStage.prototype = Object.create(KslBlock.prototype);
  ColorBlockFragmentStage.prototype.constructor = ColorBlockFragmentStage;
  ColorBlockVertexStage.prototype = Object.create(KslBlock.prototype);
  ColorBlockVertexStage.prototype.constructor = ColorBlockVertexStage;
  ColorSpaceConversion.prototype = Object.create(Enum.prototype);
  ColorSpaceConversion.prototype.constructor = ColorSpaceConversion;
  ToneMapLinearColorUncharted2.prototype = Object.create(KslFunction.prototype);
  ToneMapLinearColorUncharted2.prototype.constructor = ToneMapLinearColorUncharted2;
  MvpMatrixData.prototype = Object.create(MatrixData.prototype);
  MvpMatrixData.prototype.constructor = MvpMatrixData;
  TexCoordAttributeBlock.prototype = Object.create(KslBlock.prototype);
  TexCoordAttributeBlock.prototype.constructor = TexCoordAttributeBlock;
  GlslGenerator.prototype = Object.create(KslGenerator.prototype);
  GlslGenerator.prototype.constructor = GlslGenerator;
  KslValue.prototype = Object.create(KslState.prototype);
  KslValue.prototype.constructor = KslValue;
  KslArray.prototype = Object.create(KslValue.prototype);
  KslArray.prototype.constructor = KslArray;
  KslArrayVector.prototype = Object.create(KslArray.prototype);
  KslArrayVector.prototype.constructor = KslArrayVector;
  function checkIsAssignable(scopeBuilder) {
    var tmp0_elvis_lhs = this.b3f();
    var tmp;
    if (tmp0_elvis_lhs == null) {
      throw IllegalArgumentException_init_$Create$('Assignable has no mutable state');
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var mutState = tmp;
    if (!mutState.x3e_1) {
      throw IllegalArgumentException_init_$Create$('Provided assign target is not mutable');
    }
  }
  KslArrayVectorAccessor.prototype = Object.create(KslArrayAccessor.prototype);
  KslArrayVectorAccessor.prototype.constructor = KslArrayVectorAccessor;
  KslAssign.prototype = Object.create(KslStatement.prototype);
  KslAssign.prototype.constructor = KslAssign;
  KslAugmentedAssign.prototype = Object.create(KslStatement.prototype);
  KslAugmentedAssign.prototype.constructor = KslAugmentedAssign;
  VectorInput.prototype = Object.create(BlockInput.prototype);
  VectorInput.prototype.constructor = VectorInput;
  KslBuiltinFunctionScalar.prototype = Object.create(KslBuiltinFunction.prototype);
  KslBuiltinFunctionScalar.prototype.constructor = KslBuiltinFunctionScalar;
  KslBuiltinLength.prototype = Object.create(KslBuiltinFunctionScalar.prototype);
  KslBuiltinLength.prototype.constructor = KslBuiltinLength;
  KslBuiltinFunctionVector.prototype = Object.create(KslBuiltinFunction.prototype);
  KslBuiltinFunctionVector.prototype.constructor = KslBuiltinFunctionVector;
  KslBuiltinFloorVector.prototype = Object.create(KslBuiltinFunctionVector.prototype);
  KslBuiltinFloorVector.prototype.constructor = KslBuiltinFloorVector;
  KslBuiltinFloorScalar.prototype = Object.create(KslBuiltinFunctionScalar.prototype);
  KslBuiltinFloorScalar.prototype.constructor = KslBuiltinFloorScalar;
  KslBuiltinTruncVector.prototype = Object.create(KslBuiltinFunctionVector.prototype);
  KslBuiltinTruncVector.prototype.constructor = KslBuiltinTruncVector;
  KslBuiltinPowVector.prototype = Object.create(KslBuiltinFunctionVector.prototype);
  KslBuiltinPowVector.prototype.constructor = KslBuiltinPowVector;
  KslBuiltinAbsScalar.prototype = Object.create(KslBuiltinFunctionScalar.prototype);
  KslBuiltinAbsScalar.prototype.constructor = KslBuiltinAbsScalar;
  KslBuiltinClampScalar.prototype = Object.create(KslBuiltinFunctionScalar.prototype);
  KslBuiltinClampScalar.prototype.constructor = KslBuiltinClampScalar;
  KslBuiltinCross.prototype = Object.create(KslBuiltinFunctionVector.prototype);
  KslBuiltinCross.prototype.constructor = KslBuiltinCross;
  KslBuiltinDot.prototype = Object.create(KslBuiltinFunctionScalar.prototype);
  KslBuiltinDot.prototype.constructor = KslBuiltinDot;
  KslBuiltinMaxScalar.prototype = Object.create(KslBuiltinFunctionScalar.prototype);
  KslBuiltinMaxScalar.prototype.constructor = KslBuiltinMaxScalar;
  KslBuiltinNormalize.prototype = Object.create(KslBuiltinFunctionVector.prototype);
  KslBuiltinNormalize.prototype.constructor = KslBuiltinNormalize;
  KslBuiltinPowScalar.prototype = Object.create(KslBuiltinFunctionScalar.prototype);
  KslBuiltinPowScalar.prototype.constructor = KslBuiltinPowScalar;
  KslBuiltinSqrtScalar.prototype = Object.create(KslBuiltinFunctionScalar.prototype);
  KslBuiltinSqrtScalar.prototype.constructor = KslBuiltinSqrtScalar;
  KslBuiltinTrigonometryScalar.prototype = Object.create(KslBuiltinFunctionScalar.prototype);
  KslBuiltinTrigonometryScalar.prototype.constructor = KslBuiltinTrigonometryScalar;
  KslDeclareArray.prototype = Object.create(KslStatement.prototype);
  KslDeclareArray.prototype.constructor = KslDeclareArray;
  KslDeclareVar.prototype = Object.create(KslStatement.prototype);
  KslDeclareVar.prototype.constructor = KslDeclareVar;
  KslDiscard.prototype = Object.create(KslStatement.prototype);
  KslDiscard.prototype.constructor = KslDiscard;
  KslExpressionBitScalar.prototype = Object.create(KslExpressionBit.prototype);
  KslExpressionBitScalar.prototype.constructor = KslExpressionBitScalar;
  KslBitOperator.prototype = Object.create(Enum.prototype);
  KslBitOperator.prototype.constructor = KslBitOperator;
  KslExpressionCastVector.prototype = Object.create(KslExpressionCast.prototype);
  KslExpressionCastVector.prototype.constructor = KslExpressionCastVector;
  KslExpressionCastScalar.prototype = Object.create(KslExpressionCast.prototype);
  KslExpressionCastScalar.prototype.constructor = KslExpressionCastScalar;
  KslExpressionCompareScalar.prototype = Object.create(KslExpressionCompare.prototype);
  KslExpressionCompareScalar.prototype.constructor = KslExpressionCompareScalar;
  KslCompareOperator.prototype = Object.create(Enum.prototype);
  KslCompareOperator.prototype.constructor = KslCompareOperator;
  KslExpressionCompareVector.prototype = Object.create(KslExpressionCompare.prototype);
  KslExpressionCompareVector.prototype.constructor = KslExpressionCompareVector;
  KslBoolVecOperator.prototype = Object.create(Enum.prototype);
  KslBoolVecOperator.prototype.constructor = KslBoolVecOperator;
  KslBoolScalarOperator.prototype = Object.create(Enum.prototype);
  KslBoolScalarOperator.prototype.constructor = KslBoolScalarOperator;
  KslExpressionMathVector.prototype = Object.create(KslExpressionMath.prototype);
  KslExpressionMathVector.prototype.constructor = KslExpressionMathVector;
  KslExpressionMathScalar.prototype = Object.create(KslExpressionMath.prototype);
  KslExpressionMathScalar.prototype.constructor = KslExpressionMathScalar;
  KslMathOperator.prototype = Object.create(Enum.prototype);
  KslMathOperator.prototype.constructor = KslMathOperator;
  FunctionRoot.prototype = Object.create(KslOp.prototype);
  FunctionRoot.prototype.constructor = FunctionRoot;
  KslInvokeFunctionScalar.prototype = Object.create(KslInvokeFunction.prototype);
  KslInvokeFunctionScalar.prototype.constructor = KslInvokeFunctionScalar;
  KslInvokeFunctionVector.prototype = Object.create(KslInvokeFunction.prototype);
  KslInvokeFunctionVector.prototype.constructor = KslInvokeFunctionVector;
  KslFunctionFloat1.prototype = Object.create(KslFunction.prototype);
  KslFunctionFloat1.prototype.constructor = KslFunctionFloat1;
  KslFunctionFloat2.prototype = Object.create(KslFunction.prototype);
  KslFunctionFloat2.prototype.constructor = KslFunctionFloat2;
  KslIf.prototype = Object.create(KslStatement.prototype);
  KslIf.prototype.constructor = KslIf;
  KslInterStageVector.prototype = Object.create(KslInterStageVar.prototype);
  KslInterStageVector.prototype.constructor = KslInterStageVector;
  KslInterStageInterpolation.prototype = Object.create(Enum.prototype);
  KslInterStageInterpolation.prototype.constructor = KslInterStageInterpolation;
  KslLoopBreak.prototype = Object.create(KslStatement.prototype);
  KslLoopBreak.prototype.constructor = KslLoopBreak;
  KslLoopContinue.prototype = Object.create(KslStatement.prototype);
  KslLoopContinue.prototype.constructor = KslLoopContinue;
  KslLoopDoWhile.prototype = Object.create(KslStatement.prototype);
  KslLoopDoWhile.prototype.constructor = KslLoopDoWhile;
  KslLoopFor.prototype = Object.create(KslStatement.prototype);
  KslLoopFor.prototype.constructor = KslLoopFor;
  KslLoopWhile.prototype = Object.create(KslStatement.prototype);
  KslLoopWhile.prototype.constructor = KslLoopWhile;
  KslPort.prototype = Object.create(KslBlock.prototype);
  KslPort.prototype.constructor = KslPort;
  PortFloat4.prototype = Object.create(KslPort.prototype);
  PortFloat4.prototype.constructor = PortFloat4;
  KslReturn.prototype = Object.create(KslStatement.prototype);
  KslReturn.prototype.constructor = KslReturn;
  KslScopeBuilder.prototype = Object.create(KslScope.prototype);
  KslScopeBuilder.prototype.constructor = KslScopeBuilder;
  KslVertexStage.prototype = Object.create(KslShaderStage.prototype);
  KslVertexStage.prototype.constructor = KslVertexStage;
  KslFragmentStage.prototype = Object.create(KslShaderStage.prototype);
  KslFragmentStage.prototype.constructor = KslFragmentStage;
  KslShaderStageType.prototype = Object.create(Enum.prototype);
  KslShaderStageType.prototype.constructor = KslShaderStageType;
  KslStageInputScalar.prototype = Object.create(KslStageInput.prototype);
  KslStageInputScalar.prototype.constructor = KslStageInputScalar;
  KslStageInputVector.prototype = Object.create(KslStageInput.prototype);
  KslStageInputVector.prototype.constructor = KslStageInputVector;
  KslStageOutputVector.prototype = Object.create(KslStageOutput.prototype);
  KslStageOutputVector.prototype.constructor = KslStageOutputVector;
  KslStageOutputScalar.prototype = Object.create(KslStageOutput.prototype);
  KslStageOutputScalar.prototype.constructor = KslStageOutputScalar;
  KslTextureSize2d.prototype = Object.create(KslTextureSize.prototype);
  KslTextureSize2d.prototype.constructor = KslTextureSize2d;
  KslNumericType.prototype = Object.create(KslType.prototype);
  KslNumericType.prototype.constructor = KslNumericType;
  KslFloatType.prototype = Object.create(KslNumericType.prototype);
  KslFloatType.prototype.constructor = KslFloatType;
  function get_dimens() {
    return 2;
  }
  KslTypeFloat2.prototype = Object.create(KslFloatType.prototype);
  KslTypeFloat2.prototype.constructor = KslTypeFloat2;
  KslTypeFloat1.prototype = Object.create(KslFloatType.prototype);
  KslTypeFloat1.prototype.constructor = KslTypeFloat1;
  KslTypeMat4.prototype = Object.create(KslFloatType.prototype);
  KslTypeMat4.prototype.constructor = KslTypeMat4;
  function get_dimens_0() {
    return 4;
  }
  KslTypeFloat4.prototype = Object.create(KslFloatType.prototype);
  KslTypeFloat4.prototype.constructor = KslTypeFloat4;
  function get_dimens_1() {
    return 3;
  }
  KslTypeFloat3.prototype = Object.create(KslFloatType.prototype);
  KslTypeFloat3.prototype.constructor = KslTypeFloat3;
  KslTypeSampler.prototype = Object.create(KslType.prototype);
  KslTypeSampler.prototype.constructor = KslTypeSampler;
  KslTypeColorSampler.prototype = Object.create(KslTypeSampler.prototype);
  KslTypeColorSampler.prototype.constructor = KslTypeColorSampler;
  KslTypeColorSampler2d.prototype = Object.create(KslTypeColorSampler.prototype);
  KslTypeColorSampler2d.prototype.constructor = KslTypeColorSampler2d;
  KslIntType.prototype = Object.create(KslNumericType.prototype);
  KslIntType.prototype.constructor = KslIntType;
  KslTypeInt2.prototype = Object.create(KslIntType.prototype);
  KslTypeInt2.prototype.constructor = KslTypeInt2;
  KslTypeInt1.prototype = Object.create(KslIntType.prototype);
  KslTypeInt1.prototype.constructor = KslTypeInt1;
  KslTypeInt3.prototype = Object.create(KslIntType.prototype);
  KslTypeInt3.prototype.constructor = KslTypeInt3;
  KslTypeInt4.prototype = Object.create(KslIntType.prototype);
  KslTypeInt4.prototype.constructor = KslTypeInt4;
  KslTypeMat2.prototype = Object.create(KslFloatType.prototype);
  KslTypeMat2.prototype.constructor = KslTypeMat2;
  KslTypeMat3.prototype = Object.create(KslFloatType.prototype);
  KslTypeMat3.prototype.constructor = KslTypeMat3;
  KslTypeColorSampler1d.prototype = Object.create(KslTypeColorSampler.prototype);
  KslTypeColorSampler1d.prototype.constructor = KslTypeColorSampler1d;
  KslTypeColorSampler3d.prototype = Object.create(KslTypeColorSampler.prototype);
  KslTypeColorSampler3d.prototype.constructor = KslTypeColorSampler3d;
  KslTypeColorSamplerCube.prototype = Object.create(KslTypeColorSampler.prototype);
  KslTypeColorSamplerCube.prototype.constructor = KslTypeColorSamplerCube;
  KslTypeDepthSampler.prototype = Object.create(KslTypeSampler.prototype);
  KslTypeDepthSampler.prototype.constructor = KslTypeDepthSampler;
  KslTypeDepthSampler2d.prototype = Object.create(KslTypeDepthSampler.prototype);
  KslTypeDepthSampler2d.prototype.constructor = KslTypeDepthSampler2d;
  KslTypeDepthSamplerCube.prototype = Object.create(KslTypeDepthSampler.prototype);
  KslTypeDepthSamplerCube.prototype.constructor = KslTypeDepthSamplerCube;
  KslTypeArray.prototype = Object.create(KslType.prototype);
  KslTypeArray.prototype.constructor = KslTypeArray;
  KslBoolType.prototype = Object.create(KslType.prototype);
  KslBoolType.prototype.constructor = KslBoolType;
  KslTypeVoid.prototype = Object.create(KslType.prototype);
  KslTypeVoid.prototype.constructor = KslTypeVoid;
  KslTypeColorSampler2dArray.prototype = Object.create(KslTypeColorSampler.prototype);
  KslTypeColorSampler2dArray.prototype.constructor = KslTypeColorSampler2dArray;
  KslTypeColorSamplerCubeArray.prototype = Object.create(KslTypeColorSampler.prototype);
  KslTypeColorSamplerCubeArray.prototype.constructor = KslTypeColorSamplerCubeArray;
  KslTypeUint1.prototype = Object.create(KslIntType.prototype);
  KslTypeUint1.prototype.constructor = KslTypeUint1;
  KslTypeUint2.prototype = Object.create(KslIntType.prototype);
  KslTypeUint2.prototype.constructor = KslTypeUint2;
  KslTypeUint3.prototype = Object.create(KslIntType.prototype);
  KslTypeUint3.prototype.constructor = KslTypeUint3;
  KslTypeUint4.prototype = Object.create(KslIntType.prototype);
  KslTypeUint4.prototype.constructor = KslTypeUint4;
  KslTypeBool1.prototype = Object.create(KslBoolType.prototype);
  KslTypeBool1.prototype.constructor = KslTypeBool1;
  KslTypeBool2.prototype = Object.create(KslBoolType.prototype);
  KslTypeBool2.prototype.constructor = KslTypeBool2;
  KslTypeBool3.prototype = Object.create(KslBoolType.prototype);
  KslTypeBool3.prototype.constructor = KslTypeBool3;
  KslTypeBool4.prototype = Object.create(KslBoolType.prototype);
  KslTypeBool4.prototype.constructor = KslTypeBool4;
  KslTypeDepthSampler2dArray.prototype = Object.create(KslTypeDepthSampler.prototype);
  KslTypeDepthSampler2dArray.prototype.constructor = KslTypeDepthSampler2dArray;
  KslTypeDepthSamplerCubeArray.prototype = Object.create(KslTypeDepthSampler.prototype);
  KslTypeDepthSamplerCubeArray.prototype.constructor = KslTypeDepthSamplerCubeArray;
  KslUniformMatrix.prototype = Object.create(KslUniform.prototype);
  KslUniformMatrix.prototype.constructor = KslUniformMatrix;
  KslUniformScalar.prototype = Object.create(KslUniform.prototype);
  KslUniformScalar.prototype.constructor = KslUniformScalar;
  KslUniformVector.prototype = Object.create(KslUniform.prototype);
  KslUniformVector.prototype.constructor = KslUniformVector;
  KslUniformVectorArray.prototype = Object.create(KslUniform.prototype);
  KslUniformVectorArray.prototype.constructor = KslUniformVectorArray;
  KslValueFloat4.prototype = Object.create(KslValueExpression.prototype);
  KslValueFloat4.prototype.constructor = KslValueFloat4;
  KslValueFloat1.prototype = Object.create(KslValueExpression.prototype);
  KslValueFloat1.prototype.constructor = KslValueFloat1;
  KslValueFloat2.prototype = Object.create(KslValueExpression.prototype);
  KslValueFloat2.prototype.constructor = KslValueFloat2;
  KslValueInt1.prototype = Object.create(KslValueExpression.prototype);
  KslValueInt1.prototype.constructor = KslValueInt1;
  KslValueInt2.prototype = Object.create(KslValueExpression.prototype);
  KslValueInt2.prototype.constructor = KslValueInt2;
  KslValueFloat3.prototype = Object.create(KslValueExpression.prototype);
  KslValueFloat3.prototype.constructor = KslValueFloat3;
  KslValueUint1.prototype = Object.create(KslValueExpression.prototype);
  KslValueUint1.prototype.constructor = KslValueUint1;
  KslVar.prototype = Object.create(KslValue.prototype);
  KslVar.prototype.constructor = KslVar;
  KslVarMatrix.prototype = Object.create(KslVar.prototype);
  KslVarMatrix.prototype.constructor = KslVarMatrix;
  KslVarVector.prototype = Object.create(KslVar.prototype);
  KslVarVector.prototype.constructor = KslVarVector;
  KslVarScalar.prototype = Object.create(KslVar.prototype);
  KslVarScalar.prototype.constructor = KslVarScalar;
  KslVectorAccessorVector.prototype = Object.create(KslVectorAccessor.prototype);
  KslVectorAccessorVector.prototype.constructor = KslVectorAccessorVector;
  KslVectorAccessorScalar.prototype = Object.create(KslVectorAccessor.prototype);
  KslVectorAccessorScalar.prototype.constructor = KslVectorAccessorScalar;
  KslVertexAttributeVector.prototype = Object.create(KslVertexAttribute.prototype);
  KslVertexAttributeVector.prototype.constructor = KslVertexAttributeVector;
  KslVertexAttributeMatrix.prototype = Object.create(KslVertexAttribute.prototype);
  KslVertexAttributeMatrix.prototype.constructor = KslVertexAttributeMatrix;
  KslInputRate.prototype = Object.create(Enum.prototype);
  KslInputRate.prototype.constructor = KslInputRate;
  MutableStateValue.prototype = Object.create(MutableState.prototype);
  MutableStateValue.prototype.constructor = MutableStateValue;
  AnimationState.prototype = Object.create(MutableStateValue.prototype);
  AnimationState.prototype.constructor = AnimationState;
  function get_deltaT() {
    return this.t3p().d3x_1;
  }
  function get_dp(_this__u8e3s4) {
    return _Dp___init__impl__ms3zkb(_this__u8e3s4);
  }
  function get_px(_this__u8e3s4) {
    return _Dp___get_value__impl__geb1vb(_this__u8e3s4) * UiScale_getInstance().n4h_1;
  }
  function pxToDp(px) {
    return px / UiScale_getInstance().n4h_1;
  }
  function use(_this__u8e3s4) {
    return _this__u8e3s4.j3o(this.t3p());
  }
  function progressAndUse(_this__u8e3s4) {
    _this__u8e3s4.i3o(this.c3r());
    return _this__u8e3s4.j3o(this.t3p());
  }
  BoxNode.prototype = Object.create(UiNode.prototype);
  BoxNode.prototype.constructor = BoxNode;
  function onClick(ev) {
  }
  TextModifier.prototype = Object.create(UiModifier.prototype);
  TextModifier.prototype.constructor = TextModifier;
  TextNode.prototype = Object.create(UiNode.prototype);
  TextNode.prototype.constructor = TextNode;
  TextRotation.prototype = Object.create(Enum.prototype);
  TextRotation.prototype.constructor = TextRotation;
  ToggleModifier.prototype = Object.create(UiModifier.prototype);
  ToggleModifier.prototype.constructor = ToggleModifier;
  SwitchModifier.prototype = Object.create(ToggleModifier.prototype);
  SwitchModifier.prototype.constructor = SwitchModifier;
  ToggleNode.prototype = Object.create(UiNode.prototype);
  ToggleNode.prototype.constructor = ToggleNode;
  SwitchNode.prototype = Object.create(ToggleNode.prototype);
  SwitchNode.prototype.constructor = SwitchNode;
  Model_0.prototype = Object.create(KslProgram.prototype);
  Model_0.prototype.constructor = Model_0;
  Ui2Shader.prototype = Object.create(KslShader.prototype);
  Ui2Shader.prototype.constructor = Ui2Shader;
  ListPropertyHolder.prototype = Object.create(PropertyHolder.prototype);
  ListPropertyHolder.prototype.constructor = ListPropertyHolder;
  AlignmentY.prototype = Object.create(Enum.prototype);
  AlignmentY.prototype.constructor = AlignmentY;
  AlignmentX.prototype = Object.create(Enum.prototype);
  AlignmentX.prototype.constructor = AlignmentX;
  Model_1.prototype = Object.create(KslProgram.prototype);
  Model_1.prototype.constructor = Model_1;
  PrimitiveShader.prototype = Object.create(KslShader.prototype);
  PrimitiveShader.prototype.constructor = PrimitiveShader;
  Mesh.prototype = Object.create(Node.prototype);
  Mesh.prototype.constructor = Mesh;
  UiPrimitiveMesh.prototype = Object.create(Mesh.prototype);
  UiPrimitiveMesh.prototype.constructor = UiPrimitiveMesh;
  UiInputHandler.prototype = Object.create(InputHandler.prototype);
  UiInputHandler.prototype.constructor = UiInputHandler;
  Group.prototype = Object.create(Node.prototype);
  Group.prototype.constructor = Group;
  MeshLayer.prototype = Object.create(Group.prototype);
  MeshLayer.prototype.constructor = MeshLayer;
  UiSurface.prototype = Object.create(Group.prototype);
  UiSurface.prototype.constructor = UiSurface;
  GlslType.prototype = Object.create(Enum.prototype);
  GlslType.prototype.constructor = GlslType;
  Std140BufferLayout.prototype = Object.create(BufferLayout.prototype);
  Std140BufferLayout.prototype.constructor = Std140BufferLayout;
  ExternalBufferLayout.prototype = Object.create(BufferLayout.prototype);
  ExternalBufferLayout.prototype.constructor = ExternalBufferLayout;
  Builder.prototype = Object.create(Builder_4.prototype);
  Builder.prototype.constructor = Builder;
  TextureSampler1d.prototype = Object.create(Descriptor.prototype);
  TextureSampler1d.prototype.constructor = TextureSampler1d;
  Builder_0.prototype = Object.create(Builder_4.prototype);
  Builder_0.prototype.constructor = Builder_0;
  TextureSampler2d.prototype = Object.create(Descriptor.prototype);
  TextureSampler2d.prototype.constructor = TextureSampler2d;
  Builder_1.prototype = Object.create(Builder_4.prototype);
  Builder_1.prototype.constructor = Builder_1;
  TextureSampler3d.prototype = Object.create(Descriptor.prototype);
  TextureSampler3d.prototype.constructor = TextureSampler3d;
  Builder_2.prototype = Object.create(Builder_4.prototype);
  Builder_2.prototype.constructor = Builder_2;
  TextureSamplerCube.prototype = Object.create(Descriptor.prototype);
  TextureSamplerCube.prototype.constructor = TextureSamplerCube;
  Builder_5.prototype = Object.create(Builder_4.prototype);
  Builder_5.prototype.constructor = Builder_5;
  UniformBuffer.prototype = Object.create(Descriptor.prototype);
  UniformBuffer.prototype.constructor = UniformBuffer;
  DescriptorType.prototype = Object.create(Enum.prototype);
  DescriptorType.prototype.constructor = DescriptorType;
  RenderTarget.prototype = Object.create(Enum.prototype);
  RenderTarget.prototype.constructor = RenderTarget;
  OffscreenRenderPass.prototype = Object.create(RenderPass.prototype);
  OffscreenRenderPass.prototype.constructor = OffscreenRenderPass;
  OffscreenRenderPass2d.prototype = Object.create(OffscreenRenderPass.prototype);
  OffscreenRenderPass2d.prototype.constructor = OffscreenRenderPass2d;
  OffscreenRenderPass2dPingPong.prototype = Object.create(OffscreenRenderPass.prototype);
  OffscreenRenderPass2dPingPong.prototype.constructor = OffscreenRenderPass2dPingPong;
  ViewDirection.prototype = Object.create(Enum.prototype);
  ViewDirection.prototype.constructor = ViewDirection;
  OffscreenRenderPassCube.prototype = Object.create(OffscreenRenderPass.prototype);
  OffscreenRenderPassCube.prototype.constructor = OffscreenRenderPassCube;
  BlendMode.prototype = Object.create(Enum.prototype);
  BlendMode.prototype.constructor = BlendMode;
  CullMethod.prototype = Object.create(Enum.prototype);
  CullMethod.prototype.constructor = CullMethod;
  DepthCompareOp.prototype = Object.create(Enum.prototype);
  DepthCompareOp.prototype.constructor = DepthCompareOp;
  ScreenRenderPass.prototype = Object.create(RenderPass.prototype);
  ScreenRenderPass.prototype.constructor = ScreenRenderPass;
  ShaderStage.prototype = Object.create(Enum.prototype);
  ShaderStage.prototype.constructor = ShaderStage;
  TexFormat.prototype = Object.create(Enum.prototype);
  TexFormat.prototype.constructor = TexFormat;
  AddressMode.prototype = Object.create(Enum.prototype);
  AddressMode.prototype.constructor = AddressMode;
  FilterMethod.prototype = Object.create(Enum.prototype);
  FilterMethod.prototype.constructor = FilterMethod;
  Texture2d.prototype = Object.create(Texture.prototype);
  Texture2d.prototype.constructor = Texture2d;
  TextureData2d.prototype = Object.create(TextureData.prototype);
  TextureData2d.prototype.constructor = TextureData2d;
  LoadingState.prototype = Object.create(Enum.prototype);
  LoadingState.prototype.constructor = LoadingState;
  TextureDataCube.prototype = Object.create(TextureData.prototype);
  TextureDataCube.prototype.constructor = TextureDataCube;
  TextureCube.prototype = Object.create(Texture.prototype);
  TextureCube.prototype.constructor = TextureCube;
  Texture1d.prototype = Object.create(Texture.prototype);
  Texture1d.prototype.constructor = Texture1d;
  Texture3d.prototype = Object.create(Texture.prototype);
  Texture3d.prototype.constructor = Texture3d;
  SingleColorTexture.prototype = Object.create(Texture2d.prototype);
  SingleColorTexture.prototype.constructor = SingleColorTexture;
  TextureData1d.prototype = Object.create(TextureData.prototype);
  TextureData1d.prototype.constructor = TextureData1d;
  TextureData3d.prototype = Object.create(TextureData.prototype);
  TextureData3d.prototype.constructor = TextureData3d;
  AsyncTextureLoader$loadTextureDataAsync$slambda.prototype = Object.create(CoroutineImpl.prototype);
  AsyncTextureLoader$loadTextureDataAsync$slambda.prototype.constructor = AsyncTextureLoader$loadTextureDataAsync$slambda;
  AsyncTextureLoader.prototype = Object.create(TextureLoader.prototype);
  AsyncTextureLoader.prototype.constructor = AsyncTextureLoader;
  BufferedTextureLoader.prototype = Object.create(TextureLoader.prototype);
  BufferedTextureLoader.prototype.constructor = BufferedTextureLoader;
  SyncTextureLoader.prototype = Object.create(TextureLoader.prototype);
  SyncTextureLoader.prototype.constructor = SyncTextureLoader;
  Uniform1f.prototype = Object.create(Uniform.prototype);
  Uniform1f.prototype.constructor = Uniform1f;
  Uniform2f.prototype = Object.create(Uniform.prototype);
  Uniform2f.prototype.constructor = Uniform2f;
  Uniform3f.prototype = Object.create(Uniform.prototype);
  Uniform3f.prototype.constructor = Uniform3f;
  Uniform4f.prototype = Object.create(Uniform.prototype);
  Uniform4f.prototype.constructor = Uniform4f;
  Uniform1i.prototype = Object.create(Uniform.prototype);
  Uniform1i.prototype.constructor = Uniform1i;
  Uniform2i.prototype = Object.create(Uniform.prototype);
  Uniform2i.prototype.constructor = Uniform2i;
  Uniform3i.prototype = Object.create(Uniform.prototype);
  Uniform3i.prototype.constructor = Uniform3i;
  Uniform4i.prototype = Object.create(Uniform.prototype);
  Uniform4i.prototype.constructor = Uniform4i;
  UniformMat3f.prototype = Object.create(Uniform.prototype);
  UniformMat3f.prototype.constructor = UniformMat3f;
  UniformMat4f.prototype = Object.create(Uniform.prototype);
  UniformMat4f.prototype.constructor = UniformMat4f;
  Uniform1fv.prototype = Object.create(Uniform.prototype);
  Uniform1fv.prototype.constructor = Uniform1fv;
  Uniform2fv.prototype = Object.create(Uniform.prototype);
  Uniform2fv.prototype.constructor = Uniform2fv;
  Uniform3fv.prototype = Object.create(Uniform.prototype);
  Uniform3fv.prototype.constructor = Uniform3fv;
  Uniform4fv.prototype = Object.create(Uniform.prototype);
  Uniform4fv.prototype.constructor = Uniform4fv;
  Uniform1iv.prototype = Object.create(Uniform.prototype);
  Uniform1iv.prototype.constructor = Uniform1iv;
  Uniform2iv.prototype = Object.create(Uniform.prototype);
  Uniform2iv.prototype.constructor = Uniform2iv;
  Uniform3iv.prototype = Object.create(Uniform.prototype);
  Uniform3iv.prototype.constructor = Uniform3iv;
  Uniform4iv.prototype = Object.create(Uniform.prototype);
  Uniform4iv.prototype.constructor = Uniform4iv;
  UniformMat3fv.prototype = Object.create(Uniform.prototype);
  UniformMat3fv.prototype.constructor = UniformMat3fv;
  UniformMat4fv.prototype = Object.create(Uniform.prototype);
  UniformMat4fv.prototype.constructor = UniformMat4fv;
  UniformColor_0.prototype = Object.create(Uniform.prototype);
  UniformColor_0.prototype.constructor = UniformColor_0;
  InputRate.prototype = Object.create(Enum.prototype);
  InputRate.prototype.constructor = InputRate;
  BrdfLutPass.prototype = Object.create(OffscreenRenderPass2d.prototype);
  BrdfLutPass.prototype.constructor = BrdfLutPass;
  Hammersley.prototype = Object.create(KslFunction.prototype);
  Hammersley.prototype.constructor = Hammersley;
  ImportanceSampleGgx.prototype = Object.create(KslFunction.prototype);
  ImportanceSampleGgx.prototype.constructor = ImportanceSampleGgx;
  Camera.prototype = Object.create(Node.prototype);
  Camera.prototype.constructor = Camera;
  OrthographicCamera.prototype = Object.create(Camera.prototype);
  OrthographicCamera.prototype.constructor = OrthographicCamera;
  ProjCorrectionMode.prototype = Object.create(Enum.prototype);
  ProjCorrectionMode.prototype.constructor = ProjCorrectionMode;
  PerspectiveCamera.prototype = Object.create(Camera.prototype);
  PerspectiveCamera.prototype.constructor = PerspectiveCamera;
  Type.prototype = Object.create(Enum.prototype);
  Type.prototype.constructor = Type;
  function onMeshDataChanged(mesh) {
  }
  Scene.prototype = Object.create(Group.prototype);
  Scene.prototype.constructor = Scene;
  LinearAnimator.prototype = Object.create(Animator.prototype);
  LinearAnimator.prototype.constructor = LinearAnimator;
  InterpolatedFloat.prototype = Object.create(InterpolatedValue.prototype);
  InterpolatedFloat.prototype.constructor = InterpolatedFloat;
  InverseSquareAnimator.prototype = Object.create(Animator.prototype);
  InverseSquareAnimator.prototype.constructor = InverseSquareAnimator;
  PrimitiveType.prototype = Object.create(Enum.prototype);
  PrimitiveType.prototype.constructor = PrimitiveType;
  Usage.prototype = Object.create(Enum.prototype);
  Usage.prototype.constructor = Usage;
  Vec2fView.prototype = Object.create(MutableVec2f.prototype);
  Vec2fView.prototype.constructor = Vec2fView;
  Vec3fView.prototype = Object.create(MutableVec3f.prototype);
  Vec3fView.prototype.constructor = Vec3fView;
  Vec4fView.prototype = Object.create(MutableVec4f.prototype);
  Vec4fView.prototype.constructor = Vec4fView;
  Color.prototype = Object.create(Vec4f.prototype);
  Color.prototype.constructor = Color;
  MutableColor.prototype = Object.create(Color.prototype);
  MutableColor.prototype.constructor = MutableColor;
  ColorWrapView.prototype = Object.create(MutableColor.prototype);
  ColorWrapView.prototype.constructor = ColorWrapView;
  Vec2iView.prototype = Object.create(MutableVec2i.prototype);
  Vec2iView.prototype.constructor = Vec2iView;
  Vec3iView.prototype = Object.create(MutableVec3i.prototype);
  Vec3iView.prototype.constructor = Vec3iView;
  Vec4iView.prototype = Object.create(MutableVec4i.prototype);
  Vec4iView.prototype.constructor = Vec4iView;
  VertexView.prototype = Object.create(MutableVec3f.prototype);
  VertexView.prototype.constructor = VertexView;
  function toArray() {
    var array = new Int8Array(this.b1w());
    var inductionVariable = 0;
    var last = this.b1w();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        array[i] = this.r(i);
      }
       while (inductionVariable < last);
    return array;
  }
  function plusAssign(value) {
    this.p3t(value);
  }
  function plusAssign_0(value) {
    this.b4g(value);
  }
  function put(data) {
    return this.b5e(data, 0, data.length);
  }
  function putInt32(value) {
    return this.c5e(value);
  }
  function putInt32_0(data) {
    return this.d5e(data);
  }
  function putUint32(data) {
    return this.e5e(data, 0, data.length);
  }
  function putFloat32(data) {
    return this.d51(data, 0, data.length);
  }
  Level.prototype = Object.create(Enum.prototype);
  Level.prototype.constructor = Level;
  ClipState.prototype = Object.create(Enum.prototype);
  ClipState.prototype.constructor = ClipState;
  ImageAtlasTextureData.prototype = Object.create(TextureData.prototype);
  ImageAtlasTextureData.prototype.constructor = ImageAtlasTextureData;
  ImageTextureData.prototype = Object.create(TextureData.prototype);
  ImageTextureData.prototype.constructor = ImageTextureData;
  JsAssetManager$loadAndPrepareTexture$slambda.prototype = Object.create(CoroutineImpl.prototype);
  JsAssetManager$loadAndPrepareTexture$slambda.prototype.constructor = JsAssetManager$loadAndPrepareTexture$slambda;
  $loadRawCOROUTINE$6.prototype = Object.create(CoroutineImpl.prototype);
  $loadRawCOROUTINE$6.prototype.constructor = $loadRawCOROUTINE$6;
  $loadTextureCOROUTINE$7.prototype = Object.create(CoroutineImpl.prototype);
  $loadTextureCOROUTINE$7.prototype.constructor = $loadTextureCOROUTINE$7;
  $loadImageCOROUTINE$8.prototype = Object.create(CoroutineImpl.prototype);
  $loadImageCOROUTINE$8.prototype.constructor = $loadImageCOROUTINE$8;
  $loadAndPrepareTextureCOROUTINE$12.prototype = Object.create(CoroutineImpl.prototype);
  $loadAndPrepareTextureCOROUTINE$12.prototype.constructor = $loadAndPrepareTextureCOROUTINE$12;
  JsAssetManager.prototype = Object.create(AssetManager.prototype);
  JsAssetManager.prototype.constructor = JsAssetManager;
  JsContext.prototype = Object.create(KoolContext.prototype);
  JsContext.prototype.constructor = JsContext;
  JsInputManager.prototype = Object.create(InputManager.prototype);
  JsInputManager.prototype.constructor = JsInputManager;
  MappedUniformTex1d.prototype = Object.create(MappedUniformTex.prototype);
  MappedUniformTex1d.prototype.constructor = MappedUniformTex1d;
  MappedUniformTex2d.prototype = Object.create(MappedUniformTex.prototype);
  MappedUniformTex2d.prototype.constructor = MappedUniformTex2d;
  MappedUniformTex3d.prototype = Object.create(MappedUniformTex.prototype);
  MappedUniformTex3d.prototype.constructor = MappedUniformTex3d;
  MappedUniformTexCube.prototype = Object.create(MappedUniformTex.prototype);
  MappedUniformTexCube.prototype.constructor = MappedUniformTexCube;
  ShaderGeneratorImplWebGl.prototype = Object.create(ShaderGenerator.prototype);
  ShaderGeneratorImplWebGl.prototype.constructor = ShaderGeneratorImplWebGl;
  Uint8BufferImpl.prototype = Object.create(GenericBuffer.prototype);
  Uint8BufferImpl.prototype.constructor = Uint8BufferImpl;
  Uint32BufferImpl.prototype = Object.create(GenericBuffer.prototype);
  Uint32BufferImpl.prototype.constructor = Uint32BufferImpl;
  Float32BufferImpl.prototype = Object.create(GenericBuffer.prototype);
  Float32BufferImpl.prototype.constructor = Float32BufferImpl;
  MixedBufferImpl.prototype = Object.create(GenericBuffer.prototype);
  MixedBufferImpl.prototype.constructor = MixedBufferImpl;
  Uint16BufferImpl.prototype = Object.create(GenericBuffer.prototype);
  Uint16BufferImpl.prototype.constructor = Uint16BufferImpl;
  //endregion
  function ApplicationCallbacks() {
  }
  ApplicationCallbacks.$metadata$ = interfaceMeta('ApplicationCallbacks');
  function AwaitedAsset_init_$Init$($outer, ref, awaiting, $mask0, $marker, $this) {
    if (!(($mask0 & 4) === 0))
      awaiting = CompletableDeferred($outer.p1r_1);
    AwaitedAsset.call($this, $outer, ref, awaiting);
    return $this;
  }
  function AwaitedAsset_init_$Create$($outer, ref, awaiting, $mask0, $marker) {
    return AwaitedAsset_init_$Init$($outer, ref, awaiting, $mask0, $marker, Object.create(AwaitedAsset.prototype));
  }
  function AssetManager$loader$slambda$slambda($requested, $this_launch, resultContinuation) {
    this.d1s_1 = $requested;
    this.e1s_1 = $this_launch;
    CoroutineImpl.call(this, resultContinuation);
  }
  AssetManager$loader$slambda$slambda.prototype.j1s = function (awaited, $cont) {
    var tmp = this.k1s(awaited, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  AssetManager$loader$slambda$slambda.prototype.s7 = function (p1, $cont) {
    return this.j1s(p1 instanceof AwaitedAsset ? p1 : THROW_CCE(), $cont);
  };
  AssetManager$loader$slambda$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 3;
            this.g1s_1 = this.d1s_1.z2(this.f1s_1.l1s_1);
            if (this.g1s_1 == null) {
              var tmp_0 = this;
              tmp_0.h1s_1 = this.f1s_1.l1s_1;
              var tmp_1 = this;
              tmp_1.i1s_1 = mutableListOf([this.f1s_1]);
              this.d1s_1.a(this.h1s_1, this.i1s_1);
              this.k7_1 = 1;
              suspendResult = this.e1s_1.r1r_1.z1l(this.f1s_1.l1s_1, this);
              if (suspendResult === get_COROUTINE_SUSPENDED()) {
                return suspendResult;
              }
              continue $sm;
            } else {
              this.g1s_1.b(this.f1s_1);
              this.k7_1 = 2;
              continue $sm;
            }

            break;
          case 1:
            this.k7_1 = 2;
            continue $sm;
          case 2:
            return Unit_getInstance();
          case 3:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 3) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  AssetManager$loader$slambda$slambda.prototype.k1s = function (awaited, completion) {
    var i = new AssetManager$loader$slambda$slambda(this.d1s_1, this.e1s_1, completion);
    i.f1s_1 = awaited;
    return i;
  };
  AssetManager$loader$slambda$slambda.$metadata$ = classMeta('AssetManager$loader$slambda$slambda', undefined, undefined, undefined, [1], CoroutineImpl.prototype);
  function AssetManager$loader$slambda$slambda_0($requested, $this_launch, resultContinuation) {
    var i = new AssetManager$loader$slambda$slambda($requested, $this_launch, resultContinuation);
    var l = function (awaited, $cont) {
      return i.j1s(awaited, $cont);
    };
    l.$arity = 1;
    return l;
  }
  function AssetManager$loader$slambda$slambda_1($requested, resultContinuation) {
    this.w1s_1 = $requested;
    CoroutineImpl.call(this, resultContinuation);
  }
  AssetManager$loader$slambda$slambda_1.prototype.y1s = function (loaded, $cont) {
    var tmp = this.z1s(loaded, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  AssetManager$loader$slambda$slambda_1.prototype.s7 = function (p1, $cont) {
    return this.y1s(p1 instanceof LoadedAsset ? p1 : THROW_CCE(), $cont);
  };
  AssetManager$loader$slambda$slambda_1.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        if (tmp === 0) {
          this.l7_1 = 1;
          var awaiting = ensureNotNull(this.w1s_1.tf(this.x1s_1.a1t_1));
          var tmp0_iterator = awaiting.h();
          while (tmp0_iterator.n()) {
            var awaited = tmp0_iterator.o();
            awaited.m1s_1.t1c(this.x1s_1);
          }
          return Unit_getInstance();
        } else if (tmp === 1) {
          throw this.n7_1;
        }
      } catch ($p) {
        throw $p;
      }
     while (true);
  };
  AssetManager$loader$slambda$slambda_1.prototype.z1s = function (loaded, completion) {
    var i = new AssetManager$loader$slambda$slambda_1(this.w1s_1, completion);
    i.x1s_1 = loaded;
    return i;
  };
  AssetManager$loader$slambda$slambda_1.$metadata$ = classMeta('AssetManager$loader$slambda$slambda', undefined, undefined, undefined, [1], CoroutineImpl.prototype);
  function AssetManager$loader$slambda$slambda_2($requested, resultContinuation) {
    var i = new AssetManager$loader$slambda$slambda_1($requested, resultContinuation);
    var l = function (loaded, $cont) {
      return i.y1s(loaded, $cont);
    };
    l.$arity = 1;
    return l;
  }
  function loadWorker($this, assetRefs, loadedAssets) {
    return $this.c1t(AssetManager$loadWorker$slambda_0(assetRefs, loadedAssets, null));
  }
  function loadAsset($this, ref, $cont) {
    var tmp = new $loadAssetCOROUTINE$0($this, ref, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  }
  function AwaitedAsset($outer, ref, awaiting) {
    this.n1s_1 = $outer;
    this.l1s_1 = ref;
    this.m1s_1 = awaiting;
  }
  AwaitedAsset.$metadata$ = classMeta('AwaitedAsset');
  function Companion() {
    Companion_instance = this;
    this.p1t_1 = 8;
  }
  Companion.$metadata$ = objectMeta('Companion');
  var Companion_instance;
  function Companion_getInstance() {
    if (Companion_instance == null)
      new Companion();
    return Companion_instance;
  }
  function AssetManager$loader$slambda(resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
  }
  AssetManager$loader$slambda.prototype.c1u = function ($this$launch, $cont) {
    var tmp = this.d1u($this$launch, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  AssetManager$loader$slambda.prototype.s7 = function (p1, $cont) {
    return this.c1u(p1 instanceof AssetManager ? p1 : THROW_CCE(), $cont);
  };
  AssetManager$loader$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 3;
            var tmp_0 = this;
            tmp_0.z1t_1 = LinkedHashMap_init_$Create$();
            this.k7_1 = 1;
            continue $sm;
          case 1:
            if (false) {}

            this.k7_1 = 2;
            var tmp_1 = this;
            tmp_1.a1u_1 = this;
            this.b1u_1 = new SelectBuilderImpl(this.a1u_1);
            try {
              var tmp_2 = this.y1t_1.q1r_1.u1l();
              this.b1u_1.s1o(tmp_2, AssetManager$loader$slambda$slambda_0(this.z1t_1, this.y1t_1, null));
              var tmp_3 = this.y1t_1.s1r_1.u1l();
              this.b1u_1.s1o(tmp_3, AssetManager$loader$slambda$slambda_2(this.z1t_1, null));
            } catch ($p) {
              if ($p instanceof Error) {
                this.b1u_1.s1p($p);
              } else {
                throw $p;
              }
            }

            suspendResult = returnIfSuspended(this.b1u_1.i1c(), this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 2:
            this.k7_1 = 1;
            continue $sm;
          case 3:
            throw this.n7_1;
          case 4:
            return Unit_getInstance();
        }
      } catch ($p) {
        if (this.l7_1 === 3) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  AssetManager$loader$slambda.prototype.d1u = function ($this$launch, completion) {
    var i = new AssetManager$loader$slambda(completion);
    i.y1t_1 = $this$launch;
    return i;
  };
  AssetManager$loader$slambda.$metadata$ = classMeta('AssetManager$loader$slambda', undefined, undefined, undefined, [1], CoroutineImpl.prototype);
  function AssetManager$loader$slambda_0(resultContinuation) {
    var i = new AssetManager$loader$slambda(resultContinuation);
    var l = function ($this$launch, $cont) {
      return i.c1u($this$launch, $cont);
    };
    l.$arity = 1;
    return l;
  }
  function AssetManager$loadWorker$slambda($assetRefs, $loadedAssets, resultContinuation) {
    this.m1u_1 = $assetRefs;
    this.n1u_1 = $loadedAssets;
    CoroutineImpl.call(this, resultContinuation);
  }
  AssetManager$loadWorker$slambda.prototype.c1u = function ($this$launch, $cont) {
    var tmp = this.d1u($this$launch, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  AssetManager$loadWorker$slambda.prototype.s7 = function (p1, $cont) {
    return this.c1u(p1 instanceof AssetManager ? p1 : THROW_CCE(), $cont);
  };
  AssetManager$loadWorker$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 6;
            this.p1u_1 = this.m1u_1.h();
            this.k7_1 = 1;
            continue $sm;
          case 1:
            this.k7_1 = 2;
            suspendResult = this.p1u_1.l1k(this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 2:
            if (!suspendResult) {
              this.k7_1 = 5;
              continue $sm;
            }

            this.q1u_1 = this.p1u_1.o();
            this.k7_1 = 3;
            suspendResult = loadAsset(this.o1u_1, this.q1u_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 3:
            this.r1u_1 = suspendResult;
            this.k7_1 = 4;
            suspendResult = this.n1u_1.z1l(this.r1u_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 4:
            this.k7_1 = 1;
            continue $sm;
          case 5:
            return Unit_getInstance();
          case 6:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 6) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  AssetManager$loadWorker$slambda.prototype.d1u = function ($this$launch, completion) {
    var i = new AssetManager$loadWorker$slambda(this.m1u_1, this.n1u_1, completion);
    i.o1u_1 = $this$launch;
    return i;
  };
  AssetManager$loadWorker$slambda.$metadata$ = classMeta('AssetManager$loadWorker$slambda', undefined, undefined, undefined, [1], CoroutineImpl.prototype);
  function AssetManager$loadWorker$slambda_0($assetRefs, $loadedAssets, resultContinuation) {
    var i = new AssetManager$loadWorker$slambda($assetRefs, $loadedAssets, resultContinuation);
    var l = function ($this$launch, $cont) {
      return i.c1u($this$launch, $cont);
    };
    l.$arity = 1;
    return l;
  }
  function AssetManager$launch$slambda($block, this$0, resultContinuation) {
    this.a1v_1 = $block;
    this.b1v_1 = this$0;
    CoroutineImpl.call(this, resultContinuation);
  }
  AssetManager$launch$slambda.prototype.d1v = function ($this$launch, $cont) {
    var tmp = this.e1v($this$launch, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  AssetManager$launch$slambda.prototype.s7 = function (p1, $cont) {
    return this.d1v((!(p1 == null) ? isInterface(p1, CoroutineScope) : false) ? p1 : THROW_CCE(), $cont);
  };
  AssetManager$launch$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 2;
            this.k7_1 = 1;
            suspendResult = this.a1v_1(this.b1v_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            return Unit_getInstance();
          case 2:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 2) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  AssetManager$launch$slambda.prototype.e1v = function ($this$launch, completion) {
    var i = new AssetManager$launch$slambda(this.a1v_1, this.b1v_1, completion);
    i.c1v_1 = $this$launch;
    return i;
  };
  AssetManager$launch$slambda.$metadata$ = classMeta('AssetManager$launch$slambda', undefined, undefined, undefined, [1], CoroutineImpl.prototype);
  function AssetManager$launch$slambda_0($block, this$0, resultContinuation) {
    var i = new AssetManager$launch$slambda($block, this$0, resultContinuation);
    var l = function ($this$launch, $cont) {
      return i.d1v($this$launch, $cont);
    };
    l.$arity = 1;
    return l;
  }
  function $loadAssetCOROUTINE$0(_this__u8e3s4, ref, resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
    this.l1t_1 = _this__u8e3s4;
    this.m1t_1 = ref;
  }
  $loadAssetCOROUTINE$0.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 4;
            this.n1t_1 = this.m1t_1;
            var tmp_0 = this.n1t_1;
            if (tmp_0 instanceof RawAssetRef) {
              this.k7_1 = 2;
              suspendResult = this.l1t_1.g1v(this.m1t_1, this);
              if (suspendResult === get_COROUTINE_SUSPENDED()) {
                return suspendResult;
              }
              continue $sm;
            } else {
              var tmp_1 = this.n1t_1;
              if (tmp_1 instanceof TextureAssetRef) {
                this.k7_1 = 1;
                suspendResult = this.l1t_1.f1v(this.m1t_1, this);
                if (suspendResult === get_COROUTINE_SUSPENDED()) {
                  return suspendResult;
                }
                continue $sm;
              } else {
                var tmp_2 = this;
                noWhenBranchMatchedException();
              }
            }

            break;
          case 1:
            this.o1t_1 = suspendResult;
            this.k7_1 = 3;
            continue $sm;
          case 2:
            this.o1t_1 = suspendResult;
            this.k7_1 = 3;
            continue $sm;
          case 3:
            return this.o1t_1;
          case 4:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 4) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  $loadAssetCOROUTINE$0.$metadata$ = classMeta('$loadAssetCOROUTINE$0', undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function $loadAssetCOROUTINE$1(_this__u8e3s4, assetPath, resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
    this.p1v_1 = _this__u8e3s4;
    this.q1v_1 = assetPath;
  }
  $loadAssetCOROUTINE$1.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 3;
            this.r1v_1 = this.p1v_1.t1v(this.q1v_1);
            var tmp_0 = this;
            tmp_0.s1v_1 = AwaitedAsset_init_$Create$(this.p1v_1, this.r1v_1, null, 4, null);
            this.k7_1 = 1;
            suspendResult = this.p1v_1.q1r_1.z1l(this.s1v_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            this.k7_1 = 2;
            suspendResult = this.s1v_1.m1s_1.v1c(this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 2:
            var loaded = suspendResult instanceof LoadedRawAsset ? suspendResult : THROW_CCE();
            var tmp0_safe_receiver = loaded.w1v_1;
            if (tmp0_safe_receiver == null)
              null;
            else {
              var tmp2_dExt = Log_getInstance();
              var tmp1_logExt = Level_DEBUG_getInstance();
              var tmp0_log = getKClassFromExpression(this.p1v_1).ei();
              if (tmp1_logExt.e1w_1 >= tmp2_dExt.y1v_1.e1w_1) {
                var tmp_1 = tmp2_dExt.z1v_1;
                tmp_1(tmp1_logExt, tmp0_log, 'Loaded ' + this.p1v_1.a1w(this.q1v_1) + ' (' + toString_1(tmp0_safe_receiver.b1w() / 1024.0 / 1024.0, 1) + ' mb)');
              }
            }

            ;
            return loaded.w1v_1;
          case 3:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 3) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  $loadAssetCOROUTINE$1.$metadata$ = classMeta('$loadAssetCOROUTINE$1', undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function $loadTextureDataCOROUTINE$2(_this__u8e3s4, assetPath, format, resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
    this.o1w_1 = _this__u8e3s4;
    this.p1w_1 = assetPath;
    this.q1w_1 = format;
  }
  $loadTextureDataCOROUTINE$2.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 3;
            var tmp_0 = this;
            var tmp_1;
            if (this.o1w_1.t1w(this.p1w_1)) {
              tmp_1 = TextureAssetRef_init_$Create$(this.p1w_1, false, this.q1w_1, false, 0, 0, 48, null);
            } else {
              var tmp_2 = this.o1w_1.o1r_1 + '/' + this.p1w_1;
              tmp_1 = TextureAssetRef_init_$Create$(tmp_2, true, this.q1w_1, false, 0, 0, 48, null);
            }

            tmp_0.r1w_1 = tmp_1;
            var tmp_3 = this;
            tmp_3.s1w_1 = AwaitedAsset_init_$Create$(this.o1w_1, this.r1w_1, null, 4, null);
            this.k7_1 = 1;
            suspendResult = this.o1w_1.q1r_1.z1l(this.s1w_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            this.k7_1 = 2;
            suspendResult = this.s1w_1.m1s_1.v1c(this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 2:
            var loaded = suspendResult instanceof LoadedTextureAsset ? suspendResult : THROW_CCE();
            var tmp0_safe_receiver = loaded.w1w_1;
            if (tmp0_safe_receiver == null)
              null;
            else {
              var tmp2_dExt = Log_getInstance();
              var tmp1_logExt = Level_DEBUG_getInstance();
              var tmp0_log = getKClassFromExpression(this.o1w_1).ei();
              if (tmp1_logExt.e1w_1 >= tmp2_dExt.y1v_1.e1w_1) {
                var tmp_4 = tmp2_dExt.z1v_1;
                tmp_4(tmp1_logExt, tmp0_log, 'Loaded ' + this.o1w_1.a1w(this.p1w_1) + ' (' + tmp0_safe_receiver.a1x_1 + ', ' + tmp0_safe_receiver.x1w_1 + 'x' + tmp0_safe_receiver.y1w_1 + ')');
              }
            }

            ;
            var tmp1_elvis_lhs = loaded.w1w_1;
            var tmp_5;
            if (tmp1_elvis_lhs == null) {
              throw KoolException_init_$Create$('Failed loading texture');
            } else {
              tmp_5 = tmp1_elvis_lhs;
            }

            return tmp_5;
          case 3:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 3) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  $loadTextureDataCOROUTINE$2.$metadata$ = classMeta('$loadTextureDataCOROUTINE$2', undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function AssetManager(assetsBaseDir) {
    Companion_getInstance();
    this.o1r_1 = assetsBaseDir;
    var tmp = this;
    tmp.p1r_1 = Job$default(null, 1, null);
    var tmp_0 = this;
    tmp_0.q1r_1 = Channel$default(0, null, null, 7, null);
    var tmp_1 = this;
    Factory_getInstance();
    tmp_1.r1r_1 = Channel$default(2147483647, null, null, 6, null);
    var tmp_2 = this;
    tmp_2.s1r_1 = Channel$default(0, null, null, 7, null);
    var tmp_3 = this;
    var tmp$ret$1;
    {
      Companion_getInstance();
      var tmp0_List = 8;
      var tmp$ret$0;
      {
        var list = ArrayList_init_$Create$(tmp0_List);
        {
          {
          }
          var inductionVariable = 0;
          if (inductionVariable < tmp0_List)
            do {
              var index = inductionVariable;
              inductionVariable = inductionVariable + 1 | 0;
              {
                {
                  loadWorker(this, this.r1r_1, this.s1r_1);
                }
                list.b(Unit_getInstance());
              }
            }
             while (inductionVariable < tmp0_List);
        }
        tmp$ret$0 = list;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    tmp_3.t1r_1 = tmp$ret$1;
    var tmp_4 = this;
    tmp_4.u1r_1 = this.c1t(AssetManager$loader$slambda_0(null));
  }
  AssetManager.prototype.b1x = function () {
    return this.o1r_1;
  };
  AssetManager.prototype.j1f = function () {
    return this.p1r_1;
  };
  AssetManager.prototype.o17 = function () {
    return this.p1r_1;
  };
  AssetManager.prototype.d1x = function (fontProps, fontScale, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      fontScale = 0.0;
    return $handler == null ? this.c1x(fontProps, fontScale) : $handler(fontProps, fontScale);
  };
  AssetManager.prototype.f1x = function (charMap, fontScale, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      fontScale = 0.0;
    return $handler == null ? this.e1x(charMap, fontScale) : $handler(charMap, fontScale);
  };
  AssetManager.prototype.t1w = function (assetPath) {
    return (startsWith(assetPath, 'http://', true) ? true : startsWith(assetPath, 'https://', true)) ? true : startsWith(assetPath, 'data:', true);
  };
  AssetManager.prototype.c1t = function (block) {
    var tmp = isInterface(this, CoroutineScope) ? this : THROW_CCE();
    launch$default(tmp, null, null, AssetManager$launch$slambda_0(block, this, null), 3, null);
  };
  AssetManager.prototype.t1v = function (assetPath) {
    var tmp;
    if (this.t1w(assetPath)) {
      tmp = new RawAssetRef(assetPath, false);
    } else {
      tmp = new RawAssetRef(this.o1r_1 + '/' + assetPath, true);
    }
    return tmp;
  };
  AssetManager.prototype.g1x = function (assetPath, $cont) {
    var tmp = new $loadAssetCOROUTINE$1(this, assetPath, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  AssetManager.prototype.h1x = function (assetPath, format, $cont) {
    var tmp = new $loadTextureDataCOROUTINE$2(this, assetPath, format, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  AssetManager.prototype.i1x = function (assetPath, format, $cont, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      format = null;
    return this.h1x(assetPath, format, $cont);
  };
  AssetManager.prototype.a1w = function (assetPath) {
    var tmp;
    if (startsWith(assetPath, 'data:', true)) {
      var tmp_0 = _Char___init__impl__6a9atx(59);
      var idx = indexOf$default(assetPath, tmp_0, 0, false, 6, null);
      tmp = substring(assetPath, until(0, idx));
    } else {
      tmp = assetPath;
    }
    return tmp;
  };
  AssetManager.$metadata$ = classMeta('AssetManager', [CoroutineScope]);
  function AssetRef() {
  }
  AssetRef.$metadata$ = classMeta('AssetRef');
  function LoadedAsset(ref, successfull) {
    this.a1t_1 = ref;
    this.b1t_1 = successfull;
  }
  LoadedAsset.$metadata$ = classMeta('LoadedAsset');
  function RawAssetRef(url, isLocal) {
    AssetRef.call(this);
    this.l1x_1 = url;
    this.m1x_1 = isLocal;
  }
  RawAssetRef.prototype.n1x = function () {
    return this.l1x_1;
  };
  RawAssetRef.prototype.toString = function () {
    return 'RawAssetRef(url=' + this.l1x_1 + ', isLocal=' + this.m1x_1 + ')';
  };
  RawAssetRef.prototype.hashCode = function () {
    var result = getStringHashCode(this.l1x_1);
    result = imul(result, 31) + (this.m1x_1 | 0) | 0;
    return result;
  };
  RawAssetRef.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof RawAssetRef))
      return false;
    var tmp0_other_with_cast = other instanceof RawAssetRef ? other : THROW_CCE();
    if (!(this.l1x_1 === tmp0_other_with_cast.l1x_1))
      return false;
    if (!(this.m1x_1 === tmp0_other_with_cast.m1x_1))
      return false;
    return true;
  };
  RawAssetRef.$metadata$ = classMeta('RawAssetRef', undefined, undefined, undefined, undefined, AssetRef.prototype);
  function LoadedRawAsset(ref, data) {
    LoadedAsset.call(this, ref, !(data == null));
    this.w1v_1 = data;
  }
  LoadedRawAsset.$metadata$ = classMeta('LoadedRawAsset', undefined, undefined, undefined, undefined, LoadedAsset.prototype);
  function TextureAssetRef_init_$Init$(url, isLocal, fmt, isAtlas, tilesX, tilesY, $mask0, $marker, $this) {
    if (!(($mask0 & 16) === 0))
      tilesX = 1;
    if (!(($mask0 & 32) === 0))
      tilesY = 1;
    TextureAssetRef.call($this, url, isLocal, fmt, isAtlas, tilesX, tilesY);
    return $this;
  }
  function TextureAssetRef_init_$Create$(url, isLocal, fmt, isAtlas, tilesX, tilesY, $mask0, $marker) {
    return TextureAssetRef_init_$Init$(url, isLocal, fmt, isAtlas, tilesX, tilesY, $mask0, $marker, Object.create(TextureAssetRef.prototype));
  }
  function TextureAssetRef(url, isLocal, fmt, isAtlas, tilesX, tilesY) {
    AssetRef.call(this);
    this.o1x_1 = url;
    this.p1x_1 = isLocal;
    this.q1x_1 = fmt;
    this.r1x_1 = isAtlas;
    this.s1x_1 = tilesX;
    this.t1x_1 = tilesY;
  }
  TextureAssetRef.prototype.toString = function () {
    return 'TextureAssetRef(url=' + this.o1x_1 + ', isLocal=' + this.p1x_1 + ', fmt=' + this.q1x_1 + ', isAtlas=' + this.r1x_1 + ', tilesX=' + this.s1x_1 + ', tilesY=' + this.t1x_1 + ')';
  };
  TextureAssetRef.prototype.hashCode = function () {
    var result = getStringHashCode(this.o1x_1);
    result = imul(result, 31) + (this.p1x_1 | 0) | 0;
    result = imul(result, 31) + (this.q1x_1 == null ? 0 : this.q1x_1.hashCode()) | 0;
    result = imul(result, 31) + (this.r1x_1 | 0) | 0;
    result = imul(result, 31) + this.s1x_1 | 0;
    result = imul(result, 31) + this.t1x_1 | 0;
    return result;
  };
  TextureAssetRef.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof TextureAssetRef))
      return false;
    var tmp0_other_with_cast = other instanceof TextureAssetRef ? other : THROW_CCE();
    if (!(this.o1x_1 === tmp0_other_with_cast.o1x_1))
      return false;
    if (!(this.p1x_1 === tmp0_other_with_cast.p1x_1))
      return false;
    if (!equals(this.q1x_1, tmp0_other_with_cast.q1x_1))
      return false;
    if (!(this.r1x_1 === tmp0_other_with_cast.r1x_1))
      return false;
    if (!(this.s1x_1 === tmp0_other_with_cast.s1x_1))
      return false;
    if (!(this.t1x_1 === tmp0_other_with_cast.t1x_1))
      return false;
    return true;
  };
  TextureAssetRef.$metadata$ = classMeta('TextureAssetRef', undefined, undefined, undefined, undefined, AssetRef.prototype);
  function LoadedTextureAsset(ref, data) {
    LoadedAsset.call(this, ref, !(data == null));
    this.w1w_1 = data;
  }
  LoadedTextureAsset.$metadata$ = classMeta('LoadedTextureAsset', undefined, undefined, undefined, undefined, LoadedAsset.prototype);
  function EngineStats() {
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.u1x_1 = tmp$ret$0;
    this.v1x_1 = new Long(0, 0);
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = LinkedHashMap_init_$Create$();
    }
    tmp_0.w1x_1 = tmp$ret$1;
    this.x1x_1 = new Long(0, 0);
    var tmp_1 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = LinkedHashMap_init_$Create$();
    }
    tmp_1.y1x_1 = tmp$ret$2;
    this.z1x_1 = 0;
    this.a1y_1 = 0;
    this.b1y_1 = 0;
  }
  EngineStats.prototype.c1y = function (bufferId, size) {
    var tmp0_safe_receiver = this.u1x_1.a(bufferId, size);
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$1;
      {
        {
        }
        var tmp0_this = this;
        var tmp = tmp0_this;
        var tmp$ret$0;
        {
          var tmp0_minus = tmp0_this.v1x_1;
          tmp$ret$0 = tmp0_minus.la(toLong(tmp0_safe_receiver));
        }
        tmp.v1x_1 = tmp$ret$0;
        tmp$ret$1 = Unit_getInstance();
      }
    }
    var tmp1_this = this;
    var tmp_0 = tmp1_this;
    var tmp$ret$2;
    {
      var tmp0_plus = tmp1_this.v1x_1;
      tmp$ret$2 = tmp0_plus.ka(toLong(size));
    }
    tmp_0.v1x_1 = tmp$ret$2;
  };
  EngineStats.prototype.d1y = function (bufferId) {
    var tmp0_safe_receiver = this.u1x_1.tf(bufferId);
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$1;
      {
        {
        }
        var tmp0_this = this;
        var tmp = tmp0_this;
        var tmp$ret$0;
        {
          var tmp0_minus = tmp0_this.v1x_1;
          tmp$ret$0 = tmp0_minus.la(toLong(tmp0_safe_receiver));
        }
        tmp.v1x_1 = tmp$ret$0;
        tmp$ret$1 = Unit_getInstance();
      }
    }
  };
  EngineStats.prototype.e1y = function (textureId, size) {
    var tmp0_safe_receiver = this.w1x_1.a(textureId, size);
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$1;
      {
        {
        }
        var tmp0_this = this;
        var tmp = tmp0_this;
        var tmp$ret$0;
        {
          var tmp0_minus = tmp0_this.x1x_1;
          tmp$ret$0 = tmp0_minus.la(toLong(tmp0_safe_receiver));
        }
        tmp.x1x_1 = tmp$ret$0;
        tmp$ret$1 = Unit_getInstance();
      }
    }
    var tmp1_this = this;
    var tmp_0 = tmp1_this;
    var tmp$ret$2;
    {
      var tmp0_plus = tmp1_this.x1x_1;
      tmp$ret$2 = tmp0_plus.ka(toLong(size));
    }
    tmp_0.x1x_1 = tmp$ret$2;
  };
  EngineStats.prototype.f1y = function (textureId) {
    var tmp0_safe_receiver = this.w1x_1.tf(textureId);
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$1;
      {
        {
        }
        var tmp0_this = this;
        var tmp = tmp0_this;
        var tmp$ret$0;
        {
          var tmp0_minus = tmp0_this.x1x_1;
          tmp$ret$0 = tmp0_minus.la(toLong(tmp0_safe_receiver));
        }
        tmp.x1x_1 = tmp$ret$0;
        tmp$ret$1 = Unit_getInstance();
      }
    }
  };
  EngineStats.prototype.g1y = function (pipelineId) {
    var tmp$ret$1;
    {
      var tmp0_getOrElse = this.y1x_1;
      var tmp0_elvis_lhs = tmp0_getOrElse.z2(pipelineId);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 0;
        }
        tmp = tmp$ret$0;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      tmp$ret$1 = tmp;
    }
    var insts = tmp$ret$1 + 1 | 0;
    {
      var tmp1_set = this.y1x_1;
      tmp1_set.a(pipelineId, insts);
    }
    var tmp0_this = this;
    var tmp1 = tmp0_this.z1x_1;
    tmp0_this.z1x_1 = tmp1 + 1 | 0;
  };
  EngineStats.prototype.h1y = function (pipelineId) {
    var tmp$ret$1;
    {
      var tmp0_getOrElse = this.y1x_1;
      var tmp0_elvis_lhs = tmp0_getOrElse.z2(pipelineId);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 0;
        }
        tmp = tmp$ret$0;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      tmp$ret$1 = tmp;
    }
    var insts = tmp$ret$1 - 1 | 0;
    if (insts >= 0) {
      {
        var tmp1_set = this.y1x_1;
        tmp1_set.a(pipelineId, insts);
      }
      var tmp0_this = this;
      var tmp1 = tmp0_this.z1x_1;
      tmp0_this.z1x_1 = tmp1 - 1 | 0;
    }
  };
  EngineStats.prototype.i1y = function (pipelineId) {
    var tmp0_safe_receiver = this.y1x_1.tf(pipelineId);
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        var tmp0_this = this;
        tmp0_this.z1x_1 = tmp0_this.z1x_1 - tmp0_safe_receiver | 0;
        tmp$ret$0 = Unit_getInstance();
      }
    }
  };
  EngineStats.prototype.j1y = function () {
    this.a1y_1 = 0;
    this.b1y_1 = 0;
  };
  EngineStats.prototype.k1y = function (nCommands) {
    var tmp0_this = this;
    tmp0_this.a1y_1 = tmp0_this.a1y_1 + nCommands | 0;
  };
  EngineStats.prototype.l1y = function (nPrimitives) {
    var tmp0_this = this;
    tmp0_this.b1y_1 = tmp0_this.b1y_1 + nPrimitives | 0;
  };
  EngineStats.$metadata$ = classMeta('EngineStats');
  function updateButtonDownTimes($this) {
    var downEvents = $this.w1y_1 & $this.v1y_1;
    var inductionVariable = 0;
    var last = $this.y1y_1.length - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if (!((downEvents & 1 << i) === 0)) {
          $this.y1y_1[i] = now();
        }
      }
       while (inductionVariable <= last);
  }
  function InputManager$BufferedPointerInput$UpdateState$STARTED() {
    UpdateState.call(this, 'STARTED', 0);
    UpdateState_STARTED_instance = this;
  }
  InputManager$BufferedPointerInput$UpdateState$STARTED.prototype.o = function () {
    return UpdateState_ACTIVE_getInstance();
  };
  InputManager$BufferedPointerInput$UpdateState$STARTED.$metadata$ = classMeta('STARTED', undefined, undefined, undefined, undefined, UpdateState.prototype);
  var UpdateState_STARTED_instance;
  function InputManager$BufferedPointerInput$UpdateState$ACTIVE() {
    UpdateState.call(this, 'ACTIVE', 1);
    UpdateState_ACTIVE_instance = this;
  }
  InputManager$BufferedPointerInput$UpdateState$ACTIVE.prototype.o = function () {
    return UpdateState_ACTIVE_getInstance();
  };
  InputManager$BufferedPointerInput$UpdateState$ACTIVE.$metadata$ = classMeta('ACTIVE', undefined, undefined, undefined, undefined, UpdateState.prototype);
  var UpdateState_ACTIVE_instance;
  function InputManager$BufferedPointerInput$UpdateState$ENDED_BEFORE_STARTED() {
    UpdateState.call(this, 'ENDED_BEFORE_STARTED', 2);
    UpdateState_ENDED_BEFORE_STARTED_instance = this;
  }
  InputManager$BufferedPointerInput$UpdateState$ENDED_BEFORE_STARTED.prototype.o = function () {
    return UpdateState_ENDED_BEFORE_ACTIVE_getInstance();
  };
  InputManager$BufferedPointerInput$UpdateState$ENDED_BEFORE_STARTED.$metadata$ = classMeta('ENDED_BEFORE_STARTED', undefined, undefined, undefined, undefined, UpdateState.prototype);
  var UpdateState_ENDED_BEFORE_STARTED_instance;
  function InputManager$BufferedPointerInput$UpdateState$ENDED_BEFORE_ACTIVE() {
    UpdateState.call(this, 'ENDED_BEFORE_ACTIVE', 3);
    UpdateState_ENDED_BEFORE_ACTIVE_instance = this;
  }
  InputManager$BufferedPointerInput$UpdateState$ENDED_BEFORE_ACTIVE.prototype.o = function () {
    return UpdateState_ENDED_getInstance();
  };
  InputManager$BufferedPointerInput$UpdateState$ENDED_BEFORE_ACTIVE.$metadata$ = classMeta('ENDED_BEFORE_ACTIVE', undefined, undefined, undefined, undefined, UpdateState.prototype);
  var UpdateState_ENDED_BEFORE_ACTIVE_instance;
  function InputManager$BufferedPointerInput$UpdateState$ENDED() {
    UpdateState.call(this, 'ENDED', 4);
    UpdateState_ENDED_instance = this;
  }
  InputManager$BufferedPointerInput$UpdateState$ENDED.prototype.o = function () {
    return UpdateState_INVALID_getInstance();
  };
  InputManager$BufferedPointerInput$UpdateState$ENDED.$metadata$ = classMeta('ENDED', undefined, undefined, undefined, undefined, UpdateState.prototype);
  var UpdateState_ENDED_instance;
  function InputManager$BufferedPointerInput$UpdateState$INVALID() {
    UpdateState.call(this, 'INVALID', 5);
    UpdateState_INVALID_instance = this;
  }
  InputManager$BufferedPointerInput$UpdateState$INVALID.prototype.o = function () {
    return UpdateState_INVALID_getInstance();
  };
  InputManager$BufferedPointerInput$UpdateState$INVALID.$metadata$ = classMeta('INVALID', undefined, undefined, undefined, undefined, UpdateState.prototype);
  var UpdateState_INVALID_instance;
  var UpdateState_entriesInitialized;
  function UpdateState_initEntries() {
    if (UpdateState_entriesInitialized)
      return Unit_getInstance();
    UpdateState_entriesInitialized = true;
    UpdateState_STARTED_instance = new InputManager$BufferedPointerInput$UpdateState$STARTED();
    UpdateState_ACTIVE_instance = new InputManager$BufferedPointerInput$UpdateState$ACTIVE();
    UpdateState_ENDED_BEFORE_STARTED_instance = new InputManager$BufferedPointerInput$UpdateState$ENDED_BEFORE_STARTED();
    UpdateState_ENDED_BEFORE_ACTIVE_instance = new InputManager$BufferedPointerInput$UpdateState$ENDED_BEFORE_ACTIVE();
    UpdateState_ENDED_instance = new InputManager$BufferedPointerInput$UpdateState$ENDED();
    UpdateState_INVALID_instance = new InputManager$BufferedPointerInput$UpdateState$INVALID();
  }
  function UpdateState(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  UpdateState.$metadata$ = classMeta('UpdateState', undefined, undefined, undefined, undefined, Enum.prototype);
  function UpdateState_STARTED_getInstance() {
    UpdateState_initEntries();
    return UpdateState_STARTED_instance;
  }
  function UpdateState_ACTIVE_getInstance() {
    UpdateState_initEntries();
    return UpdateState_ACTIVE_instance;
  }
  function UpdateState_ENDED_BEFORE_STARTED_getInstance() {
    UpdateState_initEntries();
    return UpdateState_ENDED_BEFORE_STARTED_instance;
  }
  function UpdateState_ENDED_BEFORE_ACTIVE_getInstance() {
    UpdateState_initEntries();
    return UpdateState_ENDED_BEFORE_ACTIVE_instance;
  }
  function UpdateState_ENDED_getInstance() {
    UpdateState_initEntries();
    return UpdateState_ENDED_instance;
  }
  function UpdateState_INVALID_getInstance() {
    UpdateState_initEntries();
    return UpdateState_INVALID_instance;
  }
  function KeyEvent_init_$Init$(keyCode, event, modifiers, $this) {
    KeyEvent.call($this, keyCode, keyCode, event, modifiers);
    return $this;
  }
  function KeyEvent_init_$Create$(keyCode, event, modifiers) {
    return KeyEvent_init_$Init$(keyCode, event, modifiers, Object.create(KeyEvent.prototype));
  }
  function getFreeInputPointer($this) {
    var inductionVariable = 0;
    var last = $this.r1z_1.length - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if (!$this.r1z_1[i].v1z()) {
          return $this.r1z_1[i];
        }
      }
       while (inductionVariable <= last);
    return null;
  }
  function findInputPointer($this, pointerId) {
    var inductionVariable = 0;
    var last = $this.r1z_1.length - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if ($this.r1z_1[i].v1z() ? $this.r1z_1[i].w1z() === pointerId : false) {
          return $this.r1z_1[i];
        }
      }
       while (inductionVariable <= last);
    return null;
  }
  var CursorMode_NORMAL_instance;
  var CursorMode_LOCKED_instance;
  var CursorMode_entriesInitialized;
  function CursorMode_initEntries() {
    if (CursorMode_entriesInitialized)
      return Unit_getInstance();
    CursorMode_entriesInitialized = true;
    CursorMode_NORMAL_instance = new CursorMode('NORMAL', 0);
    CursorMode_LOCKED_instance = new CursorMode('LOCKED', 1);
  }
  var CursorShape_DEFAULT_instance;
  var CursorShape_TEXT_instance;
  var CursorShape_CROSSHAIR_instance;
  var CursorShape_HAND_instance;
  var CursorShape_H_RESIZE_instance;
  var CursorShape_V_RESIZE_instance;
  var CursorShape_entriesInitialized;
  function CursorShape_initEntries() {
    if (CursorShape_entriesInitialized)
      return Unit_getInstance();
    CursorShape_entriesInitialized = true;
    CursorShape_DEFAULT_instance = new CursorShape('DEFAULT', 0);
    CursorShape_TEXT_instance = new CursorShape('TEXT', 1);
    CursorShape_CROSSHAIR_instance = new CursorShape('CROSSHAIR', 2);
    CursorShape_HAND_instance = new CursorShape('HAND', 3);
    CursorShape_H_RESIZE_instance = new CursorShape('H_RESIZE', 4);
    CursorShape_V_RESIZE_instance = new CursorShape('V_RESIZE', 5);
  }
  function Pointer() {
    this.m1y_1 = 0;
    this.n1y_1 = 0.0;
    this.o1y_1 = 0.0;
    this.p1y_1 = 0.0;
    this.q1y_1 = 0.0;
    this.r1y_1 = 0.0;
    this.s1y_1 = 0.0;
    this.t1y_1 = 0.0;
    this.u1y_1 = 0.0;
    this.v1y_1 = 0;
    this.w1y_1 = 0;
    this.x1y_1 = false;
    this.y1y_1 = new Float64Array(5);
    this.z1y_1 = 0;
    this.a1z_1 = 0.0;
  }
  Pointer.prototype.x1z = function (_set____db54di) {
    this.m1y_1 = _set____db54di;
  };
  Pointer.prototype.w1z = function () {
    return this.m1y_1;
  };
  Pointer.prototype.y1z = function (_set____db54di) {
    this.n1y_1 = _set____db54di;
  };
  Pointer.prototype.z1z = function () {
    return this.n1y_1;
  };
  Pointer.prototype.a20 = function (_set____db54di) {
    this.o1y_1 = _set____db54di;
  };
  Pointer.prototype.b20 = function () {
    return this.o1y_1;
  };
  Pointer.prototype.c20 = function (_set____db54di) {
    this.p1y_1 = _set____db54di;
  };
  Pointer.prototype.d20 = function () {
    return this.p1y_1;
  };
  Pointer.prototype.e20 = function (_set____db54di) {
    this.q1y_1 = _set____db54di;
  };
  Pointer.prototype.f20 = function () {
    return this.q1y_1;
  };
  Pointer.prototype.g20 = function (_set____db54di) {
    this.r1y_1 = _set____db54di;
  };
  Pointer.prototype.h20 = function () {
    return this.r1y_1;
  };
  Pointer.prototype.i20 = function (_set____db54di) {
    this.s1y_1 = _set____db54di;
  };
  Pointer.prototype.j20 = function () {
    return this.s1y_1;
  };
  Pointer.prototype.k20 = function (_set____db54di) {
    this.t1y_1 = _set____db54di;
  };
  Pointer.prototype.l20 = function () {
    return this.t1y_1;
  };
  Pointer.prototype.m20 = function (_set____db54di) {
    this.u1y_1 = _set____db54di;
  };
  Pointer.prototype.n20 = function () {
    return this.u1y_1;
  };
  Pointer.prototype.o20 = function () {
    return this.t1y_1;
  };
  Pointer.prototype.p20 = function (value) {
    this.w1y_1 = this.w1y_1 | this.v1y_1 ^ value;
    this.v1y_1 = value;
    if (!((this.w1y_1 & value) === 0)) {
      updateButtonDownTimes(this);
    }
  };
  Pointer.prototype.q20 = function () {
    return this.v1y_1;
  };
  Pointer.prototype.r20 = function (_set____db54di) {
    this.w1y_1 = _set____db54di;
  };
  Pointer.prototype.s20 = function (_set____db54di) {
    this.x1y_1 = _set____db54di;
  };
  Pointer.prototype.v1z = function () {
    return this.x1y_1;
  };
  Pointer.prototype.t20 = function (_set____db54di) {
    this.a1z_1 = _set____db54di;
  };
  Pointer.prototype.u20 = function () {
    return this.a1z_1;
  };
  Pointer.prototype.v20 = function () {
    return !(this.v1y_1 === 0);
  };
  Pointer.prototype.w20 = function () {
    var tmp = this.v1y_1;
    Companion_getInstance_0();
    return !((tmp & 1) === 0);
  };
  Pointer.prototype.x20 = function () {
    var tmp = this.v1y_1;
    Companion_getInstance_0();
    return !((tmp & 2) === 0);
  };
  Pointer.prototype.y20 = function () {
    var tmp = this.v1y_1;
    Companion_getInstance_0();
    return !((tmp & 4) === 0);
  };
  Pointer.prototype.z20 = function () {
    var tmp = this.v1y_1;
    Companion_getInstance_0();
    return !((tmp & 8) === 0);
  };
  Pointer.prototype.a21 = function () {
    var tmp = this.v1y_1;
    Companion_getInstance_0();
    return !((tmp & 16) === 0);
  };
  Pointer.prototype.b21 = function () {
    var tmp = this.w1y_1;
    Companion_getInstance_0();
    return !((tmp & 1) === 0);
  };
  Pointer.prototype.c21 = function () {
    var tmp = this.w1y_1;
    Companion_getInstance_0();
    return !((tmp & 2) === 0);
  };
  Pointer.prototype.d21 = function () {
    var tmp = this.w1y_1;
    Companion_getInstance_0();
    return !((tmp & 4) === 0);
  };
  Pointer.prototype.e21 = function () {
    var tmp = this.w1y_1;
    Companion_getInstance_0();
    return !((tmp & 8) === 0);
  };
  Pointer.prototype.f21 = function () {
    var tmp = this.w1y_1;
    Companion_getInstance_0();
    return !((tmp & 16) === 0);
  };
  Pointer.prototype.g21 = function () {
    return this.b21() ? this.w20() : false;
  };
  Pointer.prototype.h21 = function () {
    return this.c21() ? this.x20() : false;
  };
  Pointer.prototype.i21 = function () {
    return this.d21() ? this.y20() : false;
  };
  Pointer.prototype.j21 = function () {
    return this.b21() ? !this.w20() : false;
  };
  Pointer.prototype.k21 = function () {
    return this.c21() ? !this.x20() : false;
  };
  Pointer.prototype.l21 = function () {
    return this.d21() ? !this.y20() : false;
  };
  Pointer.prototype.m21 = function () {
    return this.e21() ? !this.z20() : false;
  };
  Pointer.prototype.n21 = function () {
    return this.f21() ? !this.a21() : false;
  };
  Pointer.prototype.o21 = function () {
    var tmp;
    var tmp_0;
    if (this.j21()) {
      var tmp_1 = now() - this.y1y_1[0];
      Companion_getInstance_0();
      tmp_0 = tmp_1 < 250.0;
    } else {
      tmp_0 = false;
    }
    if (tmp_0) {
      var tmp_2 = this.a1z_1;
      Companion_getInstance_0();
      tmp = tmp_2 < 20.0;
    } else {
      tmp = false;
    }
    return tmp;
  };
  Pointer.prototype.p21 = function () {
    var tmp;
    var tmp_0;
    if (this.k21()) {
      var tmp_1 = now() - this.y1y_1[1];
      Companion_getInstance_0();
      tmp_0 = tmp_1 < 250.0;
    } else {
      tmp_0 = false;
    }
    if (tmp_0) {
      var tmp_2 = this.a1z_1;
      Companion_getInstance_0();
      tmp = tmp_2 < 20.0;
    } else {
      tmp = false;
    }
    return tmp;
  };
  Pointer.prototype.q21 = function () {
    var tmp;
    var tmp_0;
    if (this.l21()) {
      var tmp_1 = now() - this.y1y_1[2];
      Companion_getInstance_0();
      tmp_0 = tmp_1 < 250.0;
    } else {
      tmp_0 = false;
    }
    if (tmp_0) {
      var tmp_2 = this.a1z_1;
      Companion_getInstance_0();
      tmp = tmp_2 < 20.0;
    } else {
      tmp = false;
    }
    return tmp;
  };
  Pointer.prototype.r21 = function () {
    var tmp;
    var tmp_0;
    if (this.m21()) {
      var tmp_1 = now() - this.y1y_1[3];
      Companion_getInstance_0();
      tmp_0 = tmp_1 < 250.0;
    } else {
      tmp_0 = false;
    }
    if (tmp_0) {
      var tmp_2 = this.a1z_1;
      Companion_getInstance_0();
      tmp = tmp_2 < 20.0;
    } else {
      tmp = false;
    }
    return tmp;
  };
  Pointer.prototype.s21 = function () {
    var tmp;
    var tmp_0;
    if (this.n21()) {
      var tmp_1 = now() - this.y1y_1[4];
      Companion_getInstance_0();
      tmp_0 = tmp_1 < 250.0;
    } else {
      tmp_0 = false;
    }
    if (tmp_0) {
      var tmp_2 = this.a1z_1;
      Companion_getInstance_0();
      tmp = tmp_2 < 20.0;
    } else {
      tmp = false;
    }
    return tmp;
  };
  Pointer.prototype.t21 = function () {
    return this.v20() ? !(this.r1y_1 === 0.0) ? true : !(this.s1y_1 === 0.0) : false;
  };
  Pointer.prototype.u21 = function (mask) {
    this.z1y_1 = this.z1y_1 | mask;
  };
  Pointer.prototype.v21 = function (mask, $mask0, $handler) {
    if (!(($mask0 & 1) === 0)) {
      Companion_getInstance_0();
      mask = -1;
    }
    return this.u21(mask);
  };
  Pointer.prototype.w21 = function (mask) {
    return !((this.z1y_1 & mask) === 0);
  };
  Pointer.$metadata$ = classMeta('Pointer');
  function BufferedPointerInput() {
    Pointer.call(this);
    this.m22_1 = UpdateState_INVALID_getInstance();
    this.n22_1 = UpdateState_INVALID_getInstance();
    this.o22_1 = 0.0;
  }
  BufferedPointerInput.prototype.p22 = function (mask) {
    this.p20(mask);
    if ((this.g21() ? true : this.h21()) ? true : this.i21()) {
      this.g20(0.0);
      this.i20(0.0);
      this.t20(0.0);
    }
  };
  BufferedPointerInput.prototype.q22 = function (pointerId, x, y) {
    this.r22(x, y);
    this.x1z(pointerId);
    this.c20(0.0);
    this.e20(0.0);
    this.g20(0.0);
    this.i20(0.0);
    this.t20(0.0);
    this.m20(0.0);
    this.k20(0.0);
    this.m22_1 = UpdateState_STARTED_getInstance();
    this.s20(true);
  };
  BufferedPointerInput.prototype.r22 = function (x, y) {
    if (this.v20()) {
      var tmp0_this = this;
      tmp0_this.g20(tmp0_this.h20() + (x - this.z1z()));
      var tmp1_this = this;
      tmp1_this.i20(tmp1_this.j20() + (y - this.b20()));
      var tmp2_this = this;
      var tmp = tmp2_this.u20();
      var tmp$ret$0;
      {
        var tmp0_abs = x - this.z1z();
        tmp$ret$0 = Math.abs(tmp0_abs);
      }
      var tmp_0 = tmp$ret$0;
      var tmp$ret$1;
      {
        var tmp1_abs = y - this.b20();
        tmp$ret$1 = Math.abs(tmp1_abs);
      }
      tmp2_this.t20(tmp + (tmp_0 + tmp$ret$1));
    }
    var tmp3_this = this;
    tmp3_this.c20(tmp3_this.d20() + (x - this.z1z()));
    var tmp4_this = this;
    tmp4_this.e20(tmp4_this.f20() + (y - this.b20()));
    this.y1z(x);
    this.a20(y);
    this.o22_1 = now();
  };
  BufferedPointerInput.prototype.s22 = function () {
    var tmp = this;
    var tmp0_subject = this.n22_1;
    var tmp0 = tmp0_subject.w1();
    switch (tmp0) {
      case 1:
        tmp.m22_1 = UpdateState_ENDED_getInstance();
        break;
      case 0:
        tmp.m22_1 = UpdateState_ENDED_BEFORE_ACTIVE_getInstance();
        break;
      default:
        tmp.m22_1 = UpdateState_ENDED_BEFORE_STARTED_getInstance();
        break;
    }
  };
  BufferedPointerInput.prototype.t22 = function () {
    this.p20(0);
    this.r20(0);
    this.c20(0.0);
    this.e20(0.0);
    this.m20(0.0);
    this.k20(0.0);
    this.g20(0.0);
    this.i20(0.0);
    this.t20(0.0);
    this.m22_1 = UpdateState_INVALID_getInstance();
    this.s20(false);
  };
  BufferedPointerInput.prototype.u22 = function (target, t) {
    if (!this.m22_1.equals(UpdateState_INVALID_getInstance()) ? t - this.o22_1 > 200.0 : false) {
      var tmp$ret$3;
      {
        var tmp$ret$2;
        {
          var tmp2_wExt = Log_getInstance();
          var tmp$ret$1;
          {
            var tmp1_logExt = Level_WARN_getInstance();
            var tmp0_log = getKClassFromExpression(this).ei();
            var tmp;
            if (tmp1_logExt.e1w_1 >= tmp2_wExt.y1v_1.e1w_1) {
              var tmp_0 = tmp2_wExt.z1v_1;
              var tmp$ret$0;
              {
                tmp$ret$0 = 'Pointer ' + this.w1z() + ' timed out!';
              }
              tmp = tmp_0(tmp1_logExt, tmp0_log, tmp$ret$0);
            }
            tmp$ret$1 = tmp;
          }
          tmp$ret$2 = tmp$ret$1;
        }
        tmp$ret$3 = tmp$ret$2;
      }
      this.t22();
    }
    target.m1y_1 = this.w1z();
    target.p1y_1 = this.d20();
    target.q1y_1 = this.f20();
    target.r1y_1 = this.h20();
    target.s1y_1 = this.j20();
    target.a1z_1 = this.u20();
    target.u1y_1 = this.n20();
    target.t1y_1 = this.l20();
    target.n1y_1 = this.z1z();
    target.o1y_1 = this.b20();
    target.x1y_1 = true;
    target.z1y_1 = 0;
    target.w1y_1 = 0;
    var tmp0_subject = this.m22_1;
    var tmp0 = tmp0_subject.w1();
    switch (tmp0) {
      case 0:
        target.p20(0);
        break;
      case 2:
        target.p20(0);
        break;
      case 1:
        target.p20(this.q20());
        break;
      case 3:
        target.p20(this.q20());
        break;
      case 4:
        target.p20(0);
        break;
      case 5:
        this.s20(false);
        target.x1y_1 = false;
        break;
    }
    this.c20(0.0);
    this.e20(0.0);
    this.m20(0.0);
    this.k20(0.0);
    this.r20(0);
    this.n22_1 = this.m22_1;
    this.m22_1 = this.m22_1.o();
  };
  BufferedPointerInput.$metadata$ = classMeta('BufferedPointerInput', undefined, undefined, undefined, undefined, Pointer.prototype);
  function KeyEventListener(keyCode, name, filter, callback) {
    this.v22_1 = keyCode;
    this.w22_1 = name;
    this.x22_1 = filter;
    this.y22_1 = callback;
  }
  KeyEventListener.prototype.il = function () {
    return this.w22_1;
  };
  KeyEventListener.prototype.z22 = function (evt) {
    return this.y22_1(evt);
  };
  KeyEventListener.$metadata$ = classMeta('KeyEventListener');
  function KeyEvent(keyCode, localKeyCode, event, modifiers) {
    this.a23_1 = keyCode;
    this.b23_1 = localKeyCode;
    this.c23_1 = modifiers;
    this.d23_1 = event;
    this.e23_1 = _Char___init__impl__6a9atx(0);
  }
  KeyEvent.prototype.f23 = function () {
    return this.c23_1;
  };
  KeyEvent.prototype.g23 = function () {
    var tmp = this.d23_1;
    Companion_getInstance_0();
    return !((tmp & 2) === 0);
  };
  KeyEvent.prototype.h23 = function () {
    var tmp = this.d23_1;
    Companion_getInstance_0();
    return !((tmp & 1) === 0);
  };
  KeyEvent.$metadata$ = classMeta('KeyEvent');
  function PointerState() {
    var tmp = this;
    var tmp_0 = 0;
    Companion_getInstance_0();
    var tmp_1 = 10;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_1), null);
    }
    var tmp_2 = tmp$ret$0;
    while (tmp_0 < tmp_1) {
      var tmp_3 = tmp_0;
      var tmp$ret$1;
      {
        tmp$ret$1 = new Pointer();
      }
      tmp_2[tmp_3] = tmp$ret$1;
      tmp_0 = tmp_0 + 1 | 0;
    }
    tmp.p1z_1 = tmp_2;
    this.q1z_1 = 0.0;
    var tmp_4 = this;
    var tmp_5 = 0;
    Companion_getInstance_0();
    var tmp_6 = 10;
    var tmp$ret$2;
    {
      tmp$ret$2 = fillArrayVal(Array(tmp_6), null);
    }
    var tmp_7 = tmp$ret$2;
    while (tmp_5 < tmp_6) {
      var tmp_8 = tmp_5;
      var tmp$ret$3;
      {
        tmp$ret$3 = new BufferedPointerInput();
      }
      tmp_7[tmp_8] = tmp$ret$3;
      tmp_5 = tmp_5 + 1 | 0;
    }
    tmp_4.r1z_1 = tmp_7;
    this.s1z_1 = new TouchGestureEvaluator();
    this.t1z_1 = true;
    this.u1z_1 = this.p1z_1[0];
  }
  PointerState.prototype.i23 = function (result, consumedMask) {
    result.t7();
    var inductionVariable = 0;
    var last = this.p1z_1.length - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if (this.p1z_1[i].x1y_1 ? !this.p1z_1[i].w21(consumedMask) : false) {
          result.b(this.p1z_1[i]);
        }
      }
       while (inductionVariable <= last);
  };
  PointerState.prototype.j23 = function (result, consumedMask, $mask0, $handler) {
    if (!(($mask0 & 2) === 0)) {
      Companion_getInstance_0();
      consumedMask = -1;
    }
    return this.i23(result, consumedMask);
  };
  PointerState.prototype.k23 = function (ctx) {
    var tmp$ret$0;
    {
      var tmp0_lock = this.r1z_1;
      var inductionVariable = 0;
      var last = this.p1z_1.length - 1 | 0;
      var tmp;
      if (inductionVariable <= last) {
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          this.r1z_1[i].u22(this.p1z_1[i], this.q1z_1);
        }
         while (inductionVariable <= last);
        tmp = Unit_getInstance();
      }
      tmp$ret$0 = tmp;
    }
    if (this.t1z_1) {
      this.s1z_1.r23(this, ctx);
      var tmp0_subject = this.s1z_1.l23_1.z23_1;
      Companion_getInstance_41();
      if (tmp0_subject === 1) {
        this.u1z_1.z1y_1 = 0;
        this.u1z_1.t1y_1 = this.s1z_1.l23_1.y23_1 / 20.0;
        this.u1z_1.n1y_1 = this.s1z_1.l23_1.t23_1.z1z();
        this.u1z_1.o1y_1 = this.s1z_1.l23_1.t23_1.b20();
        this.u1z_1.p1y_1 = this.s1z_1.l23_1.v23_1.z1z();
        this.u1z_1.q1y_1 = this.s1z_1.l23_1.v23_1.b20();
      } else {
        Companion_getInstance_41();
        if (tmp0_subject === 2) {
          this.u1z_1.z1y_1 = 0;
          this.u1z_1.n1y_1 = this.s1z_1.l23_1.t23_1.z1z();
          this.u1z_1.o1y_1 = this.s1z_1.l23_1.t23_1.b20();
          this.u1z_1.p1y_1 = this.s1z_1.l23_1.v23_1.z1z();
          this.u1z_1.q1y_1 = this.s1z_1.l23_1.v23_1.b20();
          var tmp_0 = this.u1z_1.v1y_1;
          Companion_getInstance_0();
          if (tmp_0 === 1) {
            Companion_getInstance_0();
            this.u1z_1.p20(2);
            if (this.s1z_1.l23_1.a24_1 > 1) {
              this.u1z_1.w1y_1 = 0;
            }
          }
        }
      }
    }
  };
  PointerState.prototype.c24 = function (pointerId, x, y) {
    var tmp$ret$0;
    {
      var tmp0_lock = this.r1z_1;
      this.q1z_1 = now();
      var tmp0_elvis_lhs = getFreeInputPointer(this);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        return Unit_getInstance();
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var inPtr = tmp;
      inPtr.q22(pointerId, x, y);
      tmp$ret$0 = inPtr.p20(1);
    }
  };
  PointerState.prototype.d24 = function (pointerId) {
    var tmp$ret$1;
    {
      var tmp0_lock = this.r1z_1;
      var tmp$ret$0;
      {
        var tmp0_safe_receiver = findInputPointer(this, pointerId);
        var tmp;
        if (tmp0_safe_receiver == null) {
          tmp = null;
        } else {
          tmp0_safe_receiver.s22();
          tmp = Unit_getInstance();
        }
        tmp$ret$0 = tmp;
      }
      tmp$ret$1 = tmp$ret$0;
    }
  };
  PointerState.prototype.e24 = function (pointerId) {
    var tmp$ret$1;
    {
      var tmp0_lock = this.r1z_1;
      var tmp$ret$0;
      {
        var tmp0_safe_receiver = findInputPointer(this, pointerId);
        var tmp;
        if (tmp0_safe_receiver == null) {
          tmp = null;
        } else {
          tmp0_safe_receiver.t22();
          tmp = Unit_getInstance();
        }
        tmp$ret$0 = tmp;
      }
      tmp$ret$1 = tmp$ret$0;
    }
  };
  PointerState.prototype.f24 = function (pointerId, x, y) {
    var tmp$ret$1;
    {
      var tmp0_lock = this.r1z_1;
      var tmp$ret$0;
      {
        this.q1z_1 = now();
        var tmp0_safe_receiver = findInputPointer(this, pointerId);
        var tmp;
        if (tmp0_safe_receiver == null) {
          tmp = null;
        } else {
          tmp0_safe_receiver.r22(x, y);
          tmp = Unit_getInstance();
        }
        tmp$ret$0 = tmp;
      }
      tmp$ret$1 = tmp$ret$0;
    }
  };
  PointerState.prototype.g24 = function (x, y) {
    var tmp$ret$0;
    {
      var tmp0_lock = this.r1z_1;
      this.q1z_1 = now();
      Companion_getInstance_0();
      var mousePtr = findInputPointer(this, -1000000);
      var tmp;
      if (mousePtr == null) {
        var tmp0_elvis_lhs = getFreeInputPointer(this);
        var tmp_0;
        if (tmp0_elvis_lhs == null) {
          return Unit_getInstance();
        } else {
          tmp_0 = tmp0_elvis_lhs;
        }
        var startPtr = tmp_0;
        Companion_getInstance_0();
        tmp = startPtr.q22(-1000000, x, y);
      } else {
        tmp = mousePtr.r22(x, y);
      }
      tmp$ret$0 = tmp;
    }
  };
  PointerState.prototype.h24 = function (mask) {
    var tmp$ret$0;
    {
      var tmp0_lock = this.r1z_1;
      Companion_getInstance_0();
      var tmp0_elvis_lhs = findInputPointer(this, -1000000);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        return Unit_getInstance();
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var ptr = tmp;
      tmp$ret$0 = ptr.p22(mask);
    }
  };
  PointerState.prototype.i24 = function (xTicks, yTicks) {
    var tmp$ret$0;
    {
      var tmp0_lock = this.r1z_1;
      Companion_getInstance_0();
      var tmp0_elvis_lhs = findInputPointer(this, -1000000);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        return Unit_getInstance();
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var ptr = tmp;
      var tmp1_this = ptr;
      tmp1_this.m20(tmp1_this.n20() + xTicks);
      var tmp2_this = ptr;
      tmp$ret$0 = tmp2_this.k20(tmp2_this.l20() + yTicks);
    }
  };
  PointerState.prototype.j24 = function () {
    var tmp$ret$1;
    {
      var tmp0_lock = this.r1z_1;
      var tmp$ret$0;
      {
        Companion_getInstance_0();
        var tmp0_safe_receiver = findInputPointer(this, -1000000);
        var tmp;
        if (tmp0_safe_receiver == null) {
          tmp = null;
        } else {
          tmp0_safe_receiver.t22();
          tmp = Unit_getInstance();
        }
        tmp$ret$0 = tmp;
      }
      tmp$ret$1 = tmp$ret$0;
    }
  };
  PointerState.$metadata$ = classMeta('PointerState');
  function CursorMode(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  CursorMode.$metadata$ = classMeta('CursorMode', undefined, undefined, undefined, undefined, Enum.prototype);
  function CursorShape(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  CursorShape.$metadata$ = classMeta('CursorShape', undefined, undefined, undefined, undefined, Enum.prototype);
  function Companion_0() {
    Companion_instance_0 = this;
    this.k24_1 = 20.0;
    this.l24_1 = 250.0;
    this.m24_1 = 0.3;
    this.n24_1 = 0;
    this.o24_1 = 1;
    this.p24_1 = 1;
    this.q24_1 = 2;
    this.r24_1 = 2;
    this.s24_1 = 4;
    this.t24_1 = 3;
    this.u24_1 = 8;
    this.v24_1 = 4;
    this.w24_1 = 16;
    this.x24_1 = 10;
    this.y24_1 = -1000000;
    this.z24_1 = -1;
    this.a25_1 = 1;
    this.b25_1 = 2;
    this.c25_1 = 4;
    this.d25_1 = 8;
    this.e25_1 = 16;
    this.f25_1 = 32;
    this.g25_1 = 64;
    this.h25_1 = 128;
    this.i25_1 = 256;
    this.j25_1 = 1;
    this.k25_1 = 2;
    this.l25_1 = 4;
    this.m25_1 = 8;
    this.n25_1 = 1;
    this.o25_1 = 2;
    this.p25_1 = 4;
    this.q25_1 = 8;
    this.r25_1 = new UniversalKeyCode(-1, 'CTRL_LEFT');
    this.s25_1 = new UniversalKeyCode(-2, 'CTRL_RIGHT');
    this.t25_1 = new UniversalKeyCode(-3, 'SHIFT_LEFT');
    this.u25_1 = new UniversalKeyCode(-4, 'SHIFT_RIGHT');
    this.v25_1 = new UniversalKeyCode(-5, 'ALT_LEFT');
    this.w25_1 = new UniversalKeyCode(-6, 'ALT_RIGHT');
    this.x25_1 = new UniversalKeyCode(-7, 'SUPER_LEFT');
    this.y25_1 = new UniversalKeyCode(-8, 'SUPER_RIGHT');
    this.z25_1 = new UniversalKeyCode(-9, 'ESC');
    this.a26_1 = new UniversalKeyCode(-10, 'MENU');
    this.b26_1 = new UniversalKeyCode(-11, 'ENTER');
    this.c26_1 = new UniversalKeyCode(-12, 'NP_ENTER');
    this.d26_1 = new UniversalKeyCode(-13, 'NP_DIV');
    this.e26_1 = new UniversalKeyCode(-14, 'NP_MUL');
    this.f26_1 = new UniversalKeyCode(-15, 'NP_PLUS');
    this.g26_1 = new UniversalKeyCode(-16, 'NP_MINUS');
    this.h26_1 = new UniversalKeyCode(-17, 'BACKSPACE');
    this.i26_1 = new UniversalKeyCode(-18, 'TAB');
    this.j26_1 = new UniversalKeyCode(-19, 'DEL');
    this.k26_1 = new UniversalKeyCode(-20, 'INSERT');
    this.l26_1 = new UniversalKeyCode(-21, 'HOME');
    this.m26_1 = new UniversalKeyCode(-22, 'END');
    this.n26_1 = new UniversalKeyCode(-23, 'PAGE_UP');
    this.o26_1 = new UniversalKeyCode(-24, 'PAGE_DOWN');
    this.p26_1 = new UniversalKeyCode(-25, 'CURSOR_LEFT');
    this.q26_1 = new UniversalKeyCode(-26, 'CURSOR_RIGHT');
    this.r26_1 = new UniversalKeyCode(-27, 'CURSOR_UP');
    this.s26_1 = new UniversalKeyCode(-28, 'CURSOR_DOWN');
    this.t26_1 = new UniversalKeyCode(-29, 'F1');
    this.u26_1 = new UniversalKeyCode(-30, 'F2');
    this.v26_1 = new UniversalKeyCode(-31, 'F3');
    this.w26_1 = new UniversalKeyCode(-32, 'F4');
    this.x26_1 = new UniversalKeyCode(-33, 'F5');
    this.y26_1 = new UniversalKeyCode(-34, 'F6');
    this.z26_1 = new UniversalKeyCode(-35, 'F7');
    this.a27_1 = new UniversalKeyCode(-36, 'F8');
    this.b27_1 = new UniversalKeyCode(-37, 'F9');
    this.c27_1 = new UniversalKeyCode(-38, 'F10');
    this.d27_1 = new UniversalKeyCode(-39, 'F11');
    this.e27_1 = new UniversalKeyCode(-40, 'F12');
  }
  Companion_0.prototype.f27 = function () {
    return this.y24_1;
  };
  Companion_0.prototype.g27 = function () {
    return this.f25_1;
  };
  Companion_0.prototype.h27 = function () {
    return this.g25_1;
  };
  Companion_0.$metadata$ = objectMeta('Companion');
  var Companion_instance_0;
  function Companion_getInstance_0() {
    if (Companion_instance_0 == null)
      new Companion_0();
    return Companion_instance_0;
  }
  function InputManager$registerKeyListener$lambda() {
    return function (it) {
      return true;
    };
  }
  function CursorMode_NORMAL_getInstance() {
    CursorMode_initEntries();
    return CursorMode_NORMAL_instance;
  }
  function CursorMode_LOCKED_getInstance() {
    CursorMode_initEntries();
    return CursorMode_LOCKED_instance;
  }
  function CursorShape_DEFAULT_getInstance() {
    CursorShape_initEntries();
    return CursorShape_DEFAULT_instance;
  }
  function InputManager() {
    Companion_getInstance_0();
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.i27_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_0.j27_1 = tmp$ret$1;
    this.k27_1 = 0;
    this.l27_1 = 0;
    var tmp_1 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = LinkedHashMap_init_$Create$();
    }
    tmp_1.m27_1 = tmp$ret$2;
    this.n27_1 = new PointerState();
  }
  InputManager.prototype.p27 = function (keyCode, name, filter, callback) {
    var keyStr = toString(keyCode);
    var tmp$ret$2;
    {
      var tmp0_getOrPut = this.m27_1;
      var value = tmp0_getOrPut.z2(keyCode);
      var tmp;
      if (value == null) {
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            tmp$ret$0 = ArrayList_init_$Create$_0();
          }
          tmp$ret$1 = tmp$ret$0;
        }
        var answer = tmp$ret$1;
        tmp0_getOrPut.a(keyCode, answer);
        tmp = answer;
      } else {
        tmp = value;
      }
      tmp$ret$2 = tmp;
    }
    var listeners = tmp$ret$2;
    var tmp$ret$3;
    {
      tmp$ret$3 = !listeners.q();
    }
    if (tmp$ret$3) {
      var tmp$ret$10;
      {
        var tmp$ret$9;
        {
          var tmp3_wExt = Log_getInstance();
          var tmp$ret$8;
          {
            var tmp2_logExt = Level_WARN_getInstance();
            var tmp1_log = getKClassFromExpression(this).ei();
            var tmp_0;
            if (tmp2_logExt.e1w_1 >= tmp3_wExt.y1v_1.e1w_1) {
              var tmp_1 = tmp3_wExt.z1v_1;
              var tmp$ret$7;
              {
                var tmp$ret$6;
                {
                  var tmp$ret$5;
                  {
                    var tmp0_mapTo = ArrayList_init_$Create$(collectionSizeOrDefault(listeners, 10));
                    var tmp0_iterator = listeners.h();
                    while (tmp0_iterator.n()) {
                      var item = tmp0_iterator.o();
                      var tmp$ret$4;
                      {
                        tmp$ret$4 = item.w22_1;
                      }
                      tmp0_mapTo.b(tmp$ret$4);
                    }
                    tmp$ret$5 = tmp0_mapTo;
                  }
                  tmp$ret$6 = tmp$ret$5;
                }
                tmp$ret$7 = 'Multiple bindings for key ' + keyStr + ': ' + tmp$ret$6;
              }
              tmp_0 = tmp_1(tmp2_logExt, tmp1_log, tmp$ret$7);
            }
            tmp$ret$8 = tmp_0;
          }
          tmp$ret$9 = tmp$ret$8;
        }
        tmp$ret$10 = tmp$ret$9;
      }
    }
    var handler = new KeyEventListener(keyCode, name, filter, callback);
    {
      listeners.b(handler);
    }
    var tmp$ret$14;
    {
      var tmp$ret$13;
      {
        var tmp6_dExt = Log_getInstance();
        var tmp$ret$12;
        {
          var tmp5_logExt = Level_DEBUG_getInstance();
          var tmp4_log = getKClassFromExpression(this).ei();
          var tmp_2;
          if (tmp5_logExt.e1w_1 >= tmp6_dExt.y1v_1.e1w_1) {
            var tmp_3 = tmp6_dExt.z1v_1;
            var tmp$ret$11;
            {
              tmp$ret$11 = 'Registered key handler: "' + name + '" [keyCode=' + keyStr + ']';
            }
            tmp_2 = tmp_3(tmp5_logExt, tmp4_log, tmp$ret$11);
          }
          tmp$ret$12 = tmp_2;
        }
        tmp$ret$13 = tmp$ret$12;
      }
      tmp$ret$14 = tmp$ret$13;
    }
    return handler;
  };
  InputManager.prototype.q27 = function (keyCode, name, filter, callback, $mask0, $handler) {
    if (!(($mask0 & 4) === 0)) {
      filter = InputManager$registerKeyListener$lambda();
    }
    return this.p27(keyCode, name, filter, callback);
  };
  InputManager.prototype.r27 = function (listener) {
    var tmp0_elvis_lhs = this.m27_1.z2(listener.v22_1);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return Unit_getInstance();
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var listeners = tmp;
    {
      listeners.c4(listener);
    }
  };
  InputManager.prototype.k23 = function (ctx) {
    this.n27_1.k23(ctx);
    var tmp$ret$0;
    {
      var tmp0_lock = this.i27_1;
      this.j27_1.t7();
      this.j27_1.m1(this.i27_1);
      tmp$ret$0 = this.i27_1.t7();
    }
    var inductionVariable = 0;
    var last = this.j27_1.m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var evt = this.j27_1.r(i);
        if (!(evt.a23_1.s27_1 === 0)) {
          var tmp1_safe_receiver = this.m27_1.z2(evt.a23_1);
          if (tmp1_safe_receiver == null)
            null;
          else {
            var tmp$ret$1;
            {
              {
              }
              var inductionVariable_0 = 0;
              var last_0 = tmp1_safe_receiver.m() - 1 | 0;
              var tmp;
              if (inductionVariable_0 <= last_0) {
                do {
                  var j = inductionVariable_0;
                  inductionVariable_0 = inductionVariable_0 + 1 | 0;
                  if (tmp1_safe_receiver.r(j).x22_1(evt)) {
                    tmp1_safe_receiver.r(j).z22(evt);
                  }
                }
                 while (inductionVariable_0 <= last_0);
                tmp = Unit_getInstance();
              }
              tmp$ret$1 = tmp;
            }
          }
        }
        if (!(evt.b23_1.s27_1 === 0)) {
          var tmp2_safe_receiver = this.m27_1.z2(evt.b23_1);
          if (tmp2_safe_receiver == null)
            null;
          else {
            var tmp$ret$2;
            {
              {
              }
              var inductionVariable_1 = 0;
              var last_1 = tmp2_safe_receiver.m() - 1 | 0;
              var tmp_0;
              if (inductionVariable_1 <= last_1) {
                do {
                  var j_0 = inductionVariable_1;
                  inductionVariable_1 = inductionVariable_1 + 1 | 0;
                  if (tmp2_safe_receiver.r(j_0).x22_1(evt)) {
                    tmp2_safe_receiver.r(j_0).z22(evt);
                  }
                }
                 while (inductionVariable_1 <= last_1);
                tmp_0 = Unit_getInstance();
              }
              tmp$ret$2 = tmp_0;
            }
          }
        }
      }
       while (inductionVariable <= last);
    InputStack_getInstance().y27(this, ctx);
  };
  InputManager.prototype.z27 = function (ev) {
    this.k27_1 = ev.c23_1;
    var tmp = this;
    var tmp_0 = ev.d23_1;
    Companion_getInstance_0();
    tmp.l27_1 = tmp_0 & 4;
    var tmp$ret$1;
    {
      var tmp0_lock = this.i27_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = this.i27_1.b(ev);
      }
      tmp$ret$1 = tmp$ret$0;
    }
  };
  InputManager.prototype.a28 = function (typedChar) {
    var tmp$ret$0;
    {
      tmp$ret$0 = Char__toInt_impl_vasixd(typedChar);
    }
    var tmp = tmp$ret$0;
    var tmp_0 = LocalKeyCode_init_$Create$(tmp, null, 2, null);
    Companion_getInstance_0();
    var ev = KeyEvent_init_$Create$(tmp_0, 8 | this.l27_1, this.k27_1);
    ev.e23_1 = typedChar;
    var tmp$ret$2;
    {
      var tmp0_lock = this.i27_1;
      var tmp$ret$1;
      {
        tmp$ret$1 = this.i27_1.b(ev);
      }
      tmp$ret$2 = tmp$ret$1;
    }
  };
  InputManager.prototype.c24 = function (pointerId, x, y) {
    return this.n27_1.c24(pointerId, x, y);
  };
  InputManager.prototype.d24 = function (pointerId) {
    return this.n27_1.d24(pointerId);
  };
  InputManager.prototype.e24 = function (pointerId) {
    return this.n27_1.e24(pointerId);
  };
  InputManager.prototype.f24 = function (pointerId, x, y) {
    return this.n27_1.f24(pointerId, x, y);
  };
  InputManager.prototype.g24 = function (x, y) {
    return this.n27_1.g24(x, y);
  };
  InputManager.prototype.h24 = function (mask) {
    return this.n27_1.h24(mask);
  };
  InputManager.prototype.i24 = function (xTicks, yTicks) {
    return this.n27_1.i24(xTicks, yTicks);
  };
  InputManager.prototype.j24 = function () {
    return this.n27_1.j24();
  };
  InputManager.$metadata$ = classMeta('InputManager');
  function UniversalKeyCode_init_$Init$(code, name, $mask0, $marker, $this) {
    if (!(($mask0 & 2) === 0))
      name = null;
    UniversalKeyCode.call($this, code, name);
    return $this;
  }
  function UniversalKeyCode_init_$Create$(code, name, $mask0, $marker) {
    return UniversalKeyCode_init_$Init$(code, name, $mask0, $marker, Object.create(UniversalKeyCode.prototype));
  }
  function UniversalKeyCode_init_$Init$_0(codeChar, $this) {
    var tmp$ret$0;
    {
      var tmp0__get_code__88qj9g = uppercaseChar(codeChar);
      tmp$ret$0 = Char__toInt_impl_vasixd(tmp0__get_code__88qj9g);
    }
    var tmp = tmp$ret$0;
    UniversalKeyCode_init_$Init$(tmp, null, 2, null, $this);
    return $this;
  }
  function UniversalKeyCode_init_$Create$_0(codeChar) {
    return UniversalKeyCode_init_$Init$_0(codeChar, Object.create(UniversalKeyCode.prototype));
  }
  function UniversalKeyCode(code, name) {
    KeyCode.call(this, code, false, name);
  }
  UniversalKeyCode.prototype.toString = function () {
    return '{universal:' + this.il() + '}';
  };
  UniversalKeyCode.$metadata$ = classMeta('UniversalKeyCode', undefined, undefined, undefined, undefined, KeyCode.prototype);
  function KeyCode(code, isLocal, name) {
    this.s27_1 = code;
    this.t27_1 = isLocal;
    var tmp = this;
    var tmp0_elvis_lhs = name;
    var tmp_0;
    if (tmp0_elvis_lhs == null) {
      var tmp_1;
      var containsArg = this.s27_1;
      if (32 <= containsArg ? containsArg <= 126 : false) {
        tmp_1 = '' + new Char(numberToChar(this.s27_1));
      } else {
        tmp_1 = '' + this.s27_1;
      }
      tmp_0 = tmp_1;
    } else {
      tmp_0 = tmp0_elvis_lhs;
    }
    tmp.u27_1 = tmp_0;
  }
  KeyCode.prototype.b28 = function () {
    return this.s27_1;
  };
  KeyCode.prototype.il = function () {
    return this.u27_1;
  };
  KeyCode.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof KeyCode))
      return false;
    return this.s27_1 === other.s27_1 ? this.t27_1 === other.t27_1 : false;
  };
  KeyCode.prototype.hashCode = function () {
    return imul(this.s27_1, this.t27_1 ? -1 : 1);
  };
  KeyCode.$metadata$ = classMeta('KeyCode');
  function LocalKeyCode_init_$Init$(code, name, $mask0, $marker, $this) {
    if (!(($mask0 & 2) === 0))
      name = null;
    LocalKeyCode.call($this, code, name);
    return $this;
  }
  function LocalKeyCode_init_$Create$(code, name, $mask0, $marker) {
    return LocalKeyCode_init_$Init$(code, name, $mask0, $marker, Object.create(LocalKeyCode.prototype));
  }
  function LocalKeyCode_init_$Init$_0(codeChar, $this) {
    var tmp$ret$0;
    {
      var tmp0__get_code__88qj9g = uppercaseChar(codeChar);
      tmp$ret$0 = Char__toInt_impl_vasixd(tmp0__get_code__88qj9g);
    }
    var tmp = tmp$ret$0;
    LocalKeyCode_init_$Init$(tmp, null, 2, null, $this);
    return $this;
  }
  function LocalKeyCode_init_$Create$_0(codeChar) {
    return LocalKeyCode_init_$Init$_0(codeChar, Object.create(LocalKeyCode.prototype));
  }
  function LocalKeyCode(code, name) {
    KeyCode.call(this, code, true, name);
  }
  LocalKeyCode.prototype.toString = function () {
    return '{local:' + this.il() + '}';
  };
  LocalKeyCode.$metadata$ = classMeta('LocalKeyCode', undefined, undefined, undefined, undefined, KeyCode.prototype);
  function KeyValueStorage() {
  }
  KeyValueStorage.$metadata$ = interfaceMeta('KeyValueStorage');
  function DelayedCallback(callOnFrame, callback) {
    this.c28_1 = callOnFrame;
    this.d28_1 = callback;
  }
  DelayedCallback.$metadata$ = classMeta('DelayedCallback');
  function Companion_1() {
    Companion_instance_1 = this;
    this.e28_1 = '0.10.0-SNAPSHOT';
  }
  Companion_1.$metadata$ = objectMeta('Companion');
  var Companion_instance_1;
  function Companion_getInstance_1() {
    if (Companion_instance_1 == null)
      new Companion_1();
    return Companion_instance_1;
  }
  function KoolContext$applicationCallbacks$1() {
  }
  KoolContext$applicationCallbacks$1.$metadata$ = classMeta(undefined, [ApplicationCallbacks]);
  function KoolContext$defaultPbrBrdfLut$delegate$lambda(this$0) {
    return function () {
      var tmp$ret$0;
      {
        var tmp0_also = new BrdfLutPass(this$0.v28_1);
        {
        }
        {
          this$0.a29(tmp0_also);
        }
        tmp$ret$0 = tmp0_also;
      }
      return tmp$ret$0.c2a();
    };
  }
  function KoolContext() {
    Companion_getInstance_1();
    this.f28_1 = 1.0;
    this.g28_1 = true;
    this.h28_1 = false;
    this.i28_1 = new EngineStats();
    this.j28_1 = new Mat4d();
    this.k28_1 = new Mat4d();
    this.l28_1 = (new Mat4d()).e2a(0.5, 0.5, 0.5).f2a(0.5, 0.5, 0.5);
    var tmp = this;
    tmp.m28_1 = new KoolContext$applicationCallbacks$1();
    var tmp_0 = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp_0.n28_1 = tmp$ret$0;
    var tmp_1 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_1.o28_1 = tmp$ret$1;
    var tmp_2 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = ArrayList_init_$Create$_0();
    }
    tmp_2.p28_1 = tmp$ret$2;
    this.q28_1 = 0.0;
    this.r28_1 = 0.0;
    this.s28_1 = 0;
    this.t28_1 = 60.0;
    var tmp_3 = this;
    var tmp$ret$3;
    {
      tmp$ret$3 = ArrayList_init_$Create$_0();
    }
    tmp_3.u28_1 = tmp$ret$3;
    this.v28_1 = new Scene('backgroundScene');
    var tmp_4 = this;
    tmp_4.w28_1 = lazy(KoolContext$defaultPbrBrdfLut$delegate$lambda(this));
    var tmp_5 = this;
    var tmp$ret$4;
    {
      tmp$ret$4 = ArrayList_init_$Create$_0();
    }
    tmp_5.x28_1 = tmp$ret$4;
    var tmp_6 = this;
    var tmp$ret$5;
    {
      tmp$ret$5 = ArrayList_init_$Create$_0();
    }
    tmp_6.y28_1 = tmp$ret$5;
    var tmp_7 = this;
    var tmp_8 = 0;
    var tmp_9 = 25;
    var tmp_10 = new Float64Array(tmp_9);
    while (tmp_8 < tmp_9) {
      var tmp_11 = tmp_8;
      var tmp$ret$6;
      {
        tmp$ret$6 = 0.017;
      }
      tmp_10[tmp_11] = tmp$ret$6;
      tmp_8 = tmp_8 + 1 | 0;
    }
    tmp_7.z28_1 = tmp_10;
  }
  KoolContext.prototype.g2a = function (value) {
    var userValue = this.m28_1.n1r(value, this);
    if (!(userValue === this.f28_1)) {
      var tmp$ret$4;
      {
        var tmp$ret$3;
        {
          var tmp2_dExt = Log_getInstance();
          var tmp$ret$2;
          {
            var tmp1_logExt = Level_DEBUG_getInstance();
            var tmp0_log = getKClassFromExpression(this).ei();
            var tmp;
            if (tmp1_logExt.e1w_1 >= tmp2_dExt.y1v_1.e1w_1) {
              var tmp_0 = tmp2_dExt.z1v_1;
              var tmp$ret$1;
              {
                var tmp$ret$0;
                {
                  var tmp0_roundToInt = userValue * 100.0;
                  tmp$ret$0 = roundToInt(tmp0_roundToInt);
                }
                tmp$ret$1 = 'Window scale changed: (' + tmp$ret$0 + ' %)';
              }
              tmp = tmp_0(tmp1_logExt, tmp0_log, tmp$ret$1);
            }
            tmp$ret$2 = tmp;
          }
          tmp$ret$3 = tmp$ret$2;
        }
        tmp$ret$4 = tmp$ret$3;
      }
      this.f28_1 = userValue;
      {
        var tmp3_forEach = this.n28_1;
        var tmp0_iterator = tmp3_forEach.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          {
            element(this);
          }
        }
      }
    }
  };
  KoolContext.prototype.h2a = function (value) {
    this.g28_1 = value;
    {
      var tmp0_forEach = this.o28_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          element(this);
        }
      }
    }
  };
  KoolContext.prototype.i2a = function () {
    return this.h28_1;
  };
  KoolContext.prototype.l2a = function () {
    return this.i28_1;
  };
  KoolContext.prototype.m2a = function () {
    return this.m28_1;
  };
  KoolContext.prototype.n2a = function () {
    return this.u28_1;
  };
  KoolContext.prototype.o2a = function () {
    return this.v28_1.w2b();
  };
  KoolContext.prototype.x2b = function () {
    return this.y28_1;
  };
  KoolContext.prototype.b2c = function (frames, callback) {
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.x28_1;
      var tmp1_plusAssign = new DelayedCallback(this.s28_1 + frames | 0, callback);
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
  };
  KoolContext.prototype.c2c = function (pipeline) {
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.y28_1;
      tmp0_plusAssign.b(pipeline);
    }
  };
  KoolContext.prototype.a29 = function (renderPass) {
    this.v28_1.d2c(renderPass);
  };
  KoolContext.prototype.e2c = function (dt) {
    if (this.h28_1) {
      Profiling_getInstance().j2c('!main-render-loop');
    }
    this.r28_1 = dt;
    var tmp0_this = this;
    tmp0_this.q28_1 = tmp0_this.q28_1 + dt;
    var tmp1_this = this;
    var tmp2 = tmp1_this.s28_1;
    tmp1_this.s28_1 = tmp2 + 1 | 0;
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = this.x28_1;
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      var inductionVariable = this.x28_1.m() - 1 | 0;
      if (0 <= inductionVariable)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + -1 | 0;
          var callback = this.x28_1.r(i);
          if (callback.c28_1 <= this.s28_1) {
            callback.d28_1(this);
            this.x28_1.d4(i);
          }
        }
         while (0 <= inductionVariable);
    }
    this.z28_1[this.s28_1 % this.z28_1.length | 0] = dt;
    var sum = 0.0;
    var inductionVariable_0 = 0;
    var last = this.z28_1.length - 1 | 0;
    if (inductionVariable_0 <= last)
      do {
        var i_0 = inductionVariable_0;
        inductionVariable_0 = inductionVariable_0 + 1 | 0;
        sum = sum + this.z28_1[i_0];
      }
       while (inductionVariable_0 <= last);
    this.t28_1 = this.z28_1.length / sum * 0.1 + this.t28_1 * 0.9;
    this.k2a().k23(this);
    var inductionVariable_1 = 0;
    var last_0 = this.p28_1.m() - 1 | 0;
    if (inductionVariable_1 <= last_0)
      do {
        var i_1 = inductionVariable_1;
        inductionVariable_1 = inductionVariable_1 + 1 | 0;
        this.p28_1.r(i_1)(this);
      }
       while (inductionVariable_1 <= last_0);
    var inductionVariable_2 = this.u28_1.m() - 1 | 0;
    if (0 <= inductionVariable_2)
      do {
        var i_2 = inductionVariable_2;
        inductionVariable_2 = inductionVariable_2 + -1 | 0;
        if (this.u28_1.r(i_2).a2d()) {
          this.u28_1.r(i_2).k2c(this);
        }
      }
       while (0 <= inductionVariable_2);
    this.v28_1.b2d(this);
    var inductionVariable_3 = 0;
    var last_1 = this.u28_1.m() - 1 | 0;
    if (inductionVariable_3 <= last_1)
      do {
        var i_3 = inductionVariable_3;
        inductionVariable_3 = inductionVariable_3 + 1 | 0;
        if (this.u28_1.r(i_3).a2d()) {
          this.u28_1.r(i_3).b2d(this);
        }
      }
       while (inductionVariable_3 <= last_1);
    if (this.h28_1) {
      Profiling_getInstance().c2d('!main-render-loop');
    }
  };
  KoolContext.$metadata$ = classMeta('KoolContext');
  function KoolException_init_$Init$(message, $this) {
    KoolException.call($this, message, null);
    return $this;
  }
  function KoolException_init_$Create$(message) {
    var tmp = KoolException_init_$Init$(message, Object.create(KoolException.prototype));
    captureStack(tmp, KoolException_init_$Create$);
    return tmp;
  }
  function KoolException(message, cause) {
    Exception_init_$Init$(message, cause, this);
    captureStack(this, KoolException);
  }
  KoolException.$metadata$ = classMeta('KoolException', undefined, undefined, undefined, undefined, Exception.prototype);
  function Companion_2() {
    Companion_instance_2 = this;
    this.d2d_1 = new Object();
    this.e2d_1 = new Mat3f();
    this.f2d_1 = new Mat3f();
  }
  Companion_2.$metadata$ = objectMeta('Companion');
  var Companion_instance_2;
  function Companion_getInstance_2() {
    if (Companion_instance_2 == null)
      new Companion_2();
    return Companion_instance_2;
  }
  function Mat3f() {
    Companion_getInstance_2();
    this.g2d_1 = new Float32Array(9);
    this.h2d();
  }
  Mat3f.prototype.h2d = function () {
    var inductionVariable = 1;
    if (inductionVariable <= 8)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.i2d(i, 0.0);
      }
       while (inductionVariable <= 8);
    var inductionVariable_0 = 0;
    var last = getProgressionLastElement(0, 8, 4);
    if (inductionVariable_0 <= last)
      do {
        var i_0 = inductionVariable_0;
        inductionVariable_0 = inductionVariable_0 + 4 | 0;
        this.i2d(i_0, 1.0);
      }
       while (!(i_0 === last));
    return this;
  };
  Mat3f.prototype.i2d = function (i, value) {
    this.g2d_1[i] = value;
  };
  Mat3f.$metadata$ = classMeta('Mat3f');
  function setLookAt($this, px, py, pz, lx, ly, lz, upx, upy, upz) {
    var fx = lx - px;
    var fy = ly - py;
    var fz = lz - pz;
    var tmp$ret$0;
    {
      var tmp0_sqrt = fx * fx + fy * fy + fz * fz;
      tmp$ret$0 = Math.sqrt(tmp0_sqrt);
    }
    var rlf = 1.0 / tmp$ret$0;
    fx = fx * rlf;
    fy = fy * rlf;
    fz = fz * rlf;
    var sx = fy * upz - fz * upy;
    var sy = fz * upx - fx * upz;
    var sz = fx * upy - fy * upx;
    var tmp$ret$1;
    {
      var tmp1_sqrt = sx * sx + sy * sy + sz * sz;
      tmp$ret$1 = Math.sqrt(tmp1_sqrt);
    }
    var rls = 1.0 / tmp$ret$1;
    sx = sx * rls;
    sy = sy * rls;
    sz = sz * rls;
    var ux = sy * fz - sz * fy;
    var uy = sz * fx - sx * fz;
    var uz = sx * fy - sy * fx;
    $this.d2a_1[0] = sx;
    $this.d2a_1[1] = ux;
    $this.d2a_1[2] = -fx;
    $this.d2a_1[3] = 0.0;
    $this.d2a_1[4] = sy;
    $this.d2a_1[5] = uy;
    $this.d2a_1[6] = -fy;
    $this.d2a_1[7] = 0.0;
    $this.d2a_1[8] = sz;
    $this.d2a_1[9] = uz;
    $this.d2a_1[10] = -fz;
    $this.d2a_1[11] = 0.0;
    $this.d2a_1[12] = 0.0;
    $this.d2a_1[13] = 0.0;
    $this.d2a_1[14] = 0.0;
    $this.d2a_1[15] = 1.0;
    return $this.e2a(-px, -py, -pz);
  }
  function Companion_3() {
    Companion_instance_3 = this;
    this.j2d_1 = new Object();
    this.k2d_1 = new Mat4d();
    this.l2d_1 = new Mat4d();
  }
  Companion_3.$metadata$ = objectMeta('Companion');
  var Companion_instance_3;
  function Companion_getInstance_3() {
    if (Companion_instance_3 == null)
      new Companion_3();
    return Companion_instance_3;
  }
  function Mat4d() {
    Companion_getInstance_3();
    this.d2a_1 = new Float64Array(16);
    this.h2d();
  }
  Mat4d.prototype.e2a = function (tx, ty, tz) {
    var inductionVariable = 0;
    if (inductionVariable <= 3)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tmp1_array = this.d2a_1;
        var tmp2_index0 = 12 + i | 0;
        tmp1_array[tmp2_index0] = tmp1_array[tmp2_index0] + (this.d2a_1[i] * tx + this.d2a_1[4 + i | 0] * ty + this.d2a_1[8 + i | 0] * tz);
      }
       while (inductionVariable <= 3);
    return this;
  };
  Mat4d.prototype.f2a = function (sx, sy, sz) {
    var inductionVariable = 0;
    if (inductionVariable <= 3)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tmp1_array = this.d2a_1;
        var tmp2_index0 = i;
        tmp1_array[tmp2_index0] = tmp1_array[tmp2_index0] * sx;
        var tmp3_array = this.d2a_1;
        var tmp4_index0 = 4 + i | 0;
        tmp3_array[tmp4_index0] = tmp3_array[tmp4_index0] * sy;
        var tmp5_array = this.d2a_1;
        var tmp6_index0 = 8 + i | 0;
        tmp5_array[tmp6_index0] = tmp5_array[tmp6_index0] * sz;
      }
       while (inductionVariable <= 3);
    return this;
  };
  Mat4d.prototype.m2d = function () {
    var tmp$ret$0;
    {
      var tmp0_sqrt = this.n2d(0, 0) * this.n2d(0, 0) + this.n2d(1, 0) * this.n2d(1, 0) + this.n2d(2, 0) * this.n2d(2, 0);
      tmp$ret$0 = Math.sqrt(tmp0_sqrt);
    }
    var s0 = 1.0 / tmp$ret$0;
    var tmp$ret$1;
    {
      var tmp1_sqrt = this.n2d(0, 1) * this.n2d(0, 1) + this.n2d(1, 1) * this.n2d(1, 1) + this.n2d(2, 1) * this.n2d(2, 1);
      tmp$ret$1 = Math.sqrt(tmp1_sqrt);
    }
    var s1 = 1.0 / tmp$ret$1;
    var tmp$ret$2;
    {
      var tmp2_sqrt = this.n2d(0, 2) * this.n2d(0, 2) + this.n2d(1, 2) * this.n2d(1, 2) + this.n2d(2, 2) * this.n2d(2, 2);
      tmp$ret$2 = Math.sqrt(tmp2_sqrt);
    }
    var s2 = 1.0 / tmp$ret$2;
    this.f2a(s0, s1, s2);
    return this;
  };
  Mat4d.prototype.o2d = function (result, eps) {
    var src0 = this.d2a_1[0];
    var src4 = this.d2a_1[1];
    var src8 = this.d2a_1[2];
    var src12 = this.d2a_1[3];
    var src1 = this.d2a_1[4];
    var src5 = this.d2a_1[5];
    var src9 = this.d2a_1[6];
    var src13 = this.d2a_1[7];
    var src2 = this.d2a_1[8];
    var src6 = this.d2a_1[9];
    var src10 = this.d2a_1[10];
    var src14 = this.d2a_1[11];
    var src3 = this.d2a_1[12];
    var src7 = this.d2a_1[13];
    var src11 = this.d2a_1[14];
    var src15 = this.d2a_1[15];
    var atmp0 = src10 * src15;
    var atmp1 = src11 * src14;
    var atmp2 = src9 * src15;
    var atmp3 = src11 * src13;
    var atmp4 = src9 * src14;
    var atmp5 = src10 * src13;
    var atmp6 = src8 * src15;
    var atmp7 = src11 * src12;
    var atmp8 = src8 * src14;
    var atmp9 = src10 * src12;
    var atmp10 = src8 * src13;
    var atmp11 = src9 * src12;
    var dst0 = atmp0 * src5 + atmp3 * src6 + atmp4 * src7 - (atmp1 * src5 + atmp2 * src6 + atmp5 * src7);
    var dst1 = atmp1 * src4 + atmp6 * src6 + atmp9 * src7 - (atmp0 * src4 + atmp7 * src6 + atmp8 * src7);
    var dst2 = atmp2 * src4 + atmp7 * src5 + atmp10 * src7 - (atmp3 * src4 + atmp6 * src5 + atmp11 * src7);
    var dst3 = atmp5 * src4 + atmp8 * src5 + atmp11 * src6 - (atmp4 * src4 + atmp9 * src5 + atmp10 * src6);
    var dst4 = atmp1 * src1 + atmp2 * src2 + atmp5 * src3 - (atmp0 * src1 + atmp3 * src2 + atmp4 * src3);
    var dst5 = atmp0 * src0 + atmp7 * src2 + atmp8 * src3 - (atmp1 * src0 + atmp6 * src2 + atmp9 * src3);
    var dst6 = atmp3 * src0 + atmp6 * src1 + atmp11 * src3 - (atmp2 * src0 + atmp7 * src1 + atmp10 * src3);
    var dst7 = atmp4 * src0 + atmp9 * src1 + atmp10 * src2 - (atmp5 * src0 + atmp8 * src1 + atmp11 * src2);
    var btmp0 = src2 * src7;
    var btmp1 = src3 * src6;
    var btmp2 = src1 * src7;
    var btmp3 = src3 * src5;
    var btmp4 = src1 * src6;
    var btmp5 = src2 * src5;
    var btmp6 = src0 * src7;
    var btmp7 = src3 * src4;
    var btmp8 = src0 * src6;
    var btmp9 = src2 * src4;
    var btmp10 = src0 * src5;
    var btmp11 = src1 * src4;
    var dst8 = btmp0 * src13 + btmp3 * src14 + btmp4 * src15 - (btmp1 * src13 + btmp2 * src14 + btmp5 * src15);
    var dst9 = btmp1 * src12 + btmp6 * src14 + btmp9 * src15 - (btmp0 * src12 + btmp7 * src14 + btmp8 * src15);
    var dst10 = btmp2 * src12 + btmp7 * src13 + btmp10 * src15 - (btmp3 * src12 + btmp6 * src13 + btmp11 * src15);
    var dst11 = btmp5 * src12 + btmp8 * src13 + btmp11 * src14 - (btmp4 * src12 + btmp9 * src13 + btmp10 * src14);
    var dst12 = btmp2 * src10 + btmp5 * src11 + btmp1 * src9 - (btmp4 * src11 + btmp0 * src9 + btmp3 * src10);
    var dst13 = btmp8 * src11 + btmp0 * src8 + btmp7 * src10 - (btmp6 * src10 + btmp9 * src11 + btmp1 * src8);
    var dst14 = btmp6 * src9 + btmp11 * src11 + btmp3 * src8 - (btmp10 * src11 + btmp2 * src8 + btmp7 * src9);
    var dst15 = btmp10 * src10 + btmp4 * src8 + btmp9 * src9 - (btmp8 * src9 + btmp11 * src10 + btmp5 * src8);
    var det = src0 * dst0 + src1 * dst1 + src2 * dst2 + src3 * dst3;
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = Math.abs(det);
      }
      tmp$ret$1 = tmp$ret$0 <= eps;
    }
    if (tmp$ret$1) {
      return false;
    }
    var invdet = 1.0 / det;
    result.d2a_1[0] = dst0 * invdet;
    result.d2a_1[1] = dst1 * invdet;
    result.d2a_1[2] = dst2 * invdet;
    result.d2a_1[3] = dst3 * invdet;
    result.d2a_1[4] = dst4 * invdet;
    result.d2a_1[5] = dst5 * invdet;
    result.d2a_1[6] = dst6 * invdet;
    result.d2a_1[7] = dst7 * invdet;
    result.d2a_1[8] = dst8 * invdet;
    result.d2a_1[9] = dst9 * invdet;
    result.d2a_1[10] = dst10 * invdet;
    result.d2a_1[11] = dst11 * invdet;
    result.d2a_1[12] = dst12 * invdet;
    result.d2a_1[13] = dst13 * invdet;
    result.d2a_1[14] = dst14 * invdet;
    result.d2a_1[15] = dst15 * invdet;
    return true;
  };
  Mat4d.prototype.p2d = function (result, eps, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      eps = 0.0;
    return this.o2d(result, eps);
  };
  Mat4d.prototype.q2d = function (vec, w) {
    var x = vec.z1z() * this.n2d(0, 0) + vec.b20() * this.n2d(0, 1) + vec.s2d() * this.n2d(0, 2) + w * this.n2d(0, 3);
    var y = vec.z1z() * this.n2d(1, 0) + vec.b20() * this.n2d(1, 1) + vec.s2d() * this.n2d(1, 2) + w * this.n2d(1, 3);
    var z = vec.z1z() * this.n2d(2, 0) + vec.b20() * this.n2d(2, 1) + vec.s2d() * this.n2d(2, 2) + w * this.n2d(2, 3);
    return vec.t2d(x, y, z);
  };
  Mat4d.prototype.u2d = function (vec, w, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      w = 1.0;
    return this.q2d(vec, w);
  };
  Mat4d.prototype.v2d = function (other) {
    var tmp$ret$1;
    {
      var tmp0_lock = Companion_getInstance_3().j2d_1;
      var tmp$ret$0;
      {
        this.w2d(other, Companion_getInstance_3().k2d_1);
        tmp$ret$0 = this.x2d(Companion_getInstance_3().k2d_1);
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1;
  };
  Mat4d.prototype.w2d = function (other, result) {
    var inductionVariable = 0;
    if (inductionVariable <= 3)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var inductionVariable_0 = 0;
        if (inductionVariable_0 <= 3)
          do {
            var j = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            var x = 0.0;
            var inductionVariable_1 = 0;
            if (inductionVariable_1 <= 3)
              do {
                var k = inductionVariable_1;
                inductionVariable_1 = inductionVariable_1 + 1 | 0;
                x = x + this.d2a_1[j + imul(k, 4) | 0] * other.d2a_1[imul(i, 4) + k | 0];
              }
               while (inductionVariable_1 <= 3);
            result.d2a_1[imul(i, 4) + j | 0] = x;
          }
           while (inductionVariable_0 <= 3);
      }
       while (inductionVariable <= 3);
    return result;
  };
  Mat4d.prototype.x2d = function (other) {
    var inductionVariable = 0;
    if (inductionVariable <= 15)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.d2a_1[i] = other.d2a_1[i];
      }
       while (inductionVariable <= 15);
    return this;
  };
  Mat4d.prototype.h2d = function () {
    var inductionVariable = 1;
    if (inductionVariable <= 15)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.d2a_1[i] = 0.0;
      }
       while (inductionVariable <= 15);
    this.d2a_1[0] = 1.0;
    this.d2a_1[5] = 1.0;
    this.d2a_1[10] = 1.0;
    this.d2a_1[15] = 1.0;
    return this;
  };
  Mat4d.prototype.y2d = function (position, lookAt, up) {
    return setLookAt(this, position.z1z(), position.b20(), position.s2d(), lookAt.z1z(), lookAt.b20(), lookAt.s2d(), up.z1z(), up.b20(), up.s2d());
  };
  Mat4d.prototype.a2e = function (left, right, bottom, top, near, far) {
    return this.b2e(left, right, bottom, top, near, far);
  };
  Mat4d.prototype.b2e = function (left, right, bottom, top, near, far) {
    if (left === right) {
      throw IllegalArgumentException_init_$Create$('left == right');
    }
    if (bottom === top) {
      throw IllegalArgumentException_init_$Create$('bottom == top');
    }
    if (near === far) {
      throw IllegalArgumentException_init_$Create$('near == far');
    }
    var width = 1.0 / (right - left);
    var height = 1.0 / (top - bottom);
    var depth = 1.0 / (far - near);
    var x = 2.0 * width;
    var y = 2.0 * height;
    var z = -2.0 * depth;
    var tx = -(right + left) * width;
    var ty = -(top + bottom) * height;
    var tz = -(far + near) * depth;
    this.d2a_1[0] = x;
    this.d2a_1[5] = y;
    this.d2a_1[10] = z;
    this.d2a_1[12] = tx;
    this.d2a_1[13] = ty;
    this.d2a_1[14] = tz;
    this.d2a_1[15] = 1.0;
    this.d2a_1[1] = 0.0;
    this.d2a_1[2] = 0.0;
    this.d2a_1[3] = 0.0;
    this.d2a_1[4] = 0.0;
    this.d2a_1[6] = 0.0;
    this.d2a_1[7] = 0.0;
    this.d2a_1[8] = 0.0;
    this.d2a_1[9] = 0.0;
    this.d2a_1[11] = 0.0;
    return this;
  };
  Mat4d.prototype.c2e = function (fovy, aspect, near, far) {
    return this.d2e(fovy, aspect, near, far);
  };
  Mat4d.prototype.d2e = function (fovy, aspect, near, far) {
    var tmp$ret$0;
    {
      var tmp0_tan = fovy * (get_PI() / 360.0);
      tmp$ret$0 = Math.tan(tmp0_tan);
    }
    var f = 1.0 / tmp$ret$0;
    var rangeReciprocal = 1.0 / (near - far);
    this.d2a_1[0] = f / aspect;
    this.d2a_1[1] = 0.0;
    this.d2a_1[2] = 0.0;
    this.d2a_1[3] = 0.0;
    this.d2a_1[4] = 0.0;
    this.d2a_1[5] = f;
    this.d2a_1[6] = 0.0;
    this.d2a_1[7] = 0.0;
    this.d2a_1[8] = 0.0;
    this.d2a_1[9] = 0.0;
    this.d2a_1[10] = (far + near) * rangeReciprocal;
    this.d2a_1[11] = -1.0;
    this.d2a_1[12] = 0.0;
    this.d2a_1[13] = 0.0;
    this.d2a_1[14] = 2.0 * far * near * rangeReciprocal;
    this.d2a_1[15] = 0.0;
    return this;
  };
  Mat4d.prototype.n2d = function (row, col) {
    return this.d2a_1[imul(col, 4) + row | 0];
  };
  Mat4d.$metadata$ = classMeta('Mat4d');
  function Companion_4() {
    Companion_instance_4 = this;
    this.e2e_1 = new Object();
    this.f2e_1 = new Mat4f();
    this.g2e_1 = new Mat4f();
  }
  Companion_4.$metadata$ = objectMeta('Companion');
  var Companion_instance_4;
  function Companion_getInstance_4() {
    if (Companion_instance_4 == null)
      new Companion_4();
    return Companion_instance_4;
  }
  function Mat4f() {
    Companion_getInstance_4();
    this.h2e_1 = new Float32Array(16);
    this.h2d();
  }
  Mat4f.prototype.i2e = function () {
    return this.h2e_1;
  };
  Mat4f.prototype.j2e = function (tx, ty, tz) {
    var inductionVariable = 0;
    if (inductionVariable <= 3)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tmp1_array = this.h2e_1;
        var tmp2_index0 = 12 + i | 0;
        tmp1_array[tmp2_index0] = tmp1_array[tmp2_index0] + (this.h2e_1[i] * tx + this.h2e_1[4 + i | 0] * ty + this.h2e_1[8 + i | 0] * tz);
      }
       while (inductionVariable <= 3);
    return this;
  };
  Mat4f.prototype.k2e = function (angleDeg, axX, axY, axZ) {
    var tmp$ret$1;
    {
      var tmp0_lock = Companion_getInstance_4().e2e_1;
      var tmp$ret$0;
      {
        Companion_getInstance_4().f2e_1.l2e(angleDeg, axX, axY, axZ);
        tmp$ret$0 = this.n2e(this.m2e(Companion_getInstance_4().f2e_1, Companion_getInstance_4().g2e_1));
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1;
  };
  Mat4f.prototype.o2e = function (angleDeg, axis) {
    return this.k2e(angleDeg, axis.z1z(), axis.b20(), axis.s2d());
  };
  Mat4f.prototype.p2e = function (sx, sy, sz) {
    var inductionVariable = 0;
    if (inductionVariable <= 3)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tmp1_array = this.h2e_1;
        var tmp2_index0 = i;
        tmp1_array[tmp2_index0] = tmp1_array[tmp2_index0] * sx;
        var tmp3_array = this.h2e_1;
        var tmp4_index0 = 4 + i | 0;
        tmp3_array[tmp4_index0] = tmp3_array[tmp4_index0] * sy;
        var tmp5_array = this.h2e_1;
        var tmp6_index0 = 8 + i | 0;
        tmp5_array[tmp6_index0] = tmp5_array[tmp6_index0] * sz;
      }
       while (inductionVariable <= 3);
    return this;
  };
  Mat4f.prototype.q2d = function (vec, w) {
    var x = vec.z1z() * this.n2d(0, 0) + vec.b20() * this.n2d(0, 1) + vec.s2d() * this.n2d(0, 2) + w * this.n2d(0, 3);
    var y = vec.z1z() * this.n2d(1, 0) + vec.b20() * this.n2d(1, 1) + vec.s2d() * this.n2d(1, 2) + w * this.n2d(1, 3);
    var z = vec.z1z() * this.n2d(2, 0) + vec.b20() * this.n2d(2, 1) + vec.s2d() * this.n2d(2, 2) + w * this.n2d(2, 3);
    return vec.t2d(x, y, z);
  };
  Mat4f.prototype.u2d = function (vec, w, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      w = 1.0;
    return this.q2d(vec, w);
  };
  Mat4f.prototype.m2e = function (other, result) {
    var inductionVariable = 0;
    if (inductionVariable <= 3)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var inductionVariable_0 = 0;
        if (inductionVariable_0 <= 3)
          do {
            var j = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            var x = 0.0;
            var inductionVariable_1 = 0;
            if (inductionVariable_1 <= 3)
              do {
                var k = inductionVariable_1;
                inductionVariable_1 = inductionVariable_1 + 1 | 0;
                x = x + this.h2e_1[j + imul(k, 4) | 0] * other.h2e_1[imul(i, 4) + k | 0];
              }
               while (inductionVariable_1 <= 3);
            result.h2e_1[imul(i, 4) + j | 0] = x;
          }
           while (inductionVariable_0 <= 3);
      }
       while (inductionVariable <= 3);
    return result;
  };
  Mat4f.prototype.n2e = function (other) {
    var inductionVariable = 0;
    if (inductionVariable <= 15)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.h2e_1[i] = other.h2e_1[i];
      }
       while (inductionVariable <= 15);
    return this;
  };
  Mat4f.prototype.x2d = function (other) {
    var inductionVariable = 0;
    if (inductionVariable <= 15)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.h2e_1[i] = other.d2a_1[i];
      }
       while (inductionVariable <= 15);
    return this;
  };
  Mat4f.prototype.h2d = function () {
    var inductionVariable = 1;
    if (inductionVariable <= 15)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.h2e_1[i] = 0.0;
      }
       while (inductionVariable <= 15);
    this.h2e_1[0] = 1.0;
    this.h2e_1[5] = 1.0;
    this.h2e_1[10] = 1.0;
    this.h2e_1[15] = 1.0;
    return this;
  };
  Mat4f.prototype.l2e = function (rotA, axX, axY, axZ) {
    var tmp$ret$0;
    {
      tmp$ret$0 = rotA * get_DEG_2_RAD();
    }
    var a = tmp$ret$0;
    var x = axX;
    var y = axY;
    var z = axZ;
    this.h2e_1[3] = 0.0;
    this.h2e_1[7] = 0.0;
    this.h2e_1[11] = 0.0;
    this.h2e_1[12] = 0.0;
    this.h2e_1[13] = 0.0;
    this.h2e_1[14] = 0.0;
    this.h2e_1[15] = 1.0;
    var tmp$ret$1;
    {
      tmp$ret$1 = Math.sin(a);
    }
    var s = tmp$ret$1;
    var tmp$ret$2;
    {
      tmp$ret$2 = Math.cos(a);
    }
    var c = tmp$ret$2;
    if ((x > 0.0 ? y === 0.0 : false) ? z === 0.0 : false) {
      this.h2e_1[5] = c;
      this.h2e_1[10] = c;
      this.h2e_1[6] = s;
      this.h2e_1[9] = -s;
      this.h2e_1[1] = 0.0;
      this.h2e_1[2] = 0.0;
      this.h2e_1[4] = 0.0;
      this.h2e_1[8] = 0.0;
      this.h2e_1[0] = 1.0;
    } else if ((x === 0.0 ? y > 0.0 : false) ? z === 0.0 : false) {
      this.h2e_1[0] = c;
      this.h2e_1[10] = c;
      this.h2e_1[8] = s;
      this.h2e_1[2] = -s;
      this.h2e_1[1] = 0.0;
      this.h2e_1[4] = 0.0;
      this.h2e_1[6] = 0.0;
      this.h2e_1[9] = 0.0;
      this.h2e_1[5] = 1.0;
    } else if ((x === 0.0 ? y === 0.0 : false) ? z > 0.0 : false) {
      this.h2e_1[0] = c;
      this.h2e_1[5] = c;
      this.h2e_1[1] = s;
      this.h2e_1[4] = -s;
      this.h2e_1[2] = 0.0;
      this.h2e_1[6] = 0.0;
      this.h2e_1[8] = 0.0;
      this.h2e_1[9] = 0.0;
      this.h2e_1[10] = 1.0;
    } else {
      var tmp$ret$3;
      {
        var tmp0_sqrt = x * x + y * y + z * z;
        tmp$ret$3 = Math.sqrt(tmp0_sqrt);
      }
      var recipLen = 1.0 / tmp$ret$3;
      x = x * recipLen;
      y = y * recipLen;
      z = z * recipLen;
      var nc = 1.0 - c;
      var xy = x * y;
      var yz = y * z;
      var zx = z * x;
      var xs = x * s;
      var ys = y * s;
      var zs = z * s;
      this.h2e_1[0] = x * x * nc + c;
      this.h2e_1[4] = xy * nc - zs;
      this.h2e_1[8] = zx * nc + ys;
      this.h2e_1[1] = xy * nc + zs;
      this.h2e_1[5] = y * y * nc + c;
      this.h2e_1[9] = yz * nc - xs;
      this.h2e_1[2] = zx * nc - ys;
      this.h2e_1[6] = yz * nc + xs;
      this.h2e_1[10] = z * z * nc + c;
    }
    return this;
  };
  Mat4f.prototype.n2d = function (row, col) {
    return this.h2e_1[imul(col, 4) + row | 0];
  };
  Mat4f.$metadata$ = classMeta('Mat4f');
  function Mat4fStack_init_$Init$(stackSize, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0)) {
      Companion_getInstance_5();
      stackSize = 32;
    }
    Mat4fStack.call($this, stackSize);
    return $this;
  }
  function Mat4fStack_init_$Create$(stackSize, $mask0, $marker) {
    return Mat4fStack_init_$Init$(stackSize, $mask0, $marker, Object.create(Mat4fStack.prototype));
  }
  function Companion_5() {
    Companion_instance_5 = this;
    this.q2e_1 = 32;
  }
  Companion_5.$metadata$ = objectMeta('Companion');
  var Companion_instance_5;
  function Companion_getInstance_5() {
    if (Companion_instance_5 == null)
      new Companion_5();
    return Companion_instance_5;
  }
  function Mat4fStack(stackSize) {
    Companion_getInstance_5();
    Mat4f.call(this);
    this.s2e_1 = stackSize;
    this.t2e_1 = 0;
    this.u2e_1 = new Float32Array(imul(16, this.s2e_1));
  }
  Mat4fStack.prototype.v2e = function () {
    if (this.t2e_1 >= this.s2e_1) {
      throw KoolException_init_$Create$('Matrix stack overflow');
    }
    var offset = imul(this.t2e_1, 16);
    var inductionVariable = 0;
    if (inductionVariable <= 15)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.u2e_1[offset + i | 0] = this.i2e()[i];
      }
       while (inductionVariable <= 15);
    var tmp1_this = this;
    var tmp2 = tmp1_this.t2e_1;
    tmp1_this.t2e_1 = tmp2 + 1 | 0;
    return this;
  };
  Mat4fStack.prototype.w2e = function () {
    if (this.t2e_1 <= 0) {
      throw KoolException_init_$Create$('Matrix stack underflow');
    }
    var tmp0_this = this;
    var tmp1 = tmp0_this.t2e_1;
    tmp0_this.t2e_1 = tmp1 - 1 | 0;
    var offset = imul(this.t2e_1, 16);
    var inductionVariable = 0;
    if (inductionVariable <= 15)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.i2e()[i] = this.u2e_1[offset + i | 0];
      }
       while (inductionVariable <= 15);
    return this;
  };
  Mat4fStack.$metadata$ = classMeta('Mat4fStack', undefined, undefined, undefined, undefined, Mat4f.prototype);
  function isFuzzyZero(_this__u8e3s4, eps) {
    var tmp$ret$0;
    {
      tmp$ret$0 = Math.abs(_this__u8e3s4);
    }
    return tmp$ret$0 <= eps;
  }
  function toRad(_this__u8e3s4) {
    return _this__u8e3s4 * 0.017453292519943295;
  }
  function get_FUZZY_EQ_F() {
    return FUZZY_EQ_F;
  }
  var FUZZY_EQ_F;
  function toDeg(_this__u8e3s4) {
    return _this__u8e3s4 * 57.29577951308232;
  }
  function get_DEG_2_RAD() {
    return DEG_2_RAD;
  }
  var DEG_2_RAD;
  function isFuzzyZero_0(_this__u8e3s4, eps) {
    var tmp$ret$0;
    {
      tmp$ret$0 = Math.abs(_this__u8e3s4);
    }
    return tmp$ret$0 <= eps;
  }
  function get_RAD_2_DEG() {
    return RAD_2_DEG;
  }
  var RAD_2_DEG;
  function clamp(_this__u8e3s4, min, max) {
    return _this__u8e3s4 < min ? min : _this__u8e3s4 > max ? max : _this__u8e3s4;
  }
  function clamp_0(_this__u8e3s4, min, max) {
    return _this__u8e3s4 < min ? min : _this__u8e3s4 > max ? max : _this__u8e3s4;
  }
  function get_defaultRandomInstance() {
    init_properties_Random_kt_cngb49();
    return defaultRandomInstance;
  }
  var defaultRandomInstance;
  function Random(seed) {
    this.x2e_1 = seed;
    this.y2e_1 = 362436000;
    this.z2e_1 = 521288629;
    this.a2f_1 = 7654321;
    this.b2f_1 = false;
    this.c2f_1 = 0.0;
  }
  Random.prototype.d2f = function () {
    this.x2e_1 = imul(69069, this.x2e_1) + 12345 | 0;
    this.y2e_1 = this.y2e_1 ^ this.y2e_1 << 13;
    this.y2e_1 = this.y2e_1 ^ this.y2e_1 >> 17;
    this.y2e_1 = this.y2e_1 ^ this.y2e_1 << 5;
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_times = this.z2e_1;
        tmp$ret$0 = (new Long(698769069, 0)).ja(toLong(tmp0_times));
      }
      var tmp1_plus = tmp$ret$0;
      var tmp2_plus = this.a2f_1;
      tmp$ret$1 = tmp1_plus.ka(toLong(tmp2_plus));
    }
    var t = tmp$ret$1;
    this.a2f_1 = t.eb(32).fb();
    this.z2e_1 = t.fb();
    return (this.x2e_1 + this.y2e_1 | 0) + this.z2e_1 | 0;
  };
  Random.prototype.e2f = function (min, max) {
    return (abs(this.d2f()) % ((max - min | 0) + 1 | 0) | 0) + min | 0;
  };
  Random.$metadata$ = classMeta('Random');
  function randomI(min, max) {
    init_properties_Random_kt_cngb49();
    return get_defaultRandomInstance().e2f(min, max);
  }
  var properties_initialized_Random_kt_mgnrvf;
  function init_properties_Random_kt_cngb49() {
    if (properties_initialized_Random_kt_mgnrvf) {
    } else {
      properties_initialized_Random_kt_mgnrvf = true;
      defaultRandomInstance = new Random(numberToInt(now()));
    }
  }
  function Vec2i_init_$Init$(f, $this) {
    Vec2i.call($this, f, f);
    return $this;
  }
  function Vec2i_init_$Create$(f) {
    return Vec2i_init_$Init$(f, Object.create(Vec2i.prototype));
  }
  function Companion_6() {
    Companion_instance_6 = this;
    this.f2f_1 = Vec2i_init_$Create$(0);
    this.g2f_1 = new Vec2i(1, 0);
    this.h2f_1 = new Vec2i(0, 1);
    this.i2f_1 = new Vec2i(-1, 0);
    this.j2f_1 = new Vec2i(0, -1);
  }
  Companion_6.$metadata$ = objectMeta('Companion');
  var Companion_instance_6;
  function Companion_getInstance_6() {
    if (Companion_instance_6 == null)
      new Companion_6();
    return Companion_instance_6;
  }
  function Vec2i(x, y) {
    Companion_getInstance_6();
    this.k2f_1 = new Int32Array(2);
    this.k2f_1[0] = x;
    this.k2f_1[1] = y;
  }
  Vec2i.prototype.l2f = function () {
    return this.k2f_1;
  };
  Vec2i.prototype.z1z = function () {
    return this.r(0);
  };
  Vec2i.prototype.b20 = function () {
    return this.r(1);
  };
  Vec2i.prototype.r = function (i) {
    return this.k2f_1[i];
  };
  Vec2i.prototype.toString = function () {
    return '(' + this.z1z() + ', ' + this.b20() + ')';
  };
  Vec2i.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Vec2i))
      return false;
    if (!(this.z1z() === other.z1z()))
      return false;
    if (!(this.b20() === other.b20()))
      return false;
    return true;
  };
  Vec2i.prototype.hashCode = function () {
    var result = this.z1z();
    result = imul(31, result) + this.b20() | 0;
    return result;
  };
  Vec2i.$metadata$ = classMeta('Vec2i');
  function MutableVec2i_init_$Init$($this) {
    MutableVec2i.call($this, 0, 0);
    return $this;
  }
  function MutableVec2i_init_$Create$() {
    return MutableVec2i_init_$Init$(Object.create(MutableVec2i.prototype));
  }
  function MutableVec2i_init_$Init$_0(other, $this) {
    MutableVec2i.call($this, other.z1z(), other.b20());
    return $this;
  }
  function MutableVec2i_init_$Create$_0(other) {
    return MutableVec2i_init_$Init$_0(other, Object.create(MutableVec2i.prototype));
  }
  function MutableVec2i(x, y) {
    Vec2i.call(this, x, y);
    this.l2f()[0] = x;
    this.l2f()[1] = y;
  }
  MutableVec2i.prototype.n2f = function (value) {
    this.l2f()[0] = value;
  };
  MutableVec2i.prototype.z1z = function () {
    return this.r(0);
  };
  MutableVec2i.prototype.o2f = function (value) {
    this.l2f()[1] = value;
  };
  MutableVec2i.prototype.b20 = function () {
    return this.r(1);
  };
  MutableVec2i.prototype.p2f = function () {
    return this.l2f();
  };
  MutableVec2i.prototype.q2f = function (other) {
    this.n2f(other.z1z());
    this.o2f(other.b20());
    return this;
  };
  MutableVec2i.$metadata$ = classMeta('MutableVec2i', undefined, undefined, undefined, undefined, Vec2i.prototype);
  function MutableVec2f_init_$Init$($this) {
    MutableVec2f.call($this, 0.0, 0.0);
    return $this;
  }
  function MutableVec2f_init_$Create$() {
    return MutableVec2f_init_$Init$(Object.create(MutableVec2f.prototype));
  }
  function MutableVec2f_init_$Init$_0(v, $this) {
    MutableVec2f.call($this, v.z1z(), v.b20());
    return $this;
  }
  function MutableVec2f_init_$Create$_0(v) {
    return MutableVec2f_init_$Init$_0(v, Object.create(MutableVec2f.prototype));
  }
  function MutableVec2f(x, y) {
    Vec2f.call(this, x, y);
  }
  MutableVec2f.prototype.t2f = function (value) {
    this.i2d(0, value);
  };
  MutableVec2f.prototype.z1z = function () {
    return this.r(0);
  };
  MutableVec2f.prototype.u2f = function (value) {
    this.i2d(1, value);
  };
  MutableVec2f.prototype.b20 = function () {
    return this.r(1);
  };
  MutableVec2f.prototype.p2f = function () {
    return this.l2f();
  };
  MutableVec2f.prototype.v2f = function (other) {
    var tmp0_this = this;
    tmp0_this.t2f(tmp0_this.z1z() + other.z1z());
    var tmp1_this = this;
    tmp1_this.u2f(tmp1_this.b20() + other.b20());
    return this;
  };
  MutableVec2f.prototype.w2f = function (factor) {
    var tmp0_this = this;
    tmp0_this.t2f(tmp0_this.z1z() * factor);
    var tmp1_this = this;
    tmp1_this.u2f(tmp1_this.b20() * factor);
    return this;
  };
  MutableVec2f.prototype.x2f = function (x, y) {
    this.t2f(x);
    this.u2f(y);
    return this;
  };
  MutableVec2f.prototype.y2f = function (other) {
    this.t2f(other.z1z());
    this.u2f(other.b20());
    return this;
  };
  MutableVec2f.prototype.z2f = function (other) {
    var tmp0_this = this;
    tmp0_this.t2f(tmp0_this.z1z() - other.z1z());
    var tmp1_this = this;
    tmp1_this.u2f(tmp1_this.b20() - other.b20());
    return this;
  };
  MutableVec2f.prototype.i2d = function (i, v) {
    this.l2f()[i] = v;
  };
  MutableVec2f.$metadata$ = classMeta('MutableVec2f', undefined, undefined, undefined, undefined, Vec2f.prototype);
  function Vec2f_init_$Init$(f, $this) {
    Vec2f.call($this, f, f);
    return $this;
  }
  function Vec2f_init_$Create$(f) {
    return Vec2f_init_$Init$(f, Object.create(Vec2f.prototype));
  }
  function Companion_7() {
    Companion_instance_7 = this;
    this.a2g_1 = Vec2f_init_$Create$(0.0);
    this.b2g_1 = new Vec2f(1.0, 0.0);
    this.c2g_1 = new Vec2f(0.0, 1.0);
    this.d2g_1 = new Vec2f(-1.0, 0.0);
    this.e2g_1 = new Vec2f(0.0, -1.0);
  }
  Companion_7.prototype.f2g = function () {
    return this.a2g_1;
  };
  Companion_7.$metadata$ = objectMeta('Companion');
  var Companion_instance_7;
  function Companion_getInstance_7() {
    if (Companion_instance_7 == null)
      new Companion_7();
    return Companion_instance_7;
  }
  function Vec2f(x, y) {
    Companion_getInstance_7();
    this.r2f_1 = new Float32Array(2);
    this.r2f_1[0] = x;
    this.r2f_1[1] = y;
  }
  Vec2f.prototype.l2f = function () {
    return this.r2f_1;
  };
  Vec2f.prototype.z1z = function () {
    return this.r(0);
  };
  Vec2f.prototype.b20 = function () {
    return this.r(1);
  };
  Vec2f.prototype.r = function (i) {
    return this.r2f_1[i];
  };
  Vec2f.prototype.toString = function () {
    return '(' + this.z1z() + ', ' + this.b20() + ')';
  };
  Vec2f.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Vec2f))
      return false;
    if (!(this.z1z() === other.z1z()))
      return false;
    if (!(this.b20() === other.b20()))
      return false;
    return true;
  };
  Vec2f.prototype.hashCode = function () {
    var result = getNumberHashCode(this.z1z());
    result = imul(31, result) + getNumberHashCode(this.b20()) | 0;
    return result;
  };
  Vec2f.$metadata$ = classMeta('Vec2f');
  function Vec2d_init_$Init$(f, $this) {
    Vec2d.call($this, f, f);
    return $this;
  }
  function Vec2d_init_$Create$(f) {
    return Vec2d_init_$Init$(f, Object.create(Vec2d.prototype));
  }
  function Companion_8() {
    Companion_instance_8 = this;
    this.g2g_1 = Vec2d_init_$Create$(0.0);
    this.h2g_1 = new Vec2d(1.0, 0.0);
    this.i2g_1 = new Vec2d(0.0, 1.0);
    this.j2g_1 = new Vec2d(-1.0, 0.0);
    this.k2g_1 = new Vec2d(0.0, -1.0);
  }
  Companion_8.$metadata$ = objectMeta('Companion');
  var Companion_instance_8;
  function Companion_getInstance_8() {
    if (Companion_instance_8 == null)
      new Companion_8();
    return Companion_instance_8;
  }
  function Vec2d(x, y) {
    Companion_getInstance_8();
    this.l2g_1 = new Float64Array(2);
    this.l2g_1[0] = x;
    this.l2g_1[1] = y;
  }
  Vec2d.prototype.l2f = function () {
    return this.l2g_1;
  };
  Vec2d.prototype.z1z = function () {
    return this.r(0);
  };
  Vec2d.prototype.b20 = function () {
    return this.r(1);
  };
  Vec2d.prototype.m2g = function (other) {
    var tmp$ret$0;
    {
      var tmp0_sqrt = this.n2g(other);
      tmp$ret$0 = Math.sqrt(tmp0_sqrt);
    }
    return tmp$ret$0;
  };
  Vec2d.prototype.o2g = function (other) {
    return this.z1z() * other.z1z() + this.b20() * other.b20();
  };
  Vec2d.prototype.p2g = function () {
    var tmp$ret$0;
    {
      var tmp0_sqrt = this.q2g();
      tmp$ret$0 = Math.sqrt(tmp0_sqrt);
    }
    return tmp$ret$0;
  };
  Vec2d.prototype.n2g = function (other) {
    var dx = this.z1z() - other.z1z();
    var dy = this.b20() - other.b20();
    return dx * dx + dy * dy;
  };
  Vec2d.prototype.q2g = function () {
    return this.z1z() * this.z1z() + this.b20() * this.b20();
  };
  Vec2d.prototype.r = function (i) {
    return this.l2g_1[i];
  };
  Vec2d.prototype.r2g = function (other) {
    return this.o2g(other);
  };
  Vec2d.prototype.toString = function () {
    return '(' + this.z1z() + ', ' + this.b20() + ')';
  };
  Vec2d.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Vec2d))
      return false;
    if (!(this.z1z() === other.z1z()))
      return false;
    if (!(this.b20() === other.b20()))
      return false;
    return true;
  };
  Vec2d.prototype.hashCode = function () {
    var result = getNumberHashCode(this.z1z());
    result = imul(31, result) + getNumberHashCode(this.b20()) | 0;
    return result;
  };
  Vec2d.$metadata$ = classMeta('Vec2d');
  function MutableVec2d_init_$Init$($this) {
    MutableVec2d.call($this, 0.0, 0.0);
    return $this;
  }
  function MutableVec2d_init_$Create$() {
    return MutableVec2d_init_$Init$(Object.create(MutableVec2d.prototype));
  }
  function MutableVec2d(x, y) {
    Vec2d.call(this, x, y);
  }
  MutableVec2d.prototype.y1z = function (value) {
    this.s2g(0, value);
  };
  MutableVec2d.prototype.z1z = function () {
    return this.r(0);
  };
  MutableVec2d.prototype.a20 = function (value) {
    this.s2g(1, value);
  };
  MutableVec2d.prototype.b20 = function () {
    return this.r(1);
  };
  MutableVec2d.prototype.t2g = function (other) {
    var tmp0_this = this;
    tmp0_this.y1z(tmp0_this.z1z() + other.z1z());
    var tmp1_this = this;
    tmp1_this.a20(tmp1_this.b20() + other.b20());
    return this;
  };
  MutableVec2d.prototype.u2g = function (factor) {
    var tmp0_this = this;
    tmp0_this.y1z(tmp0_this.z1z() * factor);
    var tmp1_this = this;
    tmp1_this.a20(tmp1_this.b20() * factor);
    return this;
  };
  MutableVec2d.prototype.v2g = function (x, y) {
    this.y1z(x);
    this.a20(y);
    return this;
  };
  MutableVec2d.prototype.w2g = function (other) {
    this.y1z(other.z1z());
    this.a20(other.b20());
    return this;
  };
  MutableVec2d.prototype.x2g = function (other) {
    var tmp0_this = this;
    tmp0_this.y1z(tmp0_this.z1z() - other.z1z());
    var tmp1_this = this;
    tmp1_this.a20(tmp1_this.b20() - other.b20());
    return this;
  };
  MutableVec2d.prototype.s2g = function (i, v) {
    this.l2f()[i] = v;
  };
  MutableVec2d.$metadata$ = classMeta('MutableVec2d', undefined, undefined, undefined, undefined, Vec2d.prototype);
  function Vec3f_init_$Init$(f, $this) {
    Vec3f.call($this, f, f, f);
    return $this;
  }
  function Vec3f_init_$Create$(f) {
    return Vec3f_init_$Init$(f, Object.create(Vec3f.prototype));
  }
  function Companion_9() {
    Companion_instance_9 = this;
    this.y2g_1 = Vec3f_init_$Create$(0.0);
    this.z2g_1 = Vec3f_init_$Create$(1.0);
    this.a2h_1 = new Vec3f(1.0, 0.0, 0.0);
    this.b2h_1 = new Vec3f(0.0, 1.0, 0.0);
    this.c2h_1 = new Vec3f(0.0, 0.0, 1.0);
    this.d2h_1 = new Vec3f(-1.0, 0.0, 0.0);
    this.e2h_1 = new Vec3f(0.0, -1.0, 0.0);
    this.f2h_1 = new Vec3f(0.0, 0.0, -1.0);
  }
  Companion_9.prototype.g2h = function () {
    return this.c2h_1;
  };
  Companion_9.$metadata$ = objectMeta('Companion');
  var Companion_instance_9;
  function Companion_getInstance_9() {
    if (Companion_instance_9 == null)
      new Companion_9();
    return Companion_instance_9;
  }
  function Vec3f(x, y, z) {
    Companion_getInstance_9();
    this.z2d_1 = new Float32Array(3);
    this.z2d_1[0] = x;
    this.z2d_1[1] = y;
    this.z2d_1[2] = z;
  }
  Vec3f.prototype.l2f = function () {
    return this.z2d_1;
  };
  Vec3f.prototype.z1z = function () {
    return this.r(0);
  };
  Vec3f.prototype.b20 = function () {
    return this.r(1);
  };
  Vec3f.prototype.s2d = function () {
    return this.r(2);
  };
  Vec3f.prototype.h2h = function (other, result) {
    result.t2f(this.b20() * other.s2d() - this.s2d() * other.b20());
    result.u2f(this.s2d() * other.z1z() - this.z1z() * other.s2d());
    result.i2h(this.z1z() * other.b20() - this.b20() * other.z1z());
    return result;
  };
  Vec3f.prototype.j2h = function (other) {
    var tmp$ret$0;
    {
      var tmp0_sqrt = this.k2h(other);
      tmp$ret$0 = Math.sqrt(tmp0_sqrt);
    }
    return tmp$ret$0;
  };
  Vec3f.prototype.l2h = function (other) {
    return this.z1z() * other.z1z() + this.b20() * other.b20() + this.s2d() * other.s2d();
  };
  Vec3f.prototype.p2g = function () {
    var tmp$ret$0;
    {
      var tmp0_sqrt = this.q2g();
      tmp$ret$0 = Math.sqrt(tmp0_sqrt);
    }
    return tmp$ret$0;
  };
  Vec3f.prototype.m2h = function (factor, result) {
    return result.n2h(this).w2f(factor);
  };
  Vec3f.prototype.k2h = function (other) {
    var dx = this.z1z() - other.z1z();
    var dy = this.b20() - other.b20();
    var dz = this.s2d() - other.s2d();
    return dx * dx + dy * dy + dz * dz;
  };
  Vec3f.prototype.q2g = function () {
    return this.z1z() * this.z1z() + this.b20() * this.b20() + this.s2d() * this.s2d();
  };
  Vec3f.prototype.o2h = function (other, result) {
    return result.n2h(this).p2h(other);
  };
  Vec3f.prototype.r = function (i) {
    return this.z2d_1[i];
  };
  Vec3f.prototype.toString = function () {
    return '(' + this.z1z() + ', ' + this.b20() + ', ' + this.s2d() + ')';
  };
  Vec3f.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Vec3f))
      return false;
    if (!(this.z1z() === other.z1z()))
      return false;
    if (!(this.b20() === other.b20()))
      return false;
    if (!(this.s2d() === other.s2d()))
      return false;
    return true;
  };
  Vec3f.prototype.hashCode = function () {
    var result = getNumberHashCode(this.z1z());
    result = imul(31, result) + getNumberHashCode(this.b20()) | 0;
    result = imul(31, result) + getNumberHashCode(this.s2d()) | 0;
    return result;
  };
  Vec3f.$metadata$ = classMeta('Vec3f');
  function MutableVec3f_init_$Init$($this) {
    MutableVec3f.call($this, 0.0, 0.0, 0.0);
    return $this;
  }
  function MutableVec3f_init_$Create$() {
    return MutableVec3f_init_$Init$(Object.create(MutableVec3f.prototype));
  }
  function MutableVec3f_init_$Init$_0(v, $this) {
    MutableVec3f.call($this, v.z1z(), v.b20(), v.s2d());
    return $this;
  }
  function MutableVec3f_init_$Create$_0(v) {
    return MutableVec3f_init_$Init$_0(v, Object.create(MutableVec3f.prototype));
  }
  function MutableVec3f(x, y, z) {
    Vec3f.call(this, x, y, z);
  }
  MutableVec3f.prototype.t2f = function (value) {
    this.i2d(0, value);
  };
  MutableVec3f.prototype.z1z = function () {
    return this.r(0);
  };
  MutableVec3f.prototype.u2f = function (value) {
    this.i2d(1, value);
  };
  MutableVec3f.prototype.b20 = function () {
    return this.r(1);
  };
  MutableVec3f.prototype.i2h = function (value) {
    this.i2d(2, value);
  };
  MutableVec3f.prototype.s2d = function () {
    return this.r(2);
  };
  MutableVec3f.prototype.p2f = function () {
    return this.l2f();
  };
  MutableVec3f.prototype.q2h = function (other) {
    var tmp0_this = this;
    tmp0_this.t2f(tmp0_this.z1z() + other.z1z());
    var tmp1_this = this;
    tmp1_this.u2f(tmp1_this.b20() + other.b20());
    var tmp2_this = this;
    tmp2_this.i2h(tmp2_this.s2d() + other.s2d());
    return this;
  };
  MutableVec3f.prototype.r2h = function () {
    var l = this.p2g();
    var tmp;
    if (!(l === 0.0)) {
      tmp = this.w2f(1.0 / l);
    } else {
      tmp = this.n2h(Companion_getInstance_9().y2g_1);
    }
    return tmp;
  };
  MutableVec3f.prototype.w2f = function (factor) {
    var tmp0_this = this;
    tmp0_this.t2f(tmp0_this.z1z() * factor);
    var tmp1_this = this;
    tmp1_this.u2f(tmp1_this.b20() * factor);
    var tmp2_this = this;
    tmp2_this.i2h(tmp2_this.s2d() * factor);
    return this;
  };
  MutableVec3f.prototype.t2d = function (x, y, z) {
    this.t2f(x);
    this.u2f(y);
    this.i2h(z);
    return this;
  };
  MutableVec3f.prototype.n2h = function (other) {
    this.t2f(other.z1z());
    this.u2f(other.b20());
    this.i2h(other.s2d());
    return this;
  };
  MutableVec3f.prototype.p2h = function (other) {
    var tmp0_this = this;
    tmp0_this.t2f(tmp0_this.z1z() - other.z1z());
    var tmp1_this = this;
    tmp1_this.u2f(tmp1_this.b20() - other.b20());
    var tmp2_this = this;
    tmp2_this.i2h(tmp2_this.s2d() - other.s2d());
    return this;
  };
  MutableVec3f.prototype.s2h = function (other) {
    this.p2h(other);
  };
  MutableVec3f.prototype.i2d = function (i, v) {
    this.l2f()[i] = v;
  };
  MutableVec3f.$metadata$ = classMeta('MutableVec3f', undefined, undefined, undefined, undefined, Vec3f.prototype);
  function Vec3i_init_$Init$(f, $this) {
    Vec3i.call($this, f, f, f);
    return $this;
  }
  function Vec3i_init_$Create$(f) {
    return Vec3i_init_$Init$(f, Object.create(Vec3i.prototype));
  }
  function Companion_10() {
    Companion_instance_10 = this;
    this.t2h_1 = Vec3i_init_$Create$(0);
    this.u2h_1 = new Vec3i(1, 0, 0);
    this.v2h_1 = new Vec3i(0, 1, 0);
    this.w2h_1 = new Vec3i(0, 0, 1);
    this.x2h_1 = new Vec3i(-1, 0, 0);
    this.y2h_1 = new Vec3i(0, -1, 0);
    this.z2h_1 = new Vec3i(0, 0, -1);
  }
  Companion_10.$metadata$ = objectMeta('Companion');
  var Companion_instance_10;
  function Companion_getInstance_10() {
    if (Companion_instance_10 == null)
      new Companion_10();
    return Companion_instance_10;
  }
  function Vec3i(x, y, z) {
    Companion_getInstance_10();
    this.a2i_1 = new Int32Array(3);
    this.a2i_1[0] = x;
    this.a2i_1[1] = y;
    this.a2i_1[2] = z;
  }
  Vec3i.prototype.l2f = function () {
    return this.a2i_1;
  };
  Vec3i.prototype.z1z = function () {
    return this.r(0);
  };
  Vec3i.prototype.b20 = function () {
    return this.r(1);
  };
  Vec3i.prototype.s2d = function () {
    return this.r(2);
  };
  Vec3i.prototype.r = function (i) {
    return this.a2i_1[i];
  };
  Vec3i.prototype.toString = function () {
    return '(' + this.z1z() + ', ' + this.b20() + ', ' + this.s2d() + ')';
  };
  Vec3i.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Vec3i))
      return false;
    if (!(this.z1z() === other.z1z()))
      return false;
    if (!(this.b20() === other.b20()))
      return false;
    if (!(this.s2d() === other.s2d()))
      return false;
    return true;
  };
  Vec3i.prototype.hashCode = function () {
    var result = this.z1z();
    result = imul(31, result) + this.b20() | 0;
    result = imul(31, result) + this.s2d() | 0;
    return result;
  };
  Vec3i.$metadata$ = classMeta('Vec3i');
  function MutableVec3i_init_$Init$($this) {
    MutableVec3i.call($this, 0, 0, 0);
    return $this;
  }
  function MutableVec3i_init_$Create$() {
    return MutableVec3i_init_$Init$(Object.create(MutableVec3i.prototype));
  }
  function MutableVec3i(x, y, z) {
    Vec3i.call(this, x, y, z);
    this.l2f()[0] = x;
    this.l2f()[1] = y;
    this.l2f()[2] = z;
  }
  MutableVec3i.prototype.z1z = function () {
    return this.r(0);
  };
  MutableVec3i.prototype.b20 = function () {
    return this.r(1);
  };
  MutableVec3i.prototype.s2d = function () {
    return this.r(2);
  };
  MutableVec3i.prototype.p2f = function () {
    return this.l2f();
  };
  MutableVec3i.$metadata$ = classMeta('MutableVec3i', undefined, undefined, undefined, undefined, Vec3i.prototype);
  function Vec4i_init_$Init$(f, $this) {
    Vec4i.call($this, f, f, f, f);
    return $this;
  }
  function Vec4i_init_$Create$(f) {
    return Vec4i_init_$Init$(f, Object.create(Vec4i.prototype));
  }
  function Companion_11() {
    Companion_instance_11 = this;
    this.c2i_1 = Vec4i_init_$Create$(0);
    this.d2i_1 = new Vec4i(1, 0, 0, 0);
    this.e2i_1 = new Vec4i(0, 1, 0, 0);
    this.f2i_1 = new Vec4i(0, 0, 1, 0);
    this.g2i_1 = new Vec4i(0, 0, 0, 1);
    this.h2i_1 = new Vec4i(-1, 0, 0, 0);
    this.i2i_1 = new Vec4i(0, -1, 0, 0);
    this.j2i_1 = new Vec4i(0, 0, -1, 0);
    this.k2i_1 = new Vec4i(0, 0, 0, -1);
  }
  Companion_11.$metadata$ = objectMeta('Companion');
  var Companion_instance_11;
  function Companion_getInstance_11() {
    if (Companion_instance_11 == null)
      new Companion_11();
    return Companion_instance_11;
  }
  function Vec4i(x, y, z, w) {
    Companion_getInstance_11();
    this.l2i_1 = new Int32Array(4);
    this.l2i_1[0] = x;
    this.l2i_1[1] = y;
    this.l2i_1[2] = z;
    this.l2i_1[3] = w;
  }
  Vec4i.prototype.l2f = function () {
    return this.l2i_1;
  };
  Vec4i.prototype.z1z = function () {
    return this.r(0);
  };
  Vec4i.prototype.b20 = function () {
    return this.r(1);
  };
  Vec4i.prototype.s2d = function () {
    return this.r(2);
  };
  Vec4i.prototype.m2i = function () {
    return this.r(3);
  };
  Vec4i.prototype.r = function (i) {
    return this.l2i_1[i];
  };
  Vec4i.prototype.toString = function () {
    return '(' + this.z1z() + ', ' + this.b20() + ', ' + this.s2d() + ', ' + this.m2i() + ')';
  };
  Vec4i.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Vec4i))
      return false;
    if (!(this.z1z() === other.z1z()))
      return false;
    if (!(this.b20() === other.b20()))
      return false;
    if (!(this.s2d() === other.s2d()))
      return false;
    if (!(this.m2i() === other.m2i()))
      return false;
    return true;
  };
  Vec4i.prototype.hashCode = function () {
    var result = this.z1z();
    result = imul(31, result) + this.b20() | 0;
    result = imul(31, result) + this.s2d() | 0;
    result = imul(31, result) + this.m2i() | 0;
    return result;
  };
  Vec4i.$metadata$ = classMeta('Vec4i');
  function MutableVec4f_init_$Init$($this) {
    MutableVec4f.call($this, 0.0, 0.0, 0.0, 0.0);
    return $this;
  }
  function MutableVec4f_init_$Create$() {
    return MutableVec4f_init_$Init$(Object.create(MutableVec4f.prototype));
  }
  function MutableVec4f_init_$Init$_0(other, $this) {
    MutableVec4f.call($this, other.z1z(), other.b20(), other.s2d(), other.m2i());
    return $this;
  }
  function MutableVec4f_init_$Create$_0(other) {
    return MutableVec4f_init_$Init$_0(other, Object.create(MutableVec4f.prototype));
  }
  function MutableVec4f(x, y, z, w) {
    Vec4f.call(this, x, y, z, w);
  }
  MutableVec4f.prototype.t2f = function (value) {
    this.i2d(0, value);
  };
  MutableVec4f.prototype.z1z = function () {
    return this.r(0);
  };
  MutableVec4f.prototype.u2f = function (value) {
    this.i2d(1, value);
  };
  MutableVec4f.prototype.b20 = function () {
    return this.r(1);
  };
  MutableVec4f.prototype.i2h = function (value) {
    this.i2d(2, value);
  };
  MutableVec4f.prototype.s2d = function () {
    return this.r(2);
  };
  MutableVec4f.prototype.p2i = function (value) {
    this.i2d(3, value);
  };
  MutableVec4f.prototype.m2i = function () {
    return this.r(3);
  };
  MutableVec4f.prototype.p2f = function () {
    return this.l2f();
  };
  MutableVec4f.prototype.q2i = function (other) {
    var tmp0_this = this;
    tmp0_this.t2f(tmp0_this.z1z() + other.z1z());
    var tmp1_this = this;
    tmp1_this.u2f(tmp1_this.b20() + other.b20());
    var tmp2_this = this;
    tmp2_this.i2h(tmp2_this.s2d() + other.s2d());
    var tmp3_this = this;
    tmp3_this.p2i(tmp3_this.m2i() + other.m2i());
    return this;
  };
  MutableVec4f.prototype.r2h = function () {
    return this.w2f(1.0 / this.p2g());
  };
  MutableVec4f.prototype.w2f = function (factor) {
    var tmp0_this = this;
    tmp0_this.t2f(tmp0_this.z1z() * factor);
    var tmp1_this = this;
    tmp1_this.u2f(tmp1_this.b20() * factor);
    var tmp2_this = this;
    tmp2_this.i2h(tmp2_this.s2d() * factor);
    var tmp3_this = this;
    tmp3_this.p2i(tmp3_this.m2i() * factor);
    return this;
  };
  MutableVec4f.prototype.r2i = function (x, y, z, w) {
    this.t2f(x);
    this.u2f(y);
    this.i2h(z);
    this.p2i(w);
    return this;
  };
  MutableVec4f.prototype.s2i = function (other) {
    this.t2f(other.z1z());
    this.u2f(other.b20());
    this.i2h(other.s2d());
    this.p2i(other.m2i());
    return this;
  };
  MutableVec4f.prototype.t2i = function (xyz, w) {
    this.t2f(xyz.z1z());
    this.u2f(xyz.b20());
    this.i2h(xyz.s2d());
    this.p2i(w);
    return this;
  };
  MutableVec4f.prototype.u2i = function (xyz, w, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      w = 0.0;
    return this.t2i(xyz, w);
  };
  MutableVec4f.prototype.v2i = function (other) {
    this.q2i(other);
  };
  MutableVec4f.prototype.i2d = function (i, v) {
    this.l2f()[i] = v;
  };
  MutableVec4f.$metadata$ = classMeta('MutableVec4f', undefined, undefined, undefined, undefined, Vec4f.prototype);
  function Vec4f_init_$Init$(f, $this) {
    Vec4f.call($this, f, f, f, f);
    return $this;
  }
  function Vec4f_init_$Create$(f) {
    return Vec4f_init_$Init$(f, Object.create(Vec4f.prototype));
  }
  function Vec4f_init_$Init$_0(xyz, w, $this) {
    Vec4f.call($this, xyz.z1z(), xyz.b20(), xyz.s2d(), w);
    return $this;
  }
  function Vec4f_init_$Create$_0(xyz, w) {
    return Vec4f_init_$Init$_0(xyz, w, Object.create(Vec4f.prototype));
  }
  function Companion_12() {
    Companion_instance_12 = this;
    this.w2i_1 = Vec4f_init_$Create$(0.0);
    this.x2i_1 = new Vec4f(1.0, 0.0, 0.0, 0.0);
    this.y2i_1 = new Vec4f(0.0, 1.0, 0.0, 0.0);
    this.z2i_1 = new Vec4f(0.0, 0.0, 1.0, 0.0);
    this.a2j_1 = new Vec4f(0.0, 0.0, 0.0, 1.0);
    this.b2j_1 = new Vec4f(-1.0, 0.0, 0.0, 0.0);
    this.c2j_1 = new Vec4f(0.0, -1.0, 0.0, 0.0);
    this.d2j_1 = new Vec4f(0.0, 0.0, -1.0, 0.0);
    this.e2j_1 = new Vec4f(0.0, 0.0, 0.0, -1.0);
  }
  Companion_12.prototype.f2g = function () {
    return this.w2i_1;
  };
  Companion_12.$metadata$ = objectMeta('Companion');
  var Companion_instance_12;
  function Companion_getInstance_12() {
    if (Companion_instance_12 == null)
      new Companion_12();
    return Companion_instance_12;
  }
  function Vec4f(x, y, z, w) {
    Companion_getInstance_12();
    this.n2i_1 = new Float32Array(4);
    this.n2i_1[0] = x;
    this.n2i_1[1] = y;
    this.n2i_1[2] = z;
    this.n2i_1[3] = w;
  }
  Vec4f.prototype.l2f = function () {
    return this.n2i_1;
  };
  Vec4f.prototype.z1z = function () {
    return this.r(0);
  };
  Vec4f.prototype.b20 = function () {
    return this.r(1);
  };
  Vec4f.prototype.s2d = function () {
    return this.r(2);
  };
  Vec4f.prototype.m2i = function () {
    return this.r(3);
  };
  Vec4f.prototype.p2g = function () {
    var tmp$ret$0;
    {
      var tmp0_sqrt = this.q2g();
      tmp$ret$0 = Math.sqrt(tmp0_sqrt);
    }
    return tmp$ret$0;
  };
  Vec4f.prototype.q2g = function () {
    return this.z1z() * this.z1z() + this.b20() * this.b20() + this.s2d() * this.s2d() + this.m2i() * this.m2i();
  };
  Vec4f.prototype.r = function (i) {
    return this.n2i_1[i];
  };
  Vec4f.prototype.toString = function () {
    return '(' + this.z1z() + ', ' + this.b20() + ', ' + this.s2d() + ', ' + this.m2i() + ')';
  };
  Vec4f.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Vec4f))
      return false;
    if (!(this.z1z() === other.z1z()))
      return false;
    if (!(this.b20() === other.b20()))
      return false;
    if (!(this.s2d() === other.s2d()))
      return false;
    if (!(this.m2i() === other.m2i()))
      return false;
    return true;
  };
  Vec4f.prototype.hashCode = function () {
    var result = getNumberHashCode(this.z1z());
    result = imul(31, result) + getNumberHashCode(this.b20()) | 0;
    result = imul(31, result) + getNumberHashCode(this.s2d()) | 0;
    result = imul(31, result) + getNumberHashCode(this.m2i()) | 0;
    return result;
  };
  Vec4f.$metadata$ = classMeta('Vec4f');
  function MutableVec4i_init_$Init$($this) {
    MutableVec4i.call($this, 0, 0, 0, 0);
    return $this;
  }
  function MutableVec4i_init_$Create$() {
    return MutableVec4i_init_$Init$(Object.create(MutableVec4i.prototype));
  }
  function MutableVec4i(x, y, z, w) {
    Vec4i.call(this, x, y, z, w);
    this.l2f()[0] = x;
    this.l2f()[1] = y;
    this.l2f()[2] = z;
    this.l2f()[3] = w;
  }
  MutableVec4i.prototype.z1z = function () {
    return this.r(0);
  };
  MutableVec4i.prototype.b20 = function () {
    return this.r(1);
  };
  MutableVec4i.prototype.s2d = function () {
    return this.r(2);
  };
  MutableVec4i.prototype.m2i = function () {
    return this.r(3);
  };
  MutableVec4i.prototype.p2f = function () {
    return this.l2f();
  };
  MutableVec4i.$metadata$ = classMeta('MutableVec4i', undefined, undefined, undefined, undefined, Vec4i.prototype);
  function updateSizeAndCenter($this) {
    if (!$this.p2j_1) {
      $this.h2j_1.o2h($this.g2j_1, $this.i2j_1);
      $this.n2j_1.m2h(0.5, $this.j2j_1).q2h($this.l2j_1);
    }
  }
  function addPoint($this, point) {
    if ($this.k2j_1) {
      $this.g2j_1.n2h(point);
      $this.h2j_1.n2h(point);
      $this.k2j_1 = false;
    } else {
      if (point.z1z() < $this.l2j_1.z1z()) {
        $this.g2j_1.t2f(point.z1z());
      }
      if (point.b20() < $this.l2j_1.b20()) {
        $this.g2j_1.u2f(point.b20());
      }
      if (point.s2d() < $this.l2j_1.s2d()) {
        $this.g2j_1.i2h(point.s2d());
      }
      if (point.z1z() > $this.m2j_1.z1z()) {
        $this.h2j_1.t2f(point.z1z());
      }
      if (point.b20() > $this.m2j_1.b20()) {
        $this.h2j_1.u2f(point.b20());
      }
      if (point.s2d() > $this.m2j_1.s2d()) {
        $this.h2j_1.i2h(point.s2d());
      }
    }
  }
  function BoundingBox() {
    this.g2j_1 = MutableVec3f_init_$Create$();
    this.h2j_1 = MutableVec3f_init_$Create$();
    this.i2j_1 = MutableVec3f_init_$Create$();
    this.j2j_1 = MutableVec3f_init_$Create$();
    this.k2j_1 = true;
    this.l2j_1 = this.g2j_1;
    this.m2j_1 = this.h2j_1;
    this.n2j_1 = this.i2j_1;
    this.o2j_1 = this.j2j_1;
    this.p2j_1 = false;
  }
  BoundingBox.prototype.q2j = function () {
    return this.l2j_1;
  };
  BoundingBox.prototype.r2j = function () {
    return this.m2j_1;
  };
  BoundingBox.prototype.s2j = function () {
    this.k2j_1 = true;
    this.g2j_1.n2h(Companion_getInstance_9().y2g_1);
    this.h2j_1.n2h(Companion_getInstance_9().y2g_1);
    updateSizeAndCenter(this);
    return this;
  };
  BoundingBox.prototype.q2h = function (point) {
    addPoint(this, point);
    updateSizeAndCenter(this);
    return this;
  };
  BoundingBox.prototype.t2j = function (aabb) {
    if (!aabb.k2j_1) {
      addPoint(this, aabb.l2j_1);
      addPoint(this, aabb.m2j_1);
      updateSizeAndCenter(this);
    }
    return this;
  };
  BoundingBox.prototype.u2j = function (other) {
    this.g2j_1.n2h(other.l2j_1);
    this.h2j_1.n2h(other.m2j_1);
    this.i2j_1.n2h(other.n2j_1);
    this.j2j_1.n2h(other.o2j_1);
    this.k2j_1 = other.k2j_1;
    return this;
  };
  BoundingBox.prototype.v2j = function (point) {
    var tmp$ret$0;
    {
      var tmp0_clamp = point.z1z();
      var tmp1_clamp = this.l2j_1.z1z();
      var tmp2_clamp = this.m2j_1.z1z();
      tmp$ret$0 = tmp0_clamp < tmp1_clamp ? tmp1_clamp : tmp0_clamp > tmp2_clamp ? tmp2_clamp : tmp0_clamp;
    }
    point.t2f(tmp$ret$0);
    var tmp$ret$1;
    {
      var tmp3_clamp = point.b20();
      var tmp4_clamp = this.l2j_1.b20();
      var tmp5_clamp = this.m2j_1.b20();
      tmp$ret$1 = tmp3_clamp < tmp4_clamp ? tmp4_clamp : tmp3_clamp > tmp5_clamp ? tmp5_clamp : tmp3_clamp;
    }
    point.u2f(tmp$ret$1);
    var tmp$ret$2;
    {
      var tmp6_clamp = point.s2d();
      var tmp7_clamp = this.l2j_1.s2d();
      var tmp8_clamp = this.m2j_1.s2d();
      tmp$ret$2 = tmp6_clamp < tmp7_clamp ? tmp7_clamp : tmp6_clamp > tmp8_clamp ? tmp8_clamp : tmp6_clamp;
    }
    point.i2h(tmp$ret$2);
  };
  BoundingBox.prototype.toString = function () {
    var tmp;
    if (this.k2j_1) {
      tmp = '[empty]';
    } else {
      tmp = '[min=' + this.l2j_1 + ', max=' + this.m2j_1 + ']';
    }
    return tmp;
  };
  BoundingBox.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof BoundingBox))
      return false;
    if (!(this.k2j_1 === other.k2j_1))
      return false;
    if (!this.l2j_1.equals(other.l2j_1))
      return false;
    if (!this.m2j_1.equals(other.m2j_1))
      return false;
    return true;
  };
  BoundingBox.prototype.hashCode = function () {
    var result = this.k2j_1 | 0;
    result = imul(31, result) + this.l2j_1.hashCode() | 0;
    result = imul(31, result) + this.m2j_1.hashCode() | 0;
    return result;
  };
  BoundingBox.$metadata$ = classMeta('BoundingBox');
  function setupUniforms($this, builder) {
    var descBuilder = new Builder_3();
    var tmp0_this = builder;
    {
      var tmp0_plusAssign = tmp0_this.e2k_1;
      tmp0_plusAssign.b(descBuilder);
    }
    {
      var tmp$ret$3;
      {
        var tmp1_filter = $this.u2k_1.l2k_1;
        var tmp$ret$2;
        {
          var tmp0_filterTo = ArrayList_init_$Create$_0();
          var tmp0_iterator = tmp1_filter.h();
          while (tmp0_iterator.n()) {
            var element = tmp0_iterator.o();
            var tmp$ret$1;
            {
              var tmp$ret$0;
              {
                var tmp0_isNotEmpty = element.f2l_1;
                tmp$ret$0 = !tmp0_isNotEmpty.q();
              }
              tmp$ret$1 = tmp$ret$0;
            }
            if (tmp$ret$1) {
              tmp0_filterTo.b(element);
            }
          }
          tmp$ret$2 = tmp0_filterTo;
        }
        tmp$ret$3 = tmp$ret$2;
      }
      var tmp2_forEach = tmp$ret$3;
      var tmp0_iterator_0 = tmp2_forEach.h();
      while (tmp0_iterator_0.n()) {
        var element_0 = tmp0_iterator_0.o();
        {
          var ubo = new Builder_5();
          var tmp0_this_0 = descBuilder;
          {
            var tmp0_plusAssign_0 = tmp0_this_0.g2l_1;
            tmp0_plusAssign_0.b(ubo);
          }
          ubo.j2l(element_0.c2l_1);
          var tmp$ret$4;
          $l$block_0: {
            var tmp1_any = element_0.f2l_1.b3();
            var tmp;
            if (isInterface(tmp1_any, Collection)) {
              tmp = tmp1_any.q();
            } else {
              tmp = false;
            }
            if (tmp) {
              tmp$ret$4 = false;
              break $l$block_0;
            }
            var tmp0_iterator_1 = tmp1_any.h();
            while (tmp0_iterator_1.n()) {
              var element_1 = tmp0_iterator_1.o();
              var tmp$ret$5;
              {
                tmp$ret$5 = $this.u2k_1.o2k_1.s2l().z2l().a3().p(element_1.l2());
              }
              if (tmp$ret$5) {
                tmp$ret$4 = true;
                break $l$block_0;
              }
            }
            tmp$ret$4 = false;
          }
          if (tmp$ret$4) {
            var tmp1_this = ubo;
            {
              var tmp2_plusAssign = tmp1_this.c2m();
              var tmp3_plusAssign = ShaderStage_VERTEX_SHADER_getInstance();
              tmp2_plusAssign.b(tmp3_plusAssign);
            }
          }
          var tmp$ret$6;
          $l$block_2: {
            var tmp4_any = element_0.f2l_1.b3();
            var tmp_0;
            if (isInterface(tmp4_any, Collection)) {
              tmp_0 = tmp4_any.q();
            } else {
              tmp_0 = false;
            }
            if (tmp_0) {
              tmp$ret$6 = false;
              break $l$block_2;
            }
            var tmp0_iterator_2 = tmp4_any.h();
            while (tmp0_iterator_2.n()) {
              var element_2 = tmp0_iterator_2.o();
              var tmp$ret$7;
              {
                tmp$ret$7 = $this.u2k_1.p2k_1.s2l().z2l().a3().p(element_2.l2());
              }
              if (tmp$ret$7) {
                tmp$ret$6 = true;
                break $l$block_2;
              }
            }
            tmp$ret$6 = false;
          }
          if (tmp$ret$6) {
            var tmp2_this = ubo;
            {
              var tmp5_plusAssign = tmp2_this.c2m();
              var tmp6_plusAssign = ShaderStage_FRAGMENT_SHADER_getInstance();
              tmp5_plusAssign.b(tmp6_plusAssign);
            }
          }
          {
            var tmp7_forEach = element_0.f2l_1.b3();
            var tmp0_iterator_3 = tmp7_forEach.h();
            while (tmp0_iterator_3.n()) {
              var element_3 = tmp0_iterator_3.o();
              {
                var tmp1_elvis_lhs = $this.w2k_1.z2(element_3.il());
                var tmp_1;
                if (tmp1_elvis_lhs == null) {
                  var type = element_3.l2().d2m();
                  var tmp_2;
                  if (type instanceof KslTypeFloat1) {
                    tmp_2 = new Uniform1f(element_3.il());
                  } else {
                    if (type instanceof KslTypeFloat2) {
                      tmp_2 = new Uniform2f(element_3.il());
                    } else {
                      if (type instanceof KslTypeFloat3) {
                        tmp_2 = new Uniform3f(element_3.il());
                      } else {
                        if (type instanceof KslTypeFloat4) {
                          tmp_2 = new Uniform4f(element_3.il());
                        } else {
                          if (type instanceof KslTypeInt1) {
                            tmp_2 = new Uniform1i(element_3.il());
                          } else {
                            if (type instanceof KslTypeInt2) {
                              tmp_2 = new Uniform2i(element_3.il());
                            } else {
                              if (type instanceof KslTypeInt3) {
                                tmp_2 = new Uniform3i(element_3.il());
                              } else {
                                if (type instanceof KslTypeInt4) {
                                  tmp_2 = new Uniform4i(element_3.il());
                                } else {
                                  if (type instanceof KslTypeMat3) {
                                    tmp_2 = new UniformMat3f(element_3.il());
                                  } else {
                                    if (type instanceof KslTypeMat4) {
                                      tmp_2 = new UniformMat4f(element_3.il());
                                    } else {
                                      if (type instanceof KslTypeArray) {
                                        var tmp0_subject = type.g2m_1;
                                        var tmp_3;
                                        if (tmp0_subject instanceof KslTypeFloat1) {
                                          tmp_3 = new Uniform1fv(element_3.il(), element_3.b2m_1);
                                        } else {
                                          if (tmp0_subject instanceof KslTypeFloat2) {
                                            tmp_3 = new Uniform2fv(element_3.il(), element_3.b2m_1);
                                          } else {
                                            if (tmp0_subject instanceof KslTypeFloat3) {
                                              tmp_3 = new Uniform3fv(element_3.il(), element_3.b2m_1);
                                            } else {
                                              if (tmp0_subject instanceof KslTypeFloat4) {
                                                tmp_3 = new Uniform4fv(element_3.il(), element_3.b2m_1);
                                              } else {
                                                if (tmp0_subject instanceof KslTypeInt1) {
                                                  tmp_3 = new Uniform1iv(element_3.il(), element_3.b2m_1);
                                                } else {
                                                  if (tmp0_subject instanceof KslTypeInt2) {
                                                    tmp_3 = new Uniform2iv(element_3.il(), element_3.b2m_1);
                                                  } else {
                                                    if (tmp0_subject instanceof KslTypeInt3) {
                                                      tmp_3 = new Uniform3iv(element_3.il(), element_3.b2m_1);
                                                    } else {
                                                      if (tmp0_subject instanceof KslTypeInt4) {
                                                        tmp_3 = new Uniform4iv(element_3.il(), element_3.b2m_1);
                                                      } else {
                                                        if (tmp0_subject instanceof KslTypeMat3) {
                                                          tmp_3 = new UniformMat3fv(element_3.il(), element_3.b2m_1);
                                                        } else {
                                                          if (tmp0_subject instanceof KslTypeMat4) {
                                                            tmp_3 = new UniformMat4fv(element_3.il(), element_3.b2m_1);
                                                          } else {
                                                            throw IllegalStateException_init_$Create$('Unsupported uniform array type: ' + type.g2m_1.e2m_1);
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                        tmp_2 = tmp_3;
                                      } else {
                                        throw IllegalStateException_init_$Create$('Unsupported uniform type: ' + type.e2m_1);
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                  tmp_1 = tmp_2;
                } else {
                  tmp_1 = tmp1_elvis_lhs;
                }
                var createdUniform = tmp_1;
                var tmp2_this_0 = ubo;
                {
                  var tmp0_plusAssign_1 = tmp2_this_0.k2m_1;
                  tmp0_plusAssign_1.b(KslShader$setupUniforms$lambda(createdUniform));
                }
              }
            }
          }
        }
      }
    }
    var tmp$ret$8;
    {
      var tmp3_isNotEmpty = $this.u2k_1.m2k_1;
      tmp$ret$8 = !tmp3_isNotEmpty.q();
    }
    if (tmp$ret$8) {
      {
        var tmp4_forEach = $this.u2k_1.m2k_1.b3();
        var tmp0_iterator_4 = tmp4_forEach.h();
        while (tmp0_iterator_4.n()) {
          var element_4 = tmp0_iterator_4.o();
          {
            var type_0 = element_4.l2().d2m();
            var tmp_4;
            if (type_0 instanceof KslTypeDepthSampler2d) {
              var tmp$ret$9;
              {
                var tmp0_apply = new Builder_0();
                {
                }
                {
                  tmp0_apply.b2n_1 = true;
                }
                tmp$ret$9 = tmp0_apply;
              }
              tmp_4 = tmp$ret$9;
            } else {
              if (type_0 instanceof KslTypeDepthSamplerCube) {
                var tmp$ret$10;
                {
                  var tmp1_apply = new Builder_2();
                  {
                  }
                  {
                    tmp1_apply.q2m_1 = true;
                  }
                  tmp$ret$10 = tmp1_apply;
                }
                tmp_4 = tmp$ret$10;
              } else {
                if (type_0 instanceof KslTypeColorSampler1d) {
                  tmp_4 = new Builder();
                } else {
                  if (type_0 instanceof KslTypeColorSampler2d) {
                    tmp_4 = new Builder_0();
                  } else {
                    if (type_0 instanceof KslTypeColorSampler3d) {
                      tmp_4 = new Builder_1();
                    } else {
                      if (type_0 instanceof KslTypeColorSamplerCube) {
                        tmp_4 = new Builder_2();
                      } else {
                        if (type_0 instanceof KslTypeArray) {
                          var tmp0_subject_0 = type_0.g2m_1;
                          var tmp_5;
                          if (tmp0_subject_0 instanceof KslTypeDepthSampler2d) {
                            var tmp$ret$11;
                            {
                              var tmp2_apply = new Builder_0();
                              {
                              }
                              {
                                tmp2_apply.b2n_1 = true;
                                tmp2_apply.a2n_1 = element_4.b2m_1;
                              }
                              tmp$ret$11 = tmp2_apply;
                            }
                            tmp_5 = tmp$ret$11;
                          } else {
                            if (tmp0_subject_0 instanceof KslTypeDepthSamplerCube) {
                              var tmp$ret$12;
                              {
                                var tmp3_apply = new Builder_2();
                                {
                                }
                                {
                                  tmp3_apply.q2m_1 = true;
                                  tmp3_apply.p2m_1 = element_4.b2m_1;
                                }
                                tmp$ret$12 = tmp3_apply;
                              }
                              tmp_5 = tmp$ret$12;
                            } else {
                              if (tmp0_subject_0 instanceof KslTypeColorSampler1d) {
                                var tmp$ret$13;
                                {
                                  var tmp4_apply = new Builder();
                                  {
                                  }
                                  {
                                    tmp4_apply.g2n_1 = element_4.b2m_1;
                                  }
                                  tmp$ret$13 = tmp4_apply;
                                }
                                tmp_5 = tmp$ret$13;
                              } else {
                                if (tmp0_subject_0 instanceof KslTypeColorSampler2d) {
                                  var tmp$ret$14;
                                  {
                                    var tmp5_apply = new Builder_0();
                                    {
                                    }
                                    {
                                      tmp5_apply.a2n_1 = element_4.b2m_1;
                                    }
                                    tmp$ret$14 = tmp5_apply;
                                  }
                                  tmp_5 = tmp$ret$14;
                                } else {
                                  if (tmp0_subject_0 instanceof KslTypeColorSampler3d) {
                                    var tmp$ret$15;
                                    {
                                      var tmp6_apply = new Builder_1();
                                      {
                                      }
                                      {
                                        tmp6_apply.v2m_1 = element_4.b2m_1;
                                      }
                                      tmp$ret$15 = tmp6_apply;
                                    }
                                    tmp_5 = tmp$ret$15;
                                  } else {
                                    if (tmp0_subject_0 instanceof KslTypeColorSamplerCube) {
                                      var tmp$ret$16;
                                      {
                                        var tmp7_apply = new Builder_2();
                                        {
                                        }
                                        {
                                          tmp7_apply.p2m_1 = element_4.b2m_1;
                                        }
                                        tmp$ret$16 = tmp7_apply;
                                      }
                                      tmp_5 = tmp$ret$16;
                                    } else {
                                      throw IllegalStateException_init_$Create$('Unsupported sampler array type: ' + type_0.g2m_1.e2m_1);
                                    }
                                  }
                                }
                              }
                            }
                          }
                          tmp_4 = tmp_5;
                        } else {
                          throw IllegalStateException_init_$Create$('Unsupported sampler uniform type: ' + type_0.e2m_1);
                        }
                      }
                    }
                  }
                }
              }
            }
            var desc = tmp_4;
            desc.h2l_1 = element_4.il();
            if ($this.u2k_1.o2k_1.s2l().z2l().a3().p(element_4.l2())) {
              var tmp1_this_0 = desc;
              {
                var tmp8_plusAssign = tmp1_this_0.i2l_1;
                var tmp9_plusAssign = ShaderStage_VERTEX_SHADER_getInstance();
                tmp8_plusAssign.b(tmp9_plusAssign);
              }
            }
            if ($this.u2k_1.p2k_1.s2l().z2l().a3().p(element_4.l2())) {
              var tmp2_this_1 = desc;
              {
                var tmp10_plusAssign = tmp2_this_1.i2l_1;
                var tmp11_plusAssign = ShaderStage_FRAGMENT_SHADER_getInstance();
                tmp10_plusAssign.b(tmp11_plusAssign);
              }
            }
            var tmp3_this = descBuilder;
            {
              var tmp12_plusAssign = tmp3_this.g2l_1;
              tmp12_plusAssign.b(desc);
            }
          }
        }
      }
    }
  }
  function setupAttributes($this, mesh, builder) {
    var attribLocation = 0;
    var verts = mesh.z2n_1;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    var vertLayoutAttribs = tmp$ret$0;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    var vertLayoutAttribsI = tmp$ret$1;
    var iBinding = 0;
    {
      var tmp = asSequence($this.u2k_1.o2k_1.v2o_1.b3());
      var tmp0_forEach = filter(tmp, KslShader$setupAttributes$lambda());
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var tmp$ret$4;
          {
            var tmp0_find = verts.g2p_1.a3();
            var tmp$ret$3;
            $l$block: {
              var tmp0_iterator_0 = tmp0_find.h();
              while (tmp0_iterator_0.n()) {
                var element_0 = tmp0_iterator_0.o();
                var tmp$ret$2;
                {
                  tmp$ret$2 = element_0.s2p_1 === element.il();
                }
                if (tmp$ret$2) {
                  tmp$ret$3 = element_0;
                  break $l$block;
                }
              }
              tmp$ret$3 = null;
            }
            tmp$ret$4 = tmp$ret$3;
          }
          var tmp0_elvis_lhs = tmp$ret$4;
          var tmp_0;
          if (tmp0_elvis_lhs == null) {
            throw NoSuchElementException_init_$Create$('Mesh does not include required vertex attribute: ' + element.il());
          } else {
            tmp_0 = tmp0_elvis_lhs;
          }
          var attrib = tmp_0;
          var off = ensureNotNull(verts.g2p_1.z2(attrib));
          if (attrib.t2p_1.b2q_1) {
            {
              var tmp1_plusAssign = new VertexAttribute(attribLocation, off, attrib);
              vertLayoutAttribsI.b(tmp1_plusAssign);
            }
          } else {
            {
              var tmp2_plusAssign = new VertexAttribute(attribLocation, off, attrib);
              vertLayoutAttribs.b(tmp2_plusAssign);
            }
          }
          element.x2p_1 = attribLocation;
          attribLocation = attribLocation + attrib.u2p_1.d2q_1 | 0;
        }
      }
    }
    var tmp0_this = builder.d2k_1;
    {
      var tmp1_plusAssign_0 = tmp0_this.g2q_1;
      var tmp1 = iBinding;
      iBinding = tmp1 + 1 | 0;
      var tmp2_plusAssign_0 = new Binding(tmp1, InputRate_VERTEX_getInstance(), vertLayoutAttribs, verts.d2p_1);
      tmp1_plusAssign_0.b(tmp2_plusAssign_0);
    }
    var tmp$ret$5;
    {
      tmp$ret$5 = !vertLayoutAttribsI.q();
    }
    if (tmp$ret$5) {
      var tmp2_this = builder.d2k_1;
      {
        var tmp3_plusAssign = tmp2_this.g2q_1;
        var tmp3 = iBinding;
        iBinding = tmp3 + 1 | 0;
        var tmp4_plusAssign = new Binding(tmp3, InputRate_VERTEX_getInstance(), vertLayoutAttribsI, verts.f2p_1);
        tmp3_plusAssign.b(tmp4_plusAssign);
      }
    }
    var tmp$ret$8;
    {
      var tmp5_filter = $this.u2k_1.o2k_1.v2o_1.b3();
      var tmp$ret$7;
      {
        var tmp0_filterTo = ArrayList_init_$Create$_0();
        var tmp0_iterator_1 = tmp5_filter.h();
        while (tmp0_iterator_1.n()) {
          var element_1 = tmp0_iterator_1.o();
          var tmp$ret$6;
          {
            tmp$ret$6 = element_1.w2p_1.equals(KslInputRate_Instance_getInstance());
          }
          if (tmp$ret$6) {
            tmp0_filterTo.b(element_1);
          }
        }
        tmp$ret$7 = tmp0_filterTo;
      }
      tmp$ret$8 = tmp$ret$7;
    }
    var instanceAttribs = tmp$ret$8;
    var insts = mesh.b2o_1;
    if (!(insts == null)) {
      var tmp$ret$9;
      {
        tmp$ret$9 = ArrayList_init_$Create$_0();
      }
      var instLayoutAttribs = tmp$ret$9;
      {
        var tmp0_iterator_2 = instanceAttribs.h();
        while (tmp0_iterator_2.n()) {
          var element_2 = tmp0_iterator_2.o();
          {
            var tmp$ret$12;
            {
              var tmp0_find_0 = insts.i2q_1.a3();
              var tmp$ret$11;
              $l$block_0: {
                var tmp0_iterator_3 = tmp0_find_0.h();
                while (tmp0_iterator_3.n()) {
                  var element_3 = tmp0_iterator_3.o();
                  var tmp$ret$10;
                  {
                    tmp$ret$10 = element_3.s2p_1 === element_2.il();
                  }
                  if (tmp$ret$10) {
                    tmp$ret$11 = element_3;
                    break $l$block_0;
                  }
                }
                tmp$ret$11 = null;
              }
              tmp$ret$12 = tmp$ret$11;
            }
            var tmp0_elvis_lhs_0 = tmp$ret$12;
            var tmp_1;
            if (tmp0_elvis_lhs_0 == null) {
              throw NoSuchElementException_init_$Create$('Mesh does not include required instance attribute: ' + element_2.il());
            } else {
              tmp_1 = tmp0_elvis_lhs_0;
            }
            var attrib_0 = tmp_1;
            var off_0 = ensureNotNull(insts.i2q_1.z2(attrib_0));
            {
              var tmp1_plusAssign_1 = new VertexAttribute(attribLocation, off_0, attrib_0);
              instLayoutAttribs.b(tmp1_plusAssign_1);
            }
            element_2.x2p_1 = attribLocation;
            attribLocation = attribLocation + attrib_0.u2p_1.d2q_1 | 0;
          }
        }
      }
      var tmp4_this = builder.d2k_1;
      {
        var tmp6_plusAssign = tmp4_this.g2q_1;
        var tmp7_plusAssign = new Binding(iBinding, InputRate_INSTANCE_getInstance(), instLayoutAttribs, insts.k2q_1);
        tmp6_plusAssign.b(tmp7_plusAssign);
      }
    } else {
      var tmp$ret$13;
      {
        tmp$ret$13 = !instanceAttribs.q();
      }
      if (tmp$ret$13) {
        throw IllegalStateException_init_$Create$("Shader model requires instance attributes, but mesh doesn't provide any");
      }
    }
  }
  function PipelineConfig() {
    this.r2q_1 = BlendMode_BLEND_MULTIPLY_ALPHA_getInstance();
    this.s2q_1 = CullMethod_CULL_BACK_FACES_getInstance();
    this.t2q_1 = DepthCompareOp_LESS_EQUAL_getInstance();
    this.u2q_1 = true;
    this.v2q_1 = 1.0;
  }
  PipelineConfig.prototype.w2q = function (_set____db54di) {
    this.r2q_1 = _set____db54di;
  };
  PipelineConfig.prototype.x2q = function (_set____db54di) {
    this.s2q_1 = _set____db54di;
  };
  PipelineConfig.prototype.y2q = function (_set____db54di) {
    this.t2q_1 = _set____db54di;
  };
  PipelineConfig.$metadata$ = classMeta('PipelineConfig');
  function ConnectUniformListener() {
  }
  ConnectUniformListener.$metadata$ = interfaceMeta('ConnectUniformListener');
  function UniformInput1f($outer, uniformName, defaultVal) {
    this.e2r_1 = $outer;
    this.a2r_1 = uniformName;
    this.b2r_1 = null;
    this.c2r_1 = defaultVal;
    this.d2r_1 = !(this.b2r_1 == null);
  }
  UniformInput1f.prototype.z2q = function () {
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_get = this.e2r_1.w2k_1;
      var tmp1_get = this.a2r_1;
      tmp$ret$0 = (isInterface(tmp0_get, Map) ? tmp0_get : THROW_CCE()).z2(tmp1_get);
    }
    var tmp_0 = tmp$ret$0;
    var tmp0_safe_receiver = tmp_0 instanceof Uniform1f ? tmp_0 : null;
    var tmp_1;
    if (tmp0_safe_receiver == null) {
      tmp_1 = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        {
          tmp0_safe_receiver.i2r(this.c2r_1);
        }
        tmp$ret$1 = tmp0_safe_receiver;
      }
      tmp_1 = tmp$ret$1;
    }
    tmp.b2r_1 = tmp_1;
  };
  UniformInput1f.prototype.j2r = function (thisRef, property) {
    var tmp0_safe_receiver = this.b2r_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.l2();
    return tmp1_elvis_lhs == null ? this.c2r_1 : tmp1_elvis_lhs;
  };
  UniformInput1f.prototype.k2r = function (thisRef, property, value) {
    var tmp0_safe_receiver = this.b2r_1;
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$0;
      {
        {
        }
        tmp$ret$0 = tmp0_safe_receiver.i2r(value);
      }
      tmp = Unit_getInstance();
    }
    var tmp1_elvis_lhs = tmp;
    if (tmp1_elvis_lhs == null) {
      var tmp$ret$1;
      {
        {
        }
        this.c2r_1 = value;
        tmp$ret$1 = Unit_getInstance();
      }
    } else {
    }
  };
  UniformInput1f.$metadata$ = classMeta('UniformInput1f', [ConnectUniformListener]);
  function UniformInput2f($outer, uniformName, defaultVal) {
    this.p2r_1 = $outer;
    this.l2r_1 = uniformName;
    this.m2r_1 = null;
    this.n2r_1 = MutableVec2f_init_$Create$_0(defaultVal);
    this.o2r_1 = !(this.m2r_1 == null);
  }
  UniformInput2f.prototype.z2q = function () {
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_get = this.p2r_1.w2k_1;
      var tmp1_get = this.l2r_1;
      tmp$ret$0 = (isInterface(tmp0_get, Map) ? tmp0_get : THROW_CCE()).z2(tmp1_get);
    }
    var tmp_0 = tmp$ret$0;
    var tmp0_safe_receiver = tmp_0 instanceof Uniform2f ? tmp_0 : null;
    var tmp_1;
    if (tmp0_safe_receiver == null) {
      tmp_1 = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        {
          tmp0_safe_receiver.l2().y2f(this.n2r_1);
        }
        tmp$ret$1 = tmp0_safe_receiver;
      }
      tmp_1 = tmp$ret$1;
    }
    tmp.m2r_1 = tmp_1;
  };
  UniformInput2f.prototype.j2r = function (thisRef, property) {
    var tmp0_safe_receiver = this.m2r_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.l2();
    return tmp1_elvis_lhs == null ? this.n2r_1 : tmp1_elvis_lhs;
  };
  UniformInput2f.prototype.q2r = function (thisRef, property, value) {
    var tmp0_safe_receiver = this.m2r_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.l2();
    return (tmp1_elvis_lhs == null ? this.n2r_1 : tmp1_elvis_lhs).y2f(value);
  };
  UniformInput2f.$metadata$ = classMeta('UniformInput2f', [ConnectUniformListener]);
  function UniformInput4f($outer, uniformName, defaultVal) {
    this.v2r_1 = $outer;
    this.r2r_1 = uniformName;
    this.s2r_1 = null;
    this.t2r_1 = MutableVec4f_init_$Create$_0(defaultVal);
    this.u2r_1 = !(this.s2r_1 == null);
  }
  UniformInput4f.prototype.z2q = function () {
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_get = this.v2r_1.w2k_1;
      var tmp1_get = this.r2r_1;
      tmp$ret$0 = (isInterface(tmp0_get, Map) ? tmp0_get : THROW_CCE()).z2(tmp1_get);
    }
    var tmp_0 = tmp$ret$0;
    var tmp0_safe_receiver = tmp_0 instanceof Uniform4f ? tmp_0 : null;
    var tmp_1;
    if (tmp0_safe_receiver == null) {
      tmp_1 = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        {
          tmp0_safe_receiver.l2().s2i(this.t2r_1);
        }
        tmp$ret$1 = tmp0_safe_receiver;
      }
      tmp_1 = tmp$ret$1;
    }
    tmp.s2r_1 = tmp_1;
  };
  UniformInput4f.$metadata$ = classMeta('UniformInput4f', [ConnectUniformListener]);
  function UniformInput1i($outer, uniformName, defaultVal) {
    this.a2s_1 = $outer;
    this.w2r_1 = uniformName;
    this.x2r_1 = null;
    this.y2r_1 = defaultVal;
    this.z2r_1 = !(this.x2r_1 == null);
  }
  UniformInput1i.prototype.z2q = function () {
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_get = this.a2s_1.w2k_1;
      var tmp1_get = this.w2r_1;
      tmp$ret$0 = (isInterface(tmp0_get, Map) ? tmp0_get : THROW_CCE()).z2(tmp1_get);
    }
    var tmp_0 = tmp$ret$0;
    var tmp0_safe_receiver = tmp_0 instanceof Uniform1i ? tmp_0 : null;
    var tmp_1;
    if (tmp0_safe_receiver == null) {
      tmp_1 = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        {
          tmp0_safe_receiver.i2r(this.y2r_1);
        }
        tmp$ret$1 = tmp0_safe_receiver;
      }
      tmp_1 = tmp$ret$1;
    }
    tmp.x2r_1 = tmp_1;
  };
  UniformInput1i.prototype.j2r = function (thisRef, property) {
    var tmp0_safe_receiver = this.x2r_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.l2();
    return tmp1_elvis_lhs == null ? this.y2r_1 : tmp1_elvis_lhs;
  };
  UniformInput1i.prototype.b2s = function (thisRef, property, value) {
    var tmp0_safe_receiver = this.x2r_1;
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$0;
      {
        {
        }
        tmp$ret$0 = tmp0_safe_receiver.i2r(value);
      }
      tmp = Unit_getInstance();
    }
    var tmp1_elvis_lhs = tmp;
    if (tmp1_elvis_lhs == null) {
      var tmp$ret$1;
      {
        {
        }
        this.y2r_1 = value;
        tmp$ret$1 = Unit_getInstance();
      }
    } else {
    }
  };
  UniformInput1i.$metadata$ = classMeta('UniformInput1i', [ConnectUniformListener]);
  function UniformInput2i($outer, uniformName, defaultVal) {
    this.g2s_1 = $outer;
    this.c2s_1 = uniformName;
    this.d2s_1 = null;
    this.e2s_1 = MutableVec2i_init_$Create$_0(defaultVal);
    this.f2s_1 = !(this.d2s_1 == null);
  }
  UniformInput2i.prototype.z2q = function () {
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_get = this.g2s_1.w2k_1;
      var tmp1_get = this.c2s_1;
      tmp$ret$0 = (isInterface(tmp0_get, Map) ? tmp0_get : THROW_CCE()).z2(tmp1_get);
    }
    var tmp_0 = tmp$ret$0;
    var tmp0_safe_receiver = tmp_0 instanceof Uniform2i ? tmp_0 : null;
    var tmp_1;
    if (tmp0_safe_receiver == null) {
      tmp_1 = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        {
          tmp0_safe_receiver.l2().q2f(this.e2s_1);
        }
        tmp$ret$1 = tmp0_safe_receiver;
      }
      tmp_1 = tmp$ret$1;
    }
    tmp.d2s_1 = tmp_1;
  };
  UniformInput2i.prototype.j2r = function (thisRef, property) {
    var tmp0_safe_receiver = this.d2s_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.l2();
    return tmp1_elvis_lhs == null ? this.e2s_1 : tmp1_elvis_lhs;
  };
  UniformInput2i.prototype.h2s = function (thisRef, property, value) {
    var tmp0_safe_receiver = this.d2s_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.l2();
    return (tmp1_elvis_lhs == null ? this.e2s_1 : tmp1_elvis_lhs).q2f(value);
  };
  UniformInput2i.$metadata$ = classMeta('UniformInput2i', [ConnectUniformListener]);
  function UniformInputTexture2d($outer, uniformName, defaultVal) {
    this.m2s_1 = $outer;
    this.i2s_1 = uniformName;
    this.j2s_1 = null;
    this.k2s_1 = defaultVal;
    this.l2s_1 = !(this.j2s_1 == null);
  }
  UniformInputTexture2d.prototype.z2q = function () {
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_get = this.m2s_1.y2k_1;
      var tmp1_get = this.i2s_1;
      tmp$ret$0 = (isInterface(tmp0_get, Map) ? tmp0_get : THROW_CCE()).z2(tmp1_get);
    }
    var tmp0_safe_receiver = tmp$ret$0;
    var tmp_0;
    if (tmp0_safe_receiver == null) {
      tmp_0 = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        {
          tmp0_safe_receiver.w2s(this.k2s_1);
        }
        tmp$ret$1 = tmp0_safe_receiver;
      }
      tmp_0 = tmp$ret$1;
    }
    tmp.j2s_1 = tmp_0;
  };
  UniformInputTexture2d.prototype.j2r = function (thisRef, property) {
    var tmp0_safe_receiver = this.j2s_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.x2s();
    return tmp1_elvis_lhs == null ? this.k2s_1 : tmp1_elvis_lhs;
  };
  UniformInputTexture2d.prototype.y2s = function (thisRef, property, value) {
    var tmp0_safe_receiver = this.j2s_1;
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$0;
      {
        {
        }
        tmp$ret$0 = tmp0_safe_receiver.w2s(value);
      }
      tmp = Unit_getInstance();
    }
    var tmp1_elvis_lhs = tmp;
    if (tmp1_elvis_lhs == null) {
      var tmp$ret$1;
      {
        {
        }
        this.k2s_1 = value;
        tmp$ret$1 = Unit_getInstance();
      }
    } else {
    }
  };
  UniformInputTexture2d.$metadata$ = classMeta('UniformInputTexture2d', [ConnectUniformListener]);
  function UniformInput2fv($outer, uniformName, arraySize) {
    this.e2t_1 = $outer;
    this.z2s_1 = uniformName;
    this.a2t_1 = arraySize;
    this.b2t_1 = null;
    var tmp = this;
    var tmp_0 = 0;
    var tmp_1 = this.a2t_1;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_1), null);
    }
    var tmp_2 = tmp$ret$0;
    while (tmp_0 < tmp_1) {
      var tmp_3 = tmp_0;
      var tmp$ret$1;
      {
        tmp$ret$1 = MutableVec2f_init_$Create$_0(Companion_getInstance_7().a2g_1);
      }
      tmp_2[tmp_3] = tmp$ret$1;
      tmp_0 = tmp_0 + 1 | 0;
    }
    tmp.c2t_1 = tmp_2;
    this.d2t_1 = !(this.b2t_1 == null);
  }
  UniformInput2fv.prototype.f2t = function () {
    return this.a2t_1;
  };
  UniformInput2fv.prototype.z2q = function () {
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_get = this.e2t_1.w2k_1;
      var tmp1_get = this.z2s_1;
      tmp$ret$0 = (isInterface(tmp0_get, Map) ? tmp0_get : THROW_CCE()).z2(tmp1_get);
    }
    var tmp_0 = tmp$ret$0;
    var tmp0_safe_receiver = tmp_0 instanceof Uniform2fv ? tmp_0 : null;
    var tmp_1;
    if (tmp0_safe_receiver == null) {
      tmp_1 = null;
    } else {
      var tmp$ret$2;
      {
        {
        }
        {
          {
            var tmp0_check = tmp0_safe_receiver.kd() === this.a2t_1;
            {
            }
            if (!tmp0_check) {
              var tmp$ret$1;
              {
                tmp$ret$1 = 'Mismatching uniform array size: ' + tmp0_safe_receiver.kd() + ' != ' + this.a2t_1;
              }
              var message = tmp$ret$1;
              throw IllegalStateException_init_$Create$(toString(message));
            }
          }
          tmp0_safe_receiver.i2r(this.c2t_1);
        }
        tmp$ret$2 = tmp0_safe_receiver;
      }
      tmp_1 = tmp$ret$2;
    }
    tmp.b2t_1 = tmp_1;
  };
  UniformInput2fv.prototype.j2r = function (thisRef, property) {
    var tmp0_safe_receiver = this.b2t_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.l2();
    return tmp1_elvis_lhs == null ? this.c2t_1 : tmp1_elvis_lhs;
  };
  UniformInput2fv.$metadata$ = classMeta('UniformInput2fv', [ConnectUniformListener]);
  function KslShader$onPipelineSetup$lambda($ctx, this$0) {
    return function (it) {
      return $ctx.z2b(this$0, it);
    };
  }
  function KslShader$onPipelineCreated$lambda(this$0) {
    return function (cmd) {
      var inductionVariable = 0;
      var last = this$0.u2k_1.r2k_1.m() - 1 | 0;
      var tmp;
      if (inductionVariable <= last) {
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          this$0.u2k_1.r2k_1.r(i).g2t(cmd);
        }
         while (inductionVariable <= last);
        tmp = Unit_getInstance();
      }
      return Unit_getInstance();
    };
  }
  function KslShader$setupUniforms$lambda($createdUniform) {
    return function () {
      return $createdUniform;
    };
  }
  function KslShader$setupAttributes$lambda() {
    return function (it) {
      return it.w2p_1.equals(KslInputRate_Vertex_getInstance());
    };
  }
  function KslShader(program, pipelineConfig) {
    Shader.call(this);
    this.u2k_1 = program;
    this.v2k_1 = pipelineConfig;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.w2k_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = LinkedHashMap_init_$Create$();
    }
    tmp_0.x2k_1 = tmp$ret$1;
    var tmp_1 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = LinkedHashMap_init_$Create$();
    }
    tmp_1.y2k_1 = tmp$ret$2;
    var tmp_2 = this;
    var tmp$ret$3;
    {
      tmp$ret$3 = LinkedHashMap_init_$Create$();
    }
    tmp_2.z2k_1 = tmp$ret$3;
    var tmp_3 = this;
    var tmp$ret$4;
    {
      tmp$ret$4 = LinkedHashMap_init_$Create$();
    }
    tmp_3.a2l_1 = tmp$ret$4;
    var tmp_4 = this;
    var tmp$ret$5;
    {
      tmp$ret$5 = ArrayList_init_$Create$_0();
    }
    tmp_4.b2l_1 = tmp$ret$5;
  }
  KslShader.prototype.h2t = function () {
    return this.u2k_1;
  };
  KslShader.prototype.i2t = function () {
    return this.w2k_1;
  };
  KslShader.prototype.j2t = function () {
    return this.x2k_1;
  };
  KslShader.prototype.k2t = function () {
    return this.y2k_1;
  };
  KslShader.prototype.l2t = function () {
    return this.z2k_1;
  };
  KslShader.prototype.m2t = function () {
    return this.a2l_1;
  };
  KslShader.prototype.n2t = function (builder, mesh, ctx) {
    this.u2k_1.o2t();
    if (this.u2k_1.h2k_1) {
      this.u2k_1.o2k_1.p2t().r2t();
    }
    setupAttributes(this, mesh, builder);
    setupUniforms(this, builder);
    builder.y2j_1 = this.v2k_1.r2q_1;
    builder.x2j_1 = this.v2k_1.s2q_1;
    builder.z2j_1 = this.v2k_1.t2q_1;
    builder.a2k_1 = this.v2k_1.u2q_1;
    builder.b2k_1 = this.v2k_1.v2q_1;
    builder.w2j_1 = this.u2k_1.g2k_1;
    var tmp = builder;
    tmp.c2k_1 = KslShader$onPipelineSetup$lambda(ctx, this);
    Shader.prototype.n2t.call(this, builder, mesh, ctx);
  };
  KslShader.prototype.u2t = function (pipeline, mesh, ctx) {
    {
      var tmp0_forEach = pipeline.g2u_1.w2t_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          {
            var tmp0_forEach_0 = element.k2u_1;
            var tmp0_iterator_0 = tmp0_forEach_0.h();
            while (tmp0_iterator_0.n()) {
              var element_0 = tmp0_iterator_0.o();
              {
                var tmp0_subject = element_0;
                if (tmp0_subject instanceof UniformBuffer) {
                  var tmp0_forEach_1 = element_0.w2u_1;
                  var tmp0_iterator_1 = tmp0_forEach_1.h();
                  while (tmp0_iterator_1.n()) {
                    var element_1 = tmp0_iterator_1.o();
                    {
                      {
                        var tmp0_set = this.w2k_1;
                        var tmp1_set = element_1.g2r_1;
                        tmp0_set.a(tmp1_set, element_1);
                      }
                    }
                  }
                } else {
                  if (tmp0_subject instanceof TextureSampler1d) {
                    var tmp1_set_0 = this.x2k_1;
                    var tmp2_set = element_0.o2u_1;
                    var tmp3_set = element_0;
                    tmp1_set_0.a(tmp2_set, tmp3_set);
                  } else {
                    if (tmp0_subject instanceof TextureSampler2d) {
                      var tmp4_set = this.y2k_1;
                      var tmp5_set = element_0.o2u_1;
                      var tmp6_set = element_0;
                      tmp4_set.a(tmp5_set, tmp6_set);
                    } else {
                      if (tmp0_subject instanceof TextureSampler3d) {
                        var tmp7_set = this.z2k_1;
                        var tmp8_set = element_0.o2u_1;
                        var tmp9_set = element_0;
                        tmp7_set.a(tmp8_set, tmp9_set);
                      } else {
                        if (tmp0_subject instanceof TextureSamplerCube) {
                          var tmp10_set = this.a2l_1;
                          var tmp11_set = element_0.o2u_1;
                          var tmp12_set = element_0;
                          tmp10_set.a(tmp11_set, tmp12_set);
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    var tmp0_this = pipeline;
    {
      var tmp1_plusAssign = tmp0_this.i2u_1;
      tmp1_plusAssign.b(KslShader$onPipelineCreated$lambda(this));
    }
    {
      var tmp2_forEach = this.u2k_1.r2k_1;
      var tmp0_iterator_2 = tmp2_forEach.h();
      while (tmp0_iterator_2.n()) {
        var element_2 = tmp0_iterator_2.o();
        {
          element_2.z2u(this, pipeline, ctx);
        }
      }
    }
    {
      var tmp3_forEach = this.b2l_1;
      var tmp0_iterator_3 = tmp3_forEach.h();
      while (tmp0_iterator_3.n()) {
        var element_3 = tmp0_iterator_3.o();
        {
          element_3.z2q();
        }
      }
    }
    Shader.prototype.u2t.call(this, pipeline, mesh, ctx);
  };
  KslShader.prototype.a2v = function (uniformName, defaultVal) {
    var tmp$ret$0;
    {
      var tmp0_elvis_lhs = defaultVal;
      var tmp0_also = new UniformInput1f(this, uniformName, tmp0_elvis_lhs == null ? 0.0 : tmp0_elvis_lhs);
      {
      }
      {
        var tmp0_this = this;
        {
          var tmp0_plusAssign = tmp0_this.b2l_1;
          tmp0_plusAssign.b(tmp0_also);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  KslShader.prototype.b2v = function (uniformName, defaultVal, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      defaultVal = null;
    return this.a2v(uniformName, defaultVal);
  };
  KslShader.prototype.c2v = function (uniformName, defaultVal) {
    var tmp$ret$0;
    {
      var tmp0_elvis_lhs = defaultVal;
      var tmp0_also = new UniformInput2f(this, uniformName, tmp0_elvis_lhs == null ? Companion_getInstance_7().a2g_1 : tmp0_elvis_lhs);
      {
      }
      {
        var tmp0_this = this;
        {
          var tmp0_plusAssign = tmp0_this.b2l_1;
          tmp0_plusAssign.b(tmp0_also);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  KslShader.prototype.d2v = function (uniformName, defaultVal, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      defaultVal = null;
    return this.c2v(uniformName, defaultVal);
  };
  KslShader.prototype.e2v = function (uniformName, defaultVal) {
    var tmp$ret$0;
    {
      var tmp0_elvis_lhs = defaultVal;
      var tmp0_also = new UniformInput4f(this, uniformName, tmp0_elvis_lhs == null ? Companion_getInstance_12().w2i_1 : tmp0_elvis_lhs);
      {
      }
      {
        var tmp0_this = this;
        {
          var tmp0_plusAssign = tmp0_this.b2l_1;
          tmp0_plusAssign.b(tmp0_also);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  KslShader.prototype.f2v = function (uniformName, defaultVal) {
    var tmp$ret$0;
    {
      var tmp0_elvis_lhs = defaultVal;
      var tmp0_also = new UniformInput1i(this, uniformName, tmp0_elvis_lhs == null ? 0 : tmp0_elvis_lhs);
      {
      }
      {
        var tmp0_this = this;
        {
          var tmp0_plusAssign = tmp0_this.b2l_1;
          tmp0_plusAssign.b(tmp0_also);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  KslShader.prototype.g2v = function (uniformName, defaultVal, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      defaultVal = null;
    return this.f2v(uniformName, defaultVal);
  };
  KslShader.prototype.h2v = function (uniformName, defaultVal) {
    var tmp$ret$0;
    {
      var tmp0_elvis_lhs = defaultVal;
      var tmp0_also = new UniformInput2i(this, uniformName, tmp0_elvis_lhs == null ? Companion_getInstance_6().f2f_1 : tmp0_elvis_lhs);
      {
      }
      {
        var tmp0_this = this;
        {
          var tmp0_plusAssign = tmp0_this.b2l_1;
          tmp0_plusAssign.b(tmp0_also);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  KslShader.prototype.i2v = function (uniformName, defaultVal, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      defaultVal = null;
    return this.h2v(uniformName, defaultVal);
  };
  KslShader.prototype.j2v = function (uniformName, defaultVal) {
    var tmp$ret$0;
    {
      var tmp0_also = new UniformInputTexture2d(this, uniformName, defaultVal);
      {
      }
      {
        var tmp0_this = this;
        {
          var tmp0_plusAssign = tmp0_this.b2l_1;
          tmp0_plusAssign.b(tmp0_also);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  KslShader.prototype.k2v = function (uniformName, defaultVal, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      defaultVal = null;
    return this.j2v(uniformName, defaultVal);
  };
  KslShader.prototype.l2v = function (uniformName, arraySize) {
    var tmp$ret$0;
    {
      var tmp0_also = new UniformInput2fv(this, uniformName, arraySize);
      {
      }
      {
        var tmp0_this = this;
        {
          var tmp0_plusAssign = tmp0_this.b2l_1;
          tmp0_plusAssign.b(tmp0_also);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  KslShader.$metadata$ = classMeta('KslShader', undefined, undefined, undefined, undefined, Shader.prototype);
  function KslShaderListener() {
  }
  KslShaderListener.$metadata$ = interfaceMeta('KslShaderListener');
  function KslUnlitShader$Model$lambda$lambda(this$0, $cfg, $this_vertexStage) {
    return function ($this$main) {
      var tmp = mvpMatrix(this$0).i2e();
      var mvp = $this$main.y2v(tmp, null, 2, null);
      var tmp_0;
      if ($cfg.o2w_1) {
        tmp_0 = $this$main.l2w(mvp, $this_vertexStage.k2w(Companion_getInstance_28().i2w_1.s2p_1));
      }
      $this$main.t2w($this_vertexStage.y2o_1, times(mvp, $this$main.s2w($this_vertexStage.r2w(Companion_getInstance_28().z2v_1.s2p_1), 1.0)));
      return Unit_getInstance();
    };
  }
  function KslUnlitShader$Model$lambda(this$0, $cfg) {
    return function ($this$vertexStage) {
      $this$vertexStage.u2w(KslUnlitShader$Model$lambda$lambda(this$0, $cfg, $this$vertexStage));
      return Unit_getInstance();
    };
  }
  function KslUnlitShader$Model$lambda$lambda_0($cfg, $this_fragmentStage) {
    return function ($this$main) {
      var colorBlock = fragmentColorBlock$default($this$main, $cfg.m2w_1, null, 2, null);
      var baseColor = float4Port($this$main, 'baseColor', colorBlock.e2x_1);
      var tmp = get_rgb(baseColor);
      var outRgb = $this$main.g2x(tmp, null, 2, null);
      $this$main.t2w(outRgb, convertColorSpace($this$main, outRgb, $cfg.p2w_1));
      var tmp_0;
      if ($cfg.n2w_1.r2q_1.equals(BlendMode_BLEND_PREMULTIPLIED_ALPHA_getInstance())) {
        tmp_0 = $this$main.t2w(outRgb, times_0(outRgb, get_a(baseColor)));
      }
      var tmp_1 = get_a(baseColor);
      $this_fragmentStage.t2x($this$main, outRgb, tmp_1, 0, 4, null);
      return Unit_getInstance();
    };
  }
  function KslUnlitShader$Model$lambda_0($cfg) {
    return function ($this$fragmentStage) {
      $this$fragmentStage.u2w(KslUnlitShader$Model$lambda$lambda_0($cfg, $this$fragmentStage));
      return Unit_getInstance();
    };
  }
  function KslUnlitShader_init_$Init$(cfg, model, $mask0, $marker, $this) {
    if (!(($mask0 & 2) === 0))
      model = new Model(cfg);
    KslUnlitShader.call($this, cfg, model);
    return $this;
  }
  function KslUnlitShader_init_$Init$_0(block, $this) {
    var tmp$ret$0;
    {
      var tmp0_apply = new Config();
      {
      }
      block(tmp0_apply);
      tmp$ret$0 = tmp0_apply;
    }
    var tmp = tmp$ret$0;
    KslUnlitShader_init_$Init$(tmp, null, 2, null, $this);
    return $this;
  }
  function KslUnlitShader_init_$Create$(block) {
    return KslUnlitShader_init_$Init$_0(block, Object.create(KslUnlitShader.prototype));
  }
  function Config() {
    this.m2w_1 = new ColorBlockConfig('baseColor');
    this.n2w_1 = new PipelineConfig();
    this.o2w_1 = false;
    this.p2w_1 = ColorSpaceConversion_LINEAR_TO_sRGB_getInstance();
    this.q2w_1 = null;
  }
  Config.prototype.u2x = function (block) {
    var tmp$ret$0;
    {
      var tmp0_apply = this.m2w_1;
      {
      }
      block(tmp0_apply);
      tmp$ret$0 = tmp0_apply;
    }
  };
  Config.$metadata$ = classMeta('Config');
  function Model(cfg) {
    KslProgram.call(this, 'Unlit Shader');
    this.v2x(KslUnlitShader$Model$lambda(this, cfg));
    this.w2x(KslUnlitShader$Model$lambda_0(cfg));
    var tmp0_safe_receiver = cfg.q2w_1;
    if (tmp0_safe_receiver == null)
      null;
    else
      tmp0_safe_receiver(this);
  }
  Model.$metadata$ = classMeta('Model', undefined, undefined, undefined, undefined, KslProgram.prototype);
  function KslUnlitShader(cfg, model) {
    KslShader.call(this, model, cfg.n2w_1);
    var tmp = this;
    var tmp0_safe_receiver = cfg.m2w_1.k2y();
    var tmp_0 = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.n2y_1;
    var tmp1_safe_receiver = cfg.m2w_1.k2y();
    tmp.y2y_1 = this.e2v(tmp_0, tmp1_safe_receiver == null ? null : tmp1_safe_receiver.m2y_1);
    var tmp_1 = this;
    var tmp0_safe_receiver_0 = cfg.m2w_1.a2z();
    var tmp_2 = tmp0_safe_receiver_0 == null ? null : tmp0_safe_receiver_0.d2z_1;
    var tmp1_safe_receiver_0 = cfg.m2w_1.a2z();
    tmp_1.z2y_1 = this.j2v(tmp_2, tmp1_safe_receiver_0 == null ? null : tmp1_safe_receiver_0.c2z_1);
  }
  KslUnlitShader.$metadata$ = classMeta('KslUnlitShader', undefined, undefined, undefined, undefined, KslShader.prototype);
  var MixMode_Set_instance;
  var MixMode_Multiply_instance;
  var MixMode_Add_instance;
  var MixMode_Subtract_instance;
  var MixMode_entriesInitialized;
  function MixMode_initEntries() {
    if (MixMode_entriesInitialized)
      return Unit_getInstance();
    MixMode_entriesInitialized = true;
    MixMode_Set_instance = new MixMode('Set', 0);
    MixMode_Multiply_instance = new MixMode('Multiply', 1);
    MixMode_Add_instance = new MixMode('Add', 2);
    MixMode_Subtract_instance = new MixMode('Subtract', 3);
  }
  function ColorSource(mixMode) {
    this.g2z_1 = mixMode;
  }
  ColorSource.prototype.h2z = function () {
    return this.g2z_1;
  };
  ColorSource.$metadata$ = classMeta('ColorSource');
  function ConstColor(constColor, mixMode) {
    ColorSource.call(this, mixMode);
    this.j2z_1 = constColor;
  }
  ConstColor.prototype.k2z = function () {
    return this.j2z_1;
  };
  ConstColor.$metadata$ = classMeta('ConstColor', undefined, undefined, undefined, undefined, ColorSource.prototype);
  function UniformColor() {
  }
  UniformColor.prototype.l2z = function () {
    return this.n2y_1;
  };
  UniformColor.$metadata$ = classMeta('UniformColor', undefined, undefined, undefined, undefined, ColorSource.prototype);
  function VertexColor() {
  }
  VertexColor.prototype.o2z = function () {
    return this.n2z_1;
  };
  VertexColor.$metadata$ = classMeta('VertexColor', undefined, undefined, undefined, undefined, ColorSource.prototype);
  function TextureColor(defaultTexture, textureName, coordAttribute, gamma, mixMode) {
    ColorSource.call(this, mixMode);
    this.c2z_1 = defaultTexture;
    this.d2z_1 = textureName;
    this.e2z_1 = coordAttribute;
    this.f2z_1 = gamma;
  }
  TextureColor.prototype.p2z = function () {
    return this.d2z_1;
  };
  TextureColor.prototype.q2z = function () {
    return this.e2z_1;
  };
  TextureColor.prototype.r2z = function () {
    return this.f2z_1;
  };
  TextureColor.$metadata$ = classMeta('TextureColor', undefined, undefined, undefined, undefined, ColorSource.prototype);
  function InstanceColor() {
  }
  InstanceColor.prototype.o2z = function () {
    return this.t2z_1;
  };
  InstanceColor.$metadata$ = classMeta('InstanceColor', undefined, undefined, undefined, undefined, ColorSource.prototype);
  function MixMode(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  MixMode.$metadata$ = classMeta('MixMode', undefined, undefined, undefined, undefined, Enum.prototype);
  function MixMode_Set_getInstance() {
    MixMode_initEntries();
    return MixMode_Set_instance;
  }
  function ColorBlockConfig(colorName) {
    this.i2y_1 = colorName;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.j2y_1 = tmp$ret$0;
  }
  ColorBlockConfig.prototype.u2z = function () {
    return this.i2y_1;
  };
  ColorBlockConfig.prototype.v2z = function () {
    return this.j2y_1;
  };
  ColorBlockConfig.prototype.w2z = function (constColor, mixMode) {
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.j2y_1;
      var tmp1_plusAssign = new ConstColor(constColor, mixMode);
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
  };
  ColorBlockConfig.prototype.x2z = function (constColor, mixMode, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      mixMode = MixMode_Set_getInstance();
    return this.w2z(constColor, mixMode);
  };
  ColorBlockConfig.prototype.y2z = function (defaultTexture, textureName, coordAttribute, gamma, mixMode) {
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.j2y_1;
      var tmp1_plusAssign = new TextureColor(defaultTexture, textureName, coordAttribute, gamma, mixMode);
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
  };
  ColorBlockConfig.prototype.z2z = function (defaultTexture, textureName, coordAttribute, gamma, mixMode, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      defaultTexture = null;
    if (!(($mask0 & 2) === 0))
      textureName = 't' + this.i2y_1;
    if (!(($mask0 & 4) === 0))
      coordAttribute = Companion_getInstance_28().c2w_1;
    if (!(($mask0 & 8) === 0)) {
      Companion_getInstance_39();
      gamma = 2.2;
    }
    if (!(($mask0 & 16) === 0))
      mixMode = MixMode_Set_getInstance();
    return this.y2z(defaultTexture, textureName, coordAttribute, gamma, mixMode);
  };
  ColorBlockConfig.prototype.k2y = function () {
    var tmp$ret$2;
    {
      var tmp0_find = this.j2y_1;
      var tmp$ret$1;
      $l$block: {
        var tmp0_iterator = tmp0_find.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$0;
          {
            tmp$ret$0 = element instanceof UniformColor;
          }
          if (tmp$ret$0) {
            tmp$ret$1 = element;
            break $l$block;
          }
        }
        tmp$ret$1 = null;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    var tmp = tmp$ret$2;
    return tmp instanceof UniformColor ? tmp : null;
  };
  ColorBlockConfig.prototype.a2z = function () {
    var tmp$ret$2;
    {
      var tmp0_find = this.j2y_1;
      var tmp$ret$1;
      $l$block: {
        var tmp0_iterator = tmp0_find.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$0;
          {
            tmp$ret$0 = element instanceof TextureColor;
          }
          if (tmp$ret$0) {
            tmp$ret$1 = element;
            break $l$block;
          }
        }
        tmp$ret$1 = null;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    var tmp = tmp$ret$2;
    return tmp instanceof TextureColor ? tmp : null;
  };
  ColorBlockConfig.$metadata$ = classMeta('ColorBlockConfig');
  function mixColor(_this__u8e3s4, $this, mixMode, value) {
    var tmp0_subject = mixMode;
    var tmp0 = tmp0_subject.w1();
    switch (tmp0) {
      case 0:
        _this__u8e3s4.t2w($this.e2x_1, value);
        break;
      case 1:
        var tmp1_this = $this;
        _this__u8e3s4.l2w(tmp1_this.e2x_1, value);
        break;
      case 2:
        var tmp2_this = $this;
        _this__u8e3s4.a30(tmp2_this.e2x_1, value);
        break;
      case 3:
        var tmp3_this = $this;
        _this__u8e3s4.b30(tmp3_this.e2x_1, value);
        break;
    }
  }
  function ColorBlockFragmentStage(cfg, vertexColorBlock_0, parentScope) {
    KslBlock.call(this, cfg.i2y_1, parentScope);
    this.e2x_1 = this.r30(parentScope.x2x(this.h30() + '_outColor'));
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.f2x_1 = tmp$ret$0;
    var tmp$ret$17;
    {
      var tmp0_apply = this.s30();
      {
      }
      {
        {
          var tmp_0 = tmp0_apply.x2v_1;
          var tmp0_check = tmp_0 instanceof KslFragmentStage;
          {
          }
          if (!tmp0_check) {
            var tmp$ret$1;
            {
              tmp$ret$1 = 'ColorBlockFragmentStage can only be added to KslFragmentStage';
            }
            var message = tmp$ret$1;
            throw IllegalStateException_init_$Create$(toString(message));
          }
        }
        var tmp$ret$6;
        {
          var tmp2_findBlock = tmp0_apply.x2v_1.k2l_1.o2k_1;
          var tmp$ret$5;
          {
            var tmp$ret$2;
            {
              tmp$ret$2 = ArrayList_init_$Create$_0();
            }
            var tmp1_find = tmp2_findBlock.p2l_1.t30(null, tmp$ret$2);
            var tmp$ret$4;
            $l$block: {
              var tmp0_iterator = tmp1_find.h();
              while (tmp0_iterator.n()) {
                var element = tmp0_iterator.o();
                var tmp$ret$3;
                {
                  tmp$ret$3 = element instanceof TexCoordAttributeBlock;
                }
                if (tmp$ret$3) {
                  tmp$ret$4 = element;
                  break $l$block;
                }
              }
              tmp$ret$4 = null;
            }
            tmp$ret$5 = tmp$ret$4;
          }
          var tmp_1 = tmp$ret$5;
          tmp$ret$6 = tmp_1 instanceof TexCoordAttributeBlock ? tmp_1 : null;
        }
        var tmp0_elvis_lhs = tmp$ret$6;
        var tmp_2;
        if (tmp0_elvis_lhs == null) {
          var tmp$ret$8;
          {
            var tmp3_run = tmp0_apply.x2v_1.k2l_1.o2k_1.s2l();
            {
            }
            var tmp$ret$7;
            {
              tmp$ret$7 = texCoordAttributeBlock(tmp3_run);
            }
            tmp$ret$8 = tmp$ret$7;
          }
          tmp_2 = tmp$ret$8;
        } else {
          tmp_2 = tmp0_elvis_lhs;
        }
        var texCoordBlock = tmp_2;
        var tmp1_elvis_lhs = vertexColorBlock_0;
        var tmp_3;
        if (tmp1_elvis_lhs == null) {
          var tmp$ret$13;
          {
            var tmp5_findBlock = tmp0_apply.x2v_1.k2l_1.o2k_1;
            var tmp6_findBlock = cfg.i2y_1;
            var tmp$ret$12;
            {
              var tmp$ret$9;
              {
                tmp$ret$9 = ArrayList_init_$Create$_0();
              }
              var tmp4_find = tmp5_findBlock.p2l_1.t30(tmp6_findBlock, tmp$ret$9);
              var tmp$ret$11;
              $l$block_0: {
                var tmp0_iterator_0 = tmp4_find.h();
                while (tmp0_iterator_0.n()) {
                  var element_0 = tmp0_iterator_0.o();
                  var tmp$ret$10;
                  {
                    tmp$ret$10 = element_0 instanceof ColorBlockVertexStage;
                  }
                  if (tmp$ret$10) {
                    tmp$ret$11 = element_0;
                    break $l$block_0;
                  }
                }
                tmp$ret$11 = null;
              }
              tmp$ret$12 = tmp$ret$11;
            }
            var tmp_4 = tmp$ret$12;
            tmp$ret$13 = tmp_4 instanceof ColorBlockVertexStage ? tmp_4 : null;
          }
          tmp_3 = tmp$ret$13;
        } else {
          tmp_3 = tmp1_elvis_lhs;
        }
        var tmp2_elvis_lhs = tmp_3;
        var tmp_5;
        if (tmp2_elvis_lhs == null) {
          var tmp$ret$15;
          {
            var tmp7_run = tmp0_apply.x2v_1.k2l_1.o2k_1.s2l();
            {
            }
            var tmp$ret$14;
            {
              tmp$ret$14 = vertexColorBlock(tmp7_run, cfg);
            }
            tmp$ret$15 = tmp$ret$14;
          }
          tmp_5 = tmp$ret$15;
        } else {
          tmp_5 = tmp2_elvis_lhs;
        }
        var vertexBlock = tmp_5;
        if (cfg.j2y_1.q() ? true : !first(cfg.j2y_1).g2z_1.equals(MixMode_Set_getInstance())) {
          tmp0_apply.t2w(this.e2x_1, tmp0_apply.x31(Companion_getInstance_39().w30_1));
        }
        {
          var tmp8_forEach = cfg.j2y_1;
          var tmp0_iterator_1 = tmp8_forEach.h();
          while (tmp0_iterator_1.n()) {
            var element_1 = tmp0_iterator_1.o();
            {
              var tmp0_subject = element_1;
              var tmp_6;
              if (tmp0_subject instanceof ConstColor) {
                tmp_6 = tmp0_apply.x31(element_1.j2z_1);
              } else {
                if (tmp0_subject instanceof UniformColor) {
                  tmp_6 = tmp0_apply.x2v_1.k2l_1.b2y(element_1.n2y_1);
                } else {
                  if (tmp0_subject instanceof VertexColor) {
                    var tmp1_safe_receiver = vertexBlock.w32_1.z2(element_1);
                    var tmp2_elvis_lhs_0 = tmp1_safe_receiver == null ? null : tmp1_safe_receiver.c33();
                    tmp_6 = tmp2_elvis_lhs_0 == null ? tmp0_apply.x31(Companion_getInstance_12().w2i_1) : tmp2_elvis_lhs_0;
                  } else {
                    if (tmp0_subject instanceof InstanceColor) {
                      var tmp3_safe_receiver = vertexBlock.x32_1.z2(element_1);
                      var tmp4_elvis_lhs = tmp3_safe_receiver == null ? null : tmp3_safe_receiver.c33();
                      tmp_6 = tmp4_elvis_lhs == null ? tmp0_apply.x31(Companion_getInstance_12().w2i_1) : tmp4_elvis_lhs;
                    } else {
                      if (tmp0_subject instanceof TextureColor) {
                        var tmp$ret$16;
                        {
                          var tmp0_also = tmp0_apply.x2v_1.k2l_1.d2y(element_1.d2z_1);
                          {
                          }
                          {
                            {
                              var tmp0_set = this.f2x_1;
                              var tmp1_set = element_1;
                              tmp0_set.a(tmp1_set, tmp0_also);
                            }
                          }
                          tmp$ret$16 = tmp0_also;
                        }
                        var tex = tmp$ret$16;
                        var texCoords = texCoordBlock.i32(element_1.e2z_1);
                        var tmp_7 = tmp0_apply.j32(tex, texCoords, null, 4, null);
                        var texColor = tmp0_apply.k32(tmp_7, null, 2, null);
                        if (!(element_1.f2z_1 === 1.0)) {
                          tmp0_apply.t2w(get_rgb(texColor), tmp0_apply.m32(get_rgb(texColor), tmp0_apply.l32(Vec3f_init_$Create$(element_1.f2z_1))));
                        }
                        tmp_6 = texColor;
                      } else {
                        noWhenBranchMatchedException();
                      }
                    }
                  }
                }
              }
              var colorValue = tmp_6;
              mixColor(tmp0_apply, this, element_1.g2z_1, colorValue);
            }
          }
        }
      }
      tmp$ret$17 = tmp0_apply;
    }
  }
  ColorBlockFragmentStage.prototype.d33 = function () {
    return this.e2x_1;
  };
  ColorBlockFragmentStage.prototype.e33 = function () {
    return this.f2x_1;
  };
  ColorBlockFragmentStage.$metadata$ = classMeta('ColorBlockFragmentStage', undefined, undefined, undefined, undefined, KslBlock.prototype);
  function fragmentColorBlock(_this__u8e3s4, cfg, vertexStage) {
    var colorBlock = new ColorBlockFragmentStage(cfg, vertexStage, _this__u8e3s4);
    var tmp0_this = _this__u8e3s4;
    {
      var tmp0_plusAssign = tmp0_this.y33();
      tmp0_plusAssign.b(colorBlock);
    }
    return colorBlock;
  }
  function fragmentColorBlock$default(_this__u8e3s4, cfg, vertexStage, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      vertexStage = null;
    return fragmentColorBlock(_this__u8e3s4, cfg, vertexStage);
  }
  function ColorBlockVertexStage(cfg, parentScope) {
    KslBlock.call(this, cfg.i2y_1, parentScope);
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.w32_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = LinkedHashMap_init_$Create$();
    }
    tmp_0.x32_1 = tmp$ret$1;
    var tmp$ret$13;
    {
      var tmp0_apply = this.s30();
      {
      }
      {
        {
          var tmp_1 = tmp0_apply.x2v_1;
          var tmp0_check = tmp_1 instanceof KslVertexStage;
          {
          }
          if (!tmp0_check) {
            var tmp$ret$2;
            {
              tmp$ret$2 = 'ColorBlockVertexStage can only be added to KslVertexStage';
            }
            var message = tmp$ret$2;
            throw IllegalStateException_init_$Create$(toString(message));
          }
        }
        var tmp$ret$7;
        {
          var tmp$ret$4;
          {
            var tmp1_filterIsInstance = cfg.j2y_1;
            var tmp$ret$3;
            {
              var tmp0_filterIsInstanceTo = ArrayList_init_$Create$_0();
              var tmp0_iterator = tmp1_filterIsInstance.h();
              while (tmp0_iterator.n()) {
                var element = tmp0_iterator.o();
                if (element instanceof VertexColor) {
                  tmp0_filterIsInstanceTo.b(element);
                }
              }
              tmp$ret$3 = tmp0_filterIsInstanceTo;
            }
            tmp$ret$4 = tmp$ret$3;
          }
          var tmp2_mapIndexed = tmp$ret$4;
          var tmp$ret$6;
          {
            var tmp0_mapIndexedTo = ArrayList_init_$Create$(collectionSizeOrDefault(tmp2_mapIndexed, 10));
            var index = 0;
            var tmp0_iterator_0 = tmp2_mapIndexed.h();
            while (tmp0_iterator_0.n()) {
              var item = tmp0_iterator_0.o();
              var tmp1 = index;
              index = tmp1 + 1 | 0;
              var tmp3__anonymous__ufb84q = checkIndexOverflow(tmp1);
              var tmp1_set = this.w32_1;
              var tmp$ret$5;
              {
                var tmp_2 = tmp0_apply.x2x(this.h30() + '_vertexColor_' + tmp3__anonymous__ufb84q);
                var tmp0_apply_0 = tmp0_apply.x2v_1.k2l_1.h2y(tmp_2, null, 2, null);
                {
                }
                {
                  tmp0_apply.t2w(tmp0_apply_0.z33(), tmp0_apply.x2v_1.a34(item.n2z_1.s2p_1));
                }
                tmp$ret$5 = tmp0_apply_0;
              }
              var tmp2_set = tmp$ret$5;
              tmp1_set.a(item, tmp2_set);
              tmp0_mapIndexedTo.b(Unit_getInstance());
            }
            tmp$ret$6 = tmp0_mapIndexedTo;
          }
          tmp$ret$7 = tmp$ret$6;
        }
        var tmp$ret$12;
        {
          var tmp$ret$9;
          {
            var tmp4_filterIsInstance = cfg.j2y_1;
            var tmp$ret$8;
            {
              var tmp0_filterIsInstanceTo_0 = ArrayList_init_$Create$_0();
              var tmp0_iterator_1 = tmp4_filterIsInstance.h();
              while (tmp0_iterator_1.n()) {
                var element_0 = tmp0_iterator_1.o();
                if (element_0 instanceof InstanceColor) {
                  tmp0_filterIsInstanceTo_0.b(element_0);
                }
              }
              tmp$ret$8 = tmp0_filterIsInstanceTo_0;
            }
            tmp$ret$9 = tmp$ret$8;
          }
          var tmp5_mapIndexed = tmp$ret$9;
          var tmp$ret$11;
          {
            var tmp0_mapIndexedTo_0 = ArrayList_init_$Create$(collectionSizeOrDefault(tmp5_mapIndexed, 10));
            var index_0 = 0;
            var tmp0_iterator_2 = tmp5_mapIndexed.h();
            while (tmp0_iterator_2.n()) {
              var item_0 = tmp0_iterator_2.o();
              var tmp1_0 = index_0;
              index_0 = tmp1_0 + 1 | 0;
              var tmp6__anonymous__fv9ai5 = checkIndexOverflow(tmp1_0);
              var tmp1_set_0 = this.x32_1;
              var tmp$ret$10;
              {
                var tmp_3 = tmp0_apply.x2x(this.h30() + '_instanceColor_' + tmp6__anonymous__fv9ai5);
                var tmp0_apply_1 = tmp0_apply.x2v_1.k2l_1.h2y(tmp_3, null, 2, null);
                {
                }
                {
                  tmp0_apply.t2w(tmp0_apply_1.z33(), tmp0_apply.x2v_1.b34(item_0.t2z_1.s2p_1));
                }
                tmp$ret$10 = tmp0_apply_1;
              }
              var tmp2_set_0 = tmp$ret$10;
              tmp1_set_0.a(item_0, tmp2_set_0);
              tmp0_mapIndexedTo_0.b(Unit_getInstance());
            }
            tmp$ret$11 = tmp0_mapIndexedTo_0;
          }
          tmp$ret$12 = tmp$ret$11;
        }
      }
      tmp$ret$13 = tmp0_apply;
    }
  }
  ColorBlockVertexStage.prototype.c34 = function () {
    return this.w32_1;
  };
  ColorBlockVertexStage.prototype.d34 = function () {
    return this.x32_1;
  };
  ColorBlockVertexStage.$metadata$ = classMeta('ColorBlockVertexStage', undefined, undefined, undefined, undefined, KslBlock.prototype);
  function vertexColorBlock(_this__u8e3s4, cfg) {
    var colorBlock = new ColorBlockVertexStage(cfg, _this__u8e3s4);
    var tmp0_this = _this__u8e3s4;
    {
      var tmp0_plusAssign = tmp0_this.y33();
      tmp0_plusAssign.b(colorBlock);
    }
    return colorBlock;
  }
  function convertColorSpace(_this__u8e3s4, inputColor, conversion) {
    var tmp0_subject = conversion;
    var tmp0 = tmp0_subject.w1();
    var tmp;
    switch (tmp0) {
      case 0:
        tmp = inputColor;
        break;
      case 1:
        Companion_getInstance_39();
        tmp = _this__u8e3s4.m32(inputColor, _this__u8e3s4.l32(Vec3f_init_$Create$(2.2)));
        break;
      case 2:
        Companion_getInstance_39();
        tmp = _this__u8e3s4.m32(inputColor, _this__u8e3s4.l32(Vec3f_init_$Create$(0.45454544)));
        break;
      case 3:
        var tmp$ret$2;
        {
          var tmp1_getOrCreateFunction = _this__u8e3s4.x2v_1;
          Companion_getInstance_13();
          var tmp2_getOrCreateFunction = 'toneMapLinearColorUncharted2';
          var tmp$ret$1;
          {
            var tmp0_getOrPut = tmp1_getOrCreateFunction.r2l_1;
            var value = tmp0_getOrPut.z2(tmp2_getOrCreateFunction);
            var tmp_0;
            if (value == null) {
              var tmp$ret$0;
              {
                tmp$ret$0 = new ToneMapLinearColorUncharted2(_this__u8e3s4);
              }
              var answer = tmp$ret$0;
              tmp0_getOrPut.a(tmp2_getOrCreateFunction, answer);
              tmp_0 = answer;
            } else {
              tmp_0 = value;
            }
            tmp$ret$1 = tmp_0;
          }
          var tmp_1 = tmp$ret$1;
          tmp$ret$2 = tmp_1 instanceof ToneMapLinearColorUncharted2 ? tmp_1 : THROW_CCE();
        }

        var func = tmp$ret$2;
        var tmp_2 = _this__u8e3s4.e34(func, [inputColor]);
        Companion_getInstance_39();
        tmp = _this__u8e3s4.m32(tmp_2, _this__u8e3s4.l32(Vec3f_init_$Create$(0.45454544)));
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    return tmp;
  }
  var ColorSpaceConversion_AS_IS_instance;
  var ColorSpaceConversion_sRGB_TO_LINEAR_instance;
  var ColorSpaceConversion_LINEAR_TO_sRGB_instance;
  var ColorSpaceConversion_LINEAR_TO_sRGB_HDR_instance;
  var ColorSpaceConversion_entriesInitialized;
  function ColorSpaceConversion_initEntries() {
    if (ColorSpaceConversion_entriesInitialized)
      return Unit_getInstance();
    ColorSpaceConversion_entriesInitialized = true;
    ColorSpaceConversion_AS_IS_instance = new ColorSpaceConversion('AS_IS', 0);
    ColorSpaceConversion_sRGB_TO_LINEAR_instance = new ColorSpaceConversion('sRGB_TO_LINEAR', 1);
    ColorSpaceConversion_LINEAR_TO_sRGB_instance = new ColorSpaceConversion('LINEAR_TO_sRGB', 2);
    ColorSpaceConversion_LINEAR_TO_sRGB_HDR_instance = new ColorSpaceConversion('LINEAR_TO_sRGB_HDR', 3);
  }
  function ColorSpaceConversion(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  ColorSpaceConversion.$metadata$ = classMeta('ColorSpaceConversion', undefined, undefined, undefined, undefined, Enum.prototype);
  function toneMapFunc($this, x) {
    return (x * (0.15 * x + 0.1 * 0.5) + 0.2 * 0.02) / (x * (0.15 * x + 0.5) + 0.2 * 0.3) - 0.02 / 0.3;
  }
  function Companion_13() {
    Companion_instance_13 = this;
    this.f34_1 = 'toneMapLinearColorUncharted2';
    this.g34_1 = 0.15;
    this.h34_1 = 0.5;
    this.i34_1 = 0.1;
    this.j34_1 = 0.2;
    this.k34_1 = 0.02;
    this.l34_1 = 0.3;
    this.m34_1 = 11.2;
    this.n34_1 = Vec3f_init_$Create$(1.0 / toneMapFunc(this, 11.2));
    this.o34_1 = 2.0;
  }
  Companion_13.$metadata$ = objectMeta('Companion');
  var Companion_instance_13;
  function Companion_getInstance_13() {
    if (Companion_instance_13 == null)
      new Companion_13();
    return Companion_instance_13;
  }
  function ToneMapLinearColorUncharted2$lambda($linearColor) {
    return function ($this$body) {
      Companion_getInstance_13();
      var a = $this$body.p34(0.15);
      Companion_getInstance_13();
      var b = $this$body.p34(0.5);
      Companion_getInstance_13();
      var c = $this$body.p34(0.1);
      Companion_getInstance_13();
      var d = $this$body.p34(0.2);
      Companion_getInstance_13();
      var e = $this$body.p34(0.02);
      Companion_getInstance_13();
      var f = $this$body.p34(0.3);
      Companion_getInstance_13();
      var tmp = times_0($linearColor, $this$body.p34(2.0));
      var x = $this$body.g2x(tmp, null, 2, null);
      var tmp_0 = minus_1(div_1(plus_1(times_1(x, plus_1(times_3(a, x), times_2(c, b))), times_2(d, e)), plus_1(times_1(x, plus_1(times_3(a, x), b)), times_2(d, f))), div(e, f));
      var curr = $this$body.g2x(tmp_0, null, 2, null);
      return times_1(curr, $this$body.l32(Companion_getInstance_13().n34_1));
    };
  }
  function ToneMapLinearColorUncharted2(parentScope) {
    Companion_getInstance_13();
    Companion_getInstance_13();
    KslFunction.call(this, 'toneMapLinearColorUncharted2', KslTypeFloat3_getInstance(), parentScope.x2v_1);
    var linearColor = this.z34('linearColor');
    this.a35(ToneMapLinearColorUncharted2$lambda(linearColor));
  }
  ToneMapLinearColorUncharted2.$metadata$ = classMeta('ToneMapLinearColorUncharted2', undefined, undefined, undefined, undefined, KslFunction.prototype);
  function ColorSpaceConversion_LINEAR_TO_sRGB_getInstance() {
    ColorSpaceConversion_initEntries();
    return ColorSpaceConversion_LINEAR_TO_sRGB_instance;
  }
  function Companion_14() {
    Companion_instance_14 = this;
    this.f35_1 = 'MvpMatrixData';
  }
  Companion_14.$metadata$ = objectMeta('Companion');
  var Companion_instance_14;
  function Companion_getInstance_14() {
    if (Companion_instance_14 == null)
      new Companion_14();
    return Companion_instance_14;
  }
  function MvpMatrixData(program) {
    Companion_getInstance_14();
    MatrixData.call(this, program, 'uMvpMat');
    this.j35_1 = 'MvpMatrixData';
  }
  MvpMatrixData.prototype.g2t = function (cmd) {
    this.k35().l2().n2e(cmd.s35_1);
  };
  MvpMatrixData.$metadata$ = classMeta('MvpMatrixData', undefined, undefined, undefined, undefined, MatrixData.prototype);
  function mvpMatrix(_this__u8e3s4) {
    var tmp$ret$2;
    {
      var tmp0_find = _this__u8e3s4.n2k_1;
      var tmp$ret$1;
      $l$block: {
        var tmp0_iterator = tmp0_find.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$0;
          {
            tmp$ret$0 = element instanceof MvpMatrixData;
          }
          if (tmp$ret$0) {
            tmp$ret$1 = element;
            break $l$block;
          }
        }
        tmp$ret$1 = null;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    var tmp = tmp$ret$2;
    var tmp0_elvis_lhs = tmp instanceof MvpMatrixData ? tmp : null;
    return tmp0_elvis_lhs == null ? new MvpMatrixData(_this__u8e3s4) : tmp0_elvis_lhs;
  }
  function MatrixData(program, uniformName) {
    this.n2v_1 = uniformName;
    this.o2v_1 = program.c2y(this.n2v_1);
    var tmp0_this = program;
    {
      var tmp0_plusAssign = tmp0_this.r2k_1;
      tmp0_plusAssign.b(this);
    }
    var tmp1_this = program;
    {
      var tmp1_plusAssign = tmp1_this.n2k_1;
      tmp1_plusAssign.b(this);
    }
  }
  MatrixData.prototype.i2e = function () {
    return this.o2v_1;
  };
  MatrixData.prototype.k35 = function () {
    var tmp = this.p2v_1;
    if (!(tmp == null))
      return tmp;
    else {
      throwUninitializedPropertyAccessException('uMatrix');
    }
  };
  MatrixData.prototype.z2u = function (shader, pipeline, ctx) {
    var tmp = this;
    var tmp_0 = shader.w2k_1.z2(this.n2v_1);
    tmp.p2v_1 = tmp_0 instanceof UniformMat4f ? tmp_0 : THROW_CCE();
  };
  MatrixData.$metadata$ = classMeta('MatrixData', [KslDataBlock, KslShaderListener]);
  function TexCoordAttributeBlock(name, parentScope) {
    KslBlock.call(this, name, parentScope);
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.h32_1 = tmp$ret$0;
    {
      var tmp_0 = parentScope.x2v_1;
      var tmp0_check = tmp_0 instanceof KslVertexStage;
      {
      }
      if (!tmp0_check) {
        var tmp$ret$1;
        {
          tmp$ret$1 = 'TexCoordAttributeBlock must be added to KslVertexStage';
        }
        var message = tmp$ret$1;
        throw IllegalStateException_init_$Create$(toString(message));
      }
    }
  }
  TexCoordAttributeBlock.prototype.i32 = function (attribute) {
    var tmp$ret$3;
    {
      var tmp0_getOrPut = this.h32_1;
      var tmp1_getOrPut = attribute.s2p_1;
      var value = tmp0_getOrPut.z2(tmp1_getOrPut);
      var tmp;
      if (value == null) {
        var tmp$ret$2;
        {
          var tmp$ret$1;
          {
            var tmp0_run = this.s30();
            {
            }
            var tmp$ret$0;
            {
              var tmp_0 = tmp0_run.x2v_1;
              var vertexStage = tmp_0 instanceof KslVertexStage ? tmp_0 : THROW_CCE();
              var tmp_1 = vertexStage.h2t();
              var uv = tmp_1.f2y(null, null, 3, null);
              tmp0_run.t2w(uv.z33(), vertexStage.u35(attribute.s2p_1));
              tmp$ret$0 = uv;
            }
            tmp$ret$1 = tmp$ret$0;
          }
          tmp$ret$2 = tmp$ret$1;
        }
        var answer = tmp$ret$2;
        tmp0_getOrPut.a(tmp1_getOrPut, answer);
        tmp = answer;
      } else {
        tmp = value;
      }
      tmp$ret$3 = tmp;
    }
    return tmp$ret$3.c33();
  };
  TexCoordAttributeBlock.$metadata$ = classMeta('TexCoordAttributeBlock', undefined, undefined, undefined, undefined, KslBlock.prototype);
  function texCoordAttributeBlock(_this__u8e3s4) {
    var texCoordBlock = new TexCoordAttributeBlock(_this__u8e3s4.x2v_1.k2l_1.x2x('texCoordBlock'), _this__u8e3s4);
    var tmp0_this = _this__u8e3s4;
    {
      var tmp0_plusAssign = tmp0_this.y33();
      tmp0_plusAssign.b(texCoordBlock);
    }
    return texCoordBlock;
  }
  function linePrefix($this, line) {
    var num = '' + line;
    while (num.length < 3) {
      num = ' ' + num;
    }
    return num + '  ';
  }
  function generateVertexSrc($this, vertexStage) {
    var src = StringBuilder_init_$Create$();
    var tmp$ret$1;
    {
      var tmp0_appendLine = trimIndent('\n            ' + $this.v35_1 + '\n            precision highp sampler3D;\n            \n            /* \n             * ' + vertexStage.h2t().g2k_1 + ' - generated vertex shader\n             */ \n        ');
      var tmp$ret$0;
      {
        var tmp0_appendLine_0 = src.ga(tmp0_appendLine);
        tmp$ret$0 = tmp0_appendLine_0.ea(_Char___init__impl__6a9atx(10));
      }
      tmp$ret$1 = tmp$ret$0;
    }
    var tmp$ret$2;
    {
      tmp$ret$2 = src.ea(_Char___init__impl__6a9atx(10));
    }
    $this.x35(src, vertexStage);
    $this.y35(src, vertexStage);
    var tmp$ret$5;
    {
      var tmp1_filter = vertexStage.v2o_1.b3();
      var tmp$ret$4;
      {
        var tmp0_filterTo = ArrayList_init_$Create$_0();
        var tmp0_iterator = tmp1_filter.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$3;
          {
            tmp$ret$3 = element.w2p_1.equals(KslInputRate_Instance_getInstance());
          }
          if (tmp$ret$3) {
            tmp0_filterTo.b(element);
          }
        }
        tmp$ret$4 = tmp0_filterTo;
      }
      tmp$ret$5 = tmp$ret$4;
    }
    $this.z35(src, tmp$ret$5, 'instance attributes');
    var tmp$ret$8;
    {
      var tmp2_filter = vertexStage.v2o_1.b3();
      var tmp$ret$7;
      {
        var tmp0_filterTo_0 = ArrayList_init_$Create$_0();
        var tmp0_iterator_0 = tmp2_filter.h();
        while (tmp0_iterator_0.n()) {
          var element_0 = tmp0_iterator_0.o();
          var tmp$ret$6;
          {
            tmp$ret$6 = element_0.w2p_1.equals(KslInputRate_Vertex_getInstance());
          }
          if (tmp$ret$6) {
            tmp0_filterTo_0.b(element_0);
          }
        }
        tmp$ret$7 = tmp0_filterTo_0;
      }
      tmp$ret$8 = tmp$ret$7;
    }
    $this.z35(src, tmp$ret$8, 'vertex attributes');
    $this.a36(src, vertexStage);
    generateFunctions(src, $this, vertexStage);
    var tmp$ret$10;
    {
      var tmp$ret$9;
      {
        var tmp0_appendLine_1 = src.ga('void main() {');
        tmp$ret$9 = tmp0_appendLine_1.ea(_Char___init__impl__6a9atx(10));
      }
      tmp$ret$10 = tmp$ret$9;
    }
    var tmp$ret$12;
    {
      var tmp3_appendLine = $this.b36(vertexStage.s2l(), $this.w35_1);
      var tmp$ret$11;
      {
        var tmp0_appendLine_2 = src.ga(tmp3_appendLine);
        tmp$ret$11 = tmp0_appendLine_2.ea(_Char___init__impl__6a9atx(10));
      }
      tmp$ret$12 = tmp$ret$11;
    }
    var tmp$ret$14;
    {
      var tmp$ret$13;
      {
        var tmp0_appendLine_3 = src.ga('}');
        tmp$ret$13 = tmp0_appendLine_3.ea(_Char___init__impl__6a9atx(10));
      }
      tmp$ret$14 = tmp$ret$13;
    }
    return src.toString();
  }
  function generateFragmentSrc($this, fragmentStage) {
    var src = StringBuilder_init_$Create$();
    var tmp$ret$1;
    {
      var tmp0_appendLine = trimIndent('\n            ' + $this.v35_1 + '\n            precision highp float;\n            precision highp sampler2DShadow;\n            precision highp sampler3D;\n            \n            /* \n             * ' + fragmentStage.h2t().g2k_1 + ' - generated fragment shader\n             */\n        ');
      var tmp$ret$0;
      {
        var tmp0_appendLine_0 = src.ga(tmp0_appendLine);
        tmp$ret$0 = tmp0_appendLine_0.ea(_Char___init__impl__6a9atx(10));
      }
      tmp$ret$1 = tmp$ret$0;
    }
    var tmp$ret$2;
    {
      tmp$ret$2 = src.ea(_Char___init__impl__6a9atx(10));
    }
    $this.x35(src, fragmentStage);
    $this.y35(src, fragmentStage);
    $this.c36(src, fragmentStage);
    $this.d36(src, fragmentStage.s2x_1);
    generateFunctions(src, $this, fragmentStage);
    var tmp$ret$4;
    {
      var tmp$ret$3;
      {
        var tmp0_appendLine_1 = src.ga('void main() {');
        tmp$ret$3 = tmp0_appendLine_1.ea(_Char___init__impl__6a9atx(10));
      }
      tmp$ret$4 = tmp$ret$3;
    }
    var tmp$ret$6;
    {
      var tmp1_appendLine = $this.b36(fragmentStage.s2l(), $this.w35_1);
      var tmp$ret$5;
      {
        var tmp0_appendLine_2 = src.ga(tmp1_appendLine);
        tmp$ret$5 = tmp0_appendLine_2.ea(_Char___init__impl__6a9atx(10));
      }
      tmp$ret$6 = tmp$ret$5;
    }
    var tmp$ret$8;
    {
      var tmp$ret$7;
      {
        var tmp0_appendLine_3 = src.ga('}');
        tmp$ret$7 = tmp0_appendLine_3.ea(_Char___init__impl__6a9atx(10));
      }
      tmp$ret$8 = tmp$ret$7;
    }
    return src.toString();
  }
  function generateFunctions(_this__u8e3s4, $this, stage) {
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = stage.r2l_1;
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      var funcList = toMutableList(stage.r2l_1.b3());
      $this.e36(funcList);
      {
        var tmp0_iterator = funcList.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          {
            var tmp$ret$2;
            {
              var tmp = $this.f36(element.r34_1);
              var tmp0_appendLine = tmp + ' ' + element.q34_1 + '(' + joinToString$default(element.t34_1, null, null, null, 0, null, GlslGenerator$generateFunctions$lambda($this), 31, null) + ') {';
              var tmp$ret$1;
              {
                var tmp0_appendLine_0 = _this__u8e3s4.ga(tmp0_appendLine);
                tmp$ret$1 = tmp0_appendLine_0.ea(_Char___init__impl__6a9atx(10));
              }
              tmp$ret$2 = tmp$ret$1;
            }
            var tmp$ret$4;
            {
              var tmp1_appendLine = $this.b36(element.y34_1, $this.w35_1);
              var tmp$ret$3;
              {
                var tmp0_appendLine_1 = _this__u8e3s4.ga(tmp1_appendLine);
                tmp$ret$3 = tmp0_appendLine_1.ea(_Char___init__impl__6a9atx(10));
              }
              tmp$ret$4 = tmp$ret$3;
            }
            var tmp$ret$6;
            {
              var tmp$ret$5;
              {
                var tmp0_appendLine_2 = _this__u8e3s4.ga('}');
                tmp$ret$5 = tmp0_appendLine_2.ea(_Char___init__impl__6a9atx(10));
              }
              tmp$ret$6 = tmp$ret$5;
            }
            var tmp$ret$7;
            {
              tmp$ret$7 = _this__u8e3s4.ea(_Char___init__impl__6a9atx(10));
            }
          }
        }
      }
    }
  }
  function generateArgs($this, args, expectedArgs) {
    {
      var tmp0_check = args.m() === expectedArgs;
      {
      }
      {
        {
        }
        if (!tmp0_check) {
          var tmp$ret$0;
          {
            tmp$ret$0 = 'Check failed.';
          }
          var message = tmp$ret$0;
          throw IllegalStateException_init_$Create$(toString(message));
        }
      }
    }
    return joinToString$default(args, null, null, null, 0, null, GlslGenerator$generateArgs$lambda($this), 31, null);
  }
  function GlslGeneratorOutput(vertexSrc, fragmentSrc) {
    this.g36_1 = vertexSrc;
    this.h36_1 = fragmentSrc;
  }
  GlslGeneratorOutput.prototype.i36 = function () {
    println('###  vertex shader:');
    {
      var tmp0_forEachIndexed = lineSequence(this.g36_1);
      var index = 0;
      var tmp0_iterator = tmp0_forEachIndexed.h();
      while (tmp0_iterator.n()) {
        var item = tmp0_iterator.o();
        {
          var tmp1 = index;
          index = tmp1 + 1 | 0;
          var tmp1__anonymous__uwfjfc = checkIndexOverflow(tmp1);
          println(linePrefix(this, tmp1__anonymous__uwfjfc) + item);
        }
      }
    }
    println('###  fragment shader:');
    {
      var tmp2_forEachIndexed = lineSequence(this.h36_1);
      var index_0 = 0;
      var tmp0_iterator_0 = tmp2_forEachIndexed.h();
      while (tmp0_iterator_0.n()) {
        var item_0 = tmp0_iterator_0.o();
        {
          var tmp1_0 = index_0;
          index_0 = tmp1_0 + 1 | 0;
          var tmp3__anonymous__ufb84q = checkIndexOverflow(tmp1_0);
          println(linePrefix(this, tmp3__anonymous__ufb84q) + item_0);
        }
      }
    }
  };
  GlslGeneratorOutput.$metadata$ = classMeta('GlslGeneratorOutput', [GeneratorOutput]);
  function GlslGenerator$constFloatVecExpression$lambda(this$0) {
    return function (it) {
      return it.j36(this$0);
    };
  }
  function GlslGenerator$constIntVecExpression$lambda(this$0) {
    return function (it) {
      return it.j36(this$0);
    };
  }
  function GlslGenerator$generateFunctions$lambda(this$0) {
    return function (p) {
      return this$0.f36(p.d2m()) + ' ' + p.r36();
    };
  }
  function GlslGenerator$opDeclareArray$lambda(this$0) {
    return function (it) {
      return it.j36(this$0);
    };
  }
  function GlslGenerator$generateArgs$lambda(this$0) {
    return function (it) {
      return it.j36(this$0);
    };
  }
  function GlslGenerator() {
    KslGenerator.call(this);
    this.v35_1 = '#version 300 es';
    this.w35_1 = '  ';
  }
  GlslGenerator.prototype.s36 = function () {
    return this.w35_1;
  };
  GlslGenerator.prototype.t36 = function (program) {
    return new GlslGeneratorOutput(generateVertexSrc(this, program.o2k_1), generateFragmentSrc(this, program.p2k_1));
  };
  GlslGenerator.prototype.u36 = function (values) {
    var containsArg = values.length;
    if (!(2 <= containsArg ? containsArg <= 4 : false)) {
      throw IllegalArgumentException_init_$Create$('invalid number of values: ' + values.length + ' (must be between 2 and 4)');
    }
    var tmp = values.length;
    return 'vec' + tmp + '(' + joinToString$default_0(values, null, null, null, 0, null, GlslGenerator$constFloatVecExpression$lambda(this), 31, null) + ')';
  };
  GlslGenerator.prototype.v36 = function (values) {
    var containsArg = values.length;
    if (!(2 <= containsArg ? containsArg <= 4 : false)) {
      throw IllegalArgumentException_init_$Create$('invalid number of values: ' + values.length + ' (must be between 2 and 4)');
    }
    var tmp = values.length;
    return 'ivec' + tmp + '(' + joinToString$default_0(values, null, null, null, 0, null, GlslGenerator$constIntVecExpression$lambda(this), 31, null) + ')';
  };
  GlslGenerator.prototype.w36 = function (castExpr) {
    return this.f36(castExpr.d2m()) + '(' + castExpr.x36_1.j36(this) + ')';
  };
  GlslGenerator.prototype.z36 = function (expression) {
    var lt = expression.a37_1.j36(this);
    var rt = expression.b37_1.j36(this);
    var tmp;
    var tmp_0 = expression.a37_1.d2m();
    if (isInterface(tmp_0, KslVector)) {
      var tmp0_subject = expression.c37_1;
      var tmp0 = tmp0_subject.w1();
      var tmp_1;
      switch (tmp0) {
        case 0:
          tmp_1 = 'equal(' + lt + ', ' + rt + ')';
          break;
        case 1:
          tmp_1 = 'notEqual(' + lt + ', ' + rt + ')';
          break;
        case 2:
          tmp_1 = 'lessThan(' + lt + ', ' + rt + ')';
          break;
        case 3:
          tmp_1 = 'lessThanEqual(' + lt + ', ' + rt + ')';
          break;
        case 4:
          tmp_1 = 'greaterThan(' + lt + ', ' + rt + ')';
          break;
        case 5:
          tmp_1 = 'greaterThanEqual(' + lt + ', ' + rt + ')';
          break;
        default:
          noWhenBranchMatchedException();
          break;
      }
      tmp = tmp_1;
    } else {
      tmp = '(' + lt + ' ' + expression.c37_1.g37_1 + ' ' + rt + ')';
    }
    return tmp;
  };
  GlslGenerator.prototype.h37 = function (sampleTexture) {
    var sampler = sampleTexture.i37_1.j36(this);
    var tmp;
    var tmp_0;
    var tmp_1 = sampleTexture.i37_1.d2m();
    if (isInterface(tmp_1, KslTypeSampler1d)) {
      var tmp_2 = sampleTexture.j37_1.d2m();
      tmp_0 = tmp_2 instanceof KslTypeFloat1;
    } else {
      tmp_0 = false;
    }
    if (tmp_0) {
      tmp = 'vec2(' + sampleTexture.j37_1.j36(this) + ', 0.5)';
    } else {
      tmp = sampleTexture.j37_1.j36(this);
    }
    var coord = tmp;
    var tmp_3;
    if (!(sampleTexture.k37_1 == null)) {
      tmp_3 = 'textureLod(' + sampler + ', ' + coord + ', ' + sampleTexture.k37_1.j36(this) + ')';
    } else {
      tmp_3 = 'texture(' + sampler + ', ' + coord + ')';
    }
    return tmp_3;
  };
  GlslGenerator.prototype.m37 = function (textureSize) {
    return 'textureSize(' + textureSize.n37_1.j36(this) + ', ' + textureSize.o37_1.j36(this) + ')';
  };
  GlslGenerator.prototype.q37 = function (expression) {
    var sampler = expression.r37_1.j36(this);
    var coords = expression.s37_1.j36(this);
    var tmp0_safe_receiver = expression.t37_1;
    var lod = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.j36(this);
    var tmp1_elvis_lhs = lod;
    return 'texelFetch(' + sampler + ', ' + coords + ', ' + toString(tmp1_elvis_lhs == null ? 0 : tmp1_elvis_lhs) + ')';
  };
  GlslGenerator.prototype.y35 = function (_this__u8e3s4, stage) {
    var samplers = stage.v37();
    var tmp$ret$0;
    {
      tmp$ret$0 = !samplers.q();
    }
    if (tmp$ret$0) {
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          var tmp0_appendLine = _this__u8e3s4.ga('// texture samplers');
          tmp$ret$1 = tmp0_appendLine.ea(_Char___init__impl__6a9atx(10));
        }
        tmp$ret$2 = tmp$ret$1;
      }
      var tmp0_iterator = samplers.h();
      while (tmp0_iterator.n()) {
        var u = tmp0_iterator.o();
        var tmp;
        var tmp_0 = u.l2();
        if (tmp_0 instanceof KslArray) {
          tmp = '[' + u.b2m_1 + ']';
        } else {
          tmp = '';
        }
        var arraySuffix = tmp;
        var tmp$ret$4;
        {
          var tmp0_appendLine_0 = 'uniform ' + this.f36(u.d2m()) + ' ' + this.w37(u.l2()) + arraySuffix + ';';
          var tmp$ret$3;
          {
            var tmp0_appendLine_1 = _this__u8e3s4.ga(tmp0_appendLine_0);
            tmp$ret$3 = tmp0_appendLine_1.ea(_Char___init__impl__6a9atx(10));
          }
          tmp$ret$4 = tmp$ret$3;
        }
      }
      var tmp$ret$5;
      {
        tmp$ret$5 = _this__u8e3s4.ea(_Char___init__impl__6a9atx(10));
      }
    }
  };
  GlslGenerator.prototype.x35 = function (_this__u8e3s4, stage) {
    var ubos = stage.x37();
    var tmp$ret$0;
    {
      tmp$ret$0 = !ubos.q();
    }
    if (tmp$ret$0) {
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          var tmp0_appendLine = _this__u8e3s4.ga('// uniform buffer objects');
          tmp$ret$1 = tmp0_appendLine.ea(_Char___init__impl__6a9atx(10));
        }
        tmp$ret$2 = tmp$ret$1;
      }
      var tmp0_iterator = ubos.h();
      while (tmp0_iterator.n()) {
        var ubo = tmp0_iterator.o();
        var tmp;
        if (ubo.e2l_1) {
          tmp = 'layout(std140) ';
        } else {
          tmp = '';
        }
        var layoutPrefix = tmp;
        var tmp$ret$4;
        {
          var tmp0_appendLine_0 = layoutPrefix + 'uniform ' + ubo.c2l_1 + ' {';
          var tmp$ret$3;
          {
            var tmp0_appendLine_1 = _this__u8e3s4.ga(tmp0_appendLine_0);
            tmp$ret$3 = tmp0_appendLine_1.ea(_Char___init__impl__6a9atx(10));
          }
          tmp$ret$4 = tmp$ret$3;
        }
        var tmp1_iterator = ubo.f2l_1.b3().h();
        while (tmp1_iterator.n()) {
          var u = tmp1_iterator.o();
          var tmp_0;
          var tmp_1 = u.l2();
          if (tmp_1 instanceof KslArray) {
            tmp_0 = '[' + u.b2m_1 + ']';
          } else {
            tmp_0 = '';
          }
          var arraySuffix = tmp_0;
          var tmp$ret$6;
          {
            var tmp1_appendLine = '    highp ' + this.f36(u.d2m()) + ' ' + this.w37(u.l2()) + arraySuffix + ';';
            var tmp$ret$5;
            {
              var tmp0_appendLine_2 = _this__u8e3s4.ga(tmp1_appendLine);
              tmp$ret$5 = tmp0_appendLine_2.ea(_Char___init__impl__6a9atx(10));
            }
            tmp$ret$6 = tmp$ret$5;
          }
        }
        var tmp$ret$8;
        {
          var tmp$ret$7;
          {
            var tmp0_appendLine_3 = _this__u8e3s4.ga('};');
            tmp$ret$7 = tmp0_appendLine_3.ea(_Char___init__impl__6a9atx(10));
          }
          tmp$ret$8 = tmp$ret$7;
        }
      }
      var tmp$ret$9;
      {
        tmp$ret$9 = _this__u8e3s4.ea(_Char___init__impl__6a9atx(10));
      }
    }
  };
  GlslGenerator.prototype.z35 = function (_this__u8e3s4, attribs, info) {
    var tmp$ret$0;
    {
      tmp$ret$0 = !attribs.q();
    }
    if (tmp$ret$0) {
      var tmp$ret$2;
      {
        var tmp0_appendLine = '// ' + info;
        var tmp$ret$1;
        {
          var tmp0_appendLine_0 = _this__u8e3s4.ga(tmp0_appendLine);
          tmp$ret$1 = tmp0_appendLine_0.ea(_Char___init__impl__6a9atx(10));
        }
        tmp$ret$2 = tmp$ret$1;
      }
      {
        var tmp0_iterator = attribs.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          {
            var tmp$ret$4;
            {
              var tmp0_appendLine_1 = 'layout(location=' + element.x2p_1 + ') in ' + this.f36(element.d2m()) + ' ' + this.w37(element.v2p_1) + ';';
              var tmp$ret$3;
              {
                var tmp0_appendLine_2 = _this__u8e3s4.ga(tmp0_appendLine_1);
                tmp$ret$3 = tmp0_appendLine_2.ea(_Char___init__impl__6a9atx(10));
              }
              tmp$ret$4 = tmp$ret$3;
            }
          }
        }
      }
      var tmp$ret$5;
      {
        tmp$ret$5 = _this__u8e3s4.ea(_Char___init__impl__6a9atx(10));
      }
    }
  };
  GlslGenerator.prototype.a36 = function (_this__u8e3s4, vertexStage) {
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = vertexStage.y37();
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          var tmp0_appendLine = _this__u8e3s4.ga('// custom vertex stage outputs');
          tmp$ret$1 = tmp0_appendLine.ea(_Char___init__impl__6a9atx(10));
        }
        tmp$ret$2 = tmp$ret$1;
      }
      {
        var tmp1_forEach = vertexStage.y37();
        var tmp0_iterator = tmp1_forEach.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          {
            var value = element.z33();
            var tmp;
            if (value instanceof KslArray) {
              tmp = '[' + value.g38_1 + ']';
            } else {
              tmp = '';
            }
            var arraySuffix = tmp;
            var tmp$ret$4;
            {
              var tmp0_appendLine_0 = this.i38(element.c38_1) + ' out ' + this.f36(value.d2m()) + ' ' + this.w37(value) + arraySuffix + ';';
              var tmp$ret$3;
              {
                var tmp0_appendLine_1 = _this__u8e3s4.ga(tmp0_appendLine_0);
                tmp$ret$3 = tmp0_appendLine_1.ea(_Char___init__impl__6a9atx(10));
              }
              tmp$ret$4 = tmp$ret$3;
            }
          }
        }
      }
      var tmp$ret$5;
      {
        tmp$ret$5 = _this__u8e3s4.ea(_Char___init__impl__6a9atx(10));
      }
    }
  };
  GlslGenerator.prototype.c36 = function (_this__u8e3s4, fragmentStage) {
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = fragmentStage.y37();
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          var tmp0_appendLine = _this__u8e3s4.ga('// custom fragment stage inputs');
          tmp$ret$1 = tmp0_appendLine.ea(_Char___init__impl__6a9atx(10));
        }
        tmp$ret$2 = tmp$ret$1;
      }
      {
        var tmp1_forEach = fragmentStage.y37();
        var tmp0_iterator = tmp1_forEach.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          {
            var value = element.c33();
            var tmp;
            if (value instanceof KslArray) {
              tmp = '[' + value.g38_1 + ']';
            } else {
              tmp = '';
            }
            var arraySuffix = tmp;
            var tmp$ret$4;
            {
              var tmp0_appendLine_0 = this.i38(element.c38_1) + ' in ' + this.f36(value.d2m()) + ' ' + this.w37(value) + arraySuffix + ';';
              var tmp$ret$3;
              {
                var tmp0_appendLine_1 = _this__u8e3s4.ga(tmp0_appendLine_0);
                tmp$ret$3 = tmp0_appendLine_1.ea(_Char___init__impl__6a9atx(10));
              }
              tmp$ret$4 = tmp$ret$3;
            }
          }
        }
      }
      var tmp$ret$5;
      {
        tmp$ret$5 = _this__u8e3s4.ea(_Char___init__impl__6a9atx(10));
      }
    }
  };
  GlslGenerator.prototype.d36 = function (_this__u8e3s4, outputs) {
    var tmp$ret$0;
    {
      tmp$ret$0 = !outputs.q();
    }
    if (tmp$ret$0) {
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          var tmp0_appendLine = _this__u8e3s4.ga('// stage outputs');
          tmp$ret$1 = tmp0_appendLine.ea(_Char___init__impl__6a9atx(10));
        }
        tmp$ret$2 = tmp$ret$1;
      }
      {
        var tmp0_iterator = outputs.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          {
            var loc = element.k38_1 >= 0 ? 'layout(location=' + element.k38_1 + ') ' : '';
            var tmp$ret$4;
            {
              var tmp0_appendLine_0 = loc + 'out ' + this.f36(element.d2m()) + ' ' + this.w37(element.l2()) + ';';
              var tmp$ret$3;
              {
                var tmp0_appendLine_1 = _this__u8e3s4.ga(tmp0_appendLine_0);
                tmp$ret$3 = tmp0_appendLine_1.ea(_Char___init__impl__6a9atx(10));
              }
              tmp$ret$4 = tmp$ret$3;
            }
          }
        }
      }
      var tmp$ret$5;
      {
        tmp$ret$5 = _this__u8e3s4.ea(_Char___init__impl__6a9atx(10));
      }
    }
  };
  GlslGenerator.prototype.l38 = function (op) {
    var tmp0_safe_receiver = op.t38_1;
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        var tmp$ret$0;
        {
          tmp$ret$0 = ' = ' + tmp0_safe_receiver.j36(this);
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp = tmp$ret$1;
    }
    var tmp1_elvis_lhs = tmp;
    var initExpr = tmp1_elvis_lhs == null ? '' : tmp1_elvis_lhs;
    var state = op.s38_1;
    return this.f36(state.d2m()) + ' ' + this.w37(state) + initExpr + ';';
  };
  GlslGenerator.prototype.u38 = function (op) {
    var initExpr = joinToString$default(op.c39_1, null, null, null, 0, null, GlslGenerator$opDeclareArray$lambda(this), 31, null);
    var array = op.b39_1;
    var typeName = this.f36(array.d2m().g2m_1);
    return typeName + ' ' + this.w37(array) + '[' + array.g38_1 + '] = ' + typeName + '[](' + initExpr + ');';
  };
  GlslGenerator.prototype.d39 = function (op) {
    return op.k39_1.m39(this) + ' = ' + op.l39_1.j36(this) + ';';
  };
  GlslGenerator.prototype.n39 = function (op) {
    return op.u39_1.m39(this) + ' ' + new Char(op.v39_1.z39_1) + '= ' + op.w39_1.j36(this) + ';';
  };
  GlslGenerator.prototype.a3a = function (op) {
    var txt = new StringBuilder('if (' + op.h3a_1.j36(this) + ') {\n');
    var tmp$ret$1;
    {
      var tmp0_appendLine = this.b36(op.i3a_1, this.w35_1);
      var tmp$ret$0;
      {
        var tmp0_appendLine_0 = txt.ga(tmp0_appendLine);
        tmp$ret$0 = tmp0_appendLine_0.ea(_Char___init__impl__6a9atx(10));
      }
      tmp$ret$1 = tmp$ret$0;
    }
    txt.ga('}');
    {
      var tmp1_forEach = op.j3a_1;
      var tmp0_iterator = tmp1_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var tmp$ret$3;
          {
            var tmp0_appendLine_1 = ' else if (' + element.x3_1.j36(this) + ') {';
            var tmp$ret$2;
            {
              var tmp0_appendLine_2 = txt.ga(tmp0_appendLine_1);
              tmp$ret$2 = tmp0_appendLine_2.ea(_Char___init__impl__6a9atx(10));
            }
            tmp$ret$3 = tmp$ret$2;
          }
          var tmp$ret$5;
          {
            var tmp1_appendLine = this.b36(element.y3_1, this.w35_1);
            var tmp$ret$4;
            {
              var tmp0_appendLine_3 = txt.ga(tmp1_appendLine);
              tmp$ret$4 = tmp0_appendLine_3.ea(_Char___init__impl__6a9atx(10));
            }
            tmp$ret$5 = tmp$ret$4;
          }
          txt.ga('}');
        }
      }
    }
    if (op.k3a_1.m3a()) {
      var tmp$ret$7;
      {
        var tmp$ret$6;
        {
          var tmp0_appendLine_4 = txt.ga(' else {');
          tmp$ret$6 = tmp0_appendLine_4.ea(_Char___init__impl__6a9atx(10));
        }
        tmp$ret$7 = tmp$ret$6;
      }
      var tmp$ret$9;
      {
        var tmp2_appendLine = this.b36(op.k3a_1, this.w35_1);
        var tmp$ret$8;
        {
          var tmp0_appendLine_5 = txt.ga(tmp2_appendLine);
          tmp$ret$8 = tmp0_appendLine_5.ea(_Char___init__impl__6a9atx(10));
        }
        tmp$ret$9 = tmp$ret$8;
      }
      txt.ga('}');
    }
    return txt.toString();
  };
  GlslGenerator.prototype.n3a = function (op) {
    var tmp$ret$3;
    {
      var tmp$ret$1;
      {
        var tmp0_appendLine = (new StringBuilder('for (; ')).ga(op.v3a_1.j36(this)).ga('; ').ga(op.u3a_1.m39(this)).ga(' += ').ga(op.w3a_1.j36(this));
        var tmp$ret$0;
        {
          var tmp0_appendLine_0 = tmp0_appendLine.ga(') {');
          tmp$ret$0 = tmp0_appendLine_0.ea(_Char___init__impl__6a9atx(10));
        }
        tmp$ret$1 = tmp$ret$0;
      }
      var tmp1_appendLine = tmp$ret$1;
      var tmp2_appendLine = this.b36(op.x3a_1, this.w35_1);
      var tmp$ret$2;
      {
        var tmp0_appendLine_1 = tmp1_appendLine.ga(tmp2_appendLine);
        tmp$ret$2 = tmp0_appendLine_1.ea(_Char___init__impl__6a9atx(10));
      }
      tmp$ret$3 = tmp$ret$2;
    }
    return tmp$ret$3.ga('}').toString();
  };
  GlslGenerator.prototype.y3a = function (op) {
    var tmp$ret$1;
    {
      var tmp0_appendLine = new StringBuilder('while (' + op.f3b_1.j36(this) + ') {\n');
      var tmp1_appendLine = this.b36(op.g3b_1, this.w35_1);
      var tmp$ret$0;
      {
        var tmp0_appendLine_0 = tmp0_appendLine.ga(tmp1_appendLine);
        tmp$ret$0 = tmp0_appendLine_0.ea(_Char___init__impl__6a9atx(10));
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1.ga('}').toString();
  };
  GlslGenerator.prototype.h3b = function (op) {
    var tmp$ret$1;
    {
      var tmp0_appendLine = new StringBuilder('do {\n');
      var tmp1_appendLine = this.b36(op.p3b_1, this.w35_1);
      var tmp$ret$0;
      {
        var tmp0_appendLine_0 = tmp0_appendLine.ga(tmp1_appendLine);
        tmp$ret$0 = tmp0_appendLine_0.ea(_Char___init__impl__6a9atx(10));
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1.ga('} while (' + op.o3b_1.j36(this) + ');').toString();
  };
  GlslGenerator.prototype.q3b = function (op) {
    return 'break;';
  };
  GlslGenerator.prototype.r3b = function (op) {
    return 'continue;';
  };
  GlslGenerator.prototype.s3b = function (op) {
    return 'discard;';
  };
  GlslGenerator.prototype.t3b = function (op) {
    return 'return ' + op.a3c_1.j36(this) + ';';
  };
  GlslGenerator.prototype.b3c = function (op) {
    var txt = new StringBuilder('{ // block: ' + op.h30() + '\n');
    var tmp$ret$1;
    {
      var tmp0_appendLine = this.b36(op.q30_1, this.w35_1);
      var tmp$ret$0;
      {
        var tmp0_appendLine_0 = txt.ga(tmp0_appendLine);
        tmp$ret$0 = tmp0_appendLine_0.ea(_Char___init__impl__6a9atx(10));
      }
      tmp$ret$1 = tmp$ret$0;
    }
    txt.ga('}');
    return txt.toString();
  };
  GlslGenerator.prototype.c3c = function (func) {
    return func.d3c_1.q34_1 + '(' + generateArgs(this, func.e3c_1, func.e3c_1.m()) + ')';
  };
  GlslGenerator.prototype.g3c = function (func) {
    return 'abs(' + generateArgs(this, func.j3c(), 1) + ')';
  };
  GlslGenerator.prototype.k3c = function (func) {
    return 'clamp(' + generateArgs(this, func.j3c(), 3) + ')';
  };
  GlslGenerator.prototype.l3c = function (func) {
    return 'cross(' + generateArgs(this, func.j3c(), 2) + ')';
  };
  GlslGenerator.prototype.m3c = function (func) {
    return 'dot(' + generateArgs(this, func.j3c(), 2) + ')';
  };
  GlslGenerator.prototype.n3c = function (func) {
    return 'floor(' + generateArgs(this, func.j3c(), 1) + ')';
  };
  GlslGenerator.prototype.o3c = function (func) {
    return 'floor(' + generateArgs(this, func.j3c(), 1) + ')';
  };
  GlslGenerator.prototype.p3c = function (func) {
    return 'length(' + generateArgs(this, func.j3c(), 1) + ')';
  };
  GlslGenerator.prototype.q3c = function (func) {
    return 'max(' + generateArgs(this, func.j3c(), 2) + ')';
  };
  GlslGenerator.prototype.r3c = function (func) {
    return 'normalize(' + generateArgs(this, func.j3c(), 1) + ')';
  };
  GlslGenerator.prototype.s3c = function (func) {
    return 'pow(' + generateArgs(this, func.j3c(), 2) + ')';
  };
  GlslGenerator.prototype.t3c = function (func) {
    return 'pow(' + generateArgs(this, func.j3c(), 2) + ')';
  };
  GlslGenerator.prototype.u3c = function (func) {
    return 'sqrt(' + generateArgs(this, func.j3c(), 1) + ')';
  };
  GlslGenerator.prototype.v3c = function (func) {
    return func.y3c_1 + '(' + generateArgs(this, func.j3c(), 1) + ')';
  };
  GlslGenerator.prototype.z3c = function (func) {
    return 'trunc(' + generateArgs(this, func.j3c(), 1) + ')';
  };
  GlslGenerator.prototype.i38 = function (_this__u8e3s4) {
    var tmp0_subject = _this__u8e3s4;
    var tmp0 = tmp0_subject.w1();
    var tmp;
    switch (tmp0) {
      case 0:
        tmp = 'smooth';
        break;
      case 1:
        tmp = 'flat';
        break;
      case 2:
        tmp = 'noperspective';
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    return tmp;
  };
  GlslGenerator.prototype.w37 = function (_this__u8e3s4) {
    var tmp0_subject = _this__u8e3s4.p36_1;
    var tmp;
    Companion_getInstance_15();
    if (tmp0_subject === 'inVertexIndex') {
      tmp = 'gl_VertexID';
    } else {
      Companion_getInstance_15();
      if (tmp0_subject === 'inInstanceIndex') {
        tmp = 'gl_InstanceID';
      } else {
        Companion_getInstance_15();
        if (tmp0_subject === 'outPosition') {
          tmp = 'gl_Position';
        } else {
          Companion_getInstance_15();
          if (tmp0_subject === 'outPointSize') {
            tmp = 'gl_PointSize';
          } else {
            Companion_getInstance_16();
            if (tmp0_subject === 'inFragPosition') {
              tmp = 'gl_FragCoord';
            } else {
              Companion_getInstance_16();
              if (tmp0_subject === 'inIsFrontFacing') {
                tmp = 'gl_FrontFacing';
              } else {
                Companion_getInstance_16();
                if (tmp0_subject === 'outDepth') {
                  tmp = 'gl_FragDepth';
                } else {
                  tmp = _this__u8e3s4.p36_1;
                }
              }
            }
          }
        }
      }
    }
    return tmp;
  };
  GlslGenerator.prototype.f36 = function (type) {
    var tmp0_subject = type;
    var tmp;
    if (equals(tmp0_subject, KslTypeVoid_getInstance())) {
      tmp = 'void';
    } else {
      if (equals(tmp0_subject, KslTypeBool1_getInstance())) {
        tmp = 'bool';
      } else {
        if (equals(tmp0_subject, KslTypeBool2_getInstance())) {
          tmp = 'bvec2';
        } else {
          if (equals(tmp0_subject, KslTypeBool3_getInstance())) {
            tmp = 'bvec3';
          } else {
            if (equals(tmp0_subject, KslTypeBool4_getInstance())) {
              tmp = 'bvec4';
            } else {
              if (equals(tmp0_subject, KslTypeFloat1_getInstance())) {
                tmp = 'float';
              } else {
                if (equals(tmp0_subject, KslTypeFloat2_getInstance())) {
                  tmp = 'vec2';
                } else {
                  if (equals(tmp0_subject, KslTypeFloat3_getInstance())) {
                    tmp = 'vec3';
                  } else {
                    if (equals(tmp0_subject, KslTypeFloat4_getInstance())) {
                      tmp = 'vec4';
                    } else {
                      if (equals(tmp0_subject, KslTypeInt1_getInstance())) {
                        tmp = 'int';
                      } else {
                        if (equals(tmp0_subject, KslTypeInt2_getInstance())) {
                          tmp = 'ivec2';
                        } else {
                          if (equals(tmp0_subject, KslTypeInt3_getInstance())) {
                            tmp = 'ivec3';
                          } else {
                            if (equals(tmp0_subject, KslTypeInt4_getInstance())) {
                              tmp = 'ivec4';
                            } else {
                              if (equals(tmp0_subject, KslTypeUint1_getInstance())) {
                                tmp = 'uint';
                              } else {
                                if (equals(tmp0_subject, KslTypeUint2_getInstance())) {
                                  tmp = 'uvec2';
                                } else {
                                  if (equals(tmp0_subject, KslTypeUint3_getInstance())) {
                                    tmp = 'uvec3';
                                  } else {
                                    if (equals(tmp0_subject, KslTypeUint4_getInstance())) {
                                      tmp = 'uvec4';
                                    } else {
                                      if (equals(tmp0_subject, KslTypeMat2_getInstance())) {
                                        tmp = 'mat2';
                                      } else {
                                        if (equals(tmp0_subject, KslTypeMat3_getInstance())) {
                                          tmp = 'mat3';
                                        } else {
                                          if (equals(tmp0_subject, KslTypeMat4_getInstance())) {
                                            tmp = 'mat4';
                                          } else {
                                            if (equals(tmp0_subject, KslTypeColorSampler1d_getInstance())) {
                                              tmp = 'sampler2D';
                                            } else {
                                              if (equals(tmp0_subject, KslTypeColorSampler2d_getInstance())) {
                                                tmp = 'sampler2D';
                                              } else {
                                                if (equals(tmp0_subject, KslTypeColorSampler3d_getInstance())) {
                                                  tmp = 'sampler3D';
                                                } else {
                                                  if (equals(tmp0_subject, KslTypeColorSamplerCube_getInstance())) {
                                                    tmp = 'samplerCube';
                                                  } else {
                                                    if (equals(tmp0_subject, KslTypeColorSampler2dArray_getInstance())) {
                                                      tmp = 'sampler2DArray';
                                                    } else {
                                                      if (equals(tmp0_subject, KslTypeColorSamplerCubeArray_getInstance())) {
                                                        tmp = 'samplerCubeArray';
                                                      } else {
                                                        if (equals(tmp0_subject, KslTypeDepthSampler2d_getInstance())) {
                                                          tmp = 'sampler2DShadow';
                                                        } else {
                                                          if (equals(tmp0_subject, KslTypeDepthSamplerCube_getInstance())) {
                                                            tmp = 'samplerCubeShadow';
                                                          } else {
                                                            if (equals(tmp0_subject, KslTypeDepthSampler2dArray_getInstance())) {
                                                              tmp = 'sampler2DArrayShadow';
                                                            } else {
                                                              if (equals(tmp0_subject, KslTypeDepthSamplerCubeArray_getInstance())) {
                                                                tmp = 'samplerCubeArrayShadow';
                                                              } else {
                                                                if (tmp0_subject instanceof KslTypeArray) {
                                                                  tmp = this.f36(type.g2m_1);
                                                                } else {
                                                                  noWhenBranchMatchedException();
                                                                }
                                                              }
                                                            }
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    return tmp;
  };
  GlslGenerator.$metadata$ = classMeta('GlslGenerator', undefined, undefined, undefined, undefined, KslGenerator.prototype);
  function GeneratorOutput() {
  }
  GeneratorOutput.$metadata$ = interfaceMeta('GeneratorOutput');
  function KslGenerator$generateScope$lambda(this$0, $indent) {
    return function (it) {
      return prependIndent(this$0.n3d(it), $indent);
    };
  }
  function KslGenerator() {
  }
  KslGenerator.prototype.a3d = function (value) {
    return '' + value;
  };
  KslGenerator.prototype.b3d = function (value) {
    return '' + new UInt(value) + 'u';
  };
  KslGenerator.prototype.c3d = function (value) {
    var str = '' + value;
    var tmp = str;
    var tmp_0 = _Char___init__impl__6a9atx(46);
    if (!contains$default(tmp, tmp_0, false, 2, null)) {
      str = str + '.0';
    }
    return str;
  };
  KslGenerator.prototype.d3d = function (value) {
    return this.w37(value);
  };
  KslGenerator.prototype.e3d = function (arrayAccessor) {
    return arrayAccessor.o3d_1.j36(this) + '[' + arrayAccessor.p3d_1.j36(this) + ']';
  };
  KslGenerator.prototype.f3d = function (swizzleExpr) {
    return swizzleExpr.s3d_1.j36(this) + '.' + swizzleExpr.t3d_1;
  };
  KslGenerator.prototype.g3d = function (expression) {
    return '(' + expression.x3d_1.j36(this) + ' ' + new Char(expression.z3d_1.z39_1) + ' ' + expression.y3d_1.j36(this) + ')';
  };
  KslGenerator.prototype.h3d = function (expression) {
    return '(' + expression.b3e_1.j36(this) + ' ' + expression.d3e_1.h3e_1 + ' ' + expression.c3e_1.j36(this) + ')';
  };
  KslGenerator.prototype.z36 = function (expression) {
    return '(' + expression.a37_1.j36(this) + ' ' + expression.c37_1.g37_1 + ' ' + expression.b37_1.j36(this) + ')';
  };
  KslGenerator.prototype.i3d = function (expression) {
    return expression.m3e_1.k3e_1 + '(' + expression.l3e_1.j36(this) + ')';
  };
  KslGenerator.prototype.j3d = function (expression) {
    return '(' + expression.o3e_1.j36(this) + ' ' + expression.q3e_1.u3e_1 + ' ' + expression.p3e_1.j36(this) + ')';
  };
  KslGenerator.prototype.k3d = function (assignable) {
    return this.w37(assignable);
  };
  KslGenerator.prototype.l3d = function (arrayAccessor) {
    return arrayAccessor.o3d_1.j36(this) + '[' + arrayAccessor.p3d_1.j36(this) + ']';
  };
  KslGenerator.prototype.m3d = function (swizzleAssignable) {
    return swizzleAssignable.s3d_1.j36(this) + '.' + swizzleAssignable.t3d_1;
  };
  KslGenerator.prototype.b36 = function (scope, indent) {
    var tmp = asSequence(scope.x2l_1);
    var tmp_0 = map(tmp, KslGenerator$generateScope$lambda(this, indent));
    return joinToString$default_1(tmp_0, '\n', null, null, 0, null, null, 62, null);
  };
  KslGenerator.prototype.n3d = function (op) {
    var tmp0_subject = op;
    var tmp;
    if (tmp0_subject instanceof KslDeclareVar) {
      tmp = this.l38(op);
    } else {
      if (tmp0_subject instanceof KslDeclareArray) {
        tmp = this.u38(op);
      } else {
        if (tmp0_subject instanceof KslAssign) {
          tmp = this.d39(op);
        } else {
          if (tmp0_subject instanceof KslAugmentedAssign) {
            tmp = this.n39(op);
          } else {
            if (tmp0_subject instanceof KslIf) {
              tmp = this.a3a(op);
            } else {
              if (tmp0_subject instanceof KslLoopFor) {
                tmp = this.n3a(op);
              } else {
                if (tmp0_subject instanceof KslLoopWhile) {
                  tmp = this.y3a(op);
                } else {
                  if (tmp0_subject instanceof KslLoopDoWhile) {
                    tmp = this.h3b(op);
                  } else {
                    if (tmp0_subject instanceof KslLoopBreak) {
                      tmp = this.q3b(op);
                    } else {
                      if (tmp0_subject instanceof KslLoopContinue) {
                        tmp = this.r3b(op);
                      } else {
                        if (tmp0_subject instanceof KslDiscard) {
                          tmp = this.s3b(op);
                        } else {
                          if (tmp0_subject instanceof KslReturn) {
                            tmp = this.t3b(op);
                          } else {
                            if (tmp0_subject instanceof KslBlock) {
                              tmp = this.b3c(op);
                            } else {
                              throw IllegalArgumentException_init_$Create$('Unsupported op: ' + op.v33());
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    return tmp;
  };
  KslGenerator.prototype.e36 = function (functions) {
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashSet_init_$Create$();
    }
    var closed = tmp$ret$0;
    var tmp$ret$1;
    {
      tmp$ret$1 = LinkedHashSet_init_$Create$();
    }
    var open = tmp$ret$1;
    {
      addAll(open, functions);
    }
    functions.t7();
    $l$loop: while (true) {
      var tmp$ret$2;
      {
        tmp$ret$2 = !open.q();
      }
      if (!tmp$ret$2) {
        break $l$loop;
      }
      var tmp$ret$7;
      {
        var tmp$ret$6;
        $l$block_1: {
          var tmp0_iterator = open.h();
          while (tmp0_iterator.n()) {
            var element = tmp0_iterator.o();
            var tmp$ret$5;
            {
              var tmp$ret$3;
              $l$block_0: {
                var tmp0_all = element.u34_1;
                var tmp;
                if (isInterface(tmp0_all, Collection)) {
                  tmp = tmp0_all.q();
                } else {
                  tmp = false;
                }
                if (tmp) {
                  tmp$ret$3 = true;
                  break $l$block_0;
                }
                var tmp0_iterator_0 = tmp0_all.h();
                while (tmp0_iterator_0.n()) {
                  var element_0 = tmp0_iterator_0.o();
                  var tmp$ret$4;
                  {
                    tmp$ret$4 = closed.p(element_0);
                  }
                  if (!tmp$ret$4) {
                    tmp$ret$3 = false;
                    break $l$block_0;
                  }
                }
                tmp$ret$3 = true;
              }
              tmp$ret$5 = tmp$ret$3;
            }
            if (tmp$ret$5) {
              tmp$ret$6 = element;
              break $l$block_1;
            }
          }
          tmp$ret$6 = null;
        }
        tmp$ret$7 = tmp$ret$6;
      }
      var tmp0_elvis_lhs = tmp$ret$7;
      var tmp_0;
      if (tmp0_elvis_lhs == null) {
        throw IllegalStateException_init_$Create$('Unable to sort functions, circular dependencies?');
      } else {
        tmp_0 = tmp0_elvis_lhs;
      }
      var next = tmp_0;
      {
        open.c4(next);
      }
      {
        closed.b(next);
      }
      {
        functions.b(next);
      }
    }
  };
  KslGenerator.$metadata$ = classMeta('KslGenerator');
  function KslArrayVector(name, type, arraySize, isMutable) {
    KslArray.call(this, name, type, arraySize, isMutable);
  }
  KslArrayVector.$metadata$ = classMeta('KslArrayVector', [KslVectorArrayExpression], undefined, undefined, undefined, KslArray.prototype);
  function KslArray(name, type, arraySize, isMutable) {
    KslValue.call(this, name, isMutable);
    this.g38_1 = arraySize;
    this.h38_1 = new KslTypeArray(type);
  }
  KslArray.prototype.f2t = function () {
    return this.g38_1;
  };
  KslArray.prototype.d2m = function () {
    return this.h38_1;
  };
  KslArray.prototype.v33 = function () {
    return this.r36() + '(size=' + this.g38_1 + ')';
  };
  KslArray.$metadata$ = classMeta('KslArray', undefined, undefined, undefined, undefined, KslValue.prototype);
  function KslArrayVectorAccessor(array, index) {
    KslArrayAccessor.call(this, array, index);
  }
  KslArrayVectorAccessor.$metadata$ = classMeta('KslArrayVectorAccessor', [KslVectorExpression], undefined, undefined, undefined, KslArrayAccessor.prototype);
  function get(_this__u8e3s4, index) {
    return new KslArrayVectorAccessor(_this__u8e3s4, index);
  }
  function KslArrayAccessor(array, index) {
    this.o3d_1 = array;
    this.p3d_1 = index;
    this.q3d_1 = this.o3d_1.d2m().g2m_1;
    this.r3d_1 = this.o3d_1.d2m().g2m_1;
  }
  KslArrayAccessor.prototype.d2m = function () {
    return this.q3d_1;
  };
  KslArrayAccessor.prototype.b3f = function () {
    var tmp = this.o3d_1;
    return tmp instanceof KslValue ? tmp : null;
  };
  KslArrayAccessor.prototype.y3e = function () {
    return plus(this.o3d_1.y3e(), this.p3d_1.y3e());
  };
  KslArrayAccessor.prototype.m39 = function (generator) {
    return generator.l3d(this);
  };
  KslArrayAccessor.prototype.j36 = function (generator) {
    return generator.e3d(this);
  };
  KslArrayAccessor.prototype.v33 = function () {
    return this.o3d_1.v33() + '[' + this.p3d_1.v33() + ']';
  };
  KslArrayAccessor.$metadata$ = classMeta('KslArrayAccessor', [KslExpression, KslAssignable]);
  function KslAssign(assignTarget, assignExpression, scopeBuilder) {
    KslStatement.call(this, 'assign', scopeBuilder);
    this.k39_1 = assignTarget;
    this.l39_1 = assignExpression;
    this.k39_1.c3f(scopeBuilder);
    this.d3f(this.l39_1);
    this.e3f(ensureNotNull(this.k39_1.b3f()).a3f());
  }
  KslAssign.prototype.v33 = function () {
    return this.k39_1.v33() + ' = ' + this.l39_1.v33() + ' // ' + this.w33();
  };
  KslAssign.$metadata$ = classMeta('KslAssign', undefined, undefined, undefined, undefined, KslStatement.prototype);
  function KslAssignable() {
  }
  KslAssignable.$metadata$ = interfaceMeta('KslAssignable');
  function KslAugmentedAssign(assignTarget, augmentationMode, assignExpression, scopeBuilder) {
    KslStatement.call(this, 'augmentedAssign', scopeBuilder);
    this.u39_1 = assignTarget;
    this.v39_1 = augmentationMode;
    this.w39_1 = assignExpression;
    this.u39_1.c3f(scopeBuilder);
    this.d3f(this.w39_1);
    this.e3f(ensureNotNull(this.u39_1.b3f()).a3f());
  }
  KslAugmentedAssign.prototype.v33 = function () {
    return this.u39_1.v33() + ' ' + new Char(this.v39_1.z39_1) + '= ' + this.w39_1.v33() + ' // ' + this.w33();
  };
  KslAugmentedAssign.$metadata$ = classMeta('KslAugmentedAssign', undefined, undefined, undefined, undefined, KslStatement.prototype);
  function nextName($this, suffix) {
    return $this.o33().x2v_1.k2l_1.x2x($this.h30() + '_' + suffix);
  }
  function updateDependencies($this, input, newExpression) {
    {
      var tmp0_set = $this.o30_1;
      var tmp0_safe_receiver = newExpression;
      var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.y3e();
      var tmp1_set = tmp1_elvis_lhs == null ? emptySet() : tmp1_elvis_lhs;
      tmp0_set.a(input, tmp1_set);
    }
    $this.z2l().t7();
    {
      var tmp2_forEach = $this.o30_1.b3();
      var tmp0_iterator = tmp2_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          {
            var tmp0_iterator_0 = element.h();
            while (tmp0_iterator_0.n()) {
              var element_0 = tmp0_iterator_0.o();
              {
                {
                  var tmp0_set_0 = $this.z2l();
                  var tmp1_set_0 = element_0.f3f_1;
                  tmp0_set_0.a(tmp1_set_0, element_0);
                }
              }
            }
          }
        }
      }
    }
  }
  function BlockInput($outer, name, expressionType, defaultValue) {
    this.k3f_1 = $outer;
    this.h3f_1 = name;
    this.i3f_1 = expressionType;
    this.j3f_1 = defaultValue;
  }
  BlockInput.prototype.il = function () {
    return this.h3f_1;
  };
  BlockInput.prototype.d2m = function () {
    return this.i3f_1;
  };
  BlockInput.prototype.l3f = function (value) {
    updateDependencies(this.k3f_1, this, value);
    this.j3f_1 = value;
  };
  BlockInput.prototype.z33 = function () {
    return this.j3f_1;
  };
  BlockInput.prototype.m3f = function (assignExpression) {
    this.l3f(assignExpression);
  };
  BlockInput.prototype.y3e = function () {
    return emptySet();
  };
  BlockInput.prototype.j36 = function (generator) {
    var tmp0_safe_receiver = this.j3f_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.j36(generator);
    var tmp;
    if (tmp1_elvis_lhs == null) {
      throw IllegalStateException_init_$Create$('Missing input value for input ' + this.h3f_1 + ' of block ' + this.k3f_1.h30());
    } else {
      tmp = tmp1_elvis_lhs;
    }
    return tmp;
  };
  BlockInput.prototype.v33 = function () {
    var tmp0_safe_receiver = this.j3f_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.v33();
    var tmp;
    if (tmp1_elvis_lhs == null) {
      throw IllegalStateException_init_$Create$('Missing input value for input ' + this.h3f_1 + ' of block ' + this.k3f_1.h30());
    } else {
      tmp = tmp1_elvis_lhs;
    }
    return tmp;
  };
  BlockInput.$metadata$ = classMeta('BlockInput', [KslExpression]);
  function VectorInput($outer, name, expressionType, defaultValue) {
    this.r3f_1 = $outer;
    BlockInput.call(this, $outer, name, expressionType, defaultValue);
  }
  VectorInput.$metadata$ = classMeta('VectorInput', [KslVectorExpression], undefined, undefined, undefined, BlockInput.prototype);
  function KslBlock(blockName, parentScope) {
    KslStatement.call(this, blockName, parentScope);
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.o30_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_0.p30_1 = tmp$ret$1;
    var tmp_1 = this;
    var tmp$ret$2;
    {
      var tmp0_apply = new KslScopeBuilder(this, parentScope, parentScope.x2v_1);
      {
      }
      {
        tmp0_apply.s3f(blockName);
      }
      tmp$ret$2 = tmp0_apply;
    }
    tmp_1.q30_1 = tmp$ret$2;
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.r33();
      var tmp1_plusAssign = this.q30_1;
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
  }
  KslBlock.prototype.s30 = function () {
    return this.q30_1;
  };
  KslBlock.prototype.f33 = function (name, defaultValue) {
    var tmp$ret$0;
    {
      var tmp0_elvis_lhs = name;
      var tmp0_also = new VectorInput(this, tmp0_elvis_lhs == null ? nextName(this, 'inF4') : tmp0_elvis_lhs, KslTypeFloat4_getInstance(), defaultValue);
      {
      }
      {
        updateDependencies(this, tmp0_also, defaultValue);
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  KslBlock.prototype.g33 = function (name, defaultValue, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      name = null;
    if (!(($mask0 & 2) === 0))
      defaultValue = null;
    return this.f33(name, defaultValue);
  };
  KslBlock.prototype.r30 = function (name) {
    var tmp$ret$0;
    {
      var tmp = this.o33();
      var tmp0_elvis_lhs = name;
      var tmp0_also = tmp.k32(null, nextName(this, tmp0_elvis_lhs == null ? 'outF4' : tmp0_elvis_lhs), 1, null);
      {
      }
      {
        var tmp0_this = this;
        {
          var tmp0_plusAssign = tmp0_this.p30_1;
          tmp0_plusAssign.b(tmp0_also);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  KslBlock.prototype.h33 = function () {
    KslStatement.prototype.h33.call(this);
    {
      var tmp0_forEach = this.o30_1.a3();
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          if (element.j3f_1 == null) {
            throw IllegalStateException_init_$Create$('Missing input value for input ' + element.h3f_1 + ' of block ' + this.h30());
          }
        }
      }
    }
  };
  KslBlock.$metadata$ = classMeta('KslBlock', undefined, undefined, undefined, undefined, KslStatement.prototype);
  function KslBuiltinLength(vec) {
    KslBuiltinFunctionScalar.call(this, KslTypeFloat1_getInstance(), [vec]);
    this.v3f_1 = 'length';
  }
  KslBuiltinLength.prototype.il = function () {
    return this.v3f_1;
  };
  KslBuiltinLength.prototype.j36 = function (generator) {
    return generator.p3c(this);
  };
  KslBuiltinLength.$metadata$ = classMeta('KslBuiltinLength', undefined, undefined, undefined, undefined, KslBuiltinFunctionScalar.prototype);
  function KslBuiltinFloorVector(vec) {
    KslBuiltinFunctionVector.call(this, vec.d2m(), [vec]);
    this.y3f_1 = 'floor';
  }
  KslBuiltinFloorVector.prototype.il = function () {
    return this.y3f_1;
  };
  KslBuiltinFloorVector.prototype.j36 = function (generator) {
    return generator.o3c(this);
  };
  KslBuiltinFloorVector.$metadata$ = classMeta('KslBuiltinFloorVector', undefined, undefined, undefined, undefined, KslBuiltinFunctionVector.prototype);
  function KslBuiltinFloorScalar(value) {
    KslBuiltinFunctionScalar.call(this, value.d2m(), [value]);
    this.b3g_1 = 'floor';
  }
  KslBuiltinFloorScalar.prototype.il = function () {
    return this.b3g_1;
  };
  KslBuiltinFloorScalar.prototype.j36 = function (generator) {
    return generator.n3c(this);
  };
  KslBuiltinFloorScalar.$metadata$ = classMeta('KslBuiltinFloorScalar', undefined, undefined, undefined, undefined, KslBuiltinFunctionScalar.prototype);
  function KslBuiltinTruncVector(vec) {
    KslBuiltinFunctionVector.call(this, vec.d2m(), [vec]);
    this.e3g_1 = 'trunc';
  }
  KslBuiltinTruncVector.prototype.il = function () {
    return this.e3g_1;
  };
  KslBuiltinTruncVector.prototype.j36 = function (generator) {
    return generator.z3c(this);
  };
  KslBuiltinTruncVector.$metadata$ = classMeta('KslBuiltinTruncVector', undefined, undefined, undefined, undefined, KslBuiltinFunctionVector.prototype);
  function KslBuiltinPowVector(vec, power) {
    KslBuiltinFunctionVector.call(this, vec.d2m(), [vec, power]);
    this.h3g_1 = 'pow';
  }
  KslBuiltinPowVector.prototype.il = function () {
    return this.h3g_1;
  };
  KslBuiltinPowVector.prototype.j36 = function (generator) {
    return generator.t3c(this);
  };
  KslBuiltinPowVector.$metadata$ = classMeta('KslBuiltinPowVector', undefined, undefined, undefined, undefined, KslBuiltinFunctionVector.prototype);
  function KslBuiltinAbsScalar(value) {
    KslBuiltinFunctionScalar.call(this, value.d2m(), [value]);
    this.k3g_1 = 'abs';
  }
  KslBuiltinAbsScalar.prototype.il = function () {
    return this.k3g_1;
  };
  KslBuiltinAbsScalar.prototype.j36 = function (generator) {
    return generator.g3c(this);
  };
  KslBuiltinAbsScalar.$metadata$ = classMeta('KslBuiltinAbsScalar', undefined, undefined, undefined, undefined, KslBuiltinFunctionScalar.prototype);
  function KslBuiltinClampScalar(value, min, max) {
    KslBuiltinFunctionScalar.call(this, value.d2m(), [value, min, max]);
    this.n3g_1 = 'clamp';
  }
  KslBuiltinClampScalar.prototype.il = function () {
    return this.n3g_1;
  };
  KslBuiltinClampScalar.prototype.j36 = function (generator) {
    return generator.k3c(this);
  };
  KslBuiltinClampScalar.$metadata$ = classMeta('KslBuiltinClampScalar', undefined, undefined, undefined, undefined, KslBuiltinFunctionScalar.prototype);
  function KslBuiltinCross(vec1, vec2) {
    KslBuiltinFunctionVector.call(this, KslTypeFloat3_getInstance(), [vec1, vec2]);
    this.q3g_1 = 'cross';
  }
  KslBuiltinCross.prototype.il = function () {
    return this.q3g_1;
  };
  KslBuiltinCross.prototype.j36 = function (generator) {
    return generator.l3c(this);
  };
  KslBuiltinCross.$metadata$ = classMeta('KslBuiltinCross', undefined, undefined, undefined, undefined, KslBuiltinFunctionVector.prototype);
  function KslBuiltinDot(a, b) {
    KslBuiltinFunctionScalar.call(this, KslTypeFloat1_getInstance(), [a, b]);
    this.t3g_1 = 'dot';
  }
  KslBuiltinDot.prototype.il = function () {
    return this.t3g_1;
  };
  KslBuiltinDot.prototype.j36 = function (generator) {
    return generator.m3c(this);
  };
  KslBuiltinDot.$metadata$ = classMeta('KslBuiltinDot', undefined, undefined, undefined, undefined, KslBuiltinFunctionScalar.prototype);
  function KslBuiltinMaxScalar(a, b) {
    KslBuiltinFunctionScalar.call(this, a.d2m(), [a, b]);
    this.w3g_1 = 'max';
  }
  KslBuiltinMaxScalar.prototype.il = function () {
    return this.w3g_1;
  };
  KslBuiltinMaxScalar.prototype.j36 = function (generator) {
    return generator.q3c(this);
  };
  KslBuiltinMaxScalar.$metadata$ = classMeta('KslBuiltinMaxScalar', undefined, undefined, undefined, undefined, KslBuiltinFunctionScalar.prototype);
  function KslBuiltinNormalize(vec) {
    KslBuiltinFunctionVector.call(this, vec.d2m(), [vec]);
    this.z3g_1 = 'normalize';
  }
  KslBuiltinNormalize.prototype.il = function () {
    return this.z3g_1;
  };
  KslBuiltinNormalize.prototype.j36 = function (generator) {
    return generator.r3c(this);
  };
  KslBuiltinNormalize.$metadata$ = classMeta('KslBuiltinNormalize', undefined, undefined, undefined, undefined, KslBuiltinFunctionVector.prototype);
  function KslBuiltinPowScalar(value, power) {
    KslBuiltinFunctionScalar.call(this, KslTypeFloat1_getInstance(), [value, power]);
    this.c3h_1 = 'pow';
  }
  KslBuiltinPowScalar.prototype.il = function () {
    return this.c3h_1;
  };
  KslBuiltinPowScalar.prototype.j36 = function (generator) {
    return generator.s3c(this);
  };
  KslBuiltinPowScalar.$metadata$ = classMeta('KslBuiltinPowScalar', undefined, undefined, undefined, undefined, KslBuiltinFunctionScalar.prototype);
  function KslBuiltinSqrtScalar(value) {
    KslBuiltinFunctionScalar.call(this, value.d2m(), [value]);
    this.f3h_1 = 'sqrt';
  }
  KslBuiltinSqrtScalar.prototype.il = function () {
    return this.f3h_1;
  };
  KslBuiltinSqrtScalar.prototype.j36 = function (generator) {
    return generator.u3c(this);
  };
  KslBuiltinSqrtScalar.$metadata$ = classMeta('KslBuiltinSqrtScalar', undefined, undefined, undefined, undefined, KslBuiltinFunctionScalar.prototype);
  function KslBuiltinTrigonometryScalar(value, name) {
    KslBuiltinFunctionScalar.call(this, value.d2m(), [value]);
    this.y3c_1 = name;
  }
  KslBuiltinTrigonometryScalar.prototype.il = function () {
    return this.y3c_1;
  };
  KslBuiltinTrigonometryScalar.prototype.j36 = function (generator) {
    return generator.v3c(this);
  };
  KslBuiltinTrigonometryScalar.$metadata$ = classMeta('KslBuiltinTrigonometryScalar', undefined, undefined, undefined, undefined, KslBuiltinFunctionScalar.prototype);
  function KslBuiltinFunctionScalar(returnType, args) {
    KslBuiltinFunction.call(this, returnType, args.slice());
  }
  KslBuiltinFunctionScalar.$metadata$ = classMeta('KslBuiltinFunctionScalar', [KslScalarExpression], undefined, undefined, undefined, KslBuiltinFunction.prototype);
  function KslBuiltinFunctionVector(returnType, args) {
    KslBuiltinFunction.call(this, returnType, args.slice());
  }
  KslBuiltinFunctionVector.$metadata$ = classMeta('KslBuiltinFunctionVector', [KslVectorExpression], undefined, undefined, undefined, KslBuiltinFunction.prototype);
  function KslBuiltinFunction$toPseudoCode$lambda() {
    return function (it) {
      return it.v33();
    };
  }
  function KslBuiltinFunction(returnType, args) {
    this.h3c_1 = listOf(args.slice());
    this.i3c_1 = returnType;
  }
  KslBuiltinFunction.prototype.j3c = function () {
    return this.h3c_1;
  };
  KslBuiltinFunction.prototype.d2m = function () {
    return this.i3c_1;
  };
  KslBuiltinFunction.prototype.y3e = function () {
    var tmp$ret$2;
    {
      var tmp0_flatMap = this.h3c_1;
      var tmp$ret$1;
      {
        var tmp0_flatMapTo = ArrayList_init_$Create$_0();
        var tmp0_iterator = tmp0_flatMap.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$0;
          {
            tmp$ret$0 = element.y3e();
          }
          var list = tmp$ret$0;
          addAll(tmp0_flatMapTo, list);
        }
        tmp$ret$1 = tmp0_flatMapTo;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    return toSet(tmp$ret$2);
  };
  KslBuiltinFunction.prototype.v33 = function () {
    var tmp = this.il();
    return tmp + '(' + joinToString$default(this.h3c_1, null, null, null, 0, null, KslBuiltinFunction$toPseudoCode$lambda(), 31, null) + ')';
  };
  KslBuiltinFunction.$metadata$ = classMeta('KslBuiltinFunction', [KslExpression]);
  function KslDataBlock() {
  }
  KslDataBlock.$metadata$ = interfaceMeta('KslDataBlock');
  function KslDeclareArray() {
  }
  KslDeclareArray.$metadata$ = classMeta('KslDeclareArray', undefined, undefined, undefined, undefined, KslStatement.prototype);
  function KslDeclareVar(declareVar, initExpression, parentScope) {
    KslStatement.call(this, 'declareVar', parentScope);
    this.s38_1 = declareVar;
    this.t38_1 = initExpression;
    var tmp0_this = parentScope;
    {
      var tmp0_plusAssign = tmp0_this.g3h();
      var tmp1_plusAssign = this.s38_1;
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
    var tmp1_safe_receiver = initExpression;
    if (tmp1_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        tmp$ret$0 = this.d3f(tmp1_safe_receiver);
      }
    }
    this.e3f(this.s38_1.a3f());
  }
  KslDeclareVar.prototype.v33 = function () {
    var tmp = this.s38_1.r36();
    var tmp0_safe_receiver = this.t38_1;
    return 'declare(' + tmp + ') = ' + (tmp0_safe_receiver == null ? null : tmp0_safe_receiver.v33()) + ' // ' + this.w33();
  };
  KslDeclareVar.$metadata$ = classMeta('KslDeclareVar', undefined, undefined, undefined, undefined, KslStatement.prototype);
  function KslDiscard(parentScope) {
    KslStatement.call(this, 'break', parentScope);
    {
      var tmp = parentScope.x2v_1;
      var tmp0_check = tmp instanceof KslFragmentStage;
      {
      }
      if (!tmp0_check) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'discard can only be used in fragment stage';
        }
        var message = tmp$ret$0;
        throw IllegalStateException_init_$Create$(toString(message));
      }
    }
  }
  KslDiscard.$metadata$ = classMeta('KslDiscard', undefined, undefined, undefined, undefined, KslStatement.prototype);
  function KslVectorExpression() {
  }
  KslVectorExpression.$metadata$ = interfaceMeta('KslVectorExpression', [KslExpression]);
  function KslScalarExpression() {
  }
  KslScalarExpression.$metadata$ = interfaceMeta('KslScalarExpression', [KslExpression]);
  function KslExpression() {
  }
  KslExpression.$metadata$ = interfaceMeta('KslExpression');
  function KslMatrixExpression() {
  }
  KslMatrixExpression.$metadata$ = interfaceMeta('KslMatrixExpression', [KslExpression]);
  function KslVectorArrayExpression() {
  }
  KslVectorArrayExpression.$metadata$ = interfaceMeta('KslVectorArrayExpression', [KslExpression]);
  function KslExpressionBitScalar(left, right, operator, expressionType) {
    KslExpressionBit.call(this, left, right, operator, expressionType);
  }
  KslExpressionBitScalar.$metadata$ = classMeta('KslExpressionBitScalar', [KslScalarExpression], undefined, undefined, undefined, KslExpressionBit.prototype);
  function shr(_this__u8e3s4, right) {
    return new KslExpressionBitScalar(_this__u8e3s4, right, KslBitOperator_Shr_getInstance(), _this__u8e3s4.d2m());
  }
  function and(_this__u8e3s4, right) {
    return new KslExpressionBitScalar(_this__u8e3s4, right, KslBitOperator_And_getInstance(), _this__u8e3s4.d2m());
  }
  function KslExpressionBit(left, right, operator, expressionType) {
    this.b3e_1 = left;
    this.c3e_1 = right;
    this.d3e_1 = operator;
    this.e3e_1 = expressionType;
  }
  KslExpressionBit.prototype.d2m = function () {
    return this.e3e_1;
  };
  KslExpressionBit.prototype.y3e = function () {
    return plus(this.b3e_1.y3e(), this.c3e_1.y3e());
  };
  KslExpressionBit.prototype.j36 = function (generator) {
    return generator.h3d(this);
  };
  KslExpressionBit.prototype.v33 = function () {
    return '(' + this.b3e_1.v33() + ' ' + this.d3e_1.h3e_1 + ' ' + this.c3e_1.v33() + ')';
  };
  KslExpressionBit.$metadata$ = classMeta('KslExpressionBit', [KslExpression]);
  var KslBitOperator_And_instance;
  var KslBitOperator_Or_instance;
  var KslBitOperator_Xor_instance;
  var KslBitOperator_Shl_instance;
  var KslBitOperator_Shr_instance;
  var KslBitOperator_entriesInitialized;
  function KslBitOperator_initEntries() {
    if (KslBitOperator_entriesInitialized)
      return Unit_getInstance();
    KslBitOperator_entriesInitialized = true;
    KslBitOperator_And_instance = new KslBitOperator('And', 0, '&');
    KslBitOperator_Or_instance = new KslBitOperator('Or', 1, '|');
    KslBitOperator_Xor_instance = new KslBitOperator('Xor', 2, '^');
    KslBitOperator_Shl_instance = new KslBitOperator('Shl', 3, '<<');
    KslBitOperator_Shr_instance = new KslBitOperator('Shr', 4, '>>');
  }
  function KslBitOperator(name, ordinal, opString) {
    Enum.call(this, name, ordinal);
    this.h3e_1 = opString;
  }
  KslBitOperator.$metadata$ = classMeta('KslBitOperator', undefined, undefined, undefined, undefined, Enum.prototype);
  function or(_this__u8e3s4, right) {
    return new KslExpressionBitScalar(_this__u8e3s4, right, KslBitOperator_Or_getInstance(), _this__u8e3s4.d2m());
  }
  function shl(_this__u8e3s4, right) {
    return new KslExpressionBitScalar(_this__u8e3s4, right, KslBitOperator_Shl_getInstance(), _this__u8e3s4.d2m());
  }
  function KslBitOperator_And_getInstance() {
    KslBitOperator_initEntries();
    return KslBitOperator_And_instance;
  }
  function KslBitOperator_Or_getInstance() {
    KslBitOperator_initEntries();
    return KslBitOperator_Or_instance;
  }
  function KslBitOperator_Shl_getInstance() {
    KslBitOperator_initEntries();
    return KslBitOperator_Shl_instance;
  }
  function KslBitOperator_Shr_getInstance() {
    KslBitOperator_initEntries();
    return KslBitOperator_Shr_instance;
  }
  function KslExpressionCastVector(value, type) {
    KslExpressionCast.call(this, value, type);
  }
  KslExpressionCastVector.$metadata$ = classMeta('KslExpressionCastVector', [KslVectorExpression], undefined, undefined, undefined, KslExpressionCast.prototype);
  function KslExpressionCastScalar(value, type) {
    KslExpressionCast.call(this, value, type);
  }
  KslExpressionCastScalar.$metadata$ = classMeta('KslExpressionCastScalar', [KslScalarExpression], undefined, undefined, undefined, KslExpressionCast.prototype);
  function KslExpressionCast(value, type) {
    this.x36_1 = value;
    this.y36_1 = type;
  }
  KslExpressionCast.prototype.d2m = function () {
    return this.y36_1;
  };
  KslExpressionCast.prototype.y3e = function () {
    return this.x36_1.y3e();
  };
  KslExpressionCast.prototype.j36 = function (generator) {
    return generator.w36(this);
  };
  KslExpressionCast.prototype.v33 = function () {
    return 'cast<' + this.d2m().e2m_1 + '>(' + this.x36_1.v33() + ')';
  };
  KslExpressionCast.$metadata$ = classMeta('KslExpressionCast', [KslExpression]);
  function toInt2(_this__u8e3s4) {
    return new KslExpressionCastVector(_this__u8e3s4, KslTypeInt2_getInstance());
  }
  function toInt1(_this__u8e3s4) {
    return new KslExpressionCastScalar(_this__u8e3s4, KslTypeInt1_getInstance());
  }
  function toFloat2(_this__u8e3s4) {
    return new KslExpressionCastVector(_this__u8e3s4, KslTypeFloat2_getInstance());
  }
  function toFloat1(_this__u8e3s4) {
    return new KslExpressionCastScalar(_this__u8e3s4, KslTypeFloat1_getInstance());
  }
  function toUint1(_this__u8e3s4) {
    return new KslExpressionCastScalar(_this__u8e3s4, KslTypeUint1_getInstance());
  }
  function toFloat1_0(_this__u8e3s4) {
    return new KslExpressionCastScalar(_this__u8e3s4, KslTypeFloat1_getInstance());
  }
  function KslExpressionCompareScalar(left, right, operator) {
    KslExpressionCompare.call(this, left, right, operator, KslTypeBool1_getInstance());
  }
  KslExpressionCompareScalar.$metadata$ = classMeta('KslExpressionCompareScalar', [KslScalarExpression], undefined, undefined, undefined, KslExpressionCompare.prototype);
  function ge(_this__u8e3s4, right) {
    return new KslExpressionCompareScalar(_this__u8e3s4, right, KslCompareOperator_GreaterEqual_getInstance());
  }
  function gt(_this__u8e3s4, right) {
    return new KslExpressionCompareScalar(_this__u8e3s4, right, KslCompareOperator_Greater_getInstance());
  }
  function lt(_this__u8e3s4, right) {
    return new KslExpressionCompareScalar(_this__u8e3s4, right, KslCompareOperator_Less_getInstance());
  }
  function KslExpressionCompare(left, right, operator, expressionType) {
    this.a37_1 = left;
    this.b37_1 = right;
    this.c37_1 = operator;
    this.d37_1 = expressionType;
  }
  KslExpressionCompare.prototype.d2m = function () {
    return this.d37_1;
  };
  KslExpressionCompare.prototype.y3e = function () {
    return plus(this.a37_1.y3e(), this.b37_1.y3e());
  };
  KslExpressionCompare.prototype.j36 = function (generator) {
    return generator.z36(this);
  };
  KslExpressionCompare.prototype.v33 = function () {
    return '(' + this.a37_1.v33() + ' ' + this.c37_1.g37_1 + ' ' + this.b37_1.v33() + ')';
  };
  KslExpressionCompare.$metadata$ = classMeta('KslExpressionCompare', [KslExpression]);
  var KslCompareOperator_Equal_instance;
  var KslCompareOperator_NotEqual_instance;
  var KslCompareOperator_Less_instance;
  var KslCompareOperator_LessEqual_instance;
  var KslCompareOperator_Greater_instance;
  var KslCompareOperator_GreaterEqual_instance;
  var KslCompareOperator_entriesInitialized;
  function KslCompareOperator_initEntries() {
    if (KslCompareOperator_entriesInitialized)
      return Unit_getInstance();
    KslCompareOperator_entriesInitialized = true;
    KslCompareOperator_Equal_instance = new KslCompareOperator('Equal', 0, '==');
    KslCompareOperator_NotEqual_instance = new KslCompareOperator('NotEqual', 1, '!=');
    KslCompareOperator_Less_instance = new KslCompareOperator('Less', 2, '<');
    KslCompareOperator_LessEqual_instance = new KslCompareOperator('LessEqual', 3, '<=');
    KslCompareOperator_Greater_instance = new KslCompareOperator('Greater', 4, '>');
    KslCompareOperator_GreaterEqual_instance = new KslCompareOperator('GreaterEqual', 5, '>=');
  }
  function KslCompareOperator(name, ordinal, opString) {
    Enum.call(this, name, ordinal);
    this.g37_1 = opString;
  }
  KslCompareOperator.$metadata$ = classMeta('KslCompareOperator', undefined, undefined, undefined, undefined, Enum.prototype);
  function KslExpressionCompareVector(left, right, operator, expressionType) {
    KslExpressionCompare.call(this, left, right, operator, expressionType);
  }
  KslExpressionCompareVector.$metadata$ = classMeta('KslExpressionCompareVector', [KslVectorExpression], undefined, undefined, undefined, KslExpressionCompare.prototype);
  function lt_0(_this__u8e3s4, right) {
    return compareExpression(_this__u8e3s4, right, KslCompareOperator_Less_getInstance(), _this__u8e3s4.d2m());
  }
  function gt_0(_this__u8e3s4, right) {
    return compareExpression(_this__u8e3s4, right, KslCompareOperator_Greater_getInstance(), _this__u8e3s4.d2m());
  }
  function compareExpression(left, right, op, expressionType) {
    var tmp0_subject = expressionType;
    var tmp;
    if (isInterface(tmp0_subject, KslVector2)) {
      tmp = new KslExpressionCompareVector(left, right, op, KslTypeBool2_getInstance());
    } else {
      if (isInterface(tmp0_subject, KslVector3)) {
        tmp = new KslExpressionCompareVector(left, right, op, KslTypeBool3_getInstance());
      } else {
        if (isInterface(tmp0_subject, KslVector4)) {
          tmp = new KslExpressionCompareVector(left, right, op, KslTypeBool4_getInstance());
        } else {
          throw NotImplementedError_init_$Create$(null, 1, null);
        }
      }
    }
    return tmp;
  }
  function KslCompareOperator_Less_getInstance() {
    KslCompareOperator_initEntries();
    return KslCompareOperator_Less_instance;
  }
  function KslCompareOperator_Greater_getInstance() {
    KslCompareOperator_initEntries();
    return KslCompareOperator_Greater_instance;
  }
  function KslCompareOperator_GreaterEqual_getInstance() {
    KslCompareOperator_initEntries();
    return KslCompareOperator_GreaterEqual_instance;
  }
  function KslBoolVectorExpr(boolVec, op) {
    this.l3e_1 = boolVec;
    this.m3e_1 = op;
    this.n3e_1 = KslTypeBool1_getInstance();
  }
  KslBoolVectorExpr.prototype.d2m = function () {
    return this.n3e_1;
  };
  KslBoolVectorExpr.prototype.y3e = function () {
    return this.l3e_1.y3e();
  };
  KslBoolVectorExpr.prototype.j36 = function (generator) {
    return generator.i3d(this);
  };
  KslBoolVectorExpr.prototype.v33 = function () {
    return this.m3e_1.k3e_1 + '(' + this.l3e_1.v33() + ')';
  };
  KslBoolVectorExpr.$metadata$ = classMeta('KslBoolVectorExpr', [KslScalarExpression]);
  var KslBoolVecOperator_Any_instance;
  var KslBoolVecOperator_All_instance;
  var KslBoolVecOperator_entriesInitialized;
  function KslBoolVecOperator_initEntries() {
    if (KslBoolVecOperator_entriesInitialized)
      return Unit_getInstance();
    KslBoolVecOperator_entriesInitialized = true;
    KslBoolVecOperator_Any_instance = new KslBoolVecOperator('Any', 0, 'any');
    KslBoolVecOperator_All_instance = new KslBoolVecOperator('All', 1, 'all');
  }
  function KslBoolVecOperator(name, ordinal, opString) {
    Enum.call(this, name, ordinal);
    this.k3e_1 = opString;
  }
  KslBoolVecOperator.$metadata$ = classMeta('KslBoolVecOperator', undefined, undefined, undefined, undefined, Enum.prototype);
  function KslBoolScalarExpr(left, right, op) {
    this.o3e_1 = left;
    this.p3e_1 = right;
    this.q3e_1 = op;
    this.r3e_1 = KslTypeBool1_getInstance();
  }
  KslBoolScalarExpr.prototype.d2m = function () {
    return this.r3e_1;
  };
  KslBoolScalarExpr.prototype.y3e = function () {
    return plus(this.o3e_1.y3e(), this.p3e_1.y3e());
  };
  KslBoolScalarExpr.prototype.j36 = function (generator) {
    return generator.j3d(this);
  };
  KslBoolScalarExpr.prototype.v33 = function () {
    return '(' + this.o3e_1.v33() + ' ' + this.q3e_1.u3e_1 + ' ' + this.p3e_1.v33() + ')';
  };
  KslBoolScalarExpr.$metadata$ = classMeta('KslBoolScalarExpr', [KslScalarExpression]);
  function and_0(_this__u8e3s4, right) {
    return new KslBoolScalarExpr(_this__u8e3s4, right, KslBoolScalarOperator_And_getInstance());
  }
  var KslBoolScalarOperator_And_instance;
  var KslBoolScalarOperator_Or_instance;
  var KslBoolScalarOperator_entriesInitialized;
  function KslBoolScalarOperator_initEntries() {
    if (KslBoolScalarOperator_entriesInitialized)
      return Unit_getInstance();
    KslBoolScalarOperator_entriesInitialized = true;
    KslBoolScalarOperator_And_instance = new KslBoolScalarOperator('And', 0, '&&');
    KslBoolScalarOperator_Or_instance = new KslBoolScalarOperator('Or', 1, '||');
  }
  function KslBoolScalarOperator(name, ordinal, opString) {
    Enum.call(this, name, ordinal);
    this.u3e_1 = opString;
  }
  KslBoolScalarOperator.$metadata$ = classMeta('KslBoolScalarOperator', undefined, undefined, undefined, undefined, Enum.prototype);
  function KslBoolVecOperator_All_getInstance() {
    KslBoolVecOperator_initEntries();
    return KslBoolVecOperator_All_instance;
  }
  function KslBoolScalarOperator_And_getInstance() {
    KslBoolScalarOperator_initEntries();
    return KslBoolScalarOperator_And_instance;
  }
  function KslExpressionMathVector(left, right, operator, expressionType) {
    KslExpressionMath.call(this, left, right, operator, expressionType);
  }
  KslExpressionMathVector.$metadata$ = classMeta('KslExpressionMathVector', [KslVectorExpression], undefined, undefined, undefined, KslExpressionMath.prototype);
  function times(_this__u8e3s4, right) {
    return new KslExpressionMathVector(_this__u8e3s4, right, KslMathOperator_Times_getInstance(), right.d2m());
  }
  function minus(_this__u8e3s4, right) {
    return new KslExpressionMathVector(_this__u8e3s4, right, KslMathOperator_Minus_getInstance(), _this__u8e3s4.d2m());
  }
  function times_0(_this__u8e3s4, right) {
    return new KslExpressionMathVector(_this__u8e3s4, right, KslMathOperator_Times_getInstance(), _this__u8e3s4.d2m());
  }
  function KslExpressionMathScalar(left, right, operator, expressionType) {
    KslExpressionMath.call(this, left, right, operator, expressionType);
  }
  KslExpressionMathScalar.$metadata$ = classMeta('KslExpressionMathScalar', [KslScalarExpression], undefined, undefined, undefined, KslExpressionMath.prototype);
  function div(_this__u8e3s4, right) {
    return new KslExpressionMathScalar(_this__u8e3s4, right, KslMathOperator_Divide_getInstance(), _this__u8e3s4.d2m());
  }
  function div_0(_this__u8e3s4, right) {
    return new KslExpressionMathVector(_this__u8e3s4, right, KslMathOperator_Divide_getInstance(), _this__u8e3s4.d2m());
  }
  function times_1(_this__u8e3s4, right) {
    return new KslExpressionMathVector(_this__u8e3s4, right, KslMathOperator_Times_getInstance(), _this__u8e3s4.d2m());
  }
  function times_2(_this__u8e3s4, right) {
    return new KslExpressionMathScalar(_this__u8e3s4, right, KslMathOperator_Times_getInstance(), _this__u8e3s4.d2m());
  }
  function plus_0(_this__u8e3s4, right) {
    return new KslExpressionMathVector(_this__u8e3s4, right, KslMathOperator_Plus_getInstance(), _this__u8e3s4.d2m());
  }
  function div_1(_this__u8e3s4, right) {
    return new KslExpressionMathVector(_this__u8e3s4, right, KslMathOperator_Divide_getInstance(), _this__u8e3s4.d2m());
  }
  function minus_0(_this__u8e3s4, right) {
    return new KslExpressionMathScalar(_this__u8e3s4, right, KslMathOperator_Minus_getInstance(), _this__u8e3s4.d2m());
  }
  var KslMathOperator_Plus_instance;
  var KslMathOperator_Minus_instance;
  var KslMathOperator_Times_instance;
  var KslMathOperator_Divide_instance;
  var KslMathOperator_Remainder_instance;
  var KslMathOperator_entriesInitialized;
  function KslMathOperator_initEntries() {
    if (KslMathOperator_entriesInitialized)
      return Unit_getInstance();
    KslMathOperator_entriesInitialized = true;
    KslMathOperator_Plus_instance = new KslMathOperator('Plus', 0, _Char___init__impl__6a9atx(43));
    KslMathOperator_Minus_instance = new KslMathOperator('Minus', 1, _Char___init__impl__6a9atx(45));
    KslMathOperator_Times_instance = new KslMathOperator('Times', 2, _Char___init__impl__6a9atx(42));
    KslMathOperator_Divide_instance = new KslMathOperator('Divide', 3, _Char___init__impl__6a9atx(47));
    KslMathOperator_Remainder_instance = new KslMathOperator('Remainder', 4, _Char___init__impl__6a9atx(37));
  }
  function KslMathOperator(name, ordinal, opChar) {
    Enum.call(this, name, ordinal);
    this.z39_1 = opChar;
  }
  KslMathOperator.$metadata$ = classMeta('KslMathOperator', undefined, undefined, undefined, undefined, Enum.prototype);
  function KslExpressionMath(left, right, operator, expressionType) {
    this.x3d_1 = left;
    this.y3d_1 = right;
    this.z3d_1 = operator;
    this.a3e_1 = expressionType;
  }
  KslExpressionMath.prototype.d2m = function () {
    return this.a3e_1;
  };
  KslExpressionMath.prototype.y3e = function () {
    return plus(this.x3d_1.y3e(), this.y3d_1.y3e());
  };
  KslExpressionMath.prototype.j36 = function (generator) {
    return generator.g3d(this);
  };
  KslExpressionMath.prototype.v33 = function () {
    return '(' + this.x3d_1.v33() + ' ' + new Char(this.z3d_1.z39_1) + ' ' + this.y3d_1.v33() + ')';
  };
  KslExpressionMath.$metadata$ = classMeta('KslExpressionMath', [KslExpression]);
  function minus_1(_this__u8e3s4, right) {
    return new KslExpressionMathVector(_this__u8e3s4, right, KslMathOperator_Minus_getInstance(), _this__u8e3s4.d2m());
  }
  function plus_1(_this__u8e3s4, right) {
    return new KslExpressionMathVector(_this__u8e3s4, right, KslMathOperator_Plus_getInstance(), _this__u8e3s4.d2m());
  }
  function times_3(_this__u8e3s4, right) {
    return new KslExpressionMathVector(_this__u8e3s4, right, KslMathOperator_Times_getInstance(), right.d2m());
  }
  function plus_2(_this__u8e3s4, right) {
    return new KslExpressionMathScalar(_this__u8e3s4, right, KslMathOperator_Plus_getInstance(), _this__u8e3s4.d2m());
  }
  function KslMathOperator_Plus_getInstance() {
    KslMathOperator_initEntries();
    return KslMathOperator_Plus_instance;
  }
  function KslMathOperator_Minus_getInstance() {
    KslMathOperator_initEntries();
    return KslMathOperator_Minus_instance;
  }
  function KslMathOperator_Times_getInstance() {
    KslMathOperator_initEntries();
    return KslMathOperator_Times_instance;
  }
  function KslMathOperator_Divide_getInstance() {
    KslMathOperator_initEntries();
    return KslMathOperator_Divide_instance;
  }
  function paramScalar($this, name, type) {
    var tmp$ret$0;
    {
      var tmp0_also = new KslVarScalar(name, type, false);
      {
      }
      {
        var tmp0_this = $this;
        {
          var tmp0_plusAssign = tmp0_this.t34_1;
          tmp0_plusAssign.b(tmp0_also);
        }
        var tmp1_this = $this.v34_1;
        {
          var tmp1_plusAssign = tmp1_this.g3h();
          tmp1_plusAssign.b(tmp0_also);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  }
  function paramVector($this, name, value) {
    var tmp$ret$0;
    {
      var tmp0_also = new KslVarVector(name, value, false);
      {
      }
      {
        var tmp0_this = $this;
        {
          var tmp0_plusAssign = tmp0_this.t34_1;
          tmp0_plusAssign.b(tmp0_also);
        }
        var tmp1_this = $this.v34_1;
        {
          var tmp1_plusAssign = tmp1_this.g3h();
          tmp1_plusAssign.b(tmp0_also);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  }
  function FunctionRoot($outer, function_0) {
    this.n3h_1 = $outer;
    KslOp.call(this, 'body', $outer.v34_1);
    this.m3h_1 = function_0;
  }
  FunctionRoot.$metadata$ = classMeta('FunctionRoot', undefined, undefined, undefined, undefined, KslOp.prototype);
  function KslFunction(name, returnType, parentStage) {
    this.q34_1 = name;
    this.r34_1 = returnType;
    this.s34_1 = parentStage;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.t34_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = LinkedHashSet_init_$Create$();
    }
    tmp_0.u34_1 = tmp$ret$1;
    this.v34_1 = new KslScopeBuilder(null, this.s34_1.n2l_1, this.s34_1);
    this.w34_1 = new FunctionRoot(this, this);
    this.x34_1 = new KslHierarchy(this.v34_1);
    this.y34_1 = new KslScopeBuilder(this.w34_1, this.v34_1, this.s34_1);
    this.v34_1.s3f(this.q34_1);
    var tmp0_this = this.v34_1;
    {
      var tmp0_plusAssign = tmp0_this.y33();
      var tmp1_plusAssign = this.w34_1;
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
    var tmp1_this = this.w34_1;
    {
      var tmp2_plusAssign = tmp1_this.r33();
      var tmp3_plusAssign = this.y34_1;
      tmp2_plusAssign.b(tmp3_plusAssign);
    }
  }
  KslFunction.prototype.il = function () {
    return this.q34_1;
  };
  KslFunction.prototype.b35 = function () {
    return this.r34_1;
  };
  KslFunction.prototype.c35 = function () {
    return this.t34_1;
  };
  KslFunction.prototype.d35 = function () {
    return this.u34_1;
  };
  KslFunction.prototype.s30 = function () {
    return this.y34_1;
  };
  KslFunction.prototype.a35 = function (block) {
    var tmp$ret$0;
    {
      var tmp0_apply = this.y34_1;
      {
      }
      {
        this.e35(tmp0_apply, block(tmp0_apply));
      }
      tmp$ret$0 = tmp0_apply;
    }
  };
  KslFunction.prototype.o3h = function (name) {
    var tmp0_elvis_lhs = name;
    return paramScalar(this, tmp0_elvis_lhs == null ? this.s34_1.k2l_1.x2x('paramF1') : tmp0_elvis_lhs, KslTypeFloat1_getInstance());
  };
  KslFunction.prototype.p3h = function (name) {
    var tmp0_elvis_lhs = name;
    return paramVector(this, tmp0_elvis_lhs == null ? this.s34_1.k2l_1.x2x('paramF2') : tmp0_elvis_lhs, KslTypeFloat2_getInstance());
  };
  KslFunction.prototype.z34 = function (name) {
    var tmp0_elvis_lhs = name;
    return paramVector(this, tmp0_elvis_lhs == null ? this.s34_1.k2l_1.x2x('paramF3') : tmp0_elvis_lhs, KslTypeFloat3_getInstance());
  };
  KslFunction.prototype.q3h = function (name) {
    var tmp0_elvis_lhs = name;
    return paramScalar(this, tmp0_elvis_lhs == null ? this.s34_1.k2l_1.x2x('paramI1') : tmp0_elvis_lhs, KslTypeInt1_getInstance());
  };
  KslFunction.prototype.o2t = function () {
    var tmp0_this = this.x34_1.q2t_1;
    {
      var tmp0_plusAssign = tmp0_this.w2l_1;
      var tmp1_plusAssign = this.s34_1.n2l_1.g3h();
      addAll(tmp0_plusAssign, tmp1_plusAssign);
    }
    (new KslProcessor()).s3h(this.x34_1);
  };
  KslFunction.prototype.e35 = function (_this__u8e3s4, returnValue) {
    var tmp0_this = _this__u8e3s4;
    {
      var tmp0_plusAssign = tmp0_this.y33();
      var tmp1_plusAssign = new KslReturn(_this__u8e3s4, returnValue);
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
  };
  KslFunction.$metadata$ = classMeta('KslFunction');
  function KslInvokeFunctionScalar(function_0, parentScope, returnType, args) {
    KslInvokeFunction.call(this, function_0, parentScope, returnType, args.slice());
  }
  KslInvokeFunctionScalar.$metadata$ = classMeta('KslInvokeFunctionScalar', [KslScalarExpression], undefined, undefined, undefined, KslInvokeFunction.prototype);
  function KslInvokeFunctionVector(function_0, parentScope, returnType, args) {
    KslInvokeFunction.call(this, function_0, parentScope, returnType, args.slice());
  }
  KslInvokeFunctionVector.$metadata$ = classMeta('KslInvokeFunctionVector', [KslVectorExpression], undefined, undefined, undefined, KslInvokeFunction.prototype);
  function KslFunctionFloat1(name, parentStage) {
    KslFunction.call(this, name, KslTypeFloat1_getInstance(), parentStage);
  }
  KslFunctionFloat1.$metadata$ = classMeta('KslFunctionFloat1', undefined, undefined, undefined, undefined, KslFunction.prototype);
  function functionFloat1(_this__u8e3s4, name, block) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_apply = new KslFunctionFloat1(name, _this__u8e3s4);
        {
        }
        block(tmp0_apply);
        tmp$ret$0 = tmp0_apply;
      }
      var tmp1_also = tmp$ret$0;
      {
      }
      {
        _this__u8e3s4.u3h(name, tmp1_also);
      }
      tmp$ret$1 = tmp1_also;
    }
    return tmp$ret$1;
  }
  function KslFunctionFloat2(name, parentStage) {
    KslFunction.call(this, name, KslTypeFloat2_getInstance(), parentStage);
  }
  KslFunctionFloat2.$metadata$ = classMeta('KslFunctionFloat2', undefined, undefined, undefined, undefined, KslFunction.prototype);
  function functionFloat2(_this__u8e3s4, name, block) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_apply = new KslFunctionFloat2(name, _this__u8e3s4);
        {
        }
        block(tmp0_apply);
        tmp$ret$0 = tmp0_apply;
      }
      var tmp1_also = tmp$ret$0;
      {
      }
      {
        _this__u8e3s4.u3h(name, tmp1_also);
      }
      tmp$ret$1 = tmp1_also;
    }
    return tmp$ret$1;
  }
  function KslInvokeFunction$lambda() {
    return function (it) {
      return it.r36();
    };
  }
  function KslInvokeFunction$lambda_0() {
    return function (it) {
      return it.v33();
    };
  }
  function KslInvokeFunction$toPseudoCode$lambda() {
    return function (it) {
      return it.v33();
    };
  }
  function KslInvokeFunction(function_0, parentScope, returnType, args) {
    this.d3c_1 = function_0;
    this.e3c_1 = listOf(args.slice());
    if (!(this.d3c_1.t34_1.m() === args.length)) {
      var tmp = 'Wrong number of parameters for invoking function ' + this.d3c_1.q34_1 + '. ';
      var tmp_0 = this.d3c_1.t34_1.m();
      var tmp_1 = joinToString$default(this.d3c_1.t34_1, null, null, null, 0, null, KslInvokeFunction$lambda(), 31, null);
      var tmp_2 = args.length;
      throw IllegalArgumentException_init_$Create$(tmp + ('Expected: ' + tmp_0 + ' [' + tmp_1 + '], provided: ' + tmp_2 + ' [' + joinToString$default_0(args, null, null, null, 0, null, KslInvokeFunction$lambda_0(), 31, null) + ']'));
    }
    {
      var tmp0_forEachIndexed = this.d3c_1.t34_1;
      var index = 0;
      var tmp0_iterator = tmp0_forEachIndexed.h();
      while (tmp0_iterator.n()) {
        var item = tmp0_iterator.o();
        {
          var tmp1 = index;
          index = tmp1 + 1 | 0;
          var tmp1__anonymous__uwfjfc = checkIndexOverflow(tmp1);
          if (!equals(args[tmp1__anonymous__uwfjfc].d2m(), item.d2m())) {
            throw IllegalArgumentException_init_$Create$('Wrong type of parameter ' + (tmp1__anonymous__uwfjfc + 1 | 0) + ' (' + item.r36() + ') on invoking function ' + this.d3c_1.q34_1 + '. ' + ('Expected: ' + item.d2m().e2m_1 + ', provided: ' + args[tmp1__anonymous__uwfjfc].d2m().e2m_1 + ' (' + args[tmp1__anonymous__uwfjfc].v33() + ')'));
          }
        }
      }
    }
    var tmp0_safe_receiver = parentScope.v3h();
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        var tmp0_this = tmp0_safe_receiver;
        var tmp0_plusAssign = tmp0_this.u34_1;
        var tmp1_plusAssign = this.d3c_1;
        tmp0_plusAssign.b(tmp1_plusAssign);
        tmp$ret$0 = Unit_getInstance();
      }
    }
    this.f3c_1 = returnType;
  }
  KslInvokeFunction.prototype.t3h = function () {
    return this.d3c_1;
  };
  KslInvokeFunction.prototype.d2m = function () {
    return this.f3c_1;
  };
  KslInvokeFunction.prototype.y3e = function () {
    var tmp$ret$2;
    {
      var tmp0_flatMap = this.e3c_1;
      var tmp$ret$1;
      {
        var tmp0_flatMapTo = ArrayList_init_$Create$_0();
        var tmp0_iterator = tmp0_flatMap.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$0;
          {
            tmp$ret$0 = element.y3e();
          }
          var list = tmp$ret$0;
          addAll(tmp0_flatMapTo, list);
        }
        tmp$ret$1 = tmp0_flatMapTo;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    return toSet(tmp$ret$2);
  };
  KslInvokeFunction.prototype.v33 = function () {
    return this.d3c_1.q34_1 + '(' + joinToString$default(this.e3c_1, null, null, null, 0, null, KslInvokeFunction$toPseudoCode$lambda(), 31, null) + ')';
  };
  KslInvokeFunction.prototype.j36 = function (generator) {
    return generator.c3c(this);
  };
  KslInvokeFunction.$metadata$ = classMeta('KslInvokeFunction', [KslExpression]);
  function KslIf(condition, parentScope) {
    KslStatement.call(this, 'if', parentScope);
    this.h3a_1 = condition;
    this.i3a_1 = new KslScopeBuilder(this, parentScope, parentScope.x2v_1);
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.j3a_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      var tmp0_apply = new KslScopeBuilder(this, parentScope, parentScope.x2v_1);
      {
      }
      {
        tmp0_apply.s3f('else');
      }
      tmp$ret$1 = tmp0_apply;
    }
    tmp_0.k3a_1 = tmp$ret$1;
    this.l3a_1 = parentScope;
    this.d3f(this.h3a_1);
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.r33();
      var tmp1_plusAssign = this.i3a_1;
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
    var tmp1_this = this;
    {
      var tmp2_plusAssign = tmp1_this.r33();
      var tmp3_plusAssign = this.k3a_1;
      tmp2_plusAssign.b(tmp3_plusAssign);
    }
  }
  KslIf.prototype.s30 = function () {
    return this.i3a_1;
  };
  KslIf.prototype.w3h = function (block) {
    var tmp$ret$0;
    {
      var tmp0_apply = this.k3a_1;
      {
      }
      block(tmp0_apply);
      tmp$ret$0 = tmp0_apply;
    }
  };
  KslIf.prototype.v33 = function () {
    var str = new StringBuilder('if (' + this.h3a_1.v33() + ') // ' + this.w33() + '\n');
    str.ga(this.i3a_1.v33());
    {
      var tmp0_forEach = this.j3a_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          str.ga(' else if (' + element.x3_1.v33() + ') ' + element.y3_1.v33());
        }
      }
    }
    if (this.k3a_1.m3a()) {
      str.ga(' else ' + this.k3a_1.v33());
    }
    return str.toString();
  };
  KslIf.$metadata$ = classMeta('KslIf', undefined, undefined, undefined, undefined, KslStatement.prototype);
  function KslInterStageVector(input, output, outputStage, interpolation) {
    KslInterStageVar.call(this, input, output, outputStage, interpolation);
  }
  KslInterStageVector.prototype.z33 = function () {
    var tmp = KslInterStageVar.prototype.z33.call(this);
    return tmp instanceof KslVarVector ? tmp : THROW_CCE();
  };
  KslInterStageVector.prototype.c33 = function () {
    var tmp = KslInterStageVar.prototype.c33.call(this);
    return tmp instanceof KslVarVector ? tmp : THROW_CCE();
  };
  KslInterStageVector.$metadata$ = classMeta('KslInterStageVector', undefined, undefined, undefined, undefined, KslInterStageVar.prototype);
  function KslInterStageVar(input, output, outputStage, interpolation) {
    this.z37_1 = input;
    this.a38_1 = output;
    this.b38_1 = outputStage;
    this.c38_1 = interpolation;
  }
  KslInterStageVar.prototype.z33 = function () {
    return this.z37_1;
  };
  KslInterStageVar.prototype.c33 = function () {
    return this.a38_1;
  };
  KslInterStageVar.prototype.x3h = function () {
    return this.c38_1;
  };
  KslInterStageVar.$metadata$ = classMeta('KslInterStageVar');
  var KslInterStageInterpolation_Smooth_instance;
  var KslInterStageInterpolation_Flat_instance;
  var KslInterStageInterpolation_NoPerspective_instance;
  var KslInterStageInterpolation_entriesInitialized;
  function KslInterStageInterpolation_initEntries() {
    if (KslInterStageInterpolation_entriesInitialized)
      return Unit_getInstance();
    KslInterStageInterpolation_entriesInitialized = true;
    KslInterStageInterpolation_Smooth_instance = new KslInterStageInterpolation('Smooth', 0);
    KslInterStageInterpolation_Flat_instance = new KslInterStageInterpolation('Flat', 1);
    KslInterStageInterpolation_NoPerspective_instance = new KslInterStageInterpolation('NoPerspective', 2);
  }
  function KslInterStageInterpolation(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  KslInterStageInterpolation.$metadata$ = classMeta('KslInterStageInterpolation', undefined, undefined, undefined, undefined, Enum.prototype);
  function KslInterStageInterpolation_Smooth_getInstance() {
    KslInterStageInterpolation_initEntries();
    return KslInterStageInterpolation_Smooth_instance;
  }
  function KslInterStageInterpolation_Flat_getInstance() {
    KslInterStageInterpolation_initEntries();
    return KslInterStageInterpolation_Flat_instance;
  }
  function KslLoop() {
  }
  KslLoop.$metadata$ = interfaceMeta('KslLoop');
  function KslLoopBreak() {
  }
  KslLoopBreak.$metadata$ = classMeta('KslLoopBreak', undefined, undefined, undefined, undefined, KslStatement.prototype);
  function KslLoopContinue() {
  }
  KslLoopContinue.$metadata$ = classMeta('KslLoopContinue', undefined, undefined, undefined, undefined, KslStatement.prototype);
  function KslLoopDoWhile() {
  }
  KslLoopDoWhile.$metadata$ = classMeta('KslLoopDoWhile', [KslLoop], undefined, undefined, undefined, KslStatement.prototype);
  function KslLoopFor(loopVar, whileExpression, incExpr, parentScope) {
    KslStatement.call(this, 'for', parentScope);
    this.u3a_1 = loopVar;
    this.v3a_1 = whileExpression;
    this.w3a_1 = incExpr;
    this.x3a_1 = new KslScopeBuilder(this, parentScope, parentScope.x2v_1);
    this.d3f(this.v3a_1);
    this.d3f(this.w3a_1);
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.r33();
      var tmp1_plusAssign = this.x3a_1;
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
  }
  KslLoopFor.prototype.s30 = function () {
    return this.x3a_1;
  };
  KslLoopFor.prototype.v33 = function () {
    var str = new StringBuilder('for (' + this.u3a_1.v33() + '; ' + this.v3a_1.v33() + '; ' + this.u3a_1.r36() + ' += ' + this.w3a_1.v33() + ') // ' + this.w33() + '\n');
    str.ga(this.x3a_1.v33());
    return str.toString();
  };
  KslLoopFor.$metadata$ = classMeta('KslLoopFor', [KslLoop], undefined, undefined, undefined, KslStatement.prototype);
  function KslLoopWhile() {
  }
  KslLoopWhile.$metadata$ = classMeta('KslLoopWhile', [KslLoop], undefined, undefined, undefined, KslStatement.prototype);
  function PortFloat4(name, parentScope) {
    KslPort.call(this, name, parentScope);
    var tmp = this;
    tmp.h3i_1 = this.g33('input', null, 2, null);
    this.i3i_1 = this.r30('output');
    var tmp$ret$0;
    {
      var tmp0_apply = this.s30();
      {
      }
      {
        tmp0_apply.t2w(this.i3i_1, this.h3i_1);
      }
      tmp$ret$0 = tmp0_apply;
    }
  }
  PortFloat4.prototype.z33 = function () {
    return this.h3i_1;
  };
  PortFloat4.prototype.c33 = function () {
    return this.i3i_1;
  };
  PortFloat4.$metadata$ = classMeta('PortFloat4', [KslVectorExpression], undefined, undefined, undefined, KslPort.prototype);
  function float4Port(_this__u8e3s4, name, input) {
    var tmp$ret$1;
    {
      var tmp0_also = new PortFloat4(name, _this__u8e3s4);
      {
      }
      {
        var tmp0_safe_receiver = input;
        if (tmp0_safe_receiver == null)
          null;
        else {
          var tmp$ret$0;
          {
            {
            }
            tmp$ret$0 = tmp0_also.h3i_1.m3f(tmp0_safe_receiver);
          }
        }
        var tmp1_this = _this__u8e3s4;
        {
          var tmp0_plusAssign = tmp1_this.y33();
          tmp0_plusAssign.b(tmp0_also);
        }
      }
      tmp$ret$1 = tmp0_also;
    }
    return tmp$ret$1;
  }
  function KslPort(name, parentScope) {
    KslBlock.call(this, name, parentScope);
  }
  KslPort.prototype.d2m = function () {
    return this.c33().d2m();
  };
  KslPort.prototype.y3e = function () {
    return this.c33().y3e();
  };
  KslPort.prototype.j36 = function (generator) {
    return this.c33().j36(generator);
  };
  KslPort.prototype.v33 = function () {
    return this.c33().v33();
  };
  KslPort.$metadata$ = classMeta('KslPort', [KslExpression], undefined, undefined, undefined, KslBlock.prototype);
  function registerSampler($this, uniform) {
    {
      var tmp0_set = $this.m2k_1;
      var tmp1_set = uniform.il();
      tmp0_set.a(tmp1_set, uniform);
    }
    {
      var tmp2_forEach = $this.q2k_1;
      var tmp0_iterator = tmp2_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var tmp0_this = element.n2l_1;
          {
            var tmp0_plusAssign = tmp0_this.g3h();
            var tmp1_plusAssign = uniform.l2();
            tmp0_plusAssign.b(tmp1_plusAssign);
          }
        }
      }
    }
  }
  function registerInterStageVar($this, interStageVar) {
    {
      var tmp0_forEach = $this.q2k_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var tmp0_this = element;
          {
            var tmp0_plusAssign = tmp0_this.m2l_1;
            tmp0_plusAssign.b(interStageVar);
          }
        }
      }
    }
    var tmp0_this_0 = $this.o2k_1.s3i();
    {
      var tmp1_plusAssign = tmp0_this_0.g3h();
      var tmp2_plusAssign = interStageVar.z33();
      tmp1_plusAssign.b(tmp2_plusAssign);
    }
    var tmp1_this = $this.p2k_1.s3i();
    {
      var tmp3_plusAssign = tmp1_this.g3h();
      var tmp4_plusAssign = interStageVar.c33();
      tmp3_plusAssign.b(tmp4_plusAssign);
    }
  }
  function interStageVector($this, type, interpolation, name) {
    var input = new KslVarVector(name, type, true);
    var output = new KslVarVector(name, type, false);
    var tmp$ret$0;
    {
      var tmp0_also = new KslInterStageVector(input, output, KslShaderStageType_VertexShader_getInstance(), interpolation);
      {
      }
      {
        registerInterStageVar($this, tmp0_also);
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  }
  function KslProgram$prepareGenerate$lambda(this$0) {
    return function (u) {
      return this$0.o2k_1.t3i(u) ? true : this$0.p2k_1.t3i(u);
    };
  }
  function KslProgram$prepareGenerate$lambda_0() {
    return function (it) {
      return it.f2l_1.q();
    };
  }
  function KslProgram$prepareGenerate$lambda_1(this$0) {
    return function (u) {
      return this$0.o2k_1.t3i(u) ? true : this$0.p2k_1.t3i(u);
    };
  }
  function KslProgram(name) {
    this.g2k_1 = name;
    this.h2k_1 = false;
    this.i2k_1 = false;
    this.j2k_1 = 1;
    var tmp = this;
    tmp.k2k_1 = KslUniformBuffer_init_$Create$('CommonUniforms', this, false, 4, null);
    this.l2k_1 = mutableListOf([this.k2k_1]);
    var tmp_0 = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp_0.m2k_1 = tmp$ret$0;
    var tmp_1 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_1.n2k_1 = tmp$ret$1;
    this.o2k_1 = new KslVertexStage(this);
    this.p2k_1 = new KslFragmentStage(this);
    this.q2k_1 = listOf([this.o2k_1, this.p2k_1]);
    var tmp_2 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = ArrayList_init_$Create$_0();
    }
    tmp_2.r2k_1 = tmp$ret$2;
  }
  KslProgram.prototype.x2x = function (prefix) {
    var tmp0_this = this;
    var tmp1 = tmp0_this.j2k_1;
    tmp0_this.j2k_1 = tmp1 + 1 | 0;
    return prefix + '_' + tmp1;
  };
  KslProgram.prototype.y2x = function () {
    return this.m2k_1;
  };
  KslProgram.prototype.z2x = function () {
    return this.o2k_1;
  };
  KslProgram.prototype.a2y = function () {
    return this.p2k_1;
  };
  KslProgram.prototype.v2x = function (block) {
    {
    }
    var tmp$ret$0;
    {
      var tmp0_apply = this.o2k_1;
      {
      }
      block(tmp0_apply);
      tmp$ret$0 = tmp0_apply;
    }
  };
  KslProgram.prototype.w2x = function (block) {
    {
    }
    var tmp$ret$0;
    {
      var tmp0_apply = this.p2k_1;
      {
      }
      block(tmp0_apply);
      tmp$ret$0 = tmp0_apply;
    }
  };
  KslProgram.prototype.u3i = function (name) {
    return this.k2k_1.u3i(name);
  };
  KslProgram.prototype.v3i = function (name) {
    return this.k2k_1.v3i(name);
  };
  KslProgram.prototype.b2y = function (name) {
    return this.k2k_1.b2y(name);
  };
  KslProgram.prototype.w3i = function (name, arraySize) {
    return this.k2k_1.w3i(name, arraySize);
  };
  KslProgram.prototype.x3i = function (name) {
    return this.k2k_1.x3i(name);
  };
  KslProgram.prototype.y3i = function (name) {
    return this.k2k_1.y3i(name);
  };
  KslProgram.prototype.c2y = function (name) {
    return this.k2k_1.c2y(name);
  };
  KslProgram.prototype.d2y = function (name) {
    var tmp$ret$2;
    {
      var tmp0_elvis_lhs = this.m2k_1.z2(name);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            var tmp_0 = new KslVar(name, KslTypeColorSampler2d_getInstance(), false);
            tmp$ret$0 = KslUniform_init_$Create$(tmp_0, 0, 2, null);
          }
          var tmp0_also = tmp$ret$0;
          {
          }
          {
            registerSampler(this, tmp0_also);
          }
          tmp$ret$1 = tmp0_also;
        }
        tmp = tmp$ret$1;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var uniform = tmp;
      if (!(uniform instanceof KslUniform)) {
        throw IllegalStateException_init_$Create$('Existing uniform with name "' + name + '" has not the expected type');
      }
      tmp$ret$2 = uniform;
    }
    return tmp$ret$2;
  };
  KslProgram.prototype.e2y = function (name, interpolation) {
    var tmp = KslTypeFloat2_getInstance();
    var tmp0_elvis_lhs = name;
    return interStageVector(this, tmp, interpolation, tmp0_elvis_lhs == null ? this.x2x('interStageF2') : tmp0_elvis_lhs);
  };
  KslProgram.prototype.f2y = function (name, interpolation, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      name = null;
    if (!(($mask0 & 2) === 0))
      interpolation = KslInterStageInterpolation_Smooth_getInstance();
    return this.e2y(name, interpolation);
  };
  KslProgram.prototype.g2y = function (name, interpolation) {
    var tmp = KslTypeFloat4_getInstance();
    var tmp0_elvis_lhs = name;
    return interStageVector(this, tmp, interpolation, tmp0_elvis_lhs == null ? this.x2x('interStageF4') : tmp0_elvis_lhs);
  };
  KslProgram.prototype.h2y = function (name, interpolation, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      name = null;
    if (!(($mask0 & 2) === 0))
      interpolation = KslInterStageInterpolation_Smooth_getInstance();
    return this.g2y(name, interpolation);
  };
  KslProgram.prototype.o2t = function () {
    if (!this.i2k_1) {
      this.i2k_1 = true;
      {
        var tmp0_forEach = this.q2k_1;
        var tmp0_iterator = tmp0_forEach.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          {
            element.o2t();
          }
        }
      }
      {
        var tmp$ret$2;
        {
          var tmp1_filter = this.l2k_1;
          var tmp$ret$1;
          {
            var tmp0_filterTo = ArrayList_init_$Create$_0();
            var tmp0_iterator_0 = tmp1_filter.h();
            while (tmp0_iterator_0.n()) {
              var element_0 = tmp0_iterator_0.o();
              var tmp$ret$0;
              {
                tmp$ret$0 = !element_0.e2l_1;
              }
              if (tmp$ret$0) {
                tmp0_filterTo.b(element_0);
              }
            }
            tmp$ret$1 = tmp0_filterTo;
          }
          tmp$ret$2 = tmp$ret$1;
        }
        var tmp2_forEach = tmp$ret$2;
        var tmp0_iterator_1 = tmp2_forEach.h();
        while (tmp0_iterator_1.n()) {
          var element_1 = tmp0_iterator_1.o();
          {
            var tmp = element_1.f2l_1.b3();
            retainAll(tmp, KslProgram$prepareGenerate$lambda(this));
          }
        }
      }
      removeAll(this.l2k_1, KslProgram$prepareGenerate$lambda_0());
      var tmp_0 = this.m2k_1.b3();
      retainAll(tmp_0, KslProgram$prepareGenerate$lambda_1(this));
    }
  };
  KslProgram.$metadata$ = classMeta('KslProgram');
  function KslReturn(parentScope, returnValue) {
    KslStatement.call(this, 'return', parentScope);
    this.a3c_1 = returnValue;
    {
      var tmp0_check = parentScope.z3i();
      {
      }
      if (!tmp0_check) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'return can only be used within a function';
        }
        var message = tmp$ret$0;
        throw IllegalStateException_init_$Create$(toString(message));
      }
    }
    this.d3f(this.a3c_1);
  }
  KslReturn.prototype.v33 = function () {
    return 'return ' + this.a3c_1.v33() + ' // ' + this.w33();
  };
  KslReturn.$metadata$ = classMeta('KslReturn', undefined, undefined, undefined, undefined, KslStatement.prototype);
  function KslSampleColorTexture(sampler, coord, lod) {
    this.i37_1 = sampler;
    this.j37_1 = coord;
    this.k37_1 = lod;
    this.l37_1 = KslTypeFloat4_getInstance();
  }
  KslSampleColorTexture.prototype.d2m = function () {
    return this.l37_1;
  };
  KslSampleColorTexture.prototype.y3e = function () {
    var deps = plus(this.i37_1.y3e(), this.j37_1.y3e());
    var tmp0_safe_receiver = this.k37_1;
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        var tmp$ret$0;
        {
          tmp$ret$0 = plus(deps, tmp0_safe_receiver.y3e());
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp = tmp$ret$1;
    }
    var tmp1_elvis_lhs = tmp;
    return tmp1_elvis_lhs == null ? deps : tmp1_elvis_lhs;
  };
  KslSampleColorTexture.prototype.j36 = function (generator) {
    return generator.h37(this);
  };
  KslSampleColorTexture.prototype.v33 = function () {
    var tmp = this.i37_1.v33();
    var tmp_0 = this.j37_1.v33();
    var tmp0_safe_receiver = this.k37_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.v33();
    return tmp + '.sample(' + tmp_0 + ', lod=' + (tmp1_elvis_lhs == null ? '0' : tmp1_elvis_lhs) + ')';
  };
  KslSampleColorTexture.$metadata$ = classMeta('KslSampleColorTexture', [KslVectorExpression]);
  function KslScopeBuilder$getBlocks$lambda() {
    return function (it) {
      return it instanceof KslScopeBuilder;
    };
  }
  function KslScopeBuilder(parentOp, parentScope, parentStage) {
    KslScope.call(this, parentOp);
    this.w2v_1 = parentScope;
    this.x2v_1 = parentStage;
  }
  KslScopeBuilder.prototype.a3j = function () {
    return this.x2v_1;
  };
  KslScopeBuilder.prototype.v3h = function () {
    var tmp$ret$0;
    {
      var parent = this.b3j();
      $l$loop: while (true) {
        var tmp;
        if (!(parent instanceof FunctionRoot)) {
          tmp = !(parent == null);
        } else {
          tmp = false;
        }
        if (!tmp) {
          break $l$loop;
        }
        parent = parent.d30_1.t2l_1;
      }
      tmp$ret$0 = parent instanceof FunctionRoot ? parent : null;
    }
    var tmp0_safe_receiver = tmp$ret$0;
    return tmp0_safe_receiver == null ? null : tmp0_safe_receiver.m3h_1;
  };
  KslScopeBuilder.prototype.z3i = function () {
    return !(this.v3h() == null);
  };
  KslScopeBuilder.prototype.x2x = function (prefix) {
    return this.x2v_1.k2l_1.x2x(prefix);
  };
  KslScopeBuilder.prototype.t30 = function (name, result) {
    {
      var tmp0_forEach = this.y33();
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var tmp;
          if (element instanceof KslBlock) {
            tmp = name == null ? true : element.c30_1 === name;
          } else {
            tmp = false;
          }
          if (tmp) {
            {
              var tmp0_plusAssign = element;
              result.b(tmp0_plusAssign);
            }
          }
          {
            var tmp$ret$0;
            {
              var tmp1_filterIsInstance = asSequence(element.g30_1);
              var tmp_0 = filter(tmp1_filterIsInstance, KslScopeBuilder$getBlocks$lambda());
              tmp$ret$0 = isInterface(tmp_0, Sequence) ? tmp_0 : THROW_CCE();
            }
            var tmp2_forEach = tmp$ret$0;
            var tmp0_iterator_0 = tmp2_forEach.h();
            while (tmp0_iterator_0.n()) {
              var element_0 = tmp0_iterator_0.o();
              {
                element_0.t30(name, result);
              }
            }
          }
        }
      }
    }
    return result;
  };
  KslScopeBuilder.prototype.c3j = function (_this__u8e3s4) {
    return new KslValueFloat1(_this__u8e3s4);
  };
  KslScopeBuilder.prototype.p34 = function (_this__u8e3s4) {
    return new KslValueFloat1(_this__u8e3s4);
  };
  KslScopeBuilder.prototype.d3j = function (_this__u8e3s4) {
    return KslValueFloat2_init_$Create$(_this__u8e3s4, _this__u8e3s4);
  };
  KslScopeBuilder.prototype.e3j = function (_this__u8e3s4) {
    return KslValueFloat4_init_$Create$(_this__u8e3s4, _this__u8e3s4, _this__u8e3s4, _this__u8e3s4);
  };
  KslScopeBuilder.prototype.f3j = function (_this__u8e3s4) {
    return new KslValueInt1(_this__u8e3s4);
  };
  KslScopeBuilder.prototype.g3j = function (_this__u8e3s4) {
    return new KslValueUint1(_this__u8e3s4);
  };
  KslScopeBuilder.prototype.l32 = function (_this__u8e3s4) {
    return this.h3j(_this__u8e3s4.z1z(), _this__u8e3s4.b20(), _this__u8e3s4.s2d());
  };
  KslScopeBuilder.prototype.x31 = function (_this__u8e3s4) {
    return this.i3j(_this__u8e3s4.z1z(), _this__u8e3s4.b20(), _this__u8e3s4.s2d(), _this__u8e3s4.m2i());
  };
  KslScopeBuilder.prototype.j3j = function (x, y) {
    return new KslValueFloat2(x, y);
  };
  KslScopeBuilder.prototype.h3j = function (x, y, z) {
    return KslValueFloat3_init_$Create$(x, y, z);
  };
  KslScopeBuilder.prototype.k3j = function (x, y, z) {
    return new KslValueFloat3(x, y, z);
  };
  KslScopeBuilder.prototype.i3j = function (x, y, z, w) {
    return KslValueFloat4_init_$Create$(x, y, z, w);
  };
  KslScopeBuilder.prototype.l3j = function (x, y, z, w) {
    return new KslValueFloat4(x, y, z, w);
  };
  KslScopeBuilder.prototype.s2w = function (xyz, w) {
    return this.m3j(xyz, this.p34(w));
  };
  KslScopeBuilder.prototype.m3j = function (xyz, w) {
    return new KslValueFloat4(get_x(xyz), get_y(xyz), get_z(xyz), w);
  };
  KslScopeBuilder.prototype.n3j = function (x, y) {
    return new KslValueInt2(x, y);
  };
  KslScopeBuilder.prototype.o3j = function (initValue, name) {
    var tmp$ret$0;
    {
      var tmp0_elvis_lhs = name;
      var tmp0_also = new KslVarScalar(tmp0_elvis_lhs == null ? this.x2x('f1') : tmp0_elvis_lhs, KslTypeFloat1_getInstance(), true);
      {
      }
      {
        var tmp0_this = this;
        {
          var tmp0_plusAssign = tmp0_this.y33();
          var tmp1_plusAssign = new KslDeclareVar(tmp0_also, initValue, this);
          tmp0_plusAssign.b(tmp1_plusAssign);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  KslScopeBuilder.prototype.p3j = function (initValue, name, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      initValue = null;
    if (!(($mask0 & 2) === 0))
      name = null;
    return this.o3j(initValue, name);
  };
  KslScopeBuilder.prototype.q3j = function (initValue, name) {
    var tmp$ret$0;
    {
      var tmp0_elvis_lhs = name;
      var tmp0_also = new KslVarVector(tmp0_elvis_lhs == null ? this.x2x('f2') : tmp0_elvis_lhs, KslTypeFloat2_getInstance(), true);
      {
      }
      {
        var tmp0_this = this;
        {
          var tmp0_plusAssign = tmp0_this.y33();
          var tmp1_plusAssign = new KslDeclareVar(tmp0_also, initValue, this);
          tmp0_plusAssign.b(tmp1_plusAssign);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  KslScopeBuilder.prototype.r3j = function (initValue, name, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      initValue = null;
    if (!(($mask0 & 2) === 0))
      name = null;
    return this.q3j(initValue, name);
  };
  KslScopeBuilder.prototype.s3j = function (initValue, name) {
    var tmp$ret$0;
    {
      var tmp0_elvis_lhs = name;
      var tmp0_also = new KslVarVector(tmp0_elvis_lhs == null ? this.x2x('f3') : tmp0_elvis_lhs, KslTypeFloat3_getInstance(), true);
      {
      }
      {
        var tmp0_this = this;
        {
          var tmp0_plusAssign = tmp0_this.y33();
          var tmp1_plusAssign = new KslDeclareVar(tmp0_also, initValue, this);
          tmp0_plusAssign.b(tmp1_plusAssign);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  KslScopeBuilder.prototype.g2x = function (initValue, name, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      initValue = null;
    if (!(($mask0 & 2) === 0))
      name = null;
    return this.s3j(initValue, name);
  };
  KslScopeBuilder.prototype.t3j = function (initValue, name) {
    var tmp$ret$0;
    {
      var tmp0_elvis_lhs = name;
      var tmp0_also = new KslVarVector(tmp0_elvis_lhs == null ? this.x2x('f4') : tmp0_elvis_lhs, KslTypeFloat4_getInstance(), true);
      {
      }
      {
        var tmp0_this = this;
        {
          var tmp0_plusAssign = tmp0_this.y33();
          var tmp1_plusAssign = new KslDeclareVar(tmp0_also, initValue, this);
          tmp0_plusAssign.b(tmp1_plusAssign);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  KslScopeBuilder.prototype.k32 = function (initValue, name, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      initValue = null;
    if (!(($mask0 & 2) === 0))
      name = null;
    return this.t3j(initValue, name);
  };
  KslScopeBuilder.prototype.u3j = function (initValue, name) {
    var tmp$ret$0;
    {
      var tmp0_elvis_lhs = name;
      var tmp0_also = new KslVarScalar(tmp0_elvis_lhs == null ? this.x2x('i1') : tmp0_elvis_lhs, KslTypeInt1_getInstance(), true);
      {
      }
      {
        var tmp0_this = this;
        {
          var tmp0_plusAssign = tmp0_this.y33();
          var tmp1_plusAssign = new KslDeclareVar(tmp0_also, initValue, this);
          tmp0_plusAssign.b(tmp1_plusAssign);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  KslScopeBuilder.prototype.v3j = function (initValue, name, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      initValue = null;
    if (!(($mask0 & 2) === 0))
      name = null;
    return this.u3j(initValue, name);
  };
  KslScopeBuilder.prototype.w3j = function (initValue, name) {
    var tmp$ret$0;
    {
      var tmp0_elvis_lhs = name;
      var tmp0_also = new KslVarScalar(tmp0_elvis_lhs == null ? this.x2x('u1') : tmp0_elvis_lhs, KslTypeUint1_getInstance(), true);
      {
      }
      {
        var tmp0_this = this;
        {
          var tmp0_plusAssign = tmp0_this.y33();
          var tmp1_plusAssign = new KslDeclareVar(tmp0_also, initValue, this);
          tmp0_plusAssign.b(tmp1_plusAssign);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  KslScopeBuilder.prototype.x3j = function (initValue, name, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      initValue = null;
    if (!(($mask0 & 2) === 0))
      name = null;
    return this.w3j(initValue, name);
  };
  KslScopeBuilder.prototype.y3j = function (initValue, name) {
    var tmp$ret$0;
    {
      var tmp0_elvis_lhs = name;
      var tmp0_also = new KslVarMatrix(tmp0_elvis_lhs == null ? this.x2x('m4') : tmp0_elvis_lhs, KslTypeMat4_getInstance(), true);
      {
      }
      {
        var tmp0_this = this;
        {
          var tmp0_plusAssign = tmp0_this.y33();
          var tmp1_plusAssign = new KslDeclareVar(tmp0_also, initValue, this);
          tmp0_plusAssign.b(tmp1_plusAssign);
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  KslScopeBuilder.prototype.y2v = function (initValue, name, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      initValue = null;
    if (!(($mask0 & 2) === 0))
      name = null;
    return this.y3j(initValue, name);
  };
  KslScopeBuilder.prototype.t2w = function (_this__u8e3s4, expression) {
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.y33();
      var tmp1_plusAssign = new KslAssign(_this__u8e3s4, expression, this);
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
  };
  KslScopeBuilder.prototype.z3j = function (condition, block) {
    var tmp$ret$0;
    {
      var tmp0_apply = new KslIf(condition, this);
      {
      }
      {
        block(tmp0_apply.i3a_1);
      }
      tmp$ret$0 = tmp0_apply;
    }
    var stmt = tmp$ret$0;
    var tmp0_this = this;
    {
      var tmp1_plusAssign = tmp0_this.y33();
      tmp1_plusAssign.b(stmt);
    }
    return stmt;
  };
  KslScopeBuilder.prototype.a3k = function (fromInclusive, toExclusive, block) {
    var i = this.v3j(fromInclusive, null, 2, null);
    this.b3k(i, lt(i, toExclusive), this.f3j(1), block);
  };
  KslScopeBuilder.prototype.b3k = function (loopVar, whileExpr, incExpr, block) {
    var tmp$ret$0;
    {
      var tmp0_apply = new KslLoopFor(loopVar, whileExpr, incExpr, this);
      {
      }
      {
        block(tmp0_apply.x3a_1, loopVar);
      }
      tmp$ret$0 = tmp0_apply;
    }
    var loop = tmp$ret$0;
    var tmp0_this = this;
    {
      var tmp1_plusAssign = tmp0_this.y33();
      tmp1_plusAssign.b(loop);
    }
  };
  KslScopeBuilder.prototype.c3k = function () {
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.y33();
      var tmp1_plusAssign = new KslDiscard(this);
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
  };
  KslScopeBuilder.prototype.d3k = function (boolVec) {
    return new KslBoolVectorExpr(boolVec, KslBoolVecOperator_All_getInstance());
  };
  KslScopeBuilder.prototype.a30 = function (_this__u8e3s4, expr) {
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.y33();
      var tmp1_plusAssign = new KslAugmentedAssign(_this__u8e3s4, KslMathOperator_Plus_getInstance(), expr, this);
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
  };
  KslScopeBuilder.prototype.b30 = function (_this__u8e3s4, expr) {
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.y33();
      var tmp1_plusAssign = new KslAugmentedAssign(_this__u8e3s4, KslMathOperator_Minus_getInstance(), expr, this);
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
  };
  KslScopeBuilder.prototype.l2w = function (_this__u8e3s4, expr) {
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.y33();
      var tmp1_plusAssign = new KslAugmentedAssign(_this__u8e3s4, KslMathOperator_Times_getInstance(), expr, this);
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
  };
  KslScopeBuilder.prototype.e3k = function (_this__u8e3s4, args) {
    return new KslInvokeFunctionScalar(_this__u8e3s4, this, _this__u8e3s4.r34_1, args.slice());
  };
  KslScopeBuilder.prototype.e34 = function (_this__u8e3s4, args) {
    return new KslInvokeFunctionVector(_this__u8e3s4, this, _this__u8e3s4.r34_1, args.slice());
  };
  KslScopeBuilder.prototype.f3k = function (value) {
    return new KslBuiltinAbsScalar(value);
  };
  KslScopeBuilder.prototype.g3k = function (value, min, max) {
    return new KslBuiltinClampScalar(value, min, max);
  };
  KslScopeBuilder.prototype.h3k = function (a, b) {
    return new KslBuiltinCross(a, b);
  };
  KslScopeBuilder.prototype.i3k = function (a, b) {
    return new KslBuiltinDot(a, b);
  };
  KslScopeBuilder.prototype.j3k = function (value) {
    return new KslBuiltinFloorScalar(value);
  };
  KslScopeBuilder.prototype.k3k = function (vec) {
    return new KslBuiltinFloorVector(vec);
  };
  KslScopeBuilder.prototype.l3k = function (arg) {
    return new KslBuiltinLength(arg);
  };
  KslScopeBuilder.prototype.m3k = function (a, b) {
    return new KslBuiltinMaxScalar(a, b);
  };
  KslScopeBuilder.prototype.n3k = function (arg) {
    return new KslBuiltinNormalize(arg);
  };
  KslScopeBuilder.prototype.o3k = function (value, power) {
    return new KslBuiltinPowScalar(value, power);
  };
  KslScopeBuilder.prototype.m32 = function (vec, power) {
    return new KslBuiltinPowVector(vec, power);
  };
  KslScopeBuilder.prototype.p3k = function (value) {
    return new KslBuiltinSqrtScalar(value);
  };
  KslScopeBuilder.prototype.q3k = function (vec) {
    return new KslBuiltinTruncVector(vec);
  };
  KslScopeBuilder.prototype.r3k = function (value) {
    return new KslBuiltinTrigonometryScalar(value, 'cos');
  };
  KslScopeBuilder.prototype.s3k = function (value) {
    return new KslBuiltinTrigonometryScalar(value, 'sin');
  };
  KslScopeBuilder.prototype.t3k = function (sampler, coord, lod) {
    return new KslSampleColorTexture(sampler, coord, lod);
  };
  KslScopeBuilder.prototype.j32 = function (sampler, coord, lod, $mask0, $handler) {
    if (!(($mask0 & 4) === 0))
      lod = null;
    return this.t3k(sampler, coord, lod);
  };
  KslScopeBuilder.prototype.u3k = function (sampler, coord, lod) {
    return new KslTexelFetch(sampler, coord, lod);
  };
  KslScopeBuilder.prototype.v3k = function (sampler, coord, lod, $mask0, $handler) {
    if (!(($mask0 & 4) === 0))
      lod = null;
    return this.u3k(sampler, coord, lod);
  };
  KslScopeBuilder.prototype.w3k = function (sampler, lod) {
    return new KslTextureSize2d(sampler, lod);
  };
  KslScopeBuilder.prototype.x3k = function (sampler, lod, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      lod = this.f3j(0);
    return this.w3k(sampler, lod);
  };
  KslScopeBuilder.$metadata$ = classMeta('KslScopeBuilder', undefined, undefined, undefined, undefined, KslScope.prototype);
  function attribVector($this, name, type, rate) {
    var tmp$ret$2;
    {
      var tmp0_elvis_lhs = $this.v2o_1.z2(name);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            tmp$ret$0 = new KslVertexAttributeVector(new KslVarVector(name, type, false), rate);
          }
          var tmp0_also = tmp$ret$0;
          {
          }
          {
            {
              var tmp0_set = $this.v2o_1;
              tmp0_set.a(name, tmp0_also);
            }
            var tmp0_this = $this.s3i();
            {
              var tmp1_plusAssign = tmp0_this.g3h();
              var tmp2_plusAssign = tmp0_also.v2p_1;
              tmp1_plusAssign.b(tmp2_plusAssign);
            }
          }
          tmp$ret$1 = tmp0_also;
        }
        tmp = tmp$ret$1;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var attribute = tmp;
      if (!(attribute instanceof KslVertexAttributeVector)) {
        throw IllegalStateException_init_$Create$('Existing attribute with name "' + name + '" has not the expected type');
      }
      tmp$ret$2 = attribute;
    }
    return tmp$ret$2;
  }
  function attribMatrix($this, name, type, rate) {
    var tmp$ret$2;
    {
      var tmp0_elvis_lhs = $this.v2o_1.z2(name);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            tmp$ret$0 = new KslVertexAttributeMatrix(new KslVarMatrix(name, type, false), rate);
          }
          var tmp0_also = tmp$ret$0;
          {
          }
          {
            {
              var tmp0_set = $this.v2o_1;
              tmp0_set.a(name, tmp0_also);
            }
            var tmp0_this = $this.s3i();
            {
              var tmp1_plusAssign = tmp0_this.g3h();
              var tmp2_plusAssign = tmp0_also.v2p_1;
              tmp1_plusAssign.b(tmp2_plusAssign);
            }
          }
          tmp$ret$1 = tmp0_also;
        }
        tmp = tmp$ret$1;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var attribute = tmp;
      if (!(attribute instanceof KslVertexAttributeMatrix)) {
        throw IllegalStateException_init_$Create$('Existing attribute with name "' + name + '" has not the expected type');
      }
      tmp$ret$2 = attribute;
    }
    return tmp$ret$2;
  }
  function Companion_15() {
    Companion_instance_15 = this;
    this.z3k_1 = 'inVertexIndex';
    this.a3l_1 = 'inInstanceIndex';
    this.b3l_1 = 'outPosition';
    this.c3l_1 = 'outPointSize';
  }
  Companion_15.$metadata$ = objectMeta('Companion');
  var Companion_instance_15;
  function Companion_getInstance_15() {
    if (Companion_instance_15 == null)
      new Companion_15();
    return Companion_instance_15;
  }
  function KslVertexStage(program) {
    Companion_getInstance_15();
    KslShaderStage.call(this, program, KslShaderStageType_VertexShader_getInstance());
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.v2o_1 = tmp$ret$0;
    var tmp_0 = this;
    Companion_getInstance_15();
    tmp_0.w2o_1 = new KslStageInputScalar(new KslVarScalar('inVertexIndex', KslTypeInt1_getInstance(), false));
    var tmp_1 = this;
    Companion_getInstance_15();
    tmp_1.x2o_1 = new KslStageInputScalar(new KslVarScalar('inInstanceIndex', KslTypeInt1_getInstance(), false));
    var tmp_2 = this;
    Companion_getInstance_15();
    tmp_2.y2o_1 = new KslStageOutputVector(new KslVarVector('outPosition', KslTypeFloat4_getInstance(), true));
    var tmp_3 = this;
    Companion_getInstance_15();
    tmp_3.z2o_1 = new KslStageOutputScalar(new KslVarScalar('outPointSize', KslTypeFloat1_getInstance(), true));
    var tmp0_this = this.s3i();
    {
      var tmp0_plusAssign = tmp0_this.g3h();
      var tmp1_plusAssign = this.w2o_1.l2();
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
    var tmp1_this = this.s3i();
    {
      var tmp2_plusAssign = tmp1_this.g3h();
      var tmp3_plusAssign = this.x2o_1.l2();
      tmp2_plusAssign.b(tmp3_plusAssign);
    }
    var tmp2_this = this.s3i();
    {
      var tmp4_plusAssign = tmp2_this.g3h();
      var tmp5_plusAssign = this.y2o_1.l2();
      tmp4_plusAssign.b(tmp5_plusAssign);
    }
    var tmp3_this = this.s3i();
    {
      var tmp6_plusAssign = tmp3_this.g3h();
      var tmp7_plusAssign = this.z2o_1.l2();
      tmp6_plusAssign.b(tmp7_plusAssign);
    }
  }
  KslVertexStage.prototype.i3l = function () {
    return this.v2o_1;
  };
  KslVertexStage.prototype.u35 = function (name) {
    return attribVector(this, name, KslTypeFloat2_getInstance(), KslInputRate_Vertex_getInstance());
  };
  KslVertexStage.prototype.r2w = function (name) {
    return attribVector(this, name, KslTypeFloat3_getInstance(), KslInputRate_Vertex_getInstance());
  };
  KslVertexStage.prototype.a34 = function (name) {
    return attribVector(this, name, KslTypeFloat4_getInstance(), KslInputRate_Vertex_getInstance());
  };
  KslVertexStage.prototype.j3l = function (name) {
    return attribVector(this, name, KslTypeFloat2_getInstance(), KslInputRate_Instance_getInstance());
  };
  KslVertexStage.prototype.b34 = function (name) {
    return attribVector(this, name, KslTypeFloat4_getInstance(), KslInputRate_Instance_getInstance());
  };
  KslVertexStage.prototype.k2w = function (name) {
    return attribMatrix(this, name, KslTypeMat4_getInstance(), KslInputRate_Instance_getInstance());
  };
  KslVertexStage.$metadata$ = classMeta('KslVertexStage', undefined, undefined, undefined, undefined, KslShaderStage.prototype);
  function Companion_16() {
    Companion_instance_16 = this;
    this.l3l_1 = 'inFragPosition';
    this.m3l_1 = 'inIsFrontFacing';
    this.n3l_1 = 'outDepth';
    this.o3l_1 = 'outColor_';
  }
  Companion_16.$metadata$ = objectMeta('Companion');
  var Companion_instance_16;
  function Companion_getInstance_16() {
    if (Companion_instance_16 == null)
      new Companion_16();
    return Companion_instance_16;
  }
  function KslFragmentStage(program) {
    Companion_getInstance_16();
    KslShaderStage.call(this, program, KslShaderStageType_FragmentShader_getInstance());
    var tmp = this;
    Companion_getInstance_16();
    tmp.p2x_1 = new KslStageInputVector(new KslVarVector('inFragPosition', KslTypeFloat4_getInstance(), false));
    var tmp_0 = this;
    Companion_getInstance_16();
    tmp_0.q2x_1 = new KslStageInputScalar(new KslVarScalar('inIsFrontFacing', KslTypeBool1_getInstance(), false));
    var tmp_1 = this;
    Companion_getInstance_16();
    tmp_1.r2x_1 = new KslStageOutputScalar(new KslVarScalar('outDepth', KslTypeFloat1_getInstance(), true));
    var tmp_2 = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp_2.s2x_1 = tmp$ret$0;
    var tmp0_this = this.s3i();
    {
      var tmp0_plusAssign = tmp0_this.g3h();
      var tmp1_plusAssign = this.p2x_1.l2();
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
    var tmp1_this = this.s3i();
    {
      var tmp2_plusAssign = tmp1_this.g3h();
      var tmp3_plusAssign = this.q2x_1.l2();
      tmp2_plusAssign.b(tmp3_plusAssign);
    }
    var tmp2_this = this.s3i();
    {
      var tmp4_plusAssign = tmp2_this.g3h();
      var tmp5_plusAssign = this.r2x_1.l2();
      tmp4_plusAssign.b(tmp5_plusAssign);
    }
  }
  KslFragmentStage.prototype.p3l = function () {
    return this.s2x_1;
  };
  KslFragmentStage.prototype.q3l = function (location) {
    Companion_getInstance_16();
    var name = 'outColor_' + location;
    var tmp$ret$2;
    {
      var tmp0_find = this.s2x_1;
      var tmp$ret$1;
      $l$block: {
        var tmp0_iterator = tmp0_find.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$0;
          {
            tmp$ret$0 = element.l2().r36() === name;
          }
          if (tmp$ret$0) {
            tmp$ret$1 = element;
            break $l$block;
          }
        }
        tmp$ret$1 = null;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    var tmp0_elvis_lhs = tmp$ret$2;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      var tmp$ret$3;
      {
        var tmp1_also = new KslStageOutputVector(new KslVarVector(name, KslTypeFloat4_getInstance(), true));
        {
        }
        {
          tmp1_also.r3l(location);
          var tmp0_this = this.s3i();
          {
            var tmp0_plusAssign = tmp0_this.g3h();
            var tmp1_plusAssign = tmp1_also.l2();
            tmp0_plusAssign.b(tmp1_plusAssign);
          }
          var tmp1_this = this;
          {
            var tmp2_plusAssign = tmp1_this.s2x_1;
            tmp2_plusAssign.b(tmp1_also);
          }
        }
        tmp$ret$3 = tmp1_also;
      }
      tmp = tmp$ret$3;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  };
  KslFragmentStage.prototype.s3l = function (_this__u8e3s4, rgb, a, location) {
    {
      var tmp = _this__u8e3s4.x2v_1;
      var tmp0_check = tmp instanceof KslFragmentStage;
      {
      }
      if (!tmp0_check) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'colorOutput is only available in fragment stage';
        }
        var message = tmp$ret$0;
        throw IllegalStateException_init_$Create$(toString(message));
      }
    }
    var outColor = _this__u8e3s4.x2v_1.q3l(location);
    _this__u8e3s4.t2w(get_rgb(outColor.l2()), rgb);
    _this__u8e3s4.t2w(get_a(outColor.l2()), a);
  };
  KslFragmentStage.prototype.t2x = function (_this__u8e3s4, rgb, a, location, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      a = _this__u8e3s4.p34(1.0);
    if (!(($mask0 & 4) === 0))
      location = 0;
    return this.s3l(_this__u8e3s4, rgb, a, location);
  };
  KslFragmentStage.prototype.t3l = function (_this__u8e3s4, value, location) {
    {
      var tmp = _this__u8e3s4.x2v_1;
      var tmp0_check = tmp instanceof KslFragmentStage;
      {
      }
      if (!tmp0_check) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'colorOutput is only available in fragment stage';
        }
        var message = tmp$ret$0;
        throw IllegalStateException_init_$Create$(toString(message));
      }
    }
    _this__u8e3s4.t2w(_this__u8e3s4.x2v_1.q3l(location), value);
  };
  KslFragmentStage.prototype.u3l = function (_this__u8e3s4, value, location, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      location = 0;
    return this.t3l(_this__u8e3s4, value, location);
  };
  KslFragmentStage.$metadata$ = classMeta('KslFragmentStage', undefined, undefined, undefined, undefined, KslShaderStage.prototype);
  function KslShaderStage(program, type) {
    this.k2l_1 = program;
    this.l2l_1 = type;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.m2l_1 = tmp$ret$0;
    this.n2l_1 = new KslScopeBuilder(null, null, this);
    this.o2l_1 = new KslOp('main', this.n2l_1);
    this.p2l_1 = new KslScopeBuilder(this.o2l_1, this.n2l_1, this);
    this.q2l_1 = new KslHierarchy(this.n2l_1);
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = LinkedHashMap_init_$Create$();
    }
    tmp_0.r2l_1 = tmp$ret$1;
    this.n2l_1.s3f('global');
    var tmp0_this = this.n2l_1;
    {
      var tmp0_plusAssign = tmp0_this.y33();
      var tmp1_plusAssign = this.o2l_1;
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
    var tmp1_this = this.o2l_1;
    {
      var tmp2_plusAssign = tmp1_this.g30_1;
      var tmp3_plusAssign = this.p2l_1;
      tmp2_plusAssign.b(tmp3_plusAssign);
    }
  }
  KslShaderStage.prototype.h2t = function () {
    return this.k2l_1;
  };
  KslShaderStage.prototype.y37 = function () {
    return this.m2l_1;
  };
  KslShaderStage.prototype.s3i = function () {
    return this.n2l_1;
  };
  KslShaderStage.prototype.s2l = function () {
    return this.p2l_1;
  };
  KslShaderStage.prototype.p2t = function () {
    return this.q2l_1;
  };
  KslShaderStage.prototype.k3l = function () {
    return this.r2l_1;
  };
  KslShaderStage.prototype.u2w = function (block) {
    {
    }
    var tmp$ret$0;
    {
      var tmp0_apply = this.p2l_1;
      {
      }
      block(tmp0_apply);
      tmp$ret$0 = tmp0_apply;
    }
  };
  KslShaderStage.prototype.u3h = function (name, function_0) {
    if (this.r2l_1.a3().p(name)) {
      throw IllegalStateException_init_$Create$('Function with name ' + name + ' is already defined');
    }
    {
      var tmp0_set = this.r2l_1;
      tmp0_set.a(name, function_0);
    }
  };
  KslShaderStage.prototype.t3i = function (uniform) {
    var tmp;
    var tmp$ret$1;
    {
      var tmp0_contains = this.p2l_1.z2l();
      var tmp1_contains = uniform.l2();
      var tmp$ret$0;
      {
        tmp$ret$0 = (isInterface(tmp0_contains, Map) ? tmp0_contains : THROW_CCE()).t2(tmp1_contains);
      }
      tmp$ret$1 = tmp$ret$0;
    }
    if (tmp$ret$1) {
      tmp = true;
    } else {
      var tmp$ret$2;
      $l$block_0: {
        var tmp2_any = this.r2l_1.b3();
        var tmp_0;
        if (isInterface(tmp2_any, Collection)) {
          tmp_0 = tmp2_any.q();
        } else {
          tmp_0 = false;
        }
        if (tmp_0) {
          tmp$ret$2 = false;
          break $l$block_0;
        }
        var tmp0_iterator = tmp2_any.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$5;
          {
            var tmp$ret$4;
            {
              var tmp0_contains_0 = element.y34_1.z2l();
              var tmp1_contains_0 = uniform.l2();
              var tmp$ret$3;
              {
                tmp$ret$3 = (isInterface(tmp0_contains_0, Map) ? tmp0_contains_0 : THROW_CCE()).t2(tmp1_contains_0);
              }
              tmp$ret$4 = tmp$ret$3;
            }
            tmp$ret$5 = tmp$ret$4;
          }
          if (tmp$ret$5) {
            tmp$ret$2 = true;
            break $l$block_0;
          }
        }
        tmp$ret$2 = false;
      }
      tmp = tmp$ret$2;
    }
    return tmp;
  };
  KslShaderStage.prototype.v37 = function () {
    var tmp$ret$2;
    {
      var tmp0_filter = this.k2l_1.m2k_1.b3();
      var tmp$ret$1;
      {
        var tmp0_filterTo = ArrayList_init_$Create$_0();
        var tmp0_iterator = tmp0_filter.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$0;
          {
            tmp$ret$0 = this.t3i(element);
          }
          if (tmp$ret$0) {
            tmp0_filterTo.b(element);
          }
        }
        tmp$ret$1 = tmp0_filterTo;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    return tmp$ret$2;
  };
  KslShaderStage.prototype.x37 = function () {
    var tmp$ret$4;
    {
      var tmp0_filter = this.k2l_1.l2k_1;
      var tmp$ret$3;
      {
        var tmp0_filterTo = ArrayList_init_$Create$_0();
        var tmp0_iterator = tmp0_filter.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$2;
          {
            var tmp$ret$0;
            $l$block_0: {
              var tmp0_any = element.f2l_1.b3();
              var tmp;
              if (isInterface(tmp0_any, Collection)) {
                tmp = tmp0_any.q();
              } else {
                tmp = false;
              }
              if (tmp) {
                tmp$ret$0 = false;
                break $l$block_0;
              }
              var tmp0_iterator_0 = tmp0_any.h();
              while (tmp0_iterator_0.n()) {
                var element_0 = tmp0_iterator_0.o();
                var tmp$ret$1;
                {
                  tmp$ret$1 = this.t3i(element_0);
                }
                if (tmp$ret$1) {
                  tmp$ret$0 = true;
                  break $l$block_0;
                }
              }
              tmp$ret$0 = false;
            }
            tmp$ret$2 = tmp$ret$0;
          }
          if (tmp$ret$2) {
            tmp0_filterTo.b(element);
          }
        }
        tmp$ret$3 = tmp0_filterTo;
      }
      tmp$ret$4 = tmp$ret$3;
    }
    return tmp$ret$4;
  };
  KslShaderStage.prototype.o2t = function () {
    (new KslProcessor()).s3h(this.q2l_1);
    {
      var tmp0_forEach = this.r2l_1.b3();
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          element.o2t();
        }
      }
    }
  };
  KslShaderStage.$metadata$ = classMeta('KslShaderStage');
  var KslShaderStageType_VertexShader_instance;
  var KslShaderStageType_FragmentShader_instance;
  var KslShaderStageType_entriesInitialized;
  function KslShaderStageType_initEntries() {
    if (KslShaderStageType_entriesInitialized)
      return Unit_getInstance();
    KslShaderStageType_entriesInitialized = true;
    KslShaderStageType_VertexShader_instance = new KslShaderStageType('VertexShader', 0);
    KslShaderStageType_FragmentShader_instance = new KslShaderStageType('FragmentShader', 1);
  }
  function KslShaderStageType(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  KslShaderStageType.$metadata$ = classMeta('KslShaderStageType', undefined, undefined, undefined, undefined, Enum.prototype);
  function KslShaderStageType_VertexShader_getInstance() {
    KslShaderStageType_initEntries();
    return KslShaderStageType_VertexShader_instance;
  }
  function KslShaderStageType_FragmentShader_getInstance() {
    KslShaderStageType_initEntries();
    return KslShaderStageType_FragmentShader_instance;
  }
  function KslStageInputScalar(value) {
    KslStageInput.call(this, value);
  }
  KslStageInputScalar.$metadata$ = classMeta('KslStageInputScalar', [KslScalarExpression], undefined, undefined, undefined, KslStageInput.prototype);
  function KslStageInputVector(value) {
    KslStageInput.call(this, value);
  }
  KslStageInputVector.$metadata$ = classMeta('KslStageInputVector', [KslVectorExpression], undefined, undefined, undefined, KslStageInput.prototype);
  function KslStageInput(value) {
    this.d3l_1 = value;
  }
  KslStageInput.prototype.l2 = function () {
    return this.d3l_1;
  };
  KslStageInput.prototype.d2m = function () {
    return this.d3l_1.d2m();
  };
  KslStageInput.prototype.y3e = function () {
    return this.d3l_1.y3e();
  };
  KslStageInput.prototype.j36 = function (generator) {
    return this.d3l_1.j36(generator);
  };
  KslStageInput.prototype.v33 = function () {
    return this.d3l_1.v33();
  };
  KslStageInput.$metadata$ = classMeta('KslStageInput', [KslExpression]);
  function KslStageOutputVector(value) {
    KslStageOutput.call(this, value);
  }
  KslStageOutputVector.prototype.l2 = function () {
    var tmp = KslStageOutput.prototype.l2.call(this);
    return tmp instanceof KslVarVector ? tmp : THROW_CCE();
  };
  KslStageOutputVector.$metadata$ = classMeta('KslStageOutputVector', [KslVectorExpression], undefined, undefined, undefined, KslStageOutput.prototype);
  function KslStageOutputScalar(value) {
    KslStageOutput.call(this, value);
  }
  KslStageOutputScalar.prototype.l2 = function () {
    var tmp = KslStageOutput.prototype.l2.call(this);
    return tmp instanceof KslVarScalar ? tmp : THROW_CCE();
  };
  KslStageOutputScalar.$metadata$ = classMeta('KslStageOutputScalar', [KslScalarExpression], undefined, undefined, undefined, KslStageOutput.prototype);
  function KslStageOutput(value) {
    this.j38_1 = value;
    this.k38_1 = -1;
  }
  KslStageOutput.prototype.l2 = function () {
    return this.j38_1;
  };
  KslStageOutput.prototype.d2m = function () {
    return this.j38_1.d2m();
  };
  KslStageOutput.prototype.y3e = function () {
    return this.j38_1.y3e();
  };
  KslStageOutput.prototype.j36 = function (generator) {
    return this.j38_1.j36(generator);
  };
  KslStageOutput.prototype.b3f = function () {
    return this.j38_1.b3f();
  };
  KslStageOutput.prototype.c3f = function (scopeBuilder) {
    this.j38_1.c3f(scopeBuilder);
  };
  KslStageOutput.prototype.m39 = function (generator) {
    return this.j38_1.m39(generator);
  };
  KslStageOutput.prototype.r3l = function (_set____db54di) {
    this.k38_1 = _set____db54di;
  };
  KslStageOutput.prototype.v3l = function () {
    return this.k38_1;
  };
  KslStageOutput.prototype.v33 = function () {
    return this.l2().v33();
  };
  KslStageOutput.$metadata$ = classMeta('KslStageOutput', [KslExpression, KslAssignable]);
  function KslStatement(opName, parentScopeBuilder) {
    KslOp.call(this, opName, parentScopeBuilder);
    this.n33_1 = parentScopeBuilder;
  }
  KslStatement.prototype.o33 = function () {
    return this.n33_1;
  };
  KslStatement.prototype.d3f = function (expression) {
    {
      var tmp0_forEach = expression.y3e();
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          {
            var tmp0_set = this.z2l();
            var tmp1_set = element.f3f_1;
            tmp0_set.a(tmp1_set, element);
          }
        }
      }
    }
  };
  KslStatement.$metadata$ = classMeta('KslStatement', undefined, undefined, undefined, undefined, KslOp.prototype);
  function KslTexelFetch(sampler, coord, lod) {
    this.r37_1 = sampler;
    this.s37_1 = coord;
    this.t37_1 = lod;
    this.u37_1 = KslTypeFloat4_getInstance();
  }
  KslTexelFetch.prototype.d2m = function () {
    return this.u37_1;
  };
  KslTexelFetch.prototype.y3e = function () {
    var deps = plus(this.r37_1.y3e(), this.s37_1.y3e());
    var tmp0_safe_receiver = this.t37_1;
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        var tmp$ret$0;
        {
          tmp$ret$0 = plus(deps, tmp0_safe_receiver.y3e());
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp = tmp$ret$1;
    }
    var tmp1_elvis_lhs = tmp;
    return tmp1_elvis_lhs == null ? deps : tmp1_elvis_lhs;
  };
  KslTexelFetch.prototype.j36 = function (generator) {
    return generator.q37(this);
  };
  KslTexelFetch.prototype.v33 = function () {
    var tmp = this.r37_1.v33();
    var tmp_0 = this.s37_1.v33();
    var tmp0_safe_receiver = this.t37_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.v33();
    return tmp + '.texelFetch(' + tmp_0 + ', lod=' + (tmp1_elvis_lhs == null ? '0' : tmp1_elvis_lhs) + ')';
  };
  KslTexelFetch.$metadata$ = classMeta('KslTexelFetch', [KslVectorExpression]);
  function KslTextureSize2d(sampler, lod) {
    KslTextureSize.call(this, sampler, lod, KslTypeInt2_getInstance());
  }
  KslTextureSize2d.$metadata$ = classMeta('KslTextureSize2d', [KslVectorExpression], undefined, undefined, undefined, KslTextureSize.prototype);
  function KslTextureSize(sampler, lod, expressionType) {
    this.n37_1 = sampler;
    this.o37_1 = lod;
    this.p37_1 = expressionType;
  }
  KslTextureSize.prototype.d2m = function () {
    return this.p37_1;
  };
  KslTextureSize.prototype.y3e = function () {
    return this.n37_1.y3e();
  };
  KslTextureSize.prototype.j36 = function (generator) {
    return generator.m37(this);
  };
  KslTextureSize.prototype.v33 = function () {
    return 'textureSize(' + this.n37_1.v33() + ')';
  };
  KslTextureSize.$metadata$ = classMeta('KslTextureSize', [KslExpression]);
  function KslTypeFloat2() {
    KslTypeFloat2_instance = this;
    KslFloatType.call(this, 'float2');
  }
  KslTypeFloat2.$metadata$ = objectMeta('KslTypeFloat2', [KslVector2], undefined, undefined, undefined, KslFloatType.prototype);
  var KslTypeFloat2_instance;
  function KslTypeFloat2_getInstance() {
    if (KslTypeFloat2_instance == null)
      new KslTypeFloat2();
    return KslTypeFloat2_instance;
  }
  function KslTypeFloat1() {
    KslTypeFloat1_instance = this;
    KslFloatType.call(this, 'float1');
  }
  KslTypeFloat1.$metadata$ = objectMeta('KslTypeFloat1', [KslScalar], undefined, undefined, undefined, KslFloatType.prototype);
  var KslTypeFloat1_instance;
  function KslTypeFloat1_getInstance() {
    if (KslTypeFloat1_instance == null)
      new KslTypeFloat1();
    return KslTypeFloat1_instance;
  }
  function KslTypeMat4() {
    KslTypeMat4_instance = this;
    KslFloatType.call(this, 'mat4');
  }
  KslTypeMat4.$metadata$ = objectMeta('KslTypeMat4', [KslMatrix], undefined, undefined, undefined, KslFloatType.prototype);
  var KslTypeMat4_instance;
  function KslTypeMat4_getInstance() {
    if (KslTypeMat4_instance == null)
      new KslTypeMat4();
    return KslTypeMat4_instance;
  }
  function KslTypeFloat4() {
    KslTypeFloat4_instance = this;
    KslFloatType.call(this, 'float4');
  }
  KslTypeFloat4.$metadata$ = objectMeta('KslTypeFloat4', [KslVector4], undefined, undefined, undefined, KslFloatType.prototype);
  var KslTypeFloat4_instance;
  function KslTypeFloat4_getInstance() {
    if (KslTypeFloat4_instance == null)
      new KslTypeFloat4();
    return KslTypeFloat4_instance;
  }
  function KslTypeFloat3() {
    KslTypeFloat3_instance = this;
    KslFloatType.call(this, 'float3');
  }
  KslTypeFloat3.$metadata$ = objectMeta('KslTypeFloat3', [KslVector3], undefined, undefined, undefined, KslFloatType.prototype);
  var KslTypeFloat3_instance;
  function KslTypeFloat3_getInstance() {
    if (KslTypeFloat3_instance == null)
      new KslTypeFloat3();
    return KslTypeFloat3_instance;
  }
  function KslTypeColorSampler2d() {
    KslTypeColorSampler2d_instance = this;
    KslTypeColorSampler.call(this, 'sampler2d');
  }
  KslTypeColorSampler2d.$metadata$ = objectMeta('KslTypeColorSampler2d', [KslTypeSampler2d], undefined, undefined, undefined, KslTypeColorSampler.prototype);
  var KslTypeColorSampler2d_instance;
  function KslTypeColorSampler2d_getInstance() {
    if (KslTypeColorSampler2d_instance == null)
      new KslTypeColorSampler2d();
    return KslTypeColorSampler2d_instance;
  }
  function KslTypeInt2() {
    KslTypeInt2_instance = this;
    KslIntType.call(this, 'int2');
  }
  KslTypeInt2.$metadata$ = objectMeta('KslTypeInt2', [KslVector2], undefined, undefined, undefined, KslIntType.prototype);
  var KslTypeInt2_instance;
  function KslTypeInt2_getInstance() {
    if (KslTypeInt2_instance == null)
      new KslTypeInt2();
    return KslTypeInt2_instance;
  }
  function KslTypeInt1() {
    KslTypeInt1_instance = this;
    KslIntType.call(this, 'int1');
  }
  KslTypeInt1.$metadata$ = objectMeta('KslTypeInt1', [KslScalar], undefined, undefined, undefined, KslIntType.prototype);
  var KslTypeInt1_instance;
  function KslTypeInt1_getInstance() {
    if (KslTypeInt1_instance == null)
      new KslTypeInt1();
    return KslTypeInt1_instance;
  }
  function KslType(typeName) {
    this.e2m_1 = typeName;
  }
  KslType.prototype.w3l = function () {
    return this.e2m_1;
  };
  KslType.prototype.toString = function () {
    return this.e2m_1;
  };
  KslType.$metadata$ = classMeta('KslType');
  function KslTypeInt3() {
    KslTypeInt3_instance = this;
    KslIntType.call(this, 'int3');
  }
  KslTypeInt3.$metadata$ = objectMeta('KslTypeInt3', [KslVector3], undefined, undefined, undefined, KslIntType.prototype);
  var KslTypeInt3_instance;
  function KslTypeInt3_getInstance() {
    if (KslTypeInt3_instance == null)
      new KslTypeInt3();
    return KslTypeInt3_instance;
  }
  function KslTypeInt4() {
    KslTypeInt4_instance = this;
    KslIntType.call(this, 'int4');
  }
  KslTypeInt4.$metadata$ = objectMeta('KslTypeInt4', [KslVector4], undefined, undefined, undefined, KslIntType.prototype);
  var KslTypeInt4_instance;
  function KslTypeInt4_getInstance() {
    if (KslTypeInt4_instance == null)
      new KslTypeInt4();
    return KslTypeInt4_instance;
  }
  function KslTypeMat2() {
    KslTypeMat2_instance = this;
    KslFloatType.call(this, 'mat2');
  }
  KslTypeMat2.$metadata$ = objectMeta('KslTypeMat2', [KslMatrix], undefined, undefined, undefined, KslFloatType.prototype);
  var KslTypeMat2_instance;
  function KslTypeMat2_getInstance() {
    if (KslTypeMat2_instance == null)
      new KslTypeMat2();
    return KslTypeMat2_instance;
  }
  function KslTypeMat3() {
    KslTypeMat3_instance = this;
    KslFloatType.call(this, 'mat3');
  }
  KslTypeMat3.$metadata$ = objectMeta('KslTypeMat3', [KslMatrix], undefined, undefined, undefined, KslFloatType.prototype);
  var KslTypeMat3_instance;
  function KslTypeMat3_getInstance() {
    if (KslTypeMat3_instance == null)
      new KslTypeMat3();
    return KslTypeMat3_instance;
  }
  function KslTypeColorSampler1d() {
    KslTypeColorSampler1d_instance = this;
    KslTypeColorSampler.call(this, 'sampler1d');
  }
  KslTypeColorSampler1d.$metadata$ = objectMeta('KslTypeColorSampler1d', [KslTypeSampler1d], undefined, undefined, undefined, KslTypeColorSampler.prototype);
  var KslTypeColorSampler1d_instance;
  function KslTypeColorSampler1d_getInstance() {
    if (KslTypeColorSampler1d_instance == null)
      new KslTypeColorSampler1d();
    return KslTypeColorSampler1d_instance;
  }
  function KslTypeColorSampler3d() {
    KslTypeColorSampler3d_instance = this;
    KslTypeColorSampler.call(this, 'sampler3d');
  }
  KslTypeColorSampler3d.$metadata$ = objectMeta('KslTypeColorSampler3d', [KslTypeSampler3d], undefined, undefined, undefined, KslTypeColorSampler.prototype);
  var KslTypeColorSampler3d_instance;
  function KslTypeColorSampler3d_getInstance() {
    if (KslTypeColorSampler3d_instance == null)
      new KslTypeColorSampler3d();
    return KslTypeColorSampler3d_instance;
  }
  function KslTypeColorSamplerCube() {
    KslTypeColorSamplerCube_instance = this;
    KslTypeColorSampler.call(this, 'samplerCube');
  }
  KslTypeColorSamplerCube.$metadata$ = objectMeta('KslTypeColorSamplerCube', [KslTypeSamplerCube], undefined, undefined, undefined, KslTypeColorSampler.prototype);
  var KslTypeColorSamplerCube_instance;
  function KslTypeColorSamplerCube_getInstance() {
    if (KslTypeColorSamplerCube_instance == null)
      new KslTypeColorSamplerCube();
    return KslTypeColorSamplerCube_instance;
  }
  function KslTypeDepthSampler2d() {
    KslTypeDepthSampler2d_instance = this;
    KslTypeDepthSampler.call(this, 'depthSampler2d');
  }
  KslTypeDepthSampler2d.$metadata$ = objectMeta('KslTypeDepthSampler2d', [KslTypeSampler2d], undefined, undefined, undefined, KslTypeDepthSampler.prototype);
  var KslTypeDepthSampler2d_instance;
  function KslTypeDepthSampler2d_getInstance() {
    if (KslTypeDepthSampler2d_instance == null)
      new KslTypeDepthSampler2d();
    return KslTypeDepthSampler2d_instance;
  }
  function KslTypeDepthSamplerCube() {
    KslTypeDepthSamplerCube_instance = this;
    KslTypeDepthSampler.call(this, 'depthSamplerCube');
  }
  KslTypeDepthSamplerCube.$metadata$ = objectMeta('KslTypeDepthSamplerCube', [KslTypeSamplerCube], undefined, undefined, undefined, KslTypeDepthSampler.prototype);
  var KslTypeDepthSamplerCube_instance;
  function KslTypeDepthSamplerCube_getInstance() {
    if (KslTypeDepthSamplerCube_instance == null)
      new KslTypeDepthSamplerCube();
    return KslTypeDepthSamplerCube_instance;
  }
  function KslScalar() {
  }
  KslScalar.$metadata$ = interfaceMeta('KslScalar');
  function KslVector() {
  }
  KslVector.$metadata$ = interfaceMeta('KslVector');
  function KslTypeArray(elemType) {
    KslType.call(this, 'array<' + elemType.e2m_1 + '>');
    this.g2m_1 = elemType;
  }
  KslTypeArray.prototype.y3l = function () {
    return this.g2m_1;
  };
  KslTypeArray.$metadata$ = classMeta('KslTypeArray', undefined, undefined, undefined, undefined, KslType.prototype);
  function KslFloatType(typeName) {
    KslNumericType.call(this, typeName);
  }
  KslFloatType.$metadata$ = classMeta('KslFloatType', undefined, undefined, undefined, undefined, KslNumericType.prototype);
  function KslVector2() {
  }
  KslVector2.$metadata$ = interfaceMeta('KslVector2', [KslVector]);
  function KslMatrix() {
  }
  KslMatrix.$metadata$ = interfaceMeta('KslMatrix');
  function KslVector4() {
  }
  KslVector4.$metadata$ = interfaceMeta('KslVector4', [KslVector]);
  function KslVector3() {
  }
  KslVector3.$metadata$ = interfaceMeta('KslVector3', [KslVector]);
  function KslTypeColorSampler(typeName) {
    KslTypeSampler.call(this, typeName);
  }
  KslTypeColorSampler.$metadata$ = classMeta('KslTypeColorSampler', undefined, undefined, undefined, undefined, KslTypeSampler.prototype);
  function KslTypeSampler2d() {
  }
  KslTypeSampler2d.$metadata$ = interfaceMeta('KslTypeSampler2d');
  function KslIntType(typeName) {
    KslNumericType.call(this, typeName);
  }
  KslIntType.$metadata$ = classMeta('KslIntType', undefined, undefined, undefined, undefined, KslNumericType.prototype);
  function KslBoolType(typeName) {
    KslType.call(this, typeName);
  }
  KslBoolType.$metadata$ = classMeta('KslBoolType', undefined, undefined, undefined, undefined, KslType.prototype);
  function KslNumericType(typeName) {
    KslType.call(this, typeName);
  }
  KslNumericType.$metadata$ = classMeta('KslNumericType', undefined, undefined, undefined, undefined, KslType.prototype);
  function KslTypeSampler(typeName) {
    KslType.call(this, typeName);
  }
  KslTypeSampler.$metadata$ = classMeta('KslTypeSampler', undefined, undefined, undefined, undefined, KslType.prototype);
  function KslTypeVoid() {
    KslTypeVoid_instance = this;
    KslType.call(this, 'void');
  }
  KslTypeVoid.$metadata$ = objectMeta('KslTypeVoid', undefined, undefined, undefined, undefined, KslType.prototype);
  var KslTypeVoid_instance;
  function KslTypeVoid_getInstance() {
    if (KslTypeVoid_instance == null)
      new KslTypeVoid();
    return KslTypeVoid_instance;
  }
  function KslTypeSampler1d() {
  }
  KslTypeSampler1d.$metadata$ = interfaceMeta('KslTypeSampler1d');
  function KslTypeSampler3d() {
  }
  KslTypeSampler3d.$metadata$ = interfaceMeta('KslTypeSampler3d');
  function KslTypeSamplerCube() {
  }
  KslTypeSamplerCube.$metadata$ = interfaceMeta('KslTypeSamplerCube');
  function KslTypeDepthSampler(typeName) {
    KslTypeSampler.call(this, typeName);
  }
  KslTypeDepthSampler.$metadata$ = classMeta('KslTypeDepthSampler', undefined, undefined, undefined, undefined, KslTypeSampler.prototype);
  function KslTypeColorSampler2dArray() {
    KslTypeColorSampler2dArray_instance = this;
    KslTypeColorSampler.call(this, 'sampler2dArray');
  }
  KslTypeColorSampler2dArray.$metadata$ = objectMeta('KslTypeColorSampler2dArray', [KslTypeSampler2dArray], undefined, undefined, undefined, KslTypeColorSampler.prototype);
  var KslTypeColorSampler2dArray_instance;
  function KslTypeColorSampler2dArray_getInstance() {
    if (KslTypeColorSampler2dArray_instance == null)
      new KslTypeColorSampler2dArray();
    return KslTypeColorSampler2dArray_instance;
  }
  function KslTypeColorSamplerCubeArray() {
    KslTypeColorSamplerCubeArray_instance = this;
    KslTypeColorSampler.call(this, 'samplerCubeArray');
  }
  KslTypeColorSamplerCubeArray.$metadata$ = objectMeta('KslTypeColorSamplerCubeArray', [KslTypeSamplerCubeArray], undefined, undefined, undefined, KslTypeColorSampler.prototype);
  var KslTypeColorSamplerCubeArray_instance;
  function KslTypeColorSamplerCubeArray_getInstance() {
    if (KslTypeColorSamplerCubeArray_instance == null)
      new KslTypeColorSamplerCubeArray();
    return KslTypeColorSamplerCubeArray_instance;
  }
  function KslTypeUint1() {
    KslTypeUint1_instance = this;
    KslIntType.call(this, 'uint1');
  }
  KslTypeUint1.$metadata$ = objectMeta('KslTypeUint1', [KslScalar], undefined, undefined, undefined, KslIntType.prototype);
  var KslTypeUint1_instance;
  function KslTypeUint1_getInstance() {
    if (KslTypeUint1_instance == null)
      new KslTypeUint1();
    return KslTypeUint1_instance;
  }
  function KslTypeUint2() {
    KslTypeUint2_instance = this;
    KslIntType.call(this, 'uint2');
  }
  KslTypeUint2.$metadata$ = objectMeta('KslTypeUint2', [KslVector2], undefined, undefined, undefined, KslIntType.prototype);
  var KslTypeUint2_instance;
  function KslTypeUint2_getInstance() {
    if (KslTypeUint2_instance == null)
      new KslTypeUint2();
    return KslTypeUint2_instance;
  }
  function KslTypeUint3() {
    KslTypeUint3_instance = this;
    KslIntType.call(this, 'uint3');
  }
  KslTypeUint3.$metadata$ = objectMeta('KslTypeUint3', [KslVector3], undefined, undefined, undefined, KslIntType.prototype);
  var KslTypeUint3_instance;
  function KslTypeUint3_getInstance() {
    if (KslTypeUint3_instance == null)
      new KslTypeUint3();
    return KslTypeUint3_instance;
  }
  function KslTypeUint4() {
    KslTypeUint4_instance = this;
    KslIntType.call(this, 'uint4');
  }
  KslTypeUint4.$metadata$ = objectMeta('KslTypeUint4', [KslVector4], undefined, undefined, undefined, KslIntType.prototype);
  var KslTypeUint4_instance;
  function KslTypeUint4_getInstance() {
    if (KslTypeUint4_instance == null)
      new KslTypeUint4();
    return KslTypeUint4_instance;
  }
  function KslTypeBool1() {
    KslTypeBool1_instance = this;
    KslBoolType.call(this, 'bool1');
  }
  KslTypeBool1.$metadata$ = objectMeta('KslTypeBool1', [KslScalar], undefined, undefined, undefined, KslBoolType.prototype);
  var KslTypeBool1_instance;
  function KslTypeBool1_getInstance() {
    if (KslTypeBool1_instance == null)
      new KslTypeBool1();
    return KslTypeBool1_instance;
  }
  function KslTypeBool2() {
    KslTypeBool2_instance = this;
    KslBoolType.call(this, 'bool2');
  }
  KslTypeBool2.$metadata$ = objectMeta('KslTypeBool2', [KslVector2], undefined, undefined, undefined, KslBoolType.prototype);
  var KslTypeBool2_instance;
  function KslTypeBool2_getInstance() {
    if (KslTypeBool2_instance == null)
      new KslTypeBool2();
    return KslTypeBool2_instance;
  }
  function KslTypeBool3() {
    KslTypeBool3_instance = this;
    KslBoolType.call(this, 'bool3');
  }
  KslTypeBool3.$metadata$ = objectMeta('KslTypeBool3', [KslVector3], undefined, undefined, undefined, KslBoolType.prototype);
  var KslTypeBool3_instance;
  function KslTypeBool3_getInstance() {
    if (KslTypeBool3_instance == null)
      new KslTypeBool3();
    return KslTypeBool3_instance;
  }
  function KslTypeBool4() {
    KslTypeBool4_instance = this;
    KslBoolType.call(this, 'bool4');
  }
  KslTypeBool4.$metadata$ = objectMeta('KslTypeBool4', [KslVector4], undefined, undefined, undefined, KslBoolType.prototype);
  var KslTypeBool4_instance;
  function KslTypeBool4_getInstance() {
    if (KslTypeBool4_instance == null)
      new KslTypeBool4();
    return KslTypeBool4_instance;
  }
  function KslTypeDepthSampler2dArray() {
    KslTypeDepthSampler2dArray_instance = this;
    KslTypeDepthSampler.call(this, 'depthSampler2dArray');
  }
  KslTypeDepthSampler2dArray.$metadata$ = objectMeta('KslTypeDepthSampler2dArray', [KslTypeSampler2dArray], undefined, undefined, undefined, KslTypeDepthSampler.prototype);
  var KslTypeDepthSampler2dArray_instance;
  function KslTypeDepthSampler2dArray_getInstance() {
    if (KslTypeDepthSampler2dArray_instance == null)
      new KslTypeDepthSampler2dArray();
    return KslTypeDepthSampler2dArray_instance;
  }
  function KslTypeDepthSamplerCubeArray() {
    KslTypeDepthSamplerCubeArray_instance = this;
    KslTypeDepthSampler.call(this, 'depthSamplerCubeArray');
  }
  KslTypeDepthSamplerCubeArray.$metadata$ = objectMeta('KslTypeDepthSamplerCubeArray', [KslTypeSamplerCubeArray], undefined, undefined, undefined, KslTypeDepthSampler.prototype);
  var KslTypeDepthSamplerCubeArray_instance;
  function KslTypeDepthSamplerCubeArray_getInstance() {
    if (KslTypeDepthSamplerCubeArray_instance == null)
      new KslTypeDepthSamplerCubeArray();
    return KslTypeDepthSamplerCubeArray_instance;
  }
  function KslTypeSampler2dArray() {
  }
  KslTypeSampler2dArray.$metadata$ = interfaceMeta('KslTypeSampler2dArray');
  function KslTypeSamplerCubeArray() {
  }
  KslTypeSamplerCubeArray.$metadata$ = interfaceMeta('KslTypeSamplerCubeArray');
  function KslUniformMatrix(value) {
    KslUniform_init_$Init$(value, 0, 2, null, this);
  }
  KslUniformMatrix.$metadata$ = classMeta('KslUniformMatrix', [KslMatrixExpression], undefined, undefined, undefined, KslUniform.prototype);
  function KslUniformScalar(value) {
    KslUniform_init_$Init$(value, 0, 2, null, this);
  }
  KslUniformScalar.$metadata$ = classMeta('KslUniformScalar', [KslScalarExpression], undefined, undefined, undefined, KslUniform.prototype);
  function KslUniform_init_$Init$(value, arraySize, $mask0, $marker, $this) {
    if (!(($mask0 & 2) === 0))
      arraySize = -1;
    KslUniform.call($this, value, arraySize);
    return $this;
  }
  function KslUniform_init_$Create$(value, arraySize, $mask0, $marker) {
    return KslUniform_init_$Init$(value, arraySize, $mask0, $marker, Object.create(KslUniform.prototype));
  }
  function KslUniform(value, arraySize) {
    this.a2m_1 = value;
    this.b2m_1 = arraySize;
  }
  KslUniform.prototype.l2 = function () {
    return this.a2m_1;
  };
  KslUniform.prototype.f2t = function () {
    return this.b2m_1;
  };
  KslUniform.prototype.d2m = function () {
    return this.a2m_1.d2m();
  };
  KslUniform.prototype.y3e = function () {
    return this.a2m_1.y3e();
  };
  KslUniform.prototype.j36 = function (generator) {
    return this.a2m_1.j36(generator);
  };
  KslUniform.prototype.v33 = function () {
    return this.a2m_1.v33();
  };
  KslUniform.prototype.il = function () {
    return this.l2().r36();
  };
  KslUniform.$metadata$ = classMeta('KslUniform', [KslExpression]);
  function KslUniformVector(value) {
    KslUniform_init_$Init$(value, 0, 2, null, this);
  }
  KslUniformVector.$metadata$ = classMeta('KslUniformVector', [KslVectorExpression], undefined, undefined, undefined, KslUniform.prototype);
  function KslUniformVectorArray(value) {
    KslUniform.call(this, value, value.f2t());
  }
  KslUniformVectorArray.prototype.l2 = function () {
    var tmp = KslUniform.prototype.l2.call(this);
    return tmp instanceof KslArrayVector ? tmp : THROW_CCE();
  };
  KslUniformVectorArray.$metadata$ = classMeta('KslUniformVectorArray', [KslVectorArrayExpression], undefined, undefined, undefined, KslUniform.prototype);
  function KslUniformBuffer_init_$Init$(name, program, isShared, $mask0, $marker, $this) {
    if (!(($mask0 & 4) === 0))
      isShared = false;
    KslUniformBuffer.call($this, name, program, isShared);
    return $this;
  }
  function KslUniformBuffer_init_$Create$(name, program, isShared, $mask0, $marker) {
    return KslUniformBuffer_init_$Init$(name, program, isShared, $mask0, $marker, Object.create(KslUniformBuffer.prototype));
  }
  function registerUniform($this, uniform) {
    {
      var tmp0_set = $this.f2l_1;
      var tmp1_set = uniform.il();
      tmp0_set.a(tmp1_set, uniform);
    }
    {
      var tmp2_forEach = $this.d2l_1.q2k_1;
      var tmp0_iterator = tmp2_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var tmp0_this = element.n2l_1;
          {
            var tmp0_plusAssign = tmp0_this.g3h();
            var tmp1_plusAssign = uniform.l2();
            tmp0_plusAssign.b(tmp1_plusAssign);
          }
        }
      }
    }
  }
  function KslUniformBuffer(name, program, isShared) {
    this.c2l_1 = name;
    this.d2l_1 = program;
    this.e2l_1 = isShared;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.f2l_1 = tmp$ret$0;
  }
  KslUniformBuffer.prototype.il = function () {
    return this.c2l_1;
  };
  KslUniformBuffer.prototype.b3m = function () {
    return this.e2l_1;
  };
  KslUniformBuffer.prototype.i2t = function () {
    return this.f2l_1;
  };
  KslUniformBuffer.prototype.u3i = function (name) {
    var tmp$ret$2;
    {
      var tmp0_elvis_lhs = this.f2l_1.z2(name);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            tmp$ret$0 = new KslUniformScalar(new KslVarScalar(name, KslTypeFloat1_getInstance(), false));
          }
          var tmp0_also = tmp$ret$0;
          {
          }
          {
            registerUniform(this, tmp0_also);
          }
          tmp$ret$1 = tmp0_also;
        }
        tmp = tmp$ret$1;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var uniform = tmp;
      if (!(uniform instanceof KslUniformScalar)) {
        throw IllegalStateException_init_$Create$('Existing uniform with name "' + name + '" has not the expected type');
      }
      tmp$ret$2 = uniform;
    }
    return tmp$ret$2;
  };
  KslUniformBuffer.prototype.v3i = function (name) {
    var tmp$ret$2;
    {
      var tmp0_elvis_lhs = this.f2l_1.z2(name);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            tmp$ret$0 = new KslUniformVector(new KslVarVector(name, KslTypeFloat2_getInstance(), false));
          }
          var tmp0_also = tmp$ret$0;
          {
          }
          {
            registerUniform(this, tmp0_also);
          }
          tmp$ret$1 = tmp0_also;
        }
        tmp = tmp$ret$1;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var uniform = tmp;
      if (!(uniform instanceof KslUniformVector)) {
        throw IllegalStateException_init_$Create$('Existing uniform with name "' + name + '" has not the expected type');
      }
      tmp$ret$2 = uniform;
    }
    return tmp$ret$2;
  };
  KslUniformBuffer.prototype.b2y = function (name) {
    var tmp$ret$2;
    {
      var tmp0_elvis_lhs = this.f2l_1.z2(name);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            tmp$ret$0 = new KslUniformVector(new KslVarVector(name, KslTypeFloat4_getInstance(), false));
          }
          var tmp0_also = tmp$ret$0;
          {
          }
          {
            registerUniform(this, tmp0_also);
          }
          tmp$ret$1 = tmp0_also;
        }
        tmp = tmp$ret$1;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var uniform = tmp;
      if (!(uniform instanceof KslUniformVector)) {
        throw IllegalStateException_init_$Create$('Existing uniform with name "' + name + '" has not the expected type');
      }
      tmp$ret$2 = uniform;
    }
    return tmp$ret$2;
  };
  KslUniformBuffer.prototype.w3i = function (name, arraySize) {
    var tmp$ret$2;
    {
      var tmp0_elvis_lhs = this.f2l_1.z2(name);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            tmp$ret$0 = new KslUniformVectorArray(new KslArrayVector(name, KslTypeFloat2_getInstance(), arraySize, false));
          }
          var tmp0_also = tmp$ret$0;
          {
          }
          {
            registerUniform(this, tmp0_also);
          }
          tmp$ret$1 = tmp0_also;
        }
        tmp = tmp$ret$1;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var uniform = tmp;
      if (!(uniform instanceof KslUniformVectorArray)) {
        throw IllegalStateException_init_$Create$('Existing uniform with name "' + name + '" has not the expected type');
      }
      tmp$ret$2 = uniform;
    }
    return tmp$ret$2;
  };
  KslUniformBuffer.prototype.x3i = function (name) {
    var tmp$ret$2;
    {
      var tmp0_elvis_lhs = this.f2l_1.z2(name);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            tmp$ret$0 = new KslUniformScalar(new KslVarScalar(name, KslTypeInt1_getInstance(), false));
          }
          var tmp0_also = tmp$ret$0;
          {
          }
          {
            registerUniform(this, tmp0_also);
          }
          tmp$ret$1 = tmp0_also;
        }
        tmp = tmp$ret$1;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var uniform = tmp;
      if (!(uniform instanceof KslUniformScalar)) {
        throw IllegalStateException_init_$Create$('Existing uniform with name "' + name + '" has not the expected type');
      }
      tmp$ret$2 = uniform;
    }
    return tmp$ret$2;
  };
  KslUniformBuffer.prototype.y3i = function (name) {
    var tmp$ret$2;
    {
      var tmp0_elvis_lhs = this.f2l_1.z2(name);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            tmp$ret$0 = new KslUniformVector(new KslVarVector(name, KslTypeInt2_getInstance(), false));
          }
          var tmp0_also = tmp$ret$0;
          {
          }
          {
            registerUniform(this, tmp0_also);
          }
          tmp$ret$1 = tmp0_also;
        }
        tmp = tmp$ret$1;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var uniform = tmp;
      if (!(uniform instanceof KslUniformVector)) {
        throw IllegalStateException_init_$Create$('Existing uniform with name "' + name + '" has not the expected type');
      }
      tmp$ret$2 = uniform;
    }
    return tmp$ret$2;
  };
  KslUniformBuffer.prototype.c2y = function (name) {
    var tmp$ret$2;
    {
      var tmp0_elvis_lhs = this.f2l_1.z2(name);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            tmp$ret$0 = new KslUniformMatrix(new KslVarMatrix(name, KslTypeMat4_getInstance(), false));
          }
          var tmp0_also = tmp$ret$0;
          {
          }
          {
            registerUniform(this, tmp0_also);
          }
          tmp$ret$1 = tmp0_also;
        }
        tmp = tmp$ret$1;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var uniform = tmp;
      if (!(uniform instanceof KslUniformMatrix)) {
        throw IllegalStateException_init_$Create$('Existing uniform with name "' + name + '" has not the expected type');
      }
      tmp$ret$2 = uniform;
    }
    return tmp$ret$2;
  };
  KslUniformBuffer.$metadata$ = classMeta('KslUniformBuffer');
  function KslValue(stateName, isMutable) {
    KslState.call(this, stateName);
    this.x3e_1 = isMutable;
  }
  KslValue.prototype.y3e = function () {
    return setOf(this.z3e());
  };
  KslValue.prototype.j36 = function (generator) {
    return generator.d3d(this);
  };
  KslValue.$metadata$ = classMeta('KslValue', [KslExpression], undefined, undefined, undefined, KslState.prototype);
  function KslValueFloat4_init_$Init$(x, y, z, w, $this) {
    KslValueFloat4.call($this, new KslValueFloat1(x), new KslValueFloat1(y), new KslValueFloat1(z), new KslValueFloat1(w));
    return $this;
  }
  function KslValueFloat4_init_$Create$(x, y, z, w) {
    return KslValueFloat4_init_$Init$(x, y, z, w, Object.create(KslValueFloat4.prototype));
  }
  function KslValueFloat4(x, y, z, w) {
    KslValueExpression.call(this, KslTypeFloat4_getInstance());
    this.d3m_1 = x;
    this.e3m_1 = y;
    this.f3m_1 = z;
    this.g3m_1 = w;
  }
  KslValueFloat4.prototype.y3e = function () {
    var tmp$ret$2;
    {
      var tmp0_flatMap = listOf([this.d3m_1, this.e3m_1, this.f3m_1, this.g3m_1]);
      var tmp$ret$1;
      {
        var tmp0_flatMapTo = ArrayList_init_$Create$_0();
        var tmp0_iterator = tmp0_flatMap.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$0;
          {
            tmp$ret$0 = element.y3e();
          }
          var list = tmp$ret$0;
          addAll(tmp0_flatMapTo, list);
        }
        tmp$ret$1 = tmp0_flatMapTo;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    return toSet(tmp$ret$2);
  };
  KslValueFloat4.prototype.j36 = function (generator) {
    return generator.u36([this.d3m_1, this.e3m_1, this.f3m_1, this.g3m_1]);
  };
  KslValueFloat4.prototype.v33 = function () {
    return 'vec4(' + this.d3m_1.v33() + ', ' + this.e3m_1.v33() + ', ' + this.f3m_1.v33() + ', ' + this.g3m_1.v33() + ')';
  };
  KslValueFloat4.$metadata$ = classMeta('KslValueFloat4', [KslVectorExpression], undefined, undefined, undefined, KslValueExpression.prototype);
  function KslValueFloat1(value) {
    KslValueExpression.call(this, KslTypeFloat1_getInstance());
    this.j3m_1 = value;
  }
  KslValueFloat1.prototype.y3e = function () {
    return emptySet();
  };
  KslValueFloat1.prototype.j36 = function (generator) {
    return generator.c3d(this.j3m_1);
  };
  KslValueFloat1.prototype.v33 = function () {
    return '' + this.j3m_1;
  };
  KslValueFloat1.$metadata$ = classMeta('KslValueFloat1', [KslScalarExpression], undefined, undefined, undefined, KslValueExpression.prototype);
  function KslValueFloat2_init_$Init$(x, y, $this) {
    KslValueFloat2.call($this, new KslValueFloat1(x), new KslValueFloat1(y));
    return $this;
  }
  function KslValueFloat2_init_$Create$(x, y) {
    return KslValueFloat2_init_$Init$(x, y, Object.create(KslValueFloat2.prototype));
  }
  function KslValueFloat2(x, y) {
    KslValueExpression.call(this, KslTypeFloat2_getInstance());
    this.l3m_1 = x;
    this.m3m_1 = y;
  }
  KslValueFloat2.prototype.y3e = function () {
    var tmp$ret$2;
    {
      var tmp0_flatMap = listOf([this.l3m_1, this.m3m_1]);
      var tmp$ret$1;
      {
        var tmp0_flatMapTo = ArrayList_init_$Create$_0();
        var tmp0_iterator = tmp0_flatMap.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$0;
          {
            tmp$ret$0 = element.y3e();
          }
          var list = tmp$ret$0;
          addAll(tmp0_flatMapTo, list);
        }
        tmp$ret$1 = tmp0_flatMapTo;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    return toSet(tmp$ret$2);
  };
  KslValueFloat2.prototype.j36 = function (generator) {
    return generator.u36([this.l3m_1, this.m3m_1]);
  };
  KslValueFloat2.prototype.v33 = function () {
    return 'vec2(' + this.l3m_1.v33() + ', ' + this.m3m_1.v33() + ')';
  };
  KslValueFloat2.$metadata$ = classMeta('KslValueFloat2', [KslVectorExpression], undefined, undefined, undefined, KslValueExpression.prototype);
  function KslValueInt1(value) {
    KslValueExpression.call(this, KslTypeInt1_getInstance());
    this.o3m_1 = value;
  }
  KslValueInt1.prototype.y3e = function () {
    return emptySet();
  };
  KslValueInt1.prototype.j36 = function (generator) {
    return generator.a3d(this.o3m_1);
  };
  KslValueInt1.prototype.v33 = function () {
    return '' + this.o3m_1;
  };
  KslValueInt1.$metadata$ = classMeta('KslValueInt1', [KslScalarExpression], undefined, undefined, undefined, KslValueExpression.prototype);
  function KslValueInt2(x, y) {
    KslValueExpression.call(this, KslTypeInt2_getInstance());
    this.q3m_1 = x;
    this.r3m_1 = y;
  }
  KslValueInt2.prototype.y3e = function () {
    var tmp$ret$2;
    {
      var tmp0_flatMap = listOf([this.q3m_1, this.r3m_1]);
      var tmp$ret$1;
      {
        var tmp0_flatMapTo = ArrayList_init_$Create$_0();
        var tmp0_iterator = tmp0_flatMap.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$0;
          {
            tmp$ret$0 = element.y3e();
          }
          var list = tmp$ret$0;
          addAll(tmp0_flatMapTo, list);
        }
        tmp$ret$1 = tmp0_flatMapTo;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    return toSet(tmp$ret$2);
  };
  KslValueInt2.prototype.j36 = function (generator) {
    return generator.v36([this.q3m_1, this.r3m_1]);
  };
  KslValueInt2.prototype.v33 = function () {
    return 'ivec2(' + this.q3m_1.v33() + ', ' + this.r3m_1.v33() + ')';
  };
  KslValueInt2.$metadata$ = classMeta('KslValueInt2', [KslVectorExpression], undefined, undefined, undefined, KslValueExpression.prototype);
  function KslValueFloat3_init_$Init$(x, y, z, $this) {
    KslValueFloat3.call($this, new KslValueFloat1(x), new KslValueFloat1(y), new KslValueFloat1(z));
    return $this;
  }
  function KslValueFloat3_init_$Create$(x, y, z) {
    return KslValueFloat3_init_$Init$(x, y, z, Object.create(KslValueFloat3.prototype));
  }
  function KslValueFloat3(x, y, z) {
    KslValueExpression.call(this, KslTypeFloat3_getInstance());
    this.t3m_1 = x;
    this.u3m_1 = y;
    this.v3m_1 = z;
  }
  KslValueFloat3.prototype.y3e = function () {
    var tmp$ret$2;
    {
      var tmp0_flatMap = listOf([this.t3m_1, this.u3m_1, this.v3m_1]);
      var tmp$ret$1;
      {
        var tmp0_flatMapTo = ArrayList_init_$Create$_0();
        var tmp0_iterator = tmp0_flatMap.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$0;
          {
            tmp$ret$0 = element.y3e();
          }
          var list = tmp$ret$0;
          addAll(tmp0_flatMapTo, list);
        }
        tmp$ret$1 = tmp0_flatMapTo;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    return toSet(tmp$ret$2);
  };
  KslValueFloat3.prototype.j36 = function (generator) {
    return generator.u36([this.t3m_1, this.u3m_1, this.v3m_1]);
  };
  KslValueFloat3.prototype.v33 = function () {
    return 'vec3(' + this.t3m_1.v33() + ', ' + this.u3m_1.v33() + ', ' + this.v3m_1.v33() + ')';
  };
  KslValueFloat3.$metadata$ = classMeta('KslValueFloat3', [KslVectorExpression], undefined, undefined, undefined, KslValueExpression.prototype);
  function KslValueUint1(value) {
    KslValueExpression.call(this, KslTypeUint1_getInstance());
    this.x3m_1 = value;
  }
  KslValueUint1.prototype.y3e = function () {
    return emptySet();
  };
  KslValueUint1.prototype.j36 = function (generator) {
    return generator.b3d(this.x3m_1);
  };
  KslValueUint1.prototype.v33 = function () {
    return '' + new UInt(this.x3m_1);
  };
  KslValueUint1.$metadata$ = classMeta('KslValueUint1', [KslScalarExpression], undefined, undefined, undefined, KslValueExpression.prototype);
  function KslValueExpression(expressionType) {
    this.h3m_1 = expressionType;
  }
  KslValueExpression.prototype.d2m = function () {
    return this.h3m_1;
  };
  KslValueExpression.$metadata$ = classMeta('KslValueExpression', [KslExpression]);
  function KslVarMatrix(name, type, isMutable) {
    KslVar.call(this, name, type, isMutable);
  }
  KslVarMatrix.$metadata$ = classMeta('KslVarMatrix', [KslMatrixExpression], undefined, undefined, undefined, KslVar.prototype);
  function KslVarVector(name, type, isMutable) {
    KslVar.call(this, name, type, isMutable);
  }
  KslVarVector.$metadata$ = classMeta('KslVarVector', [KslVectorExpression], undefined, undefined, undefined, KslVar.prototype);
  function KslVarScalar(name, type, isMutable) {
    KslVar.call(this, name, type, isMutable);
  }
  KslVarScalar.$metadata$ = classMeta('KslVarScalar', [KslScalarExpression], undefined, undefined, undefined, KslVar.prototype);
  function KslVar(name, type, isMutable) {
    KslValue.call(this, name, isMutable);
    this.n36_1 = type;
    this.o36_1 = type;
  }
  KslVar.prototype.d2m = function () {
    return this.n36_1;
  };
  KslVar.prototype.b3f = function () {
    return this;
  };
  KslVar.prototype.m39 = function (generator) {
    return generator.k3d(this);
  };
  KslVar.$metadata$ = classMeta('KslVar', [KslAssignable], undefined, undefined, undefined, KslValue.prototype);
  function KslVectorAccessorVector(vector, components, type) {
    KslVectorAccessor.call(this, vector, components, type, type.x3l());
  }
  KslVectorAccessorVector.$metadata$ = classMeta('KslVectorAccessorVector', [KslVectorExpression], undefined, undefined, undefined, KslVectorAccessor.prototype);
  function KslVectorAccessorScalar(vector, components, type) {
    KslVectorAccessor.call(this, vector, components, type, 1);
  }
  KslVectorAccessorScalar.$metadata$ = classMeta('KslVectorAccessorScalar', [KslScalarExpression], undefined, undefined, undefined, KslVectorAccessor.prototype);
  function get_a(_this__u8e3s4) {
    return new KslVectorAccessorScalar(_this__u8e3s4, 'a', scalarTypeOf(_this__u8e3s4));
  }
  function get_r(_this__u8e3s4) {
    return new KslVectorAccessorScalar(_this__u8e3s4, 'r', scalarTypeOf(_this__u8e3s4));
  }
  function get_x(_this__u8e3s4) {
    return new KslVectorAccessorScalar(_this__u8e3s4, 'x', scalarTypeOf(_this__u8e3s4));
  }
  function float3(_this__u8e3s4, components) {
    return new KslVectorAccessorVector(_this__u8e3s4, components, KslTypeFloat3_getInstance());
  }
  function get_y(_this__u8e3s4) {
    return new KslVectorAccessorScalar(_this__u8e3s4, 'y', scalarTypeOf(_this__u8e3s4));
  }
  function get_z(_this__u8e3s4) {
    return new KslVectorAccessorScalar(_this__u8e3s4, 'z', scalarTypeOf(_this__u8e3s4));
  }
  function checkComponents($this, components, inputDim) {
    var tmp$ret$0;
    {
      var tmp0_matches = Regex_init_$Create$('[xyzwrgba]+');
      tmp$ret$0 = tmp0_matches.bb(components);
    }
    if (!tmp$ret$0) {
      throw IllegalArgumentException_init_$Create$('invalid swizzle components requested: ' + components + ' (supported: xyzw, rgba)');
    }
    var reqDim = 1;
    {
      var indexedObject = components;
      var inductionVariable = 0;
      var last = indexedObject.length;
      while (inductionVariable < last) {
        var element = charSequenceGet(indexedObject, inductionVariable);
        inductionVariable = inductionVariable + 1 | 0;
        {
          var tmp0_subject = element;
          var tmp;
          if (equals(new Char(tmp0_subject), new Char(_Char___init__impl__6a9atx(121)))) {
            var tmp$ret$1;
            {
              var tmp0_max = reqDim;
              tmp$ret$1 = Math.max(tmp0_max, 2);
            }
            tmp = tmp$ret$1;
          } else if (equals(new Char(tmp0_subject), new Char(_Char___init__impl__6a9atx(122)))) {
            var tmp$ret$2;
            {
              var tmp1_max = reqDim;
              tmp$ret$2 = Math.max(tmp1_max, 3);
            }
            tmp = tmp$ret$2;
          } else if (equals(new Char(tmp0_subject), new Char(_Char___init__impl__6a9atx(119)))) {
            var tmp$ret$3;
            {
              var tmp2_max = reqDim;
              tmp$ret$3 = Math.max(tmp2_max, 4);
            }
            tmp = tmp$ret$3;
          } else if (equals(new Char(tmp0_subject), new Char(_Char___init__impl__6a9atx(103)))) {
            var tmp$ret$4;
            {
              var tmp3_max = reqDim;
              tmp$ret$4 = Math.max(tmp3_max, 2);
            }
            tmp = tmp$ret$4;
          } else if (equals(new Char(tmp0_subject), new Char(_Char___init__impl__6a9atx(98)))) {
            var tmp$ret$5;
            {
              var tmp4_max = reqDim;
              tmp$ret$5 = Math.max(tmp4_max, 3);
            }
            tmp = tmp$ret$5;
          } else if (equals(new Char(tmp0_subject), new Char(_Char___init__impl__6a9atx(97)))) {
            var tmp$ret$6;
            {
              var tmp5_max = reqDim;
              tmp$ret$6 = Math.max(tmp5_max, 4);
            }
            tmp = tmp$ret$6;
          } else {
            tmp = reqDim;
          }
          reqDim = tmp;
        }
      }
    }
    if (reqDim > inputDim) {
      throw IllegalArgumentException_init_$Create$('requested swizzle requires ' + reqDim + ' dimensions but input expression has only ' + inputDim);
    }
  }
  function KslVectorAccessor(vector, components, type, expectedLength) {
    this.s3d_1 = vector;
    this.t3d_1 = components;
    this.u3d_1 = type;
    this.v3d_1 = this.u3d_1;
    this.w3d_1 = this.u3d_1;
    if (!(this.t3d_1.length === expectedLength)) {
      throw IllegalArgumentException_init_$Create$('invalid swizzle length: ' + this.t3d_1.length + ' != ' + expectedLength);
    }
    var tmp = this.s3d_1.d2m();
    checkComponents(this, this.t3d_1, (isInterface(tmp, KslVector) ? tmp : THROW_CCE()).x3l());
  }
  KslVectorAccessor.prototype.d2m = function () {
    return this.v3d_1;
  };
  KslVectorAccessor.prototype.b3f = function () {
    var tmp = this.s3d_1;
    var tmp1_elvis_lhs = tmp instanceof KslValue ? tmp : null;
    var tmp_0;
    if (tmp1_elvis_lhs == null) {
      var tmp_1 = this.s3d_1;
      var tmp0_safe_receiver = isInterface(tmp_1, KslAssignable) ? tmp_1 : null;
      tmp_0 = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.b3f();
    } else {
      tmp_0 = tmp1_elvis_lhs;
    }
    return tmp_0;
  };
  KslVectorAccessor.prototype.y3e = function () {
    return this.s3d_1.y3e();
  };
  KslVectorAccessor.prototype.m39 = function (generator) {
    return generator.m3d(this);
  };
  KslVectorAccessor.prototype.j36 = function (generator) {
    return generator.f3d(this);
  };
  KslVectorAccessor.prototype.v33 = function () {
    return this.s3d_1.v33() + '.' + this.t3d_1;
  };
  KslVectorAccessor.$metadata$ = classMeta('KslVectorAccessor', [KslExpression, KslAssignable]);
  function scalarTypeOf(expr) {
    var tmp0_subject = expr.d2m();
    var tmp;
    if (tmp0_subject instanceof KslFloatType) {
      var tmp_0 = KslTypeFloat1_getInstance();
      tmp = (tmp_0 instanceof KslType ? isInterface(tmp_0, KslScalar) : false) ? tmp_0 : THROW_CCE();
    } else {
      if (tmp0_subject instanceof KslIntType) {
        var tmp_1 = KslTypeInt1_getInstance();
        tmp = (tmp_1 instanceof KslType ? isInterface(tmp_1, KslScalar) : false) ? tmp_1 : THROW_CCE();
      } else {
        if (tmp0_subject instanceof KslBoolType) {
          var tmp_2 = KslTypeBool1_getInstance();
          tmp = (tmp_2 instanceof KslType ? isInterface(tmp_2, KslScalar) : false) ? tmp_2 : THROW_CCE();
        } else {
          throw IllegalStateException_init_$Create$('invalid vector expression type: ' + expr.d2m());
        }
      }
    }
    return tmp;
  }
  function float2(_this__u8e3s4, components) {
    return new KslVectorAccessorVector(_this__u8e3s4, components, KslTypeFloat2_getInstance());
  }
  function get_xy(_this__u8e3s4) {
    return float2(_this__u8e3s4, 'xy');
  }
  function get_rgb(_this__u8e3s4) {
    return float3(_this__u8e3s4, 'rgb');
  }
  function get_xy_0(_this__u8e3s4) {
    return float2(_this__u8e3s4, 'xy');
  }
  function get_zw(_this__u8e3s4) {
    return float2(_this__u8e3s4, 'zw');
  }
  function KslVertexAttributeVector(value, inputRate) {
    KslVertexAttribute.call(this, value, inputRate);
  }
  KslVertexAttributeVector.$metadata$ = classMeta('KslVertexAttributeVector', [KslVectorExpression], undefined, undefined, undefined, KslVertexAttribute.prototype);
  function KslVertexAttributeMatrix(value, inputRate) {
    KslVertexAttribute.call(this, value, inputRate);
  }
  KslVertexAttributeMatrix.$metadata$ = classMeta('KslVertexAttributeMatrix', [KslMatrixExpression], undefined, undefined, undefined, KslVertexAttribute.prototype);
  function KslVertexAttribute(value, inputRate) {
    this.v2p_1 = value;
    this.w2p_1 = inputRate;
    this.x2p_1 = -1;
  }
  KslVertexAttribute.prototype.l2 = function () {
    return this.v2p_1;
  };
  KslVertexAttribute.prototype.y3m = function () {
    return this.w2p_1;
  };
  KslVertexAttribute.prototype.d2m = function () {
    return this.v2p_1.d2m();
  };
  KslVertexAttribute.prototype.y3e = function () {
    return this.v2p_1.y3e();
  };
  KslVertexAttribute.prototype.j36 = function (generator) {
    return this.v2p_1.j36(generator);
  };
  KslVertexAttribute.prototype.v33 = function () {
    return this.v2p_1.v33();
  };
  KslVertexAttribute.prototype.r3l = function (_set____db54di) {
    this.x2p_1 = _set____db54di;
  };
  KslVertexAttribute.prototype.v3l = function () {
    return this.x2p_1;
  };
  KslVertexAttribute.prototype.il = function () {
    return this.v2p_1.r36();
  };
  KslVertexAttribute.$metadata$ = classMeta('KslVertexAttribute', [KslExpression]);
  var KslInputRate_Vertex_instance;
  var KslInputRate_Instance_instance;
  var KslInputRate_entriesInitialized;
  function KslInputRate_initEntries() {
    if (KslInputRate_entriesInitialized)
      return Unit_getInstance();
    KslInputRate_entriesInitialized = true;
    KslInputRate_Vertex_instance = new KslInputRate('Vertex', 0);
    KslInputRate_Instance_instance = new KslInputRate('Instance', 1);
  }
  function KslInputRate(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  KslInputRate.$metadata$ = classMeta('KslInputRate', undefined, undefined, undefined, undefined, Enum.prototype);
  function KslInputRate_Vertex_getInstance() {
    KslInputRate_initEntries();
    return KslInputRate_Vertex_instance;
  }
  function KslInputRate_Instance_getInstance() {
    KslInputRate_initEntries();
    return KslInputRate_Instance_instance;
  }
  function KslHierarchy(globalScope) {
    this.q2t_1 = globalScope;
  }
  KslHierarchy.prototype.r2t = function () {
    println(this.q2t_1.v33());
  };
  KslHierarchy.$metadata$ = classMeta('KslHierarchy');
  function KslMutatedState(state, mutation) {
    this.f3f_1 = state;
    this.g3f_1 = mutation;
  }
  KslMutatedState.prototype.i18 = function () {
    return this.f3f_1;
  };
  KslMutatedState.prototype.z3m = function () {
    return this.g3f_1;
  };
  KslMutatedState.prototype.toString = function () {
    return this.f3f_1.p36_1 + '@' + this.g3f_1;
  };
  KslMutatedState.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (other == null ? true : !getKClassFromExpression(this).equals(getKClassFromExpression(other)))
      return false;
    if (other instanceof KslMutatedState)
      other;
    else
      THROW_CCE();
    if (!equals(this.f3f_1, other.f3f_1))
      return false;
    if (!(this.g3f_1 === other.g3f_1))
      return false;
    return true;
  };
  KslMutatedState.prototype.hashCode = function () {
    var result = hashCode(this.f3f_1);
    result = imul(31, result) + this.g3f_1 | 0;
    return result;
  };
  KslMutatedState.$metadata$ = classMeta('KslMutatedState');
  function KslOp$dependenciesAndMutationsToString$lambda() {
    return function (it) {
      return it.toString();
    };
  }
  function KslOp$dependenciesAndMutationsToString$lambda_0() {
    return function (it) {
      return it.toString();
    };
  }
  function KslOp(opName, parentScope) {
    this.c30_1 = opName;
    this.d30_1 = parentScope;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.e30_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = LinkedHashMap_init_$Create$();
    }
    tmp_0.f30_1 = tmp$ret$1;
    var tmp_1 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = ArrayList_init_$Create$_0();
    }
    tmp_1.g30_1 = tmp$ret$2;
  }
  KslOp.prototype.h30 = function () {
    return this.c30_1;
  };
  KslOp.prototype.p33 = function () {
    return this.d30_1;
  };
  KslOp.prototype.z2l = function () {
    return this.e30_1;
  };
  KslOp.prototype.q33 = function () {
    return this.f30_1;
  };
  KslOp.prototype.r33 = function () {
    return this.g30_1;
  };
  KslOp.prototype.s33 = function (processorState) {
    var tmp$ret$0;
    $l$block_0: {
      var tmp0_all = this.e30_1.b3();
      var tmp;
      if (isInterface(tmp0_all, Collection)) {
        tmp = tmp0_all.q();
      } else {
        tmp = false;
      }
      if (tmp) {
        tmp$ret$0 = true;
        break $l$block_0;
      }
      var tmp0_iterator = tmp0_all.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$1;
        {
          tmp$ret$1 = processorState.b3n(element);
        }
        if (!tmp$ret$1) {
          tmp$ret$0 = false;
          break $l$block_0;
        }
      }
      tmp$ret$0 = true;
    }
    return tmp$ret$0;
  };
  KslOp.prototype.t33 = function (mutation) {
    var tmp0_safe_receiver = this.e30_1.z2(mutation.c3n_1);
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        var tmp$ret$0;
        {
          tmp$ret$0 = mutation.e3n_1 > tmp0_safe_receiver.g3f_1;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp = tmp$ret$1;
    }
    var tmp1_elvis_lhs = tmp;
    return tmp1_elvis_lhs == null ? false : tmp1_elvis_lhs;
  };
  KslOp.prototype.u33 = function (dep) {
    {
      var tmp0_set = this.e30_1;
      var tmp1_set = dep.f3f_1;
      tmp0_set.a(tmp1_set, dep);
    }
  };
  KslOp.prototype.e3f = function (mut) {
    this.u33(new KslMutatedState(mut.c3n_1, mut.d3n_1));
    {
      var tmp0_set = this.f30_1;
      var tmp1_set = mut.c3n_1;
      tmp0_set.a(tmp1_set, mut);
    }
  };
  KslOp.prototype.v33 = function () {
    var str = new StringBuilder(this.c30_1 + ' // ' + this.w33());
    {
      var tmp0_forEach = this.g30_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          str.ga('\n' + element.v33());
        }
      }
    }
    return str.toString();
  };
  KslOp.prototype.w33 = function () {
    var tmp;
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = this.e30_1;
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      var tmp_0 = this.e30_1.b3();
      tmp = joinToString$default(tmp_0, null, null, null, 0, null, KslOp$dependenciesAndMutationsToString$lambda(), 31, null);
    } else {
      tmp = 'none';
    }
    var tmp_1 = 'depends on: [' + tmp + ']; ';
    var tmp_2;
    var tmp$ret$1;
    {
      var tmp1_isNotEmpty = this.f30_1;
      tmp$ret$1 = !tmp1_isNotEmpty.q();
    }
    if (tmp$ret$1) {
      var tmp_3 = this.f30_1.b3();
      tmp_2 = joinToString$default(tmp_3, null, null, null, 0, null, KslOp$dependenciesAndMutationsToString$lambda_0(), 31, null);
    } else {
      tmp_2 = 'none';
    }
    return tmp_1 + ('mutates: [' + tmp_2 + ']; ');
  };
  KslOp.prototype.h33 = function () {
    var tmp$ret$0;
    $l$block_0: {
      var tmp0_any = this.f30_1.a3();
      var tmp;
      if (isInterface(tmp0_any, Collection)) {
        tmp = tmp0_any.q();
      } else {
        tmp = false;
      }
      if (tmp) {
        tmp$ret$0 = false;
        break $l$block_0;
      }
      var tmp0_iterator = tmp0_any.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$1;
        {
          tmp$ret$1 = !this.e30_1.a3().p(element);
        }
        if (tmp$ret$1) {
          tmp$ret$0 = true;
          break $l$block_0;
        }
      }
      tmp$ret$0 = false;
    }
    if (tmp$ret$0) {
      throw IllegalStateException_init_$Create$('Op ' + this.c30_1 + ' mutates state it does not depend on: ' + this.v33() + ' // ' + this.w33());
    }
    var tmp$ret$6;
    {
      var tmp1_find = this.f30_1.b3();
      var tmp$ret$5;
      $l$block_1: {
        var tmp0_iterator_0 = tmp1_find.h();
        while (tmp0_iterator_0.n()) {
          var element_0 = tmp0_iterator_0.o();
          var tmp$ret$4;
          {
            var tmp0_safe_receiver = this.e30_1.z2(element_0.c3n_1);
            var tmp_0;
            if (tmp0_safe_receiver == null) {
              tmp_0 = null;
            } else {
              var tmp$ret$3;
              {
                {
                }
                var tmp$ret$2;
                {
                  tmp$ret$2 = !(tmp0_safe_receiver.g3f_1 === element_0.d3n_1);
                }
                tmp$ret$3 = tmp$ret$2;
              }
              tmp_0 = tmp$ret$3;
            }
            tmp$ret$4 = tmp_0 === true;
          }
          if (tmp$ret$4) {
            tmp$ret$5 = element_0;
            break $l$block_1;
          }
        }
        tmp$ret$5 = null;
      }
      tmp$ret$6 = tmp$ret$5;
    }
    var tmp0_safe_receiver_0 = tmp$ret$6;
    if (tmp0_safe_receiver_0 == null)
      null;
    else {
      var tmp$ret$7;
      {
        {
        }
        throw IllegalStateException_init_$Create$('Op ' + this.c30_1 + ' mutation and dependency states do not match: ' + this.v33() + ' // ' + this.w33());
      }
    }
  };
  KslOp.prototype.x33 = function () {
    {
      var tmp0_forEach = this.g30_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          element.x33();
        }
      }
    }
    this.h33();
  };
  KslOp.$metadata$ = classMeta('KslOp');
  function processScope($this, scope) {
    $this.r3h_1.f3n(scope);
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = LinkedHashSet_init_$Create$();
      }
      var tmp0_also = tmp$ret$0;
      {
      }
      {
        {
          var tmp0_plusAssign = scope.x2l_1;
          addAll(tmp0_also, tmp0_plusAssign);
        }
      }
      tmp$ret$1 = tmp0_also;
    }
    var openOps = tmp$ret$1;
    scope.x2l_1.t7();
    $l$loop: while (true) {
      var tmp$ret$2;
      {
        tmp$ret$2 = !openOps.q();
      }
      if (!tmp$ret$2) {
        break $l$loop;
      }
      var tmp0_elvis_lhs = selectNextOp($this, openOps);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        failScope($this, scope, openOps);
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var nextOp = tmp;
      {
        openOps.c4(nextOp);
      }
      var tmp1_this = scope;
      {
        var tmp1_plusAssign = tmp1_this.x2l_1;
        tmp1_plusAssign.b(nextOp);
      }
      {
        var tmp2_forEach = nextOp.g30_1;
        var tmp0_iterator = tmp2_forEach.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          {
            processScope($this, element);
            $this.r3h_1.g3n(element);
          }
        }
      }
      $this.r3h_1.h3n(nextOp);
    }
    $this.r3h_1.i3n(scope);
  }
  function selectNextOp($this, ops) {
    var tmp$ret$2;
    {
      var tmp$ret$1;
      {
        var tmp0_filterTo = ArrayList_init_$Create$_0();
        var tmp0_iterator = ops.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$0;
          {
            tmp$ret$0 = element.s33($this.r3h_1);
          }
          if (tmp$ret$0) {
            tmp0_filterTo.b(element);
          }
        }
        tmp$ret$1 = tmp0_filterTo;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    var candidates = tmp$ret$2;
    var tmp0_iterator_0 = candidates.h();
    while (tmp0_iterator_0.n()) {
      var c = tmp0_iterator_0.o();
      if (findPreventingOp($this, c, ops) == null) {
        return c;
      }
    }
    return null;
  }
  function findPreventingOp($this, op, fromOps) {
    var tmp$ret$4;
    {
      var tmp$ret$3;
      $l$block_1: {
        var tmp0_iterator = fromOps.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$2;
          {
            var tmp;
            if (!equals(element, op)) {
              var tmp$ret$0;
              $l$block_0: {
                var tmp0_any = op.f30_1.b3();
                var tmp_0;
                if (isInterface(tmp0_any, Collection)) {
                  tmp_0 = tmp0_any.q();
                } else {
                  tmp_0 = false;
                }
                if (tmp_0) {
                  tmp$ret$0 = false;
                  break $l$block_0;
                }
                var tmp0_iterator_0 = tmp0_any.h();
                while (tmp0_iterator_0.n()) {
                  var element_0 = tmp0_iterator_0.o();
                  var tmp$ret$1;
                  {
                    tmp$ret$1 = element.t33(element_0);
                  }
                  if (tmp$ret$1) {
                    tmp$ret$0 = true;
                    break $l$block_0;
                  }
                }
                tmp$ret$0 = false;
              }
              tmp = tmp$ret$0;
            } else {
              tmp = false;
            }
            tmp$ret$2 = tmp;
          }
          if (tmp$ret$2) {
            tmp$ret$3 = element;
            break $l$block_1;
          }
        }
        tmp$ret$3 = null;
      }
      tmp$ret$4 = tmp$ret$3;
    }
    return tmp$ret$4;
  }
  function failScope($this, scope, remainingOps) {
    var tmp$ret$3;
    {
      var tmp$ret$2;
      {
        var tmp2_eExt = Log_getInstance();
        var tmp$ret$1;
        {
          var tmp1_logExt = Level_ERROR_getInstance();
          var tmp0_log = getKClassFromExpression($this).ei();
          var tmp;
          if (tmp1_logExt.e1w_1 >= tmp2_eExt.y1v_1.e1w_1) {
            var tmp_0 = tmp2_eExt.z1v_1;
            var tmp$ret$0;
            {
              tmp$ret$0 = 'Unable to process scope, ' + remainingOps.m() + ' ops remain:';
            }
            tmp = tmp_0(tmp1_logExt, tmp0_log, tmp$ret$0);
          }
          tmp$ret$1 = tmp;
        }
        tmp$ret$2 = tmp$ret$1;
      }
      tmp$ret$3 = tmp$ret$2;
    }
    {
      var tmp0_iterator = remainingOps.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var tmp$ret$7;
          {
            var tmp$ret$6;
            {
              var tmp2_eExt_0 = Log_getInstance();
              var tmp$ret$5;
              {
                var tmp1_logExt_0 = Level_ERROR_getInstance();
                var tmp0_log_0 = getKClassFromExpression($this).ei();
                var tmp_1;
                if (tmp1_logExt_0.e1w_1 >= tmp2_eExt_0.y1v_1.e1w_1) {
                  var tmp_2 = tmp2_eExt_0.z1v_1;
                  var tmp$ret$4;
                  {
                    var tmp_3 = element.c30_1 + ' \n';
                    var tmp_4 = element.e30_1.b3();
                    var tmp_5 = tmp_3 + ('        depends on: ' + joinToString$default(tmp_4, null, null, null, 0, null, KslProcessor$failScope$lambda(), 31, null) + '\n');
                    var tmp_6 = element.f30_1.b3();
                    var tmp_7 = tmp_5 + ('        mutates:    ' + joinToString$default(tmp_6, null, null, null, 0, null, KslProcessor$failScope$lambda_0(), 31, null) + '\n');
                    var tmp0_elvis_lhs = findPreventingOp($this, element, remainingOps);
                    tmp$ret$4 = tmp_7 + ('        prevents:   ' + toString(tmp0_elvis_lhs == null ? 'none' : tmp0_elvis_lhs));
                  }
                  tmp_1 = tmp_2(tmp1_logExt_0, tmp0_log_0, tmp$ret$4);
                }
                tmp$ret$5 = tmp_1;
              }
              tmp$ret$6 = tmp$ret$5;
            }
            tmp$ret$7 = tmp$ret$6;
          }
        }
      }
    }
    var tmp$ret$11;
    {
      var tmp$ret$10;
      {
        var tmp5_eExt = Log_getInstance();
        var tmp$ret$9;
        {
          var tmp4_logExt = Level_ERROR_getInstance();
          var tmp3_log = getKClassFromExpression($this).ei();
          var tmp_8;
          if (tmp4_logExt.e1w_1 >= tmp5_eExt.y1v_1.e1w_1) {
            var tmp_9 = tmp5_eExt.z1v_1;
            var tmp$ret$8;
            {
              tmp$ret$8 = 'Processor state:';
            }
            tmp_8 = tmp_9(tmp4_logExt, tmp3_log, tmp$ret$8);
          }
          tmp$ret$9 = tmp_8;
        }
        tmp$ret$10 = tmp$ret$9;
      }
      tmp$ret$11 = tmp$ret$10;
    }
    $this.r3h_1.j3n();
    throw IllegalStateException_init_$Create$('Unable to complete scope ' + scope.y2l_1);
  }
  function KslProcessor$failScope$lambda() {
    return function (it) {
      return it.toString();
    };
  }
  function KslProcessor$failScope$lambda_0() {
    return function (it) {
      return it.toString();
    };
  }
  function KslProcessor() {
    this.r3h_1 = new KslProcessorState();
  }
  KslProcessor.prototype.s3h = function (hierarchy) {
    hierarchy.q2t_1.x33();
    processScope(this, hierarchy.q2t_1);
  };
  KslProcessor.$metadata$ = classMeta('KslProcessor');
  function ScopeState_init_$Init$($outer, scope, initialState, statesInScope, $mask0, $marker, $this) {
    if (!(($mask0 & 8) === 0)) {
      var tmp$ret$0;
      var tmp$ret$0_0;
      {
        tmp$ret$0 = LinkedHashMap_init_$Create$();
        tmp$ret$0_0 = Unit_getInstance();
      }
      statesInScope = tmp$ret$0;
    }
    ScopeState.call($this, $outer, scope, initialState, statesInScope);
    return $this;
  }
  function ScopeState_init_$Create$($outer, scope, initialState, statesInScope, $mask0, $marker) {
    return ScopeState_init_$Init$($outer, scope, initialState, statesInScope, $mask0, $marker, Object.create(ScopeState.prototype));
  }
  function _get_statesInScope__37x4rg($this) {
    return $this.a3n_1.q() ? emptyMap() : last($this.a3n_1);
  }
  function ScopeState($outer, scope, initialState, statesInScope) {
    this.m3n_1 = $outer;
    this.k3n_1 = scope;
    this.l3n_1 = statesInScope;
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.l3n_1;
      tmp0_plusAssign.b4(initialState);
    }
    {
      var tmp1_forEach = this.k3n_1.w2l_1;
      var tmp0_iterator = tmp1_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          {
            var tmp0_set = this.l3n_1;
            var tmp1_set = new KslMutatedState(element, 0);
            tmp0_set.a(element, tmp1_set);
          }
        }
      }
    }
  }
  ScopeState.prototype.n3n = function () {
    return this.l3n_1;
  };
  ScopeState.prototype.y = function () {
    return this.l3n_1.y();
  };
  ScopeState.prototype.a3 = function () {
    return this.l3n_1.a3();
  };
  ScopeState.prototype.m = function () {
    return this.l3n_1.m();
  };
  ScopeState.prototype.b3 = function () {
    return this.l3n_1.b3();
  };
  ScopeState.prototype.o3n = function (key) {
    return this.l3n_1.t2(key);
  };
  ScopeState.prototype.t2 = function (key) {
    if (!(key instanceof KslState))
      return false;
    return this.o3n(key instanceof KslState ? key : THROW_CCE());
  };
  ScopeState.prototype.p3n = function (key) {
    return this.l3n_1.z2(key);
  };
  ScopeState.prototype.z2 = function (key) {
    if (!(key instanceof KslState))
      return null;
    return this.p3n(key instanceof KslState ? key : THROW_CCE());
  };
  ScopeState.prototype.q = function () {
    return this.l3n_1.q();
  };
  ScopeState.prototype.g3n = function (scope) {
    {
      var tmp0_forEach = scope.v2l_1.b3();
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          if (!this.l3n_1.t2(element.c3n_1)) {
            throw IllegalStateException_init_$Create$('Unable to apply scope ' + scope.y2l_1 + ': State ' + element.c3n_1.p36_1 + ' not in scope. Current stack: ' + this.m3n_1.q3n());
          }
          {
            var tmp0_set = this.l3n_1;
            var tmp1_set = element.c3n_1;
            var tmp2_set = new KslMutatedState(element.c3n_1, element.e3n_1);
            tmp0_set.a(tmp1_set, tmp2_set);
          }
        }
      }
    }
  };
  ScopeState.prototype.h3n = function (op) {
    {
      var tmp0_forEach = op.f30_1.b3();
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          if (!this.l3n_1.t2(element.c3n_1)) {
            throw IllegalStateException_init_$Create$('Unable to apply op ' + op.c30_1 + ': State ' + element.c3n_1.p36_1 + ' not in scope. Current stack: ' + this.m3n_1.q3n());
          }
          {
            var tmp0_set = this.l3n_1;
            var tmp1_set = element.c3n_1;
            var tmp2_set = new KslMutatedState(element.c3n_1, element.e3n_1);
            tmp0_set.a(tmp1_set, tmp2_set);
          }
        }
      }
    }
  };
  ScopeState.$metadata$ = classMeta('ScopeState', [Map]);
  function KslProcessorState$_get_stackTrace_$lambda_dmmehw() {
    return function (it) {
      return it.k3n_1.y2l_1;
    };
  }
  function KslProcessorState() {
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.a3n_1 = tmp$ret$0;
  }
  KslProcessorState.prototype.q3n = function () {
    return joinToString$default(this.a3n_1, ' -> ', null, null, 0, null, KslProcessorState$_get_stackTrace_$lambda_dmmehw(), 30, null);
  };
  KslProcessorState.prototype.b3n = function (mutatedState) {
    return equals(_get_statesInScope__37x4rg(this).z2(mutatedState.f3f_1), mutatedState);
  };
  KslProcessorState.prototype.f3n = function (scope) {
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.a3n_1;
      var tmp = _get_statesInScope__37x4rg(this);
      var tmp1_plusAssign = ScopeState_init_$Create$(this, scope, tmp, null, 8, null);
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
  };
  KslProcessorState.prototype.i3n = function (scope) {
    if (!equals(last(this.a3n_1).k3n_1, scope)) {
      throw IllegalStateException_init_$Create$('Unable to leave scope ' + scope.y2l_1 + ': Not on top of stack, current stack: ' + this.q3n());
    }
    removeLast(this.a3n_1);
  };
  KslProcessorState.prototype.h3n = function (op) {
    return last(this.a3n_1).h3n(op);
  };
  KslProcessorState.prototype.g3n = function (scope) {
    return last(this.a3n_1).g3n(scope);
  };
  KslProcessorState.prototype.j3n = function () {
    var tmp$ret$3;
    {
      var tmp$ret$2;
      {
        var tmp2_eExt = Log_getInstance();
        var tmp$ret$1;
        {
          var tmp1_logExt = Level_ERROR_getInstance();
          var tmp0_log = getKClassFromExpression(this).ei();
          var tmp;
          if (tmp1_logExt.e1w_1 >= tmp2_eExt.y1v_1.e1w_1) {
            var tmp_0 = tmp2_eExt.z1v_1;
            var tmp$ret$0;
            {
              tmp$ret$0 = 'stack: ' + this.q3n();
            }
            tmp = tmp_0(tmp1_logExt, tmp0_log, tmp$ret$0);
          }
          tmp$ret$1 = tmp;
        }
        tmp$ret$2 = tmp$ret$1;
      }
      tmp$ret$3 = tmp$ret$2;
    }
    var tmp$ret$7;
    {
      var tmp$ret$6;
      {
        var tmp5_eExt = Log_getInstance();
        var tmp$ret$5;
        {
          var tmp4_logExt = Level_ERROR_getInstance();
          var tmp3_log = getKClassFromExpression(this).ei();
          var tmp_1;
          if (tmp4_logExt.e1w_1 >= tmp5_eExt.y1v_1.e1w_1) {
            var tmp_2 = tmp5_eExt.z1v_1;
            var tmp$ret$4;
            {
              tmp$ret$4 = 'current state:';
            }
            tmp_1 = tmp_2(tmp4_logExt, tmp3_log, tmp$ret$4);
          }
          tmp$ret$5 = tmp_1;
        }
        tmp$ret$6 = tmp$ret$5;
      }
      tmp$ret$7 = tmp$ret$6;
    }
    {
      var tmp6_forEach = _get_statesInScope__37x4rg(this).b3();
      var tmp0_iterator = tmp6_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var tmp$ret$11;
          {
            var tmp$ret$10;
            {
              var tmp2_eExt_0 = Log_getInstance();
              var tmp$ret$9;
              {
                var tmp1_logExt_0 = Level_ERROR_getInstance();
                var tmp0_log_0 = getKClassFromExpression(this).ei();
                var tmp_3;
                if (tmp1_logExt_0.e1w_1 >= tmp2_eExt_0.y1v_1.e1w_1) {
                  var tmp_4 = tmp2_eExt_0.z1v_1;
                  var tmp$ret$8;
                  {
                    tmp$ret$8 = '  ' + element;
                  }
                  tmp_3 = tmp_4(tmp1_logExt_0, tmp0_log_0, tmp$ret$8);
                }
                tmp$ret$9 = tmp_3;
              }
              tmp$ret$10 = tmp$ret$9;
            }
            tmp$ret$11 = tmp$ret$10;
          }
        }
      }
    }
  };
  KslProcessorState.$metadata$ = classMeta('KslProcessorState');
  function updateDependenciesAndMutations($this) {
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    var startStates = tmp$ret$0;
    var tmp$ret$1;
    {
      tmp$ret$1 = LinkedHashMap_init_$Create$();
    }
    var endStates = tmp$ret$1;
    var tmp0_safe_receiver = $this.t2l_1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$2;
      {
        {
        }
        {
          var tmp0_forEach = tmp0_safe_receiver.e30_1.b3();
          var tmp0_iterator = tmp0_forEach.h();
          while (tmp0_iterator.n()) {
            var element = tmp0_iterator.o();
            {
              {
                var tmp0_set = element.f3f_1;
                var tmp1_set = element.g3f_1;
                startStates.a(tmp0_set, tmp1_set);
              }
            }
          }
        }
        var tmp1_forEach = tmp0_safe_receiver.f30_1.b3();
        var tmp0_iterator_0 = tmp1_forEach.h();
        while (tmp0_iterator_0.n()) {
          var element_0 = tmp0_iterator_0.o();
          {
            {
              var tmp0_set_0 = element_0.c3n_1;
              var tmp1_set_0 = element_0.e3n_1;
              endStates.a(tmp0_set_0, tmp1_set_0);
            }
          }
        }
        tmp$ret$2 = Unit_getInstance();
      }
    }
    {
      var tmp0_forEach_0 = $this.x2l_1;
      var tmp0_iterator_1 = tmp0_forEach_0.h();
      while (tmp0_iterator_1.n()) {
        var element_1 = tmp0_iterator_1.o();
        {
          {
            var tmp$ret$5;
            {
              var tmp0_filter = element_1.e30_1.b3();
              var tmp$ret$4;
              {
                var tmp0_filterTo = ArrayList_init_$Create$_0();
                var tmp0_iterator_2 = tmp0_filter.h();
                while (tmp0_iterator_2.n()) {
                  var element_2 = tmp0_iterator_2.o();
                  var tmp$ret$3;
                  {
                    tmp$ret$3 = !$this.w2l_1.p(element_2.f3f_1);
                  }
                  if (tmp$ret$3) {
                    tmp0_filterTo.b(element_2);
                  }
                }
                tmp$ret$4 = tmp0_filterTo;
              }
              tmp$ret$5 = tmp$ret$4;
            }
            var tmp1_forEach_0 = tmp$ret$5;
            var tmp0_iterator_3 = tmp1_forEach_0.h();
            while (tmp0_iterator_3.n()) {
              var element_3 = tmp0_iterator_3.o();
              {
                var tmp$ret$8;
                {
                  var tmp$ret$7;
                  {
                    var tmp0_getOrElse = element_3.f3f_1;
                    var tmp0_elvis_lhs = startStates.z2(tmp0_getOrElse);
                    var tmp;
                    if (tmp0_elvis_lhs == null) {
                      var tmp$ret$6;
                      {
                        tmp$ret$6 = element_3.g3f_1;
                      }
                      tmp = tmp$ret$6;
                    } else {
                      tmp = tmp0_elvis_lhs;
                    }
                    tmp$ret$7 = tmp;
                  }
                  var tmp1_min = tmp$ret$7;
                  var tmp2_min = element_3.g3f_1;
                  tmp$ret$8 = Math.min(tmp1_min, tmp2_min);
                }
                var start = tmp$ret$8;
                {
                  var tmp3_set = element_3.f3f_1;
                  startStates.a(tmp3_set, start);
                }
              }
            }
          }
          {
            var tmp$ret$11;
            {
              var tmp2_filter = element_1.f30_1.b3();
              var tmp$ret$10;
              {
                var tmp0_filterTo_0 = ArrayList_init_$Create$_0();
                var tmp0_iterator_4 = tmp2_filter.h();
                while (tmp0_iterator_4.n()) {
                  var element_4 = tmp0_iterator_4.o();
                  var tmp$ret$9;
                  {
                    tmp$ret$9 = !$this.w2l_1.p(element_4.c3n_1);
                  }
                  if (tmp$ret$9) {
                    tmp0_filterTo_0.b(element_4);
                  }
                }
                tmp$ret$10 = tmp0_filterTo_0;
              }
              tmp$ret$11 = tmp$ret$10;
            }
            var tmp3_forEach = tmp$ret$11;
            var tmp0_iterator_5 = tmp3_forEach.h();
            while (tmp0_iterator_5.n()) {
              var element_5 = tmp0_iterator_5.o();
              {
                var tmp$ret$14;
                {
                  var tmp$ret$13;
                  {
                    var tmp0_getOrElse_0 = element_5.c3n_1;
                    var tmp0_elvis_lhs_0 = endStates.z2(tmp0_getOrElse_0);
                    var tmp_0;
                    if (tmp0_elvis_lhs_0 == null) {
                      var tmp$ret$12;
                      {
                        tmp$ret$12 = element_5.e3n_1;
                      }
                      tmp_0 = tmp$ret$12;
                    } else {
                      tmp_0 = tmp0_elvis_lhs_0;
                    }
                    tmp$ret$13 = tmp_0;
                  }
                  var tmp1_max = tmp$ret$13;
                  var tmp2_max = element_5.e3n_1;
                  tmp$ret$14 = Math.max(tmp1_max, tmp2_max);
                }
                var end = tmp$ret$14;
                {
                  var tmp3_set_0 = element_5.c3n_1;
                  endStates.a(tmp3_set_0, end);
                }
              }
            }
          }
        }
      }
    }
    $this.u2l_1.t7();
    $this.v2l_1.t7();
    {
      var tmp$ret$15;
      {
        tmp$ret$15 = startStates.y().h();
      }
      var tmp0_iterator_6 = tmp$ret$15;
      while (tmp0_iterator_6.n()) {
        var element_6 = tmp0_iterator_6.o();
        {
          var tmp$ret$16;
          {
            tmp$ret$16 = element_6.j2();
          }
          var state = tmp$ret$16;
          var tmp$ret$17;
          {
            tmp$ret$17 = element_6.l2();
          }
          var startMutation = tmp$ret$17;
          var tmp0_elvis_lhs_1 = endStates.z2(state);
          var endMutation = tmp0_elvis_lhs_1 == null ? startMutation : tmp0_elvis_lhs_1;
          {
            var tmp0_set_1 = $this.u2l_1;
            var tmp1_set_1 = new KslMutatedState(state, startMutation);
            tmp0_set_1.a(state, tmp1_set_1);
          }
          if (!(startMutation === endMutation)) {
            {
              var tmp2_set = $this.v2l_1;
              var tmp3_set_1 = new KslStateMutation(state, startMutation, endMutation);
              tmp2_set.a(state, tmp3_set_1);
            }
          }
          var tmp1_safe_receiver = $this.t2l_1;
          if (tmp1_safe_receiver == null)
            null;
          else {
            var tmp$ret$18;
            {
              {
              }
              {
                var tmp0_set_2 = tmp1_safe_receiver.e30_1;
                var tmp1_set_2 = new KslMutatedState(state, startMutation);
                tmp0_set_2.a(state, tmp1_set_2);
              }
              var tmp_1;
              if (!(startMutation === endMutation)) {
                var tmp2_set_0 = tmp1_safe_receiver.f30_1;
                var tmp3_set_2 = new KslStateMutation(state, startMutation, endMutation);
                tmp2_set_0.a(state, tmp3_set_2);
                tmp_1 = Unit_getInstance();
              }
              tmp$ret$18 = tmp_1;
            }
          }
        }
      }
    }
  }
  function KslScope(parentOp) {
    this.t2l_1 = parentOp;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.u2l_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = LinkedHashMap_init_$Create$();
    }
    tmp_0.v2l_1 = tmp$ret$1;
    var tmp_1 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = LinkedHashSet_init_$Create$();
    }
    tmp_1.w2l_1 = tmp$ret$2;
    var tmp_2 = this;
    var tmp$ret$3;
    {
      tmp$ret$3 = ArrayList_init_$Create$_0();
    }
    tmp_2.x2l_1 = tmp$ret$3;
    var tmp_3 = this;
    var tmp0_safe_receiver = this.t2l_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.c30_1;
    tmp_3.y2l_1 = tmp1_elvis_lhs == null ? 'unnamed' : tmp1_elvis_lhs;
  }
  KslScope.prototype.b3j = function () {
    return this.t2l_1;
  };
  KslScope.prototype.z2l = function () {
    return this.u2l_1;
  };
  KslScope.prototype.q33 = function () {
    return this.v2l_1;
  };
  KslScope.prototype.g3h = function () {
    return this.w2l_1;
  };
  KslScope.prototype.y33 = function () {
    return this.x2l_1;
  };
  KslScope.prototype.s3f = function (_set____db54di) {
    this.y2l_1 = _set____db54di;
  };
  KslScope.prototype.y3k = function () {
    return this.y2l_1;
  };
  KslScope.prototype.m3a = function () {
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = this.x2l_1;
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    return tmp$ret$0;
  };
  KslScope.prototype.x33 = function () {
    {
      var tmp0_forEach = this.x2l_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          element.x33();
        }
      }
    }
    updateDependenciesAndMutations(this);
  };
  KslScope.prototype.v33 = function () {
    var str = new StringBuilder('{ // scope: ' + this.y2l_1 + '\n');
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_appendLine = str.ga('    // depends on:');
        tmp$ret$0 = tmp0_appendLine.ea(_Char___init__impl__6a9atx(10));
      }
      tmp$ret$1 = tmp$ret$0;
    }
    {
      var tmp0_forEach = this.u2l_1.b3();
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var tmp$ret$3;
          {
            var tmp0_appendLine_0 = '    //   ' + element;
            var tmp$ret$2;
            {
              var tmp0_appendLine_1 = str.ga(tmp0_appendLine_0);
              tmp$ret$2 = tmp0_appendLine_1.ea(_Char___init__impl__6a9atx(10));
            }
            tmp$ret$3 = tmp$ret$2;
          }
        }
      }
    }
    var tmp$ret$4;
    {
      tmp$ret$4 = str.ea(_Char___init__impl__6a9atx(10));
    }
    var tmp$ret$6;
    {
      var tmp$ret$5;
      {
        var tmp0_appendLine_2 = str.ga('    // mutates:');
        tmp$ret$5 = tmp0_appendLine_2.ea(_Char___init__impl__6a9atx(10));
      }
      tmp$ret$6 = tmp$ret$5;
    }
    {
      var tmp1_forEach = this.v2l_1.b3();
      var tmp0_iterator_0 = tmp1_forEach.h();
      while (tmp0_iterator_0.n()) {
        var element_0 = tmp0_iterator_0.o();
        {
          var tmp$ret$8;
          {
            var tmp0_appendLine_3 = '    //   ' + element_0;
            var tmp$ret$7;
            {
              var tmp0_appendLine_4 = str.ga(tmp0_appendLine_3);
              tmp$ret$7 = tmp0_appendLine_4.ea(_Char___init__impl__6a9atx(10));
            }
            tmp$ret$8 = tmp$ret$7;
          }
        }
      }
    }
    var tmp$ret$9;
    {
      tmp$ret$9 = str.ea(_Char___init__impl__6a9atx(10));
    }
    {
      var tmp2_forEach = this.w2l_1;
      var tmp0_iterator_1 = tmp2_forEach.h();
      while (tmp0_iterator_1.n()) {
        var element_1 = tmp0_iterator_1.o();
        {
          var tmp$ret$11;
          {
            var tmp0_appendLine_5 = '    def ' + element_1.v33();
            var tmp$ret$10;
            {
              var tmp0_appendLine_6 = str.ga(tmp0_appendLine_5);
              tmp$ret$10 = tmp0_appendLine_6.ea(_Char___init__impl__6a9atx(10));
            }
            tmp$ret$11 = tmp$ret$10;
          }
        }
      }
    }
    var tmp$ret$12;
    {
      var tmp3_isNotEmpty = this.w2l_1;
      tmp$ret$12 = !tmp3_isNotEmpty.q();
    }
    if (tmp$ret$12) {
      var tmp$ret$13;
      {
        tmp$ret$13 = str.ea(_Char___init__impl__6a9atx(10));
      }
    }
    {
      var tmp4_forEach = this.x2l_1;
      var tmp0_iterator_2 = tmp4_forEach.h();
      while (tmp0_iterator_2.n()) {
        var element_2 = tmp0_iterator_2.o();
        {
          var tmp$ret$15;
          {
            var tmp0_appendLine_7 = prependIndent(element_2.v33(), '    ');
            var tmp$ret$14;
            {
              var tmp0_appendLine_8 = str.ga(tmp0_appendLine_7);
              tmp$ret$14 = tmp0_appendLine_8.ea(_Char___init__impl__6a9atx(10));
            }
            tmp$ret$15 = tmp$ret$14;
          }
        }
      }
    }
    str.ga('}');
    return str.toString();
  };
  KslScope.$metadata$ = classMeta('KslScope');
  function KslState(stateName) {
    this.p36_1 = stateName;
    this.q36_1 = 0;
  }
  KslState.prototype.r36 = function () {
    return this.p36_1;
  };
  KslState.prototype.z3e = function () {
    return new KslMutatedState(this, this.q36_1);
  };
  KslState.prototype.a3f = function () {
    var tmp = this.q36_1;
    var tmp0_this = this;
    tmp0_this.q36_1 = tmp0_this.q36_1 + 1 | 0;
    return new KslStateMutation(this, tmp, tmp0_this.q36_1);
  };
  KslState.prototype.v33 = function () {
    return this.p36_1;
  };
  KslState.$metadata$ = classMeta('KslState');
  function KslStateMutation(state, fromMutation, toMutation) {
    this.c3n_1 = state;
    this.d3n_1 = fromMutation;
    this.e3n_1 = toMutation;
  }
  KslStateMutation.prototype.i18 = function () {
    return this.c3n_1;
  };
  KslStateMutation.prototype.r3n = function () {
    return this.d3n_1;
  };
  KslStateMutation.prototype.s3n = function () {
    return this.e3n_1;
  };
  KslStateMutation.prototype.toString = function () {
    return this.c3n_1.p36_1 + '@' + this.d3n_1 + '->' + this.e3n_1;
  };
  KslStateMutation.$metadata$ = classMeta('KslStateMutation');
  function AnimationState(duration) {
    MutableStateValue.call(this, 1.0);
    this.x3n_1 = duration;
    this.y3n_1 = false;
    this.z3n_1 = this.x3n_1;
  }
  AnimationState.prototype.a3o = function () {
    this.m1e(0.0);
    this.h3o();
    this.z3n_1 = 0.0;
    this.y3n_1 = true;
  };
  AnimationState.prototype.i3o = function (deltaT) {
    if (this.z3n_1 < this.x3n_1) {
      var tmp0_this = this;
      tmp0_this.z3n_1 = tmp0_this.z3n_1 + deltaT;
      if (this.z3n_1 >= this.x3n_1) {
        this.m1e(1.0);
        this.y3n_1 = false;
      } else {
        this.m1e(this.z3n_1 / this.x3n_1);
      }
    } else {
      this.y3n_1 = false;
    }
  };
  AnimationState.$metadata$ = classMeta('AnimationState', undefined, undefined, undefined, undefined, MutableStateValue.prototype);
  function Row(_this__u8e3s4, width_0, height_0, block) {
    var tmp$ret$0;
    {
      var tmp0_Box = RowLayout_getInstance();
      var box = _this__u8e3s4.n3o().c3p(getKClass(BoxNode), Companion_getInstance_17().o3o_1);
      layout(height(width(box.r3p(), width_0), height_0), tmp0_Box);
      block(box);
      tmp$ret$0 = box;
    }
    return tmp$ret$0;
  }
  function BoxNode$Companion$factory$lambda() {
    return function (parent, surface) {
      return new BoxNode(parent, surface);
    };
  }
  function Companion_17() {
    Companion_instance_17 = this;
    var tmp = this;
    tmp.o3o_1 = BoxNode$Companion$factory$lambda();
  }
  Companion_17.prototype.s3p = function () {
    return this.o3o_1;
  };
  Companion_17.$metadata$ = objectMeta('Companion');
  var Companion_instance_17;
  function Companion_getInstance_17() {
    if (Companion_instance_17 == null)
      new Companion_17();
    return Companion_instance_17;
  }
  function BoxNode(parent, surface) {
    Companion_getInstance_17();
    UiNode.call(this, parent, surface);
    this.q3p_1 = new UiModifier(surface);
  }
  BoxNode.prototype.r3p = function () {
    return this.q3p_1;
  };
  BoxNode.$metadata$ = classMeta('BoxNode', [UiScope], undefined, undefined, undefined, UiNode.prototype);
  function Box(_this__u8e3s4, width_0, height_0, block) {
    var tmp$ret$0;
    {
      var tmp0_Box = CellLayout_getInstance();
      var box = _this__u8e3s4.n3o().c3p(getKClass(BoxNode), Companion_getInstance_17().o3o_1);
      layout(height(width(box.r3p(), width_0), height_0), tmp0_Box);
      block(box);
      tmp$ret$0 = box;
    }
    return tmp$ret$0;
  }
  function Box_0(_this__u8e3s4, layout_0, width_0, height_0, block) {
    var box = _this__u8e3s4.n3o().c3p(getKClass(BoxNode), Companion_getInstance_17().o3o_1);
    layout(height(width(box.r3p(), width_0), height_0), layout_0);
    block(box);
    return box;
  }
  function checkCache($this, text, font) {
    var tmp0_safe_receiver = font.h3r_1;
    var fontScale = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.o3r_1;
    if ((!(text === $this.x3r_1) ? true : !(font === $this.w3r_1)) ? true : !($this.y3r_1 === fontScale)) {
      $this.w3r_1 = font;
      $this.x3r_1 = text;
      $this.d3s_1 = false;
      $this.e3s_1 = false;
    }
  }
  function buildGeometry($this, textProps, textColor, textRotation) {
    $this.y3r_1 = ensureNotNull(textProps.f3s_1.h3r_1).o3r_1;
    var tmp$ret$0;
    {
      var tmp0_apply = $this.r3r_1;
      {
      }
      {
        tmp0_apply.t7();
        tmp0_apply.u3s_1 = $this.p3r_1.b3p_1;
        tmp0_apply.q3s_1 = textColor;
        if (!textRotation.equals(TextRotation_Rotation0_getInstance())) {
          tmp0_apply.w3s(textProps.h3s_1);
          var tmp0_subject = textRotation;
          var tmp0 = tmp0_subject.w1();
          switch (tmp0) {
            case 1:
              tmp0_apply.o2e(90.0, Companion_getInstance_9().c2h_1);
              ;
              break;
            case 2:
              tmp0_apply.o2e(180.0, Companion_getInstance_9().c2h_1);
              ;
              break;
            case 3:
              tmp0_apply.o2e(270.0, Companion_getInstance_9().c2h_1);
              ;
              break;
            case 0:
              break;
          }
          tmp0_apply.j2e(-textProps.h3s_1.z1z(), -textProps.h3s_1.b20(), -textProps.h3s_1.s2d());
        }
        tmp0_apply.x3s(textProps);
        $this.a3s_1.n2h(textProps.h3s_1);
        $this.b3s_1.s2i(Companion_getInstance_12().w2i_1);
      }
      tmp$ret$0 = tmp0_apply;
    }
    $this.q3r_1.k2p_1.y3s();
  }
  function updateVertexAttribs($this, textProps, textColor) {
    var posOffX = textProps.h3s_1.z1z() - $this.a3s_1.z1z();
    var posOffY = textProps.h3s_1.b20() - $this.a3s_1.b20();
    $this.a3s_1.n2h(textProps.h3s_1);
    $this.b3s_1.s2i($this.p3r_1.a3p_1);
    $this.c3s_1.s2i(textColor);
    var inductionVariable = 0;
    var last = $this.q3r_1.j2p_1;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var j = imul(i, $this.q3r_1.c2p_1);
        var tmp = $this.q3r_1.k2p_1;
        var tmp_0 = j + $this.s3r_1 | 0;
        var tmp$ret$0;
        {
          var tmp0_round = $this.q3r_1.k2p_1.r(j + $this.s3r_1 | 0) + posOffX;
          tmp$ret$0 = round(tmp0_round);
        }
        tmp.i2d(tmp_0, tmp$ret$0);
        var tmp_1 = $this.q3r_1.k2p_1;
        var tmp_2 = (j + $this.s3r_1 | 0) + 1 | 0;
        var tmp$ret$1;
        {
          var tmp1_round = $this.q3r_1.k2p_1.r((j + $this.s3r_1 | 0) + 1 | 0) + posOffY;
          tmp$ret$1 = round(tmp1_round);
        }
        tmp_1.i2d(tmp_2, tmp$ret$1);
        $this.q3r_1.k2p_1.i2d(j + $this.u3r_1 | 0, $this.p3r_1.x3p());
        $this.q3r_1.k2p_1.i2d((j + $this.u3r_1 | 0) + 1 | 0, $this.p3r_1.y3p());
        $this.q3r_1.k2p_1.i2d((j + $this.u3r_1 | 0) + 2 | 0, $this.p3r_1.z3p());
        $this.q3r_1.k2p_1.i2d((j + $this.u3r_1 | 0) + 3 | 0, $this.p3r_1.a3q());
        $this.q3r_1.k2p_1.i2d((j + $this.t3r_1 | 0) + 0 | 0, $this.c3s_1.a3t());
        $this.q3r_1.k2p_1.i2d((j + $this.t3r_1 | 0) + 1 | 0, $this.c3s_1.b3t());
        $this.q3r_1.k2p_1.i2d((j + $this.t3r_1 | 0) + 2 | 0, $this.c3s_1.c3t());
        $this.q3r_1.k2p_1.i2d((j + $this.t3r_1 | 0) + 3 | 0, $this.c3s_1.d3t());
      }
       while (inductionVariable < last);
  }
  function CachedText(node) {
    this.p3r_1 = node;
    this.q3r_1 = new IndexedVertexList(Companion_getInstance_24().f3t_1);
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_apply = new MeshBuilder(this.q3r_1);
      {
      }
      {
        tmp0_apply.p3s_1 = true;
      }
      tmp$ret$0 = tmp0_apply;
    }
    tmp.r3r_1 = tmp$ret$0;
    this.s3r_1 = ensureNotNull(this.q3r_1.g2p_1.z2(Companion_getInstance_28().z2v_1)) / 4 | 0;
    this.t3r_1 = ensureNotNull(this.q3r_1.g2p_1.z2(Companion_getInstance_28().d2w_1)) / 4 | 0;
    this.u3r_1 = ensureNotNull(this.q3r_1.g2p_1.z2(Companion_getInstance_24().e3t_1)) / 4 | 0;
    this.v3r_1 = new TextMetrics();
    this.w3r_1 = null;
    this.x3r_1 = null;
    this.y3r_1 = 0.0;
    this.z3r_1 = TextRotation_Rotation0_getInstance();
    this.a3s_1 = MutableVec3f_init_$Create$();
    this.b3s_1 = MutableVec4f_init_$Create$();
    this.c3s_1 = MutableColor_init_$Create$();
    this.d3s_1 = false;
    this.e3s_1 = false;
  }
  CachedText.prototype.i3t = function () {
    return this.p3r_1;
  };
  CachedText.prototype.j3t = function () {
    return this.v3r_1;
  };
  CachedText.prototype.k3t = function (text, font, ctx) {
    checkCache(this, text, font);
    if (!this.d3s_1) {
      this.d3s_1 = true;
      font.l3t(text, ctx, this.v3r_1);
    }
    return this.v3r_1;
  };
  CachedText.prototype.m3t = function (target, textProps, textColor, rotation, clip) {
    if (!rotation.equals(this.z3r_1)) {
      this.e3s_1 = false;
    }
    if (!this.e3s_1) {
      this.e3s_1 = true;
      buildGeometry(this, textProps, textColor, rotation);
    }
    if (((!(this.a3s_1.z1z() === this.p3r_1.w3o_1) ? true : !(this.a3s_1.b20() === this.p3r_1.x3o_1)) ? true : !this.b3s_1.equals(clip)) ? true : !this.c3s_1.equals(textColor)) {
      updateVertexAttribs(this, textProps, textColor);
    }
    var i0 = target.j2p_1;
    target.o3t(this.q3r_1.n3t());
    var inductionVariable = 0;
    var last = this.q3r_1.n3t();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        target.m2p_1.p3t(i0 + this.q3r_1.m2p_1.r(i) | 0);
      }
       while (inductionVariable < last);
    target.q3t(this.q3r_1.j2p_1);
    target.k2p_1.r3t(this.q3r_1.k2p_1);
    var tmp1_this = target;
    tmp1_this.j2p_1 = tmp1_this.j2p_1 + this.q3r_1.j2p_1 | 0;
  };
  CachedText.prototype.s3t = function (target, textProps, textColor, rotation, clip, $mask0, $handler) {
    if (!(($mask0 & 8) === 0))
      rotation = TextRotation_Rotation0_getInstance();
    if (!(($mask0 & 16) === 0))
      clip = this.p3r_1.a3p_1;
    return this.m3t(target, textProps, textColor, rotation, clip);
  };
  CachedText.$metadata$ = classMeta('CachedText');
  function CellLayout() {
    CellLayout_instance = this;
  }
  CellLayout.prototype.t3t = function (uiNode, ctx) {
    var tmp$ret$6;
    {
      {
      }
      var modWidth = uiNode.r3p().y3u();
      var modHeight = uiNode.r3p().z3u();
      var measuredWidth = 0.0;
      var measuredHeight = 0.0;
      var isDynamicWidth = true;
      var isDynamicHeight = true;
      if (modWidth instanceof Dp) {
        measuredWidth = uiNode.e3r(modWidth.a3v_1);
        isDynamicWidth = false;
      }
      if (modHeight instanceof Dp) {
        measuredHeight = uiNode.e3r(modHeight.a3v_1);
        isDynamicHeight = false;
      }
      if (isDynamicWidth ? true : isDynamicHeight) {
        var inductionVariable = 0;
        var last = uiNode.u3p().m() - 1 | 0;
        if (inductionVariable <= last)
          do {
            var i = inductionVariable;
            inductionVariable = inductionVariable + 1 | 0;
            var child = uiNode.u3p().r(i);
            if (isDynamicWidth) {
              var tmp$ret$0;
              {
                var tmp0_max = uiNode.c3q();
                var tmp1_max = child.g3q();
                tmp$ret$0 = Math.max(tmp0_max, tmp1_max);
              }
              var pStart = tmp$ret$0;
              var tmp$ret$1;
              {
                var tmp2_max = uiNode.d3q();
                var tmp3_max = child.h3q();
                tmp$ret$1 = Math.max(tmp2_max, tmp3_max);
              }
              var pEnd = tmp$ret$1;
              var tmp$ret$2;
              {
                var tmp4_max = measuredWidth;
                var tmp5_max = child.u3o_1 + pStart + pEnd;
                tmp$ret$2 = Math.max(tmp4_max, tmp5_max);
              }
              measuredWidth = tmp$ret$2;
            }
            if (isDynamicHeight) {
              var tmp$ret$3;
              {
                var tmp6_max = uiNode.e3q();
                var tmp7_max = child.i3q();
                tmp$ret$3 = Math.max(tmp6_max, tmp7_max);
              }
              var pTop = tmp$ret$3;
              var tmp$ret$4;
              {
                var tmp8_max = uiNode.f3q();
                var tmp9_max = child.j3q();
                tmp$ret$4 = Math.max(tmp8_max, tmp9_max);
              }
              var pBottom = tmp$ret$4;
              var tmp$ret$5;
              {
                var tmp10_max = measuredHeight;
                var tmp11_max = child.v3o_1 + pTop + pBottom;
                tmp$ret$5 = Math.max(tmp10_max, tmp11_max);
              }
              measuredHeight = tmp$ret$5;
            }
          }
           while (inductionVariable <= last);
      }
      tmp$ret$6 = uiNode.n3q(measuredWidth, measuredHeight);
    }
    return tmp$ret$6;
  };
  CellLayout.prototype.b3v = function (uiNode, ctx) {
    var tmp$ret$8;
    {
      {
      }
      {
        {
          var tmp0_forEach = uiNode.u3p();
          var tmp0_iterator = tmp0_forEach.h();
          while (tmp0_iterator.n()) {
            var element = tmp0_iterator.o();
            {
              var tmp = uiNode.v3p();
              var tmp$ret$0;
              {
                var tmp0_max = uiNode.c3q();
                var tmp1_max = element.g3q();
                tmp$ret$0 = Math.max(tmp0_max, tmp1_max);
              }
              var tmp_0 = tmp - tmp$ret$0;
              var tmp$ret$1;
              {
                var tmp2_max = uiNode.d3q();
                var tmp3_max = element.h3q();
                tmp$ret$1 = Math.max(tmp2_max, tmp3_max);
              }
              var growSpaceW = tmp_0 - tmp$ret$1;
              var tmp_1 = uiNode.w3p();
              var tmp$ret$2;
              {
                var tmp4_max = uiNode.e3q();
                var tmp5_max = element.i3q();
                tmp$ret$2 = Math.max(tmp4_max, tmp5_max);
              }
              var tmp_2 = tmp_1 - tmp$ret$2;
              var tmp$ret$3;
              {
                var tmp6_max = uiNode.f3q();
                var tmp7_max = element.j3q();
                tmp$ret$3 = Math.max(tmp6_max, tmp7_max);
              }
              var growSpaceH = tmp_2 - tmp$ret$3;
              var childWidth = element.p3q(growSpaceW);
              var childHeight = element.q3q(growSpaceH);
              var childX = uiNode.r3q(element, childWidth);
              var childY = uiNode.s3q(element, childHeight);
              var tmp$ret$4;
              {
                tmp$ret$4 = round(childX);
              }
              var tmp_3 = tmp$ret$4;
              var tmp$ret$5;
              {
                tmp$ret$5 = round(childY);
              }
              var tmp_4 = tmp$ret$5;
              var tmp$ret$6;
              {
                var tmp8_round = childX + childWidth;
                tmp$ret$6 = round(tmp8_round);
              }
              var tmp_5 = tmp$ret$6;
              var tmp$ret$7;
              {
                var tmp9_round = childY + childHeight;
                tmp$ret$7 = round(tmp9_round);
              }
              element.o3q(tmp_3, tmp_4, tmp_5, tmp$ret$7);
            }
          }
        }
      }
      tmp$ret$8 = uiNode;
    }
  };
  CellLayout.$metadata$ = objectMeta('CellLayout', [Layout]);
  var CellLayout_instance;
  function CellLayout_getInstance() {
    if (CellLayout_instance == null)
      new CellLayout();
    return CellLayout_instance;
  }
  function Companion_18() {
    Companion_instance_18 = this;
  }
  Companion_18.prototype.c3v = function (accent, accentVariant, background, backgroundVariant, error, onAccent, onBackground, onError, isLight) {
    return new Colors(accent, accentVariant, background, backgroundVariant, error, onAccent, onBackground, onError, isLight);
  };
  Companion_18.prototype.d3v = function (accent, accentVariant, background, backgroundVariant, error, onAccent, onBackground, onError, isLight, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      accent = Color_0('b2ff00');
    if (!(($mask0 & 2) === 0))
      accentVariant = Color_0('7cb200');
    if (!(($mask0 & 4) === 0))
      background = Color_0('101010d0');
    if (!(($mask0 & 8) === 0))
      backgroundVariant = Color_0('202020d0');
    if (!(($mask0 & 16) === 0))
      error = Color_0('b00020');
    if (!(($mask0 & 32) === 0))
      onAccent = Companion_getInstance_39().w30_1;
    if (!(($mask0 & 64) === 0))
      onBackground = Companion_getInstance_39().a31_1;
    if (!(($mask0 & 128) === 0))
      onError = Companion_getInstance_39().w30_1;
    if (!(($mask0 & 256) === 0))
      isLight = false;
    return this.c3v(accent, accentVariant, background, backgroundVariant, error, onAccent, onBackground, onError, isLight);
  };
  Companion_18.$metadata$ = objectMeta('Companion');
  var Companion_instance_18;
  function Companion_getInstance_18() {
    if (Companion_instance_18 == null)
      new Companion_18();
    return Companion_instance_18;
  }
  function Colors(accent, accentVariant, background, backgroundVariant, error, onAccent, onBackground, onError, isLight) {
    Companion_getInstance_18();
    this.e3v_1 = accent;
    this.f3v_1 = accentVariant;
    this.g3v_1 = background;
    this.h3v_1 = backgroundVariant;
    this.i3v_1 = error;
    this.j3v_1 = onAccent;
    this.k3v_1 = onBackground;
    this.l3v_1 = onError;
    this.m3v_1 = isLight;
  }
  Colors.prototype.n3v = function () {
    return this.g3v_1;
  };
  Colors.prototype.toString = function () {
    return 'Colors(accent=' + this.e3v_1 + ', accentVariant=' + this.f3v_1 + ', background=' + this.g3v_1 + ', backgroundVariant=' + this.h3v_1 + ', error=' + this.i3v_1 + ', onAccent=' + this.j3v_1 + ', onBackground=' + this.k3v_1 + ', onError=' + this.l3v_1 + ', isLight=' + this.m3v_1 + ')';
  };
  Colors.prototype.hashCode = function () {
    var result = this.e3v_1.hashCode();
    result = imul(result, 31) + this.f3v_1.hashCode() | 0;
    result = imul(result, 31) + this.g3v_1.hashCode() | 0;
    result = imul(result, 31) + this.h3v_1.hashCode() | 0;
    result = imul(result, 31) + this.i3v_1.hashCode() | 0;
    result = imul(result, 31) + this.j3v_1.hashCode() | 0;
    result = imul(result, 31) + this.k3v_1.hashCode() | 0;
    result = imul(result, 31) + this.l3v_1.hashCode() | 0;
    result = imul(result, 31) + (this.m3v_1 | 0) | 0;
    return result;
  };
  Colors.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Colors))
      return false;
    var tmp0_other_with_cast = other instanceof Colors ? other : THROW_CCE();
    if (!this.e3v_1.equals(tmp0_other_with_cast.e3v_1))
      return false;
    if (!this.f3v_1.equals(tmp0_other_with_cast.f3v_1))
      return false;
    if (!this.g3v_1.equals(tmp0_other_with_cast.g3v_1))
      return false;
    if (!this.h3v_1.equals(tmp0_other_with_cast.h3v_1))
      return false;
    if (!this.i3v_1.equals(tmp0_other_with_cast.i3v_1))
      return false;
    if (!this.j3v_1.equals(tmp0_other_with_cast.j3v_1))
      return false;
    if (!this.k3v_1.equals(tmp0_other_with_cast.k3v_1))
      return false;
    if (!this.l3v_1.equals(tmp0_other_with_cast.l3v_1))
      return false;
    if (!(this.m3v_1 === tmp0_other_with_cast.m3v_1))
      return false;
    return true;
  };
  Colors.$metadata$ = classMeta('Colors');
  function ColumnLayout() {
    ColumnLayout_instance = this;
  }
  ColumnLayout.prototype.t3t = function (uiNode, ctx) {
    VerticalLayout_getInstance().o3v(uiNode, true);
  };
  ColumnLayout.prototype.b3v = function (uiNode, ctx) {
    VerticalLayout_getInstance().p3v(uiNode, true);
  };
  ColumnLayout.$metadata$ = objectMeta('ColumnLayout', [Layout]);
  var ColumnLayout_instance;
  function ColumnLayout_getInstance() {
    if (ColumnLayout_instance == null)
      new ColumnLayout();
    return ColumnLayout_instance;
  }
  function determineAvailableGrowSpace(_this__u8e3s4, $this, isTopToBottom) {
    var prevMargin = _this__u8e3s4.e3q();
    var remainingSpace = _this__u8e3s4.w3p();
    var totalWeight = 0.0;
    var indices = isTopToBottom ? get_indices(_this__u8e3s4.u3p()) : reversed(get_indices(_this__u8e3s4.u3p()));
    var inductionVariable = indices.e1_1;
    var last = indices.f1_1;
    var step = indices.g1_1;
    if ((step > 0 ? inductionVariable <= last : false) ? true : step < 0 ? last <= inductionVariable : false)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + step | 0;
        var child = _this__u8e3s4.u3p().r(i);
        var childH = child.r3p().z3u();
        if (childH instanceof Dp)
          remainingSpace = remainingSpace - _this__u8e3s4.e3r(childH.a3v_1);
        else {
          if (childH instanceof Grow)
            totalWeight = totalWeight + childH.q3v_1;
          else {
            if (equals(childH, WrapContent_getInstance()))
              remainingSpace = remainingSpace - child.v3o_1;
          }
        }
        var tmp = remainingSpace;
        var tmp$ret$0;
        {
          var tmp0_max = prevMargin;
          var tmp1_max = child.i3q();
          tmp$ret$0 = Math.max(tmp0_max, tmp1_max);
        }
        remainingSpace = tmp - tmp$ret$0;
        prevMargin = child.j3q();
        if (i === get_lastIndex(_this__u8e3s4.n3o().u3p())) {
          var tmp_0 = remainingSpace;
          var tmp$ret$1;
          {
            var tmp2_max = prevMargin;
            var tmp3_max = _this__u8e3s4.n3o().f3q();
            tmp$ret$1 = Math.max(tmp2_max, tmp3_max);
          }
          remainingSpace = tmp_0 - tmp$ret$1;
        }
      }
       while (!(i === last));
    if (totalWeight === 0.0)
      totalWeight = 1.0;
    return new MutableVec2f(remainingSpace, totalWeight);
  }
  function VerticalLayout() {
    VerticalLayout_instance = this;
  }
  VerticalLayout.prototype.o3v = function (uiNode, isTopToBottom) {
    var tmp$ret$5;
    {
      {
      }
      var modWidth = uiNode.r3p().y3u();
      var modHeight = uiNode.r3p().z3u();
      var measuredWidth = 0.0;
      var measuredHeight = 0.0;
      var isDynamicWidth = true;
      var isDynamicHeight = true;
      if (modWidth instanceof Dp) {
        measuredWidth = uiNode.e3r(modWidth.a3v_1);
        isDynamicWidth = false;
      }
      if (modHeight instanceof Dp) {
        measuredHeight = uiNode.e3r(modHeight.a3v_1);
        isDynamicHeight = false;
      }
      if (isDynamicWidth ? true : isDynamicHeight) {
        var prevMargin = uiNode.e3q();
        var indices = isTopToBottom ? get_indices(uiNode.u3p()) : reversed(get_indices(uiNode.u3p()));
        var inductionVariable = indices.e1_1;
        var last = indices.f1_1;
        var step = indices.g1_1;
        if ((step > 0 ? inductionVariable <= last : false) ? true : step < 0 ? last <= inductionVariable : false)
          do {
            var i = inductionVariable;
            inductionVariable = inductionVariable + step | 0;
            var child = uiNode.u3p().r(i);
            if (isDynamicWidth) {
              var tmp$ret$0;
              {
                var tmp0_max = uiNode.c3q();
                var tmp1_max = child.g3q();
                tmp$ret$0 = Math.max(tmp0_max, tmp1_max);
              }
              var pStart = tmp$ret$0;
              var tmp$ret$1;
              {
                var tmp2_max = uiNode.d3q();
                var tmp3_max = child.h3q();
                tmp$ret$1 = Math.max(tmp2_max, tmp3_max);
              }
              var pEnd = tmp$ret$1;
              var tmp$ret$2;
              {
                var tmp4_max = measuredWidth;
                var tmp5_max = child.u3o_1 + pStart + pEnd;
                tmp$ret$2 = Math.max(tmp4_max, tmp5_max);
              }
              measuredWidth = tmp$ret$2;
            }
            if (isDynamicHeight) {
              var tmp = measuredHeight;
              var tmp_0 = child.v3o_1;
              var tmp$ret$3;
              {
                var tmp6_max = prevMargin;
                var tmp7_max = child.i3q();
                tmp$ret$3 = Math.max(tmp6_max, tmp7_max);
              }
              measuredHeight = tmp + (tmp_0 + tmp$ret$3);
              prevMargin = child.j3q();
            }
            if (i === get_lastIndex(uiNode.u3p()) ? isDynamicHeight : false) {
              var tmp_1 = measuredHeight;
              var tmp$ret$4;
              {
                var tmp8_max = prevMargin;
                var tmp9_max = uiNode.f3q();
                tmp$ret$4 = Math.max(tmp8_max, tmp9_max);
              }
              measuredHeight = tmp_1 + tmp$ret$4;
            }
          }
           while (!(i === last));
      }
      tmp$ret$5 = uiNode.n3q(measuredWidth, measuredHeight);
    }
    return tmp$ret$5;
  };
  VerticalLayout.prototype.p3v = function (uiNode, isTopToBottom) {
    var tmp$ret$8;
    {
      {
      }
      var growSpace = determineAvailableGrowSpace(uiNode, VerticalLayout_getInstance(), isTopToBottom);
      var y = isTopToBottom ? uiNode.x3o_1 : uiNode.z3o_1;
      var prevMargin = isTopToBottom ? uiNode.e3q() : uiNode.f3q();
      var inductionVariable = 0;
      var last = uiNode.u3p().m() - 1 | 0;
      var tmp;
      if (inductionVariable <= last) {
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          var child = uiNode.u3p().r(i);
          var growSpaceH = growSpace.z1z() / growSpace.b20();
          var tmp_0 = uiNode.v3p();
          var tmp$ret$0;
          {
            var tmp0_max = uiNode.c3q();
            var tmp1_max = child.g3q();
            tmp$ret$0 = Math.max(tmp0_max, tmp1_max);
          }
          var tmp_1 = tmp_0 - tmp$ret$0;
          var tmp$ret$1;
          {
            var tmp2_max = uiNode.d3q();
            var tmp3_max = child.h3q();
            tmp$ret$1 = Math.max(tmp2_max, tmp3_max);
          }
          var growSpaceW = tmp_1 - tmp$ret$1;
          var layoutW = child.p3q(growSpaceW);
          var layoutH = child.q3q(growSpaceH);
          var layoutX = uiNode.r3q(child, layoutW);
          var ch = child.r3p().z3u();
          if (ch instanceof Grow) {
            var tmp1_this = growSpace;
            tmp1_this.t2f(tmp1_this.z1z() - layoutH);
            var tmp2_this = growSpace;
            tmp2_this.u2f(tmp2_this.b20() - ch.q3v_1);
          }
          var layoutY;
          if (isTopToBottom) {
            var tmp_2 = y;
            var tmp$ret$2;
            {
              var tmp4_max = prevMargin;
              var tmp5_max = child.i3q();
              tmp$ret$2 = Math.max(tmp4_max, tmp5_max);
            }
            y = tmp_2 + tmp$ret$2;
            prevMargin = child.j3q();
            layoutY = y;
            y = y + layoutH;
          } else {
            var tmp_3 = y;
            var tmp$ret$3;
            {
              var tmp6_max = prevMargin;
              var tmp7_max = child.j3q();
              tmp$ret$3 = Math.max(tmp6_max, tmp7_max);
            }
            y = tmp_3 - tmp$ret$3;
            prevMargin = child.i3q();
            y = y - layoutH;
            layoutY = y;
          }
          var tmp$ret$4;
          {
            tmp$ret$4 = round(layoutX);
          }
          var tmp_4 = tmp$ret$4;
          var tmp$ret$5;
          {
            tmp$ret$5 = round(layoutY);
          }
          var tmp_5 = tmp$ret$5;
          var tmp$ret$6;
          {
            var tmp8_round = layoutX + layoutW;
            tmp$ret$6 = round(tmp8_round);
          }
          var tmp_6 = tmp$ret$6;
          var tmp$ret$7;
          {
            var tmp9_round = layoutY + layoutH;
            tmp$ret$7 = round(tmp9_round);
          }
          child.o3q(tmp_4, tmp_5, tmp_6, tmp$ret$7);
        }
         while (inductionVariable <= last);
        tmp = Unit_getInstance();
      }
      tmp$ret$8 = tmp;
    }
    return tmp$ret$8;
  };
  VerticalLayout.$metadata$ = objectMeta('VerticalLayout');
  var VerticalLayout_instance;
  function VerticalLayout_getInstance() {
    if (VerticalLayout_instance == null)
      new VerticalLayout();
    return VerticalLayout_instance;
  }
  function _Dp___init__impl__ms3zkb(value) {
    return value;
  }
  function _Dp___get_value__impl__geb1vb($this) {
    return $this;
  }
  function Dp__times_impl_bnlh65($this, factor) {
    return _Dp___init__impl__ms3zkb(_Dp___get_value__impl__geb1vb($this) * factor);
  }
  function Dp__toString_impl_kcddez($this) {
    return 'Dp(' + _Dp___get_value__impl__geb1vb($this) + ')';
  }
  function Companion_19() {
    Companion_instance_19 = this;
    this.t3v_1 = _Dp___init__impl__ms3zkb(0.0);
    this.u3v_1 = _Dp___init__impl__ms3zkb(1.0E9);
  }
  Companion_19.$metadata$ = objectMeta('Companion');
  var Companion_instance_19;
  function Companion_getInstance_19() {
    if (Companion_instance_19 == null)
      new Companion_19();
    return Companion_instance_19;
  }
  function Dp__hashCode_impl_sxkrra($this) {
    return getNumberHashCode($this);
  }
  function Dp__equals_impl_bc4gpq($this, other) {
    if (!(other instanceof Dp))
      return false;
    var tmp0_other_with_cast = other instanceof Dp ? other.a3v_1 : THROW_CCE();
    if (!equals($this, tmp0_other_with_cast))
      return false;
    return true;
  }
  function Dp(value) {
    Companion_getInstance_19();
    this.a3v_1 = value;
  }
  Dp.prototype.toString = function () {
    return Dp__toString_impl_kcddez(this.a3v_1);
  };
  Dp.prototype.hashCode = function () {
    return Dp__hashCode_impl_sxkrra(this.a3v_1);
  };
  Dp.prototype.equals = function (other) {
    return Dp__equals_impl_bc4gpq(this.a3v_1, other);
  };
  Dp.$metadata$ = classMeta('Dp', [Dimension]);
  function WrapContent() {
    WrapContent_instance = this;
  }
  WrapContent.prototype.toString = function () {
    return 'WrapContent';
  };
  WrapContent.$metadata$ = objectMeta('WrapContent', [Dimension]);
  var WrapContent_instance;
  function WrapContent_getInstance() {
    if (WrapContent_instance == null)
      new WrapContent();
    return WrapContent_instance;
  }
  function Grow_init_$Init$(weight, min, max, $mask0, $marker, $this) {
    if (!(($mask0 & 2) === 0))
      min = new Dp(Companion_getInstance_19().t3v_1);
    if (!(($mask0 & 4) === 0))
      max = new Dp(Companion_getInstance_19().u3v_1);
    Grow.call($this, weight, min, max);
    return $this;
  }
  function Grow_init_$Create$(weight, min, max, $mask0, $marker) {
    return Grow_init_$Init$(weight, min, max, $mask0, $marker, Object.create(Grow.prototype));
  }
  function Companion_20() {
    Companion_instance_20 = this;
    var tmp = this;
    tmp.v3v_1 = Grow_init_$Create$(1.0, null, null, 6, null);
  }
  Companion_20.prototype.w3v = function () {
    return this.v3v_1;
  };
  Companion_20.$metadata$ = objectMeta('Companion');
  var Companion_instance_20;
  function Companion_getInstance_20() {
    if (Companion_instance_20 == null)
      new Companion_20();
    return Companion_instance_20;
  }
  function Grow(weight, min, max) {
    Companion_getInstance_20();
    this.q3v_1 = weight;
    this.r3v_1 = min;
    this.s3v_1 = max;
  }
  Grow.prototype.toString = function () {
    return 'Grow(weight=' + this.q3v_1 + ')';
  };
  Grow.$metadata$ = classMeta('Grow', [Dimension]);
  function Dimension() {
  }
  Dimension.$metadata$ = interfaceMeta('Dimension');
  function Layout() {
  }
  Layout.$metadata$ = interfaceMeta('Layout');
  function notifyListeners($this, newState) {
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = $this.d3o_1;
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      var inductionVariable = 0;
      var last = $this.d3o_1.m() - 1 | 0;
      if (inductionVariable <= last)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          $this.d3o_1.r(i)(newState);
        }
         while (inductionVariable <= last);
    }
  }
  function MutableStateValue(initValue) {
    MutableState.call(this);
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.d3o_1 = tmp$ret$0;
    this.e3o_1 = initValue;
  }
  MutableStateValue.prototype.i2r = function (value) {
    if (!equals(value, this.e3o_1)) {
      this.h3o();
      notifyListeners(this, value);
    }
    this.e3o_1 = value;
  };
  MutableStateValue.prototype.l2 = function () {
    return this.e3o_1;
  };
  MutableStateValue.prototype.m1e = function (value) {
    this.i2r(value);
  };
  MutableStateValue.prototype.j3o = function (surface) {
    this.l3o(surface);
    return this.e3o_1;
  };
  MutableStateValue.prototype.k3o = function (block) {
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.d3o_1;
      tmp0_plusAssign.b(block);
    }
    return this;
  };
  MutableStateValue.$metadata$ = classMeta('MutableStateValue', undefined, undefined, undefined, undefined, MutableState.prototype);
  function mutableStateOf(value) {
    return new MutableStateValue(value);
  }
  function toggle(_this__u8e3s4) {
    _this__u8e3s4.i2r(!_this__u8e3s4.e3o_1);
  }
  function MutableState() {
    this.f3o_1 = true;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.g3o_1 = tmp$ret$0;
  }
  MutableState.prototype.h3o = function () {
    if (!this.f3o_1) {
      this.f3o_1 = true;
      var inductionVariable = 0;
      var last = this.g3o_1.m() - 1 | 0;
      if (inductionVariable <= last)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          this.g3o_1.r(i).k3x();
        }
         while (inductionVariable <= last);
    }
  };
  MutableState.prototype.l3o = function (surface) {
    if (!this.g3o_1.p(surface)) {
      var tmp0_this = this;
      {
        var tmp0_plusAssign = tmp0_this.g3o_1;
        tmp0_plusAssign.b(surface);
      }
      surface.l3x(this);
      if (this.f3o_1) {
        surface.k3x();
      }
    }
  };
  MutableState.prototype.m3o = function (surface) {
    var tmp0_this = this;
    {
      var tmp0_minusAssign = tmp0_this.g3o_1;
      tmp0_minusAssign.c4(surface);
    }
    this.f3o_1 = false;
  };
  MutableState.$metadata$ = classMeta('MutableState');
  function Clickable() {
  }
  Clickable.$metadata$ = interfaceMeta('Clickable');
  function RowLayout() {
    RowLayout_instance = this;
  }
  RowLayout.prototype.t3t = function (uiNode, ctx) {
    HorizontalLayout_getInstance().o3v(uiNode, true);
  };
  RowLayout.prototype.b3v = function (uiNode, ctx) {
    HorizontalLayout_getInstance().p3v(uiNode, true);
  };
  RowLayout.$metadata$ = objectMeta('RowLayout', [Layout]);
  var RowLayout_instance;
  function RowLayout_getInstance() {
    if (RowLayout_instance == null)
      new RowLayout();
    return RowLayout_instance;
  }
  function determineAvailableGrowSpace_0(_this__u8e3s4, $this, isStartToEnd) {
    var prevMargin = _this__u8e3s4.c3q();
    var remainingSpace = _this__u8e3s4.v3p();
    var totalWeight = 0.0;
    var indices = isStartToEnd ? get_indices(_this__u8e3s4.u3p()) : reversed(get_indices(_this__u8e3s4.u3p()));
    var inductionVariable = indices.e1_1;
    var last = indices.f1_1;
    var step = indices.g1_1;
    if ((step > 0 ? inductionVariable <= last : false) ? true : step < 0 ? last <= inductionVariable : false)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + step | 0;
        var child = _this__u8e3s4.u3p().r(i);
        var childW = child.r3p().y3u();
        if (childW instanceof Dp)
          remainingSpace = remainingSpace - _this__u8e3s4.e3r(childW.a3v_1);
        else {
          if (childW instanceof Grow)
            totalWeight = totalWeight + childW.q3v_1;
          else {
            if (equals(childW, WrapContent_getInstance()))
              remainingSpace = remainingSpace - child.u3o_1;
          }
        }
        var tmp = remainingSpace;
        var tmp$ret$0;
        {
          var tmp0_max = prevMargin;
          var tmp1_max = child.g3q();
          tmp$ret$0 = Math.max(tmp0_max, tmp1_max);
        }
        remainingSpace = tmp - tmp$ret$0;
        prevMargin = child.h3q();
        if (i === get_lastIndex(_this__u8e3s4.n3o().u3p())) {
          var tmp_0 = remainingSpace;
          var tmp$ret$1;
          {
            var tmp2_max = prevMargin;
            var tmp3_max = _this__u8e3s4.n3o().d3q();
            tmp$ret$1 = Math.max(tmp2_max, tmp3_max);
          }
          remainingSpace = tmp_0 - tmp$ret$1;
        }
      }
       while (!(i === last));
    if (totalWeight === 0.0)
      totalWeight = 1.0;
    return new MutableVec2f(remainingSpace, totalWeight);
  }
  function HorizontalLayout() {
    HorizontalLayout_instance = this;
  }
  HorizontalLayout.prototype.o3v = function (uiNode, isStartToEnd) {
    var tmp$ret$5;
    {
      {
      }
      var modWidth = uiNode.r3p().y3u();
      var modHeight = uiNode.r3p().z3u();
      var measuredWidth = 0.0;
      var measuredHeight = 0.0;
      var isDynamicWidth = true;
      var isDynamicHeight = true;
      if (modWidth instanceof Dp) {
        measuredWidth = uiNode.e3r(modWidth.a3v_1);
        isDynamicWidth = false;
      }
      if (modHeight instanceof Dp) {
        measuredHeight = uiNode.e3r(modHeight.a3v_1);
        isDynamicHeight = false;
      }
      if (isDynamicWidth ? true : isDynamicHeight) {
        var prevMargin = uiNode.e3q();
        var indices = isStartToEnd ? get_indices(uiNode.u3p()) : reversed(get_indices(uiNode.u3p()));
        var inductionVariable = indices.e1_1;
        var last = indices.f1_1;
        var step = indices.g1_1;
        if ((step > 0 ? inductionVariable <= last : false) ? true : step < 0 ? last <= inductionVariable : false)
          do {
            var i = inductionVariable;
            inductionVariable = inductionVariable + step | 0;
            var child = uiNode.u3p().r(i);
            if (isDynamicWidth) {
              var tmp = measuredWidth;
              var tmp_0 = child.u3o_1;
              var tmp$ret$0;
              {
                var tmp0_max = prevMargin;
                var tmp1_max = child.g3q();
                tmp$ret$0 = Math.max(tmp0_max, tmp1_max);
              }
              measuredWidth = tmp + (tmp_0 + tmp$ret$0);
              prevMargin = child.h3q();
            }
            if (isDynamicHeight) {
              var tmp$ret$1;
              {
                var tmp2_max = uiNode.e3q();
                var tmp3_max = child.i3q();
                tmp$ret$1 = Math.max(tmp2_max, tmp3_max);
              }
              var pTop = tmp$ret$1;
              var tmp$ret$2;
              {
                var tmp4_max = uiNode.f3q();
                var tmp5_max = child.j3q();
                tmp$ret$2 = Math.max(tmp4_max, tmp5_max);
              }
              var pBottom = tmp$ret$2;
              var tmp$ret$3;
              {
                var tmp6_max = measuredHeight;
                var tmp7_max = child.v3o_1 + pTop + pBottom;
                tmp$ret$3 = Math.max(tmp6_max, tmp7_max);
              }
              measuredHeight = tmp$ret$3;
            }
            if (i === get_lastIndex(uiNode.u3p()) ? isDynamicWidth : false) {
              var tmp_1 = measuredWidth;
              var tmp$ret$4;
              {
                var tmp8_max = prevMargin;
                var tmp9_max = uiNode.d3q();
                tmp$ret$4 = Math.max(tmp8_max, tmp9_max);
              }
              measuredWidth = tmp_1 + tmp$ret$4;
            }
          }
           while (!(i === last));
      }
      tmp$ret$5 = uiNode.n3q(measuredWidth, measuredHeight);
    }
    return tmp$ret$5;
  };
  HorizontalLayout.prototype.p3v = function (uiNode, isStartToEnd) {
    var tmp$ret$8;
    {
      {
      }
      var growSpace = determineAvailableGrowSpace_0(uiNode, HorizontalLayout_getInstance(), isStartToEnd);
      var x = isStartToEnd ? uiNode.w3o_1 : uiNode.y3o_1;
      var prevMargin = isStartToEnd ? uiNode.c3q() : uiNode.d3q();
      var inductionVariable = 0;
      var last = uiNode.u3p().m() - 1 | 0;
      var tmp;
      if (inductionVariable <= last) {
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          var child = uiNode.u3p().r(i);
          var growSpaceW = growSpace.z1z() / growSpace.b20();
          var tmp_0 = uiNode.w3p();
          var tmp$ret$0;
          {
            var tmp0_max = uiNode.e3q();
            var tmp1_max = child.i3q();
            tmp$ret$0 = Math.max(tmp0_max, tmp1_max);
          }
          var tmp_1 = tmp_0 - tmp$ret$0;
          var tmp$ret$1;
          {
            var tmp2_max = uiNode.f3q();
            var tmp3_max = child.j3q();
            tmp$ret$1 = Math.max(tmp2_max, tmp3_max);
          }
          var growSpaceH = tmp_1 - tmp$ret$1;
          var layoutW = child.p3q(growSpaceW);
          var layoutH = child.q3q(growSpaceH);
          var layoutY = uiNode.s3q(child, layoutH);
          var cw = child.r3p().y3u();
          if (cw instanceof Grow) {
            var tmp1_this = growSpace;
            tmp1_this.t2f(tmp1_this.z1z() - layoutW);
            var tmp2_this = growSpace;
            tmp2_this.u2f(tmp2_this.b20() - cw.q3v_1);
          }
          var layoutX;
          if (isStartToEnd) {
            var tmp_2 = x;
            var tmp$ret$2;
            {
              var tmp4_max = prevMargin;
              var tmp5_max = child.g3q();
              tmp$ret$2 = Math.max(tmp4_max, tmp5_max);
            }
            x = tmp_2 + tmp$ret$2;
            prevMargin = child.h3q();
            layoutX = x;
            x = x + layoutW;
          } else {
            var tmp_3 = x;
            var tmp$ret$3;
            {
              var tmp6_max = prevMargin;
              var tmp7_max = child.h3q();
              tmp$ret$3 = Math.max(tmp6_max, tmp7_max);
            }
            x = tmp_3 - tmp$ret$3;
            prevMargin = child.g3q();
            x = x - layoutW;
            layoutX = x;
          }
          var tmp$ret$4;
          {
            tmp$ret$4 = round(layoutX);
          }
          var tmp_4 = tmp$ret$4;
          var tmp$ret$5;
          {
            tmp$ret$5 = round(layoutY);
          }
          var tmp_5 = tmp$ret$5;
          var tmp$ret$6;
          {
            var tmp8_round = layoutX + layoutW;
            tmp$ret$6 = round(tmp8_round);
          }
          var tmp_6 = tmp$ret$6;
          var tmp$ret$7;
          {
            var tmp9_round = layoutY + layoutH;
            tmp$ret$7 = round(tmp9_round);
          }
          child.o3q(tmp_4, tmp_5, tmp_6, tmp$ret$7);
        }
         while (inductionVariable <= last);
        tmp = Unit_getInstance();
      }
      tmp$ret$8 = tmp;
    }
    return tmp$ret$8;
  };
  HorizontalLayout.$metadata$ = objectMeta('HorizontalLayout');
  var HorizontalLayout_instance;
  function HorizontalLayout_getInstance() {
    if (HorizontalLayout_instance == null)
      new HorizontalLayout();
    return HorizontalLayout_instance;
  }
  function Companion_21() {
    Companion_instance_21 = this;
  }
  Companion_21.prototype.n3x = function (normalText, largeText, sliderHeight, checkboxSize, radioButtonSize, switchSize, gap, smallGap, largeGap) {
    return new Sizes(normalText, largeText, sliderHeight, checkboxSize, radioButtonSize, switchSize, gap, smallGap, largeGap);
  };
  Companion_21.prototype.o3x = function (normalText, largeText, sliderHeight, checkboxSize, radioButtonSize, switchSize, gap, smallGap, largeGap, $mask0, $handler) {
    if (!(($mask0 & 1) === 0)) {
      Companion_getInstance_40();
      var tmp0_family = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif';
      normalText = FontProps_init_$Create$(tmp0_family, 15.0, 0, null, null, null, false, 0, 2.0, false, 252, null);
    }
    if (!(($mask0 & 2) === 0)) {
      Companion_getInstance_40();
      largeText = FontProps_init_$Create$('-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif', 20.0, 0, null, null, null, false, 0, 0.0, false, 508, null);
    }
    if (!(($mask0 & 4) === 0))
      sliderHeight = _Dp___init__impl__ms3zkb(17.0);
    if (!(($mask0 & 8) === 0))
      checkboxSize = _Dp___init__impl__ms3zkb(17.0);
    if (!(($mask0 & 16) === 0))
      radioButtonSize = _Dp___init__impl__ms3zkb(17.0);
    if (!(($mask0 & 32) === 0))
      switchSize = _Dp___init__impl__ms3zkb(17.0);
    if (!(($mask0 & 64) === 0))
      gap = _Dp___init__impl__ms3zkb(10.0);
    if (!(($mask0 & 128) === 0))
      smallGap = _Dp___init__impl__ms3zkb(5.0);
    if (!(($mask0 & 256) === 0))
      largeGap = _Dp___init__impl__ms3zkb(20.0);
    return this.n3x(normalText, largeText, sliderHeight, checkboxSize, radioButtonSize, switchSize, gap, smallGap, largeGap);
  };
  Companion_21.$metadata$ = objectMeta('Companion');
  var Companion_instance_21;
  function Companion_getInstance_21() {
    if (Companion_instance_21 == null)
      new Companion_21();
    return Companion_instance_21;
  }
  function Sizes(normalText, largeText, sliderHeight, checkboxSize, radioButtonSize, switchSize, gap, smallGap, largeGap) {
    Companion_getInstance_21();
    this.p3x_1 = normalText;
    this.q3x_1 = largeText;
    this.r3x_1 = sliderHeight;
    this.s3x_1 = checkboxSize;
    this.t3x_1 = radioButtonSize;
    this.u3x_1 = switchSize;
    this.v3x_1 = gap;
    this.w3x_1 = smallGap;
    this.x3x_1 = largeGap;
  }
  Sizes.prototype.toString = function () {
    return 'Sizes(normalText=' + this.p3x_1 + ', largeText=' + this.q3x_1 + ', sliderHeight=' + new Dp(this.r3x_1) + ', checkboxSize=' + new Dp(this.s3x_1) + ', radioButtonSize=' + new Dp(this.t3x_1) + ', switchSize=' + new Dp(this.u3x_1) + ', gap=' + new Dp(this.v3x_1) + ', smallGap=' + new Dp(this.w3x_1) + ', largeGap=' + new Dp(this.x3x_1) + ')';
  };
  Sizes.prototype.hashCode = function () {
    var result = this.p3x_1.hashCode();
    result = imul(result, 31) + this.q3x_1.hashCode() | 0;
    result = imul(result, 31) + Dp__hashCode_impl_sxkrra(this.r3x_1) | 0;
    result = imul(result, 31) + Dp__hashCode_impl_sxkrra(this.s3x_1) | 0;
    result = imul(result, 31) + Dp__hashCode_impl_sxkrra(this.t3x_1) | 0;
    result = imul(result, 31) + Dp__hashCode_impl_sxkrra(this.u3x_1) | 0;
    result = imul(result, 31) + Dp__hashCode_impl_sxkrra(this.v3x_1) | 0;
    result = imul(result, 31) + Dp__hashCode_impl_sxkrra(this.w3x_1) | 0;
    result = imul(result, 31) + Dp__hashCode_impl_sxkrra(this.x3x_1) | 0;
    return result;
  };
  Sizes.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Sizes))
      return false;
    var tmp0_other_with_cast = other instanceof Sizes ? other : THROW_CCE();
    if (!this.p3x_1.equals(tmp0_other_with_cast.p3x_1))
      return false;
    if (!this.q3x_1.equals(tmp0_other_with_cast.q3x_1))
      return false;
    if (!equals(this.r3x_1, tmp0_other_with_cast.r3x_1))
      return false;
    if (!equals(this.s3x_1, tmp0_other_with_cast.s3x_1))
      return false;
    if (!equals(this.t3x_1, tmp0_other_with_cast.t3x_1))
      return false;
    if (!equals(this.u3x_1, tmp0_other_with_cast.u3x_1))
      return false;
    if (!equals(this.v3x_1, tmp0_other_with_cast.v3x_1))
      return false;
    if (!equals(this.w3x_1, tmp0_other_with_cast.w3x_1))
      return false;
    if (!equals(this.x3x_1, tmp0_other_with_cast.x3x_1))
      return false;
    return true;
  };
  Sizes.$metadata$ = classMeta('Sizes');
  function TextScope() {
  }
  TextScope.$metadata$ = interfaceMeta('TextScope', [UiScope]);
  function Text(_this__u8e3s4, text_0, block) {
    var textNd = _this__u8e3s4.n3o().c3p(getKClass(TextNode), Companion_getInstance_22().y3x_1);
    text(textNd.r3p(), text_0);
    block(textNd);
    return textNd;
  }
  function TextModifier$font$delegate$lambda() {
    return function (it) {
      return it.p3y().p3x_1;
    };
  }
  function TextModifier$textColor$delegate$lambda() {
    return function (it) {
      return it.q3y().k3v_1;
    };
  }
  function TextModifier(surface) {
    UiModifier.call(this, surface);
    this.v3z_1 = this.d40('');
    var tmp = this;
    tmp.w3z_1 = this.e40(TextModifier$font$delegate$lambda());
    var tmp_0 = this;
    tmp_0.x3z_1 = this.e40(TextModifier$textColor$delegate$lambda());
    this.y3z_1 = this.d40(AlignmentX_Start_getInstance());
    this.z3z_1 = this.d40(AlignmentY_Top_getInstance());
    this.a40_1 = this.d40(TextRotation_Rotation0_getInstance());
    this.b40_1 = this.d40(null);
    this.c40_1 = this.d40(null);
  }
  TextModifier.prototype.f40 = function (_set____db54di) {
    return this.v3z_1.j40(this, text$factory(), _set____db54di);
  };
  TextModifier.prototype.k40 = function () {
    return this.v3z_1.j2r(this, text$factory_0());
  };
  TextModifier.prototype.l40 = function (_set____db54di) {
    return this.w3z_1.j40(this, font$factory(), _set____db54di);
  };
  TextModifier.prototype.m40 = function () {
    return this.w3z_1.j2r(this, font$factory_0());
  };
  TextModifier.prototype.n40 = function (_set____db54di) {
    return this.x3z_1.j40(this, textColor$factory(), _set____db54di);
  };
  TextModifier.prototype.o40 = function () {
    return this.x3z_1.j2r(this, textColor$factory_0());
  };
  TextModifier.prototype.p40 = function (_set____db54di) {
    return this.y3z_1.j40(this, textAlignX$factory(), _set____db54di);
  };
  TextModifier.prototype.q40 = function () {
    return this.y3z_1.j2r(this, textAlignX$factory_0());
  };
  TextModifier.prototype.r40 = function (_set____db54di) {
    return this.z3z_1.j40(this, textAlignY$factory(), _set____db54di);
  };
  TextModifier.prototype.s40 = function () {
    return this.z3z_1.j2r(this, textAlignY$factory_0());
  };
  TextModifier.prototype.t40 = function (_set____db54di) {
    return this.a40_1.j40(this, textRotation$factory(), _set____db54di);
  };
  TextModifier.prototype.u40 = function () {
    return this.a40_1.j2r(this, textRotation$factory_0());
  };
  TextModifier.prototype.v40 = function (_set____db54di) {
    var tmp = baselineBottomMargin$factory();
    var tmp_0 = _set____db54di;
    return this.b40_1.j40(this, tmp, tmp_0 == null ? null : new Dp(tmp_0));
  };
  TextModifier.prototype.w40 = function () {
    var tmp = this.b40_1.j2r(this, baselineBottomMargin$factory_0());
    return tmp == null ? null : tmp.a3v_1;
  };
  TextModifier.prototype.x40 = function (_set____db54di) {
    var tmp = baselineTopMargin$factory();
    var tmp_0 = _set____db54di;
    return this.c40_1.j40(this, tmp, tmp_0 == null ? null : new Dp(tmp_0));
  };
  TextModifier.prototype.y40 = function () {
    var tmp = this.c40_1.j2r(this, baselineTopMargin$factory_0());
    return tmp == null ? null : tmp.a3v_1;
  };
  TextModifier.$metadata$ = classMeta('TextModifier', undefined, undefined, undefined, undefined, UiModifier.prototype);
  function TextNode$Companion$factory$lambda() {
    return function (parent, surface) {
      return new TextNode(parent, surface);
    };
  }
  function Companion_22() {
    Companion_instance_22 = this;
    var tmp = this;
    tmp.y3x_1 = TextNode$Companion$factory$lambda();
  }
  Companion_22.prototype.s3p = function () {
    return this.y3x_1;
  };
  Companion_22.$metadata$ = objectMeta('Companion');
  var Companion_instance_22;
  function Companion_getInstance_22() {
    if (Companion_instance_22 == null)
      new Companion_22();
    return Companion_instance_22;
  }
  function TextNode(parent, surface) {
    Companion_getInstance_22();
    UiNode.call(this, parent, surface);
    this.m3y_1 = new TextModifier(surface);
    this.n3y_1 = new TextProps(Companion_getInstance_40().b43_1);
    this.o3y_1 = new CachedText(this);
  }
  TextNode.prototype.r3p = function () {
    return this.m3y_1;
  };
  TextNode.prototype.u3q = function (ctx) {
    var font = this.t3p().c43(this.r3p().m40(), ctx);
    var textMetrics = this.o3y_1.k3t(this.r3p().k40(), font, ctx);
    var textWidth = this.r3p().u40().j43_1 ? textMetrics.d43_1 : textMetrics.e43_1;
    var textHeight = this.r3p().u40().j43_1 ? textMetrics.e43_1 : textMetrics.d43_1;
    var modWidth = this.r3p().y3u();
    var modHeight = this.r3p().z3u();
    var tmp;
    if (modWidth instanceof Dp) {
      tmp = this.e3r(modWidth.a3v_1);
    } else {
      tmp = textWidth + this.c3q() + this.d3q();
    }
    var measuredWidth = tmp;
    var tmp_0;
    if (modHeight instanceof Dp) {
      tmp_0 = this.e3r(modHeight.a3v_1);
    } else {
      tmp_0 = textHeight + this.e3q() + this.f3q();
    }
    var measuredHeight = tmp_0;
    this.n3q(measuredWidth, measuredHeight);
  };
  TextNode.prototype.t3q = function (ctx) {
    UiNode.prototype.t3q.call(this, ctx);
    var tmp$ret$0;
    {
      var tmp0_apply = this.n3y_1;
      {
      }
      {
        tmp0_apply.f3s_1 = this.t3p().c43(this.r3p().m40(), ctx);
        tmp0_apply.g3s_1 = this.r3p().k40();
        tmp0_apply.l3s_1 = false;
        var textMetrics = this.o3y_1.v3r_1;
        var textWidth = this.r3p().u40().j43_1 ? textMetrics.d43_1 : textMetrics.e43_1;
        var textHeight = this.r3p().u40().j43_1 ? textMetrics.e43_1 : textMetrics.d43_1;
        var txtX;
        var txtY;
        var tmp0_subject = this.r3p().u40();
        var tmp0 = tmp0_subject.w1();
        switch (tmp0) {
          case 0:
            txtX = 0.0;
            txtY = textMetrics.f43_1;
            break;
          case 1:
            txtX = textWidth - textMetrics.f43_1;
            txtY = 0.0;
            break;
          case 2:
            txtX = textWidth;
            txtY = textHeight - textMetrics.f43_1;
            break;
          case 3:
            txtX = textMetrics.f43_1;
            txtY = textHeight;
            break;
          default:
            noWhenBranchMatchedException();
            break;
        }
        var tmp1_subject = this.r3p().q40();
        var tmp0_0 = tmp1_subject.w1();
        var tmp;
        switch (tmp0_0) {
          case 0:
            tmp = this.c3q();
            break;
          case 1:
            tmp = (this.v3p() - textWidth) / 2.0;
            break;
          case 2:
            tmp = this.v3p() - textWidth - this.d3q();
            break;
          default:
            noWhenBranchMatchedException();
            break;
        }
        var oriX = txtX + tmp;
        var baseBotMargin = this.r3p().w40();
        var baseTopMargin = this.r3p().y40();
        var tmp_0;
        var tmp_1 = baseBotMargin;
        if (!((tmp_1 == null ? null : new Dp(tmp_1)) == null)) {
          tmp_0 = this.w3p() - this.e3r(baseBotMargin);
        } else {
          var tmp_2 = baseTopMargin;
          if (!((tmp_2 == null ? null : new Dp(tmp_2)) == null)) {
            tmp_0 = textMetrics.f43_1 + this.e3r(baseTopMargin);
          } else {
            var tmp2_subject = this.r3p().s40();
            var tmp0_1 = tmp2_subject.w1();
            var tmp_3;
            switch (tmp0_1) {
              case 0:
                tmp_3 = this.e3q();
                break;
              case 1:
                tmp_3 = (this.w3p() - textHeight) / 2.0;
                break;
              case 2:
                tmp_3 = this.w3p() - textHeight - this.f3q();
                break;
              default:
                noWhenBranchMatchedException();
                break;
            }
            tmp_0 = txtY + tmp_3;
          }
        }
        var oriY = tmp_0;
        tmp0_apply.h3s_1.t2d(this.k43() + oriX, this.l43() + oriY, 0.0);
      }
      tmp$ret$0 = tmp0_apply;
    }
    var tmp_4 = this.r3p().m40();
    var tmp_5 = this.a3r(tmp_4, ctx, 0, 4, null).n3s_1;
    var tmp_6 = this.r3p().o40();
    var tmp_7 = this.r3p().u40();
    this.o3y_1.s3t(tmp_5, this.n3y_1, tmp_6, tmp_7, null, 16, null);
  };
  TextNode.$metadata$ = classMeta('TextNode', [TextScope], undefined, undefined, undefined, UiNode.prototype);
  function text(_this__u8e3s4, text) {
    _this__u8e3s4.f40(text);
    return _this__u8e3s4;
  }
  var TextRotation_Rotation0_instance;
  var TextRotation_Rotation90_instance;
  var TextRotation_Rotation180_instance;
  var TextRotation_Rotation270_instance;
  var TextRotation_entriesInitialized;
  function TextRotation_initEntries() {
    if (TextRotation_entriesInitialized)
      return Unit_getInstance();
    TextRotation_entriesInitialized = true;
    TextRotation_Rotation0_instance = new TextRotation('Rotation0', 0, true);
    TextRotation_Rotation90_instance = new TextRotation('Rotation90', 1, false);
    TextRotation_Rotation180_instance = new TextRotation('Rotation180', 2, true);
    TextRotation_Rotation270_instance = new TextRotation('Rotation270', 3, false);
  }
  function TextRotation(name, ordinal, isHorizontal) {
    Enum.call(this, name, ordinal);
    this.j43_1 = isHorizontal;
  }
  TextRotation.prototype.m43 = function () {
    return this.j43_1;
  };
  TextRotation.$metadata$ = classMeta('TextRotation', undefined, undefined, undefined, undefined, Enum.prototype);
  function TextRotation_Rotation0_getInstance() {
    TextRotation_initEntries();
    return TextRotation_Rotation0_instance;
  }
  function text$factory() {
    return getPropertyCallableRef('text', 1, KMutableProperty1, function (receiver) {
      return receiver.k40();
    }, function (receiver, value) {
      return receiver.f40(value);
    });
  }
  function text$factory_0() {
    return getPropertyCallableRef('text', 1, KMutableProperty1, function (receiver) {
      return receiver.k40();
    }, function (receiver, value) {
      return receiver.f40(value);
    });
  }
  function font$factory() {
    return getPropertyCallableRef('font', 1, KMutableProperty1, function (receiver) {
      return receiver.m40();
    }, function (receiver, value) {
      return receiver.l40(value);
    });
  }
  function font$factory_0() {
    return getPropertyCallableRef('font', 1, KMutableProperty1, function (receiver) {
      return receiver.m40();
    }, function (receiver, value) {
      return receiver.l40(value);
    });
  }
  function textColor$factory() {
    return getPropertyCallableRef('textColor', 1, KMutableProperty1, function (receiver) {
      return receiver.o40();
    }, function (receiver, value) {
      return receiver.n40(value);
    });
  }
  function textColor$factory_0() {
    return getPropertyCallableRef('textColor', 1, KMutableProperty1, function (receiver) {
      return receiver.o40();
    }, function (receiver, value) {
      return receiver.n40(value);
    });
  }
  function textAlignX$factory() {
    return getPropertyCallableRef('textAlignX', 1, KMutableProperty1, function (receiver) {
      return receiver.q40();
    }, function (receiver, value) {
      return receiver.p40(value);
    });
  }
  function textAlignX$factory_0() {
    return getPropertyCallableRef('textAlignX', 1, KMutableProperty1, function (receiver) {
      return receiver.q40();
    }, function (receiver, value) {
      return receiver.p40(value);
    });
  }
  function textAlignY$factory() {
    return getPropertyCallableRef('textAlignY', 1, KMutableProperty1, function (receiver) {
      return receiver.s40();
    }, function (receiver, value) {
      return receiver.r40(value);
    });
  }
  function textAlignY$factory_0() {
    return getPropertyCallableRef('textAlignY', 1, KMutableProperty1, function (receiver) {
      return receiver.s40();
    }, function (receiver, value) {
      return receiver.r40(value);
    });
  }
  function textRotation$factory() {
    return getPropertyCallableRef('textRotation', 1, KMutableProperty1, function (receiver) {
      return receiver.u40();
    }, function (receiver, value) {
      return receiver.t40(value);
    });
  }
  function textRotation$factory_0() {
    return getPropertyCallableRef('textRotation', 1, KMutableProperty1, function (receiver) {
      return receiver.u40();
    }, function (receiver, value) {
      return receiver.t40(value);
    });
  }
  function baselineBottomMargin$factory() {
    return getPropertyCallableRef('baselineBottomMargin', 1, KMutableProperty1, function (receiver) {
      var tmp = receiver.w40();
      return tmp == null ? null : new Dp(tmp);
    }, function (receiver, value) {
      var tmp = value;
      return receiver.v40(tmp == null ? null : tmp.a3v_1);
    });
  }
  function baselineBottomMargin$factory_0() {
    return getPropertyCallableRef('baselineBottomMargin', 1, KMutableProperty1, function (receiver) {
      var tmp = receiver.w40();
      return tmp == null ? null : new Dp(tmp);
    }, function (receiver, value) {
      var tmp = value;
      return receiver.v40(tmp == null ? null : tmp.a3v_1);
    });
  }
  function baselineTopMargin$factory() {
    return getPropertyCallableRef('baselineTopMargin', 1, KMutableProperty1, function (receiver) {
      var tmp = receiver.y40();
      return tmp == null ? null : new Dp(tmp);
    }, function (receiver, value) {
      var tmp = value;
      return receiver.x40(tmp == null ? null : tmp.a3v_1);
    });
  }
  function baselineTopMargin$factory_0() {
    return getPropertyCallableRef('baselineTopMargin', 1, KMutableProperty1, function (receiver) {
      var tmp = receiver.y40();
      return tmp == null ? null : new Dp(tmp);
    }, function (receiver, value) {
      var tmp = value;
      return receiver.x40(tmp == null ? null : tmp.a3v_1);
    });
  }
  function SwitchScope() {
  }
  SwitchScope.$metadata$ = interfaceMeta('SwitchScope', [UiScope]);
  function Switch(_this__u8e3s4, state, block) {
    var switch_0 = _this__u8e3s4.n3o().c3p(getKClass(SwitchNode), Companion_getInstance_23().n43_1);
    var tmp0_safe_receiver = state;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$1;
      {
        {
        }
        var tmp$ret$0;
        {
          tmp$ret$0 = toggleState(switch_0.e44_1, tmp0_safe_receiver);
        }
        tmp$ret$1 = tmp$ret$0;
      }
    }
    block(switch_0);
    return switch_0;
  }
  function SwitchModifier$switchWidth$delegate$lambda() {
    return function (it) {
      return new Dp(Dp__times_impl_bnlh65(it.p3y().u3x_1, 2.0));
    };
  }
  function SwitchModifier$switchHeight$delegate$lambda() {
    return function (it) {
      return new Dp(it.p3y().u3x_1);
    };
  }
  function SwitchModifier$knobColorOn$delegate$lambda() {
    return function (it) {
      return it.q3y().e3v_1;
    };
  }
  function SwitchModifier$knobColorOff$delegate$lambda() {
    return function (it) {
      return it.q3y().e3v_1;
    };
  }
  function SwitchModifier$trackColorOn$delegate$lambda() {
    return function (it) {
      return it.q3y().f3v_1.g44(0.5);
    };
  }
  function SwitchModifier$trackColorOff$delegate$lambda() {
    return function (it) {
      return it.q3y().f3v_1.g44(0.5);
    };
  }
  function SwitchModifier(surface) {
    ToggleModifier.call(this, surface);
    var tmp = this;
    tmp.n45_1 = this.e40(SwitchModifier$switchWidth$delegate$lambda());
    var tmp_0 = this;
    tmp_0.o45_1 = this.e40(SwitchModifier$switchHeight$delegate$lambda());
    var tmp_1 = this;
    tmp_1.p45_1 = this.e40(SwitchModifier$knobColorOn$delegate$lambda());
    var tmp_2 = this;
    tmp_2.q45_1 = this.e40(SwitchModifier$knobColorOff$delegate$lambda());
    var tmp_3 = this;
    tmp_3.r45_1 = this.e40(SwitchModifier$trackColorOn$delegate$lambda());
    var tmp_4 = this;
    tmp_4.s45_1 = this.e40(SwitchModifier$trackColorOff$delegate$lambda());
  }
  SwitchModifier.prototype.t45 = function (_set____db54di) {
    return this.n45_1.j40(this, switchWidth$factory(), new Dp(_set____db54di));
  };
  SwitchModifier.prototype.u45 = function () {
    return this.n45_1.j2r(this, switchWidth$factory_0()).a3v_1;
  };
  SwitchModifier.prototype.v45 = function (_set____db54di) {
    return this.o45_1.j40(this, switchHeight$factory(), new Dp(_set____db54di));
  };
  SwitchModifier.prototype.w45 = function () {
    return this.o45_1.j2r(this, switchHeight$factory_0()).a3v_1;
  };
  SwitchModifier.prototype.x45 = function (_set____db54di) {
    return this.p45_1.j40(this, knobColorOn$factory(), _set____db54di);
  };
  SwitchModifier.prototype.y45 = function () {
    return this.p45_1.j2r(this, knobColorOn$factory_0());
  };
  SwitchModifier.prototype.z45 = function (_set____db54di) {
    return this.q45_1.j40(this, knobColorOff$factory(), _set____db54di);
  };
  SwitchModifier.prototype.a46 = function () {
    return this.q45_1.j2r(this, knobColorOff$factory_0());
  };
  SwitchModifier.prototype.b46 = function (_set____db54di) {
    return this.r45_1.j40(this, trackColorOn$factory(), _set____db54di);
  };
  SwitchModifier.prototype.c46 = function () {
    return this.r45_1.j2r(this, trackColorOn$factory_0());
  };
  SwitchModifier.prototype.d46 = function (_set____db54di) {
    return this.s45_1.j40(this, trackColorOff$factory(), _set____db54di);
  };
  SwitchModifier.prototype.e46 = function () {
    return this.s45_1.j2r(this, trackColorOff$factory_0());
  };
  SwitchModifier.$metadata$ = classMeta('SwitchModifier', undefined, undefined, undefined, undefined, ToggleModifier.prototype);
  function onToggle(_this__u8e3s4, block) {
    _this__u8e3s4.n47(block);
    return _this__u8e3s4;
  }
  function SwitchNode$Companion$factory$lambda() {
    return function (parent, surface) {
      return new SwitchNode(parent, surface);
    };
  }
  function Companion_23() {
    Companion_instance_23 = this;
    var tmp = this;
    tmp.n43_1 = SwitchNode$Companion$factory$lambda();
  }
  Companion_23.prototype.s3p = function () {
    return this.n43_1;
  };
  Companion_23.$metadata$ = objectMeta('Companion');
  var Companion_instance_23;
  function Companion_getInstance_23() {
    if (Companion_instance_23 == null)
      new Companion_23();
    return Companion_instance_23;
  }
  function SwitchNode(parent, surface) {
    Companion_getInstance_23();
    ToggleNode.call(this, parent, surface);
    this.e44_1 = new SwitchModifier(surface);
  }
  SwitchNode.prototype.r3p = function () {
    return this.e44_1;
  };
  SwitchNode.prototype.p47 = function () {
    return this.e44_1.u45();
  };
  SwitchNode.prototype.q47 = function () {
    return this.e44_1.w45();
  };
  SwitchNode.prototype.t3q = function (ctx) {
    ToggleNode.prototype.t3q.call(this, ctx);
    var c = this.h48();
    var w = this.e3r(this.p47());
    var h = this.e3r(this.q47());
    var tH = this.e3r(this.q47()) * 0.75;
    var tW = this.e3r(this.p47()) - (h - tH) * 0.5;
    var draw = this.y3q(0, 1, null);
    var p = this.i48();
    var tmp0_subject = p;
    var tmp;
    switch (tmp0_subject) {
      case 0.0:
        tmp = this.e44_1.e46();
        break;
      case 1.0:
        tmp = this.e44_1.c46();
        break;
      default:
        var tmp_0 = this.e44_1.e46();
        var tmp_1 = this.e44_1.c46();
        tmp = tmp_0.j48(tmp_1, p, null, 4, null);
        break;
    }
    var trackColor = tmp;
    var tmp1_subject = p;
    var tmp_2;
    switch (tmp1_subject) {
      case 0.0:
        tmp_2 = this.e44_1.a46();
        break;
      case 1.0:
        tmp_2 = this.e44_1.y45();
        break;
      default:
        var tmp_3 = this.e44_1.a46();
        var tmp_4 = this.e44_1.y45();
        tmp_2 = tmp_3.j48(tmp_4, p, null, 4, null);
        break;
    }
    var knobColor = tmp_2;
    this.k48(draw, c.z1z() - tW * 0.5, c.b20() - tH * 0.5, tW, tH, tH * 0.5, trackColor);
    var extent = w - h;
    var knobX = c.z1z() - extent * 0.5 + extent * this.i48();
    this.l48(draw, knobX, c.b20(), h * 0.5, knobColor);
  };
  SwitchNode.$metadata$ = classMeta('SwitchNode', [SwitchScope], undefined, undefined, undefined, ToggleNode.prototype);
  function toggleState(_this__u8e3s4, value) {
    _this__u8e3s4.l47(value);
    return _this__u8e3s4;
  }
  function ToggleModifier(surface) {
    UiModifier.call(this, surface);
    this.j47_1 = this.d40(false);
    this.k47_1 = this.d40(null);
  }
  ToggleModifier.prototype.l47 = function (_set____db54di) {
    return this.j47_1.j40(this, toggleState$factory(), _set____db54di);
  };
  ToggleModifier.prototype.m47 = function () {
    return this.j47_1.j2r(this, toggleState$factory_0());
  };
  ToggleModifier.prototype.n47 = function (_set____db54di) {
    return this.k47_1.j40(this, onToggle$factory(), _set____db54di);
  };
  ToggleModifier.prototype.o47 = function () {
    return this.k47_1.j2r(this, onToggle$factory_0());
  };
  ToggleModifier.$metadata$ = classMeta('ToggleModifier', undefined, undefined, undefined, undefined, UiModifier.prototype);
  function ToggleNode(parent, surface) {
    UiNode.call(this, parent, surface);
    this.e48_1 = new AnimationState(0.1);
    this.f48_1 = true;
    this.g48_1 = false;
  }
  ToggleNode.prototype.i48 = function () {
    var ax = this.e48_1.y3n_1 ? this.q48(this.e48_1) : 1.0;
    return this.r3p().m47() ? ax : 1.0 - ax;
  };
  ToggleNode.prototype.h48 = function () {
    return new MutableVec2f(this.c3q() + this.n48() * 0.5, this.e3q() + this.o48() * 0.5);
  };
  ToggleNode.prototype.m48 = function (ev) {
    var d = this.h48().z2f(ev.t48_1);
    var tmp;
    var tmp$ret$0;
    {
      var tmp0_abs = d.z1z();
      tmp$ret$0 = Math.abs(tmp0_abs);
    }
    if (this.p48(tmp$ret$0) < _Dp___get_value__impl__geb1vb(this.p47()) * 0.5) {
      var tmp$ret$1;
      {
        var tmp1_abs = d.b20();
        tmp$ret$1 = Math.abs(tmp1_abs);
      }
      tmp = this.p48(tmp$ret$1) < _Dp___get_value__impl__geb1vb(this.q47()) * 0.5;
    } else {
      tmp = false;
    }
    return tmp;
  };
  ToggleNode.prototype.u3q = function (ctx) {
    var modWidth = this.r3p().y3u();
    var modHeight = this.r3p().z3u();
    var tmp;
    if (modWidth instanceof Dp) {
      tmp = this.e3r(modWidth.a3v_1);
    } else {
      tmp = this.e3r(this.p47()) + this.c3q() + this.d3q();
    }
    var measuredWidth = tmp;
    var tmp_0;
    if (modHeight instanceof Dp) {
      tmp_0 = this.e3r(modHeight.a3v_1);
    } else {
      tmp_0 = this.e3r(this.q47()) + this.e3q() + this.f3q();
    }
    var measuredHeight = tmp_0;
    this.n3q(measuredWidth, measuredHeight);
    if (this.f48_1) {
      this.f48_1 = false;
    } else if (!(this.g48_1 === this.r3p().m47())) {
      this.e48_1.a3o();
    }
    this.g48_1 = this.r3p().m47();
  };
  ToggleNode.prototype.w3q = function () {
    UiNode.prototype.w3q.call(this);
    var tmp = onClick_1(this.r3p(), this);
    padding$default(tmp, null, null, null, this.d3r(1), 7, null);
  };
  ToggleNode.prototype.m3x = function (ev) {
    if (this.m48(ev)) {
      var tmp0_safe_receiver = this.r3p().o47();
      if (tmp0_safe_receiver == null)
        null;
      else
        tmp0_safe_receiver(!this.r3p().m47());
    } else {
      ev.v48();
    }
  };
  ToggleNode.$metadata$ = classMeta('ToggleNode', [Clickable], undefined, undefined, undefined, UiNode.prototype);
  function switchWidth$factory() {
    return getPropertyCallableRef('switchWidth', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.u45());
    }, function (receiver, value) {
      return receiver.t45(value.a3v_1);
    });
  }
  function switchWidth$factory_0() {
    return getPropertyCallableRef('switchWidth', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.u45());
    }, function (receiver, value) {
      return receiver.t45(value.a3v_1);
    });
  }
  function switchHeight$factory() {
    return getPropertyCallableRef('switchHeight', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.w45());
    }, function (receiver, value) {
      return receiver.v45(value.a3v_1);
    });
  }
  function switchHeight$factory_0() {
    return getPropertyCallableRef('switchHeight', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.w45());
    }, function (receiver, value) {
      return receiver.v45(value.a3v_1);
    });
  }
  function knobColorOn$factory() {
    return getPropertyCallableRef('knobColorOn', 1, KMutableProperty1, function (receiver) {
      return receiver.y45();
    }, function (receiver, value) {
      return receiver.x45(value);
    });
  }
  function knobColorOn$factory_0() {
    return getPropertyCallableRef('knobColorOn', 1, KMutableProperty1, function (receiver) {
      return receiver.y45();
    }, function (receiver, value) {
      return receiver.x45(value);
    });
  }
  function knobColorOff$factory() {
    return getPropertyCallableRef('knobColorOff', 1, KMutableProperty1, function (receiver) {
      return receiver.a46();
    }, function (receiver, value) {
      return receiver.z45(value);
    });
  }
  function knobColorOff$factory_0() {
    return getPropertyCallableRef('knobColorOff', 1, KMutableProperty1, function (receiver) {
      return receiver.a46();
    }, function (receiver, value) {
      return receiver.z45(value);
    });
  }
  function trackColorOn$factory() {
    return getPropertyCallableRef('trackColorOn', 1, KMutableProperty1, function (receiver) {
      return receiver.c46();
    }, function (receiver, value) {
      return receiver.b46(value);
    });
  }
  function trackColorOn$factory_0() {
    return getPropertyCallableRef('trackColorOn', 1, KMutableProperty1, function (receiver) {
      return receiver.c46();
    }, function (receiver, value) {
      return receiver.b46(value);
    });
  }
  function trackColorOff$factory() {
    return getPropertyCallableRef('trackColorOff', 1, KMutableProperty1, function (receiver) {
      return receiver.e46();
    }, function (receiver, value) {
      return receiver.d46(value);
    });
  }
  function trackColorOff$factory_0() {
    return getPropertyCallableRef('trackColorOff', 1, KMutableProperty1, function (receiver) {
      return receiver.e46();
    }, function (receiver, value) {
      return receiver.d46(value);
    });
  }
  function toggleState$factory() {
    return getPropertyCallableRef('toggleState', 1, KMutableProperty1, function (receiver) {
      return receiver.m47();
    }, function (receiver, value) {
      return receiver.l47(value);
    });
  }
  function toggleState$factory_0() {
    return getPropertyCallableRef('toggleState', 1, KMutableProperty1, function (receiver) {
      return receiver.m47();
    }, function (receiver, value) {
      return receiver.l47(value);
    });
  }
  function onToggle$factory() {
    return getPropertyCallableRef('onToggle', 1, KMutableProperty1, function (receiver) {
      return receiver.o47();
    }, function (receiver, value) {
      return receiver.n47(value);
    });
  }
  function onToggle$factory_0() {
    return getPropertyCallableRef('onToggle', 1, KMutableProperty1, function (receiver) {
      return receiver.o47();
    }, function (receiver, value) {
      return receiver.n47(value);
    });
  }
  function Ui2Scene(name, clearScreen, block) {
    var tmp$ret$0;
    {
      var tmp0_apply = new Scene(name);
      {
      }
      {
        setupUiScene(tmp0_apply, clearScreen);
        block(tmp0_apply);
      }
      tmp$ret$0 = tmp0_apply;
    }
    return tmp$ret$0;
  }
  function Ui2Scene$default(name, clearScreen, block, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      name = 'UiScene';
    if (!(($mask0 & 2) === 0))
      clearScreen = false;
    return Ui2Scene(name, clearScreen, block);
  }
  function setupUiScene(_this__u8e3s4, clearScreen) {
    if (!clearScreen) {
      _this__u8e3s4.p2b_1.n49(null);
    }
    var tmp = _this__u8e3s4;
    tmp.m2b_1 = OrthographicCamera_init_$Create$(null, 1, null);
    var tmp0_this = _this__u8e3s4;
    {
      var tmp0_plusAssign = tmp0_this.o49();
      tmp0_plusAssign.b(setupUiScene$lambda(_this__u8e3s4));
    }
  }
  function setupUiScene$lambda($this_setupUiScene) {
    return function (ev) {
      var tmp = $this_setupUiScene.m2b_1;
      var tmp0_safe_receiver = tmp instanceof OrthographicCamera ? tmp : null;
      if (tmp0_safe_receiver == null)
        null;
      else {
        var tmp$ret$0;
        {
          {
          }
          tmp0_safe_receiver.c4b_1 = 0.0;
          tmp0_safe_receiver.f4b_1 = 0.0;
          tmp0_safe_receiver.d4b_1 = ev.n4b_1.z48_1.l4b_1;
          tmp0_safe_receiver.e4b_1 = -ev.n4b_1.z48_1.z3u();
          tmp$ret$0 = Unit_getInstance();
        }
      }
      return Unit_getInstance();
    };
  }
  function Ui2Shader$Model$lambda$lambda($texCoords, $this_vertexStage, $color, $clipBounds, $screenPos, this$0) {
    return function ($this$main) {
      $this$main.t2w($texCoords.z33(), $this_vertexStage.u35(Companion_getInstance_28().c2w_1.s2p_1));
      $this$main.t2w($color.z33(), $this_vertexStage.a34(Companion_getInstance_28().d2w_1.s2p_1));
      $this$main.t2w($clipBounds.z33(), $this_vertexStage.a34(Companion_getInstance_24().e3t_1.s2p_1));
      var tmp = $this$main.s2w($this_vertexStage.r2w(Companion_getInstance_28().z2v_1.s2p_1), 1.0);
      var vertexPos = $this$main.k32(tmp, null, 2, null);
      $this$main.t2w($screenPos.z33(), get_xy_0(vertexPos));
      $this$main.t2w($this_vertexStage.y2o_1, times(mvpMatrix(this$0).i2e(), vertexPos));
      return Unit_getInstance();
    };
  }
  function Ui2Shader$Model$lambda($texCoords, $color, $clipBounds, $screenPos, this$0) {
    return function ($this$vertexStage) {
      $this$vertexStage.u2w(Ui2Shader$Model$lambda$lambda($texCoords, $this$vertexStage, $color, $clipBounds, $screenPos, this$0));
      return Unit_getInstance();
    };
  }
  function Ui2Shader$Model$lambda$lambda$lambda(this$0, $texCoords, $color, $this_fragmentStage) {
    return function ($this$if) {
      var tmp = this$0.d2y('uFontTex');
      var tmp_0 = $texCoords.c33();
      var alpha = times_2(get_r($this$if.j32(tmp, tmp_0, null, 4, null)), get_a($color.c33()));
      var tmp_1 = times_0(get_rgb($color.c33()), alpha);
      $this_fragmentStage.t2x($this$if, tmp_1, alpha, 0, 4, null);
      return Unit_getInstance();
    };
  }
  function Ui2Shader$Model$lambda$lambda$lambda_0() {
    return function ($this$else) {
      $this$else.c3k();
      return Unit_getInstance();
    };
  }
  function Ui2Shader$Model$lambda$lambda_0($screenPos, $clipBounds, this$0, $texCoords, $color, $this_fragmentStage) {
    return function ($this$main) {
      var tmp = and_0($this$main.d3k(gt_0($screenPos.c33(), get_xy_0($clipBounds.c33()))), $this$main.d3k(lt_0($screenPos.c33(), get_zw($clipBounds.c33()))));
      var tmp_0 = $this$main.z3j(tmp, Ui2Shader$Model$lambda$lambda$lambda(this$0, $texCoords, $color, $this_fragmentStage));
      tmp_0.w3h(Ui2Shader$Model$lambda$lambda$lambda_0());
      return Unit_getInstance();
    };
  }
  function Ui2Shader$Model$lambda_0($screenPos, $clipBounds, this$0, $texCoords, $color) {
    return function ($this$fragmentStage) {
      $this$fragmentStage.u2w(Ui2Shader$Model$lambda$lambda_0($screenPos, $clipBounds, this$0, $texCoords, $color, $this$fragmentStage));
      return Unit_getInstance();
    };
  }
  function Model_0() {
    KslProgram.call(this, 'UI2 Shader');
    var texCoords = this.f2y(null, null, 3, null);
    var screenPos = this.f2y(null, null, 3, null);
    var color = this.h2y(null, null, 3, null);
    var clipBounds = this.h2y(null, KslInterStageInterpolation_Flat_getInstance(), 1, null);
    this.v2x(Ui2Shader$Model$lambda(texCoords, color, clipBounds, screenPos, this));
    this.w2x(Ui2Shader$Model$lambda_0(screenPos, clipBounds, this, texCoords, color));
  }
  Model_0.$metadata$ = classMeta('Model', undefined, undefined, undefined, undefined, KslProgram.prototype);
  function Companion_24() {
    Companion_instance_24 = this;
    this.e3t_1 = new Attribute('aClip', GlslType_VEC_4F_getInstance());
    this.f3t_1 = listOf([Companion_getInstance_28().z2v_1, Companion_getInstance_28().d2w_1, this.e3t_1, Companion_getInstance_28().c2w_1]);
    this.g3t_1 = new SingleColorTexture(Companion_getInstance_39().a31_1);
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_apply = new PipelineConfig();
      {
      }
      {
        tmp0_apply.r2q_1 = BlendMode_BLEND_PREMULTIPLIED_ALPHA_getInstance();
        tmp0_apply.s2q_1 = CullMethod_NO_CULLING_getInstance();
        tmp0_apply.t2q_1 = DepthCompareOp_DISABLED_getInstance();
      }
      tmp$ret$0 = tmp0_apply;
    }
    tmp.h3t_1 = tmp$ret$0;
  }
  Companion_24.$metadata$ = objectMeta('Companion');
  var Companion_instance_24;
  function Companion_getInstance_24() {
    if (Companion_instance_24 == null)
      new Companion_24();
    return Companion_instance_24;
  }
  function Ui2Shader() {
    Companion_getInstance_24();
    KslShader.call(this, new Model_0(), Companion_getInstance_24().h3t_1);
    this.a4c_1 = this.j2v('uFontTex', Companion_getInstance_24().g3t_1);
  }
  Ui2Shader.prototype.b4c = function (_set____db54di) {
    return this.a4c_1.y2s(this, fontTex$factory(), _set____db54di);
  };
  Ui2Shader.prototype.c4c = function () {
    return this.a4c_1.j2r(this, fontTex$factory_0());
  };
  Ui2Shader.prototype.d4c = function (font, ctx) {
    this.b4c(font.e4c(ctx).l3r_1);
  };
  Ui2Shader.$metadata$ = classMeta('Ui2Shader', undefined, undefined, undefined, undefined, KslShader.prototype);
  function fontTex$factory() {
    return getPropertyCallableRef('fontTex', 1, KMutableProperty1, function (receiver) {
      return receiver.c4c();
    }, function (receiver, value) {
      return receiver.b4c(value);
    });
  }
  function fontTex$factory_0() {
    return getPropertyCallableRef('fontTex', 1, KMutableProperty1, function (receiver) {
      return receiver.c4c();
    }, function (receiver, value) {
      return receiver.b4c(value);
    });
  }
  function UiModifier$ListPropertyHolder$_init_$lambda_gys1oz() {
    return function (it) {
      var tmp$ret$0;
      {
        tmp$ret$0 = ArrayList_init_$Create$_0();
      }
      return tmp$ret$0;
    };
  }
  function PropertyHolder($outer, defaultVal) {
    this.i40_1 = $outer;
    this.g40_1 = defaultVal;
    this.h40_1 = this.g40_1(this.i40_1.u3t_1);
  }
  PropertyHolder.prototype.f4c = function () {
    return this.h40_1;
  };
  PropertyHolder.prototype.g4c = function () {
    this.h40_1 = this.g40_1(this.i40_1.u3t_1);
  };
  PropertyHolder.prototype.j2r = function (thisRef, property) {
    return this.h40_1;
  };
  PropertyHolder.prototype.j40 = function (thisRef, property, value) {
    this.h40_1 = value;
  };
  PropertyHolder.$metadata$ = classMeta('PropertyHolder');
  function ListPropertyHolder($outer) {
    this.k4c_1 = $outer;
    PropertyHolder.call(this, $outer, UiModifier$ListPropertyHolder$_init_$lambda_gys1oz());
  }
  ListPropertyHolder.prototype.g4c = function () {
    this.f4c().t7();
  };
  ListPropertyHolder.$metadata$ = classMeta('ListPropertyHolder', undefined, undefined, undefined, undefined, PropertyHolder.prototype);
  function UiModifier$property$lambda($defaultVal) {
    return function (it) {
      return $defaultVal;
    };
  }
  function UiModifier(surface) {
    this.u3t_1 = surface;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.v3t_1 = tmp$ret$0;
    this.w3t_1 = this.d40(WrapContent_getInstance());
    this.x3t_1 = this.d40(WrapContent_getInstance());
    this.y3t_1 = this.d40(CellLayout_getInstance());
    this.z3t_1 = this.d40(null);
    this.a3u_1 = this.d40(null);
    this.b3u_1 = this.d40(0);
    this.c3u_1 = this.d40(new Dp(Companion_getInstance_19().t3v_1));
    this.d3u_1 = this.d40(new Dp(Companion_getInstance_19().t3v_1));
    this.e3u_1 = this.d40(new Dp(Companion_getInstance_19().t3v_1));
    this.f3u_1 = this.d40(new Dp(Companion_getInstance_19().t3v_1));
    this.g3u_1 = this.d40(new Dp(Companion_getInstance_19().t3v_1));
    this.h3u_1 = this.d40(new Dp(Companion_getInstance_19().t3v_1));
    this.i3u_1 = this.d40(new Dp(Companion_getInstance_19().t3v_1));
    this.j3u_1 = this.d40(new Dp(Companion_getInstance_19().t3v_1));
    this.k3u_1 = this.d40(AlignmentX_Start_getInstance());
    this.l3u_1 = this.d40(AlignmentY_Top_getInstance());
    this.m3u_1 = this.d40(null);
    this.n3u_1 = this.d40(null);
    this.o3u_1 = this.q42();
    this.p3u_1 = this.q42();
    this.q3u_1 = this.q42();
    this.r3u_1 = this.q42();
    this.s3u_1 = this.q42();
    this.t3u_1 = this.q42();
    this.u3u_1 = this.q42();
    this.v3u_1 = this.q42();
    this.w3u_1 = this.q42();
    this.x3u_1 = this.q42();
  }
  UiModifier.prototype.z40 = function (_set____db54di) {
    return this.w3t_1.j40(this, width$factory(), _set____db54di);
  };
  UiModifier.prototype.y3u = function () {
    return this.w3t_1.j2r(this, width$factory_0());
  };
  UiModifier.prototype.a41 = function (_set____db54di) {
    return this.x3t_1.j40(this, height$factory(), _set____db54di);
  };
  UiModifier.prototype.z3u = function () {
    return this.x3t_1.j2r(this, height$factory_0());
  };
  UiModifier.prototype.b41 = function (_set____db54di) {
    return this.y3t_1.j40(this, layout$factory(), _set____db54di);
  };
  UiModifier.prototype.c41 = function () {
    return this.y3t_1.j2r(this, layout$factory_0());
  };
  UiModifier.prototype.d41 = function (_set____db54di) {
    return this.z3t_1.j40(this, background$factory(), _set____db54di);
  };
  UiModifier.prototype.n3v = function () {
    return this.z3t_1.j2r(this, background$factory_0());
  };
  UiModifier.prototype.e41 = function (_set____db54di) {
    return this.a3u_1.j40(this, border$factory(), _set____db54di);
  };
  UiModifier.prototype.f41 = function () {
    return this.a3u_1.j2r(this, border$factory_0());
  };
  UiModifier.prototype.g41 = function (_set____db54di) {
    return this.b3u_1.j40(this, zLayer$factory(), _set____db54di);
  };
  UiModifier.prototype.h41 = function () {
    return this.b3u_1.j2r(this, zLayer$factory_0());
  };
  UiModifier.prototype.i41 = function (_set____db54di) {
    return this.c3u_1.j40(this, paddingStart$factory(), new Dp(_set____db54di));
  };
  UiModifier.prototype.j41 = function () {
    return this.c3u_1.j2r(this, paddingStart$factory_0()).a3v_1;
  };
  UiModifier.prototype.k41 = function (_set____db54di) {
    return this.d3u_1.j40(this, paddingEnd$factory(), new Dp(_set____db54di));
  };
  UiModifier.prototype.l41 = function () {
    return this.d3u_1.j2r(this, paddingEnd$factory_0()).a3v_1;
  };
  UiModifier.prototype.m41 = function (_set____db54di) {
    return this.e3u_1.j40(this, paddingTop$factory(), new Dp(_set____db54di));
  };
  UiModifier.prototype.n41 = function () {
    return this.e3u_1.j2r(this, paddingTop$factory_0()).a3v_1;
  };
  UiModifier.prototype.o41 = function (_set____db54di) {
    return this.f3u_1.j40(this, paddingBottom$factory(), new Dp(_set____db54di));
  };
  UiModifier.prototype.p41 = function () {
    return this.f3u_1.j2r(this, paddingBottom$factory_0()).a3v_1;
  };
  UiModifier.prototype.q41 = function (_set____db54di) {
    return this.g3u_1.j40(this, marginStart$factory(), new Dp(_set____db54di));
  };
  UiModifier.prototype.r41 = function () {
    return this.g3u_1.j2r(this, marginStart$factory_0()).a3v_1;
  };
  UiModifier.prototype.s41 = function (_set____db54di) {
    return this.h3u_1.j40(this, marginEnd$factory(), new Dp(_set____db54di));
  };
  UiModifier.prototype.t41 = function () {
    return this.h3u_1.j2r(this, marginEnd$factory_0()).a3v_1;
  };
  UiModifier.prototype.u41 = function (_set____db54di) {
    return this.i3u_1.j40(this, marginTop$factory(), new Dp(_set____db54di));
  };
  UiModifier.prototype.v41 = function () {
    return this.i3u_1.j2r(this, marginTop$factory_0()).a3v_1;
  };
  UiModifier.prototype.w41 = function (_set____db54di) {
    return this.j3u_1.j40(this, marginBottom$factory(), new Dp(_set____db54di));
  };
  UiModifier.prototype.x41 = function () {
    return this.j3u_1.j2r(this, marginBottom$factory_0()).a3v_1;
  };
  UiModifier.prototype.y41 = function (_set____db54di) {
    return this.k3u_1.j40(this, alignX$factory(), _set____db54di);
  };
  UiModifier.prototype.z41 = function () {
    return this.k3u_1.j2r(this, alignX$factory_0());
  };
  UiModifier.prototype.a42 = function (_set____db54di) {
    return this.l3u_1.j40(this, alignY$factory(), _set____db54di);
  };
  UiModifier.prototype.b42 = function () {
    return this.l3u_1.j2r(this, alignY$factory_0());
  };
  UiModifier.prototype.c42 = function (_set____db54di) {
    return this.m3u_1.j40(this, onMeasured$factory(), _set____db54di);
  };
  UiModifier.prototype.d42 = function () {
    return this.m3u_1.j2r(this, onMeasured$factory_0());
  };
  UiModifier.prototype.e42 = function (_set____db54di) {
    return this.n3u_1.j40(this, onPositioned$factory(), _set____db54di);
  };
  UiModifier.prototype.f42 = function () {
    return this.n3u_1.j2r(this, onPositioned$factory_0());
  };
  UiModifier.prototype.g42 = function () {
    return this.o3u_1.j2r(this, onPointer$factory());
  };
  UiModifier.prototype.h42 = function () {
    return this.p3u_1.j2r(this, onClick$factory());
  };
  UiModifier.prototype.i42 = function () {
    return this.q3u_1.j2r(this, onWheelX$factory());
  };
  UiModifier.prototype.j42 = function () {
    return this.r3u_1.j2r(this, onWheelY$factory());
  };
  UiModifier.prototype.k42 = function () {
    return this.s3u_1.j2r(this, onEnter$factory());
  };
  UiModifier.prototype.l42 = function () {
    return this.t3u_1.j2r(this, onExit$factory());
  };
  UiModifier.prototype.m42 = function () {
    return this.u3u_1.j2r(this, onHover$factory());
  };
  UiModifier.prototype.n42 = function () {
    return this.v3u_1.j2r(this, onDragStart$factory());
  };
  UiModifier.prototype.o42 = function () {
    return this.w3u_1.j2r(this, onDrag$factory());
  };
  UiModifier.prototype.p42 = function () {
    return this.x3u_1.j2r(this, onDragEnd$factory());
  };
  UiModifier.prototype.d40 = function (defaultVal) {
    var holder = new PropertyHolder(this, UiModifier$property$lambda(defaultVal));
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.v3t_1;
      tmp0_plusAssign.b(holder);
    }
    return holder;
  };
  UiModifier.prototype.e40 = function (defaultVal) {
    var holder = new PropertyHolder(this, defaultVal);
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.v3t_1;
      tmp0_plusAssign.b(holder);
    }
    return holder;
  };
  UiModifier.prototype.q42 = function () {
    var holder = new ListPropertyHolder(this);
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.v3t_1;
      tmp0_plusAssign.b(holder);
    }
    return holder;
  };
  UiModifier.prototype.r42 = function () {
    var inductionVariable = 0;
    var last = this.v3t_1.m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.v3t_1.r(i).g4c();
      }
       while (inductionVariable <= last);
  };
  UiModifier.prototype.s42 = function () {
    var tmp;
    var tmp_0;
    var tmp_1;
    var tmp_2;
    var tmp_3;
    var tmp_4;
    var tmp_5;
    var tmp_6;
    var tmp_7;
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = this.g42();
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      tmp_7 = true;
    } else {
      var tmp$ret$1;
      {
        var tmp1_isNotEmpty = this.h42();
        tmp$ret$1 = !tmp1_isNotEmpty.q();
      }
      tmp_7 = tmp$ret$1;
    }
    if (tmp_7) {
      tmp_6 = true;
    } else {
      var tmp$ret$2;
      {
        var tmp2_isNotEmpty = this.i42();
        tmp$ret$2 = !tmp2_isNotEmpty.q();
      }
      tmp_6 = tmp$ret$2;
    }
    if (tmp_6) {
      tmp_5 = true;
    } else {
      var tmp$ret$3;
      {
        var tmp3_isNotEmpty = this.j42();
        tmp$ret$3 = !tmp3_isNotEmpty.q();
      }
      tmp_5 = tmp$ret$3;
    }
    if (tmp_5) {
      tmp_4 = true;
    } else {
      var tmp$ret$4;
      {
        var tmp4_isNotEmpty = this.k42();
        tmp$ret$4 = !tmp4_isNotEmpty.q();
      }
      tmp_4 = tmp$ret$4;
    }
    if (tmp_4) {
      tmp_3 = true;
    } else {
      var tmp$ret$5;
      {
        var tmp5_isNotEmpty = this.l42();
        tmp$ret$5 = !tmp5_isNotEmpty.q();
      }
      tmp_3 = tmp$ret$5;
    }
    if (tmp_3) {
      tmp_2 = true;
    } else {
      var tmp$ret$6;
      {
        var tmp6_isNotEmpty = this.m42();
        tmp$ret$6 = !tmp6_isNotEmpty.q();
      }
      tmp_2 = tmp$ret$6;
    }
    if (tmp_2) {
      tmp_1 = true;
    } else {
      var tmp$ret$7;
      {
        var tmp7_isNotEmpty = this.n42();
        tmp$ret$7 = !tmp7_isNotEmpty.q();
      }
      tmp_1 = tmp$ret$7;
    }
    if (tmp_1) {
      tmp_0 = true;
    } else {
      var tmp$ret$8;
      {
        var tmp8_isNotEmpty = this.o42();
        tmp$ret$8 = !tmp8_isNotEmpty.q();
      }
      tmp_0 = tmp$ret$8;
    }
    if (tmp_0) {
      tmp = true;
    } else {
      var tmp$ret$9;
      {
        var tmp9_isNotEmpty = this.p42();
        tmp$ret$9 = !tmp9_isNotEmpty.q();
      }
      tmp = tmp$ret$9;
    }
    return tmp;
  };
  UiModifier.prototype.t42 = function () {
    var tmp;
    var tmp_0;
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = this.k42();
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      tmp_0 = true;
    } else {
      var tmp$ret$1;
      {
        var tmp1_isNotEmpty = this.l42();
        tmp$ret$1 = !tmp1_isNotEmpty.q();
      }
      tmp_0 = tmp$ret$1;
    }
    if (tmp_0) {
      tmp = true;
    } else {
      var tmp$ret$2;
      {
        var tmp2_isNotEmpty = this.m42();
        tmp$ret$2 = !tmp2_isNotEmpty.q();
      }
      tmp = tmp$ret$2;
    }
    return tmp;
  };
  UiModifier.prototype.u42 = function () {
    var tmp;
    var tmp_0;
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = this.n42();
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      tmp_0 = true;
    } else {
      var tmp$ret$1;
      {
        var tmp1_isNotEmpty = this.o42();
        tmp$ret$1 = !tmp1_isNotEmpty.q();
      }
      tmp_0 = tmp$ret$1;
    }
    if (tmp_0) {
      tmp = true;
    } else {
      var tmp$ret$2;
      {
        var tmp2_isNotEmpty = this.p42();
        tmp$ret$2 = !tmp2_isNotEmpty.q();
      }
      tmp = tmp$ret$2;
    }
    return tmp;
  };
  UiModifier.$metadata$ = classMeta('UiModifier');
  function alignY(_this__u8e3s4, alignment) {
    _this__u8e3s4.a42(alignment);
    return _this__u8e3s4;
  }
  var AlignmentY_Top_instance;
  var AlignmentY_Center_instance;
  var AlignmentY_Bottom_instance;
  var AlignmentY_entriesInitialized;
  function AlignmentY_initEntries() {
    if (AlignmentY_entriesInitialized)
      return Unit_getInstance();
    AlignmentY_entriesInitialized = true;
    AlignmentY_Top_instance = new AlignmentY('Top', 0);
    AlignmentY_Center_instance = new AlignmentY('Center', 1);
    AlignmentY_Bottom_instance = new AlignmentY('Bottom', 2);
  }
  function AlignmentY(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  AlignmentY.$metadata$ = classMeta('AlignmentY', undefined, undefined, undefined, undefined, Enum.prototype);
  function alignX(_this__u8e3s4, alignment) {
    _this__u8e3s4.y41(alignment);
    return _this__u8e3s4;
  }
  var AlignmentX_Start_instance;
  var AlignmentX_Center_instance;
  var AlignmentX_End_instance;
  var AlignmentX_entriesInitialized;
  function AlignmentX_initEntries() {
    if (AlignmentX_entriesInitialized)
      return Unit_getInstance();
    AlignmentX_entriesInitialized = true;
    AlignmentX_Start_instance = new AlignmentX('Start', 0);
    AlignmentX_Center_instance = new AlignmentX('Center', 1);
    AlignmentX_End_instance = new AlignmentX('End', 2);
  }
  function AlignmentX(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  AlignmentX.$metadata$ = classMeta('AlignmentX', undefined, undefined, undefined, undefined, Enum.prototype);
  function layout(_this__u8e3s4, layout) {
    _this__u8e3s4.b41(layout);
    return _this__u8e3s4;
  }
  function margin(_this__u8e3s4, start, end, top, bottom) {
    _this__u8e3s4.q41(start);
    _this__u8e3s4.s41(end);
    _this__u8e3s4.u41(top);
    _this__u8e3s4.w41(bottom);
    return _this__u8e3s4;
  }
  function margin$default(_this__u8e3s4, start, end, top, bottom, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      start = _this__u8e3s4.r41();
    if (!(($mask0 & 2) === 0))
      end = _this__u8e3s4.t41();
    if (!(($mask0 & 4) === 0))
      top = _this__u8e3s4.v41();
    if (!(($mask0 & 8) === 0))
      bottom = _this__u8e3s4.x41();
    return margin(_this__u8e3s4, start, end, top, bottom);
  }
  function height(_this__u8e3s4, height) {
    _this__u8e3s4.a41(height);
    return _this__u8e3s4;
  }
  function width(_this__u8e3s4, width) {
    _this__u8e3s4.z40(width);
    return _this__u8e3s4;
  }
  function align(_this__u8e3s4, xAlignment, yAlignment) {
    _this__u8e3s4.y41(xAlignment);
    _this__u8e3s4.a42(yAlignment);
    return _this__u8e3s4;
  }
  function align$default(_this__u8e3s4, xAlignment, yAlignment, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      xAlignment = _this__u8e3s4.z41();
    if (!(($mask0 & 2) === 0))
      yAlignment = _this__u8e3s4.b42();
    return align(_this__u8e3s4, xAlignment, yAlignment);
  }
  function onClick_0(_this__u8e3s4, block) {
    var tmp0_this = _this__u8e3s4;
    {
      var tmp0_plusAssign = tmp0_this.h42();
      tmp0_plusAssign.b(block);
    }
    return _this__u8e3s4;
  }
  function PointerEvent(pointer, ctx) {
    this.r48_1 = pointer;
    this.s48_1 = ctx;
    this.t48_1 = MutableVec2f_init_$Create$();
    this.u48_1 = true;
  }
  PointerEvent.prototype.l4c = function () {
    return this.r48_1;
  };
  PointerEvent.prototype.v48 = function () {
    this.u48_1 = false;
  };
  PointerEvent.$metadata$ = classMeta('PointerEvent');
  function backgroundColor(_this__u8e3s4, color) {
    _this__u8e3s4.d41(!(color == null) ? new RectBackground(color) : null);
    return _this__u8e3s4;
  }
  function padding(_this__u8e3s4, start, end, top, bottom) {
    _this__u8e3s4.i41(start);
    _this__u8e3s4.k41(end);
    _this__u8e3s4.m41(top);
    _this__u8e3s4.o41(bottom);
    return _this__u8e3s4;
  }
  function padding$default(_this__u8e3s4, start, end, top, bottom, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      start = _this__u8e3s4.j41();
    if (!(($mask0 & 2) === 0))
      end = _this__u8e3s4.l41();
    if (!(($mask0 & 4) === 0))
      top = _this__u8e3s4.n41();
    if (!(($mask0 & 8) === 0))
      bottom = _this__u8e3s4.p41();
    return padding(_this__u8e3s4, start, end, top, bottom);
  }
  function onClick_1(_this__u8e3s4, clickable) {
    var tmp0_this = _this__u8e3s4;
    {
      var tmp0_plusAssign = tmp0_this.h42();
      var tmp1_plusAssign = Clickable$onClick$ref(clickable);
      tmp0_plusAssign.b(tmp1_plusAssign);
    }
    return _this__u8e3s4;
  }
  function zLayer(_this__u8e3s4, zLayer) {
    _this__u8e3s4.g41(zLayer);
    return _this__u8e3s4;
  }
  function Clickable$onClick$ref($boundThis) {
    var l = function (p0) {
      $boundThis.m3x(p0);
      return Unit_getInstance();
    };
    l.callableName = 'onClick';
    return l;
  }
  function AlignmentY_Top_getInstance() {
    AlignmentY_initEntries();
    return AlignmentY_Top_instance;
  }
  function AlignmentY_Center_getInstance() {
    AlignmentY_initEntries();
    return AlignmentY_Center_instance;
  }
  function AlignmentY_Bottom_getInstance() {
    AlignmentY_initEntries();
    return AlignmentY_Bottom_instance;
  }
  function AlignmentX_Start_getInstance() {
    AlignmentX_initEntries();
    return AlignmentX_Start_instance;
  }
  function AlignmentX_End_getInstance() {
    AlignmentX_initEntries();
    return AlignmentX_End_instance;
  }
  function width$factory() {
    return getPropertyCallableRef('width', 1, KMutableProperty1, function (receiver) {
      return receiver.y3u();
    }, function (receiver, value) {
      return receiver.z40(value);
    });
  }
  function width$factory_0() {
    return getPropertyCallableRef('width', 1, KMutableProperty1, function (receiver) {
      return receiver.y3u();
    }, function (receiver, value) {
      return receiver.z40(value);
    });
  }
  function height$factory() {
    return getPropertyCallableRef('height', 1, KMutableProperty1, function (receiver) {
      return receiver.z3u();
    }, function (receiver, value) {
      return receiver.a41(value);
    });
  }
  function height$factory_0() {
    return getPropertyCallableRef('height', 1, KMutableProperty1, function (receiver) {
      return receiver.z3u();
    }, function (receiver, value) {
      return receiver.a41(value);
    });
  }
  function layout$factory() {
    return getPropertyCallableRef('layout', 1, KMutableProperty1, function (receiver) {
      return receiver.c41();
    }, function (receiver, value) {
      return receiver.b41(value);
    });
  }
  function layout$factory_0() {
    return getPropertyCallableRef('layout', 1, KMutableProperty1, function (receiver) {
      return receiver.c41();
    }, function (receiver, value) {
      return receiver.b41(value);
    });
  }
  function background$factory() {
    return getPropertyCallableRef('background', 1, KMutableProperty1, function (receiver) {
      return receiver.n3v();
    }, function (receiver, value) {
      return receiver.d41(value);
    });
  }
  function background$factory_0() {
    return getPropertyCallableRef('background', 1, KMutableProperty1, function (receiver) {
      return receiver.n3v();
    }, function (receiver, value) {
      return receiver.d41(value);
    });
  }
  function border$factory() {
    return getPropertyCallableRef('border', 1, KMutableProperty1, function (receiver) {
      return receiver.f41();
    }, function (receiver, value) {
      return receiver.e41(value);
    });
  }
  function border$factory_0() {
    return getPropertyCallableRef('border', 1, KMutableProperty1, function (receiver) {
      return receiver.f41();
    }, function (receiver, value) {
      return receiver.e41(value);
    });
  }
  function zLayer$factory() {
    return getPropertyCallableRef('zLayer', 1, KMutableProperty1, function (receiver) {
      return receiver.h41();
    }, function (receiver, value) {
      return receiver.g41(value);
    });
  }
  function zLayer$factory_0() {
    return getPropertyCallableRef('zLayer', 1, KMutableProperty1, function (receiver) {
      return receiver.h41();
    }, function (receiver, value) {
      return receiver.g41(value);
    });
  }
  function paddingStart$factory() {
    return getPropertyCallableRef('paddingStart', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.j41());
    }, function (receiver, value) {
      return receiver.i41(value.a3v_1);
    });
  }
  function paddingStart$factory_0() {
    return getPropertyCallableRef('paddingStart', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.j41());
    }, function (receiver, value) {
      return receiver.i41(value.a3v_1);
    });
  }
  function paddingEnd$factory() {
    return getPropertyCallableRef('paddingEnd', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.l41());
    }, function (receiver, value) {
      return receiver.k41(value.a3v_1);
    });
  }
  function paddingEnd$factory_0() {
    return getPropertyCallableRef('paddingEnd', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.l41());
    }, function (receiver, value) {
      return receiver.k41(value.a3v_1);
    });
  }
  function paddingTop$factory() {
    return getPropertyCallableRef('paddingTop', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.n41());
    }, function (receiver, value) {
      return receiver.m41(value.a3v_1);
    });
  }
  function paddingTop$factory_0() {
    return getPropertyCallableRef('paddingTop', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.n41());
    }, function (receiver, value) {
      return receiver.m41(value.a3v_1);
    });
  }
  function paddingBottom$factory() {
    return getPropertyCallableRef('paddingBottom', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.p41());
    }, function (receiver, value) {
      return receiver.o41(value.a3v_1);
    });
  }
  function paddingBottom$factory_0() {
    return getPropertyCallableRef('paddingBottom', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.p41());
    }, function (receiver, value) {
      return receiver.o41(value.a3v_1);
    });
  }
  function marginStart$factory() {
    return getPropertyCallableRef('marginStart', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.r41());
    }, function (receiver, value) {
      return receiver.q41(value.a3v_1);
    });
  }
  function marginStart$factory_0() {
    return getPropertyCallableRef('marginStart', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.r41());
    }, function (receiver, value) {
      return receiver.q41(value.a3v_1);
    });
  }
  function marginEnd$factory() {
    return getPropertyCallableRef('marginEnd', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.t41());
    }, function (receiver, value) {
      return receiver.s41(value.a3v_1);
    });
  }
  function marginEnd$factory_0() {
    return getPropertyCallableRef('marginEnd', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.t41());
    }, function (receiver, value) {
      return receiver.s41(value.a3v_1);
    });
  }
  function marginTop$factory() {
    return getPropertyCallableRef('marginTop', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.v41());
    }, function (receiver, value) {
      return receiver.u41(value.a3v_1);
    });
  }
  function marginTop$factory_0() {
    return getPropertyCallableRef('marginTop', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.v41());
    }, function (receiver, value) {
      return receiver.u41(value.a3v_1);
    });
  }
  function marginBottom$factory() {
    return getPropertyCallableRef('marginBottom', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.x41());
    }, function (receiver, value) {
      return receiver.w41(value.a3v_1);
    });
  }
  function marginBottom$factory_0() {
    return getPropertyCallableRef('marginBottom', 1, KMutableProperty1, function (receiver) {
      return new Dp(receiver.x41());
    }, function (receiver, value) {
      return receiver.w41(value.a3v_1);
    });
  }
  function alignX$factory() {
    return getPropertyCallableRef('alignX', 1, KMutableProperty1, function (receiver) {
      return receiver.z41();
    }, function (receiver, value) {
      return receiver.y41(value);
    });
  }
  function alignX$factory_0() {
    return getPropertyCallableRef('alignX', 1, KMutableProperty1, function (receiver) {
      return receiver.z41();
    }, function (receiver, value) {
      return receiver.y41(value);
    });
  }
  function alignY$factory() {
    return getPropertyCallableRef('alignY', 1, KMutableProperty1, function (receiver) {
      return receiver.b42();
    }, function (receiver, value) {
      return receiver.a42(value);
    });
  }
  function alignY$factory_0() {
    return getPropertyCallableRef('alignY', 1, KMutableProperty1, function (receiver) {
      return receiver.b42();
    }, function (receiver, value) {
      return receiver.a42(value);
    });
  }
  function onMeasured$factory() {
    return getPropertyCallableRef('onMeasured', 1, KMutableProperty1, function (receiver) {
      return receiver.d42();
    }, function (receiver, value) {
      return receiver.c42(value);
    });
  }
  function onMeasured$factory_0() {
    return getPropertyCallableRef('onMeasured', 1, KMutableProperty1, function (receiver) {
      return receiver.d42();
    }, function (receiver, value) {
      return receiver.c42(value);
    });
  }
  function onPositioned$factory() {
    return getPropertyCallableRef('onPositioned', 1, KMutableProperty1, function (receiver) {
      return receiver.f42();
    }, function (receiver, value) {
      return receiver.e42(value);
    });
  }
  function onPositioned$factory_0() {
    return getPropertyCallableRef('onPositioned', 1, KMutableProperty1, function (receiver) {
      return receiver.f42();
    }, function (receiver, value) {
      return receiver.e42(value);
    });
  }
  function onPointer$factory() {
    return getPropertyCallableRef('onPointer', 1, KProperty1, function (receiver) {
      return receiver.g42();
    }, null);
  }
  function onClick$factory() {
    return getPropertyCallableRef('onClick', 1, KProperty1, function (receiver) {
      return receiver.h42();
    }, null);
  }
  function onWheelX$factory() {
    return getPropertyCallableRef('onWheelX', 1, KProperty1, function (receiver) {
      return receiver.i42();
    }, null);
  }
  function onWheelY$factory() {
    return getPropertyCallableRef('onWheelY', 1, KProperty1, function (receiver) {
      return receiver.j42();
    }, null);
  }
  function onEnter$factory() {
    return getPropertyCallableRef('onEnter', 1, KProperty1, function (receiver) {
      return receiver.k42();
    }, null);
  }
  function onExit$factory() {
    return getPropertyCallableRef('onExit', 1, KProperty1, function (receiver) {
      return receiver.l42();
    }, null);
  }
  function onHover$factory() {
    return getPropertyCallableRef('onHover', 1, KProperty1, function (receiver) {
      return receiver.m42();
    }, null);
  }
  function onDragStart$factory() {
    return getPropertyCallableRef('onDragStart', 1, KProperty1, function (receiver) {
      return receiver.n42();
    }, null);
  }
  function onDrag$factory() {
    return getPropertyCallableRef('onDrag', 1, KProperty1, function (receiver) {
      return receiver.o42();
    }, null);
  }
  function onDragEnd$factory() {
    return getPropertyCallableRef('onDragEnd', 1, KProperty1, function (receiver) {
      return receiver.p42();
    }, null);
  }
  function dimensionToPx($this, dim, contentPx, scaledGrowSpace, isGrowAllowed) {
    var tmp0_subject = dim;
    var tmp;
    if (equals(tmp0_subject, WrapContent_getInstance())) {
      tmp = contentPx;
    } else {
      if (tmp0_subject instanceof Dp) {
        tmp = $this.e3r(dim.a3v_1);
      } else {
        if (tmp0_subject instanceof Grow) {
          var tmp_0;
          if (isGrowAllowed) {
            var min = dimensionToPx($this, dim.r3v_1, contentPx, 0.0, false);
            var max = dimensionToPx($this, dim.s3v_1, contentPx, 0.0, false);
            var tmp$ret$0;
            {
              var tmp0_clamp = scaledGrowSpace * dim.q3v_1;
              tmp$ret$0 = tmp0_clamp < min ? min : tmp0_clamp > max ? max : tmp0_clamp;
            }
            tmp_0 = tmp$ret$0;
          } else {
            tmp_0 = 0.0;
          }
          tmp = tmp_0;
        } else {
          noWhenBranchMatchedException();
        }
      }
    }
    return tmp;
  }
  function UiNode$setBoundsVertexMod$lambda(this$0) {
    return function ($this$null) {
      var tmp0_safe_receiver = $this$null.b4d(Companion_getInstance_24().e3t_1);
      if (tmp0_safe_receiver == null)
        null;
      else
        tmp0_safe_receiver.r2i(this$0.x3p(), this$0.y3p(), this$0.z3p(), this$0.a3q());
      return Unit_getInstance();
    };
  }
  function UiNode(parent, surface) {
    this.p3o_1 = parent;
    this.q3o_1 = surface;
    this.r3o_1 = 0;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.s3o_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_0.t3o_1 = tmp$ret$1;
    this.u3o_1 = 0.0;
    this.v3o_1 = 0.0;
    this.w3o_1 = 0.0;
    this.x3o_1 = 0.0;
    this.y3o_1 = 0.0;
    this.z3o_1 = 0.0;
    this.a3p_1 = MutableVec4f_init_$Create$();
    var tmp_1 = this;
    tmp_1.b3p_1 = UiNode$setBoundsVertexMod$lambda(this);
  }
  UiNode.prototype.t3p = function () {
    return this.q3o_1;
  };
  UiNode.prototype.n3o = function () {
    return this;
  };
  UiNode.prototype.u3p = function () {
    return this.t3o_1;
  };
  UiNode.prototype.k43 = function () {
    return this.w3o_1;
  };
  UiNode.prototype.l43 = function () {
    return this.x3o_1;
  };
  UiNode.prototype.v3p = function () {
    return this.y3o_1 - this.w3o_1;
  };
  UiNode.prototype.w3p = function () {
    return this.z3o_1 - this.x3o_1;
  };
  UiNode.prototype.n48 = function () {
    return this.v3p() - this.c3q() - this.d3q();
  };
  UiNode.prototype.o48 = function () {
    return this.w3p() - this.e3q() - this.f3q();
  };
  UiNode.prototype.x3p = function () {
    return this.a3p_1.z1z();
  };
  UiNode.prototype.y3p = function () {
    return this.a3p_1.b20();
  };
  UiNode.prototype.z3p = function () {
    return this.a3p_1.s2d();
  };
  UiNode.prototype.a3q = function () {
    return this.a3p_1.m2i();
  };
  UiNode.prototype.b3q = function () {
    return this.z3p() - this.x3p() > 0.5 ? this.a3q() - this.y3p() > 0.5 : false;
  };
  UiNode.prototype.c3q = function () {
    return this.e3r(this.r3p().j41());
  };
  UiNode.prototype.d3q = function () {
    return this.e3r(this.r3p().l41());
  };
  UiNode.prototype.e3q = function () {
    return this.e3r(this.r3p().n41());
  };
  UiNode.prototype.f3q = function () {
    return this.e3r(this.r3p().p41());
  };
  UiNode.prototype.g3q = function () {
    return this.e3r(this.r3p().r41());
  };
  UiNode.prototype.h3q = function () {
    return this.e3r(this.r3p().t41());
  };
  UiNode.prototype.i3q = function () {
    return this.e3r(this.r3p().v41());
  };
  UiNode.prototype.j3q = function () {
    return this.e3r(this.r3p().x41());
  };
  UiNode.prototype.k3q = function () {
    return this.b3p_1;
  };
  UiNode.prototype.l3q = function (screenX, screenY, result) {
    return result.x2f(screenX - this.w3o_1, screenY - this.x3o_1);
  };
  UiNode.prototype.m3q = function (point) {
    var tmp;
    var containsLower = this.w3o_1;
    var containsUpper = this.y3o_1;
    var containsArg = point.z1z();
    if (containsLower <= containsArg ? containsArg <= containsUpper : false) {
      var containsLower_0 = this.x3o_1;
      var containsUpper_0 = this.z3o_1;
      var containsArg_0 = point.b20();
      tmp = containsLower_0 <= containsArg_0 ? containsArg_0 <= containsUpper_0 : false;
    } else {
      tmp = false;
    }
    return tmp;
  };
  UiNode.prototype.n3q = function (width, height) {
    this.u3o_1 = width;
    this.v3o_1 = height;
    var tmp0_safe_receiver = this.r3p().d42();
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        tmp$ret$0 = tmp0_safe_receiver(this);
      }
    }
  };
  UiNode.prototype.o3q = function (minX, minY, maxX, maxY) {
    this.w3o_1 = minX;
    this.x3o_1 = minY;
    this.y3o_1 = maxX;
    this.z3o_1 = maxY;
    if (!(this.p3o_1 == null)) {
      var tmp$ret$0;
      {
        var tmp0_max = this.p3o_1.x3p();
        tmp$ret$0 = Math.max(tmp0_max, minX);
      }
      this.a3p_1.t2f(tmp$ret$0);
      var tmp$ret$1;
      {
        var tmp1_max = this.p3o_1.y3p();
        tmp$ret$1 = Math.max(tmp1_max, minY);
      }
      this.a3p_1.u2f(tmp$ret$1);
      var tmp$ret$2;
      {
        var tmp2_min = this.p3o_1.z3p();
        tmp$ret$2 = Math.min(tmp2_min, maxX);
      }
      this.a3p_1.i2h(tmp$ret$2);
      var tmp$ret$3;
      {
        var tmp3_min = this.p3o_1.a3q();
        tmp$ret$3 = Math.min(tmp3_min, maxY);
      }
      this.a3p_1.p2i(tmp$ret$3);
    } else {
      this.a3p_1.t2f(minX);
      this.a3p_1.u2f(minY);
      this.a3p_1.i2h(maxX);
      this.a3p_1.p2i(maxY);
    }
    var tmp0_safe_receiver = this.r3p().f42();
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$4;
      {
        {
        }
        tmp$ret$4 = tmp0_safe_receiver(this);
      }
    }
  };
  UiNode.prototype.p3q = function (scaledGrowSpace) {
    return dimensionToPx(this, this.r3p().y3u(), this.u3o_1, scaledGrowSpace, true);
  };
  UiNode.prototype.q3q = function (scaledGrowSpace) {
    return dimensionToPx(this, this.r3p().z3u(), this.v3o_1, scaledGrowSpace, true);
  };
  UiNode.prototype.r3q = function (child, measuredChildWidth) {
    var tmp = this.w3o_1;
    var tmp0_subject = child.r3p().z41();
    var tmp0 = tmp0_subject.w1();
    var tmp_0;
    switch (tmp0) {
      case 0:
        var tmp$ret$0;
        {
          var tmp0_max = this.c3q();
          var tmp1_max = child.g3q();
          tmp$ret$0 = Math.max(tmp0_max, tmp1_max);
        }

        tmp_0 = tmp$ret$0;
        break;
      case 1:
        tmp_0 = (this.v3p() - measuredChildWidth) * 0.5;
        break;
      case 2:
        var tmp_1 = this.v3p() - measuredChildWidth;
        var tmp$ret$1;
        {
          var tmp2_max = this.d3q();
          var tmp3_max = child.h3q();
          tmp$ret$1 = Math.max(tmp2_max, tmp3_max);
        }

        tmp_0 = tmp_1 - tmp$ret$1;
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    return tmp + tmp_0;
  };
  UiNode.prototype.s3q = function (child, measuredChildHeight) {
    var tmp = this.x3o_1;
    var tmp0_subject = child.r3p().b42();
    var tmp0 = tmp0_subject.w1();
    var tmp_0;
    switch (tmp0) {
      case 0:
        var tmp$ret$0;
        {
          var tmp0_max = this.e3q();
          var tmp1_max = child.i3q();
          tmp$ret$0 = Math.max(tmp0_max, tmp1_max);
        }

        tmp_0 = tmp$ret$0;
        break;
      case 1:
        tmp_0 = (this.w3p() - measuredChildHeight) * 0.5;
        break;
      case 2:
        var tmp_1 = this.w3p() - measuredChildHeight;
        var tmp$ret$1;
        {
          var tmp2_max = this.f3q();
          var tmp3_max = child.j3q();
          tmp$ret$1 = Math.max(tmp2_max, tmp3_max);
        }

        tmp_0 = tmp_1 - tmp$ret$1;
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    return tmp + tmp_0;
  };
  UiNode.prototype.t3q = function (ctx) {
    var tmp0_safe_receiver = this.r3p().n3v();
    if (tmp0_safe_receiver == null)
      null;
    else {
      tmp0_safe_receiver.c4d(this);
    }
    var tmp1_safe_receiver = this.r3p().f41();
    if (tmp1_safe_receiver == null)
      null;
    else {
      tmp1_safe_receiver.c4d(this);
    }
  };
  UiNode.prototype.u3q = function (ctx) {
    this.r3p().c41().t3t(this, ctx);
  };
  UiNode.prototype.v3q = function (ctx) {
    this.r3p().c41().b3v(this, ctx);
  };
  UiNode.prototype.w3q = function () {
    var tmp = this;
    var tmp0_this = this.t3p();
    var tmp1 = tmp0_this.a3x_1;
    tmp0_this.a3x_1 = tmp1 + 1 | 0;
    tmp.r3o_1 = tmp1;
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = this.u3p();
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      this.s3o_1.t7();
      var inductionVariable = get_lastIndex(this.t3o_1);
      if (0 <= inductionVariable)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + -1 | 0;
          var tmp3_this = this;
          {
            var tmp1_plusAssign = tmp3_this.s3o_1;
            var tmp2_plusAssign = this.t3o_1.r(i);
            tmp1_plusAssign.b(tmp2_plusAssign);
          }
        }
         while (0 <= inductionVariable);
      this.t3o_1.t7();
    }
    this.r3p().r42();
    var tmp_0 = this.r3p();
    var tmp4_safe_receiver = this.p3o_1;
    var tmp5_safe_receiver = tmp4_safe_receiver == null ? null : tmp4_safe_receiver.r3p();
    var tmp6_elvis_lhs = tmp5_safe_receiver == null ? null : tmp5_safe_receiver.h41();
    var tmp_1;
    if (tmp6_elvis_lhs == null) {
      Companion_getInstance_27();
      tmp_1 = 0;
    } else {
      tmp_1 = tmp6_elvis_lhs;
    }
    zLayer(tmp_0, tmp_1);
  };
  UiNode.prototype.c3p = function (type, factory) {
    var child = null;
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = this.s3o_1;
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      var old = removeLast(this.s3o_1);
      if (getKClassFromExpression(old) === type) {
        child = old instanceof UiNode ? old : THROW_CCE();
      }
    }
    if (child == null) {
      child = factory(this, this.t3p());
    }
    child.w3q();
    var tmp0_this = this;
    {
      var tmp1_plusAssign = tmp0_this.t3o_1;
      var tmp2_plusAssign = child;
      tmp1_plusAssign.b(tmp2_plusAssign);
    }
    return child;
  };
  UiNode.prototype.x3q = function (layerOffset) {
    return this.t3p().h4e(this.r3p().h41() + layerOffset | 0).d4e_1;
  };
  UiNode.prototype.y3q = function (layerOffset, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      layerOffset = 0;
    return this.x3q(layerOffset);
  };
  UiNode.prototype.z3q = function (fontProps, ctx, layerOffset) {
    return this.t3p().h4e(this.r3p().h41() + layerOffset | 0).i4e(fontProps, ctx);
  };
  UiNode.prototype.a3r = function (fontProps, ctx, layerOffset, $mask0, $handler) {
    if (!(($mask0 & 4) === 0))
      layerOffset = 0;
    return this.z3q(fontProps, ctx, layerOffset);
  };
  UiNode.prototype.b3r = function (_this__u8e3s4, x, y, width, height, color) {
    var tmp = this.w3o_1 + x;
    var tmp_0 = this.x3o_1 + y;
    _this__u8e3s4.n4f(tmp, tmp_0, width, height, this.a3p_1, color, null, 0.0, 0.0, 448, null);
  };
  UiNode.prototype.k48 = function (_this__u8e3s4, x, y, width, height, radius, color) {
    var tmp = this.w3o_1 + x;
    var tmp_0 = this.x3o_1 + y;
    _this__u8e3s4.o4f(tmp, tmp_0, width, height, radius, this.a3p_1, color, null, 0.0, 0.0, 896, null);
  };
  UiNode.prototype.l48 = function (_this__u8e3s4, x, y, radius, color) {
    var tmp = this.w3o_1 + x;
    var tmp_0 = this.x3o_1 + y;
    _this__u8e3s4.p4f(tmp, tmp_0, radius, this.a3p_1, color, null, 0.0, 0.0, 224, null);
  };
  UiNode.$metadata$ = classMeta('UiNode', [UiScope]);
  function UiPrimitiveMesh$PrimitiveShader$Model$lambda$lambda($clipBounds, $this_vertexStage, $color, $screenPos, this$0) {
    return function ($this$main) {
      $this$main.t2w($clipBounds.z33(), $this_vertexStage.b34(Companion_getInstance_24().e3t_1.s2p_1));
      var tmp = $this_vertexStage.j3l(Companion_getInstance_26().q4f_1.s2p_1);
      var center = $this$main.r3j(tmp, null, 2, null);
      var tmp_0 = $this_vertexStage.b34(Companion_getInstance_26().r4f_1.s2p_1);
      var outerDimens = $this$main.k32(tmp_0, null, 2, null);
      var tmp_1 = $this_vertexStage.b34(Companion_getInstance_26().s4f_1.s2p_1);
      var innerDimens = $this$main.k32(tmp_1, null, 2, null);
      var tmp_2 = $this_vertexStage.a34(Companion_getInstance_26().t4f_1.s2p_1);
      var outerPosWeights = $this$main.k32(tmp_2, null, 2, null);
      var tmp_3 = $this_vertexStage.a34(Companion_getInstance_26().u4f_1.s2p_1);
      var innerPosWeights = $this$main.k32(tmp_3, null, 2, null);
      var tmp_4 = $this$main.l32(Companion_getInstance_9().y2g_1);
      var pos = $this$main.g2x(tmp_4, null, 2, null);
      $this$main.t2w(get_xy(pos), plus_0(plus_0(center, times_1(get_xy_0(outerPosWeights), get_xy_0(outerDimens))), times_1(get_zw(outerPosWeights), get_zw(outerDimens))));
      var tmp0_receiver = pos;
      $this$main.a30(get_xy(tmp0_receiver), plus_0(times_1(get_xy_0(innerPosWeights), get_xy_0(innerDimens)), times_1(get_zw(innerPosWeights), get_zw(innerDimens))));
      var colorA = $this_vertexStage.b34(Companion_getInstance_26().v4f_1.s2p_1);
      var colorB = $this_vertexStage.b34(Companion_getInstance_26().w4f_1.s2p_1);
      var gradientDir = $this_vertexStage.j3l(Companion_getInstance_26().x4f_1.s2p_1);
      var tmp_5 = plus_0(get_xy_0(outerDimens), get_zw(outerDimens));
      var widthHeight = $this$main.r3j(tmp_5, null, 2, null);
      var tmp_6 = times_0(div_1(minus(get_xy(pos), center), widthHeight), $this$main.p34(2.0));
      var normPos = $this$main.r3j(tmp_6, null, 2, null);
      var wB = $this$main.g3k(plus_2(times_2($this$main.i3k(normPos, gradientDir), $this$main.p34(0.5)), $this$main.p34(0.5)), $this$main.p34(0.0), $this$main.p34(1.0));
      var wA = minus_0($this$main.p34(1.0), wB);
      $this$main.t2w($color.z33(), plus_0(times_0(colorA, wA), times_0(colorB, wB)));
      $this$main.t2w(get_rgb($color.z33()), times_0(get_rgb($color.z33()), get_a($color.z33())));
      $this$main.t2w($screenPos.z33(), get_xy(pos));
      $this$main.t2w($this_vertexStage.y2o_1, times(mvpMatrix(this$0).i2e(), $this$main.m3j(pos, $this$main.p34(1.0))));
      return Unit_getInstance();
    };
  }
  function UiPrimitiveMesh$PrimitiveShader$Model$lambda($clipBounds, $color, $screenPos, this$0) {
    return function ($this$vertexStage) {
      $this$vertexStage.u2w(UiPrimitiveMesh$PrimitiveShader$Model$lambda$lambda($clipBounds, $this$vertexStage, $color, $screenPos, this$0));
      return Unit_getInstance();
    };
  }
  function UiPrimitiveMesh$PrimitiveShader$Model$lambda$lambda$lambda($this_fragmentStage, $color) {
    return function ($this$if) {
      var tmp = $color.c33();
      $this_fragmentStage.u3l($this$if, tmp, 0, 2, null);
      return Unit_getInstance();
    };
  }
  function UiPrimitiveMesh$PrimitiveShader$Model$lambda$lambda$lambda_0() {
    return function ($this$else) {
      $this$else.c3k();
      return Unit_getInstance();
    };
  }
  function UiPrimitiveMesh$PrimitiveShader$Model$lambda$lambda_0($screenPos, $clipBounds, $this_fragmentStage, $color) {
    return function ($this$main) {
      var tmp = and_0($this$main.d3k(gt_0($screenPos.c33(), get_xy_0($clipBounds.c33()))), $this$main.d3k(lt_0($screenPos.c33(), get_zw($clipBounds.c33()))));
      var tmp_0 = $this$main.z3j(tmp, UiPrimitiveMesh$PrimitiveShader$Model$lambda$lambda$lambda($this_fragmentStage, $color));
      tmp_0.w3h(UiPrimitiveMesh$PrimitiveShader$Model$lambda$lambda$lambda_0());
      return Unit_getInstance();
    };
  }
  function UiPrimitiveMesh$PrimitiveShader$Model$lambda_0($screenPos, $clipBounds, $color) {
    return function ($this$fragmentStage) {
      $this$fragmentStage.u2w(UiPrimitiveMesh$PrimitiveShader$Model$lambda$lambda_0($screenPos, $clipBounds, $this$fragmentStage, $color));
      return Unit_getInstance();
    };
  }
  function Model_1() {
    KslProgram.call(this, 'UI2 primitive shape shader');
    var screenPos = this.f2y(null, null, 3, null);
    var color = this.h2y(null, null, 3, null);
    var clipBounds = this.h2y(null, KslInterStageInterpolation_Flat_getInstance(), 1, null);
    this.v2x(UiPrimitiveMesh$PrimitiveShader$Model$lambda(clipBounds, color, screenPos, this));
    this.w2x(UiPrimitiveMesh$PrimitiveShader$Model$lambda_0(screenPos, clipBounds, color));
  }
  Model_1.$metadata$ = classMeta('Model', undefined, undefined, undefined, undefined, KslProgram.prototype);
  function Companion_25() {
    Companion_instance_25 = this;
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_apply = new PipelineConfig();
      {
      }
      {
        tmp0_apply.r2q_1 = BlendMode_BLEND_PREMULTIPLIED_ALPHA_getInstance();
        tmp0_apply.s2q_1 = CullMethod_NO_CULLING_getInstance();
        tmp0_apply.t2q_1 = DepthCompareOp_DISABLED_getInstance();
      }
      tmp$ret$0 = tmp0_apply;
    }
    tmp.y4f_1 = tmp$ret$0;
  }
  Companion_25.$metadata$ = objectMeta('Companion');
  var Companion_instance_25;
  function Companion_getInstance_25() {
    if (Companion_instance_25 == null)
      new Companion_25();
    return Companion_instance_25;
  }
  function addPrimitive($this, x, y, outerW, outerH, outerRx, outerRy, innerW, innerH, innerRx, innerRy, clip, colorA, colorB, gradientX, gradientY) {
    var vec4 = MutableVec4f_init_$Create$();
    var tmp$ret$8;
    {
      var tmp1_addInstance = $this.m4f_1;
      tmp1_addInstance.z4f(1);
      var szBefore = tmp1_addInstance.n2q_1.qr();
      {
        var tmp0__anonymous__q1qw7t = tmp1_addInstance.n2q_1;
        {
          var tmp$ret$0;
          {
            var tmp0_max = outerW - outerRx * 2.0;
            tmp$ret$0 = Math.max(tmp0_max, 0.0);
          }
          var tmp = tmp$ret$0;
          var tmp$ret$1;
          {
            var tmp1_max = outerH - outerRy * 2.0;
            tmp$ret$1 = Math.max(tmp1_max, 0.0);
          }
          var tmp_0 = tmp$ret$1;
          var tmp$ret$2;
          {
            var tmp2_min = outerW * 0.5;
            tmp$ret$2 = Math.min(outerRx, tmp2_min);
          }
          var tmp_1 = tmp$ret$2;
          var tmp$ret$3;
          {
            var tmp3_min = outerH * 0.5;
            tmp$ret$3 = Math.min(outerRy, tmp3_min);
          }
          tmp0__anonymous__q1qw7t.a4g(vec4.r2i(tmp, tmp_0, tmp_1, tmp$ret$3).p2f());
          var tmp$ret$4;
          {
            var tmp4_max = innerW - innerRx * 2.0;
            tmp$ret$4 = Math.max(tmp4_max, 0.0);
          }
          var tmp_2 = tmp$ret$4;
          var tmp$ret$5;
          {
            var tmp5_max = innerH - innerRy * 2.0;
            tmp$ret$5 = Math.max(tmp5_max, 0.0);
          }
          var tmp_3 = tmp$ret$5;
          var tmp$ret$6;
          {
            var tmp6_min = innerW * 0.5;
            tmp$ret$6 = Math.min(innerRx, tmp6_min);
          }
          var tmp_4 = tmp$ret$6;
          var tmp$ret$7;
          {
            var tmp7_min = innerH * 0.5;
            tmp$ret$7 = Math.min(innerRy, tmp7_min);
          }
          tmp0__anonymous__q1qw7t.a4g(vec4.r2i(tmp_2, tmp_3, tmp_4, tmp$ret$7).p2f());
          tmp0__anonymous__q1qw7t.a4g(vec4.s2i(clip).p2f());
          tmp0__anonymous__q1qw7t.a4g(vec4.s2i(colorA).p2f());
          tmp0__anonymous__q1qw7t.a4g(vec4.s2i(colorB).p2f());
          tmp0__anonymous__q1qw7t.b4g(gradientX);
          tmp0__anonymous__q1qw7t.b4g(gradientY);
          tmp0__anonymous__q1qw7t.b4g(x + outerW * 0.5);
          tmp0__anonymous__q1qw7t.b4g(y + outerH * 0.5);
        }
      }
      var growSz = tmp1_addInstance.n2q_1.qr() - szBefore | 0;
      if (!(growSz === imul(tmp1_addInstance.j2q_1, 1))) {
        throw IllegalStateException_init_$Create$('Expected data to grow by ' + imul(tmp1_addInstance.j2q_1, 1) + ' elements, instead it grew by ' + growSz);
      }
      var tmp0_this = tmp1_addInstance;
      tmp0_this.m2q_1 = tmp0_this.m2q_1 + 1 | 0;
      tmp1_addInstance.q2q_1 = true;
      tmp$ret$8 = Unit_getInstance();
    }
  }
  function Companion_26() {
    Companion_instance_26 = this;
    this.q4f_1 = new Attribute('aCenter', GlslType_VEC_2F_getInstance());
    this.r4f_1 = new Attribute('aOuterDimens', GlslType_VEC_4F_getInstance());
    this.s4f_1 = new Attribute('aInnerDimens', GlslType_VEC_4F_getInstance());
    this.t4f_1 = new Attribute('aOuterW', GlslType_VEC_4F_getInstance());
    this.u4f_1 = new Attribute('aInnerW', GlslType_VEC_4F_getInstance());
    this.v4f_1 = new Attribute('aColorA', GlslType_VEC_4F_getInstance());
    this.w4f_1 = new Attribute('aColorB', GlslType_VEC_4F_getInstance());
    this.x4f_1 = new Attribute('aGradientDir', GlslType_VEC_2F_getInstance());
  }
  Companion_26.$metadata$ = objectMeta('Companion');
  var Companion_instance_26;
  function Companion_getInstance_26() {
    if (Companion_instance_26 == null)
      new Companion_26();
    return Companion_instance_26;
  }
  function PrimitiveShader() {
    Companion_getInstance_25();
    KslShader.call(this, new Model_1(), Companion_getInstance_25().y4f_1);
  }
  PrimitiveShader.$metadata$ = classMeta('PrimitiveShader', undefined, undefined, undefined, undefined, KslShader.prototype);
  function invoke$addOuterInnerVerts($this_generate, outerWeights, innerWeights, weights) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_addVertex = $this_generate.n3s_1;
        tmp0_addVertex.c4g(0, 1, null);
        var inductionVariable = 1;
        var last = tmp0_addVertex.c2p_1;
        if (inductionVariable <= last)
          do {
            var i = inductionVariable;
            inductionVariable = inductionVariable + 1 | 0;
            var tmp1_this = tmp0_addVertex;
            tmp1_this.k2p_1.d4g(0.0);
          }
           while (!(i === last));
        var inductionVariable_0 = 1;
        var last_0 = tmp0_addVertex.e2p_1;
        if (inductionVariable_0 <= last_0)
          do {
            var i_0 = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            var tmp3_this = tmp0_addVertex;
            tmp3_this.l2p_1.e4g(0);
          }
           while (!(i_0 === last_0));
        var tmp4_this = tmp0_addVertex;
        var tmp5 = tmp4_this.j2p_1;
        tmp4_this.j2p_1 = tmp5 + 1 | 0;
        tmp0_addVertex.o2p_1.ue(tmp5);
        {
          var tmp1__anonymous__uwfjfc = tmp0_addVertex.o2p_1;
          tmp1__anonymous__uwfjfc.u4c_1.s2i($this_generate.q3s_1);
          tmp1__anonymous__uwfjfc.f4g($this_generate.r3s_1);
          tmp1__anonymous__uwfjfc.g4g($this_generate.s3s_1);
          tmp1__anonymous__uwfjfc.h4g($this_generate.t3s_1);
          {
            outerWeights.s2i(weights);
            innerWeights.s2i(Companion_getInstance_12().w2i_1);
          }
          $this_generate.o3s_1.u2d(tmp1__anonymous__uwfjfc.r4c_1, 0.0, 2, null);
          if ($this_generate.v3s_1 ? !(tmp1__anonymous__uwfjfc.s4c_1.q2g() === 0.0) : false) {
            $this_generate.o3s_1.q2d(tmp1__anonymous__uwfjfc.s4c_1, 0.0);
            tmp1__anonymous__uwfjfc.s4c_1.r2h();
          }
          var tmp0_safe_receiver = $this_generate.u3s_1;
          if (tmp0_safe_receiver == null)
            null;
          else
            tmp0_safe_receiver(tmp1__anonymous__uwfjfc);
        }
        tmp0_addVertex.n2p_1.q2h(tmp0_addVertex.o2p_1.r4c_1);
        tmp0_addVertex.q2p_1 = true;
        tmp$ret$0 = tmp0_addVertex.j2p_1 - 1 | 0;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    var tmp$ret$3;
    {
      var tmp$ret$2;
      {
        var tmp2_addVertex = $this_generate.n3s_1;
        tmp2_addVertex.c4g(0, 1, null);
        var inductionVariable_1 = 1;
        var last_1 = tmp2_addVertex.c2p_1;
        if (inductionVariable_1 <= last_1)
          do {
            var i_1 = inductionVariable_1;
            inductionVariable_1 = inductionVariable_1 + 1 | 0;
            var tmp1_this_0 = tmp2_addVertex;
            tmp1_this_0.k2p_1.d4g(0.0);
          }
           while (!(i_1 === last_1));
        var inductionVariable_2 = 1;
        var last_2 = tmp2_addVertex.e2p_1;
        if (inductionVariable_2 <= last_2)
          do {
            var i_2 = inductionVariable_2;
            inductionVariable_2 = inductionVariable_2 + 1 | 0;
            var tmp3_this_0 = tmp2_addVertex;
            tmp3_this_0.l2p_1.e4g(0);
          }
           while (!(i_2 === last_2));
        var tmp4_this_0 = tmp2_addVertex;
        var tmp5_0 = tmp4_this_0.j2p_1;
        tmp4_this_0.j2p_1 = tmp5_0 + 1 | 0;
        tmp2_addVertex.o2p_1.ue(tmp5_0);
        {
          var tmp3__anonymous__ufb84q = tmp2_addVertex.o2p_1;
          tmp3__anonymous__ufb84q.u4c_1.s2i($this_generate.q3s_1);
          tmp3__anonymous__ufb84q.f4g($this_generate.r3s_1);
          tmp3__anonymous__ufb84q.g4g($this_generate.s3s_1);
          tmp3__anonymous__ufb84q.h4g($this_generate.t3s_1);
          {
            outerWeights.s2i(Companion_getInstance_12().w2i_1);
            innerWeights.s2i(weights);
          }
          $this_generate.o3s_1.u2d(tmp3__anonymous__ufb84q.r4c_1, 0.0, 2, null);
          if ($this_generate.v3s_1 ? !(tmp3__anonymous__ufb84q.s4c_1.q2g() === 0.0) : false) {
            $this_generate.o3s_1.q2d(tmp3__anonymous__ufb84q.s4c_1, 0.0);
            tmp3__anonymous__ufb84q.s4c_1.r2h();
          }
          var tmp0_safe_receiver_0 = $this_generate.u3s_1;
          if (tmp0_safe_receiver_0 == null)
            null;
          else
            tmp0_safe_receiver_0(tmp3__anonymous__ufb84q);
        }
        tmp2_addVertex.n2p_1.q2h(tmp2_addVertex.o2p_1.r4c_1);
        tmp2_addVertex.q2p_1 = true;
        tmp$ret$2 = tmp2_addVertex.j2p_1 - 1 | 0;
      }
      tmp$ret$3 = tmp$ret$2;
    }
  }
  function UiPrimitiveMesh$lambda$lambda($outerWeights, $innerWeights) {
    return function ($this$null) {
      ensureNotNull($this$null.b4d(Companion_getInstance_26().t4f_1)).s2i($outerWeights);
      ensureNotNull($this$null.b4d(Companion_getInstance_26().u4f_1)).s2i($innerWeights);
      return Unit_getInstance();
    };
  }
  function UiPrimitiveMesh$lambda() {
    return function ($this$generate) {
      var weights = MutableVec4f_init_$Create$();
      var outerWeights = MutableVec4f_init_$Create$();
      var innerWeights = MutableVec4f_init_$Create$();
      var tmp = $this$generate;
      tmp.u3s_1 = UiPrimitiveMesh$lambda$lambda(outerWeights, innerWeights);
      invoke$addOuterInnerVerts($this$generate, outerWeights, innerWeights, weights.r2i(-0.5, -0.5, 0.0, -1.0));
      var inductionVariable = 0;
      var tmp_0;
      if (inductionVariable <= 7) {
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          var a = get_PI() / 2.0 * i / 7.0;
          var tmp$ret$0;
          {
            tmp$ret$0 = Math.sin(a);
          }
          var tmp_1 = tmp$ret$0;
          var tmp$ret$1;
          {
            tmp$ret$1 = Math.cos(a);
          }
          invoke$addOuterInnerVerts($this$generate, outerWeights, innerWeights, weights.r2i(0.5, -0.5, tmp_1, -tmp$ret$1));
        }
         while (inductionVariable <= 7);
        tmp_0 = Unit_getInstance();
      }
      var inductionVariable_0 = 0;
      var tmp_2;
      if (inductionVariable_0 <= 7) {
        do {
          var i_0 = inductionVariable_0;
          inductionVariable_0 = inductionVariable_0 + 1 | 0;
          var a_0 = get_PI() / 2.0 * i_0 / 7.0;
          var tmp$ret$2;
          {
            tmp$ret$2 = Math.cos(a_0);
          }
          var tmp_3 = tmp$ret$2;
          var tmp$ret$3;
          {
            tmp$ret$3 = Math.sin(a_0);
          }
          invoke$addOuterInnerVerts($this$generate, outerWeights, innerWeights, weights.r2i(0.5, 0.5, tmp_3, tmp$ret$3));
        }
         while (inductionVariable_0 <= 7);
        tmp_2 = Unit_getInstance();
      }
      var inductionVariable_1 = 0;
      var tmp_4;
      if (inductionVariable_1 <= 7) {
        do {
          var i_1 = inductionVariable_1;
          inductionVariable_1 = inductionVariable_1 + 1 | 0;
          var a_1 = get_PI() / 2.0 * i_1 / 7.0;
          var tmp$ret$4;
          {
            tmp$ret$4 = Math.sin(a_1);
          }
          var tmp_5 = -tmp$ret$4;
          var tmp$ret$5;
          {
            tmp$ret$5 = Math.cos(a_1);
          }
          invoke$addOuterInnerVerts($this$generate, outerWeights, innerWeights, weights.r2i(-0.5, 0.5, tmp_5, tmp$ret$5));
        }
         while (inductionVariable_1 <= 7);
        tmp_4 = Unit_getInstance();
      }
      var inductionVariable_2 = 0;
      var tmp_6;
      if (inductionVariable_2 <= 7) {
        do {
          var i_2 = inductionVariable_2;
          inductionVariable_2 = inductionVariable_2 + 1 | 0;
          var a_2 = get_PI() / 2.0 * i_2 / 7.0;
          var tmp$ret$6;
          {
            tmp$ret$6 = Math.cos(a_2);
          }
          var tmp_7 = -tmp$ret$6;
          var tmp$ret$7;
          {
            tmp$ret$7 = Math.sin(a_2);
          }
          invoke$addOuterInnerVerts($this$generate, outerWeights, innerWeights, weights.r2i(-0.5, -0.5, tmp_7, -tmp$ret$7));
        }
         while (inductionVariable_2 <= 7);
        tmp_6 = Unit_getInstance();
      }
      var progression = step(until(3, $this$generate.n3s_1.j2p_1), 2);
      var inductionVariable_3 = progression.e1_1;
      var last = progression.f1_1;
      var step_0 = progression.g1_1;
      var tmp_8;
      if ((step_0 > 0 ? inductionVariable_3 <= last : false) ? true : step_0 < 0 ? last <= inductionVariable_3 : false) {
        do {
          var i_3 = inductionVariable_3;
          inductionVariable_3 = inductionVariable_3 + step_0 | 0;
          $this$generate.i4g(i_3 - 3 | 0, i_3 - 2 | 0, i_3);
          $this$generate.i4g(i_3 - 3 | 0, i_3, i_3 - 1 | 0);
        }
         while (!(i_3 === last));
        tmp_8 = Unit_getInstance();
      }
      return Unit_getInstance();
    };
  }
  function UiPrimitiveMesh() {
    Companion_getInstance_26();
    var tmp = IndexedVertexList_init_$Create$([Companion_getInstance_26().t4f_1, Companion_getInstance_26().u4f_1]);
    Mesh_init_$Init$(tmp, null, 2, null, this);
    var tmp_0 = this;
    var tmp_1 = listOf([Companion_getInstance_26().r4f_1, Companion_getInstance_26().s4f_1, Companion_getInstance_24().e3t_1, Companion_getInstance_26().v4f_1, Companion_getInstance_26().w4f_1, Companion_getInstance_26().x4f_1, Companion_getInstance_26().q4f_1]);
    tmp_0.m4f_1 = MeshInstanceList_init_$Create$(tmp_1, 0, 2, null);
    this.j4g(this.m4f_1);
    this.k4g(false);
    this.l4g(UiPrimitiveMesh$lambda());
    this.m4g(new PrimitiveShader());
  }
  UiPrimitiveMesh.prototype.n4g = function (x, y, width, height, clip, colorA, colorB, gradientX, gradientY) {
    addPrimitive(this, x, y, width, height, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, clip, colorA, colorB, gradientX, gradientY);
  };
  UiPrimitiveMesh.prototype.n4f = function (x, y, width, height, clip, colorA, colorB, gradientX, gradientY, $mask0, $handler) {
    if (!(($mask0 & 64) === 0))
      colorB = colorA;
    if (!(($mask0 & 128) === 0))
      gradientX = 1.0;
    if (!(($mask0 & 256) === 0))
      gradientY = 0.0;
    return this.n4g(x, y, width, height, clip, colorA, colorB, gradientX, gradientY);
  };
  UiPrimitiveMesh.prototype.o4g = function (x, y, width, height, radius, clip, colorA, colorB, gradientX, gradientY) {
    addPrimitive(this, x, y, width, height, radius, radius, 0.0, 0.0, 0.0, 0.0, clip, colorA, colorB, gradientX, gradientY);
  };
  UiPrimitiveMesh.prototype.o4f = function (x, y, width, height, radius, clip, colorA, colorB, gradientX, gradientY, $mask0, $handler) {
    if (!(($mask0 & 128) === 0))
      colorB = colorA;
    if (!(($mask0 & 256) === 0))
      gradientX = 1.0;
    if (!(($mask0 & 512) === 0))
      gradientY = 0.0;
    return this.o4g(x, y, width, height, radius, clip, colorA, colorB, gradientX, gradientY);
  };
  UiPrimitiveMesh.prototype.p4g = function (x, y, radius, clip, colorA, colorB, gradientX, gradientY) {
    addPrimitive(this, x - radius, y - radius, radius * 2.0, radius * 2.0, radius, radius, 0.0, 0.0, 0.0, 0.0, clip, colorA, colorB, gradientX, gradientY);
  };
  UiPrimitiveMesh.prototype.p4f = function (x, y, radius, clip, colorA, colorB, gradientX, gradientY, $mask0, $handler) {
    if (!(($mask0 & 32) === 0))
      colorB = colorA;
    if (!(($mask0 & 64) === 0))
      gradientX = 1.0;
    if (!(($mask0 & 128) === 0))
      gradientY = 0.0;
    return this.p4g(x, y, radius, clip, colorA, colorB, gradientX, gradientY);
  };
  UiPrimitiveMesh.$metadata$ = classMeta('UiPrimitiveMesh', undefined, undefined, undefined, undefined, Mesh.prototype);
  function UiRenderer() {
  }
  UiRenderer.$metadata$ = interfaceMeta('UiRenderer');
  function RectBackground(backgroundColor) {
    this.i4h_1 = backgroundColor;
  }
  RectBackground.prototype.j4h = function () {
    return this.i4h_1;
  };
  RectBackground.prototype.k4h = function (node) {
    var tmp$ret$0;
    {
      {
      }
      {
        Companion_getInstance_27();
        node.b3r(node.x3q(-100), 0.0, 0.0, node.v3p(), node.w3p(), this.i4h_1);
      }
      tmp$ret$0 = node;
    }
  };
  RectBackground.prototype.c4d = function (node) {
    return this.k4h(node instanceof UiNode ? node : THROW_CCE());
  };
  RectBackground.$metadata$ = classMeta('RectBackground', [UiRenderer]);
  function UiScale() {
    UiScale_instance = this;
    this.l4h_1 = mutableStateOf(1.0);
    this.m4h_1 = mutableStateOf(1.0);
    this.n4h_1 = 1.0;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.o4h_1 = tmp$ret$0;
    this.p4h_1 = 1.0;
  }
  UiScale.prototype.q4h = function () {
    return this.n4h_1;
  };
  UiScale.prototype.r4h = function (fontProps, ctx) {
    var tmp;
    if (fontProps.b4i_1) {
      tmp = fontProps.c4i(null, 0.0, 0, null, null, null, false, 0, 0.0, false, 511, null);
    } else {
      tmp = fontProps;
    }
    var noScaleProps = tmp;
    var tmp$ret$1;
    {
      var tmp0_getOrPut = this.o4h_1;
      var value = tmp0_getOrPut.z2(noScaleProps);
      var tmp_0;
      if (value == null) {
        var tmp$ret$0;
        {
          var font = new Font(noScaleProps);
          font.h3r_1 = ctx.j2a().c1x(noScaleProps, UiScale_getInstance().p4h_1);
          tmp$ret$0 = font;
        }
        var answer = tmp$ret$0;
        tmp0_getOrPut.a(noScaleProps, answer);
        tmp_0 = answer;
      } else {
        tmp_0 = value;
      }
      tmp$ret$1 = tmp_0;
    }
    return tmp$ret$1;
  };
  UiScale.prototype.d4i = function (surface, ctx) {
    this.n4h_1 = this.l4h_1.j3o(surface) * this.m4h_1.j3o(surface);
    if (!(this.n4h_1 === this.p4h_1)) {
      this.p4h_1 = this.n4h_1;
      {
        var tmp0_forEach = this.o4h_1.b3();
        var tmp0_iterator = tmp0_forEach.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          {
            ctx.j2a().e1x(ensureNotNull(element.h3r_1), UiScale_getInstance().n4h_1);
          }
        }
      }
    }
  };
  UiScale.$metadata$ = objectMeta('UiScale');
  var UiScale_instance;
  function UiScale_getInstance() {
    if (UiScale_instance == null)
      new UiScale();
    return UiScale_instance;
  }
  function UiScope() {
  }
  UiScope.$metadata$ = interfaceMeta('UiScope');
  function handleHover($this, currentHover, ptrEv) {
    if ($this.j4i_1.p(currentHover)) {
      if (!invokePointerCallback($this, currentHover, ptrEv, currentHover.r3p().m42(), true)) {
        $this.l4i_1 = null;
      }
    } else {
      var tmp = currentHover.r3p().l42();
      invokePointerCallback$default($this, currentHover, ptrEv, tmp, false, 16, null);
      $this.l4i_1 = null;
    }
  }
  function handleDrag($this, currentDrag, ptrEv) {
    var ptr = ptrEv.r48_1;
    if (ptr.t21()) {
      if (!invokePointerCallback($this, currentDrag, ptrEv, currentDrag.r3p().o42(), true)) {
        $this.n4i_1 = null;
      }
    } else {
      var tmp = currentDrag.r3p().p42();
      invokePointerCallback$default($this, currentDrag, ptrEv, tmp, false, 16, null);
      $this.n4i_1 = null;
    }
  }
  function invokePointerCallback($this, uiNode, ptrEvent, callbacks, consumedIfNull) {
    var wasConsumed = consumedIfNull;
    var tmp$ret$0;
    {
      tmp$ret$0 = !callbacks.q();
    }
    if (tmp$ret$0) {
      uiNode.l3q(ptrEvent.r48_1.n1y_1, ptrEvent.r48_1.o1y_1, ptrEvent.t48_1);
      ptrEvent.u48_1 = true;
      {
        var tmp0_iterator = callbacks.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          {
            element(ptrEvent);
          }
        }
      }
      wasConsumed = ptrEvent.u48_1;
    }
    return wasConsumed;
  }
  function invokePointerCallback$default($this, uiNode, ptrEvent, callbacks, consumedIfNull, $mask0, $handler) {
    if (!(($mask0 & 16) === 0))
      consumedIfNull = false;
    return invokePointerCallback($this, uiNode, ptrEvent, callbacks, consumedIfNull);
  }
  function collectNodesAt(_this__u8e3s4, $this, x, y, result, predicate) {
    if ($this.q4i(_this__u8e3s4, x, y)) {
      traverseChildren($this, _this__u8e3s4, x, y, result, predicate);
    }
    if (result.m() > 1) {
      sortWith(result, $this.o4i_1);
    }
  }
  function traverseChildren($this, node, x, y, result, predicate) {
    var inductionVariable = 0;
    var last = node.u3p().m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var child = node.u3p().r(i);
        if ($this.q4i(child, x, y)) {
          traverseChildren($this, child, x, y, result, predicate);
        }
      }
       while (inductionVariable <= last);
    if (predicate(node)) {
      {
        result.b(node);
      }
    }
  }
  function sam$kotlin_Comparator$0(function_0) {
    this.r4i_1 = function_0;
  }
  sam$kotlin_Comparator$0.prototype.w = function (a, b) {
    return this.r4i_1(a, b);
  };
  sam$kotlin_Comparator$0.prototype.compare = function (a, b) {
    return this.w(a, b);
  };
  sam$kotlin_Comparator$0.$metadata$ = classMeta('sam$kotlin_Comparator$0', [Comparator]);
  function UiSurface$UiInputHandler$nodeComparator$lambda() {
    return function (a, b) {
      var tmp;
      if (a.r3p().h41() === b.r3p().h41()) {
        tmp = compareTo(b.r3o_1, a.r3o_1);
      } else {
        tmp = compareTo(b.r3p().h41(), a.r3p().h41());
      }
      return tmp;
    };
  }
  function UiSurface$Companion$hasPointerListener$lambda() {
    return function (it) {
      return it.r3p().s42();
    };
  }
  function UiSurface_init_$Init$(colors, sizes, name, uiBlock, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0)) {
      var tmp = Companion_getInstance_18();
      colors = tmp.d3v(null, null, null, null, null, null, null, null, false, 511, null);
    }
    if (!(($mask0 & 2) === 0)) {
      var tmp_0 = Companion_getInstance_21();
      sizes = tmp_0.o3x(null, null, null, null, null, null, null, null, null, 511, null);
    }
    if (!(($mask0 & 4) === 0))
      name = 'uiSurface';
    UiSurface.call($this, colors, sizes, name, uiBlock);
    return $this;
  }
  function UiSurface_init_$Create$(colors, sizes, name, uiBlock, $mask0, $marker) {
    return UiSurface_init_$Init$(colors, sizes, name, uiBlock, $mask0, $marker, Object.create(UiSurface.prototype));
  }
  function updateUi($this, updateEvent) {
    var pt = new PerfTimer();
    $this.a3x_1 = 0;
    {
      var tmp0_forEach = $this.b3x_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          element.m3o($this);
        }
      }
    }
    $this.b3x_1.t7();
    {
      var tmp1_forEach = $this.u3w_1.b3();
      var tmp0_iterator_0 = tmp1_forEach.h();
      while (tmp0_iterator_0.n()) {
        var element_0 = tmp0_iterator_0.o();
        {
          element_0.t7();
          $this.r4j(element_0);
        }
      }
    }
    $this.v3w_1.t7();
    UiScale_getInstance().d4i($this, updateEvent.o4b_1);
    var tmp$ret$0;
    {
      var tmp2_also = pt.t4j();
      {
      }
      {
        pt.u4j();
      }
      tmp$ret$0 = tmp2_also;
    }
    var prep = tmp$ret$0;
    $this.z3w_1.o3q(0.0, 0.0, $this.x3w_1.j3o($this), $this.y3w_1.j3o($this));
    $this.z3w_1.w3q();
    composeContent($this);
    var tmp$ret$1;
    {
      var tmp3_also = pt.t4j();
      {
      }
      {
        pt.u4j();
      }
      tmp$ret$1 = tmp3_also;
    }
    var compose = tmp$ret$1;
    measureUiNodeContent($this, $this.z3w_1, updateEvent.o4b_1);
    var tmp$ret$2;
    {
      var tmp4_also = pt.t4j();
      {
      }
      {
        pt.u4j();
      }
      tmp$ret$2 = tmp4_also;
    }
    var measure = tmp$ret$2;
    layoutUiNodeChildren($this, $this.z3w_1, updateEvent.o4b_1);
    var tmp$ret$3;
    {
      var tmp5_also = pt.t4j();
      {
      }
      {
        pt.u4j();
      }
      tmp$ret$3 = tmp5_also;
    }
    var layout = tmp$ret$3;
    renderUiNode($this, $this.z3w_1, updateEvent.o4b_1);
    {
      var tmp6_forEach = $this.u3w_1.b3();
      var tmp0_iterator_1 = tmp6_forEach.h();
      while (tmp0_iterator_1.n()) {
        var element_1 = tmp0_iterator_1.o();
        {
          if (element_1.f4e_1) {
            $this.v4j(element_1);
          }
        }
      }
    }
    var tmp$ret$4;
    {
      var tmp7_also = pt.t4j();
      {
      }
      {
        pt.u4j();
      }
      tmp$ret$4 = tmp7_also;
    }
    var render = tmp$ret$4;
    if ($this.e3x_1) {
      var tmp$ret$8;
      {
        var tmp$ret$7;
        {
          var tmp10_dExt = Log_getInstance();
          var tmp$ret$6;
          {
            var tmp9_logExt = Level_DEBUG_getInstance();
            var tmp8_log = getKClassFromExpression($this).ei();
            var tmp;
            if (tmp9_logExt.e1w_1 >= tmp10_dExt.y1v_1.e1w_1) {
              var tmp_0 = tmp10_dExt.z1v_1;
              var tmp$ret$5;
              {
                tmp$ret$5 = 'UI update: prep: ' + numberToInt(prep * 1000) + ' us, ' + ('compose: ' + numberToInt(compose * 1000) + ' us, ') + ('measure: ' + numberToInt(measure * 1000) + ' us, ') + ('layout: ' + numberToInt(layout * 1000) + ' us, ') + ('render: ' + numberToInt(render * 1000) + ' us');
              }
              tmp = tmp_0(tmp9_logExt, tmp8_log, tmp$ret$5);
            }
            tmp$ret$6 = tmp;
          }
          tmp$ret$7 = tmp$ret$6;
        }
        tmp$ret$8 = tmp$ret$7;
      }
    }
  }
  function composeContent($this) {
    var tmp$ret$1;
    {
      var tmp0_Box = $this.z3w_1;
      var tmp1_Box = WrapContent_getInstance();
      var tmp2_Box = WrapContent_getInstance();
      var tmp$ret$0;
      {
        var tmp0_Box_0 = CellLayout_getInstance();
        var box = tmp0_Box.n3o().c3p(getKClass(BoxNode), Companion_getInstance_17().o3o_1);
        layout(height(width(box.r3p(), tmp1_Box), tmp2_Box), tmp0_Box_0);
        {
          backgroundColor(box.r3p(), box.f3r($this.g3x_1).g3v_1);
          box.f3r($this.h3x_1);
          $this.t3w_1(box);
        }
        tmp$ret$0 = box;
      }
      tmp$ret$1 = tmp$ret$0;
    }
  }
  function measureUiNodeContent($this, node, ctx) {
    var inductionVariable = 0;
    var last = node.u3p().m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        measureUiNodeContent($this, node.u3p().r(i), ctx);
      }
       while (inductionVariable <= last);
    node.u3q(ctx);
  }
  function layoutUiNodeChildren($this, node, ctx) {
    node.v3q(ctx);
    var inductionVariable = 0;
    var last = node.u3p().m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if (node.u3p().r(i).b3q()) {
          layoutUiNodeChildren($this, node.u3p().r(i), ctx);
        }
      }
       while (inductionVariable <= last);
  }
  function renderUiNode($this, node, ctx) {
    node.t3q(ctx);
    var inductionVariable = 0;
    var last = node.u3p().m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if (node.u3p().r(i).b3q()) {
          renderUiNode($this, node.u3p().r(i), ctx);
        }
      }
       while (inductionVariable <= last);
  }
  function UiInputHandler($outer) {
    this.p4i_1 = $outer;
    var tmp0_elvis_lhs = $outer.il();
    InputHandler.call(this, tmp0_elvis_lhs == null ? 'UiSurface' : tmp0_elvis_lhs);
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.j4i_1 = tmp$ret$0;
    this.k4i_1 = null;
    this.l4i_1 = null;
    this.m4i_1 = false;
    this.n4i_1 = null;
    var tmp_0 = this;
    var tmp_1 = UiSurface$UiInputHandler$nodeComparator$lambda();
    tmp_0.o4i_1 = new sam$kotlin_Comparator$0(tmp_1);
  }
  UiInputHandler.prototype.w4j = function (ctx) {
    if (!this.p4i_1.f3x_1) {
      InputStack_getInstance().x4j(this);
      return Unit_getInstance();
    }
    this.d4k(!(this.k4i_1 == null));
    var wasBlockingPointerInput = this.e4k();
    this.f4k(false);
    var ptr = ctx.k2a().n27_1.u1z_1;
    if (ptr.x1y_1) {
      var ptrPos = new Vec2f(ptr.n1y_1, ptr.o1y_1);
      var tmp;
      if (!(this.n4i_1 == null)) {
        tmp = true;
      } else {
        var tmp$ret$0;
        $l$block_0: {
          var tmp0_any = this.p4i_1.z3w_1.u3p();
          var tmp_0;
          if (isInterface(tmp0_any, Collection)) {
            tmp_0 = tmp0_any.q();
          } else {
            tmp_0 = false;
          }
          if (tmp_0) {
            tmp$ret$0 = false;
            break $l$block_0;
          }
          var tmp0_iterator = tmp0_any.h();
          while (tmp0_iterator.n()) {
            var element = tmp0_iterator.o();
            var tmp$ret$1;
            {
              tmp$ret$1 = element.m3q(ptrPos);
            }
            if (tmp$ret$1) {
              tmp$ret$0 = true;
              break $l$block_0;
            }
          }
          tmp$ret$0 = false;
        }
        tmp = tmp$ret$0;
      }
      var isPointerOnSurface = tmp;
      if (isPointerOnSurface ? wasBlockingPointerInput ? true : !ptr.t21() : false) {
        this.f4k(true);
      }
    }
    if (this.e4k() ? true : this.h4k()) {
      InputStack_getInstance().g4k(this);
    } else {
      InputStack_getInstance().x4j(this);
    }
  };
  UiInputHandler.prototype.i4k = function (pointerState, ctx) {
    InputHandler.prototype.i4k.call(this, pointerState, ctx);
    var ptr = pointerState.u1z_1;
    this.j4i_1.t7();
    if (!ctx.k2a().o27().equals(CursorMode_LOCKED_getInstance())) {
      collectNodesAt(this.p4i_1.z3w_1, this, ptr.n1y_1, ptr.o1y_1, this.j4i_1, Companion_getInstance_27().n4k_1);
    }
    if ((this.l4i_1 == null ? this.n4i_1 == null : false) ? this.j4i_1.q() : false) {
      return Unit_getInstance();
    }
    var ptrEv = new PointerEvent(ptr, ctx);
    var tmp0_safe_receiver = this.l4i_1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        tmp$ret$0 = handleHover(this, tmp0_safe_receiver, ptrEv);
      }
    }
    var tmp$ret$1;
    {
      var tmp0_isNotEmpty = this.j4i_1;
      tmp$ret$1 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$1) {
      this.o4k(this.j4i_1, ptrEv);
    }
    var tmp1_safe_receiver = this.n4i_1;
    if (tmp1_safe_receiver == null)
      null;
    else {
      var tmp$ret$2;
      {
        {
        }
        tmp$ret$2 = handleDrag(this, tmp1_safe_receiver, ptrEv);
      }
    }
  };
  UiInputHandler.prototype.p4k = function (keyEvents, ctx) {
    InputHandler.prototype.p4k.call(this, keyEvents, ctx);
    var tmp$ret$0;
    {
      tmp$ret$0 = !keyEvents.q();
    }
    if (tmp$ret$0) {
      var tmp0_safe_receiver = this.k4i_1;
      if (tmp0_safe_receiver == null)
        null;
      else {
        var tmp$ret$1;
        {
          {
          }
          var tmp0_iterator = keyEvents.h();
          while (tmp0_iterator.n()) {
            var keyEv = tmp0_iterator.o();
            tmp0_safe_receiver.q4k(keyEv);
          }
          tmp$ret$1 = Unit_getInstance();
        }
      }
    }
  };
  UiInputHandler.prototype.o4k = function (relevantNodes, ptrEv) {
    var ptr = ptrEv.r48_1;
    var isWheelX = !(ptr.u1y_1 === 0.0);
    var isWheelY = !(ptr.t1y_1 === 0.0);
    var isDragStart = !this.m4i_1 ? ptr.t21() : false;
    var isAnyClick = (((ptr.o21() ? true : ptr.p21()) ? true : ptr.q21()) ? true : ptr.s21()) ? true : ptr.r21();
    this.m4i_1 = ptr.t21();
    {
      var tmp0_iterator = relevantNodes.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var mod = element.r3p();
          var tmp = mod.g42();
          invokePointerCallback$default(this, element, ptrEv, tmp, false, 16, null);
          var tmp_0;
          if (mod.t42()) {
            var tmp0_safe_receiver = this.l4i_1;
            var tmp_1;
            if (tmp0_safe_receiver == null) {
              tmp_1 = null;
            } else {
              var tmp$ret$1;
              {
                {
                }
                var tmp$ret$0;
                {
                  tmp$ret$0 = this.o4i_1.compare(element, tmp0_safe_receiver) < 0;
                }
                tmp$ret$1 = tmp$ret$0;
              }
              tmp_1 = tmp$ret$1;
            }
            tmp_0 = !(tmp_1 === false);
          } else {
            tmp_0 = false;
          }
          if (tmp_0) {
            var tmp1_safe_receiver = this.l4i_1;
            if (tmp1_safe_receiver == null)
              null;
            else {
              var tmp$ret$3;
              {
                {
                }
                var tmp$ret$2;
                {
                  var tmp_2 = tmp1_safe_receiver.r3p().l42();
                  tmp$ret$2 = invokePointerCallback$default(this, tmp1_safe_receiver, ptrEv, tmp_2, false, 16, null);
                }
                tmp$ret$3 = tmp$ret$2;
              }
            }
            if (invokePointerCallback(this, element, ptrEv, mod.k42(), true)) {
              this.l4i_1 = element;
            }
          }
          if (((isDragStart ? this.n4i_1 == null : false) ? mod.u42() : false) ? invokePointerCallback(this, element, ptrEv, mod.n42(), true) : false) {
            this.n4i_1 = element;
          }
          var tmp_3;
          if (isAnyClick) {
            var tmp_4 = mod.h42();
            tmp_3 = invokePointerCallback$default(this, element, ptrEv, tmp_4, false, 16, null);
          } else {
            tmp_3 = false;
          }
          if (tmp_3) {
            ptrEv.r48_1.v21(0, 1, null);
            isAnyClick = false;
          }
          var tmp_5;
          if (isWheelX) {
            var tmp_6 = mod.i42();
            tmp_5 = invokePointerCallback$default(this, element, ptrEv, tmp_6, false, 16, null);
          } else {
            tmp_5 = false;
          }
          if (tmp_5) {
            Companion_getInstance_0();
            ptrEv.r48_1.u21(32);
            isWheelX = false;
          }
          var tmp_7;
          if (isWheelY) {
            var tmp_8 = mod.j42();
            tmp_7 = invokePointerCallback$default(this, element, ptrEv, tmp_8, false, 16, null);
          } else {
            tmp_7 = false;
          }
          if (tmp_7) {
            Companion_getInstance_0();
            ptrEv.r48_1.u21(64);
            isWheelY = false;
          }
        }
      }
    }
  };
  UiInputHandler.prototype.q4i = function (_this__u8e3s4, x, y) {
    var tmp;
    var containsLower = _this__u8e3s4.x3p();
    if (x <= _this__u8e3s4.z3p() ? containsLower <= x : false) {
      var containsLower_0 = _this__u8e3s4.y3p();
      tmp = y <= _this__u8e3s4.a3q() ? containsLower_0 <= y : false;
    } else {
      tmp = false;
    }
    return tmp;
  };
  UiInputHandler.$metadata$ = classMeta('UiInputHandler', undefined, undefined, undefined, undefined, InputHandler.prototype);
  function TextMesh(font, ctx) {
    this.r4k_1 = font;
    var tmp = this;
    var tmp$ret$1;
    {
      var tmp0_mesh = Companion_getInstance_24().f3t_1;
      var mesh = new Mesh(new IndexedVertexList(tmp0_mesh), null);
      {
        var tmp$ret$0;
        {
          var tmp0_apply = new Ui2Shader();
          {
          }
          {
            tmp0_apply.d4c(this.r4k_1, ctx);
          }
          tmp$ret$0 = tmp0_apply;
        }
        mesh.m4g(tmp$ret$0);
      }
      tmp$ret$1 = mesh;
    }
    tmp.s4k_1 = tmp$ret$1;
    this.t4k_1 = new MeshBuilder(this.s4k_1.z2n_1);
    this.u4k_1 = false;
    Companion_getInstance_27().v4k(this.t4k_1);
  }
  TextMesh.prototype.m40 = function () {
    return this.r4k_1;
  };
  TextMesh.prototype.w4k = function () {
    return this.s4k_1;
  };
  TextMesh.prototype.t7 = function () {
    this.t4k_1.t7();
    this.u4k_1 = false;
  };
  TextMesh.$metadata$ = classMeta('TextMesh');
  function MeshLayer($outer) {
    this.g4e_1 = $outer;
    Group_init_$Init$(null, 1, null, this);
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.z4d_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = LinkedHashMap_init_$Create$();
    }
    tmp_0.a4e_1 = tmp$ret$1;
    var tmp_1 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = LinkedHashMap_init_$Create$();
    }
    tmp_1.b4e_1 = tmp$ret$2;
    var tmp_2 = this;
    var tmp$ret$3;
    {
      var tmp0_mesh = Companion_getInstance_24().f3t_1;
      var mesh = new Mesh(new IndexedVertexList(tmp0_mesh), null);
      {
        mesh.m4g(new Ui2Shader());
      }
      tmp$ret$3 = mesh;
    }
    tmp_2.c4e_1 = tmp$ret$3;
    this.d4e_1 = new UiPrimitiveMesh();
    var tmp_3 = this;
    var tmp$ret$4;
    {
      var tmp0_apply = new MeshBuilder(this.c4e_1.z2n_1);
      {
      }
      {
        tmp0_apply.p3s_1 = true;
      }
      tmp$ret$4 = tmp0_apply;
    }
    tmp_3.e4e_1 = tmp$ret$4;
    this.f4e_1 = false;
    this.v4j(this.d4e_1);
    this.v4j(this.c4e_1);
  }
  MeshLayer.prototype.x4k = function () {
    return this.f4e_1;
  };
  MeshLayer.prototype.i4e = function (fontProps, ctx) {
    var tmp$ret$2;
    {
      var tmp0_getOrPut = this.z4d_1;
      var value = tmp0_getOrPut.z2(fontProps);
      var tmp;
      if (value == null) {
        var tmp$ret$1;
        {
          var font = UiScale_getInstance().r4h(fontProps, ctx);
          var tmp$ret$0;
          {
            var tmp0_also = new TextMesh(font, ctx);
            {
            }
            {
              this.y4k(tmp0_also.s4k_1);
            }
            tmp$ret$0 = tmp0_also;
          }
          tmp$ret$1 = tmp$ret$0;
        }
        var answer = tmp$ret$1;
        tmp0_getOrPut.a(fontProps, answer);
        tmp = answer;
      } else {
        tmp = value;
      }
      tmp$ret$2 = tmp;
    }
    var textMesh = tmp$ret$2;
    textMesh.u4k_1 = true;
    return textMesh.t4k_1;
  };
  MeshLayer.prototype.t7 = function () {
    this.f4e_1 = false;
    {
      var tmp0_forEach = this.z4d_1.b3();
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          element.t7();
        }
      }
    }
    var tmp0_safe_receiver = this.d4e_1.q4g();
    if (tmp0_safe_receiver == null)
      null;
    else {
      tmp0_safe_receiver.t7();
    }
    this.e4e_1.t7();
    var tmp$ret$0;
    {
      var tmp1_isNotEmpty = this.a4e_1;
      tmp$ret$0 = !tmp1_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      {
        var tmp2_forEach = this.a4e_1.b3();
        var tmp0_iterator_0 = tmp2_forEach.h();
        while (tmp0_iterator_0.n()) {
          var element_0 = tmp0_iterator_0.o();
          {
            var tmp0_this = this;
            {
              var tmp0_minusAssign = tmp0_this.z4k();
              var tmp1_minusAssign = toSet(element_0.a4l_1);
              removeAll_0(tmp0_minusAssign, tmp1_minusAssign);
            }
            element_0.t7();
          }
        }
      }
    }
    var tmp$ret$1;
    {
      var tmp3_isNotEmpty = this.b4e_1;
      tmp$ret$1 = !tmp3_isNotEmpty.q();
    }
    if (tmp$ret$1) {
      {
        var tmp4_forEach = this.b4e_1.b3();
        var tmp0_iterator_1 = tmp4_forEach.h();
        while (tmp0_iterator_1.n()) {
          var element_1 = tmp0_iterator_1.o();
          {
            element_1.t7();
            this.r4j(element_1.c4l_1);
          }
        }
      }
    }
  };
  MeshLayer.prototype.t4g = function (ctx) {
    Group.prototype.t4g.call(this, ctx);
    {
      var tmp0_forEach = this.a4e_1.b3();
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          {
            var tmp0_forEach_0 = element.a4l_1;
            var tmp0_iterator_0 = tmp0_forEach_0.h();
            while (tmp0_iterator_0.n()) {
              var element_0 = tmp0_iterator_0.o();
              {
                element_0.t4g(ctx);
              }
            }
          }
        }
      }
    }
  };
  MeshLayer.$metadata$ = classMeta('MeshLayer', undefined, undefined, undefined, undefined, Group.prototype);
  function Companion_27() {
    Companion_instance_27 = this;
    this.j4k_1 = 0;
    this.k4k_1 = -100;
    this.l4k_1 = 100;
    this.m4k_1 = 1000;
    var tmp = this;
    tmp.n4k_1 = UiSurface$Companion$hasPointerListener$lambda();
  }
  Companion_27.prototype.l4l = function () {
    return this.k4k_1;
  };
  Companion_27.prototype.v4k = function (_this__u8e3s4) {
    _this__u8e3s4.p3s_1 = true;
  };
  Companion_27.$metadata$ = objectMeta('Companion');
  var Companion_instance_27;
  function Companion_getInstance_27() {
    if (Companion_instance_27 == null)
      new Companion_27();
    return Companion_instance_27;
  }
  function UiSurface$lambda(this$0) {
    return function (it) {
      UiScale_getInstance().m4h_1.m1e(it.o4b_1.f28_1);
      this$0.x3w_1.m1e(it.n4b_1.z48_1.l4b_1);
      this$0.y3w_1.m1e(it.n4b_1.z48_1.z3u());
      this$0.d3x_1 = it.c3r();
      var inductionVariable = 0;
      var last = this$0.v3w_1.m() - 1 | 0;
      var tmp;
      if (inductionVariable <= last) {
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          this$0.v3w_1.r(i)();
        }
         while (inductionVariable <= last);
        tmp = Unit_getInstance();
      }
      this$0.w3w_1.w4j(it.o4b_1);
      var tmp_0;
      if (this$0.c3x_1) {
        this$0.c3x_1 = false;
        tmp_0 = updateUi(this$0, it);
      }
      return Unit_getInstance();
    };
  }
  function UiSurface$lambda_0(this$0) {
    return function (it) {
      InputStack_getInstance().x4j(this$0.w3w_1);
      return Unit_getInstance();
    };
  }
  function UiSurface(colors, sizes, name, uiBlock) {
    Companion_getInstance_27();
    Group.call(this, name);
    this.t3w_1 = uiBlock;
    this.u3w_1 = new TreeMap();
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.v3w_1 = tmp$ret$0;
    this.w3w_1 = new UiInputHandler(this);
    this.x3w_1 = mutableStateOf(0.0);
    this.y3w_1 = mutableStateOf(0.0);
    var tmp_0 = this;
    var tmp$ret$1;
    {
      var tmp0_apply = new BoxNode(null, this);
      {
      }
      {
        layout(tmp0_apply.r3p(), CellLayout_getInstance());
      }
      tmp$ret$1 = tmp0_apply;
    }
    tmp_0.z3w_1 = tmp$ret$1;
    this.a3x_1 = 0;
    var tmp_1 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = ArrayList_init_$Create$_0();
    }
    tmp_1.b3x_1 = tmp$ret$2;
    this.c3x_1 = true;
    this.d3x_1 = 0.0;
    this.e3x_1 = false;
    this.f3x_1 = true;
    this.g3x_1 = mutableStateOf(colors);
    this.h3x_1 = mutableStateOf(sizes);
    this.i3x_1 = value$factory(this.g3x_1);
    this.j3x_1 = value$factory_0(this.h3x_1);
    this.p2e(1.0, -1.0, 1.0);
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.o49();
      tmp0_plusAssign.b(UiSurface$lambda(this));
    }
    var tmp1_this = this;
    {
      var tmp1_plusAssign = tmp1_this.m4l();
      tmp1_plusAssign.b(UiSurface$lambda_0(this));
    }
  }
  UiSurface.prototype.n4l = function (_set____db54di) {
    var tmp0_setValue = colors$factory();
    return this.i3x_1.set(_set____db54di);
  };
  UiSurface.prototype.q3y = function () {
    var tmp$ret$0;
    {
      var tmp0_getValue = colors$factory_0();
      tmp$ret$0 = this.i3x_1.get();
    }
    return tmp$ret$0;
  };
  UiSurface.prototype.o4l = function (_set____db54di) {
    var tmp0_setValue = sizes$factory();
    return this.j3x_1.set(_set____db54di);
  };
  UiSurface.prototype.p3y = function () {
    var tmp$ret$0;
    {
      var tmp0_getValue = sizes$factory_0();
      tmp$ret$0 = this.j3x_1.get();
    }
    return tmp$ret$0;
  };
  UiSurface.prototype.l3x = function (state) {
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.b3x_1;
      tmp0_plusAssign.b(state);
    }
  };
  UiSurface.prototype.k3x = function () {
    this.c3x_1 = true;
  };
  UiSurface.prototype.h4e = function (layer) {
    var tmp0_elvis_lhs = this.u3w_1.z2(layer);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      var tmp$ret$0;
      {
        var tmp0_also = new MeshLayer(this);
        {
        }
        {
          {
            var tmp0_set = this.u3w_1;
            tmp0_set.a(layer, tmp0_also);
          }
        }
        tmp$ret$0 = tmp0_also;
      }
      tmp = tmp$ret$0;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var meshLayer = tmp;
    meshLayer.f4e_1 = true;
    return meshLayer;
  };
  UiSurface.prototype.c43 = function (fontProps, ctx) {
    return UiScale_getInstance().r4h(fontProps, ctx);
  };
  UiSurface.$metadata$ = classMeta('UiSurface', undefined, undefined, undefined, undefined, Group.prototype);
  function value$factory($b0) {
    return getPropertyCallableRef('value', 0, KMutableProperty0, function () {
      return $b0.e3o_1;
    }, function (value) {
      return $b0.i2r(value);
    });
  }
  function value$factory_0($b0) {
    return getPropertyCallableRef('value', 0, KMutableProperty0, function () {
      return $b0.e3o_1;
    }, function (value) {
      return $b0.i2r(value);
    });
  }
  function colors$factory() {
    return getPropertyCallableRef('colors', 1, KMutableProperty1, function (receiver) {
      return receiver.q3y();
    }, function (receiver, value) {
      return receiver.n4l(value);
    });
  }
  function colors$factory_0() {
    return getPropertyCallableRef('colors', 1, KMutableProperty1, function (receiver) {
      return receiver.q3y();
    }, function (receiver, value) {
      return receiver.n4l(value);
    });
  }
  function sizes$factory() {
    return getPropertyCallableRef('sizes', 1, KMutableProperty1, function (receiver) {
      return receiver.p3y();
    }, function (receiver, value) {
      return receiver.o4l(value);
    });
  }
  function sizes$factory_0() {
    return getPropertyCallableRef('sizes', 1, KMutableProperty1, function (receiver) {
      return receiver.p3y();
    }, function (receiver, value) {
      return receiver.o4l(value);
    });
  }
  function Companion_28() {
    Companion_instance_28 = this;
    this.z2v_1 = new Attribute('attrib_positions', GlslType_VEC_3F_getInstance());
    this.a2w_1 = new Attribute('attrib_normals', GlslType_VEC_3F_getInstance());
    this.b2w_1 = new Attribute('attrib_tangents', GlslType_VEC_4F_getInstance());
    this.c2w_1 = new Attribute('attrib_texture_coords', GlslType_VEC_2F_getInstance());
    this.d2w_1 = new Attribute('attrib_colors', GlslType_VEC_4F_getInstance());
    this.e2w_1 = new Attribute('attrib_joints', GlslType_VEC_4I_getInstance());
    this.f2w_1 = new Attribute('attrib_weights', GlslType_VEC_4F_getInstance());
    this.g2w_1 = new Attribute('attrib_emissive_color', GlslType_VEC_3F_getInstance());
    this.h2w_1 = new Attribute('attrib_metal_rough', GlslType_VEC_2F_getInstance());
    this.i2w_1 = new Attribute('attrib_model_mat', GlslType_MAT_4F_getInstance());
    this.j2w_1 = new Attribute('attrib_instance_color', GlslType_VEC_4F_getInstance());
  }
  Companion_28.prototype.p4l = function () {
    return this.z2v_1;
  };
  Companion_28.prototype.q4l = function () {
    return this.c2w_1;
  };
  Companion_28.$metadata$ = objectMeta('Companion');
  var Companion_instance_28;
  function Companion_getInstance_28() {
    if (Companion_instance_28 == null)
      new Companion_28();
    return Companion_instance_28;
  }
  function Attribute(name, type) {
    Companion_getInstance_28();
    this.s2p_1 = name;
    this.t2p_1 = type;
    this.u2p_1 = new PlatformAttributeProps(this);
  }
  Attribute.prototype.il = function () {
    return this.s2p_1;
  };
  Attribute.prototype.r4l = function () {
    return this.t2p_1;
  };
  Attribute.prototype.s4l = function () {
    return this.u2p_1;
  };
  Attribute.prototype.toString = function () {
    return this.s2p_1;
  };
  Attribute.prototype.hashCode = function () {
    var result = getStringHashCode(this.s2p_1);
    result = imul(result, 31) + this.t2p_1.hashCode() | 0;
    return result;
  };
  Attribute.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Attribute))
      return false;
    var tmp0_other_with_cast = other instanceof Attribute ? other : THROW_CCE();
    if (!(this.s2p_1 === tmp0_other_with_cast.s2p_1))
      return false;
    if (!this.t2p_1.equals(tmp0_other_with_cast.t2p_1))
      return false;
    return true;
  };
  Attribute.$metadata$ = classMeta('Attribute');
  var GlslType_FLOAT_instance;
  var GlslType_VEC_2F_instance;
  var GlslType_VEC_3F_instance;
  var GlslType_VEC_4F_instance;
  var GlslType_INT_instance;
  var GlslType_VEC_2I_instance;
  var GlslType_VEC_3I_instance;
  var GlslType_VEC_4I_instance;
  var GlslType_MAT_2F_instance;
  var GlslType_MAT_3F_instance;
  var GlslType_MAT_4F_instance;
  var GlslType_entriesInitialized;
  function GlslType_initEntries() {
    if (GlslType_entriesInitialized)
      return Unit_getInstance();
    GlslType_entriesInitialized = true;
    GlslType_FLOAT_instance = new GlslType('FLOAT', 0, 4, false, 'float');
    GlslType_VEC_2F_instance = new GlslType('VEC_2F', 1, 8, false, 'vec2');
    GlslType_VEC_3F_instance = new GlslType('VEC_3F', 2, 12, false, 'vec3');
    GlslType_VEC_4F_instance = new GlslType('VEC_4F', 3, 16, false, 'vec4');
    GlslType_INT_instance = new GlslType('INT', 4, 4, true, 'int');
    GlslType_VEC_2I_instance = new GlslType('VEC_2I', 5, 8, true, 'ivec2');
    GlslType_VEC_3I_instance = new GlslType('VEC_3I', 6, 12, true, 'ivec3');
    GlslType_VEC_4I_instance = new GlslType('VEC_4I', 7, 16, true, 'ivec4');
    GlslType_MAT_2F_instance = new GlslType('MAT_2F', 8, 16, false, 'mat2');
    GlslType_MAT_3F_instance = new GlslType('MAT_3F', 9, 36, false, 'mat3');
    GlslType_MAT_4F_instance = new GlslType('MAT_4F', 10, 64, false, 'mat4');
  }
  function GlslType(name, ordinal, byteSize, isInt, glslType) {
    Enum.call(this, name, ordinal);
    this.a2q_1 = byteSize;
    this.b2q_1 = isInt;
    this.c2q_1 = glslType;
  }
  GlslType.prototype.t4l = function () {
    return this.b2q_1;
  };
  GlslType.$metadata$ = classMeta('GlslType', undefined, undefined, undefined, undefined, Enum.prototype);
  function GlslType_VEC_2F_getInstance() {
    GlslType_initEntries();
    return GlslType_VEC_2F_instance;
  }
  function GlslType_VEC_3F_getInstance() {
    GlslType_initEntries();
    return GlslType_VEC_3F_instance;
  }
  function GlslType_VEC_4F_getInstance() {
    GlslType_initEntries();
    return GlslType_VEC_4F_instance;
  }
  function GlslType_VEC_4I_getInstance() {
    GlslType_initEntries();
    return GlslType_VEC_4I_instance;
  }
  function GlslType_MAT_2F_getInstance() {
    GlslType_initEntries();
    return GlslType_MAT_2F_instance;
  }
  function GlslType_MAT_3F_getInstance() {
    GlslType_initEntries();
    return GlslType_MAT_3F_instance;
  }
  function GlslType_MAT_4F_getInstance() {
    GlslType_initEntries();
    return GlslType_MAT_4F_instance;
  }
  function Companion_29() {
    Companion_instance_29 = this;
  }
  Companion_29.prototype.u4l = function (u) {
    var tmp0_subject = u;
    var tmp;
    if (tmp0_subject instanceof Uniform1f) {
      tmp = 4;
    } else {
      if (tmp0_subject instanceof Uniform2f) {
        tmp = 8;
      } else {
        if (tmp0_subject instanceof Uniform3f) {
          tmp = 12;
        } else {
          if (tmp0_subject instanceof Uniform4f) {
            tmp = 16;
          } else {
            if (tmp0_subject instanceof UniformColor_0) {
              tmp = 16;
            } else {
              if (tmp0_subject instanceof Uniform1fv) {
                tmp = imul(16, u.h2r_1);
              } else {
                if (tmp0_subject instanceof Uniform3fv) {
                  tmp = imul(16, u.h2r_1);
                } else {
                  if (tmp0_subject instanceof Uniform2fv) {
                    tmp = imul(16, u.h2r_1);
                  } else {
                    if (tmp0_subject instanceof Uniform4fv) {
                      tmp = imul(16, u.h2r_1);
                    } else {
                      if (tmp0_subject instanceof Uniform1i) {
                        tmp = 4;
                      } else {
                        if (tmp0_subject instanceof Uniform2i) {
                          tmp = 8;
                        } else {
                          if (tmp0_subject instanceof Uniform3i) {
                            tmp = 12;
                          } else {
                            if (tmp0_subject instanceof Uniform4i) {
                              tmp = 16;
                            } else {
                              if (tmp0_subject instanceof Uniform1iv) {
                                tmp = imul(16, u.h2r_1);
                              } else {
                                if (tmp0_subject instanceof Uniform2iv) {
                                  tmp = imul(16, u.h2r_1);
                                } else {
                                  if (tmp0_subject instanceof Uniform3iv) {
                                    tmp = imul(16, u.h2r_1);
                                  } else {
                                    if (tmp0_subject instanceof Uniform4iv) {
                                      tmp = imul(16, u.h2r_1);
                                    } else {
                                      if (tmp0_subject instanceof UniformMat3f) {
                                        tmp = 48;
                                      } else {
                                        if (tmp0_subject instanceof UniformMat4f) {
                                          tmp = 64;
                                        } else {
                                          if (tmp0_subject instanceof UniformMat3fv) {
                                            tmp = imul(48, u.h2r_1);
                                          } else {
                                            if (tmp0_subject instanceof UniformMat4fv) {
                                              tmp = imul(64, u.h2r_1);
                                            } else {
                                              noWhenBranchMatchedException();
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    return tmp;
  };
  Companion_29.$metadata$ = objectMeta('Companion');
  var Companion_instance_29;
  function Companion_getInstance_29() {
    if (Companion_instance_29 == null)
      new Companion_29();
    return Companion_instance_29;
  }
  function Std140BufferLayout(uniforms) {
    Companion_getInstance_29();
    BufferLayout.call(this, uniforms);
    var pos = 0;
    var tmp = this;
    var tmp_0 = 0;
    var tmp_1 = uniforms.m();
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_1), null);
    }
    var tmp_2 = tmp$ret$0;
    while (tmp_0 < tmp_1) {
      var tmp_3 = tmp_0;
      var tmp$ret$1;
      {
        var u = uniforms.r(tmp_3);
        var tmp0_subject = u;
        var tmp_4;
        if (tmp0_subject instanceof Uniform1f) {
          tmp_4 = 4;
        } else {
          if (tmp0_subject instanceof Uniform1i) {
            tmp_4 = 4;
          } else {
            if (tmp0_subject instanceof Uniform2f) {
              tmp_4 = 8;
            } else {
              if (tmp0_subject instanceof Uniform2i) {
                tmp_4 = 8;
              } else {
                tmp_4 = 16;
              }
            }
          }
        }
        var alignment = tmp_4;
        var bufPos = imul(((pos + alignment | 0) - 1 | 0) / alignment | 0, alignment);
        pos = bufPos + Companion_getInstance_29().u4l(u) | 0;
        tmp$ret$1 = new BufferPosition(bufPos, pos - bufPos | 0);
      }
      tmp_2[tmp_3] = tmp$ret$1;
      tmp_0 = tmp_0 + 1 | 0;
    }
    tmp.w4l_1 = tmp_2;
    this.x4l_1 = pos;
  }
  Std140BufferLayout.prototype.y4l = function () {
    return this.w4l_1;
  };
  Std140BufferLayout.prototype.m = function () {
    return this.x4l_1;
  };
  Std140BufferLayout.$metadata$ = classMeta('Std140BufferLayout', undefined, undefined, undefined, undefined, BufferLayout.prototype);
  function BufferLayout(uniforms) {
    this.z4l_1 = uniforms;
  }
  BufferLayout.prototype.a4m = function (uniforms, target) {
    {
      var tmp0_check = uniforms.m() === this.y4l().length;
      {
      }
      if (!tmp0_check) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Supplied list of uniforms does not match this BufferLayout';
        }
        var message = tmp$ret$0;
        throw IllegalStateException_init_$Create$(toString(message));
      }
    }
    {
      var tmp1_check = target.b1w() >= this.m();
      {
      }
      if (!tmp1_check) {
        var tmp$ret$1;
        {
          tmp$ret$1 = 'Supplied target buffer is too small';
        }
        var message_0 = tmp$ret$1;
        throw IllegalStateException_init_$Create$(toString(message_0));
      }
    }
    var inductionVariable = 0;
    var last = uniforms.m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        target.d4m(this.y4l()[i].b4m_1);
        uniforms.r(i).e4m(target, this.y4l()[i].c4m_1);
      }
       while (inductionVariable <= last);
  };
  BufferLayout.$metadata$ = classMeta('BufferLayout');
  function BufferPosition(position, len) {
    this.b4m_1 = position;
    this.c4m_1 = len;
  }
  BufferPosition.prototype.toString = function () {
    return 'BufferPosition(position=' + this.b4m_1 + ', len=' + this.c4m_1 + ')';
  };
  BufferPosition.prototype.hashCode = function () {
    var result = this.b4m_1;
    result = imul(result, 31) + this.c4m_1 | 0;
    return result;
  };
  BufferPosition.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof BufferPosition))
      return false;
    var tmp0_other_with_cast = other instanceof BufferPosition ? other : THROW_CCE();
    if (!(this.b4m_1 === tmp0_other_with_cast.b4m_1))
      return false;
    if (!(this.c4m_1 === tmp0_other_with_cast.c4m_1))
      return false;
    return true;
  };
  BufferPosition.$metadata$ = classMeta('BufferPosition');
  function ExternalBufferLayout(uniforms, uniformPositions, size) {
    BufferLayout.call(this, uniforms);
    this.g4m_1 = uniformPositions;
    this.h4m_1 = size;
    {
      var tmp0_check = this.g4m_1.length === uniforms.m();
      {
      }
      if (!tmp0_check) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Given lists of uniforms and offsets mismatch in length';
        }
        var message = tmp$ret$0;
        throw IllegalStateException_init_$Create$(toString(message));
      }
    }
  }
  ExternalBufferLayout.prototype.y4l = function () {
    return this.g4m_1;
  };
  ExternalBufferLayout.prototype.m = function () {
    return this.h4m_1;
  };
  ExternalBufferLayout.$metadata$ = classMeta('ExternalBufferLayout', undefined, undefined, undefined, undefined, BufferLayout.prototype);
  function Builder() {
    Builder_4.call(this);
    this.g2n_1 = 1;
    this.h2n_1 = false;
    this.i2n_1 = null;
    this.j2n_1 = null;
    this.j2l('texture');
  }
  Builder.prototype.i4m = function (_set____db54di) {
    this.g2n_1 = _set____db54di;
  };
  Builder.prototype.j4m = function (binding) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_toULong = DescriptorType_SAMPLER_1D_getInstance().hashCode();
        tmp$ret$0 = _ULong___init__impl__c78o9k(toLong(tmp0_toULong));
      }
      var tmp1_times = tmp$ret$0;
      tmp$ret$1 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp1_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
    }
    var sampler = new TextureSampler1d(this, binding, tmp$ret$1);
    var tmp0_safe_receiver = this.j2n_1;
    if (tmp0_safe_receiver == null)
      null;
    else
      tmp0_safe_receiver(sampler);
    return sampler;
  };
  Builder.$metadata$ = classMeta('Builder', undefined, undefined, undefined, undefined, Builder_4.prototype);
  function TextureSampler1d(builder, binding, hash) {
    Descriptor.call(this, builder, binding, DescriptorType_SAMPLER_1D_getInstance(), hash);
    this.p4m_1 = builder.g2n_1;
    this.q4m_1 = builder.i2n_1;
    var tmp = this;
    var tmp_0 = 0;
    var tmp_1 = this.p4m_1;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_1), null);
    }
    var tmp_2 = tmp$ret$0;
    while (tmp_0 < tmp_1) {
      var tmp_3 = tmp_0;
      var tmp$ret$1;
      {
        tmp$ret$1 = null;
      }
      tmp_2[tmp_3] = tmp$ret$1;
      tmp_0 = tmp_0 + 1 | 0;
    }
    tmp.r4m_1 = tmp_2;
  }
  TextureSampler1d.prototype.f2t = function () {
    return this.p4m_1;
  };
  TextureSampler1d.$metadata$ = classMeta('TextureSampler1d', undefined, undefined, undefined, undefined, Descriptor.prototype);
  function Builder_0() {
    Builder_4.call(this);
    this.a2n_1 = 1;
    this.b2n_1 = false;
    this.c2n_1 = null;
    this.d2n_1 = null;
    this.j2l('texture');
  }
  Builder_0.prototype.i4m = function (_set____db54di) {
    this.a2n_1 = _set____db54di;
  };
  Builder_0.prototype.t4m = function (_set____db54di) {
    this.b2n_1 = _set____db54di;
  };
  Builder_0.prototype.j4m = function (binding) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_toULong = DescriptorType_SAMPLER_2D_getInstance().hashCode();
        tmp$ret$0 = _ULong___init__impl__c78o9k(toLong(tmp0_toULong));
      }
      var tmp1_times = tmp$ret$0;
      tmp$ret$1 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp1_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
    }
    var sampler = new TextureSampler2d(this, binding, tmp$ret$1);
    var tmp0_safe_receiver = this.d2n_1;
    if (tmp0_safe_receiver == null)
      null;
    else
      tmp0_safe_receiver(sampler);
    return sampler;
  };
  Builder_0.$metadata$ = classMeta('Builder', undefined, undefined, undefined, undefined, Builder_4.prototype);
  function TextureSampler2d(builder, binding, hash) {
    Descriptor.call(this, builder, binding, DescriptorType_SAMPLER_2D_getInstance(), hash);
    this.s2s_1 = builder.a2n_1;
    this.t2s_1 = builder.b2n_1;
    this.u2s_1 = builder.c2n_1;
    var tmp = this;
    var tmp_0 = 0;
    var tmp_1 = this.s2s_1;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_1), null);
    }
    var tmp_2 = tmp$ret$0;
    while (tmp_0 < tmp_1) {
      var tmp_3 = tmp_0;
      var tmp$ret$1;
      {
        tmp$ret$1 = null;
      }
      tmp_2[tmp_3] = tmp$ret$1;
      tmp_0 = tmp_0 + 1 | 0;
    }
    tmp.v2s_1 = tmp_2;
  }
  TextureSampler2d.prototype.f2t = function () {
    return this.s2s_1;
  };
  TextureSampler2d.prototype.w2s = function (value) {
    this.v2s_1[0] = value;
  };
  TextureSampler2d.prototype.x2s = function () {
    return this.v2s_1[0];
  };
  TextureSampler2d.$metadata$ = classMeta('TextureSampler2d', undefined, undefined, undefined, undefined, Descriptor.prototype);
  function Builder_1() {
    Builder_4.call(this);
    this.v2m_1 = 1;
    this.w2m_1 = null;
    this.x2m_1 = null;
    this.j2l('texture');
  }
  Builder_1.prototype.i4m = function (_set____db54di) {
    this.v2m_1 = _set____db54di;
  };
  Builder_1.prototype.j4m = function (binding) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_toULong = DescriptorType_SAMPLER_3D_getInstance().hashCode();
        tmp$ret$0 = _ULong___init__impl__c78o9k(toLong(tmp0_toULong));
      }
      var tmp1_times = tmp$ret$0;
      tmp$ret$1 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp1_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
    }
    var sampler = new TextureSampler3d(this, binding, tmp$ret$1);
    var tmp0_safe_receiver = this.x2m_1;
    if (tmp0_safe_receiver == null)
      null;
    else
      tmp0_safe_receiver(sampler);
    return sampler;
  };
  Builder_1.$metadata$ = classMeta('Builder', undefined, undefined, undefined, undefined, Builder_4.prototype);
  function TextureSampler3d(builder, binding, hash) {
    Descriptor.call(this, builder, binding, DescriptorType_SAMPLER_3D_getInstance(), hash);
    this.z4m_1 = builder.v2m_1;
    this.a4n_1 = builder.w2m_1;
    var tmp = this;
    var tmp_0 = 0;
    var tmp_1 = this.z4m_1;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_1), null);
    }
    var tmp_2 = tmp$ret$0;
    while (tmp_0 < tmp_1) {
      var tmp_3 = tmp_0;
      var tmp$ret$1;
      {
        tmp$ret$1 = null;
      }
      tmp_2[tmp_3] = tmp$ret$1;
      tmp_0 = tmp_0 + 1 | 0;
    }
    tmp.b4n_1 = tmp_2;
  }
  TextureSampler3d.prototype.f2t = function () {
    return this.z4m_1;
  };
  TextureSampler3d.$metadata$ = classMeta('TextureSampler3d', undefined, undefined, undefined, undefined, Descriptor.prototype);
  function Builder_2() {
    Builder_4.call(this);
    this.p2m_1 = 1;
    this.q2m_1 = false;
    this.r2m_1 = null;
    this.s2m_1 = null;
    this.j2l('cubeTexture');
  }
  Builder_2.prototype.i4m = function (_set____db54di) {
    this.p2m_1 = _set____db54di;
  };
  Builder_2.prototype.t4m = function (_set____db54di) {
    this.q2m_1 = _set____db54di;
  };
  Builder_2.prototype.j4m = function (binding) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_toULong = DescriptorType_SAMPLER_CUBE_getInstance().hashCode();
        tmp$ret$0 = _ULong___init__impl__c78o9k(toLong(tmp0_toULong));
      }
      var tmp1_times = tmp$ret$0;
      tmp$ret$1 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp1_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
    }
    var sampler = new TextureSamplerCube(this, binding, tmp$ret$1);
    var tmp0_safe_receiver = this.s2m_1;
    if (tmp0_safe_receiver == null)
      null;
    else
      tmp0_safe_receiver(sampler);
    return sampler;
  };
  Builder_2.$metadata$ = classMeta('Builder', undefined, undefined, undefined, undefined, Builder_4.prototype);
  function TextureSamplerCube(builder, binding, hash) {
    Descriptor.call(this, builder, binding, DescriptorType_SAMPLER_CUBE_getInstance(), hash);
    this.h4n_1 = builder.p2m_1;
    this.i4n_1 = builder.q2m_1;
    this.j4n_1 = builder.r2m_1;
    var tmp = this;
    var tmp_0 = 0;
    var tmp_1 = this.h4n_1;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_1), null);
    }
    var tmp_2 = tmp$ret$0;
    while (tmp_0 < tmp_1) {
      var tmp_3 = tmp_0;
      var tmp$ret$1;
      {
        tmp$ret$1 = null;
      }
      tmp_2[tmp_3] = tmp$ret$1;
      tmp_0 = tmp_0 + 1 | 0;
    }
    tmp.k4n_1 = tmp_2;
  }
  TextureSamplerCube.prototype.f2t = function () {
    return this.h4n_1;
  };
  TextureSamplerCube.$metadata$ = classMeta('TextureSamplerCube', undefined, undefined, undefined, undefined, Descriptor.prototype);
  function Builder_3() {
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.g2l_1 = tmp$ret$0;
  }
  Builder_3.prototype.l4n = function () {
    return this.g2l_1;
  };
  Builder_3.prototype.j4m = function (set) {
    var tmp$ret$2;
    {
      var tmp0_List = this.g2l_1.m();
      var tmp$ret$1;
      {
        var list = ArrayList_init_$Create$(tmp0_List);
        {
          {
          }
          var inductionVariable = 0;
          if (inductionVariable < tmp0_List)
            do {
              var index = inductionVariable;
              inductionVariable = inductionVariable + 1 | 0;
              {
                var tmp$ret$0;
                {
                  tmp$ret$0 = this.g2l_1.r(index).j4m(index);
                }
                list.b(tmp$ret$0);
              }
            }
             while (inductionVariable < tmp0_List);
        }
        tmp$ret$1 = list;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    return new DescriptorSetLayout(set, tmp$ret$2);
  };
  Builder_3.$metadata$ = classMeta('Builder');
  function DescriptorSetLayout(set, descriptors) {
    this.j2u_1 = set;
    this.k2u_1 = descriptors;
    var hash = _ULong___init__impl__c78o9k(new Long(0, 0));
    {
      var tmp0_forEach = this.k2u_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var tmp$ret$1;
          {
            var tmp$ret$0;
            {
              var tmp0_times = hash;
              tmp$ret$0 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp0_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
            }
            var tmp1_plus = tmp$ret$0;
            var tmp2_plus = element.q2u_1;
            tmp$ret$1 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp1_plus).ka(_ULong___get_data__impl__fggpzb(tmp2_plus)));
          }
          hash = tmp$ret$1;
        }
      }
    }
    this.l2u_1 = hash;
  }
  DescriptorSetLayout.prototype.l4n = function () {
    return this.k2u_1;
  };
  DescriptorSetLayout.prototype.s4m = function () {
    return this.l2u_1;
  };
  DescriptorSetLayout.$metadata$ = classMeta('DescriptorSetLayout');
  function Builder_4() {
    this.h2l_1 = '';
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashSet_init_$Create$();
    }
    tmp.i2l_1 = tmp$ret$0;
  }
  Builder_4.prototype.j2l = function (_set____db54di) {
    this.h2l_1 = _set____db54di;
  };
  Builder_4.prototype.c2m = function () {
    return this.i2l_1;
  };
  Builder_4.$metadata$ = classMeta('Builder');
  function Descriptor(builder, binding, type, hash) {
    this.m2u_1 = binding;
    this.n2u_1 = type;
    this.o2u_1 = builder.h2l_1;
    this.p2u_1 = copy_0(builder.i2l_1);
    var h = hash;
    var tmp$ret$2;
    {
      var tmp$ret$0;
      {
        var tmp0_times = h;
        tmp$ret$0 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp0_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
      }
      var tmp2_plus = tmp$ret$0;
      var tmp$ret$1;
      {
        var tmp1_toULong = getStringHashCode(builder.h2l_1);
        tmp$ret$1 = _ULong___init__impl__c78o9k(toLong(tmp1_toULong));
      }
      var tmp3_plus = tmp$ret$1;
      tmp$ret$2 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp2_plus).ka(_ULong___get_data__impl__fggpzb(tmp3_plus)));
    }
    h = tmp$ret$2;
    var tmp$ret$5;
    {
      var tmp$ret$3;
      {
        var tmp4_times = h;
        tmp$ret$3 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp4_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
      }
      var tmp6_plus = tmp$ret$3;
      var tmp$ret$4;
      {
        var tmp5_toULong = this.n2u_1.hashCode();
        tmp$ret$4 = _ULong___init__impl__c78o9k(toLong(tmp5_toULong));
      }
      var tmp7_plus = tmp$ret$4;
      tmp$ret$5 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp6_plus).ka(_ULong___get_data__impl__fggpzb(tmp7_plus)));
    }
    h = tmp$ret$5;
    this.q2u_1 = h;
  }
  Descriptor.prototype.m4n = function () {
    return this.m2u_1;
  };
  Descriptor.prototype.il = function () {
    return this.o2u_1;
  };
  Descriptor.prototype.s4m = function () {
    return this.q2u_1;
  };
  Descriptor.$metadata$ = classMeta('Descriptor');
  function Builder_5() {
    Builder_4.call(this);
    this.j2m_1 = null;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.k2m_1 = tmp$ret$0;
    this.l2m_1 = null;
    this.m2m_1 = null;
    this.j2l('Ubo');
  }
  Builder_5.prototype.i2t = function () {
    return this.k2m_1;
  };
  Builder_5.prototype.j4m = function (binding) {
    var tmp$ret$2;
    {
      var tmp0_List = this.k2m_1.m();
      var tmp$ret$1;
      {
        var list = ArrayList_init_$Create$(tmp0_List);
        {
          {
          }
          var inductionVariable = 0;
          if (inductionVariable < tmp0_List)
            do {
              var index = inductionVariable;
              inductionVariable = inductionVariable + 1 | 0;
              {
                var tmp$ret$0;
                {
                  tmp$ret$0 = this.k2m_1.r(index)();
                }
                list.b(tmp$ret$0);
              }
            }
             while (inductionVariable < tmp0_List);
        }
        tmp$ret$1 = list;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    var uniforms = tmp$ret$2;
    var tmp$ret$4;
    {
      var tmp$ret$3;
      {
        var tmp1_toULong = DescriptorType_UNIFORM_BUFFER_getInstance().hashCode();
        tmp$ret$3 = _ULong___init__impl__c78o9k(toLong(tmp1_toULong));
      }
      var tmp2_times = tmp$ret$3;
      tmp$ret$4 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp2_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
    }
    var hash = tmp$ret$4;
    {
      var tmp0_iterator = uniforms.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var tmp$ret$7;
          {
            var tmp$ret$5;
            {
              var tmp0_times = hash;
              tmp$ret$5 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp0_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
            }
            var tmp2_plus = tmp$ret$5;
            var tmp$ret$6;
            {
              var tmp1_toULong_0 = getKClassFromExpression(element).hashCode();
              tmp$ret$6 = _ULong___init__impl__c78o9k(toLong(tmp1_toULong_0));
            }
            var tmp3_plus = tmp$ret$6;
            tmp$ret$7 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp2_plus).ka(_ULong___get_data__impl__fggpzb(tmp3_plus)));
          }
          hash = tmp$ret$7;
          var tmp$ret$10;
          {
            var tmp$ret$8;
            {
              var tmp4_times = hash;
              tmp$ret$8 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp4_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
            }
            var tmp6_plus = tmp$ret$8;
            var tmp$ret$9;
            {
              var tmp5_toULong = getStringHashCode(element.g2r_1);
              tmp$ret$9 = _ULong___init__impl__c78o9k(toLong(tmp5_toULong));
            }
            var tmp7_plus = tmp$ret$9;
            tmp$ret$10 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp6_plus).ka(_ULong___get_data__impl__fggpzb(tmp7_plus)));
          }
          hash = tmp$ret$10;
        }
      }
    }
    var ubo = new UniformBuffer(this, binding, uniforms, hash);
    var tmp0_safe_receiver = this.m2m_1;
    if (tmp0_safe_receiver == null)
      null;
    else
      tmp0_safe_receiver(ubo);
    return ubo;
  };
  Builder_5.$metadata$ = classMeta('Builder', undefined, undefined, undefined, undefined, Builder_4.prototype);
  function UniformBuffer(builder, binding, uniforms, hash) {
    Descriptor.call(this, builder, binding, DescriptorType_UNIFORM_BUFFER_getInstance(), hash);
    this.w2u_1 = uniforms;
    this.x2u_1 = builder.j2m_1;
    this.y2u_1 = builder.l2m_1;
  }
  UniformBuffer.prototype.i2t = function () {
    return this.w2u_1;
  };
  UniformBuffer.$metadata$ = classMeta('UniformBuffer', undefined, undefined, undefined, undefined, Descriptor.prototype);
  var DescriptorType_SAMPLER_1D_instance;
  var DescriptorType_SAMPLER_2D_instance;
  var DescriptorType_SAMPLER_3D_instance;
  var DescriptorType_SAMPLER_CUBE_instance;
  var DescriptorType_UNIFORM_BUFFER_instance;
  var DescriptorType_entriesInitialized;
  function DescriptorType_initEntries() {
    if (DescriptorType_entriesInitialized)
      return Unit_getInstance();
    DescriptorType_entriesInitialized = true;
    DescriptorType_SAMPLER_1D_instance = new DescriptorType('SAMPLER_1D', 0);
    DescriptorType_SAMPLER_2D_instance = new DescriptorType('SAMPLER_2D', 1);
    DescriptorType_SAMPLER_3D_instance = new DescriptorType('SAMPLER_3D', 2);
    DescriptorType_SAMPLER_CUBE_instance = new DescriptorType('SAMPLER_CUBE', 3);
    DescriptorType_UNIFORM_BUFFER_instance = new DescriptorType('UNIFORM_BUFFER', 4);
  }
  function DescriptorType(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  DescriptorType.$metadata$ = classMeta('DescriptorType', undefined, undefined, undefined, undefined, Enum.prototype);
  function DescriptorType_SAMPLER_1D_getInstance() {
    DescriptorType_initEntries();
    return DescriptorType_SAMPLER_1D_instance;
  }
  function DescriptorType_SAMPLER_2D_getInstance() {
    DescriptorType_initEntries();
    return DescriptorType_SAMPLER_2D_instance;
  }
  function DescriptorType_SAMPLER_3D_getInstance() {
    DescriptorType_initEntries();
    return DescriptorType_SAMPLER_3D_instance;
  }
  function DescriptorType_SAMPLER_CUBE_getInstance() {
    DescriptorType_initEntries();
    return DescriptorType_SAMPLER_CUBE_instance;
  }
  function DescriptorType_UNIFORM_BUFFER_getInstance() {
    DescriptorType_initEntries();
    return DescriptorType_UNIFORM_BUFFER_instance;
  }
  function FullscreenShaderUtil$generateFullscreenQuad$lambda($mirrorTexCoordsY) {
    return function ($this$generate) {
      var props = new RectProps();
      {
        props.p4n_1.t2d(-1.0, -1.0, 0.0);
        props.q4n_1.x2f(2.0, 2.0);
        if ($mirrorTexCoordsY) {
          props.v4n();
        }
      }
      $this$generate.w4n(props);
      return Unit_getInstance();
    };
  }
  function FullscreenShaderUtil$fullscreenQuadVertexStage$lambda$lambda($uv, $this_vertexStage) {
    return function ($this$main) {
      var tmp0_safe_receiver = $uv;
      if (tmp0_safe_receiver == null)
        null;
      else {
        var tmp$ret$0;
        {
          {
          }
          tmp$ret$0 = $this$main.t2w(tmp0_safe_receiver.z33(), $this_vertexStage.u35(Companion_getInstance_28().c2w_1.s2p_1));
        }
      }
      $this$main.t2w($this_vertexStage.y2o_1, $this$main.s2w($this_vertexStage.r2w(Companion_getInstance_28().z2v_1.s2p_1), 1.0));
      return Unit_getInstance();
    };
  }
  function FullscreenShaderUtil$fullscreenQuadVertexStage$lambda($uv) {
    return function ($this$vertexStage) {
      $this$vertexStage.u2w(FullscreenShaderUtil$fullscreenQuadVertexStage$lambda$lambda($uv, $this$vertexStage));
      return Unit_getInstance();
    };
  }
  function FullscreenShaderUtil() {
    FullscreenShaderUtil_instance = this;
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_apply = new PipelineConfig();
      {
      }
      {
        tmp0_apply.r2q_1 = BlendMode_DISABLED_getInstance();
        tmp0_apply.s2q_1 = CullMethod_NO_CULLING_getInstance();
        tmp0_apply.t2q_1 = DepthCompareOp_DISABLED_getInstance();
      }
      tmp$ret$0 = tmp0_apply;
    }
    tmp.x4n_1 = tmp$ret$0;
  }
  FullscreenShaderUtil.prototype.y4n = function (_this__u8e3s4, mirrorTexCoordsY) {
    _this__u8e3s4.k4g(false);
    _this__u8e3s4.l4g(FullscreenShaderUtil$generateFullscreenQuad$lambda(mirrorTexCoordsY));
  };
  FullscreenShaderUtil.prototype.z4n = function (_this__u8e3s4, mirrorTexCoordsY, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      mirrorTexCoordsY = true;
    return this.y4n(_this__u8e3s4, mirrorTexCoordsY);
  };
  FullscreenShaderUtil.prototype.a4o = function (_this__u8e3s4, uv) {
    _this__u8e3s4.v2x(FullscreenShaderUtil$fullscreenQuadVertexStage$lambda(uv));
  };
  FullscreenShaderUtil.$metadata$ = objectMeta('FullscreenShaderUtil');
  var FullscreenShaderUtil_instance;
  function FullscreenShaderUtil_getInstance() {
    if (FullscreenShaderUtil_instance == null)
      new FullscreenShaderUtil();
    return FullscreenShaderUtil_instance;
  }
  function LoadedTexture() {
  }
  LoadedTexture.$metadata$ = interfaceMeta('LoadedTexture');
  var RenderTarget_TEXTURE_instance;
  var RenderTarget_RENDER_BUFFER_instance;
  var RenderTarget_entriesInitialized;
  function RenderTarget_initEntries() {
    if (RenderTarget_entriesInitialized)
      return Unit_getInstance();
    RenderTarget_entriesInitialized = true;
    RenderTarget_TEXTURE_instance = new RenderTarget('TEXTURE', 0);
    RenderTarget_RENDER_BUFFER_instance = new RenderTarget('RENDER_BUFFER', 1);
  }
  function Config_0(builder) {
    this.b4o_1 = builder.l4o_1;
    this.c4o_1 = builder.m4o_1;
    this.d4o_1 = builder.n4o_1;
    this.e4o_1 = builder.o4o_1;
    this.f4o_1 = builder.p4o_1;
    this.g4o_1 = builder.r4o_1;
    this.h4o_1 = builder.q4o_1;
    var tmp = this;
    var tmp_0;
    if (this.g4o_1.equals(RenderTarget_TEXTURE_getInstance())) {
      var tmp0_safe_receiver = builder.t4o_1;
      var tmp_1;
      if (tmp0_safe_receiver == null) {
        tmp_1 = null;
      } else {
        var tmp$ret$1;
        {
          {
          }
          var tmp$ret$0;
          {
            tmp$ret$0 = new TextureAttachmentConfig(tmp0_safe_receiver);
          }
          tmp$ret$1 = tmp$ret$0;
        }
        tmp_1 = tmp$ret$1;
      }
      tmp_0 = tmp_1;
    } else {
      tmp_0 = null;
    }
    tmp.i4o_1 = tmp_0;
    var tmp_2 = this;
    var tmp_3;
    if (this.h4o_1.equals(RenderTarget_TEXTURE_getInstance())) {
      var tmp$ret$4;
      {
        var tmp0_map = builder.s4o_1;
        var tmp$ret$3;
        {
          var tmp0_mapTo = ArrayList_init_$Create$(collectionSizeOrDefault(tmp0_map, 10));
          var tmp0_iterator = tmp0_map.h();
          while (tmp0_iterator.n()) {
            var item = tmp0_iterator.o();
            var tmp$ret$2;
            {
              tmp$ret$2 = new TextureAttachmentConfig(item);
            }
            tmp0_mapTo.b(tmp$ret$2);
          }
          tmp$ret$3 = tmp0_mapTo;
        }
        tmp$ret$4 = tmp$ret$3;
      }
      tmp_3 = tmp$ret$4;
    } else {
      tmp_3 = emptyList();
    }
    tmp_2.j4o_1 = tmp_3;
    this.k4o_1 = this.j4o_1.m();
    if (this.h4o_1.equals(RenderTarget_TEXTURE_getInstance()) ? this.j4o_1.q() : false) {
      throw IllegalStateException_init_$Create$('colorAttachments must be configured if colorRenderTarget is TEXTURE');
    } else {
      var tmp_4;
      if (this.h4o_1.equals(RenderTarget_RENDER_BUFFER_getInstance())) {
        var tmp$ret$5;
        {
          var tmp0_isNotEmpty = builder.s4o_1;
          tmp$ret$5 = !tmp0_isNotEmpty.q();
        }
        tmp_4 = tmp$ret$5;
      } else {
        tmp_4 = false;
      }
      if (tmp_4) {
        var tmp$ret$9;
        {
          var tmp$ret$8;
          {
            var tmp3_wExt = Log_getInstance();
            var tmp$ret$7;
            {
              var tmp2_logExt = Level_WARN_getInstance();
              var tmp1_log = getKClassFromExpression(this).ei();
              var tmp_5;
              if (tmp2_logExt.e1w_1 >= tmp3_wExt.y1v_1.e1w_1) {
                var tmp_6 = tmp3_wExt.z1v_1;
                var tmp$ret$6;
                {
                  tmp$ret$6 = 'colorAttachments are ignored if colorRenderTarget is RENDER_BUFFER';
                }
                tmp_5 = tmp_6(tmp2_logExt, tmp1_log, tmp$ret$6);
              }
              tmp$ret$7 = tmp_5;
            }
            tmp$ret$8 = tmp$ret$7;
          }
          tmp$ret$9 = tmp$ret$8;
        }
      }
    }
    if (this.g4o_1.equals(RenderTarget_TEXTURE_getInstance()) ? this.i4o_1 == null : false) {
      throw IllegalStateException_init_$Create$('depthAttachment must be configured if depthRenderTarget is TEXTURE');
    } else if (this.g4o_1.equals(RenderTarget_RENDER_BUFFER_getInstance()) ? !(builder.t4o_1 == null) : false) {
      var tmp$ret$13;
      {
        var tmp$ret$12;
        {
          var tmp6_wExt = Log_getInstance();
          var tmp$ret$11;
          {
            var tmp5_logExt = Level_WARN_getInstance();
            var tmp4_log = getKClassFromExpression(this).ei();
            var tmp_7;
            if (tmp5_logExt.e1w_1 >= tmp6_wExt.y1v_1.e1w_1) {
              var tmp_8 = tmp6_wExt.z1v_1;
              var tmp$ret$10;
              {
                tmp$ret$10 = 'depthAttachment is ignored if depthRenderTarget is RENDER_BUFFER';
              }
              tmp_7 = tmp_8(tmp5_logExt, tmp4_log, tmp$ret$10);
            }
            tmp$ret$11 = tmp_7;
          }
          tmp$ret$12 = tmp$ret$11;
        }
        tmp$ret$13 = tmp$ret$12;
      }
    }
  }
  Config_0.prototype.u4o = function () {
    return this.e4o_1;
  };
  Config_0.prototype.v4o = function () {
    return this.j4o_1;
  };
  Config_0.prototype.w4o = function () {
    return this.k4o_1;
  };
  Config_0.$metadata$ = classMeta('Config');
  function ConfigBuilder() {
    this.l4o_1 = 'OffscreenRenderPass';
    this.m4o_1 = 0;
    this.n4o_1 = 0;
    this.o4o_1 = 1;
    this.p4o_1 = true;
    this.q4o_1 = RenderTarget_TEXTURE_getInstance();
    this.r4o_1 = RenderTarget_RENDER_BUFFER_getInstance();
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.s4o_1 = tmp$ret$0;
    this.t4o_1 = null;
  }
  ConfigBuilder.prototype.j2l = function (_set____db54di) {
    this.l4o_1 = _set____db54di;
  };
  ConfigBuilder.prototype.x4o = function (width, height) {
    this.m4o_1 = width;
    this.n4o_1 = height;
  };
  ConfigBuilder.prototype.y4o = function () {
    this.r4o_1 = RenderTarget_RENDER_BUFFER_getInstance();
    this.t4o_1 = null;
  };
  ConfigBuilder.prototype.z4o = function (usedAsShadowMap) {
    this.r4o_1 = RenderTarget_TEXTURE_getInstance();
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_apply = new TextureAttachmentConfigBuilder();
      {
      }
      {
        if (usedAsShadowMap) {
          tmp0_apply.b4p_1 = FilterMethod_LINEAR_getInstance();
          tmp0_apply.c4p_1 = FilterMethod_LINEAR_getInstance();
          tmp0_apply.f4p_1 = DepthCompareOp_LESS_getInstance();
        } else {
          tmp0_apply.b4p_1 = FilterMethod_NEAREST_getInstance();
          tmp0_apply.c4p_1 = FilterMethod_NEAREST_getInstance();
          tmp0_apply.f4p_1 = DepthCompareOp_DISABLED_getInstance();
        }
      }
      tmp$ret$0 = tmp0_apply;
    }
    tmp.t4o_1 = tmp$ret$0;
  };
  ConfigBuilder.prototype.h4p = function (format) {
    this.q4o_1 = RenderTarget_TEXTURE_getInstance();
    var tmp0_this = this;
    {
      var tmp1_plusAssign = tmp0_this.s4o_1;
      var tmp$ret$0;
      {
        var tmp0_apply = new TextureAttachmentConfigBuilder();
        {
        }
        {
          tmp0_apply.a4p_1 = format;
        }
        tmp$ret$0 = tmp0_apply;
      }
      var tmp2_plusAssign = tmp$ret$0;
      tmp1_plusAssign.b(tmp2_plusAssign);
    }
  };
  ConfigBuilder.prototype.i4p = function (block) {
    this.q4o_1 = RenderTarget_TEXTURE_getInstance();
    var tmp0_this = this;
    {
      var tmp1_plusAssign = tmp0_this.s4o_1;
      var tmp$ret$0;
      {
        var tmp0_apply = new TextureAttachmentConfigBuilder();
        {
        }
        block(tmp0_apply);
        tmp$ret$0 = tmp0_apply;
      }
      var tmp2_plusAssign = tmp$ret$0;
      tmp1_plusAssign.b(tmp2_plusAssign);
    }
  };
  ConfigBuilder.$metadata$ = classMeta('ConfigBuilder');
  function TextureAttachmentConfig(builder) {
    this.j4p_1 = builder.a4p_1;
    this.k4p_1 = builder.b4p_1;
    this.l4p_1 = builder.c4p_1;
    this.m4p_1 = builder.d4p_1;
    this.n4p_1 = builder.e4p_1;
    this.o4p_1 = builder.f4p_1;
    this.p4p_1 = 1;
    this.q4p_1 = builder.g4p_1;
  }
  TextureAttachmentConfig.prototype.r4p = function () {
    return this.q4p_1;
  };
  TextureAttachmentConfig.prototype.s4p = function () {
    return !(this.q4p_1 == null);
  };
  TextureAttachmentConfig.prototype.t4p = function (mipMapping) {
    return new TextureProps(this.j4p_1, this.m4p_1, this.n4p_1, AddressMode_CLAMP_TO_EDGE_getInstance(), this.k4p_1, this.l4p_1, mipMapping, this.p4p_1);
  };
  TextureAttachmentConfig.$metadata$ = classMeta('TextureAttachmentConfig');
  function TextureAttachmentConfigBuilder() {
    this.a4p_1 = TexFormat_RGBA_getInstance();
    this.b4p_1 = FilterMethod_LINEAR_getInstance();
    this.c4p_1 = FilterMethod_LINEAR_getInstance();
    this.d4p_1 = AddressMode_CLAMP_TO_EDGE_getInstance();
    this.e4p_1 = AddressMode_CLAMP_TO_EDGE_getInstance();
    this.f4p_1 = DepthCompareOp_DISABLED_getInstance();
    this.g4p_1 = null;
  }
  TextureAttachmentConfigBuilder.prototype.u4p = function (_set____db54di) {
    this.a4p_1 = _set____db54di;
  };
  TextureAttachmentConfigBuilder.prototype.v4p = function (_set____db54di) {
    this.b4p_1 = _set____db54di;
  };
  TextureAttachmentConfigBuilder.prototype.w4p = function (_set____db54di) {
    this.c4p_1 = _set____db54di;
  };
  TextureAttachmentConfigBuilder.prototype.x4p = function (_set____db54di) {
    this.f4p_1 = _set____db54di;
  };
  TextureAttachmentConfigBuilder.$metadata$ = classMeta('TextureAttachmentConfigBuilder');
  function RenderTarget(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  RenderTarget.$metadata$ = classMeta('RenderTarget', undefined, undefined, undefined, undefined, Enum.prototype);
  function RenderTarget_TEXTURE_getInstance() {
    RenderTarget_initEntries();
    return RenderTarget_TEXTURE_instance;
  }
  function RenderTarget_RENDER_BUFFER_getInstance() {
    RenderTarget_initEntries();
    return RenderTarget_RENDER_BUFFER_instance;
  }
  function OffscreenRenderPass(drawNode, config) {
    RenderPass.call(this, drawNode);
    this.p4q_1 = config;
    this.q4q_1 = true;
    this.r4q_1 = this.p4q_1.c4o_1;
    this.s4q_1 = this.p4q_1.d4o_1;
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_apply = PerspectiveCamera_init_$Create$(null, 1, null);
      {
      }
      {
        tmp0_apply.i4s(ProjCorrectionMode_OFFSCREEN_getInstance());
      }
      tmp$ret$0 = tmp0_apply;
    }
    tmp.t4q_1 = tmp$ret$0;
    this.u4q_1 = null;
    this.j4s(this.p4q_1.b4o_1);
    var tmp_0 = 0;
    var tmp_1 = this.p4q_1.k4o_1;
    var tmp$ret$1;
    {
      tmp$ret$1 = fillArrayVal(Array(tmp_1), null);
    }
    var tmp_2 = tmp$ret$1;
    while (tmp_0 < tmp_1) {
      var tmp_3 = tmp_0;
      var tmp$ret$2;
      {
        tmp$ret$2 = null;
      }
      tmp_2[tmp_3] = tmp$ret$2;
      tmp_0 = tmp_0 + 1 | 0;
    }
    this.k4s(tmp_2);
    this.l4s(0);
    if (this.r4q_1 === 0) {
      this.r4q_1 = 16;
    }
    if (this.s4q_1 === 0) {
      this.s4q_1 = 16;
    }
  }
  OffscreenRenderPass.prototype.m4s = function () {
    return this.p4q_1;
  };
  OffscreenRenderPass.prototype.n4s = function (_set____db54di) {
    this.q4q_1 = _set____db54di;
  };
  OffscreenRenderPass.prototype.y3u = function () {
    return this.r4q_1;
  };
  OffscreenRenderPass.prototype.z3u = function () {
    return this.s4q_1;
  };
  OffscreenRenderPass.prototype.o4s = function (_set____db54di) {
    this.t4q_1 = _set____db54di;
  };
  OffscreenRenderPass.prototype.p4s = function () {
    return this.t4q_1;
  };
  OffscreenRenderPass.prototype.q4s = function () {
    return this.u4q_1;
  };
  OffscreenRenderPass.prototype.r4s = function (colorAttachment) {
    return this.p4q_1.j4o_1.r(colorAttachment).t4p(this.p4q_1.e4o_1 > 1);
  };
  OffscreenRenderPass.prototype.s4s = function (colorAttachment, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      colorAttachment = 0;
    return this.r4s(colorAttachment);
  };
  OffscreenRenderPass.prototype.t4s = function (mipLevel) {
    return mipLevel <= 0 ? this.r4q_1 : this.r4q_1 >> mipLevel;
  };
  OffscreenRenderPass.prototype.u4s = function (mipLevel) {
    return mipLevel <= 0 ? this.s4q_1 : this.s4q_1 >> mipLevel;
  };
  OffscreenRenderPass.prototype.l4s = function (mipLevel) {
    this.v4s().w4s(0, 0, this.t4s(mipLevel), this.u4s(mipLevel));
  };
  OffscreenRenderPass.$metadata$ = classMeta('OffscreenRenderPass', undefined, undefined, undefined, undefined, RenderPass.prototype);
  function renderPassConfig(block) {
    var builder = new ConfigBuilder();
    block(builder);
    return new Config_0(builder);
  }
  function makeColorAttachmentTexs($this) {
    var tmp$ret$2;
    {
      var tmp0_mapIndexed = $this.m4s().j4o_1;
      var tmp$ret$1;
      {
        var tmp0_mapIndexedTo = ArrayList_init_$Create$(collectionSizeOrDefault(tmp0_mapIndexed, 10));
        var index = 0;
        var tmp0_iterator = tmp0_mapIndexed.h();
        while (tmp0_iterator.n()) {
          var item = tmp0_iterator.o();
          var tmp$ret$0;
          {
            var tmp1 = index;
            index = tmp1 + 1 | 0;
            var tmp1__anonymous__uwfjfc = checkIndexOverflow(tmp1);
            var tmp;
            if (item.s4p()) {
              var tmp_0 = ensureNotNull(item.q4p_1);
              tmp = tmp_0 instanceof Texture2d ? tmp_0 : THROW_CCE();
            } else {
              var name = '' + $this.il() + '_color[' + tmp1__anonymous__uwfjfc + ']';
              var props = item.t4p($this.m4s().e4o_1 > 1);
              tmp = Texture2d_init_$Create$_0(props, name, null, 4, null);
            }
            tmp$ret$0 = tmp;
          }
          tmp0_mapIndexedTo.b(tmp$ret$0);
        }
        tmp$ret$1 = tmp0_mapIndexedTo;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    return tmp$ret$2;
  }
  function makeDepthAttachmentTex($this) {
    var tmp0_safe_receiver = $this.m4s().i4o_1;
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        var tmp$ret$0;
        {
          var tmp_0;
          if (tmp0_safe_receiver.s4p()) {
            var tmp_1 = ensureNotNull(tmp0_safe_receiver.q4p_1);
            tmp_0 = tmp_1 instanceof Texture2d ? tmp_1 : THROW_CCE();
          } else {
            var name = '' + $this.il() + '_depth';
            var props = tmp0_safe_receiver.t4p($this.m4s().e4o_1 > 1);
            tmp_0 = Texture2d_init_$Create$_0(props, name, null, 4, null);
          }
          tmp$ret$0 = tmp_0;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp = tmp$ret$1;
    }
    return tmp;
  }
  function OffscreenRenderPass2d$dispose$lambda(this$0) {
    return function (it) {
      var tmp;
      var tmp0_safe_receiver = this$0.m4s().i4o_1;
      if ((tmp0_safe_receiver == null ? null : tmp0_safe_receiver.q4p_1) == null) {
        var tmp1_safe_receiver = this$0.z29_1;
        if (tmp1_safe_receiver == null)
          null;
        else {
          tmp1_safe_receiver.n1a();
        }
        tmp = Unit_getInstance();
      }
      var tmp0_forEachIndexed = this$0.a2a_1;
      var index = 0;
      var tmp0_iterator = tmp0_forEachIndexed.h();
      while (tmp0_iterator.n()) {
        var item = tmp0_iterator.o();
        {
          var tmp1 = index;
          index = tmp1 + 1 | 0;
          var tmp1__anonymous__uwfjfc = checkIndexOverflow(tmp1);
          if (!this$0.m4s().j4o_1.r(tmp1__anonymous__uwfjfc).s4p()) {
            item.n1a();
          }
        }
      }
      return Unit_getInstance();
    };
  }
  function OffscreenRenderPass2d(drawNode, config) {
    OffscreenRenderPass.call(this, drawNode, config);
    this.y29_1 = new OffscreenPass2dImpl(this);
    this.z29_1 = makeDepthAttachmentTex(this);
    this.a2a_1 = makeColorAttachmentTexs(this);
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.b2a_1 = tmp$ret$0;
  }
  OffscreenRenderPass2d.prototype.o4t = function () {
    var tmp;
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = this.a2a_1;
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      tmp = this.a2a_1.r(0);
    } else {
      tmp = null;
    }
    return tmp;
  };
  OffscreenRenderPass2d.prototype.c2a = function () {
    var tmp = this.s4s(0, 1, null);
    var tmp_0 = '' + this.il() + '-copy-' + this.b2a_1.m();
    var tex = Texture2d_init_$Create$_0(tmp, tmp_0, null, 4, null);
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.b2a_1;
      tmp0_plusAssign.b(tex);
    }
    return tex;
  };
  OffscreenRenderPass2d.prototype.t4g = function (ctx) {
    OffscreenRenderPass.prototype.t4g.call(this, ctx);
    this.y29_1.t4g(ctx);
    ctx.b2c(3, OffscreenRenderPass2d$dispose$lambda(this));
  };
  OffscreenRenderPass2d.$metadata$ = classMeta('OffscreenRenderPass2d', undefined, undefined, undefined, undefined, OffscreenRenderPass.prototype);
  function OffscreenRenderPass2dPingPong() {
  }
  OffscreenRenderPass2dPingPong.$metadata$ = classMeta('OffscreenRenderPass2dPingPong', undefined, undefined, undefined, undefined, OffscreenRenderPass.prototype);
  var ViewDirection_FRONT_instance;
  var ViewDirection_BACK_instance;
  var ViewDirection_LEFT_instance;
  var ViewDirection_RIGHT_instance;
  var ViewDirection_UP_instance;
  var ViewDirection_DOWN_instance;
  var ViewDirection_entriesInitialized;
  function ViewDirection_initEntries() {
    if (ViewDirection_entriesInitialized)
      return Unit_getInstance();
    ViewDirection_entriesInitialized = true;
    ViewDirection_FRONT_instance = new ViewDirection('FRONT', 0, 0);
    ViewDirection_BACK_instance = new ViewDirection('BACK', 1, 1);
    ViewDirection_LEFT_instance = new ViewDirection('LEFT', 2, 2);
    ViewDirection_RIGHT_instance = new ViewDirection('RIGHT', 3, 3);
    ViewDirection_UP_instance = new ViewDirection('UP', 4, 4);
    ViewDirection_DOWN_instance = new ViewDirection('DOWN', 5, 5);
  }
  function ViewDirection(name, ordinal, index) {
    Enum.call(this, name, ordinal);
    this.a4u_1 = index;
  }
  ViewDirection.$metadata$ = classMeta('ViewDirection', undefined, undefined, undefined, undefined, Enum.prototype);
  function ViewDirection_FRONT_getInstance() {
    ViewDirection_initEntries();
    return ViewDirection_FRONT_instance;
  }
  function ViewDirection_BACK_getInstance() {
    ViewDirection_initEntries();
    return ViewDirection_BACK_instance;
  }
  function ViewDirection_LEFT_getInstance() {
    ViewDirection_initEntries();
    return ViewDirection_LEFT_instance;
  }
  function ViewDirection_RIGHT_getInstance() {
    ViewDirection_initEntries();
    return ViewDirection_RIGHT_instance;
  }
  function ViewDirection_UP_getInstance() {
    ViewDirection_initEntries();
    return ViewDirection_UP_instance;
  }
  function ViewDirection_DOWN_getInstance() {
    ViewDirection_initEntries();
    return ViewDirection_DOWN_instance;
  }
  function OffscreenRenderPassCube() {
  }
  OffscreenRenderPassCube.prototype.o4t = function () {
    var tmp;
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = this.z4u_1;
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      tmp = this.z4u_1.r(0);
    } else {
      tmp = null;
    }
    return tmp;
  };
  OffscreenRenderPassCube.$metadata$ = classMeta('OffscreenRenderPassCube', undefined, undefined, undefined, undefined, OffscreenRenderPass.prototype);
  var BlendMode_DISABLED_instance;
  var BlendMode_BLEND_ADDITIVE_instance;
  var BlendMode_BLEND_MULTIPLY_ALPHA_instance;
  var BlendMode_BLEND_PREMULTIPLIED_ALPHA_instance;
  var BlendMode_entriesInitialized;
  function BlendMode_initEntries() {
    if (BlendMode_entriesInitialized)
      return Unit_getInstance();
    BlendMode_entriesInitialized = true;
    BlendMode_DISABLED_instance = new BlendMode('DISABLED', 0);
    BlendMode_BLEND_ADDITIVE_instance = new BlendMode('BLEND_ADDITIVE', 1);
    BlendMode_BLEND_MULTIPLY_ALPHA_instance = new BlendMode('BLEND_MULTIPLY_ALPHA', 2);
    BlendMode_BLEND_PREMULTIPLIED_ALPHA_instance = new BlendMode('BLEND_PREMULTIPLIED_ALPHA', 3);
  }
  function BlendMode(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  BlendMode.$metadata$ = classMeta('BlendMode', undefined, undefined, undefined, undefined, Enum.prototype);
  var CullMethod_CULL_BACK_FACES_instance;
  var CullMethod_CULL_FRONT_FACES_instance;
  var CullMethod_NO_CULLING_instance;
  var CullMethod_entriesInitialized;
  function CullMethod_initEntries() {
    if (CullMethod_entriesInitialized)
      return Unit_getInstance();
    CullMethod_entriesInitialized = true;
    CullMethod_CULL_BACK_FACES_instance = new CullMethod('CULL_BACK_FACES', 0, true, false);
    CullMethod_CULL_FRONT_FACES_instance = new CullMethod('CULL_FRONT_FACES', 1, false, true);
    CullMethod_NO_CULLING_instance = new CullMethod('NO_CULLING', 2, true, true);
  }
  function CullMethod(name, ordinal, isFrontVisible, isBackVisible) {
    Enum.call(this, name, ordinal);
    this.e4v_1 = isFrontVisible;
    this.f4v_1 = isBackVisible;
  }
  CullMethod.$metadata$ = classMeta('CullMethod', undefined, undefined, undefined, undefined, Enum.prototype);
  var DepthCompareOp_DISABLED_instance;
  var DepthCompareOp_ALWAYS_instance;
  var DepthCompareOp_NEVER_instance;
  var DepthCompareOp_LESS_instance;
  var DepthCompareOp_LESS_EQUAL_instance;
  var DepthCompareOp_GREATER_instance;
  var DepthCompareOp_GREATER_EQUAL_instance;
  var DepthCompareOp_EQUAL_instance;
  var DepthCompareOp_NOT_EQUAL_instance;
  var DepthCompareOp_entriesInitialized;
  function DepthCompareOp_initEntries() {
    if (DepthCompareOp_entriesInitialized)
      return Unit_getInstance();
    DepthCompareOp_entriesInitialized = true;
    DepthCompareOp_DISABLED_instance = new DepthCompareOp('DISABLED', 0);
    DepthCompareOp_ALWAYS_instance = new DepthCompareOp('ALWAYS', 1);
    DepthCompareOp_NEVER_instance = new DepthCompareOp('NEVER', 2);
    DepthCompareOp_LESS_instance = new DepthCompareOp('LESS', 3);
    DepthCompareOp_LESS_EQUAL_instance = new DepthCompareOp('LESS_EQUAL', 4);
    DepthCompareOp_GREATER_instance = new DepthCompareOp('GREATER', 5);
    DepthCompareOp_GREATER_EQUAL_instance = new DepthCompareOp('GREATER_EQUAL', 6);
    DepthCompareOp_EQUAL_instance = new DepthCompareOp('EQUAL', 7);
    DepthCompareOp_NOT_EQUAL_instance = new DepthCompareOp('NOT_EQUAL', 8);
  }
  function DepthCompareOp(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  DepthCompareOp.$metadata$ = classMeta('DepthCompareOp', undefined, undefined, undefined, undefined, Enum.prototype);
  function Layout_0(vertices, descriptorSets, pushConstantRanges) {
    this.v2t_1 = vertices;
    this.w2t_1 = descriptorSets;
    this.x2t_1 = pushConstantRanges;
  }
  Layout_0.$metadata$ = classMeta('Layout');
  function Builder_6() {
    this.w2j_1 = 'pipeline';
    this.x2j_1 = CullMethod_CULL_BACK_FACES_getInstance();
    this.y2j_1 = BlendMode_DISABLED_getInstance();
    this.z2j_1 = DepthCompareOp_LESS_getInstance();
    this.a2k_1 = true;
    this.b2k_1 = 1.0;
    this.d2k_1 = new Builder_7();
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.e2k_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_0.f2k_1 = tmp$ret$1;
  }
  Builder_6.prototype.g4v = function () {
    var tmp = this.c2k_1;
    if (!(tmp == null))
      return tmp;
    else {
      throwUninitializedPropertyAccessException('shaderCodeGenerator');
    }
  };
  Builder_6.prototype.h4v = function () {
    return new Pipeline(this);
  };
  Builder_6.$metadata$ = classMeta('Builder');
  function Companion_30() {
    Companion_instance_30 = this;
    this.i4v_1 = new Long(1, 0);
  }
  Companion_30.$metadata$ = objectMeta('Companion');
  var Companion_instance_30;
  function Companion_getInstance_30() {
    if (Companion_instance_30 == null)
      new Companion_30();
    return Companion_instance_30;
  }
  function Pipeline(builder) {
    Companion_getInstance_30();
    this.y2t_1 = builder.w2j_1;
    var tmp = this;
    var tmp0_this = Companion_getInstance_30();
    var tmp1 = tmp0_this.i4v_1;
    tmp0_this.i4v_1 = tmp1.yl();
    tmp.a2u_1 = tmp1;
    this.b2u_1 = builder.x2j_1;
    this.c2u_1 = builder.y2j_1;
    this.d2u_1 = builder.z2j_1;
    this.e2u_1 = builder.a2k_1;
    this.f2u_1 = builder.b2k_1;
    var tmp_0 = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp_0.i2u_1 = tmp$ret$0;
    var vertexLayout = builder.d2k_1.h4v();
    var tmp$ret$3;
    {
      var tmp0_mapIndexed = builder.e2k_1;
      var tmp$ret$2;
      {
        var tmp0_mapIndexedTo = ArrayList_init_$Create$(collectionSizeOrDefault(tmp0_mapIndexed, 10));
        var index = 0;
        var tmp0_iterator = tmp0_mapIndexed.h();
        while (tmp0_iterator.n()) {
          var item = tmp0_iterator.o();
          var tmp$ret$1;
          {
            var tmp1_0 = index;
            index = tmp1_0 + 1 | 0;
            var tmp1__anonymous__uwfjfc = checkIndexOverflow(tmp1_0);
            tmp$ret$1 = item.j4m(tmp1__anonymous__uwfjfc);
          }
          tmp0_mapIndexedTo.b(tmp$ret$1);
        }
        tmp$ret$2 = tmp0_mapIndexedTo;
      }
      tmp$ret$3 = tmp$ret$2;
    }
    var descriptorSetLayouts = tmp$ret$3;
    var tmp$ret$6;
    {
      var tmp2_map = builder.f2k_1;
      var tmp$ret$5;
      {
        var tmp0_mapTo = ArrayList_init_$Create$(collectionSizeOrDefault(tmp2_map, 10));
        var tmp0_iterator_0 = tmp2_map.h();
        while (tmp0_iterator_0.n()) {
          var item_0 = tmp0_iterator_0.o();
          var tmp$ret$4;
          {
            tmp$ret$4 = item_0.h4v();
          }
          tmp0_mapTo.b(tmp$ret$4);
        }
        tmp$ret$5 = tmp0_mapTo;
      }
      tmp$ret$6 = tmp$ret$5;
    }
    var pushConstantRanges = tmp$ret$6;
    this.g2u_1 = new Layout_0(vertexLayout, descriptorSetLayouts, pushConstantRanges);
    this.h2u_1 = builder.g4v()(this.g2u_1);
    var tmp$ret$7;
    {
      var tmp3_toULong = this.b2u_1.hashCode();
      tmp$ret$7 = _ULong___init__impl__c78o9k(toLong(tmp3_toULong));
    }
    var hash = tmp$ret$7;
    var tmp$ret$10;
    {
      var tmp$ret$8;
      {
        var tmp4_times = hash;
        tmp$ret$8 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp4_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
      }
      var tmp6_plus = tmp$ret$8;
      var tmp$ret$9;
      {
        var tmp5_toULong = this.d2u_1.hashCode();
        tmp$ret$9 = _ULong___init__impl__c78o9k(toLong(tmp5_toULong));
      }
      var tmp7_plus = tmp$ret$9;
      tmp$ret$10 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp6_plus).ka(_ULong___get_data__impl__fggpzb(tmp7_plus)));
    }
    hash = tmp$ret$10;
    var tmp$ret$13;
    {
      var tmp$ret$11;
      {
        var tmp8_times = hash;
        tmp$ret$11 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp8_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
      }
      var tmp10_plus = tmp$ret$11;
      var tmp$ret$12;
      {
        var tmp9_toULong = this.e2u_1 | 0;
        tmp$ret$12 = _ULong___init__impl__c78o9k(toLong(tmp9_toULong));
      }
      var tmp11_plus = tmp$ret$12;
      tmp$ret$13 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp10_plus).ka(_ULong___get_data__impl__fggpzb(tmp11_plus)));
    }
    hash = tmp$ret$13;
    var tmp$ret$16;
    {
      var tmp$ret$14;
      {
        var tmp12_times = hash;
        tmp$ret$14 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp12_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
      }
      var tmp14_plus = tmp$ret$14;
      var tmp$ret$15;
      {
        var tmp13_toULong = getNumberHashCode(this.f2u_1);
        tmp$ret$15 = _ULong___init__impl__c78o9k(toLong(tmp13_toULong));
      }
      var tmp15_plus = tmp$ret$15;
      tmp$ret$16 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp14_plus).ka(_ULong___get_data__impl__fggpzb(tmp15_plus)));
    }
    hash = tmp$ret$16;
    var tmp$ret$18;
    {
      var tmp$ret$17;
      {
        var tmp16_times = hash;
        tmp$ret$17 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp16_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
      }
      var tmp17_plus = tmp$ret$17;
      var tmp18_plus = vertexLayout.q4v_1;
      tmp$ret$18 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp17_plus).ka(_ULong___get_data__impl__fggpzb(tmp18_plus)));
    }
    hash = tmp$ret$18;
    var tmp$ret$20;
    {
      var tmp$ret$19;
      {
        var tmp19_times = hash;
        tmp$ret$19 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp19_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
      }
      var tmp20_plus = tmp$ret$19;
      var tmp21_plus = this.h2u_1.t4v_1;
      tmp$ret$20 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp20_plus).ka(_ULong___get_data__impl__fggpzb(tmp21_plus)));
    }
    hash = tmp$ret$20;
    {
      var tmp0_iterator_1 = descriptorSetLayouts.h();
      while (tmp0_iterator_1.n()) {
        var element = tmp0_iterator_1.o();
        {
          var tmp$ret$22;
          {
            var tmp$ret$21;
            {
              var tmp0_times = hash;
              tmp$ret$21 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp0_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
            }
            var tmp1_plus = tmp$ret$21;
            var tmp2_plus = element.l2u_1;
            tmp$ret$22 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp1_plus).ka(_ULong___get_data__impl__fggpzb(tmp2_plus)));
          }
          hash = tmp$ret$22;
        }
      }
    }
    {
      var tmp0_iterator_2 = pushConstantRanges.h();
      while (tmp0_iterator_2.n()) {
        var element_0 = tmp0_iterator_2.o();
        {
          var tmp$ret$24;
          {
            var tmp$ret$23;
            {
              var tmp0_times_0 = hash;
              tmp$ret$23 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp0_times_0).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
            }
            var tmp1_plus_0 = tmp$ret$23;
            var tmp2_plus_0 = element_0.u4v_1;
            tmp$ret$24 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp1_plus_0).ka(_ULong___get_data__impl__fggpzb(tmp2_plus_0)));
          }
          hash = tmp$ret$24;
        }
      }
    }
    this.z2t_1 = hash;
  }
  Pipeline.prototype.d4w = function () {
    return this.b2u_1;
  };
  Pipeline.prototype.e4w = function () {
    return this.h2u_1;
  };
  Pipeline.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Pipeline))
      return false;
    return equals(this.z2t_1, other.z2t_1);
  };
  Pipeline.prototype.hashCode = function () {
    return ULong__hashCode_impl_6hv2lb(this.z2t_1);
  };
  Pipeline.$metadata$ = classMeta('Pipeline');
  function BlendMode_DISABLED_getInstance() {
    BlendMode_initEntries();
    return BlendMode_DISABLED_instance;
  }
  function BlendMode_BLEND_MULTIPLY_ALPHA_getInstance() {
    BlendMode_initEntries();
    return BlendMode_BLEND_MULTIPLY_ALPHA_instance;
  }
  function BlendMode_BLEND_PREMULTIPLIED_ALPHA_getInstance() {
    BlendMode_initEntries();
    return BlendMode_BLEND_PREMULTIPLIED_ALPHA_instance;
  }
  function CullMethod_CULL_BACK_FACES_getInstance() {
    CullMethod_initEntries();
    return CullMethod_CULL_BACK_FACES_instance;
  }
  function CullMethod_NO_CULLING_getInstance() {
    CullMethod_initEntries();
    return CullMethod_NO_CULLING_instance;
  }
  function DepthCompareOp_DISABLED_getInstance() {
    DepthCompareOp_initEntries();
    return DepthCompareOp_DISABLED_instance;
  }
  function DepthCompareOp_LESS_getInstance() {
    DepthCompareOp_initEntries();
    return DepthCompareOp_LESS_instance;
  }
  function DepthCompareOp_LESS_EQUAL_getInstance() {
    DepthCompareOp_initEntries();
    return DepthCompareOp_LESS_EQUAL_instance;
  }
  function PushConstantRange(builder, longHash, pushConstants) {
    this.u4v_1 = longHash;
    this.v4v_1 = pushConstants;
    this.w4v_1 = builder.j4v_1;
    this.x4v_1 = builder.k4v_1;
    this.y4v_1 = copy_0(builder.l4v_1);
    this.z4v_1 = new Std140BufferLayout(this.v4v_1);
    this.a4w_1 = this.z4v_1.x4l_1;
    this.b4w_1 = createMixedBuffer(this.a4w_1);
    this.c4w_1 = builder.n4v_1;
  }
  PushConstantRange.prototype.s4m = function () {
    return this.u4v_1;
  };
  PushConstantRange.prototype.f4w = function () {
    return this.v4v_1;
  };
  PushConstantRange.$metadata$ = classMeta('PushConstantRange');
  function RenderPass$UpdateEvent$meshFilter$lambda() {
    return function (it) {
      return true;
    };
  }
  function setupUpdateEvent($this, ctx) {
    var tmp0_elvis_lhs = $this.d49_1;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      var tmp$ret$0;
      {
        var tmp0_also = new UpdateEvent($this, ctx);
        {
        }
        {
          $this.d49_1 = tmp0_also;
        }
        tmp$ret$0 = tmp0_also;
      }
      tmp = tmp$ret$0;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var event = tmp;
    event.p4b_1 = $this.c49_1;
    return event;
  }
  function UpdateEvent(renderPass, ctx) {
    this.n4b_1 = renderPass;
    this.o4b_1 = ctx;
    var tmp = this;
    tmp.p4b_1 = RenderPass$UpdateEvent$meshFilter$lambda();
  }
  UpdateEvent.prototype.g4w = function () {
    return this.o4b_1.q28_1;
  };
  UpdateEvent.prototype.c3r = function () {
    return this.o4b_1.r28_1;
  };
  UpdateEvent.prototype.p4s = function () {
    return this.n4b_1.p4s();
  };
  UpdateEvent.$metadata$ = classMeta('UpdateEvent');
  function RenderPass$drawMeshFilter$lambda() {
    return function (it) {
      return true;
    };
  }
  function RenderPass(drawNode) {
    this.w48_1 = drawNode;
    this.x48_1 = null;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.y48_1 = tmp$ret$0;
    this.z48_1 = new Viewport(0, 0, 0, 0);
    this.a49_1 = null;
    this.b49_1 = true;
    var tmp_0 = this;
    tmp_0.c49_1 = RenderPass$drawMeshFilter$lambda();
    this.d49_1 = null;
    var tmp_1 = this;
    var tmp_2 = 0;
    var tmp_3 = 1;
    var tmp$ret$1;
    {
      tmp$ret$1 = fillArrayVal(Array(tmp_3), null);
    }
    var tmp_4 = tmp$ret$1;
    while (tmp_2 < tmp_3) {
      var tmp_5 = tmp_2;
      var tmp$ret$2;
      {
        tmp$ret$2 = new Color(0.15, 0.15, 0.15, 1.0);
      }
      tmp_4[tmp_5] = tmp$ret$2;
      tmp_2 = tmp_2 + 1 | 0;
    }
    tmp_1.e49_1 = tmp_4;
    this.f49_1 = true;
    this.g49_1 = new DrawQueue(this);
    var tmp_6 = this;
    var tmp$ret$3;
    {
      tmp$ret$3 = ArrayList_init_$Create$_0();
    }
    tmp_6.h49_1 = tmp$ret$3;
    var tmp_7 = this;
    var tmp$ret$4;
    {
      tmp$ret$4 = ArrayList_init_$Create$_0();
    }
    tmp_7.i49_1 = tmp$ret$4;
    var tmp_8 = this;
    var tmp$ret$5;
    {
      tmp$ret$5 = ArrayList_init_$Create$_0();
    }
    tmp_8.j49_1 = tmp$ret$5;
    var tmp_9 = this;
    var tmp$ret$6;
    {
      tmp$ret$6 = ArrayList_init_$Create$_0();
    }
    tmp_9.k49_1 = tmp$ret$6;
    var tmp_10 = this;
    var tmp$ret$7;
    {
      tmp$ret$7 = ArrayList_init_$Create$_0();
    }
    tmp_10.l49_1 = tmp$ret$7;
    this.m49_1 = false;
  }
  RenderPass.prototype.h4w = function () {
    return this.w48_1;
  };
  RenderPass.prototype.j4s = function (_set____db54di) {
    this.x48_1 = _set____db54di;
  };
  RenderPass.prototype.il = function () {
    return this.x48_1;
  };
  RenderPass.prototype.z2l = function () {
    return this.y48_1;
  };
  RenderPass.prototype.v4s = function () {
    return this.z48_1;
  };
  RenderPass.prototype.i4w = function (_set____db54di) {
    this.a49_1 = _set____db54di;
  };
  RenderPass.prototype.k4s = function (_set____db54di) {
    this.e49_1 = _set____db54di;
  };
  RenderPass.prototype.x4s = function () {
    return this.e49_1;
  };
  RenderPass.prototype.n49 = function (value) {
    this.e49_1[0] = value;
  };
  RenderPass.prototype.y4s = function () {
    return this.e49_1[0];
  };
  RenderPass.prototype.z4s = function () {
    return this.f49_1;
  };
  RenderPass.prototype.x4t = function () {
    return this.g49_1;
  };
  RenderPass.prototype.j4w = function () {
    return this.l49_1;
  };
  RenderPass.prototype.c4t = function (subTag) {
    var tmp;
    if (this.m49_1) {
      tmp = 'RP:' + this.x48_1 + '-' + subTag;
    } else {
      tmp = 'RP:' + this.x48_1;
    }
    return tmp;
  };
  RenderPass.prototype.d4t = function (ctx) {
    if (ctx.h28_1) {
      Profiling_getInstance().j2c(this.c4t('update'));
    }
    if (this.b49_1) {
      this.w48_1.d4h(setupUpdateEvent(this, ctx));
    }
    if (ctx.h28_1) {
      Profiling_getInstance().c2d(this.c4t('update'));
    }
  };
  RenderPass.prototype.e4t = function (ctx) {
    if (ctx.h28_1) {
      Profiling_getInstance().j2c(this.c4t('collect'));
    }
    this.g4t(ctx);
    this.w48_1.u4g(setupUpdateEvent(this, ctx));
    this.h4t(ctx);
    if (ctx.h28_1) {
      Profiling_getInstance().c2d(this.c4t('collect'));
    }
  };
  RenderPass.prototype.a4t = function (ctx) {
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = this.j49_1;
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      var inductionVariable = 0;
      var last = this.j49_1.m() - 1 | 0;
      if (inductionVariable <= last)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          this.j49_1.r(i)(ctx);
        }
         while (inductionVariable <= last);
    }
  };
  RenderPass.prototype.b4t = function (ctx) {
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = this.k49_1;
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      var inductionVariable = 0;
      var last = this.k49_1.m() - 1 | 0;
      if (inductionVariable <= last)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          this.k49_1.r(i)(ctx);
        }
         while (inductionVariable <= last);
    }
  };
  RenderPass.prototype.f4t = function (mesh, ctx) {
    return this.g49_1.f4t(mesh, ctx);
  };
  RenderPass.prototype.g4t = function (ctx) {
    this.g49_1.t7();
    var inductionVariable = 0;
    var last = this.h49_1.m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.h49_1.r(i)(ctx);
      }
       while (inductionVariable <= last);
    this.p4s().n4w(this, ctx);
  };
  RenderPass.prototype.h4t = function (ctx) {
    var inductionVariable = 0;
    var last = this.i49_1.m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.i49_1.r(i)(ctx);
      }
       while (inductionVariable <= last);
  };
  RenderPass.prototype.i4t = function (ctx) {
    var inductionVariable = 0;
    var last = this.l49_1.m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.l49_1.r(i)(ctx);
      }
       while (inductionVariable <= last);
  };
  RenderPass.prototype.t4g = function (ctx) {
  };
  RenderPass.$metadata$ = classMeta('RenderPass');
  function ScreenRenderPass(scene) {
    RenderPass.call(this, scene);
    this.f4x_1 = scene;
    this.g4x_1 = true;
    this.j4s('onscreen/' + this.f4x_1.il());
    this.i4w(this.f4x_1.l2b_1);
  }
  ScreenRenderPass.prototype.p4s = function () {
    return this.f4x_1.m2b_1;
  };
  ScreenRenderPass.prototype.d4t = function (ctx) {
    if (this.g4x_1) {
      ctx.a2c(this.v4s());
    }
    RenderPass.prototype.d4t.call(this, ctx);
  };
  ScreenRenderPass.$metadata$ = classMeta('ScreenRenderPass', undefined, undefined, undefined, undefined, RenderPass.prototype);
  function Shader() {
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.s2t_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_0.t2t_1 = tmp$ret$1;
  }
  Shader.prototype.m2v = function (mesh, ctx) {
    var pipelineBuilder = new Builder_6();
    pipelineBuilder.d2k_1.f2q_1 = mesh.z2n_1.h2p_1;
    this.n2t(pipelineBuilder, mesh, ctx);
    var pipeline = pipelineBuilder.h4v();
    this.u2t(pipeline, mesh, ctx);
    return pipeline;
  };
  Shader.prototype.n2t = function (builder, mesh, ctx) {
    {
      var tmp0_forEach = this.s2t_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          element(builder, mesh, ctx);
        }
      }
    }
  };
  Shader.prototype.u2t = function (pipeline, mesh, ctx) {
    {
      var tmp0_forEach = this.t2t_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          element(pipeline, mesh, ctx);
        }
      }
    }
  };
  Shader.$metadata$ = classMeta('Shader');
  var ShaderStage_VERTEX_SHADER_instance;
  var ShaderStage_TESSELEATION_CTRL_instance;
  var ShaderStage_TESSELATION_EVAL_instance;
  var ShaderStage_GEOMETRY_SHADER_instance;
  var ShaderStage_FRAGMENT_SHADER_instance;
  var ShaderStage_ALL_instance;
  var ShaderStage_entriesInitialized;
  function ShaderStage_initEntries() {
    if (ShaderStage_entriesInitialized)
      return Unit_getInstance();
    ShaderStage_entriesInitialized = true;
    ShaderStage_VERTEX_SHADER_instance = new ShaderStage('VERTEX_SHADER', 0, 1);
    ShaderStage_TESSELEATION_CTRL_instance = new ShaderStage('TESSELEATION_CTRL', 1, 2);
    ShaderStage_TESSELATION_EVAL_instance = new ShaderStage('TESSELATION_EVAL', 2, 4);
    ShaderStage_GEOMETRY_SHADER_instance = new ShaderStage('GEOMETRY_SHADER', 3, 8);
    ShaderStage_FRAGMENT_SHADER_instance = new ShaderStage('FRAGMENT_SHADER', 4, 16);
    ShaderStage_ALL_instance = new ShaderStage('ALL', 5, -1);
  }
  function ShaderStage(name, ordinal, mask) {
    Enum.call(this, name, ordinal);
    this.j4x_1 = mask;
  }
  ShaderStage.$metadata$ = classMeta('ShaderStage', undefined, undefined, undefined, undefined, Enum.prototype);
  function ShaderStage_VERTEX_SHADER_getInstance() {
    ShaderStage_initEntries();
    return ShaderStage_VERTEX_SHADER_instance;
  }
  function ShaderStage_FRAGMENT_SHADER_getInstance() {
    ShaderStage_initEntries();
    return ShaderStage_FRAGMENT_SHADER_instance;
  }
  var TexFormat_R_instance;
  var TexFormat_RG_instance;
  var TexFormat_RGB_instance;
  var TexFormat_RGBA_instance;
  var TexFormat_R_F16_instance;
  var TexFormat_RG_F16_instance;
  var TexFormat_RGB_F16_instance;
  var TexFormat_RGBA_F16_instance;
  var TexFormat_entriesInitialized;
  function TexFormat_initEntries() {
    if (TexFormat_entriesInitialized)
      return Unit_getInstance();
    TexFormat_entriesInitialized = true;
    TexFormat_R_instance = new TexFormat('R', 0, 1, false, false);
    TexFormat_RG_instance = new TexFormat('RG', 1, 2, false, false);
    TexFormat_RGB_instance = new TexFormat('RGB', 2, 3, false, false);
    TexFormat_RGBA_instance = new TexFormat('RGBA', 3, 4, true, false);
    TexFormat_R_F16_instance = new TexFormat('R_F16', 4, 1, false, true);
    TexFormat_RG_F16_instance = new TexFormat('RG_F16', 5, 2, false, true);
    TexFormat_RGB_F16_instance = new TexFormat('RGB_F16', 6, 3, false, true);
    TexFormat_RGBA_F16_instance = new TexFormat('RGBA_F16', 7, 4, true, true);
  }
  function TexFormat(name, ordinal, channels, hasAlpha, isFloat) {
    Enum.call(this, name, ordinal);
    this.m4x_1 = channels;
    this.n4x_1 = hasAlpha;
    this.o4x_1 = isFloat;
  }
  TexFormat.$metadata$ = classMeta('TexFormat', undefined, undefined, undefined, undefined, Enum.prototype);
  function TexFormat_R_getInstance() {
    TexFormat_initEntries();
    return TexFormat_R_instance;
  }
  function TexFormat_RGBA_getInstance() {
    TexFormat_initEntries();
    return TexFormat_RGBA_instance;
  }
  function TexFormat_RG_F16_getInstance() {
    TexFormat_initEntries();
    return TexFormat_RG_F16_instance;
  }
  function TextureProps_init_$Init$(format, addressModeU, addressModeV, addressModeW, minFilter, magFilter, mipMapping, maxAnisotropy, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0))
      format = TexFormat_RGBA_getInstance();
    if (!(($mask0 & 2) === 0))
      addressModeU = AddressMode_REPEAT_getInstance();
    if (!(($mask0 & 4) === 0))
      addressModeV = AddressMode_REPEAT_getInstance();
    if (!(($mask0 & 8) === 0))
      addressModeW = AddressMode_REPEAT_getInstance();
    if (!(($mask0 & 16) === 0))
      minFilter = FilterMethod_LINEAR_getInstance();
    if (!(($mask0 & 32) === 0))
      magFilter = FilterMethod_LINEAR_getInstance();
    if (!(($mask0 & 64) === 0))
      mipMapping = true;
    if (!(($mask0 & 128) === 0))
      maxAnisotropy = 4;
    TextureProps.call($this, format, addressModeU, addressModeV, addressModeW, minFilter, magFilter, mipMapping, maxAnisotropy);
    return $this;
  }
  function TextureProps_init_$Create$(format, addressModeU, addressModeV, addressModeW, minFilter, magFilter, mipMapping, maxAnisotropy, $mask0, $marker) {
    return TextureProps_init_$Init$(format, addressModeU, addressModeV, addressModeW, minFilter, magFilter, mipMapping, maxAnisotropy, $mask0, $marker, Object.create(TextureProps.prototype));
  }
  function TextureProps(format, addressModeU, addressModeV, addressModeW, minFilter, magFilter, mipMapping, maxAnisotropy) {
    this.p4x_1 = format;
    this.q4x_1 = addressModeU;
    this.r4x_1 = addressModeV;
    this.s4x_1 = addressModeW;
    this.t4x_1 = minFilter;
    this.u4x_1 = magFilter;
    this.v4x_1 = mipMapping;
    this.w4x_1 = maxAnisotropy;
  }
  TextureProps.prototype.toString = function () {
    return 'TextureProps(format=' + this.p4x_1 + ', addressModeU=' + this.q4x_1 + ', addressModeV=' + this.r4x_1 + ', addressModeW=' + this.s4x_1 + ', minFilter=' + this.t4x_1 + ', magFilter=' + this.u4x_1 + ', mipMapping=' + this.v4x_1 + ', maxAnisotropy=' + this.w4x_1 + ')';
  };
  TextureProps.prototype.hashCode = function () {
    var result = this.p4x_1.hashCode();
    result = imul(result, 31) + this.q4x_1.hashCode() | 0;
    result = imul(result, 31) + this.r4x_1.hashCode() | 0;
    result = imul(result, 31) + this.s4x_1.hashCode() | 0;
    result = imul(result, 31) + this.t4x_1.hashCode() | 0;
    result = imul(result, 31) + this.u4x_1.hashCode() | 0;
    result = imul(result, 31) + (this.v4x_1 | 0) | 0;
    result = imul(result, 31) + this.w4x_1 | 0;
    return result;
  };
  TextureProps.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof TextureProps))
      return false;
    var tmp0_other_with_cast = other instanceof TextureProps ? other : THROW_CCE();
    if (!this.p4x_1.equals(tmp0_other_with_cast.p4x_1))
      return false;
    if (!this.q4x_1.equals(tmp0_other_with_cast.q4x_1))
      return false;
    if (!this.r4x_1.equals(tmp0_other_with_cast.r4x_1))
      return false;
    if (!this.s4x_1.equals(tmp0_other_with_cast.s4x_1))
      return false;
    if (!this.t4x_1.equals(tmp0_other_with_cast.t4x_1))
      return false;
    if (!this.u4x_1.equals(tmp0_other_with_cast.u4x_1))
      return false;
    if (!(this.v4x_1 === tmp0_other_with_cast.v4x_1))
      return false;
    if (!(this.w4x_1 === tmp0_other_with_cast.w4x_1))
      return false;
    return true;
  };
  TextureProps.$metadata$ = classMeta('TextureProps');
  var AddressMode_CLAMP_TO_EDGE_instance;
  var AddressMode_MIRRORED_REPEAT_instance;
  var AddressMode_REPEAT_instance;
  var AddressMode_entriesInitialized;
  function AddressMode_initEntries() {
    if (AddressMode_entriesInitialized)
      return Unit_getInstance();
    AddressMode_entriesInitialized = true;
    AddressMode_CLAMP_TO_EDGE_instance = new AddressMode('CLAMP_TO_EDGE', 0);
    AddressMode_MIRRORED_REPEAT_instance = new AddressMode('MIRRORED_REPEAT', 1);
    AddressMode_REPEAT_instance = new AddressMode('REPEAT', 2);
  }
  function AddressMode(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  AddressMode.$metadata$ = classMeta('AddressMode', undefined, undefined, undefined, undefined, Enum.prototype);
  var FilterMethod_NEAREST_instance;
  var FilterMethod_LINEAR_instance;
  var FilterMethod_entriesInitialized;
  function FilterMethod_initEntries() {
    if (FilterMethod_entriesInitialized)
      return Unit_getInstance();
    FilterMethod_entriesInitialized = true;
    FilterMethod_NEAREST_instance = new FilterMethod('NEAREST', 0);
    FilterMethod_LINEAR_instance = new FilterMethod('LINEAR', 1);
  }
  function FilterMethod(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  FilterMethod.$metadata$ = classMeta('FilterMethod', undefined, undefined, undefined, undefined, Enum.prototype);
  function Texture2d_init_$Init$(props, name, loader, $this) {
    var tmp0_safe_receiver = loader;
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        var tmp$ret$0;
        {
          tmp$ret$0 = new AsyncTextureLoader(tmp0_safe_receiver);
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp = tmp$ret$1;
    }
    Texture2d.call($this, props, name, tmp);
    return $this;
  }
  function Texture2d_init_$Create$(props, name, loader) {
    return Texture2d_init_$Init$(props, name, loader, Object.create(Texture2d.prototype));
  }
  function Texture2d_init_$Init$_0(props, name, loader, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0)) {
      props = TextureProps_init_$Create$(null, null, null, null, null, null, false, 0, 255, null);
    }
    if (!(($mask0 & 2) === 0))
      name = null;
    if (!(($mask0 & 4) === 0))
      loader = null;
    Texture2d_init_$Init$(props, name, loader, $this);
    return $this;
  }
  function Texture2d_init_$Create$_0(props, name, loader, $mask0, $marker) {
    return Texture2d_init_$Init$_0(props, name, loader, $mask0, $marker, Object.create(Texture2d.prototype));
  }
  function Texture2d_init_$Init$_1(props, data, name, $this) {
    Texture2d.call($this, props, name, new BufferedTextureLoader(data));
    return $this;
  }
  function Texture2d_init_$Init$_2(props, data, name, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0)) {
      props = TextureProps_init_$Create$(null, null, null, null, null, null, false, 0, 255, null);
    }
    if (!(($mask0 & 4) === 0))
      name = null;
    Texture2d_init_$Init$_1(props, data, name, $this);
    return $this;
  }
  function Texture2d_init_$Create$_1(props, data, name, $mask0, $marker) {
    return Texture2d_init_$Init$_2(props, data, name, $mask0, $marker, Object.create(Texture2d.prototype));
  }
  function Texture2d(props, name, loader) {
    Texture.call(this, props, name, loader);
    this.c4y_1 = '2D';
  }
  Texture2d.prototype.r4l = function () {
    return this.c4y_1;
  };
  Texture2d.$metadata$ = classMeta('Texture2d', undefined, undefined, undefined, undefined, Texture.prototype);
  function Companion_31() {
    Companion_instance_31 = this;
  }
  Companion_31.prototype.h4y = function (color) {
    var buf = createUint8Buffer(4);
    var tmp$ret$0;
    {
      var tmp0_roundToInt = color.a3t() * 255.0;
      tmp$ret$0 = roundToInt(tmp0_roundToInt);
    }
    buf.i4y(0, toByte(tmp$ret$0));
    var tmp$ret$1;
    {
      var tmp1_roundToInt = color.b3t() * 255.0;
      tmp$ret$1 = roundToInt(tmp1_roundToInt);
    }
    buf.i4y(1, toByte(tmp$ret$1));
    var tmp$ret$2;
    {
      var tmp2_roundToInt = color.c3t() * 255.0;
      tmp$ret$2 = roundToInt(tmp2_roundToInt);
    }
    buf.i4y(2, toByte(tmp$ret$2));
    var tmp$ret$3;
    {
      var tmp3_roundToInt = color.d3t() * 255.0;
      tmp$ret$3 = roundToInt(tmp3_roundToInt);
    }
    buf.i4y(3, toByte(tmp$ret$3));
    return new TextureData2d(buf, 1, 1, TexFormat_RGBA_getInstance());
  };
  Companion_31.$metadata$ = objectMeta('Companion');
  var Companion_instance_31;
  function Companion_getInstance_31() {
    if (Companion_instance_31 == null)
      new Companion_31();
    return Companion_instance_31;
  }
  function TextureData2d(data, width, height, format) {
    Companion_getInstance_31();
    TextureData.call(this);
    this.n4y_1 = data;
    this.o4y(width);
    this.p4y(height);
    this.q4y(1);
    this.r4y(format);
  }
  TextureData2d.prototype.s4y = function () {
    return this.n4y_1;
  };
  TextureData2d.$metadata$ = classMeta('TextureData2d', undefined, undefined, undefined, undefined, TextureData.prototype);
  function TextureData() {
    this.x1w_1 = 0;
    this.y1w_1 = 0;
    this.z1w_1 = 0;
    this.a1x_1 = TexFormat_RGBA_getInstance();
  }
  TextureData.prototype.o4y = function (_set____db54di) {
    this.x1w_1 = _set____db54di;
  };
  TextureData.prototype.y3u = function () {
    return this.x1w_1;
  };
  TextureData.prototype.p4y = function (_set____db54di) {
    this.y1w_1 = _set____db54di;
  };
  TextureData.prototype.z3u = function () {
    return this.y1w_1;
  };
  TextureData.prototype.q4y = function (_set____db54di) {
    this.z1w_1 = _set____db54di;
  };
  TextureData.prototype.t4y = function () {
    return this.z1w_1;
  };
  TextureData.prototype.r4y = function (_set____db54di) {
    this.a1x_1 = _set____db54di;
  };
  TextureData.$metadata$ = classMeta('TextureData');
  var LoadingState_NOT_LOADED_instance;
  var LoadingState_LOADING_instance;
  var LoadingState_LOADED_instance;
  var LoadingState_LOADING_FAILED_instance;
  var LoadingState_entriesInitialized;
  function LoadingState_initEntries() {
    if (LoadingState_entriesInitialized)
      return Unit_getInstance();
    LoadingState_entriesInitialized = true;
    LoadingState_NOT_LOADED_instance = new LoadingState('NOT_LOADED', 0);
    LoadingState_LOADING_instance = new LoadingState('LOADING', 1);
    LoadingState_LOADED_instance = new LoadingState('LOADED', 2);
    LoadingState_LOADING_FAILED_instance = new LoadingState('LOADING_FAILED', 3);
  }
  function LoadingState(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  LoadingState.$metadata$ = classMeta('LoadingState', undefined, undefined, undefined, undefined, Enum.prototype);
  function Companion_32() {
    Companion_instance_32 = this;
  }
  Companion_32.prototype.u4y = function (width, height, layers, mipLevels, bytesPerPx) {
    var mipFac = 1.0;
    var mipAdd = 0.25;
    var inductionVariable = 2;
    if (inductionVariable <= mipLevels)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        mipFac = mipFac + mipAdd;
        mipAdd = mipAdd * 0.25;
      }
       while (!(i === mipLevels));
    return roundToInt(imul(imul(imul(width, height), layers), bytesPerPx) * mipFac);
  };
  Companion_32.$metadata$ = objectMeta('Companion');
  var Companion_instance_32;
  function Companion_getInstance_32() {
    if (Companion_instance_32 == null)
      new Companion_32();
    return Companion_instance_32;
  }
  function LoadingState_NOT_LOADED_getInstance() {
    LoadingState_initEntries();
    return LoadingState_NOT_LOADED_instance;
  }
  function LoadingState_LOADED_getInstance() {
    LoadingState_initEntries();
    return LoadingState_LOADED_instance;
  }
  function LoadingState_LOADING_FAILED_getInstance() {
    LoadingState_initEntries();
    return LoadingState_LOADING_FAILED_instance;
  }
  function Texture(props, name, loader) {
    Companion_getInstance_32();
    this.j4t_1 = props;
    this.k4t_1 = name;
    this.l4t_1 = loader;
    this.m4t_1 = null;
    this.n4t_1 = LoadingState_NOT_LOADED_getInstance();
  }
  Texture.prototype.s4l = function () {
    return this.j4t_1;
  };
  Texture.prototype.d4y = function (_set____db54di) {
    this.m4t_1 = _set____db54di;
  };
  Texture.prototype.e4y = function () {
    return this.m4t_1;
  };
  Texture.prototype.f4y = function (_set____db54di) {
    this.n4t_1 = _set____db54di;
  };
  Texture.prototype.g4y = function () {
    return this.n4t_1;
  };
  Texture.prototype.n1a = function () {
    var tmp0_safe_receiver = this.m4t_1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      tmp0_safe_receiver.n1a();
    }
    this.m4t_1 = null;
    this.n4t_1 = LoadingState_NOT_LOADED_getInstance();
  };
  Texture.prototype.toString = function () {
    return 'Texture' + this.r4l() + '(name: ' + this.k4t_1 + ')';
  };
  Texture.$metadata$ = classMeta('Texture');
  function TextureDataCube() {
  }
  TextureDataCube.$metadata$ = classMeta('TextureDataCube', undefined, undefined, undefined, undefined, TextureData.prototype);
  function TextureCube() {
  }
  TextureCube.$metadata$ = classMeta('TextureCube', undefined, undefined, undefined, undefined, Texture.prototype);
  function Texture1d() {
  }
  Texture1d.$metadata$ = classMeta('Texture1d', undefined, undefined, undefined, undefined, Texture.prototype);
  function Texture3d() {
  }
  Texture3d.$metadata$ = classMeta('Texture3d', undefined, undefined, undefined, undefined, Texture.prototype);
  function getColorTextureData($this, color) {
    var tmp$ret$1;
    {
      var tmp0_getOrPut = $this.v4y_1;
      var value = tmp0_getOrPut.z2(color);
      var tmp;
      if (value == null) {
        var tmp$ret$0;
        {
          tmp$ret$0 = Companion_getInstance_31().h4y(color);
        }
        var answer = tmp$ret$0;
        tmp0_getOrPut.a(color, answer);
        tmp = answer;
      } else {
        tmp = value;
      }
      tmp$ret$1 = tmp;
    }
    return tmp$ret$1;
  }
  function Companion_33() {
    Companion_instance_33 = this;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.v4y_1 = tmp$ret$0;
  }
  Companion_33.$metadata$ = objectMeta('Companion');
  var Companion_instance_33;
  function Companion_getInstance_33() {
    if (Companion_instance_33 == null)
      new Companion_33();
    return Companion_instance_33;
  }
  function SingleColorTexture(color) {
    Companion_getInstance_33();
    Texture2d.call(this, TextureProps_init_$Create$(null, null, null, null, FilterMethod_NEAREST_getInstance(), FilterMethod_NEAREST_getInstance(), false, 1, 15, null), color.toString(), new BufferedTextureLoader(getColorTextureData(Companion_getInstance_33(), color)));
    this.c4z_1 = 'SingleColor';
  }
  SingleColorTexture.prototype.r4l = function () {
    return this.c4z_1;
  };
  SingleColorTexture.$metadata$ = classMeta('SingleColorTexture', undefined, undefined, undefined, undefined, Texture2d.prototype);
  function TextureData1d() {
  }
  TextureData1d.$metadata$ = classMeta('TextureData1d', undefined, undefined, undefined, undefined, TextureData.prototype);
  function TextureData3d() {
  }
  TextureData3d.$metadata$ = classMeta('TextureData3d', undefined, undefined, undefined, undefined, TextureData.prototype);
  function AddressMode_CLAMP_TO_EDGE_getInstance() {
    AddressMode_initEntries();
    return AddressMode_CLAMP_TO_EDGE_instance;
  }
  function AddressMode_REPEAT_getInstance() {
    AddressMode_initEntries();
    return AddressMode_REPEAT_instance;
  }
  function FilterMethod_NEAREST_getInstance() {
    FilterMethod_initEntries();
    return FilterMethod_NEAREST_instance;
  }
  function FilterMethod_LINEAR_getInstance() {
    FilterMethod_initEntries();
    return FilterMethod_LINEAR_instance;
  }
  function TextureLoader() {
  }
  TextureLoader.$metadata$ = classMeta('TextureLoader');
  function AsyncTextureLoader$loadTextureDataAsync$slambda(this$0, $ctx, resultContinuation) {
    this.l4z_1 = this$0;
    this.m4z_1 = $ctx;
    CoroutineImpl.call(this, resultContinuation);
  }
  AsyncTextureLoader$loadTextureDataAsync$slambda.prototype.o4z = function ($this$async, $cont) {
    var tmp = this.e1v($this$async, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  AsyncTextureLoader$loadTextureDataAsync$slambda.prototype.s7 = function (p1, $cont) {
    return this.o4z((!(p1 == null) ? isInterface(p1, CoroutineScope) : false) ? p1 : THROW_CCE(), $cont);
  };
  AsyncTextureLoader$loadTextureDataAsync$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 2;
            this.k7_1 = 1;
            suspendResult = this.l4z_1.p4z_1(this.n4z_1, this.m4z_1.j2a(), this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            return suspendResult;
          case 2:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 2) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  AsyncTextureLoader$loadTextureDataAsync$slambda.prototype.e1v = function ($this$async, completion) {
    var i = new AsyncTextureLoader$loadTextureDataAsync$slambda(this.l4z_1, this.m4z_1, completion);
    i.n4z_1 = $this$async;
    return i;
  };
  AsyncTextureLoader$loadTextureDataAsync$slambda.$metadata$ = classMeta('AsyncTextureLoader$loadTextureDataAsync$slambda', undefined, undefined, undefined, [1], CoroutineImpl.prototype);
  function AsyncTextureLoader$loadTextureDataAsync$slambda_0(this$0, $ctx, resultContinuation) {
    var i = new AsyncTextureLoader$loadTextureDataAsync$slambda(this$0, $ctx, resultContinuation);
    var l = function ($this$async, $cont) {
      return i.o4z($this$async, $cont);
    };
    l.$arity = 1;
    return l;
  }
  function AsyncTextureLoader(loader) {
    TextureLoader.call(this);
    this.p4z_1 = loader;
    this.q4z_1 = null;
  }
  AsyncTextureLoader.prototype.r4z = function (ctx) {
    var tmp0_elvis_lhs = this.q4z_1;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      var tmp_0 = ctx.j2a();
      tmp = async$default(tmp_0, null, null, AsyncTextureLoader$loadTextureDataAsync$slambda_0(this, ctx, null), 3, null);
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var def = tmp;
    if (this.q4z_1 == null) {
      this.q4z_1 = def;
    }
    return def;
  };
  AsyncTextureLoader.$metadata$ = classMeta('AsyncTextureLoader', undefined, undefined, undefined, undefined, TextureLoader.prototype);
  function BufferedTextureLoader(data) {
    TextureLoader.call(this);
    this.s4z_1 = data;
  }
  BufferedTextureLoader.$metadata$ = classMeta('BufferedTextureLoader', undefined, undefined, undefined, undefined, TextureLoader.prototype);
  function SyncTextureLoader(loader) {
    TextureLoader.call(this);
    this.t4z_1 = loader;
  }
  SyncTextureLoader.prototype.u4z = function (ctx) {
    return this.t4z_1(ctx);
  };
  SyncTextureLoader.$metadata$ = classMeta('SyncTextureLoader', undefined, undefined, undefined, undefined, TextureLoader.prototype);
  function Uniform_init_$Init$(value, name, length, $mask0, $marker, $this) {
    if (!(($mask0 & 4) === 0))
      length = 1;
    Uniform.call($this, value, name, length);
    return $this;
  }
  function Uniform(value, name, length) {
    this.f2r_1 = value;
    this.g2r_1 = name;
    this.h2r_1 = length;
  }
  Uniform.prototype.i2r = function (_set____db54di) {
    this.f2r_1 = _set____db54di;
  };
  Uniform.prototype.l2 = function () {
    return this.f2r_1;
  };
  Uniform.prototype.il = function () {
    return this.g2r_1;
  };
  Uniform.prototype.kd = function () {
    return this.h2r_1;
  };
  Uniform.prototype.v4z = function (minRequired, available) {
    if (available < minRequired) {
      {
        var tmp0_error = 'Insufficient buffer space: ' + minRequired + ' > ' + available;
        throw IllegalStateException_init_$Create$(toString(tmp0_error));
      }
    }
  };
  Uniform.prototype.w4z = function (buffer, padLen) {
    if (padLen > 0) {
      buffer.x4z(padLen);
    }
  };
  Uniform.prototype.toString = function () {
    return this.g2r_1;
  };
  Uniform.$metadata$ = classMeta('Uniform');
  function Uniform1f(name) {
    Uniform_init_$Init$(0.0, name, 0, 4, null, this);
  }
  Uniform1f.prototype.e4m = function (buffer, len) {
    this.v4z(4, len);
    buffer.b50(this.l2());
    this.w4z(buffer, len - 4 | 0);
  };
  Uniform1f.$metadata$ = classMeta('Uniform1f', undefined, undefined, undefined, undefined, Uniform.prototype);
  function Uniform2f(name) {
    var tmp = MutableVec2f_init_$Create$();
    Uniform_init_$Init$(tmp, name, 0, 4, null, this);
  }
  Uniform2f.prototype.e4m = function (buffer, len) {
    this.v4z(8, len);
    buffer.f50(this.l2().p2f());
    this.w4z(buffer, len - 8 | 0);
  };
  Uniform2f.$metadata$ = classMeta('Uniform2f', undefined, undefined, undefined, undefined, Uniform.prototype);
  function Uniform3f(name) {
    var tmp = MutableVec3f_init_$Create$();
    Uniform_init_$Init$(tmp, name, 0, 4, null, this);
  }
  Uniform3f.prototype.e4m = function (buffer, len) {
    this.v4z(12, len);
    buffer.f50(this.l2().p2f());
    this.w4z(buffer, len - 12 | 0);
  };
  Uniform3f.$metadata$ = classMeta('Uniform3f', undefined, undefined, undefined, undefined, Uniform.prototype);
  function Uniform4f(name) {
    var tmp = MutableVec4f_init_$Create$();
    Uniform_init_$Init$(tmp, name, 0, 4, null, this);
  }
  Uniform4f.prototype.e4m = function (buffer, len) {
    this.v4z(16, len);
    buffer.f50(this.l2().p2f());
    this.w4z(buffer, len - 16 | 0);
  };
  Uniform4f.$metadata$ = classMeta('Uniform4f', undefined, undefined, undefined, undefined, Uniform.prototype);
  function Uniform1i(name) {
    Uniform_init_$Init$(0, name, 0, 4, null, this);
  }
  Uniform1i.prototype.e4m = function (buffer, len) {
    this.v4z(4, len);
    buffer.p50(this.l2());
    this.w4z(buffer, len - 4 | 0);
  };
  Uniform1i.$metadata$ = classMeta('Uniform1i', undefined, undefined, undefined, undefined, Uniform.prototype);
  function Uniform2i(name) {
    var tmp = MutableVec2i_init_$Create$();
    Uniform_init_$Init$(tmp, name, 0, 4, null, this);
  }
  Uniform2i.prototype.e4m = function (buffer, len) {
    this.v4z(8, len);
    buffer.t50(this.l2().p2f());
    this.w4z(buffer, len - 8 | 0);
  };
  Uniform2i.$metadata$ = classMeta('Uniform2i', undefined, undefined, undefined, undefined, Uniform.prototype);
  function Uniform3i(name) {
    var tmp = MutableVec3i_init_$Create$();
    Uniform_init_$Init$(tmp, name, 0, 4, null, this);
  }
  Uniform3i.prototype.e4m = function (buffer, len) {
    this.v4z(12, len);
    buffer.t50(this.l2().p2f());
    this.w4z(buffer, len - 12 | 0);
  };
  Uniform3i.$metadata$ = classMeta('Uniform3i', undefined, undefined, undefined, undefined, Uniform.prototype);
  function Uniform4i(name) {
    var tmp = MutableVec4i_init_$Create$();
    Uniform_init_$Init$(tmp, name, 0, 4, null, this);
  }
  Uniform4i.prototype.e4m = function (buffer, len) {
    this.v4z(16, len);
    buffer.t50(this.l2().p2f());
    this.w4z(buffer, len - 16 | 0);
  };
  Uniform4i.$metadata$ = classMeta('Uniform4i', undefined, undefined, undefined, undefined, Uniform.prototype);
  function UniformMat3f(name) {
    var tmp = new Mat3f();
    Uniform_init_$Init$(tmp, name, 0, 4, null, this);
  }
  UniformMat3f.prototype.e4m = function (buffer, len) {
    this.v4z(36, len);
    var padLen = (len - 36 | 0) / 3 | 0;
    var inductionVariable = 0;
    if (inductionVariable <= 2)
      do {
        var m = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        buffer.d51(this.l2().g2d_1, imul(m, 3), 3);
        this.w4z(buffer, padLen);
      }
       while (inductionVariable <= 2);
  };
  UniformMat3f.$metadata$ = classMeta('UniformMat3f', undefined, undefined, undefined, undefined, Uniform.prototype);
  function UniformMat4f(name) {
    var tmp = new Mat4f();
    Uniform_init_$Init$(tmp, name, 0, 4, null, this);
  }
  UniformMat4f.prototype.e4m = function (buffer, len) {
    this.v4z(64, len);
    buffer.f50(this.l2().h2e_1);
  };
  UniformMat4f.$metadata$ = classMeta('UniformMat4f', undefined, undefined, undefined, undefined, Uniform.prototype);
  function Uniform1fv(name, length) {
    Uniform.call(this, new Float32Array(length), name, length);
  }
  Uniform1fv.prototype.e4m = function (buffer, len) {
    this.v4z(imul(4, this.kd()), len);
    var padLen = (len - imul(4, this.kd()) | 0) / this.kd() | 0;
    var inductionVariable = 0;
    var last = this.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        buffer.b50(this.l2()[i]);
        this.w4z(buffer, padLen);
      }
       while (inductionVariable < last);
  };
  Uniform1fv.$metadata$ = classMeta('Uniform1fv', undefined, undefined, undefined, undefined, Uniform.prototype);
  function Uniform2fv(name, length) {
    var tmp = 0;
    var tmp_0 = length;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_0), null);
    }
    var tmp_1 = tmp$ret$0;
    while (tmp < tmp_0) {
      var tmp_2 = tmp;
      var tmp$ret$1;
      {
        tmp$ret$1 = MutableVec2f_init_$Create$();
      }
      tmp_1[tmp_2] = tmp$ret$1;
      tmp = tmp + 1 | 0;
    }
    Uniform.call(this, tmp_1, name, length);
  }
  Uniform2fv.prototype.e4m = function (buffer, len) {
    this.v4z(imul(8, this.kd()), len);
    var padLen = (len - imul(8, this.kd()) | 0) / this.kd() | 0;
    var inductionVariable = 0;
    var last = this.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        buffer.f50(this.l2()[i].p2f());
        this.w4z(buffer, padLen);
      }
       while (inductionVariable < last);
  };
  Uniform2fv.$metadata$ = classMeta('Uniform2fv', undefined, undefined, undefined, undefined, Uniform.prototype);
  function Uniform3fv(name, length) {
    var tmp = 0;
    var tmp_0 = length;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_0), null);
    }
    var tmp_1 = tmp$ret$0;
    while (tmp < tmp_0) {
      var tmp_2 = tmp;
      var tmp$ret$1;
      {
        tmp$ret$1 = MutableVec3f_init_$Create$();
      }
      tmp_1[tmp_2] = tmp$ret$1;
      tmp = tmp + 1 | 0;
    }
    Uniform.call(this, tmp_1, name, length);
  }
  Uniform3fv.prototype.e4m = function (buffer, len) {
    this.v4z(imul(12, this.kd()), len);
    var padLen = (len - imul(12, this.kd()) | 0) / this.kd() | 0;
    var inductionVariable = 0;
    var last = this.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        buffer.f50(this.l2()[i].p2f());
        this.w4z(buffer, padLen);
      }
       while (inductionVariable < last);
  };
  Uniform3fv.$metadata$ = classMeta('Uniform3fv', undefined, undefined, undefined, undefined, Uniform.prototype);
  function Uniform4fv(name, length) {
    var tmp = 0;
    var tmp_0 = length;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_0), null);
    }
    var tmp_1 = tmp$ret$0;
    while (tmp < tmp_0) {
      var tmp_2 = tmp;
      var tmp$ret$1;
      {
        tmp$ret$1 = MutableVec4f_init_$Create$();
      }
      tmp_1[tmp_2] = tmp$ret$1;
      tmp = tmp + 1 | 0;
    }
    Uniform.call(this, tmp_1, name, length);
  }
  Uniform4fv.prototype.e4m = function (buffer, len) {
    this.v4z(imul(16, this.kd()), len);
    var inductionVariable = 0;
    var last = this.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        buffer.f50(this.l2()[i].p2f());
      }
       while (inductionVariable < last);
  };
  Uniform4fv.$metadata$ = classMeta('Uniform4fv', undefined, undefined, undefined, undefined, Uniform.prototype);
  function Uniform1iv(name, length) {
    Uniform.call(this, new Int32Array(length), name, length);
  }
  Uniform1iv.prototype.e4m = function (buffer, len) {
    this.v4z(imul(4, this.kd()), len);
    var padLen = (len - imul(4, this.kd()) | 0) / this.kd() | 0;
    var inductionVariable = 0;
    var last = this.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        buffer.p50(this.l2()[i]);
        this.w4z(buffer, padLen);
      }
       while (inductionVariable < last);
  };
  Uniform1iv.$metadata$ = classMeta('Uniform1iv', undefined, undefined, undefined, undefined, Uniform.prototype);
  function Uniform2iv(name, length) {
    var tmp = 0;
    var tmp_0 = length;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_0), null);
    }
    var tmp_1 = tmp$ret$0;
    while (tmp < tmp_0) {
      var tmp_2 = tmp;
      var tmp$ret$1;
      {
        tmp$ret$1 = MutableVec2i_init_$Create$();
      }
      tmp_1[tmp_2] = tmp$ret$1;
      tmp = tmp + 1 | 0;
    }
    Uniform.call(this, tmp_1, name, length);
  }
  Uniform2iv.prototype.e4m = function (buffer, len) {
    this.v4z(imul(8, this.kd()), len);
    var padLen = (len - imul(8, this.kd()) | 0) / this.kd() | 0;
    var inductionVariable = 0;
    var last = this.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        buffer.t50(this.l2()[i].p2f());
        this.w4z(buffer, padLen);
      }
       while (inductionVariable < last);
  };
  Uniform2iv.$metadata$ = classMeta('Uniform2iv', undefined, undefined, undefined, undefined, Uniform.prototype);
  function Uniform3iv(name, length) {
    var tmp = 0;
    var tmp_0 = length;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_0), null);
    }
    var tmp_1 = tmp$ret$0;
    while (tmp < tmp_0) {
      var tmp_2 = tmp;
      var tmp$ret$1;
      {
        tmp$ret$1 = MutableVec3i_init_$Create$();
      }
      tmp_1[tmp_2] = tmp$ret$1;
      tmp = tmp + 1 | 0;
    }
    Uniform.call(this, tmp_1, name, length);
  }
  Uniform3iv.prototype.e4m = function (buffer, len) {
    this.v4z(imul(12, this.kd()), len);
    var padLen = (len - imul(12, this.kd()) | 0) / this.kd() | 0;
    var inductionVariable = 0;
    var last = this.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        buffer.t50(this.l2()[i].p2f());
        this.w4z(buffer, padLen);
      }
       while (inductionVariable < last);
  };
  Uniform3iv.$metadata$ = classMeta('Uniform3iv', undefined, undefined, undefined, undefined, Uniform.prototype);
  function Uniform4iv(name, length) {
    var tmp = 0;
    var tmp_0 = length;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_0), null);
    }
    var tmp_1 = tmp$ret$0;
    while (tmp < tmp_0) {
      var tmp_2 = tmp;
      var tmp$ret$1;
      {
        tmp$ret$1 = MutableVec4i_init_$Create$();
      }
      tmp_1[tmp_2] = tmp$ret$1;
      tmp = tmp + 1 | 0;
    }
    Uniform.call(this, tmp_1, name, length);
  }
  Uniform4iv.prototype.e4m = function (buffer, len) {
    this.v4z(imul(16, this.kd()), len);
    var inductionVariable = 0;
    var last = this.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        buffer.t50(this.l2()[i].p2f());
      }
       while (inductionVariable < last);
  };
  Uniform4iv.$metadata$ = classMeta('Uniform4iv', undefined, undefined, undefined, undefined, Uniform.prototype);
  function UniformMat3fv(name, length) {
    var tmp = 0;
    var tmp_0 = length;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_0), null);
    }
    var tmp_1 = tmp$ret$0;
    while (tmp < tmp_0) {
      var tmp_2 = tmp;
      var tmp$ret$1;
      {
        tmp$ret$1 = new Mat3f();
      }
      tmp_1[tmp_2] = tmp$ret$1;
      tmp = tmp + 1 | 0;
    }
    Uniform.call(this, tmp_1, name, length);
  }
  UniformMat3fv.prototype.e4m = function (buffer, len) {
    this.v4z(imul(36, this.kd()), len);
    var padLen = (len - imul(36, this.kd()) | 0) / imul(3, this.kd()) | 0;
    var inductionVariable = 0;
    var last = this.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var inductionVariable_0 = 0;
        if (inductionVariable_0 <= 2)
          do {
            var m = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            buffer.d51(this.l2()[i].g2d_1, imul(m, 3), 3);
            this.w4z(buffer, padLen);
          }
           while (inductionVariable_0 <= 2);
      }
       while (inductionVariable < last);
  };
  UniformMat3fv.$metadata$ = classMeta('UniformMat3fv', undefined, undefined, undefined, undefined, Uniform.prototype);
  function UniformMat4fv(name, length) {
    var tmp = 0;
    var tmp_0 = length;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_0), null);
    }
    var tmp_1 = tmp$ret$0;
    while (tmp < tmp_0) {
      var tmp_2 = tmp;
      var tmp$ret$1;
      {
        tmp$ret$1 = new Mat4f();
      }
      tmp_1[tmp_2] = tmp$ret$1;
      tmp = tmp + 1 | 0;
    }
    Uniform.call(this, tmp_1, name, length);
  }
  UniformMat4fv.prototype.e4m = function (buffer, len) {
    this.v4z(imul(64, this.kd()), len);
    var inductionVariable = 0;
    var last = this.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        buffer.f50(this.l2()[i].h2e_1);
      }
       while (inductionVariable < last);
  };
  UniformMat4fv.$metadata$ = classMeta('UniformMat4fv', undefined, undefined, undefined, undefined, Uniform.prototype);
  function UniformColor_0() {
  }
  UniformColor_0.$metadata$ = classMeta('UniformColor', undefined, undefined, undefined, undefined, Uniform.prototype);
  function Binding(binding, inputRate, vertexAttributes, strideBytes) {
    this.l52_1 = binding;
    this.m52_1 = inputRate;
    this.n52_1 = vertexAttributes;
    this.o52_1 = strideBytes;
    var tmp$ret$2;
    {
      var tmp0_toULong = this.l52_1;
      tmp$ret$2 = _ULong___init__impl__c78o9k(toLong(tmp0_toULong));
    }
    var hash = tmp$ret$2;
    var tmp$ret$5;
    {
      var tmp$ret$3;
      {
        var tmp1_times = hash;
        tmp$ret$3 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp1_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
      }
      var tmp3_plus = tmp$ret$3;
      var tmp$ret$4;
      {
        var tmp2_toULong = this.m52_1.hashCode();
        tmp$ret$4 = _ULong___init__impl__c78o9k(toLong(tmp2_toULong));
      }
      var tmp4_plus = tmp$ret$4;
      tmp$ret$5 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp3_plus).ka(_ULong___get_data__impl__fggpzb(tmp4_plus)));
    }
    hash = tmp$ret$5;
    var tmp$ret$8;
    {
      var tmp$ret$6;
      {
        var tmp5_times = hash;
        tmp$ret$6 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp5_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
      }
      var tmp7_plus = tmp$ret$6;
      var tmp$ret$7;
      {
        var tmp6_toULong = this.o52_1;
        tmp$ret$7 = _ULong___init__impl__c78o9k(toLong(tmp6_toULong));
      }
      var tmp8_plus = tmp$ret$7;
      tmp$ret$8 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp7_plus).ka(_ULong___get_data__impl__fggpzb(tmp8_plus)));
    }
    hash = tmp$ret$8;
    {
      var tmp9_forEach = this.n52_1;
      var tmp0_iterator = tmp9_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var tmp$ret$11;
          {
            var tmp$ret$9;
            {
              var tmp0_times = hash;
              tmp$ret$9 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp0_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
            }
            var tmp2_plus = tmp$ret$9;
            var tmp$ret$10;
            {
              var tmp1_toULong = element.hashCode();
              tmp$ret$10 = _ULong___init__impl__c78o9k(toLong(tmp1_toULong));
            }
            var tmp3_plus_0 = tmp$ret$10;
            tmp$ret$11 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp2_plus).ka(_ULong___get_data__impl__fggpzb(tmp3_plus_0)));
          }
          hash = tmp$ret$11;
        }
      }
    }
    this.p52_1 = hash;
  }
  Binding.prototype.m4n = function () {
    return this.l52_1;
  };
  Binding.prototype.y3m = function () {
    return this.m52_1;
  };
  Binding.prototype.q52 = function () {
    return this.n52_1;
  };
  Binding.prototype.s4m = function () {
    return this.p52_1;
  };
  Binding.prototype.toString = function () {
    return 'Binding(binding=' + this.l52_1 + ', inputRate=' + this.m52_1 + ', vertexAttributes=' + this.n52_1 + ', strideBytes=' + this.o52_1 + ')';
  };
  Binding.prototype.hashCode = function () {
    var result = this.l52_1;
    result = imul(result, 31) + this.m52_1.hashCode() | 0;
    result = imul(result, 31) + hashCode(this.n52_1) | 0;
    result = imul(result, 31) + this.o52_1 | 0;
    return result;
  };
  Binding.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Binding))
      return false;
    var tmp0_other_with_cast = other instanceof Binding ? other : THROW_CCE();
    if (!(this.l52_1 === tmp0_other_with_cast.l52_1))
      return false;
    if (!this.m52_1.equals(tmp0_other_with_cast.m52_1))
      return false;
    if (!equals(this.n52_1, tmp0_other_with_cast.n52_1))
      return false;
    if (!(this.o52_1 === tmp0_other_with_cast.o52_1))
      return false;
    return true;
  };
  Binding.$metadata$ = classMeta('Binding');
  function VertexAttribute(location, offset, attribute) {
    this.r52_1 = location;
    this.s52_1 = offset;
    this.t52_1 = attribute;
  }
  VertexAttribute.prototype.v3l = function () {
    return this.r52_1;
  };
  VertexAttribute.prototype.u52 = function () {
    return this.t52_1;
  };
  VertexAttribute.prototype.toString = function () {
    return 'VertexAttribute(location=' + this.r52_1 + ', offset=' + this.s52_1 + ', attribute=' + this.t52_1 + ')';
  };
  VertexAttribute.prototype.hashCode = function () {
    var result = this.r52_1;
    result = imul(result, 31) + this.s52_1 | 0;
    result = imul(result, 31) + this.t52_1.hashCode() | 0;
    return result;
  };
  VertexAttribute.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof VertexAttribute))
      return false;
    var tmp0_other_with_cast = other instanceof VertexAttribute ? other : THROW_CCE();
    if (!(this.r52_1 === tmp0_other_with_cast.r52_1))
      return false;
    if (!(this.s52_1 === tmp0_other_with_cast.s52_1))
      return false;
    if (!this.t52_1.equals(tmp0_other_with_cast.t52_1))
      return false;
    return true;
  };
  VertexAttribute.$metadata$ = classMeta('VertexAttribute');
  function Builder_7() {
    this.f2q_1 = PrimitiveType_TRIANGLES_getInstance();
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.g2q_1 = tmp$ret$0;
  }
  Builder_7.prototype.h4v = function () {
    return new VertexLayout(copy(this.g2q_1), this.f2q_1);
  };
  Builder_7.$metadata$ = classMeta('Builder');
  function VertexLayout(bindings, primitiveType) {
    this.o4v_1 = bindings;
    this.p4v_1 = primitiveType;
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_toULong = this.p4v_1.hashCode();
        tmp$ret$0 = _ULong___init__impl__c78o9k(toLong(tmp0_toULong));
      }
      var tmp1_times = tmp$ret$0;
      tmp$ret$1 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0))).ja(_ULong___get_data__impl__fggpzb(tmp1_times)));
    }
    var hash = tmp$ret$1;
    {
      var tmp2_forEach = this.o4v_1;
      var tmp0_iterator = tmp2_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var tmp$ret$3;
          {
            var tmp$ret$2;
            {
              var tmp0_times = hash;
              tmp$ret$2 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp0_times).ja(_ULong___get_data__impl__fggpzb(_ULong___init__impl__c78o9k(new Long(71023, 0)))));
            }
            var tmp1_plus = tmp$ret$2;
            var tmp2_plus = element.p52_1;
            tmp$ret$3 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp1_plus).ka(_ULong___get_data__impl__fggpzb(tmp2_plus)));
          }
          hash = tmp$ret$3;
        }
      }
    }
    this.q4v_1 = hash;
  }
  VertexLayout.prototype.v52 = function () {
    return this.p4v_1;
  };
  VertexLayout.$metadata$ = classMeta('VertexLayout');
  var InputRate_VERTEX_instance;
  var InputRate_INSTANCE_instance;
  var InputRate_entriesInitialized;
  function InputRate_initEntries() {
    if (InputRate_entriesInitialized)
      return Unit_getInstance();
    InputRate_entriesInitialized = true;
    InputRate_VERTEX_instance = new InputRate('VERTEX', 0);
    InputRate_INSTANCE_instance = new InputRate('INSTANCE', 1);
  }
  function InputRate(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  InputRate.$metadata$ = classMeta('InputRate', undefined, undefined, undefined, undefined, Enum.prototype);
  function InputRate_VERTEX_getInstance() {
    InputRate_initEntries();
    return InputRate_VERTEX_instance;
  }
  function InputRate_INSTANCE_getInstance() {
    InputRate_initEntries();
    return InputRate_INSTANCE_instance;
  }
  function DrawCommand(renderPass, mesh) {
    this.l35_1 = renderPass;
    this.m35_1 = mesh;
    this.n35_1 = this.m35_1.z2n_1;
    this.o35_1 = null;
    this.p35_1 = new Mat4f();
    this.q35_1 = new Mat4f();
    this.r35_1 = new Mat4f();
    this.s35_1 = new Mat4f();
    this.t35_1 = new Mat4d();
  }
  DrawCommand.prototype.w4k = function () {
    return this.m35_1;
  };
  DrawCommand.prototype.w52 = function () {
    return this.n35_1;
  };
  DrawCommand.prototype.x52 = function (mesh, ctx) {
    this.m35_1 = mesh;
    this.n35_1 = mesh.z2n_1;
    this.o35_1 = mesh.s4g(ctx);
    this.y52();
  };
  DrawCommand.prototype.y52 = function () {
    this.p35_1.x2d(this.m35_1.y4g());
    this.q35_1.x2d(this.l35_1.p4s().y4r_1);
    this.r35_1.x2d(this.l35_1.p4s().x4r_1);
    this.l35_1.p4s().z52().w2d(this.m35_1.y4g(), this.t35_1);
    this.s35_1.x2d(this.t35_1);
  };
  DrawCommand.$metadata$ = classMeta('DrawCommand');
  function DrawQueue(renderPass) {
    this.k4w_1 = renderPass;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.l4w_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_0.m4w_1 = tmp$ret$1;
  }
  DrawQueue.prototype.a53 = function () {
    return this.l4w_1;
  };
  DrawQueue.prototype.t7 = function () {
    this.m4w_1.m1(this.l4w_1);
    this.l4w_1.t7();
  };
  DrawQueue.prototype.f4t = function (mesh, ctx) {
    var tmp;
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = this.m4w_1;
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      tmp = this.m4w_1.d4(get_lastIndex(this.m4w_1));
    } else {
      tmp = new DrawCommand(this.k4w_1, mesh);
    }
    var cmd = tmp;
    cmd.x52(mesh, ctx);
    this.l4w_1.b(cmd);
    return cmd;
  };
  DrawQueue.$metadata$ = classMeta('DrawQueue');
  function brdfLutShader($this) {
    var tmp$ret$0;
    {
      var tmp0_apply = new KslProgram('BRDF LUT');
      {
      }
      {
        var uv = tmp0_apply.f2y('uv', null, 2, null);
        FullscreenShaderUtil_getInstance().a4o(tmp0_apply, uv);
        tmp0_apply.w2x(BrdfLutPass$brdfLutShader$lambda(uv));
      }
      tmp$ret$0 = tmp0_apply;
    }
    var prog = tmp$ret$0;
    return new KslShader(prog, FullscreenShaderUtil_getInstance().x4n_1);
  }
  function BrdfLutPass$lambda$lambda(this$0, $ctx) {
    return function (it) {
      this$0.t4g($ctx);
      return Unit_getInstance();
    };
  }
  function BrdfLutPass$lambda(this$0, $parentScene) {
    return function (ctx) {
      var tmp$ret$3;
      {
        var tmp$ret$2;
        {
          var tmp2_dExt = Log_getInstance();
          var tmp$ret$1;
          {
            var tmp1_logExt = Level_DEBUG_getInstance();
            var tmp0_log = getKClassFromExpression(this$0).ei();
            var tmp;
            if (tmp1_logExt.e1w_1 >= tmp2_dExt.y1v_1.e1w_1) {
              var tmp_0 = tmp2_dExt.z1v_1;
              var tmp$ret$0;
              {
                tmp$ret$0 = 'Generated BRDF look-up table';
              }
              tmp = tmp_0(tmp1_logExt, tmp0_log, tmp$ret$0);
            }
            tmp$ret$1 = tmp;
          }
          tmp$ret$2 = tmp$ret$1;
        }
        tmp$ret$3 = tmp$ret$2;
      }
      var tmp_1;
      if (this$0.c54_1) {
        $parentScene.d54(this$0);
        tmp_1 = ctx.b2c(1, BrdfLutPass$lambda$lambda(this$0, ctx));
      } else {
        tmp_1 = this$0.n4s(false);
      }
      return Unit_getInstance();
    };
  }
  function BrdfLutPass$brdfLutShader$lambda$lambda$lambda($roughness, $nDotV) {
    return function ($this$body) {
      var tmp = div(times_2($roughness, $roughness), $this$body.p34(2.0));
      var k = $this$body.p3j(tmp, null, 2, null);
      var denom = plus_2(times_2($nDotV, minus_0($this$body.p34(1.0), k)), k);
      return div($nDotV, denom);
    };
  }
  function BrdfLutPass$brdfLutShader$lambda$lambda() {
    return function ($this$functionFloat1) {
      var nDotV = $this$functionFloat1.o3h('nDotV');
      var roughness = $this$functionFloat1.o3h('roughness');
      $this$functionFloat1.a35(BrdfLutPass$brdfLutShader$lambda$lambda$lambda(roughness, nDotV));
      return Unit_getInstance();
    };
  }
  function BrdfLutPass$brdfLutShader$lambda$lambda$lambda_0($n, $v, $l, $geometrySchlickGgx, $roughness) {
    return function ($this$body) {
      var tmp = $this$body.m3k($this$body.i3k($n, $v), $this$body.p34(0.0));
      var nDotV = $this$body.p3j(tmp, null, 2, null);
      var tmp_0 = $this$body.m3k($this$body.i3k($n, $l), $this$body.p34(0.0));
      var nDotL = $this$body.p3j(tmp_0, null, 2, null);
      var tmp_1 = $this$body.e3k($geometrySchlickGgx, [nDotL, $roughness]);
      var ggx1 = $this$body.p3j(tmp_1, null, 2, null);
      var tmp_2 = $this$body.e3k($geometrySchlickGgx, [nDotV, $roughness]);
      var ggx2 = $this$body.p3j(tmp_2, null, 2, null);
      return times_2(ggx1, ggx2);
    };
  }
  function BrdfLutPass$brdfLutShader$lambda$lambda_0($geometrySchlickGgx) {
    return function ($this$functionFloat1) {
      var n = $this$functionFloat1.z34('n');
      var v = $this$functionFloat1.z34('v');
      var l = $this$functionFloat1.z34('l');
      var roughness = $this$functionFloat1.o3h('roughness');
      $this$functionFloat1.a35(BrdfLutPass$brdfLutShader$lambda$lambda$lambda_0(n, v, l, $geometrySchlickGgx, roughness));
      return Unit_getInstance();
    };
  }
  function BrdfLutPass$brdfLutShader$lambda$lambda$lambda$lambda$lambda($geometrySmith, $n, $v, $l, $roughness, $vDotH, $nDotH, $nDotV, $a, $b) {
    return function ($this$if) {
      var tmp = $this$if.e3k($geometrySmith, [$n, $v, $l, $roughness]);
      var g = $this$if.p3j(tmp, null, 2, null);
      var tmp_0 = div(times_2(g, $vDotH), times_2($nDotH, $nDotV));
      var gVis = $this$if.p3j(tmp_0, null, 2, null);
      var tmp_1 = $this$if.o3k(minus_0($this$if.p34(1.0), $vDotH), $this$if.p34(5.0));
      var fc = $this$if.p3j(tmp_1, null, 2, null);
      $this$if.a30($a, times_2(minus_0($this$if.p34(1.0), fc), gVis));
      $this$if.a30($b, times_2(fc, gVis));
      return Unit_getInstance();
    };
  }
  function BrdfLutPass$brdfLutShader$lambda$lambda$lambda$lambda($sampleCount, $n, $roughness, $v, $geometrySmith, $nDotV, $a, $b) {
    return function ($this$fori, i) {
      var tmp = hammersley($this$fori, i, $sampleCount);
      var xi = $this$fori.r3j(tmp, null, 2, null);
      var tmp_0 = importanceSampleGgx($this$fori, xi, $n, $roughness);
      var h = $this$fori.g2x(tmp_0, null, 2, null);
      var tmp_1 = minus(times_3(times_2($this$fori.p34(2.0), $this$fori.i3k($v, h)), h), $v);
      var l = $this$fori.g2x(tmp_1, null, 2, null);
      var tmp_2 = $this$fori.m3k(get_z(l), $this$fori.p34(0.0));
      var nDotL = $this$fori.p3j(tmp_2, null, 2, null);
      var tmp_3 = $this$fori.m3k(get_z(h), $this$fori.p34(0.0));
      var nDotH = $this$fori.p3j(tmp_3, null, 2, null);
      var tmp_4 = $this$fori.m3k($this$fori.i3k($v, h), $this$fori.p34(0.0));
      var vDotH = $this$fori.p3j(tmp_4, null, 2, null);
      var tmp_5 = gt(nDotL, $this$fori.p34(0.0));
      $this$fori.z3j(tmp_5, BrdfLutPass$brdfLutShader$lambda$lambda$lambda$lambda$lambda($geometrySmith, $n, $v, l, $roughness, vDotH, nDotH, $nDotV, $a, $b));
      return Unit_getInstance();
    };
  }
  function BrdfLutPass$brdfLutShader$lambda$lambda$lambda_1($nDotV, $roughness, $geometrySmith) {
    return function ($this$body) {
      var v = $this$body.s3j($this$body.k3j($this$body.p3k(minus_0($this$body.p34(1.0), times_2($nDotV, $nDotV))), $this$body.p34(0.0), $nDotV), 'v');
      var a = $this$body.o3j($this$body.p34(0.0), 'a');
      var b = $this$body.o3j($this$body.p34(0.0), 'b');
      var n = $this$body.s3j($this$body.l32(Companion_getInstance_9().c2h_1), 'n');
      var sampleCount = $this$body.f3j(1024);
      var tmp = $this$body.f3j(0);
      $this$body.a3k(tmp, sampleCount, BrdfLutPass$brdfLutShader$lambda$lambda$lambda$lambda(sampleCount, n, $roughness, v, $geometrySmith, $nDotV, a, b));
      return $this$body.j3j(div(a, toFloat1(sampleCount)), div(b, toFloat1(sampleCount)));
    };
  }
  function BrdfLutPass$brdfLutShader$lambda$lambda_1($geometrySmith) {
    return function ($this$functionFloat2) {
      var nDotV = $this$functionFloat2.o3h('nDotV');
      var roughness = $this$functionFloat2.o3h('roughness');
      $this$functionFloat2.a35(BrdfLutPass$brdfLutShader$lambda$lambda$lambda_1(nDotV, roughness, $geometrySmith));
      return Unit_getInstance();
    };
  }
  function BrdfLutPass$brdfLutShader$lambda$lambda_2($integrateBrdf, $uv, $this_fragmentStage) {
    return function ($this$main) {
      var tmp = $this$main.e34($integrateBrdf, [get_x($uv.c33()), get_y($uv.c33())]);
      var integratedBrdf = $this$main.r3j(tmp, null, 2, null);
      var tmp_0 = $this$main.l3j(get_x(integratedBrdf), get_y(integratedBrdf), $this$main.p34(0.0), $this$main.p34(1.0));
      $this_fragmentStage.u3l($this$main, tmp_0, 0, 2, null);
      return Unit_getInstance();
    };
  }
  function BrdfLutPass$brdfLutShader$lambda($uv) {
    return function ($this$fragmentStage) {
      var geometrySchlickGgx = functionFloat1($this$fragmentStage, 'geometrySchlickGgx', BrdfLutPass$brdfLutShader$lambda$lambda());
      var geometrySmith = functionFloat1($this$fragmentStage, 'geometrySmith', BrdfLutPass$brdfLutShader$lambda$lambda_0(geometrySchlickGgx));
      var integrateBrdf = functionFloat2($this$fragmentStage, 'integrateBrdf', BrdfLutPass$brdfLutShader$lambda$lambda_1(geometrySmith));
      $this$fragmentStage.u2w(BrdfLutPass$brdfLutShader$lambda$lambda_2(integrateBrdf, $uv, $this$fragmentStage));
      return Unit_getInstance();
    };
  }
  function BrdfLutPass(parentScene) {
    var tmp = Group_init_$Create$(null, 1, null);
    var tmp$ret$0;
    {
      var builder = new ConfigBuilder();
      {
        builder.l4o_1 = 'BrdfLutPass';
        builder.x4o(512, 512);
        builder.h4p(TexFormat_RG_F16_getInstance());
        builder.y4o();
      }
      tmp$ret$0 = new Config_0(builder);
    }
    OffscreenRenderPass2d.call(this, tmp, tmp$ret$0);
    this.c54_1 = true;
    this.n49(null);
    var tmp$ret$2;
    {
      var tmp_0 = this.h4w();
      var tmp0_apply = tmp_0 instanceof Group ? tmp_0 : THROW_CCE();
      {
      }
      {
        var tmp$ret$1;
        {
          var tmp0_mesh = listOf([Companion_getInstance_28().z2v_1, Companion_getInstance_28().c2w_1]);
          var mesh = new Mesh(new IndexedVertexList(tmp0_mesh), null);
          {
            var tmp_1 = FullscreenShaderUtil_getInstance();
            tmp_1.z4n(mesh, false, 1, null);
            mesh.m4g(brdfLutShader(this));
          }
          tmp$ret$1 = mesh;
        }
        tmp0_apply.v4j(tmp$ret$1);
      }
      tmp$ret$2 = tmp0_apply;
    }
    var tmp0_this = this;
    {
      var tmp1_plusAssign = tmp0_this.j4w();
      tmp1_plusAssign.b(BrdfLutPass$lambda(this, parentScene));
    }
  }
  BrdfLutPass.prototype.t4g = function (ctx) {
    this.h4w().t4g(ctx);
    OffscreenRenderPass2d.prototype.t4g.call(this, ctx);
  };
  BrdfLutPass.$metadata$ = classMeta('BrdfLutPass', undefined, undefined, undefined, undefined, OffscreenRenderPass2d.prototype);
  function hammersley(_this__u8e3s4, i, n) {
    var tmp$ret$2;
    {
      var tmp0_getOrCreateFunction = _this__u8e3s4.x2v_1;
      var tmp$ret$1;
      {
        var tmp0_getOrPut = tmp0_getOrCreateFunction.r2l_1;
        var value = tmp0_getOrPut.z2('Hammersley');
        var tmp;
        if (value == null) {
          var tmp$ret$0;
          {
            tmp$ret$0 = new Hammersley(_this__u8e3s4);
          }
          var answer = tmp$ret$0;
          tmp0_getOrPut.a('Hammersley', answer);
          tmp = answer;
        } else {
          tmp = value;
        }
        tmp$ret$1 = tmp;
      }
      var tmp_0 = tmp$ret$1;
      tmp$ret$2 = tmp_0 instanceof Hammersley ? tmp_0 : THROW_CCE();
    }
    var func = tmp$ret$2;
    return _this__u8e3s4.e34(func, [i, n]);
  }
  function importanceSampleGgx(_this__u8e3s4, xi, n, roughness) {
    var tmp$ret$2;
    {
      var tmp0_getOrCreateFunction = _this__u8e3s4.x2v_1;
      var tmp$ret$1;
      {
        var tmp0_getOrPut = tmp0_getOrCreateFunction.r2l_1;
        var value = tmp0_getOrPut.z2('ImportanceSampleGgx');
        var tmp;
        if (value == null) {
          var tmp$ret$0;
          {
            tmp$ret$0 = new ImportanceSampleGgx(_this__u8e3s4);
          }
          var answer = tmp$ret$0;
          tmp0_getOrPut.a('ImportanceSampleGgx', answer);
          tmp = answer;
        } else {
          tmp = value;
        }
        tmp$ret$1 = tmp;
      }
      var tmp_0 = tmp$ret$1;
      tmp$ret$2 = tmp_0 instanceof ImportanceSampleGgx ? tmp_0 : THROW_CCE();
    }
    var func = tmp$ret$2;
    return _this__u8e3s4.e34(func, [xi, n, roughness]);
  }
  function Hammersley$lambda($i, $n) {
    return function ($this$body) {
      var tmp = toUint1($i);
      var bits = $this$body.x3j(tmp, null, 2, null);
      $this$body.t2w(bits, or(shl(bits, $this$body.g3j(_UInt___init__impl__l7qpdl(16))), shr(bits, $this$body.g3j(_UInt___init__impl__l7qpdl(16)))));
      $this$body.t2w(bits, or(shl(and(bits, $this$body.g3j(_UInt___init__impl__l7qpdl(1431655765))), $this$body.g3j(_UInt___init__impl__l7qpdl(1))), shr(and(bits, $this$body.g3j(_UInt___init__impl__l7qpdl(-1431655766))), $this$body.g3j(_UInt___init__impl__l7qpdl(1)))));
      $this$body.t2w(bits, or(shl(and(bits, $this$body.g3j(_UInt___init__impl__l7qpdl(858993459))), $this$body.g3j(_UInt___init__impl__l7qpdl(2))), shr(and(bits, $this$body.g3j(_UInt___init__impl__l7qpdl(-858993460))), $this$body.g3j(_UInt___init__impl__l7qpdl(2)))));
      $this$body.t2w(bits, or(shl(and(bits, $this$body.g3j(_UInt___init__impl__l7qpdl(252645135))), $this$body.g3j(_UInt___init__impl__l7qpdl(4))), shr(and(bits, $this$body.g3j(_UInt___init__impl__l7qpdl(-252645136))), $this$body.g3j(_UInt___init__impl__l7qpdl(4)))));
      $this$body.t2w(bits, or(shl(and(bits, $this$body.g3j(_UInt___init__impl__l7qpdl(16711935))), $this$body.g3j(_UInt___init__impl__l7qpdl(8))), shr(and(bits, $this$body.g3j(_UInt___init__impl__l7qpdl(-16711936))), $this$body.g3j(_UInt___init__impl__l7qpdl(8)))));
      var tmp_0 = times_2(toFloat1_0(bits), $this$body.p34(2.3283064365386963E-10));
      var radicalInverse = $this$body.p3j(tmp_0, null, 2, null);
      return $this$body.j3j(div(toFloat1($i), toFloat1($n)), radicalInverse);
    };
  }
  function Hammersley(parentScope) {
    KslFunction.call(this, 'Hammersley', KslTypeFloat2_getInstance(), parentScope.x2v_1);
    var i = this.q3h('i');
    var n = this.q3h('n');
    this.a35(Hammersley$lambda(i, n));
  }
  Hammersley.$metadata$ = classMeta('Hammersley', undefined, undefined, undefined, undefined, KslFunction.prototype);
  function ImportanceSampleGgx$lambda$lambda($up) {
    return function ($this$if) {
      $this$if.t2w($up, $this$if.l32(Companion_getInstance_9().c2h_1));
      return Unit_getInstance();
    };
  }
  function ImportanceSampleGgx$lambda($roughness, $xi, $n) {
    return function ($this$body) {
      var tmp = times_2($roughness, $roughness);
      var a = $this$body.p3j(tmp, null, 2, null);
      var tmp_0 = times_2(times_2($this$body.p34(2.0), $this$body.c3j(get_PI())), get_x($xi));
      var phi = $this$body.p3j(tmp_0, null, 2, null);
      var tmp_1 = $this$body.p3k(div(minus_0($this$body.p34(1.0), get_y($xi)), plus_2($this$body.p34(1.0), times_2(minus_0(times_2(a, a), $this$body.p34(1.0)), get_y($xi)))));
      var cosTheta = $this$body.p3j(tmp_1, null, 2, null);
      var tmp_2 = $this$body.p3k(minus_0($this$body.p34(1.0), times_2(cosTheta, cosTheta)));
      var sinTheta = $this$body.p3j(tmp_2, null, 2, null);
      var tmp_3 = $this$body.k3j(times_2($this$body.r3k(phi), sinTheta), times_2($this$body.s3k(phi), sinTheta), cosTheta);
      var h = $this$body.g2x(tmp_3, null, 2, null);
      var tmp_4 = $this$body.l32(Companion_getInstance_9().a2h_1);
      var up = $this$body.g2x(tmp_4, null, 2, null);
      var tmp_5 = lt($this$body.f3k(get_z($n)), $this$body.p34(0.9999));
      $this$body.z3j(tmp_5, ImportanceSampleGgx$lambda$lambda(up));
      var tmp_6 = $this$body.n3k($this$body.h3k(up, $n));
      var tangent = $this$body.g2x(tmp_6, null, 2, null);
      var bitangent = $this$body.h3k($n, tangent);
      return $this$body.n3k(plus_0(plus_0(times_0(tangent, get_x(h)), times_0(bitangent, get_y(h))), times_0($n, get_z(h))));
    };
  }
  function ImportanceSampleGgx(parentScope) {
    KslFunction.call(this, 'ImportanceSampleGgx', KslTypeFloat3_getInstance(), parentScope.x2v_1);
    var xi = this.p3h('xi');
    var n = this.z34('n');
    var roughness = this.o3h('roughness');
    this.a35(ImportanceSampleGgx$lambda(roughness, xi, n));
  }
  ImportanceSampleGgx.$metadata$ = classMeta('ImportanceSampleGgx', undefined, undefined, undefined, undefined, KslFunction.prototype);
  function ShaderGenerator() {
  }
  ShaderGenerator.$metadata$ = classMeta('ShaderGenerator');
  function OrthographicCamera_init_$Init$(name, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0))
      name = 'orthographicCam';
    OrthographicCamera.call($this, name);
    return $this;
  }
  function OrthographicCamera_init_$Create$(name, $mask0, $marker) {
    return OrthographicCamera_init_$Init$(name, $mask0, $marker, Object.create(OrthographicCamera.prototype));
  }
  function OrthographicCamera(name) {
    Camera.call(this, name);
    this.c4b_1 = -10.0;
    this.d4b_1 = 10.0;
    this.e4b_1 = -10.0;
    this.f4b_1 = 10.0;
    this.g4b_1 = false;
    this.h4b_1 = true;
    this.i4b_1 = MutableVec3f_init_$Create$();
  }
  OrthographicCamera.prototype.e54 = function (_set____db54di) {
    this.c4b_1 = _set____db54di;
  };
  OrthographicCamera.prototype.f54 = function (_set____db54di) {
    this.d4b_1 = _set____db54di;
  };
  OrthographicCamera.prototype.g54 = function (_set____db54di) {
    this.e4b_1 = _set____db54di;
  };
  OrthographicCamera.prototype.h54 = function (_set____db54di) {
    this.f4b_1 = _set____db54di;
  };
  OrthographicCamera.prototype.i54 = function (_set____db54di) {
    this.g4b_1 = _set____db54di;
  };
  OrthographicCamera.prototype.j54 = function (_set____db54di) {
    this.h4b_1 = _set____db54di;
  };
  OrthographicCamera.prototype.n4w = function (renderPass, ctx) {
    if (this.g4b_1) {
      this.c4b_1 = 0.0;
      this.d4b_1 = renderPass.z48_1.l4b_1;
      this.e4b_1 = 0.0;
      this.f4b_1 = renderPass.z48_1.z3u();
    } else if (this.h4b_1) {
      var h = this.f4b_1 - this.e4b_1;
      var w = renderPass.z48_1.k54() * h;
      var xCenter = this.c4b_1 + (this.d4b_1 - this.c4b_1) * 0.5;
      this.c4b_1 = xCenter - w * 0.5;
      this.d4b_1 = xCenter + w * 0.5;
    }
    Camera.prototype.n4w.call(this, renderPass, ctx);
  };
  OrthographicCamera.prototype.l54 = function (renderPass, ctx) {
    if ((!(this.c4b_1 === this.d4b_1) ? !(this.e4b_1 === this.f4b_1) : false) ? !(this.n54() === this.o54()) : false) {
      this.m54().a2e(this.c4b_1, this.d4b_1, this.e4b_1, this.f4b_1, this.n54(), this.o54());
    }
  };
  OrthographicCamera.prototype.p54 = function (globalCenter, globalRadius) {
    this.i4b_1.n2h(globalCenter);
    this.i4b_1.p2h(this.q54());
    var x = this.i4b_1.l2h(this.r54());
    if (x > this.d4b_1 + globalRadius ? true : x < this.c4b_1 - globalRadius) {
      return false;
    }
    var y = this.i4b_1.l2h(this.s54());
    if (y > this.f4b_1 + globalRadius ? true : y < this.e4b_1 - globalRadius) {
      return false;
    }
    var z = this.i4b_1.l2h(this.t54());
    if (z > this.o54() + globalRadius ? true : z < this.n54() - globalRadius) {
      return false;
    }
    return true;
  };
  OrthographicCamera.$metadata$ = classMeta('OrthographicCamera', undefined, undefined, undefined, undefined, Camera.prototype);
  var ProjCorrectionMode_NONE_instance;
  var ProjCorrectionMode_ONSCREEN_instance;
  var ProjCorrectionMode_OFFSCREEN_instance;
  var ProjCorrectionMode_entriesInitialized;
  function ProjCorrectionMode_initEntries() {
    if (ProjCorrectionMode_entriesInitialized)
      return Unit_getInstance();
    ProjCorrectionMode_entriesInitialized = true;
    ProjCorrectionMode_NONE_instance = new ProjCorrectionMode('NONE', 0);
    ProjCorrectionMode_ONSCREEN_instance = new ProjCorrectionMode('ONSCREEN', 1);
    ProjCorrectionMode_OFFSCREEN_instance = new ProjCorrectionMode('OFFSCREEN', 2);
  }
  function ProjCorrectionMode(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  ProjCorrectionMode.$metadata$ = classMeta('ProjCorrectionMode', undefined, undefined, undefined, undefined, Enum.prototype);
  function Camera$lazyInvProj$lambda(this$0) {
    return function (it) {
      this$0.x4r_1.p2d(it, 0.0, 2, null);
      return Unit_getInstance();
    };
  }
  function Camera$lazyInvView$lambda(this$0) {
    return function (it) {
      this$0.y4r_1.p2d(it, 0.0, 2, null);
      return Unit_getInstance();
    };
  }
  function Camera$lazyViewProj$lambda(this$0) {
    return function (it) {
      this$0.x4r_1.w2d(this$0.y4r_1, it);
      return Unit_getInstance();
    };
  }
  function Camera$lazyInvViewProj$lambda(this$0) {
    return function (it) {
      var tmp = this$0.z52();
      tmp.p2d(it, 0.0, 2, null);
      return Unit_getInstance();
    };
  }
  function ProjCorrectionMode_ONSCREEN_getInstance() {
    ProjCorrectionMode_initEntries();
    return ProjCorrectionMode_ONSCREEN_instance;
  }
  function ProjCorrectionMode_OFFSCREEN_getInstance() {
    ProjCorrectionMode_initEntries();
    return ProjCorrectionMode_OFFSCREEN_instance;
  }
  function Camera(name) {
    Node.call(this, name);
    this.k4r_1 = new MutableVec3f(0.0, 0.0, 1.0);
    this.l4r_1 = MutableVec3f_init_$Create$_0(Companion_getInstance_9().y2g_1);
    this.m4r_1 = MutableVec3f_init_$Create$_0(Companion_getInstance_9().b2h_1);
    this.n4r_1 = 1.0;
    this.o4r_1 = true;
    this.p4r_1 = 0.0;
    this.q4r_1 = 0.1;
    this.r4r_1 = 100.0;
    this.s4r_1 = MutableVec3f_init_$Create$();
    this.t4r_1 = MutableVec3f_init_$Create$();
    this.u4r_1 = MutableVec3f_init_$Create$();
    this.v4r_1 = MutableVec3f_init_$Create$();
    this.w4r_1 = MutableVec3f_init_$Create$();
    this.x4r_1 = new Mat4d();
    this.y4r_1 = new Mat4d();
    var tmp = this;
    tmp.z4r_1 = new LazyMat4d(Camera$lazyInvProj$lambda(this));
    var tmp_0 = this;
    tmp_0.a4s_1 = new LazyMat4d(Camera$lazyInvView$lambda(this));
    var tmp_1 = this;
    tmp_1.b4s_1 = new LazyMat4d(Camera$lazyViewProj$lambda(this));
    var tmp_2 = this;
    tmp_2.c4s_1 = new LazyMat4d(Camera$lazyInvViewProj$lambda(this));
    this.d4s_1 = ProjCorrectionMode_ONSCREEN_getInstance();
    this.e4s_1 = new Mat4d();
    this.f4s_1 = MutableVec3f_init_$Create$();
    this.g4s_1 = MutableVec4f_init_$Create$();
    var tmp_3 = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp_3.h4s_1 = tmp$ret$0;
  }
  Camera.prototype.qr = function () {
    return this.k4r_1;
  };
  Camera.prototype.u54 = function () {
    return this.l4r_1;
  };
  Camera.prototype.k54 = function () {
    return this.n4r_1;
  };
  Camera.prototype.q54 = function () {
    return this.s4r_1;
  };
  Camera.prototype.v54 = function () {
    return this.t4r_1;
  };
  Camera.prototype.s54 = function () {
    return this.u4r_1;
  };
  Camera.prototype.r54 = function () {
    return this.v4r_1;
  };
  Camera.prototype.t54 = function () {
    return this.w4r_1;
  };
  Camera.prototype.w54 = function (_set____db54di) {
    this.q4r_1 = _set____db54di;
  };
  Camera.prototype.n54 = function () {
    return this.q4r_1;
  };
  Camera.prototype.x54 = function (_set____db54di) {
    this.r4r_1 = _set____db54di;
  };
  Camera.prototype.o54 = function () {
    return this.r4r_1;
  };
  Camera.prototype.m54 = function () {
    return this.x4r_1;
  };
  Camera.prototype.z52 = function () {
    return this.b4s_1.l1e();
  };
  Camera.prototype.i4s = function (_set____db54di) {
    this.d4s_1 = _set____db54di;
  };
  Camera.prototype.n4w = function (renderPass, ctx) {
    if (this.o4r_1) {
      this.n4r_1 = renderPass.z48_1.k54();
    }
    this.y54(renderPass, ctx);
    this.l54(renderPass, ctx);
    if (this.d4s_1.equals(ProjCorrectionMode_ONSCREEN_getInstance())) {
      ctx.j28_1.w2d(this.x4r_1, this.e4s_1);
      this.x4r_1.x2d(this.e4s_1);
    } else if (this.d4s_1.equals(ProjCorrectionMode_OFFSCREEN_getInstance())) {
      ctx.k28_1.w2d(this.x4r_1, this.e4s_1);
      this.x4r_1.x2d(this.e4s_1);
    }
    this.z4r_1.b55_1 = true;
    this.b4s_1.b55_1 = true;
    this.c4s_1.b55_1 = true;
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = this.h4s_1;
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      var inductionVariable = 0;
      var last = this.h4s_1.m() - 1 | 0;
      if (inductionVariable <= last)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          this.h4s_1.r(i)(ctx);
        }
         while (inductionVariable <= last);
    }
  };
  Camera.prototype.y54 = function (renderPass, ctx) {
    var tmp = this.s4r_1.n2h(this.k4r_1);
    this.g4h(tmp, 0.0, 2, null);
    var tmp_0 = this.t4r_1.n2h(this.l4r_1);
    this.g4h(tmp_0, 0.0, 2, null);
    this.f4h(this.u4r_1.n2h(this.m4r_1), 0.0).r2h();
    this.w4r_1.n2h(this.t4r_1).p2h(this.s4r_1);
    this.p4r_1 = this.w4r_1.p2g();
    this.w4r_1.w2f(1.0 / this.p4r_1);
    this.w4r_1.h2h(this.u4r_1, this.v4r_1).r2h();
    this.v4r_1.h2h(this.w4r_1, this.u4r_1).r2h();
    this.y4r_1.y2d(this.s4r_1, this.t4r_1, this.u4r_1);
    this.a4s_1.b55_1 = true;
  };
  Camera.prototype.z54 = function (node) {
    return this.p54(node.v4g(), node.x4g());
  };
  Camera.$metadata$ = classMeta('Camera', undefined, undefined, undefined, undefined, Node.prototype);
  function PerspectiveCamera_init_$Init$(name, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0))
      name = 'perspectiveCam';
    PerspectiveCamera.call($this, name);
    return $this;
  }
  function PerspectiveCamera_init_$Create$(name, $mask0, $marker) {
    return PerspectiveCamera_init_$Init$(name, $mask0, $marker, Object.create(PerspectiveCamera.prototype));
  }
  function PerspectiveCamera(name) {
    Camera.call(this, name);
    this.q56_1 = 60.0;
    this.r56_1 = 0.0;
    this.s56_1 = 1.0;
    this.t56_1 = 1.0;
    this.u56_1 = 1.0;
    this.v56_1 = 1.0;
    this.w56_1 = MutableVec3f_init_$Create$();
  }
  PerspectiveCamera.prototype.l54 = function (renderPass, ctx) {
    this.m54().c2e(this.q56_1, this.k54(), this.n54(), this.o54());
    var tmp$ret$0;
    {
      var tmp0_toRad = this.q56_1;
      tmp$ret$0 = tmp0_toRad * get_DEG_2_RAD();
    }
    var angY = tmp$ret$0 / 2.0;
    var tmp = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = Math.cos(angY);
    }
    tmp.t56_1 = 1.0 / tmp$ret$1;
    var tmp_0 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = Math.tan(angY);
    }
    tmp_0.v56_1 = tmp$ret$2;
    var tmp$ret$3;
    {
      var tmp1_atan = this.v56_1 * this.k54();
      tmp$ret$3 = Math.atan(tmp1_atan);
    }
    var angX = tmp$ret$3;
    var tmp_1 = this;
    var tmp$ret$4;
    {
      tmp$ret$4 = Math.cos(angX);
    }
    tmp_1.s56_1 = 1.0 / tmp$ret$4;
    var tmp_2 = this;
    var tmp$ret$5;
    {
      tmp$ret$5 = Math.tan(angX);
    }
    tmp_2.u56_1 = tmp$ret$5;
    var tmp_3 = this;
    var tmp$ret$6;
    {
      var tmp2_toDeg = angX * 2;
      tmp$ret$6 = tmp2_toDeg * get_RAD_2_DEG();
    }
    tmp_3.r56_1 = tmp$ret$6;
  };
  PerspectiveCamera.prototype.p54 = function (globalCenter, globalRadius) {
    this.w56_1.n2h(globalCenter);
    this.w56_1.p2h(this.q54());
    var z = this.w56_1.l2h(this.t54());
    if (z > this.o54() + globalRadius ? true : z < this.n54() - globalRadius) {
      return false;
    }
    var y = this.w56_1.l2h(this.s54());
    var d = globalRadius * this.t56_1;
    z = z * this.v56_1;
    if (y > z + d ? true : y < -z - d) {
      return false;
    }
    var x = this.w56_1.l2h(this.r54());
    d = globalRadius * this.s56_1;
    z = z * this.k54();
    if (x > z + d ? true : x < -z - d) {
      return false;
    }
    return true;
  };
  PerspectiveCamera.$metadata$ = classMeta('PerspectiveCamera', undefined, undefined, undefined, undefined, Camera.prototype);
  function Group_init_$Init$(name, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0))
      name = null;
    Group.call($this, name);
    return $this;
  }
  function Group_init_$Create$(name, $mask0, $marker) {
    return Group_init_$Init$(name, $mask0, $marker, Object.create(Group.prototype));
  }
  function Group$invTransform$lambda(this$0) {
    return function (it) {
      this$0.m4j_1.p2d(it, 0.0, 2, null);
      return Unit_getInstance();
    };
  }
  function Group(name) {
    Node.call(this, name);
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.k4j_1 = tmp$ret$0;
    this.l4j_1 = new BoundingBox();
    this.m4j_1 = new Mat4d();
    var tmp_0 = this;
    tmp_0.n4j_1 = new LazyMat4d(Group$invTransform$lambda(this));
    this.o4j_1 = false;
    this.p4j_1 = MutableVec3f_init_$Create$();
    this.q4j_1 = new BoundingBox();
    this.h2d();
    this.k4g(false);
  }
  Group.prototype.z4k = function () {
    return this.k4j_1;
  };
  Group.prototype.u3p = function () {
    return this.k4j_1;
  };
  Group.prototype.e4l = function () {
    return this.m4j_1;
  };
  Group.prototype.f4l = function () {
    this.n4j_1.b55_1 = true;
    this.o4j_1 = false;
  };
  Group.prototype.d4h = function (updateEvent) {
    Node.prototype.d4h.call(this, updateEvent);
    this.l4j_1.s2j();
    var inductionVariable = 0;
    var last = this.k4j_1.m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.k4j_1.r(i).d4h(updateEvent);
        this.l4j_1.t2j(this.k4j_1.r(i).r4g());
      }
       while (inductionVariable <= last);
    this.g4l();
    this.j4l().n2h(this.r4g().o2j_1);
    this.k4l().n2h(this.r4g().m2j_1);
    var tmp = this.y4g();
    var tmp_0 = this.j4l();
    tmp.u2d(tmp_0, 0.0, 2, null);
    var tmp_1 = this.y4g();
    var tmp_2 = this.k4l();
    tmp_1.u2d(tmp_2, 0.0, 2, null);
    this.w4g(this.v4g().j2h(this.k4l()));
    if (!this.r4g().k2j_1 ? !this.o4j_1 : false) {
      this.q4j_1.s2j();
      this.q4j_1.q2h(this.m4j_1.q2d(this.p4j_1.t2d(this.r4g().l2j_1.z1z(), this.r4g().l2j_1.b20(), this.r4g().l2j_1.s2d()), 1.0));
      this.q4j_1.q2h(this.m4j_1.q2d(this.p4j_1.t2d(this.r4g().l2j_1.z1z(), this.r4g().l2j_1.b20(), this.r4g().m2j_1.s2d()), 1.0));
      this.q4j_1.q2h(this.m4j_1.q2d(this.p4j_1.t2d(this.r4g().l2j_1.z1z(), this.r4g().m2j_1.b20(), this.r4g().l2j_1.s2d()), 1.0));
      this.q4j_1.q2h(this.m4j_1.q2d(this.p4j_1.t2d(this.r4g().l2j_1.z1z(), this.r4g().m2j_1.b20(), this.r4g().m2j_1.s2d()), 1.0));
      this.q4j_1.q2h(this.m4j_1.q2d(this.p4j_1.t2d(this.r4g().m2j_1.z1z(), this.r4g().l2j_1.b20(), this.r4g().l2j_1.s2d()), 1.0));
      this.q4j_1.q2h(this.m4j_1.q2d(this.p4j_1.t2d(this.r4g().m2j_1.z1z(), this.r4g().l2j_1.b20(), this.r4g().m2j_1.s2d()), 1.0));
      this.q4j_1.q2h(this.m4j_1.q2d(this.p4j_1.t2d(this.r4g().m2j_1.z1z(), this.r4g().m2j_1.b20(), this.r4g().l2j_1.s2d()), 1.0));
      this.q4j_1.q2h(this.m4j_1.q2d(this.p4j_1.t2d(this.r4g().m2j_1.z1z(), this.r4g().m2j_1.b20(), this.r4g().m2j_1.s2d()), 1.0));
      this.r4g().u2j(this.q4j_1);
    }
  };
  Group.prototype.g4l = function () {
    this.r4g().u2j(this.l4j_1);
  };
  Group.prototype.e4h = function () {
    Node.prototype.e4h.call(this);
    if (!this.o4j_1) {
      this.y4g().v2d(this.m4j_1);
    }
  };
  Group.prototype.u4g = function (updateEvent) {
    Node.prototype.u4g.call(this, updateEvent);
    if (this.c4h()) {
      var inductionVariable = 0;
      var last = this.k4j_1.m() - 1 | 0;
      if (inductionVariable <= last)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          this.k4j_1.r(i).u4g(updateEvent);
        }
         while (inductionVariable <= last);
    }
  };
  Group.prototype.t4g = function (ctx) {
    Node.prototype.t4g.call(this, ctx);
    var inductionVariable = 0;
    var last = this.k4j_1.m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.k4j_1.r(i).t4g(ctx);
      }
       while (inductionVariable <= last);
  };
  Group.prototype.h4l = function (node, index) {
    if (index >= 0) {
      this.k4j_1.cf(index, node);
    } else {
      this.k4j_1.b(node);
    }
    node.z4g(this);
    this.r4g().t2j(node.r4g());
  };
  Group.prototype.i4l = function (node, index, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      index = -1;
    return $handler == null ? this.h4l(node, index) : $handler(node, index);
  };
  Group.prototype.r4j = function (node) {
    if (this.k4j_1.c4(node)) {
      node.z4g(null);
      return true;
    }
    return false;
  };
  Group.prototype.x56 = function () {
    var inductionVariable = 0;
    var last = this.k4j_1.m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.k4j_1.r(i).z4g(null);
      }
       while (inductionVariable <= last);
    this.k4j_1.t7();
  };
  Group.prototype.y4k = function (node) {
    this.i4l(node, 0, 2, null);
  };
  Group.prototype.y56 = function (node) {
    this.r4j(node);
  };
  Group.prototype.v4j = function (_this__u8e3s4) {
    this.i4l(_this__u8e3s4, 0, 2, null);
  };
  Group.prototype.j2e = function (tx, ty, tz) {
    return this.e2a(tx, ty, tz);
  };
  Group.prototype.e2a = function (tx, ty, tz) {
    this.m4j_1.e2a(tx, ty, tz);
    this.f4l();
    return this;
  };
  Group.prototype.w2f = function (s) {
    return this.f2a(s, s, s);
  };
  Group.prototype.p2e = function (sx, sy, sz) {
    return this.f2a(sx, sy, sz);
  };
  Group.prototype.f2a = function (sx, sy, sz) {
    this.m4j_1.f2a(sx, sy, sz);
    this.f4l();
    return this;
  };
  Group.prototype.h2d = function () {
    this.m4j_1.h2d();
    this.n4j_1.t7();
    this.o4j_1 = true;
    return this;
  };
  Group.$metadata$ = classMeta('Group', undefined, undefined, undefined, undefined, Node.prototype);
  function group(name, block) {
    var tg = new Group(name);
    block(tg);
    return tg;
  }
  function group$default(name, block, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      name = null;
    return group(name, block);
  }
  function Lighting() {
    this.z56_1 = mutableListOf([(new Light()).k57(new Vec3f(-0.8, -1.2, -1.0)).l57(Companion_getInstance_39().a31_1, 1.0)]);
  }
  Lighting.$metadata$ = classMeta('Lighting');
  var Type_DIRECTIONAL_instance;
  var Type_POINT_instance;
  var Type_SPOT_instance;
  var Type_entriesInitialized;
  function Type_initEntries() {
    if (Type_entriesInitialized)
      return Unit_getInstance();
    Type_entriesInitialized = true;
    Type_DIRECTIONAL_instance = new Type('DIRECTIONAL', 0, 0.0);
    Type_POINT_instance = new Type('POINT', 1, 1.0);
    Type_SPOT_instance = new Type('SPOT', 2, 2.0);
  }
  function Type(name, ordinal, encoded) {
    Enum.call(this, name, ordinal);
    this.o57_1 = encoded;
  }
  Type.$metadata$ = classMeta('Type', undefined, undefined, undefined, undefined, Enum.prototype);
  function Type_DIRECTIONAL_getInstance() {
    Type_initEntries();
    return Type_DIRECTIONAL_instance;
  }
  function Light() {
    this.a57_1 = MutableColor_init_$Create$_0(Companion_getInstance_39().a31_1);
    this.b57_1 = Type_DIRECTIONAL_getInstance();
    this.c57_1 = new MutableVec3f(0.0, 1.0, 0.0);
    this.d57_1 = MutableVec3f_init_$Create$();
    this.e57_1 = 60.0;
    this.f57_1 = 0.5;
    this.g57_1 = true;
    this.h57_1 = MutableVec4f_init_$Create$();
    this.i57_1 = MutableVec4f_init_$Create$();
    this.j57_1 = MutableVec4f_init_$Create$();
  }
  Light.prototype.l57 = function (color, intensity) {
    this.a57_1.s2i(color);
    this.a57_1.p57(intensity);
    this.g57_1 = true;
    return this;
  };
  Light.prototype.k57 = function (dir) {
    this.b57_1 = Type_DIRECTIONAL_getInstance();
    this.c57_1.n2h(dir).r2h();
    this.d57_1.n2h(Companion_getInstance_9().y2g_1);
    this.e57_1 = 0.0;
    this.g57_1 = true;
    return this;
  };
  Light.$metadata$ = classMeta('Light');
  function Mesh_init_$Init$(geometry, name, $mask0, $marker, $this) {
    if (!(($mask0 & 2) === 0))
      name = null;
    Mesh.call($this, geometry, name);
    return $this;
  }
  function Companion_34() {
    Companion_instance_34 = this;
    this.q57_1 = new Long(1, 0);
  }
  Companion_34.$metadata$ = objectMeta('Companion');
  var Companion_instance_34;
  function Companion_getInstance_34() {
    if (Companion_instance_34 == null)
      new Companion_34();
    return Companion_instance_34;
  }
  function Mesh(geometry, name) {
    Companion_getInstance_34();
    Node.call(this, name);
    this.z2n_1 = geometry;
    var tmp = this;
    var tmp0_this = Companion_getInstance_34();
    var tmp1 = tmp0_this.q57_1;
    tmp0_this.q57_1 = tmp1.yl();
    tmp.a2o_1 = tmp1;
    this.b2o_1 = null;
    this.c2o_1 = null;
    this.d2o_1 = null;
    this.e2o_1 = true;
    this.f2o_1 = null;
    this.g2o_1 = null;
    this.h2o_1 = null;
    var tmp_0 = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp_0.i2o_1 = tmp$ret$0;
    this.j2o_1 = -1;
    this.k2o_1 = null;
    var tmp_1 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_1.l2o_1 = tmp$ret$1;
    this.m2o_1 = Companion_getInstance_35().r57();
  }
  Mesh.prototype.j4g = function (value) {
    this.b2o_1 = value;
    if (!(value == null)) {
      this.k4g(false);
    }
  };
  Mesh.prototype.q4g = function () {
    return this.b2o_1;
  };
  Mesh.prototype.m4g = function (value) {
    if (!(this.f2o_1 === value)) {
      this.f2o_1 = value;
      var tmp0_safe_receiver = this.k2o_1;
      if (tmp0_safe_receiver == null)
        null;
      else {
        var tmp$ret$0;
        {
          {
          }
          var tmp0_this = this;
          var tmp0_plusAssign = tmp0_this.l2o_1;
          tmp0_plusAssign.b(tmp0_safe_receiver);
          tmp$ret$0 = Unit_getInstance();
        }
      }
      this.k2o_1 = null;
    }
  };
  Mesh.prototype.r4g = function () {
    return this.z2n_1.n2p_1;
  };
  Mesh.prototype.l4g = function (generator) {
    {
      var tmp0_batchUpdate = this.z2n_1;
      var wasBatchUpdate = tmp0_batchUpdate.r2p_1;
      tmp0_batchUpdate.r2p_1 = true;
      {
        tmp0_batchUpdate.t7();
        generator(new MeshBuilder(tmp0_batchUpdate));
      }
      tmp0_batchUpdate.q2p_1 = true;
      tmp0_batchUpdate.r2p_1 = wasBatchUpdate;
      if (false) {}
    }
  };
  Mesh.prototype.s4g = function (ctx) {
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = this.l2o_1;
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      {
        var tmp1_forEach = this.l2o_1;
        var tmp0_iterator = tmp1_forEach.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          {
            ctx.c2c(element);
          }
        }
      }
      this.l2o_1.t7();
    }
    var tmp1_elvis_lhs = this.k2o_1;
    var tmp;
    if (tmp1_elvis_lhs == null) {
      var tmp0_safe_receiver = this.f2o_1;
      var tmp_0;
      if (tmp0_safe_receiver == null) {
        tmp_0 = null;
      } else {
        var tmp$ret$3;
        {
          {
          }
          var tmp$ret$2;
          {
            var tmp$ret$1;
            {
              var tmp0_also = tmp0_safe_receiver.m2v(this, ctx);
              {
              }
              {
                this.k2o_1 = tmp0_also;
              }
              tmp$ret$1 = tmp0_also;
            }
            tmp$ret$2 = tmp$ret$1;
          }
          tmp$ret$3 = tmp$ret$2;
        }
        tmp_0 = tmp$ret$3;
      }
      tmp = tmp_0;
    } else {
      tmp = tmp1_elvis_lhs;
    }
    return tmp;
  };
  Mesh.prototype.t4g = function (ctx) {
    Node.prototype.t4g.call(this, ctx);
    var tmp0_safe_receiver = this.k2o_1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        tmp$ret$0 = ctx.c2c(tmp0_safe_receiver);
      }
    }
    this.k2o_1 = null;
  };
  Mesh.prototype.u4g = function (updateEvent) {
    if (!updateEvent.p4b_1(this)) {
      return Unit_getInstance();
    }
    Node.prototype.u4g.call(this, updateEvent);
    if (!this.c4h()) {
      return Unit_getInstance();
    }
    var insts = this.b2o_1;
    if (!(insts == null) ? insts.m2q_1 === 0 : false) {
      return Unit_getInstance();
    }
    if (this.z2n_1.q2p_1 ? !this.z2n_1.r2p_1 : false) {
      if (this.z2n_1.p2p_1) {
        this.z2n_1.s57();
      }
      this.m2o_1.t57(this);
    }
    updateEvent.n4b_1.f4t(this, updateEvent.o4b_1);
  };
  Mesh.$metadata$ = classMeta('Mesh', undefined, undefined, undefined, undefined, Node.prototype);
  function textureMesh(name, isNormalMapped, generate) {
    var attributes = mutableListOf([Companion_getInstance_28().z2v_1, Companion_getInstance_28().a2w_1, Companion_getInstance_28().c2w_1]);
    if (isNormalMapped) {
      {
        var tmp0_plusAssign = Companion_getInstance_28().b2w_1;
        attributes.b(tmp0_plusAssign);
      }
    }
    var tmp$ret$0;
    {
      var mesh = new Mesh(new IndexedVertexList(attributes), name);
      generate(mesh);
      tmp$ret$0 = mesh;
    }
    var mesh_0 = tmp$ret$0;
    if (isNormalMapped) {
      var tmp = mesh_0.z2n_1;
      tmp.u57(0.0, 1, null);
    }
    return mesh_0;
  }
  function textureMesh$default(name, isNormalMapped, generate, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      name = null;
    if (!(($mask0 & 2) === 0))
      isNormalMapped = false;
    return textureMesh(name, isNormalMapped, generate);
  }
  function mesh(attributes, name, block) {
    var mesh = new Mesh(new IndexedVertexList(attributes), name);
    block(mesh);
    return mesh;
  }
  function colorMesh(name, generate) {
    var tmp$ret$0;
    {
      var tmp0_mesh = listOf([Companion_getInstance_28().z2v_1, Companion_getInstance_28().a2w_1, Companion_getInstance_28().d2w_1]);
      var mesh = new Mesh(new IndexedVertexList(tmp0_mesh), name);
      generate(mesh);
      tmp$ret$0 = mesh;
    }
    return tmp$ret$0;
  }
  function colorMesh$default(name, generate, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      name = null;
    return colorMesh(name, generate);
  }
  function MeshInstanceList_init_$Init$(instanceAttributes, initialSize, $mask0, $marker, $this) {
    if (!(($mask0 & 2) === 0))
      initialSize = 100;
    MeshInstanceList.call($this, instanceAttributes, initialSize);
    return $this;
  }
  function MeshInstanceList_init_$Create$(instanceAttributes, initialSize, $mask0, $marker) {
    return MeshInstanceList_init_$Init$(instanceAttributes, initialSize, $mask0, $marker, Object.create(MeshInstanceList.prototype));
  }
  function MeshInstanceList(instanceAttributes, initialSize) {
    this.h2q_1 = instanceAttributes;
    this.l2q_1 = Usage_DYNAMIC_getInstance();
    this.m2q_1 = 0;
    this.p2q_1 = initialSize;
    this.q2q_1 = true;
    var strideF = 0;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    var offsets = tmp$ret$0;
    var tmp0_iterator = this.h2q_1.h();
    while (tmp0_iterator.n()) {
      var attrib = tmp0_iterator.o();
      if (attrib.t2p_1.b2q_1) {
        throw IllegalArgumentException_init_$Create$('For now only float attributes are supported');
      } else {
        {
          var tmp0_set = strideF;
          offsets.a(attrib, tmp0_set);
        }
        strideF = strideF + attrib.t2p_1.a2q_1 | 0;
      }
    }
    this.o2q_1 = strideF;
    this.i2q_1 = offsets;
    this.j2q_1 = this.o2q_1 / 4 | 0;
    this.k2q_1 = this.o2q_1;
    this.n2q_1 = createFloat32Buffer(imul(this.o2q_1, this.p2q_1));
  }
  MeshInstanceList.prototype.v57 = function () {
    return this.i2q_1;
  };
  MeshInstanceList.prototype.z4f = function (reqSpace) {
    if ((this.m2q_1 + reqSpace | 0) > this.p2q_1) {
      var tmp = this;
      var tmp$ret$0;
      {
        var tmp0_max = imul(this.p2q_1, 2);
        var tmp1_max = this.m2q_1 + reqSpace | 0;
        tmp$ret$0 = Math.max(tmp0_max, tmp1_max);
      }
      tmp.p2q_1 = tmp$ret$0;
      var newBuf = createFloat32Buffer(imul(this.o2q_1, this.p2q_1));
      this.n2q_1.y3s();
      newBuf.r3t(this.n2q_1);
      this.n2q_1 = newBuf;
    }
  };
  MeshInstanceList.prototype.w57 = function (block) {
    this.z4f(1);
    var szBefore = this.n2q_1.qr();
    {
      var tmp0__anonymous__q1qw7t = this.n2q_1;
      block(tmp0__anonymous__q1qw7t);
    }
    var growSz = this.n2q_1.qr() - szBefore | 0;
    if (!(growSz === imul(this.j2q_1, 1))) {
      throw IllegalStateException_init_$Create$('Expected data to grow by ' + imul(this.j2q_1, 1) + ' elements, instead it grew by ' + growSz);
    }
    var tmp0_this = this;
    tmp0_this.m2q_1 = tmp0_this.m2q_1 + 1 | 0;
    this.q2q_1 = true;
    return Unit_getInstance();
  };
  MeshInstanceList.prototype.t7 = function () {
    this.m2q_1 = 0;
    this.n2q_1.d4m(0);
    this.n2q_1.x57(this.n2q_1.b1w());
    this.q2q_1 = true;
  };
  MeshInstanceList.$metadata$ = classMeta('MeshInstanceList');
  function MeshRayTest$Companion$boundsTest$1() {
    this.y57_1 = null;
  }
  MeshRayTest$Companion$boundsTest$1.prototype.t57 = function (mesh) {
    this.y57_1 = mesh;
  };
  MeshRayTest$Companion$boundsTest$1.$metadata$ = classMeta(undefined, [MeshRayTest]);
  function Companion_35() {
    Companion_instance_35 = this;
  }
  Companion_35.prototype.r57 = function () {
    return new MeshRayTest$Companion$boundsTest$1();
  };
  Companion_35.$metadata$ = objectMeta('Companion');
  var Companion_instance_35;
  function Companion_getInstance_35() {
    if (Companion_instance_35 == null)
      new Companion_35();
    return Companion_instance_35;
  }
  function MeshRayTest() {
  }
  MeshRayTest.$metadata$ = interfaceMeta('MeshRayTest');
  function Node_init_$Init$(name, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0))
      name = null;
    Node.call($this, name);
    return $this;
  }
  function Companion_36() {
    Companion_instance_36 = this;
    this.z57_1 = new Mat4d();
  }
  Companion_36.$metadata$ = objectMeta('Companion');
  var Companion_instance_36;
  function Companion_getInstance_36() {
    if (Companion_instance_36 == null)
      new Companion_36();
    return Companion_instance_36;
  }
  function Node$modelMatInvLazy$lambda(this$0) {
    return function (it) {
      this$0.t2c_1.p2d(it, 0.0, 2, null);
      return Unit_getInstance();
    };
  }
  function Node(name) {
    Companion_getInstance_36();
    this.l2c_1 = name;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.m2c_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_0.n2c_1 = tmp$ret$1;
    var tmp_1 = this;
    tmp_1.o2c_1 = Tags_init_$Create$(null, 1, null);
    this.p2c_1 = new BoundingBox();
    this.q2c_1 = 0.0;
    this.r2c_1 = MutableVec3f_init_$Create$();
    this.s2c_1 = MutableVec3f_init_$Create$();
    this.t2c_1 = new Mat4d();
    var tmp_2 = this;
    tmp_2.u2c_1 = new LazyMat4d(Node$modelMatInvLazy$lambda(this));
    this.v2c_1 = null;
    this.w2c_1 = true;
    this.x2c_1 = true;
    this.y2c_1 = true;
    this.z2c_1 = true;
  }
  Node.prototype.il = function () {
    return this.l2c_1;
  };
  Node.prototype.o49 = function () {
    return this.m2c_1;
  };
  Node.prototype.m4l = function () {
    return this.n2c_1;
  };
  Node.prototype.r4g = function () {
    return this.p2c_1;
  };
  Node.prototype.v4g = function () {
    return this.r2c_1;
  };
  Node.prototype.w4g = function (_set____db54di) {
    this.q2c_1 = _set____db54di;
  };
  Node.prototype.x4g = function () {
    return this.q2c_1;
  };
  Node.prototype.j4l = function () {
    return this.r2c_1;
  };
  Node.prototype.k4l = function () {
    return this.s2c_1;
  };
  Node.prototype.y4g = function () {
    return this.t2c_1;
  };
  Node.prototype.z4g = function (_set____db54di) {
    this.v2c_1 = _set____db54di;
  };
  Node.prototype.a4h = function () {
    return this.v2c_1;
  };
  Node.prototype.a2d = function () {
    return this.w2c_1;
  };
  Node.prototype.k4g = function (_set____db54di) {
    this.y2c_1 = _set____db54di;
  };
  Node.prototype.b4h = function () {
    return this.y2c_1;
  };
  Node.prototype.c4h = function () {
    return this.z2c_1;
  };
  Node.prototype.d4h = function (updateEvent) {
    var inductionVariable = 0;
    var last = this.m2c_1.m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.m2c_1.r(i)(updateEvent);
      }
       while (inductionVariable <= last);
    this.e4h();
    var tmp = this.r2c_1.n2h(this.r4g().o2j_1);
    this.g4h(tmp, 0.0, 2, null);
    var tmp_0 = this.s2c_1.n2h(this.r4g().m2j_1);
    this.g4h(tmp_0, 0.0, 2, null);
    this.w4g(this.v4g().j2h(this.s2c_1));
  };
  Node.prototype.e4h = function () {
    var tmp0_safe_receiver = this.a4h();
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.t2c_1;
    this.t2c_1.x2d(tmp1_elvis_lhs == null ? Companion_getInstance_36().z57_1 : tmp1_elvis_lhs);
    this.u2c_1.b55_1 = true;
  };
  Node.prototype.u4g = function (updateEvent) {
    this.z2c_1 = this.h4h(updateEvent.p4s(), updateEvent.o4b_1);
  };
  Node.prototype.t4g = function (ctx) {
    var inductionVariable = 0;
    var last = this.n2c_1.m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.n2c_1.r(i)(ctx);
      }
       while (inductionVariable <= last);
  };
  Node.prototype.f4h = function (vec, w) {
    this.t2c_1.q2d(vec, w);
    return vec;
  };
  Node.prototype.g4h = function (vec, w, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      w = 1.0;
    return $handler == null ? this.f4h(vec, w) : $handler(vec, w);
  };
  Node.prototype.h4h = function (cam, ctx) {
    if (!this.a2d()) {
      return false;
    } else if (this.b4h() ? !this.r4g().k2j_1 : false) {
      return cam.z54(this);
    }
    return true;
  };
  Node.$metadata$ = classMeta('Node', [Disposable]);
  function addOffscreenPasses($this) {
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = $this.r2b_1;
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      {
        var tmp1_forEach = $this.r2b_1;
        var tmp0_iterator = tmp1_forEach.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          {
            if (!$this.q2b_1.p(element)) {
              var tmp0_this = $this;
              {
                var tmp0_plusAssign = tmp0_this.q2b_1;
                tmp0_plusAssign.b(element);
              }
            }
          }
        }
      }
      $this.r2b_1.t7();
    }
  }
  function removeOffscreenPasses($this) {
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = $this.s2b_1;
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      $this.q2b_1.f4($this.s2b_1);
      $this.s2b_1.t7();
    }
  }
  function handleDrag_0($this, ctx) {
    $this.t2b_1.t7();
    var inductionVariable = 0;
    var last = ctx.k2a().n27_1.p1z_1.length - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var ptr = ctx.k2a().n27_1.p1z_1[i];
        if (ptr.x1y_1 ? (!(ptr.v1y_1 === 0) ? true : !(ptr.w1y_1 === 0)) ? true : !(ptr.o20() === 0.0) : false) {
          $this.t2b_1.b(ptr);
        }
      }
       while (inductionVariable <= last);
    var inductionVariable_0 = $this.u2b_1.m() - 1 | 0;
    if (0 <= inductionVariable_0)
      do {
        var i_0 = inductionVariable_0;
        inductionVariable_0 = inductionVariable_0 + -1 | 0;
        $this.u2b_1.r(i_0).a58($this.t2b_1, $this, ctx);
      }
       while (0 <= inductionVariable_0);
  }
  function Scene(name) {
    Group.call(this, name);
    this.l2b_1 = new Lighting();
    var tmp = this;
    tmp.m2b_1 = PerspectiveCamera_init_$Create$(null, 1, null);
    var tmp_0 = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp_0.n2b_1 = tmp$ret$0;
    var tmp_1 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_1.o2b_1 = tmp$ret$1;
    this.p2b_1 = new ScreenRenderPass(this);
    var tmp_2 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = ArrayList_init_$Create$_0();
    }
    tmp_2.q2b_1 = tmp$ret$2;
    var tmp_3 = this;
    var tmp$ret$3;
    {
      tmp$ret$3 = ArrayList_init_$Create$_0();
    }
    tmp_3.r2b_1 = tmp$ret$3;
    var tmp_4 = this;
    var tmp$ret$4;
    {
      tmp$ret$4 = ArrayList_init_$Create$_0();
    }
    tmp_4.s2b_1 = tmp$ret$4;
    var tmp_5 = this;
    var tmp$ret$5;
    {
      tmp$ret$5 = ArrayList_init_$Create$_0();
    }
    tmp_5.t2b_1 = tmp$ret$5;
    var tmp_6 = this;
    var tmp$ret$6;
    {
      tmp$ret$6 = ArrayList_init_$Create$_0();
    }
    tmp_6.u2b_1 = tmp$ret$6;
    var tmp_7 = this;
    var tmp$ret$7;
    {
      tmp$ret$7 = ArrayList_init_$Create$_0();
    }
    tmp_7.v2b_1 = tmp$ret$7;
  }
  Scene.prototype.o4s = function (_set____db54di) {
    this.m2b_1 = _set____db54di;
  };
  Scene.prototype.p4s = function () {
    return this.m2b_1;
  };
  Scene.prototype.b58 = function () {
    return this.n2b_1;
  };
  Scene.prototype.c58 = function () {
    return this.p2b_1;
  };
  Scene.prototype.w2b = function () {
    return this.q2b_1;
  };
  Scene.prototype.k4g = function (_anonymous_parameter_0__qggqh8) {
  };
  Scene.prototype.b4h = function () {
    return false;
  };
  Scene.prototype.d2c = function (pass) {
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.r2b_1;
      tmp0_plusAssign.b(pass);
    }
  };
  Scene.prototype.d54 = function (pass) {
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.s2b_1;
      tmp0_plusAssign.b(pass);
    }
  };
  Scene.prototype.b2d = function (ctx) {
    var inductionVariable = 0;
    var last = this.n2b_1.m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.n2b_1.r(i)(ctx);
      }
       while (inductionVariable <= last);
    removeOffscreenPasses(this);
    addOffscreenPasses(this);
    this.p2b_1.d4t(ctx);
    var inductionVariable_0 = 0;
    var last_0 = this.w2b().m() - 1 | 0;
    if (inductionVariable_0 <= last_0)
      do {
        var i_0 = inductionVariable_0;
        inductionVariable_0 = inductionVariable_0 + 1 | 0;
        var pass = this.w2b().r(i_0);
        if (pass.q4q_1) {
          pass.d4t(ctx);
          pass.e4t(ctx);
        }
      }
       while (inductionVariable_0 <= last_0);
    this.p2b_1.e4t(ctx);
  };
  Scene.prototype.k2c = function (ctx) {
    if (!ctx.k2a().o27().equals(CursorMode_LOCKED_getInstance())) {
      var inductionVariable = 0;
      var last = this.o2b_1.m() - 1 | 0;
      if (inductionVariable <= last)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          this.o2b_1.r(i)(ctx);
        }
         while (inductionVariable <= last);
      handleDrag_0(this, ctx);
    }
  };
  Scene.prototype.d4h = function (updateEvent) {
    var inductionVariable = 0;
    var last = this.v2b_1.m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.v2b_1.r(i).t4g(updateEvent.o4b_1);
      }
       while (inductionVariable <= last);
    this.v2b_1.t7();
    Group.prototype.d4h.call(this, updateEvent);
  };
  Scene.prototype.t4g = function (ctx) {
    {
      var tmp0_forEach = this.v2b_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          element.t4g(ctx);
        }
      }
    }
    this.v2b_1.t7();
    this.p2b_1.t4g(ctx);
    var inductionVariable = 0;
    var last = this.w2b().m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.w2b().r(i).t4g(ctx);
      }
       while (inductionVariable <= last);
    this.s2b_1.t7();
    this.q2b_1.t7();
    Group.prototype.t4g.call(this, ctx);
  };
  Scene.$metadata$ = classMeta('Scene', undefined, undefined, undefined, undefined, Group.prototype);
  function Tags_init_$Init$(tags, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0)) {
      var tmp$ret$0;
      var tmp$ret$0_0;
      {
        tmp$ret$0 = LinkedHashMap_init_$Create$();
        tmp$ret$0_0 = Unit_getInstance();
      }
      tags = tmp$ret$0;
    }
    Tags.call($this, tags);
    return $this;
  }
  function Tags_init_$Create$(tags, $mask0, $marker) {
    return Tags_init_$Init$(tags, $mask0, $marker, Object.create(Tags.prototype));
  }
  function Tags(tags) {
    this.d58_1 = tags;
  }
  Tags.prototype.y = function () {
    return this.d58_1.y();
  };
  Tags.prototype.a3 = function () {
    return this.d58_1.a3();
  };
  Tags.prototype.m = function () {
    return this.d58_1.m();
  };
  Tags.prototype.b3 = function () {
    return this.d58_1.b3();
  };
  Tags.prototype.t7 = function () {
    this.d58_1.t7();
  };
  Tags.prototype.o10 = function (key) {
    return this.d58_1.t2(key);
  };
  Tags.prototype.t2 = function (key) {
    if (!(!(key == null) ? typeof key === 'string' : false))
      return false;
    return this.o10((!(key == null) ? typeof key === 'string' : false) ? key : THROW_CCE());
  };
  Tags.prototype.p10 = function (key) {
    return this.d58_1.z2(key);
  };
  Tags.prototype.z2 = function (key) {
    if (!(!(key == null) ? typeof key === 'string' : false))
      return null;
    return this.p10((!(key == null) ? typeof key === 'string' : false) ? key : THROW_CCE());
  };
  Tags.prototype.q = function () {
    return this.d58_1.q();
  };
  Tags.prototype.e58 = function (key, value) {
    return this.d58_1.a(key, value);
  };
  Tags.prototype.a = function (key, value) {
    var tmp = (!(key == null) ? typeof key === 'string' : false) ? key : THROW_CCE();
    return this.e58(tmp, (value == null ? true : isObject(value)) ? value : THROW_CCE());
  };
  Tags.prototype.f58 = function (from) {
    this.d58_1.b4(from);
  };
  Tags.prototype.b4 = function (from) {
    return this.f58(from);
  };
  Tags.prototype.g58 = function (key) {
    return this.d58_1.tf(key);
  };
  Tags.prototype.tf = function (key) {
    if (!(!(key == null) ? typeof key === 'string' : false))
      return null;
    return this.g58((!(key == null) ? typeof key === 'string' : false) ? key : THROW_CCE());
  };
  Tags.prototype.toString = function () {
    var str = StringBuilder_init_$Create$();
    var tmp$ret$5;
    {
      var tmp$ret$4;
      {
        var tmp0_mapTo = ArrayList_init_$Create$(this.m());
        var tmp$ret$0;
        {
          tmp$ret$0 = this.y().h();
        }
        var tmp0_iterator = tmp$ret$0;
        while (tmp0_iterator.n()) {
          var item = tmp0_iterator.o();
          var tmp$ret$3;
          {
            var tmp$ret$1;
            {
              tmp$ret$1 = item.j2();
            }
            var k = tmp$ret$1;
            var tmp$ret$2;
            {
              tmp$ret$2 = item.l2();
            }
            var v = tmp$ret$2;
            tmp$ret$3 = !(v == null) ? k + '=' + toString_0(v) : k;
          }
          tmp0_mapTo.b(tmp$ret$3);
        }
        tmp$ret$4 = tmp0_mapTo;
      }
      tmp$ret$5 = tmp$ret$4;
    }
    var tmp = tmp$ret$5;
    joinTo$default(tmp, str, null, '[', ']', 0, null, null, 114, null);
    return str.toString();
  };
  Tags.$metadata$ = classMeta('Tags', [MutableMap]);
  function LinearAnimator(value) {
    Animator.call(this, value);
  }
  LinearAnimator.prototype.m58 = function (progress) {
    return progress;
  };
  LinearAnimator.$metadata$ = classMeta('LinearAnimator', undefined, undefined, undefined, undefined, Animator.prototype);
  function InterpolatedFloat(from, to) {
    InterpolatedValue.call(this, from);
    this.a59_1 = from;
    this.b59_1 = to;
  }
  InterpolatedFloat.prototype.c59 = function (_set____db54di) {
    this.a59_1 = _set____db54di;
  };
  InterpolatedFloat.prototype.d59 = function (_set____db54di) {
    this.b59_1 = _set____db54di;
  };
  InterpolatedFloat.prototype.e59 = function (interpolationPos) {
    this.i2r(this.a59_1 + (this.b59_1 - this.a59_1) * interpolationPos);
  };
  InterpolatedFloat.$metadata$ = classMeta('InterpolatedFloat', undefined, undefined, undefined, undefined, InterpolatedValue.prototype);
  function Companion_37() {
    Companion_instance_37 = this;
    this.i59_1 = 1;
    this.j59_1 = 2;
    this.k59_1 = 3;
  }
  Companion_37.prototype.l59 = function () {
    return this.i59_1;
  };
  Companion_37.$metadata$ = objectMeta('Companion');
  var Companion_instance_37;
  function Companion_getInstance_37() {
    if (Companion_instance_37 == null)
      new Companion_37();
    return Companion_instance_37;
  }
  function Animator(value) {
    Companion_getInstance_37();
    this.n58_1 = value;
    this.o58_1 = 1.0;
    this.p58_1 = 1.0;
    this.q58_1 = Companion_getInstance_37().i59_1;
    this.r58_1 = 0.0;
  }
  Animator.prototype.l2 = function () {
    return this.n58_1;
  };
  Animator.prototype.s58 = function (_set____db54di) {
    this.o58_1 = _set____db54di;
  };
  Animator.prototype.t58 = function (_set____db54di) {
    this.p58_1 = _set____db54di;
  };
  Animator.prototype.u58 = function () {
    return this.p58_1;
  };
  Animator.prototype.m59 = function (_set____db54di) {
    this.q58_1 = _set____db54di;
  };
  Animator.prototype.v58 = function (_set____db54di) {
    this.r58_1 = _set____db54di;
  };
  Animator.prototype.w58 = function () {
    return this.r58_1;
  };
  Animator.prototype.x58 = function (ctx) {
    var tmp$ret$1;
    {
      var tmp0_isFuzzyZero = this.p58_1;
      var tmp1_isFuzzyZero = get_FUZZY_EQ_F();
      var tmp$ret$0;
      {
        tmp$ret$0 = Math.abs(tmp0_isFuzzyZero);
      }
      tmp$ret$1 = tmp$ret$0 <= tmp1_isFuzzyZero;
    }
    if (!tmp$ret$1) {
      var tmp0_this = this;
      tmp0_this.r58_1 = tmp0_this.r58_1 + ctx.r28_1 * this.p58_1 / this.o58_1;
      if (this.r58_1 >= 1.0 ? this.p58_1 > 0 : false) {
        var tmp1_subject = this.q58_1;
        if (tmp1_subject === Companion_getInstance_37().i59_1) {
          this.r58_1 = 1.0;
          this.p58_1 = 0.0;
        } else if (tmp1_subject === Companion_getInstance_37().j59_1) {
          this.r58_1 = 0.0;
        } else if (tmp1_subject === Companion_getInstance_37().k59_1) {
          this.r58_1 = 1.0;
          this.p58_1 = -this.p58_1;
        }
      } else if (this.r58_1 <= 0.0 ? this.p58_1 < 0 : false) {
        var tmp2_subject = this.q58_1;
        if (tmp2_subject === Companion_getInstance_37().i59_1) {
          this.r58_1 = 0.0;
          this.p58_1 = 0.0;
        } else if (tmp2_subject === Companion_getInstance_37().j59_1) {
          this.r58_1 = 1.0;
        } else if (tmp2_subject === Companion_getInstance_37().k59_1) {
          this.r58_1 = 0.0;
          this.p58_1 = -this.p58_1;
        }
      }
      var tmp = this;
      var tmp$ret$2;
      {
        var tmp2_clamp = this.r58_1;
        tmp$ret$2 = tmp2_clamp < 0.0 ? 0.0 : tmp2_clamp > 1.0 ? 1.0 : tmp2_clamp;
      }
      tmp.r58_1 = tmp$ret$2;
      this.n58_1.h59(this.m58(this.r58_1));
    }
    return this.n58_1.f59_1;
  };
  Animator.$metadata$ = classMeta('Animator');
  function InterpolatedValue(initial) {
    this.f59_1 = initial;
    this.g59_1 = null;
  }
  InterpolatedValue.prototype.i2r = function (_set____db54di) {
    this.f59_1 = _set____db54di;
  };
  InterpolatedValue.prototype.l2 = function () {
    return this.f59_1;
  };
  InterpolatedValue.prototype.h59 = function (progress) {
    this.e59(progress);
    var tmp0_safe_receiver = this.g59_1;
    if (tmp0_safe_receiver == null)
      null;
    else
      tmp0_safe_receiver(this.f59_1);
  };
  InterpolatedValue.$metadata$ = classMeta('InterpolatedValue');
  function InverseSquareAnimator(value) {
    Animator.call(this, value);
  }
  InverseSquareAnimator.prototype.m58 = function (progress) {
    return 1.0 - (1.0 - progress) * (1.0 - progress);
  };
  InverseSquareAnimator.$metadata$ = classMeta('InverseSquareAnimator', undefined, undefined, undefined, undefined, Animator.prototype);
  function IndexedVertexList_init_$Init$(vertexAttributes, $this) {
    IndexedVertexList.call($this, toList(vertexAttributes));
    return $this;
  }
  function IndexedVertexList_init_$Create$(vertexAttributes) {
    return IndexedVertexList_init_$Init$(vertexAttributes, Object.create(IndexedVertexList.prototype));
  }
  function increaseDataSizeF($this, newSize) {
    var newData = createFloat32Buffer(newSize);
    $this.k2p_1.y3s();
    newData.r3t($this.k2p_1);
    $this.k2p_1 = newData;
  }
  function increaseDataSizeI($this, newSize) {
    var newData = createUint32Buffer(newSize);
    $this.l2p_1.y3s();
    newData.s59($this.l2p_1);
    $this.l2p_1 = newData;
  }
  function increaseIndicesSize($this, newSize) {
    var newIdxs = createUint32Buffer(newSize);
    $this.m2p_1.y3s();
    newIdxs.s59($this.m2p_1);
    $this.m2p_1 = newIdxs;
  }
  function Companion_38() {
    Companion_instance_38 = this;
    this.t59_1 = 1000;
    this.u59_1 = 2.0;
  }
  Companion_38.$metadata$ = objectMeta('Companion');
  var Companion_instance_38;
  function Companion_getInstance_38() {
    if (Companion_instance_38 == null)
      new Companion_38();
    return Companion_instance_38;
  }
  function IndexedVertexList(vertexAttributes) {
    Companion_getInstance_38();
    this.a2p_1 = vertexAttributes;
    var tmp = this;
    var tmp$ret$3;
    {
      var tmp0_fold = this.a2p_1;
      var accumulator = new Long(0, 0);
      var tmp0_iterator = tmp0_fold.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$2;
        {
          var tmp1__anonymous__uwfjfc = accumulator;
          var tmp$ret$1;
          {
            var tmp$ret$0;
            {
              tmp$ret$0 = tmp1__anonymous__uwfjfc.ja(new Long(31, 0));
            }
            var tmp0_plus = tmp$ret$0;
            var tmp1_plus = element.hashCode();
            tmp$ret$1 = tmp0_plus.ka(toLong(tmp1_plus));
          }
          tmp$ret$2 = tmp$ret$1;
        }
        accumulator = tmp$ret$2;
      }
      tmp$ret$3 = accumulator;
    }
    tmp.b2p_1 = tmp$ret$3;
    this.h2p_1 = PrimitiveType_TRIANGLES_getInstance();
    this.i2p_1 = Usage_STATIC_getInstance();
    this.j2p_1 = 0;
    var tmp_0 = this;
    Companion_getInstance_38();
    tmp_0.m2p_1 = createUint32Buffer(1000);
    this.n2p_1 = new BoundingBox();
    this.p2p_1 = false;
    this.q2p_1 = true;
    this.r2p_1 = false;
    var strideF = 0;
    var strideI = 0;
    var tmp$ret$4;
    {
      tmp$ret$4 = LinkedHashMap_init_$Create$();
    }
    var byteOffsets = tmp$ret$4;
    var tmp0_iterator_0 = this.a2p_1.h();
    while (tmp0_iterator_0.n()) {
      var attrib = tmp0_iterator_0.o();
      if ((attrib.t2p_1.equals(GlslType_MAT_2F_getInstance()) ? true : attrib.t2p_1.equals(GlslType_MAT_3F_getInstance())) ? true : attrib.t2p_1.equals(GlslType_MAT_4F_getInstance())) {
        throw IllegalArgumentException_init_$Create$('Matrix types are not supported as vertex attributes');
      }
      if (attrib.t2p_1.b2q_1) {
        {
          var tmp0_set = strideI;
          byteOffsets.a(attrib, tmp0_set);
        }
        strideI = strideI + attrib.t2p_1.a2q_1 | 0;
      } else {
        {
          var tmp1_set = strideF;
          byteOffsets.a(attrib, tmp1_set);
        }
        strideF = strideF + attrib.t2p_1.a2q_1 | 0;
      }
    }
    this.g2p_1 = byteOffsets;
    this.c2p_1 = strideF / 4 | 0;
    this.d2p_1 = strideF;
    this.e2p_1 = strideI / 4 | 0;
    this.f2p_1 = strideI;
    var tmp_1 = this;
    var tmp_2 = strideF;
    Companion_getInstance_38();
    tmp_1.k2p_1 = createFloat32Buffer(imul(tmp_2, 1000));
    var tmp_3 = this;
    var tmp_4 = strideI;
    Companion_getInstance_38();
    tmp_3.l2p_1 = createUint32Buffer(imul(tmp_4, 1000));
    this.o2p_1 = new VertexView(this, 0);
  }
  IndexedVertexList.prototype.v59 = function () {
    return this.g2p_1;
  };
  IndexedVertexList.prototype.n3t = function () {
    return this.m2p_1.qr();
  };
  IndexedVertexList.prototype.w59 = function () {
    return this.n3t() / this.h2p_1.z59_1 | 0;
  };
  IndexedVertexList.prototype.q3t = function (reqSpace) {
    if (this.k2p_1.a5a() < imul(this.c2p_1, reqSpace)) {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          var tmp = this.k2p_1.b1w();
          Companion_getInstance_38();
          var tmp0_round = tmp * 2.0;
          tmp$ret$0 = round(tmp0_round);
        }
        var tmp1_max = numberToInt(tmp$ret$0);
        var tmp2_max = imul(this.j2p_1 + reqSpace | 0, this.c2p_1);
        tmp$ret$1 = Math.max(tmp1_max, tmp2_max);
      }
      increaseDataSizeF(this, tmp$ret$1);
    }
    if (this.l2p_1.a5a() < imul(this.e2p_1, reqSpace)) {
      var tmp$ret$3;
      {
        var tmp$ret$2;
        {
          var tmp_0 = this.l2p_1.b1w();
          Companion_getInstance_38();
          var tmp3_round = tmp_0 * 2.0;
          tmp$ret$2 = round(tmp3_round);
        }
        var tmp4_max = numberToInt(tmp$ret$2);
        var tmp5_max = imul(this.j2p_1 + reqSpace | 0, this.e2p_1);
        tmp$ret$3 = Math.max(tmp4_max, tmp5_max);
      }
      increaseDataSizeI(this, tmp$ret$3);
    }
  };
  IndexedVertexList.prototype.c4g = function (reqSpace, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      reqSpace = 1;
    return this.q3t(reqSpace);
  };
  IndexedVertexList.prototype.o3t = function (reqSpace) {
    if (this.m2p_1.a5a() < reqSpace) {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          var tmp = this.m2p_1.b1w();
          Companion_getInstance_38();
          var tmp0_round = tmp * 2.0;
          tmp$ret$0 = round(tmp0_round);
        }
        var tmp1_max = numberToInt(tmp$ret$0);
        var tmp2_max = this.j2p_1 + reqSpace | 0;
        tmp$ret$1 = Math.max(tmp1_max, tmp2_max);
      }
      increaseIndicesSize(this, tmp$ret$1);
    }
  };
  IndexedVertexList.prototype.b5a = function (reqSpace, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      reqSpace = 1;
    return this.o3t(reqSpace);
  };
  IndexedVertexList.prototype.c5a = function (attribute) {
    return this.a2p_1.p(attribute);
  };
  IndexedVertexList.prototype.d5a = function (rebuildBounds, block) {
    var wasBatchUpdate = this.r2p_1;
    this.r2p_1 = true;
    block(this);
    this.q2p_1 = true;
    this.r2p_1 = wasBatchUpdate;
    if (rebuildBounds) {
      this.s57();
    }
  };
  IndexedVertexList.prototype.e5a = function (block) {
    this.c4g(0, 1, null);
    var inductionVariable = 1;
    var last = this.c2p_1;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tmp1_this = this;
        tmp1_this.k2p_1.d4g(0.0);
      }
       while (!(i === last));
    var inductionVariable_0 = 1;
    var last_0 = this.e2p_1;
    if (inductionVariable_0 <= last_0)
      do {
        var i_0 = inductionVariable_0;
        inductionVariable_0 = inductionVariable_0 + 1 | 0;
        var tmp3_this = this;
        tmp3_this.l2p_1.e4g(0);
      }
       while (!(i_0 === last_0));
    var tmp4_this = this;
    var tmp5 = tmp4_this.j2p_1;
    tmp4_this.j2p_1 = tmp5 + 1 | 0;
    this.o2p_1.ue(tmp5);
    block(this.o2p_1);
    this.n2p_1.q2h(this.o2p_1.r4c_1);
    this.q2p_1 = true;
    return this.j2p_1 - 1 | 0;
  };
  IndexedVertexList.prototype.f5a = function (idx) {
    if (this.m2p_1.a5a() === 0) {
      this.b5a(0, 1, null);
    }
    var tmp0_this = this;
    tmp0_this.m2p_1.e4g(idx);
  };
  IndexedVertexList.prototype.i4g = function (i0, i1, i2) {
    this.f5a(i0);
    this.f5a(i1);
    this.f5a(i2);
  };
  IndexedVertexList.prototype.s57 = function () {
    this.n2p_1.s2j();
    var inductionVariable = 0;
    var last = this.j2p_1;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.o2p_1.ue(i);
        this.n2p_1.q2h(this.o2p_1.r4c_1);
      }
       while (inductionVariable < last);
  };
  IndexedVertexList.prototype.t7 = function () {
    this.j2p_1 = 0;
    this.k2p_1.d4m(0);
    this.k2p_1.x57(this.k2p_1.b1w());
    this.l2p_1.d4m(0);
    this.l2p_1.x57(this.l2p_1.b1w());
    this.m2p_1.d4m(0);
    this.m2p_1.x57(this.m2p_1.b1w());
    this.q2p_1 = true;
  };
  IndexedVertexList.prototype.r = function (i) {
    if (i < 0 ? true : i >= (this.k2p_1.b1w() / this.c2p_1 | 0)) {
      throw KoolException_init_$Create$('Vertex index out of bounds: ' + i);
    }
    return new VertexView(this, i);
  };
  IndexedVertexList.prototype.g5a = function (tangentSign) {
    if (!this.a2p_1.p(Companion_getInstance_28().b2w_1)) {
      return Unit_getInstance();
    }
    if (!this.h2p_1.equals(PrimitiveType_TRIANGLES_getInstance())) {
      throw KoolException_init_$Create$('Normal generation is only supported for triangle meshes');
    }
    var v0 = this.r(0);
    var v1 = this.r(1);
    var v2 = this.r(2);
    var e1 = MutableVec3f_init_$Create$();
    var e2 = MutableVec3f_init_$Create$();
    var tan = MutableVec3f_init_$Create$();
    var inductionVariable = 0;
    var last = this.j2p_1;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        v0.ue(i);
        var tmp = Companion_getInstance_9().y2g_1;
        v0.t4c_1.u2i(tmp, 0.0, 2, null);
      }
       while (inductionVariable < last);
    var progression = step(until(0, this.n3t()), 3);
    var inductionVariable_0 = progression.e1_1;
    var last_0 = progression.f1_1;
    var step_0 = progression.g1_1;
    if ((step_0 > 0 ? inductionVariable_0 <= last_0 : false) ? true : step_0 < 0 ? last_0 <= inductionVariable_0 : false)
      do {
        var i_0 = inductionVariable_0;
        inductionVariable_0 = inductionVariable_0 + step_0 | 0;
        v0.ue(this.m2p_1.r(i_0));
        v1.ue(this.m2p_1.r(i_0 + 1 | 0));
        v2.ue(this.m2p_1.r(i_0 + 2 | 0));
        v1.r4c_1.o2h(v0.r4c_1, e1);
        v2.r4c_1.o2h(v0.r4c_1, e2);
        var du1 = v1.v4c_1.z1z() - v0.v4c_1.z1z();
        var dv1 = v1.v4c_1.b20() - v0.v4c_1.b20();
        var du2 = v2.v4c_1.z1z() - v0.v4c_1.z1z();
        var dv2 = v2.v4c_1.b20() - v0.v4c_1.b20();
        var f = 1.0 / (du1 * dv2 - du2 * dv1);
        if (isNaN_0(f)) {
        } else {
          tan.t2f(f * (dv2 * e1.z1z() - dv1 * e2.z1z()));
          tan.u2f(f * (dv2 * e1.b20() - dv1 * e2.b20()));
          tan.i2h(f * (dv2 * e1.s2d() - dv1 * e2.s2d()));
          var tmp2_this = v0;
          tmp2_this.t4c_1.v2i(Vec4f_init_$Create$_0(tan, 0.0));
          var tmp3_this = v1;
          tmp3_this.t4c_1.v2i(Vec4f_init_$Create$_0(tan, 0.0));
          var tmp4_this = v2;
          tmp4_this.t4c_1.v2i(Vec4f_init_$Create$_0(tan, 0.0));
        }
      }
       while (!(i_0 === last_0));
    var inductionVariable_1 = 0;
    var last_1 = this.j2p_1;
    if (inductionVariable_1 < last_1)
      do {
        var i_1 = inductionVariable_1;
        inductionVariable_1 = inductionVariable_1 + 1 | 0;
        v0.ue(i_1);
        if (v0.s4c_1.q2g() === 0.0) {
          v0.s4c_1.n2h(Companion_getInstance_9().b2h_1);
        }
        if (!(v0.t4c_1.q2g() === 0.0)) {
          v0.t4c_1.r2h();
          v0.t4c_1.p2i(tangentSign);
        } else {
          var tmp_0 = Companion_getInstance_9().a2h_1;
          v0.t4c_1.u2i(tmp_0, 0.0, 2, null);
        }
      }
       while (inductionVariable_1 < last_1);
  };
  IndexedVertexList.prototype.u57 = function (tangentSign, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      tangentSign = 1.0;
    return this.g5a(tangentSign);
  };
  IndexedVertexList.$metadata$ = classMeta('IndexedVertexList');
  var PrimitiveType_LINES_instance;
  var PrimitiveType_POINTS_instance;
  var PrimitiveType_TRIANGLES_instance;
  var PrimitiveType_entriesInitialized;
  function PrimitiveType_initEntries() {
    if (PrimitiveType_entriesInitialized)
      return Unit_getInstance();
    PrimitiveType_entriesInitialized = true;
    PrimitiveType_LINES_instance = new PrimitiveType('LINES', 0, 2);
    PrimitiveType_POINTS_instance = new PrimitiveType('POINTS', 1, 1);
    PrimitiveType_TRIANGLES_instance = new PrimitiveType('TRIANGLES', 2, 3);
  }
  function PrimitiveType(name, ordinal, nVertices) {
    Enum.call(this, name, ordinal);
    this.z59_1 = nVertices;
  }
  PrimitiveType.$metadata$ = classMeta('PrimitiveType', undefined, undefined, undefined, undefined, Enum.prototype);
  var Usage_DYNAMIC_instance;
  var Usage_STATIC_instance;
  var Usage_entriesInitialized;
  function Usage_initEntries() {
    if (Usage_entriesInitialized)
      return Unit_getInstance();
    Usage_entriesInitialized = true;
    Usage_DYNAMIC_instance = new Usage('DYNAMIC', 0);
    Usage_STATIC_instance = new Usage('STATIC', 1);
  }
  function Usage(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  Usage.$metadata$ = classMeta('Usage', undefined, undefined, undefined, undefined, Enum.prototype);
  function PrimitiveType_TRIANGLES_getInstance() {
    PrimitiveType_initEntries();
    return PrimitiveType_TRIANGLES_instance;
  }
  function Usage_DYNAMIC_getInstance() {
    Usage_initEntries();
    return Usage_DYNAMIC_instance;
  }
  function Usage_STATIC_getInstance() {
    Usage_initEntries();
    return Usage_STATIC_instance;
  }
  function wrapText($this, txtProps) {
    var tmp = txtProps.g3s_1;
    var tmp_0 = charArrayOf([_Char___init__impl__6a9atx(32)]);
    var words = split$default(tmp, tmp_0, false, 0, 6, null);
    var outTxt = StringBuilder_init_$Create$();
    var pos = 0.0;
    {
      var tmp0_iterator = words.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var ww = txtProps.f3s_1.h5a(element) + txtProps.f3s_1.i5a(_Char___init__impl__6a9atx(32));
          var advPos = pos + ww;
          var tmp_1;
          if (pos > 0.0 ? advPos > txtProps.k3s_1 : false) {
            outTxt.ea(_Char___init__impl__6a9atx(10));
            tmp_1 = ww;
          } else {
            tmp_1 = advPos;
          }
          pos = tmp_1;
          outTxt.ga(element).ea(_Char___init__impl__6a9atx(32));
        }
      }
    }
    return outTxt.toString();
  }
  function MeshBuilder(geometry) {
    this.n3s_1 = geometry;
    var tmp = this;
    tmp.o3s_1 = Mat4fStack_init_$Create$(0, 1, null);
    this.p3s_1 = false;
    this.q3s_1 = Companion_getInstance_39().y30_1;
    this.r3s_1 = Companion_getInstance_39().w30_1;
    this.s3s_1 = 0.0;
    this.t3s_1 = 0.5;
    this.u3s_1 = null;
    this.v3s_1 = this.n3s_1.c5a(Companion_getInstance_28().a2w_1);
  }
  MeshBuilder.prototype.e4l = function () {
    return this.o3s_1;
  };
  MeshBuilder.prototype.j5a = function (_set____db54di) {
    this.p3s_1 = _set____db54di;
  };
  MeshBuilder.prototype.k5a = function (_set____db54di) {
    this.q3s_1 = _set____db54di;
  };
  MeshBuilder.prototype.l5a = function () {
    return this.q3s_1;
  };
  MeshBuilder.prototype.m5a = function () {
    return this.r3s_1;
  };
  MeshBuilder.prototype.n5a = function () {
    return this.s3s_1;
  };
  MeshBuilder.prototype.o5a = function () {
    return this.t3s_1;
  };
  MeshBuilder.prototype.p5a = function (_set____db54di) {
    this.u3s_1 = _set____db54di;
  };
  MeshBuilder.prototype.q5a = function () {
    return this.u3s_1;
  };
  MeshBuilder.prototype.r5a = function () {
    return this.v3s_1;
  };
  MeshBuilder.prototype.s5a = function (block) {
    var tmp$ret$0;
    {
      var tmp0_addVertex = this.n3s_1;
      tmp0_addVertex.c4g(0, 1, null);
      var inductionVariable = 1;
      var last = tmp0_addVertex.c2p_1;
      if (inductionVariable <= last)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          var tmp1_this = tmp0_addVertex;
          tmp1_this.k2p_1.d4g(0.0);
        }
         while (!(i === last));
      var inductionVariable_0 = 1;
      var last_0 = tmp0_addVertex.e2p_1;
      if (inductionVariable_0 <= last_0)
        do {
          var i_0 = inductionVariable_0;
          inductionVariable_0 = inductionVariable_0 + 1 | 0;
          var tmp3_this = tmp0_addVertex;
          tmp3_this.l2p_1.e4g(0);
        }
         while (!(i_0 === last_0));
      var tmp4_this = tmp0_addVertex;
      var tmp5 = tmp4_this.j2p_1;
      tmp4_this.j2p_1 = tmp5 + 1 | 0;
      tmp0_addVertex.o2p_1.ue(tmp5);
      {
        var tmp1__anonymous__uwfjfc = tmp0_addVertex.o2p_1;
        tmp1__anonymous__uwfjfc.u4c_1.s2i(this.q3s_1);
        tmp1__anonymous__uwfjfc.f4g(this.r3s_1);
        tmp1__anonymous__uwfjfc.g4g(this.s3s_1);
        tmp1__anonymous__uwfjfc.h4g(this.t3s_1);
        block(tmp1__anonymous__uwfjfc);
        this.o3s_1.u2d(tmp1__anonymous__uwfjfc.r4c_1, 0.0, 2, null);
        if (this.v3s_1 ? !(tmp1__anonymous__uwfjfc.s4c_1.q2g() === 0.0) : false) {
          this.o3s_1.q2d(tmp1__anonymous__uwfjfc.s4c_1, 0.0);
          tmp1__anonymous__uwfjfc.s4c_1.r2h();
        }
        var tmp0_safe_receiver = this.u3s_1;
        if (tmp0_safe_receiver == null)
          null;
        else
          tmp0_safe_receiver(tmp1__anonymous__uwfjfc);
      }
      tmp0_addVertex.n2p_1.q2h(tmp0_addVertex.o2p_1.r4c_1);
      tmp0_addVertex.q2p_1 = true;
      tmp$ret$0 = tmp0_addVertex.j2p_1 - 1 | 0;
    }
    return tmp$ret$0;
  };
  MeshBuilder.prototype.t5a = function (pos, nrm, uv) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_addVertex = this.n3s_1;
        tmp0_addVertex.c4g(0, 1, null);
        var inductionVariable = 1;
        var last = tmp0_addVertex.c2p_1;
        if (inductionVariable <= last)
          do {
            var i = inductionVariable;
            inductionVariable = inductionVariable + 1 | 0;
            var tmp1_this = tmp0_addVertex;
            tmp1_this.k2p_1.d4g(0.0);
          }
           while (!(i === last));
        var inductionVariable_0 = 1;
        var last_0 = tmp0_addVertex.e2p_1;
        if (inductionVariable_0 <= last_0)
          do {
            var i_0 = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            var tmp3_this = tmp0_addVertex;
            tmp3_this.l2p_1.e4g(0);
          }
           while (!(i_0 === last_0));
        var tmp4_this = tmp0_addVertex;
        var tmp5 = tmp4_this.j2p_1;
        tmp4_this.j2p_1 = tmp5 + 1 | 0;
        tmp0_addVertex.o2p_1.ue(tmp5);
        {
          var tmp1__anonymous__uwfjfc = tmp0_addVertex.o2p_1;
          tmp1__anonymous__uwfjfc.u4c_1.s2i(this.q3s_1);
          tmp1__anonymous__uwfjfc.f4g(this.r3s_1);
          tmp1__anonymous__uwfjfc.g4g(this.s3s_1);
          tmp1__anonymous__uwfjfc.h4g(this.t3s_1);
          {
            tmp1__anonymous__uwfjfc.r4c_1.n2h(pos);
            tmp1__anonymous__uwfjfc.s4c_1.n2h(nrm);
            tmp1__anonymous__uwfjfc.v4c_1.y2f(uv);
          }
          this.o3s_1.u2d(tmp1__anonymous__uwfjfc.r4c_1, 0.0, 2, null);
          if (this.v3s_1 ? !(tmp1__anonymous__uwfjfc.s4c_1.q2g() === 0.0) : false) {
            this.o3s_1.q2d(tmp1__anonymous__uwfjfc.s4c_1, 0.0);
            tmp1__anonymous__uwfjfc.s4c_1.r2h();
          }
          var tmp0_safe_receiver = this.u3s_1;
          if (tmp0_safe_receiver == null)
            null;
          else
            tmp0_safe_receiver(tmp1__anonymous__uwfjfc);
        }
        tmp0_addVertex.n2p_1.q2h(tmp0_addVertex.o2p_1.r4c_1);
        tmp0_addVertex.q2p_1 = true;
        tmp$ret$0 = tmp0_addVertex.j2p_1 - 1 | 0;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1;
  };
  MeshBuilder.prototype.i4g = function (i0, i1, i2) {
    if (this.p3s_1) {
      this.n3s_1.i4g(i2, i1, i0);
    } else {
      this.n3s_1.i4g(i0, i1, i2);
    }
  };
  MeshBuilder.prototype.u5a = function (block) {
    this.o3s_1.v2e();
    block(this);
    this.o3s_1.w2e();
  };
  MeshBuilder.prototype.t7 = function () {
    this.n3s_1.t7();
    this.v5a();
  };
  MeshBuilder.prototype.v5a = function () {
    return this.o3s_1.h2d();
  };
  MeshBuilder.prototype.w3s = function (t) {
    return this.o3s_1.j2e(t.z1z(), t.b20(), t.s2d());
  };
  MeshBuilder.prototype.j2e = function (x, y, z) {
    return this.o3s_1.j2e(x, y, z);
  };
  MeshBuilder.prototype.o2e = function (angleDeg, axis) {
    return this.o3s_1.o2e(angleDeg, axis);
  };
  MeshBuilder.prototype.p2e = function (x, y, z) {
    return this.o3s_1.p2e(x, y, z);
  };
  MeshBuilder.prototype.w5a = function (block) {
    var props = new CircleProps();
    block(props);
    this.x5a(props);
  };
  MeshBuilder.prototype.x5a = function (props) {
    var i1 = 0;
    var iCenter = this.t5a(props.a5b_1, Companion_getInstance_9().c2h_1, props.d5b_1);
    var inductionVariable = 0;
    var last = props.z5a_1;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tmp$ret$0;
        {
          var tmp0_toRad = props.b5b_1 + props.c5b_1 * i / props.z5a_1;
          tmp$ret$0 = tmp0_toRad * get_DEG_2_RAD();
        }
        var ang = tmp$ret$0;
        var tmp$ret$1;
        {
          tmp$ret$1 = Math.cos(ang);
        }
        var cos = tmp$ret$1;
        var tmp$ret$2;
        {
          tmp$ret$2 = Math.sin(ang);
        }
        var sin = tmp$ret$2;
        var px = props.a5b_1.z1z() + props.y5a_1 * cos;
        var py = props.a5b_1.b20() + props.y5a_1 * sin;
        var tmp$ret$4;
        {
          var tmp$ret$3;
          {
            var tmp0_addVertex = this.n3s_1;
            tmp0_addVertex.c4g(0, 1, null);
            var inductionVariable_0 = 1;
            var last_0 = tmp0_addVertex.c2p_1;
            if (inductionVariable_0 <= last_0)
              do {
                var i_0 = inductionVariable_0;
                inductionVariable_0 = inductionVariable_0 + 1 | 0;
                var tmp1_this = tmp0_addVertex;
                tmp1_this.k2p_1.d4g(0.0);
              }
               while (!(i_0 === last_0));
            var inductionVariable_1 = 1;
            var last_1 = tmp0_addVertex.e2p_1;
            if (inductionVariable_1 <= last_1)
              do {
                var i_1 = inductionVariable_1;
                inductionVariable_1 = inductionVariable_1 + 1 | 0;
                var tmp3_this = tmp0_addVertex;
                tmp3_this.l2p_1.e4g(0);
              }
               while (!(i_1 === last_1));
            var tmp4_this = tmp0_addVertex;
            var tmp5 = tmp4_this.j2p_1;
            tmp4_this.j2p_1 = tmp5 + 1 | 0;
            tmp0_addVertex.o2p_1.ue(tmp5);
            {
              var tmp1__anonymous__uwfjfc = tmp0_addVertex.o2p_1;
              tmp1__anonymous__uwfjfc.u4c_1.s2i(this.q3s_1);
              tmp1__anonymous__uwfjfc.f4g(this.r3s_1);
              tmp1__anonymous__uwfjfc.g4g(this.s3s_1);
              tmp1__anonymous__uwfjfc.h4g(this.t3s_1);
              {
                tmp1__anonymous__uwfjfc.r4c_1.t2d(px, py, props.a5b_1.s2d());
                tmp1__anonymous__uwfjfc.s4c_1.n2h(Companion_getInstance_9().c2h_1);
                tmp1__anonymous__uwfjfc.v4c_1.x2f(cos, -sin).w2f(props.e5b_1).v2f(props.d5b_1);
              }
              this.o3s_1.u2d(tmp1__anonymous__uwfjfc.r4c_1, 0.0, 2, null);
              if (this.v3s_1 ? !(tmp1__anonymous__uwfjfc.s4c_1.q2g() === 0.0) : false) {
                this.o3s_1.q2d(tmp1__anonymous__uwfjfc.s4c_1, 0.0);
                tmp1__anonymous__uwfjfc.s4c_1.r2h();
              }
              var tmp0_safe_receiver = this.u3s_1;
              if (tmp0_safe_receiver == null)
                null;
              else
                tmp0_safe_receiver(tmp1__anonymous__uwfjfc);
            }
            tmp0_addVertex.n2p_1.q2h(tmp0_addVertex.o2p_1.r4c_1);
            tmp0_addVertex.q2p_1 = true;
            tmp$ret$3 = tmp0_addVertex.j2p_1 - 1 | 0;
          }
          tmp$ret$4 = tmp$ret$3;
        }
        var idx = tmp$ret$4;
        if (i > 0) {
          this.i4g(iCenter, i1, idx);
        }
        i1 = idx;
      }
       while (!(i === last));
  };
  MeshBuilder.prototype.f5b = function (block) {
    var props = new RectProps();
    block(props);
    this.w4n(props);
  };
  MeshBuilder.prototype.w4n = function (props) {
    props.g5b();
    if (props.n4n_1 === 0.0) {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          var tmp0_addVertex = this.n3s_1;
          tmp0_addVertex.c4g(0, 1, null);
          var inductionVariable = 1;
          var last = tmp0_addVertex.c2p_1;
          if (inductionVariable <= last)
            do {
              var i = inductionVariable;
              inductionVariable = inductionVariable + 1 | 0;
              var tmp1_this = tmp0_addVertex;
              tmp1_this.k2p_1.d4g(0.0);
            }
             while (!(i === last));
          var inductionVariable_0 = 1;
          var last_0 = tmp0_addVertex.e2p_1;
          if (inductionVariable_0 <= last_0)
            do {
              var i_0 = inductionVariable_0;
              inductionVariable_0 = inductionVariable_0 + 1 | 0;
              var tmp3_this = tmp0_addVertex;
              tmp3_this.l2p_1.e4g(0);
            }
             while (!(i_0 === last_0));
          var tmp4_this = tmp0_addVertex;
          var tmp5 = tmp4_this.j2p_1;
          tmp4_this.j2p_1 = tmp5 + 1 | 0;
          tmp0_addVertex.o2p_1.ue(tmp5);
          {
            var tmp1__anonymous__uwfjfc = tmp0_addVertex.o2p_1;
            tmp1__anonymous__uwfjfc.u4c_1.s2i(this.q3s_1);
            tmp1__anonymous__uwfjfc.f4g(this.r3s_1);
            tmp1__anonymous__uwfjfc.g4g(this.s3s_1);
            tmp1__anonymous__uwfjfc.h4g(this.t3s_1);
            {
              tmp1__anonymous__uwfjfc.r4c_1.t2d(props.p4n_1.z1z(), props.p4n_1.b20(), props.p4n_1.s2d());
              tmp1__anonymous__uwfjfc.s4c_1.n2h(Companion_getInstance_9().c2h_1);
              tmp1__anonymous__uwfjfc.v4c_1.y2f(props.t4n_1);
            }
            this.o3s_1.u2d(tmp1__anonymous__uwfjfc.r4c_1, 0.0, 2, null);
            if (this.v3s_1 ? !(tmp1__anonymous__uwfjfc.s4c_1.q2g() === 0.0) : false) {
              this.o3s_1.q2d(tmp1__anonymous__uwfjfc.s4c_1, 0.0);
              tmp1__anonymous__uwfjfc.s4c_1.r2h();
            }
            var tmp0_safe_receiver = this.u3s_1;
            if (tmp0_safe_receiver == null)
              null;
            else
              tmp0_safe_receiver(tmp1__anonymous__uwfjfc);
          }
          tmp0_addVertex.n2p_1.q2h(tmp0_addVertex.o2p_1.r4c_1);
          tmp0_addVertex.q2p_1 = true;
          tmp$ret$0 = tmp0_addVertex.j2p_1 - 1 | 0;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      var i0 = tmp$ret$1;
      var tmp$ret$3;
      {
        var tmp$ret$2;
        {
          var tmp0_addVertex_0 = this.n3s_1;
          tmp0_addVertex_0.c4g(0, 1, null);
          var inductionVariable_1 = 1;
          var last_1 = tmp0_addVertex_0.c2p_1;
          if (inductionVariable_1 <= last_1)
            do {
              var i_1 = inductionVariable_1;
              inductionVariable_1 = inductionVariable_1 + 1 | 0;
              var tmp1_this_0 = tmp0_addVertex_0;
              tmp1_this_0.k2p_1.d4g(0.0);
            }
             while (!(i_1 === last_1));
          var inductionVariable_2 = 1;
          var last_2 = tmp0_addVertex_0.e2p_1;
          if (inductionVariable_2 <= last_2)
            do {
              var i_2 = inductionVariable_2;
              inductionVariable_2 = inductionVariable_2 + 1 | 0;
              var tmp3_this_0 = tmp0_addVertex_0;
              tmp3_this_0.l2p_1.e4g(0);
            }
             while (!(i_2 === last_2));
          var tmp4_this_0 = tmp0_addVertex_0;
          var tmp5_0 = tmp4_this_0.j2p_1;
          tmp4_this_0.j2p_1 = tmp5_0 + 1 | 0;
          tmp0_addVertex_0.o2p_1.ue(tmp5_0);
          {
            var tmp1__anonymous__uwfjfc_0 = tmp0_addVertex_0.o2p_1;
            tmp1__anonymous__uwfjfc_0.u4c_1.s2i(this.q3s_1);
            tmp1__anonymous__uwfjfc_0.f4g(this.r3s_1);
            tmp1__anonymous__uwfjfc_0.g4g(this.s3s_1);
            tmp1__anonymous__uwfjfc_0.h4g(this.t3s_1);
            {
              tmp1__anonymous__uwfjfc_0.r4c_1.t2d(props.p4n_1.z1z() + props.q4n_1.z1z(), props.p4n_1.b20(), props.p4n_1.s2d());
              tmp1__anonymous__uwfjfc_0.s4c_1.n2h(Companion_getInstance_9().c2h_1);
              tmp1__anonymous__uwfjfc_0.v4c_1.y2f(props.u4n_1);
            }
            this.o3s_1.u2d(tmp1__anonymous__uwfjfc_0.r4c_1, 0.0, 2, null);
            if (this.v3s_1 ? !(tmp1__anonymous__uwfjfc_0.s4c_1.q2g() === 0.0) : false) {
              this.o3s_1.q2d(tmp1__anonymous__uwfjfc_0.s4c_1, 0.0);
              tmp1__anonymous__uwfjfc_0.s4c_1.r2h();
            }
            var tmp0_safe_receiver_0 = this.u3s_1;
            if (tmp0_safe_receiver_0 == null)
              null;
            else
              tmp0_safe_receiver_0(tmp1__anonymous__uwfjfc_0);
          }
          tmp0_addVertex_0.n2p_1.q2h(tmp0_addVertex_0.o2p_1.r4c_1);
          tmp0_addVertex_0.q2p_1 = true;
          tmp$ret$2 = tmp0_addVertex_0.j2p_1 - 1 | 0;
        }
        tmp$ret$3 = tmp$ret$2;
      }
      var i1 = tmp$ret$3;
      var tmp$ret$5;
      {
        var tmp$ret$4;
        {
          var tmp0_addVertex_1 = this.n3s_1;
          tmp0_addVertex_1.c4g(0, 1, null);
          var inductionVariable_3 = 1;
          var last_3 = tmp0_addVertex_1.c2p_1;
          if (inductionVariable_3 <= last_3)
            do {
              var i_3 = inductionVariable_3;
              inductionVariable_3 = inductionVariable_3 + 1 | 0;
              var tmp1_this_1 = tmp0_addVertex_1;
              tmp1_this_1.k2p_1.d4g(0.0);
            }
             while (!(i_3 === last_3));
          var inductionVariable_4 = 1;
          var last_4 = tmp0_addVertex_1.e2p_1;
          if (inductionVariable_4 <= last_4)
            do {
              var i_4 = inductionVariable_4;
              inductionVariable_4 = inductionVariable_4 + 1 | 0;
              var tmp3_this_1 = tmp0_addVertex_1;
              tmp3_this_1.l2p_1.e4g(0);
            }
             while (!(i_4 === last_4));
          var tmp4_this_1 = tmp0_addVertex_1;
          var tmp5_1 = tmp4_this_1.j2p_1;
          tmp4_this_1.j2p_1 = tmp5_1 + 1 | 0;
          tmp0_addVertex_1.o2p_1.ue(tmp5_1);
          {
            var tmp1__anonymous__uwfjfc_1 = tmp0_addVertex_1.o2p_1;
            tmp1__anonymous__uwfjfc_1.u4c_1.s2i(this.q3s_1);
            tmp1__anonymous__uwfjfc_1.f4g(this.r3s_1);
            tmp1__anonymous__uwfjfc_1.g4g(this.s3s_1);
            tmp1__anonymous__uwfjfc_1.h4g(this.t3s_1);
            {
              tmp1__anonymous__uwfjfc_1.r4c_1.t2d(props.p4n_1.z1z() + props.q4n_1.z1z(), props.p4n_1.b20() + props.q4n_1.b20(), props.p4n_1.s2d());
              tmp1__anonymous__uwfjfc_1.s4c_1.n2h(Companion_getInstance_9().c2h_1);
              tmp1__anonymous__uwfjfc_1.v4c_1.y2f(props.s4n_1);
            }
            this.o3s_1.u2d(tmp1__anonymous__uwfjfc_1.r4c_1, 0.0, 2, null);
            if (this.v3s_1 ? !(tmp1__anonymous__uwfjfc_1.s4c_1.q2g() === 0.0) : false) {
              this.o3s_1.q2d(tmp1__anonymous__uwfjfc_1.s4c_1, 0.0);
              tmp1__anonymous__uwfjfc_1.s4c_1.r2h();
            }
            var tmp0_safe_receiver_1 = this.u3s_1;
            if (tmp0_safe_receiver_1 == null)
              null;
            else
              tmp0_safe_receiver_1(tmp1__anonymous__uwfjfc_1);
          }
          tmp0_addVertex_1.n2p_1.q2h(tmp0_addVertex_1.o2p_1.r4c_1);
          tmp0_addVertex_1.q2p_1 = true;
          tmp$ret$4 = tmp0_addVertex_1.j2p_1 - 1 | 0;
        }
        tmp$ret$5 = tmp$ret$4;
      }
      var i2 = tmp$ret$5;
      var tmp$ret$7;
      {
        var tmp$ret$6;
        {
          var tmp0_addVertex_2 = this.n3s_1;
          tmp0_addVertex_2.c4g(0, 1, null);
          var inductionVariable_5 = 1;
          var last_5 = tmp0_addVertex_2.c2p_1;
          if (inductionVariable_5 <= last_5)
            do {
              var i_5 = inductionVariable_5;
              inductionVariable_5 = inductionVariable_5 + 1 | 0;
              var tmp1_this_2 = tmp0_addVertex_2;
              tmp1_this_2.k2p_1.d4g(0.0);
            }
             while (!(i_5 === last_5));
          var inductionVariable_6 = 1;
          var last_6 = tmp0_addVertex_2.e2p_1;
          if (inductionVariable_6 <= last_6)
            do {
              var i_6 = inductionVariable_6;
              inductionVariable_6 = inductionVariable_6 + 1 | 0;
              var tmp3_this_2 = tmp0_addVertex_2;
              tmp3_this_2.l2p_1.e4g(0);
            }
             while (!(i_6 === last_6));
          var tmp4_this_2 = tmp0_addVertex_2;
          var tmp5_2 = tmp4_this_2.j2p_1;
          tmp4_this_2.j2p_1 = tmp5_2 + 1 | 0;
          tmp0_addVertex_2.o2p_1.ue(tmp5_2);
          {
            var tmp1__anonymous__uwfjfc_2 = tmp0_addVertex_2.o2p_1;
            tmp1__anonymous__uwfjfc_2.u4c_1.s2i(this.q3s_1);
            tmp1__anonymous__uwfjfc_2.f4g(this.r3s_1);
            tmp1__anonymous__uwfjfc_2.g4g(this.s3s_1);
            tmp1__anonymous__uwfjfc_2.h4g(this.t3s_1);
            {
              tmp1__anonymous__uwfjfc_2.r4c_1.t2d(props.p4n_1.z1z(), props.p4n_1.b20() + props.q4n_1.b20(), props.p4n_1.s2d());
              tmp1__anonymous__uwfjfc_2.s4c_1.n2h(Companion_getInstance_9().c2h_1);
              tmp1__anonymous__uwfjfc_2.v4c_1.y2f(props.r4n_1);
            }
            this.o3s_1.u2d(tmp1__anonymous__uwfjfc_2.r4c_1, 0.0, 2, null);
            if (this.v3s_1 ? !(tmp1__anonymous__uwfjfc_2.s4c_1.q2g() === 0.0) : false) {
              this.o3s_1.q2d(tmp1__anonymous__uwfjfc_2.s4c_1, 0.0);
              tmp1__anonymous__uwfjfc_2.s4c_1.r2h();
            }
            var tmp0_safe_receiver_2 = this.u3s_1;
            if (tmp0_safe_receiver_2 == null)
              null;
            else
              tmp0_safe_receiver_2(tmp1__anonymous__uwfjfc_2);
          }
          tmp0_addVertex_2.n2p_1.q2h(tmp0_addVertex_2.o2p_1.r4c_1);
          tmp0_addVertex_2.q2p_1 = true;
          tmp$ret$6 = tmp0_addVertex_2.j2p_1 - 1 | 0;
        }
        tmp$ret$7 = tmp$ret$6;
      }
      var i3 = tmp$ret$7;
      this.i4g(i0, i1, i2);
      this.i4g(i0, i2, i3);
    } else {
      var x = props.p4n_1.z1z();
      var y = props.p4n_1.b20();
      var z = props.p4n_1.s2d();
      var w = props.q4n_1.z1z();
      var h = props.q4n_1.b20();
      var xI = x + props.n4n_1;
      var yI = y + props.n4n_1;
      var wI = w - props.n4n_1 * 2;
      var hI = h - props.n4n_1 * 2;
      var nrm = Companion_getInstance_9().c2h_1;
      var uI = (props.s4n_1.z1z() - props.r4n_1.z1z()) * props.n4n_1 / w;
      var vI = (props.s4n_1.b20() - props.u4n_1.b20()) * props.n4n_1 / h;
      var tmpPos = MutableVec3f_init_$Create$();
      var tmpUv = MutableVec2f_init_$Create$();
      if (hI > 0) {
        var i0_0 = this.t5a(tmpPos.t2d(x, yI, z), nrm, tmpUv.x2f(0.0, vI).v2f(props.t4n_1));
        var i1_0 = this.t5a(tmpPos.t2d(x + w, yI, z), nrm, tmpUv.x2f(0.0, vI).v2f(props.u4n_1));
        var i2_0 = this.t5a(tmpPos.t2d(x + w, yI + hI, z), nrm, tmpUv.x2f(0.0, -vI).v2f(props.s4n_1));
        var i3_0 = this.t5a(tmpPos.t2d(x, yI + hI, z), nrm, tmpUv.x2f(0.0, -vI).v2f(props.r4n_1));
        this.i4g(i0_0, i1_0, i2_0);
        this.i4g(i0_0, i2_0, i3_0);
      }
      if (wI > 0) {
        var i0_1 = this.t5a(tmpPos.t2d(xI, y, z), nrm, tmpUv.x2f(uI, 0.0).v2f(props.t4n_1));
        var i1_1 = this.t5a(tmpPos.t2d(xI + wI, y, z), nrm, tmpUv.x2f(-uI, 0.0).v2f(props.u4n_1));
        var i2_1 = this.t5a(tmpPos.t2d(xI + wI, yI, z), nrm, tmpUv.x2f(-uI, vI).v2f(props.u4n_1));
        var i3_1 = this.t5a(tmpPos.t2d(xI, yI, z), nrm, tmpUv.x2f(uI, vI).v2f(props.t4n_1));
        this.i4g(i0_1, i1_1, i2_1);
        this.i4g(i0_1, i2_1, i3_1);
        i0_1 = this.t5a(tmpPos.t2d(xI, yI + hI, z), nrm, tmpUv.x2f(uI, -vI).v2f(props.r4n_1));
        i1_1 = this.t5a(tmpPos.t2d(xI + wI, yI + hI, z), nrm, tmpUv.x2f(-uI, -vI).v2f(props.s4n_1));
        i2_1 = this.t5a(tmpPos.t2d(xI + wI, y + h, z), nrm, tmpUv.x2f(-uI, 0.0).v2f(props.s4n_1));
        i3_1 = this.t5a(tmpPos.t2d(xI, y + h, z), nrm, tmpUv.x2f(uI, 0.0).v2f(props.r4n_1));
        this.i4g(i0_1, i1_1, i2_1);
        this.i4g(i0_1, i2_1, i3_1);
      }
      {
        var props_0 = new CircleProps();
        {
          props_0.a5b_1.t2d(xI + wI, yI + hI, z);
          props_0.b5b_1 = 0.0;
          props_0.c5b_1 = 90.0;
          props_0.y5a_1 = props.n4n_1;
          props_0.z5a_1 = props.o4n_1;
          props_0.d5b_1.x2f(-uI, -vI).v2f(props.s4n_1);
          props_0.e5b_1 = uI;
        }
        this.x5a(props_0);
      }
      {
        var props_1 = new CircleProps();
        {
          props_1.a5b_1.t2d(xI, yI + hI, z);
          props_1.b5b_1 = 90.0;
          props_1.c5b_1 = 90.0;
          props_1.y5a_1 = props.n4n_1;
          props_1.z5a_1 = props.o4n_1;
          props_1.d5b_1.x2f(uI, -vI).v2f(props.r4n_1);
          props_1.e5b_1 = uI;
        }
        this.x5a(props_1);
      }
      {
        var props_2 = new CircleProps();
        {
          props_2.a5b_1.t2d(xI, yI, z);
          props_2.b5b_1 = 180.0;
          props_2.c5b_1 = 90.0;
          props_2.y5a_1 = props.n4n_1;
          props_2.z5a_1 = props.o4n_1;
          props_2.d5b_1.x2f(uI, vI).v2f(props.t4n_1);
          props_2.e5b_1 = uI;
        }
        this.x5a(props_2);
      }
      {
        var props_3 = new CircleProps();
        {
          props_3.a5b_1.t2d(xI + wI, yI, z);
          props_3.b5b_1 = 270.0;
          props_3.c5b_1 = 90.0;
          props_3.y5a_1 = props.n4n_1;
          props_3.z5a_1 = props.o4n_1;
          props_3.d5b_1.x2f(-uI, vI).v2f(props.u4n_1);
          props_3.e5b_1 = uI;
        }
        this.x5a(props_3);
      }
    }
  };
  MeshBuilder.prototype.x3s = function (props) {
    var charMap = props.f3s_1.h3r_1;
    if (charMap == null) {
      var tmp$ret$3;
      {
        var tmp$ret$2;
        {
          var tmp2_eExt = Log_getInstance();
          var tmp$ret$1;
          {
            var tmp1_logExt = Level_ERROR_getInstance();
            var tmp0_log = getKClassFromExpression(this).ei();
            var tmp;
            if (tmp1_logExt.e1w_1 >= tmp2_eExt.y1v_1.e1w_1) {
              var tmp_0 = tmp2_eExt.z1v_1;
              var tmp$ret$0;
              {
                tmp$ret$0 = 'Font char map has not yet been initialized';
              }
              tmp = tmp_0(tmp1_logExt, tmp0_log, tmp$ret$0);
            }
            tmp$ret$1 = tmp;
          }
          tmp$ret$2 = tmp$ret$1;
        }
        tmp$ret$3 = tmp$ret$2;
      }
      return Unit_getInstance();
    }
    {
      this.o3s_1.v2e();
      {
        if (props.j3s_1) {
          var tmp$ret$4;
          {
            var tmp0_round = props.h3s_1.z1z();
            tmp$ret$4 = round(tmp0_round);
          }
          var tmp_1 = tmp$ret$4;
          var tmp$ret$5;
          {
            var tmp1_round = props.h3s_1.b20();
            tmp$ret$5 = round(tmp1_round);
          }
          this.j2e(tmp_1, tmp$ret$5, props.h3s_1.s2d());
        } else {
          this.w3s(props.h3s_1);
        }
        if (!(props.i3s_1 === 1.0)) {
          this.p2e(props.i3s_1, props.i3s_1, props.i3s_1);
        }
        var ct = props.m3s_1;
        var advanced = 0.0;
        var txt = props.k3s_1 > 0.0 ? wrapText(this, props) : props.g3s_1;
        var rectProps = new RectProps();
        var indexedObject = txt;
        var inductionVariable = 0;
        var last = indexedObject.length;
        while (inductionVariable < last) {
          var c = charSequenceGet(indexedObject, inductionVariable);
          inductionVariable = inductionVariable + 1 | 0;
          if (equals(new Char(c), new Char(_Char___init__impl__6a9atx(10)))) {
            if (props.l3s_1) {
              var tmp$ret$6;
              {
                var tmp2_round = props.f3s_1.h5b();
                tmp$ret$6 = round(tmp2_round);
              }
              this.j2e(0.0, -tmp$ret$6, 0.0);
            } else {
              var tmp$ret$7;
              {
                var tmp3_round = props.f3s_1.h5b();
                tmp$ret$7 = round(tmp3_round);
              }
              this.j2e(0.0, tmp$ret$7, 0.0);
            }
            advanced = 0.0;
          }
          var metrics = charMap.i5b(c);
          if (!(metrics == null)) {
            var advOffset = 0.0;
            if (ct == null) {
              advOffset = advanced;
            } else {
              ct(this, advanced);
            }
            var tmp$ret$10;
            {
              {
              }
              {
                var x = advOffset - metrics.l5b_1;
                var y = props.l3s_1 ? metrics.m5b_1 - metrics.k5b_1 : -metrics.m5b_1;
                if (props.j3s_1) {
                  var tmp$ret$8;
                  {
                    tmp$ret$8 = round(x);
                  }
                  var tmp_2 = tmp$ret$8;
                  var tmp$ret$9;
                  {
                    tmp$ret$9 = round(y);
                  }
                  rectProps.p4n_1.t2d(tmp_2, tmp$ret$9, 0.0);
                } else {
                  rectProps.p4n_1.t2d(x, y, 0.0);
                }
                rectProps.q4n_1.x2f(metrics.j5b_1, metrics.k5b_1);
                if (props.l3s_1) {
                  rectProps.r4n_1.y2f(metrics.o5b_1);
                  rectProps.s4n_1.x2f(metrics.p5b_1.z1z(), metrics.o5b_1.b20());
                  rectProps.t4n_1.x2f(metrics.o5b_1.z1z(), metrics.p5b_1.b20());
                  rectProps.u4n_1.y2f(metrics.p5b_1);
                } else {
                  rectProps.t4n_1.y2f(metrics.o5b_1);
                  rectProps.u4n_1.x2f(metrics.p5b_1.z1z(), metrics.o5b_1.b20());
                  rectProps.r4n_1.x2f(metrics.o5b_1.z1z(), metrics.p5b_1.b20());
                  rectProps.s4n_1.y2f(metrics.p5b_1);
                }
              }
              tmp$ret$10 = rectProps;
            }
            this.w4n(tmp$ret$10);
            advanced = advanced + metrics.n5b_1;
          }
        }
      }
      this.o3s_1.w2e();
    }
  };
  MeshBuilder.$metadata$ = classMeta('MeshBuilder');
  function RectProps() {
    this.n4n_1 = 0.0;
    this.o4n_1 = 8;
    this.p4n_1 = MutableVec3f_init_$Create$();
    this.q4n_1 = new MutableVec2f(1.0, 1.0);
    this.r4n_1 = MutableVec2f_init_$Create$();
    this.s4n_1 = MutableVec2f_init_$Create$();
    this.t4n_1 = MutableVec2f_init_$Create$();
    this.u4n_1 = MutableVec2f_init_$Create$();
    this.q5b(1.0);
  }
  RectProps.prototype.r5b = function () {
    return this.n4n_1;
  };
  RectProps.prototype.s5b = function () {
    return this.o4n_1;
  };
  RectProps.prototype.t5b = function () {
    return this.p4n_1;
  };
  RectProps.prototype.m = function () {
    return this.q4n_1;
  };
  RectProps.prototype.u5b = function (value) {
    this.q4n_1.t2f(value);
  };
  RectProps.prototype.y3u = function () {
    return this.q4n_1.z1z();
  };
  RectProps.prototype.v5b = function (value) {
    this.q4n_1.u2f(value);
  };
  RectProps.prototype.z3u = function () {
    return this.q4n_1.b20();
  };
  RectProps.prototype.w5b = function () {
    return this.r4n_1;
  };
  RectProps.prototype.x5b = function () {
    return this.s4n_1;
  };
  RectProps.prototype.y5b = function () {
    return this.t4n_1;
  };
  RectProps.prototype.z5b = function () {
    return this.u4n_1;
  };
  RectProps.prototype.g5b = function () {
    if (this.q4n_1.z1z() < 0) {
      var tmp0_this = this.p4n_1;
      tmp0_this.t2f(tmp0_this.z1z() + this.q4n_1.z1z());
      this.q4n_1.t2f(-this.q4n_1.z1z());
    }
    if (this.q4n_1.b20() < 0) {
      var tmp1_this = this.p4n_1;
      tmp1_this.u2f(tmp1_this.b20() + this.q4n_1.b20());
      this.q4n_1.u2f(-this.q4n_1.b20());
    }
  };
  RectProps.prototype.q5b = function (scale) {
    this.r4n_1.x2f(0.0, 0.0);
    this.s4n_1.x2f(scale, 0.0);
    this.t4n_1.x2f(0.0, scale);
    this.u4n_1.x2f(scale, scale);
  };
  RectProps.prototype.v4n = function () {
    var tmp$ret$0;
    {
      var tmp0_also = this.r4n_1.b20();
      {
      }
      {
        this.r4n_1.u2f(this.t4n_1.b20());
      }
      tmp$ret$0 = tmp0_also;
    }
    this.t4n_1.u2f(tmp$ret$0);
    var tmp$ret$1;
    {
      var tmp1_also = this.s4n_1.b20();
      {
      }
      {
        this.s4n_1.u2f(this.u4n_1.b20());
      }
      tmp$ret$1 = tmp1_also;
    }
    this.u4n_1.u2f(tmp$ret$1);
  };
  RectProps.$metadata$ = classMeta('RectProps');
  function TextProps(font) {
    this.f3s_1 = font;
    this.g3s_1 = '';
    this.h3s_1 = MutableVec3f_init_$Create$();
    this.i3s_1 = 1.0;
    this.j3s_1 = true;
    this.k3s_1 = -1.0;
    this.l3s_1 = true;
    this.m3s_1 = null;
  }
  TextProps.prototype.a5c = function (_set____db54di) {
    this.f3s_1 = _set____db54di;
  };
  TextProps.prototype.m40 = function () {
    return this.f3s_1;
  };
  TextProps.prototype.f40 = function (_set____db54di) {
    this.g3s_1 = _set____db54di;
  };
  TextProps.prototype.k40 = function () {
    return this.g3s_1;
  };
  TextProps.prototype.t5b = function () {
    return this.h3s_1;
  };
  TextProps.prototype.b5c = function () {
    return this.i3s_1;
  };
  TextProps.prototype.c5c = function () {
    return this.j3s_1;
  };
  TextProps.prototype.d5c = function () {
    return this.k3s_1;
  };
  TextProps.prototype.e5c = function (_set____db54di) {
    this.l3s_1 = _set____db54di;
  };
  TextProps.prototype.f5c = function () {
    return this.l3s_1;
  };
  TextProps.prototype.g5c = function () {
    return this.m3s_1;
  };
  TextProps.$metadata$ = classMeta('TextProps');
  function CircleProps() {
    this.y5a_1 = 1.0;
    this.z5a_1 = 20;
    this.a5b_1 = MutableVec3f_init_$Create$();
    this.b5b_1 = 0.0;
    this.c5b_1 = 360.0;
    this.d5b_1 = MutableVec2f_init_$Create$();
    this.e5b_1 = 0.0;
    this.h5c();
  }
  CircleProps.prototype.i5c = function (_set____db54di) {
    this.y5a_1 = _set____db54di;
  };
  CircleProps.prototype.j5c = function (_set____db54di) {
    this.z5a_1 = _set____db54di;
  };
  CircleProps.prototype.k5c = function () {
    return this.a5b_1;
  };
  CircleProps.prototype.l5c = function (_set____db54di) {
    this.b5b_1 = _set____db54di;
  };
  CircleProps.prototype.m5c = function (_set____db54di) {
    this.c5b_1 = _set____db54di;
  };
  CircleProps.prototype.n5c = function () {
    return this.d5b_1;
  };
  CircleProps.prototype.o5c = function (_set____db54di) {
    this.e5b_1 = _set____db54di;
  };
  CircleProps.prototype.p5c = function () {
    return this.e5b_1;
  };
  CircleProps.prototype.h5c = function () {
    this.d5b_1.x2f(0.5, 0.5);
    this.e5b_1 = 0.5;
  };
  CircleProps.$metadata$ = classMeta('CircleProps');
  function FloatView($outer, attribOffset) {
    this.r5c_1 = $outer;
    this.q5c_1 = attribOffset;
  }
  FloatView.$metadata$ = classMeta('FloatView');
  function Vec2fView($outer, attribOffset) {
    this.u5c_1 = $outer;
    MutableVec2f_init_$Init$(this);
    this.t5c_1 = attribOffset;
  }
  Vec2fView.prototype.r = function (i) {
    var tmp;
    if (this.t5c_1 >= 0 ? 0 <= i ? i <= 1 : false : false) {
      tmp = this.u5c_1.n4c_1.k2p_1.r((this.u5c_1.o4c_1 + this.t5c_1 | 0) + i | 0);
    } else {
      tmp = 0.0;
    }
    return tmp;
  };
  Vec2fView.prototype.i2d = function (i, v) {
    if (this.t5c_1 >= 0 ? 0 <= i ? i <= 1 : false : false) {
      this.u5c_1.n4c_1.k2p_1.i2d((this.u5c_1.o4c_1 + this.t5c_1 | 0) + i | 0, v);
    }
  };
  Vec2fView.$metadata$ = classMeta('Vec2fView', undefined, undefined, undefined, undefined, MutableVec2f.prototype);
  function Vec3fView($outer, attribOffset) {
    this.x5c_1 = $outer;
    MutableVec3f_init_$Init$(this);
    this.w5c_1 = attribOffset;
  }
  Vec3fView.prototype.r = function (i) {
    var tmp;
    if (this.w5c_1 >= 0 ? 0 <= i ? i <= 2 : false : false) {
      tmp = this.x5c_1.n4c_1.k2p_1.r((this.x5c_1.o4c_1 + this.w5c_1 | 0) + i | 0);
    } else {
      tmp = 0.0;
    }
    return tmp;
  };
  Vec3fView.prototype.i2d = function (i, v) {
    if (this.w5c_1 >= 0 ? 0 <= i ? i <= 2 : false : false) {
      this.x5c_1.n4c_1.k2p_1.i2d((this.x5c_1.o4c_1 + this.w5c_1 | 0) + i | 0, v);
    }
  };
  Vec3fView.$metadata$ = classMeta('Vec3fView', undefined, undefined, undefined, undefined, MutableVec3f.prototype);
  function Vec4fView($outer, attribOffset) {
    this.a5d_1 = $outer;
    MutableVec4f_init_$Init$(this);
    this.z5c_1 = attribOffset;
  }
  Vec4fView.prototype.r = function (i) {
    var tmp;
    if (this.z5c_1 >= 0 ? 0 <= i ? i <= 3 : false : false) {
      tmp = this.a5d_1.n4c_1.k2p_1.r((this.a5d_1.o4c_1 + this.z5c_1 | 0) + i | 0);
    } else {
      tmp = 0.0;
    }
    return tmp;
  };
  Vec4fView.prototype.i2d = function (i, v) {
    if (this.z5c_1 >= 0 ? 0 <= i ? i <= 3 : false : false) {
      this.a5d_1.n4c_1.k2p_1.i2d((this.a5d_1.o4c_1 + this.z5c_1 | 0) + i | 0, v);
    }
  };
  Vec4fView.$metadata$ = classMeta('Vec4fView', undefined, undefined, undefined, undefined, MutableVec4f.prototype);
  function ColorWrapView($outer, vecView) {
    this.d5d_1 = $outer;
    MutableColor_init_$Init$(this);
    this.c5d_1 = vecView;
  }
  ColorWrapView.prototype.r = function (i) {
    return this.c5d_1.r(i);
  };
  ColorWrapView.prototype.i2d = function (i, v) {
    this.c5d_1.i2d(i, v);
  };
  ColorWrapView.$metadata$ = classMeta('ColorWrapView', undefined, undefined, undefined, undefined, MutableColor.prototype);
  function IntView($outer, attribOffset) {
    this.j5d_1 = $outer;
    this.i5d_1 = attribOffset;
  }
  IntView.$metadata$ = classMeta('IntView');
  function Vec2iView($outer, attribOffset) {
    this.m5d_1 = $outer;
    MutableVec2i_init_$Init$(this);
    this.l5d_1 = attribOffset;
  }
  Vec2iView.prototype.r = function (i) {
    var tmp;
    if (this.l5d_1 >= 0 ? 0 <= i ? i <= 1 : false : false) {
      tmp = this.m5d_1.n4c_1.l2p_1.r((this.m5d_1.p4c_1 + this.l5d_1 | 0) + i | 0);
    } else {
      tmp = 0;
    }
    return tmp;
  };
  Vec2iView.$metadata$ = classMeta('Vec2iView', undefined, undefined, undefined, undefined, MutableVec2i.prototype);
  function Vec3iView($outer, attribOffset) {
    this.p5d_1 = $outer;
    MutableVec3i_init_$Init$(this);
    this.o5d_1 = attribOffset;
  }
  Vec3iView.prototype.r = function (i) {
    var tmp;
    if (this.o5d_1 >= 0 ? 0 <= i ? i <= 2 : false : false) {
      tmp = this.p5d_1.n4c_1.l2p_1.r((this.p5d_1.p4c_1 + this.o5d_1 | 0) + i | 0);
    } else {
      tmp = 0;
    }
    return tmp;
  };
  Vec3iView.$metadata$ = classMeta('Vec3iView', undefined, undefined, undefined, undefined, MutableVec3i.prototype);
  function Vec4iView($outer, attribOffset) {
    this.s5d_1 = $outer;
    MutableVec4i_init_$Init$(this);
    this.r5d_1 = attribOffset;
  }
  Vec4iView.prototype.r = function (i) {
    var tmp;
    if (this.r5d_1 >= 0 ? 0 <= i ? i <= 3 : false : false) {
      tmp = this.s5d_1.n4c_1.l2p_1.r((this.s5d_1.p4c_1 + this.r5d_1 | 0) + i | 0);
    } else {
      tmp = 0;
    }
    return tmp;
  };
  Vec4iView.$metadata$ = classMeta('Vec4iView', undefined, undefined, undefined, undefined, MutableVec4i.prototype);
  function VertexView(data, index) {
    MutableVec3f_init_$Init$(this);
    this.n4c_1 = data;
    this.o4c_1 = imul(index, this.n4c_1.c2p_1);
    this.p4c_1 = imul(index, this.n4c_1.e2p_1);
    this.q4c_1 = index;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    var attribViews = tmp$ret$0;
    this.a4d_1 = attribViews;
    var tmp$ret$1;
    {
      var tmp0_iterator = this.n4c_1.g2p_1;
      tmp$ret$1 = tmp0_iterator.y().h();
    }
    var tmp0_iterator_0 = tmp$ret$1;
    while (tmp0_iterator_0.n()) {
      var offset = tmp0_iterator_0.o();
      var tmp1_subject = offset.j2().t2p_1;
      var tmp0 = tmp1_subject.w1();
      switch (tmp0) {
        case 0:
          var tmp1_set = offset.j2();
          var tmp2_set = new FloatView(this, offset.l2() / 4 | 0);
          attribViews.a(tmp1_set, tmp2_set);
          ;
          break;
        case 1:
          var tmp3_set = offset.j2();
          var tmp4_set = new Vec2fView(this, offset.l2() / 4 | 0);
          attribViews.a(tmp3_set, tmp4_set);
          ;
          break;
        case 2:
          var tmp5_set = offset.j2();
          var tmp6_set = new Vec3fView(this, offset.l2() / 4 | 0);
          attribViews.a(tmp5_set, tmp6_set);
          ;
          break;
        case 3:
          var tmp7_set = offset.j2();
          var tmp8_set = new Vec4fView(this, offset.l2() / 4 | 0);
          attribViews.a(tmp7_set, tmp8_set);
          ;
          break;
        case 4:
          var tmp9_set = offset.j2();
          var tmp10_set = new IntView(this, offset.l2() / 4 | 0);
          attribViews.a(tmp9_set, tmp10_set);
          ;
          break;
        case 5:
          var tmp11_set = offset.j2();
          var tmp12_set = new Vec2iView(this, offset.l2() / 4 | 0);
          attribViews.a(tmp11_set, tmp12_set);
          ;
          break;
        case 6:
          var tmp13_set = offset.j2();
          var tmp14_set = new Vec3iView(this, offset.l2() / 4 | 0);
          attribViews.a(tmp13_set, tmp14_set);
          ;
          break;
        case 7:
          var tmp15_set = offset.j2();
          var tmp16_set = new Vec4iView(this, offset.l2() / 4 | 0);
          attribViews.a(tmp15_set, tmp16_set);
          ;
          break;
        default:
          throw IllegalArgumentException_init_$Create$('' + offset.j2().t2p_1 + ' is not a valid vertex attribute');
      }
    }
    var tmp = this;
    var tmp2_elvis_lhs = this.t5d(Companion_getInstance_28().z2v_1);
    tmp.r4c_1 = tmp2_elvis_lhs == null ? new Vec3fView(this, -1) : tmp2_elvis_lhs;
    var tmp_0 = this;
    var tmp3_elvis_lhs = this.t5d(Companion_getInstance_28().a2w_1);
    tmp_0.s4c_1 = tmp3_elvis_lhs == null ? new Vec3fView(this, -1) : tmp3_elvis_lhs;
    var tmp_1 = this;
    var tmp4_elvis_lhs = this.b4d(Companion_getInstance_28().b2w_1);
    tmp_1.t4c_1 = tmp4_elvis_lhs == null ? new Vec4fView(this, -1) : tmp4_elvis_lhs;
    var tmp_2 = this;
    var tmp5_elvis_lhs = this.u5d(Companion_getInstance_28().c2w_1);
    tmp_2.v4c_1 = tmp5_elvis_lhs == null ? new Vec2fView(this, -1) : tmp5_elvis_lhs;
    var tmp_3 = this;
    var tmp6_elvis_lhs = this.v5d(Companion_getInstance_28().d2w_1);
    tmp_3.u4c_1 = tmp6_elvis_lhs == null ? new ColorWrapView(this, new Vec4fView(this, -1)) : tmp6_elvis_lhs;
    var tmp_4 = this;
    var tmp7_elvis_lhs = this.w5d(Companion_getInstance_28().e2w_1);
    tmp_4.w4c_1 = tmp7_elvis_lhs == null ? new Vec4iView(this, -1) : tmp7_elvis_lhs;
    var tmp_5 = this;
    var tmp8_elvis_lhs = this.b4d(Companion_getInstance_28().f2w_1);
    tmp_5.x4c_1 = tmp8_elvis_lhs == null ? new Vec4fView(this, -1) : tmp8_elvis_lhs;
    var tmp_6 = this;
    var tmp9_elvis_lhs = this.t5d(Companion_getInstance_28().g2w_1);
    tmp_6.y4c_1 = tmp9_elvis_lhs == null ? new Vec3fView(this, -1) : tmp9_elvis_lhs;
    var tmp_7 = this;
    var tmp10_elvis_lhs = this.u5d(Companion_getInstance_28().h2w_1);
    tmp_7.z4c_1 = tmp10_elvis_lhs == null ? new Vec2fView(this, -1) : tmp10_elvis_lhs;
  }
  VertexView.prototype.ue = function (value) {
    this.q4c_1 = value;
    this.o4c_1 = imul(value, this.n4c_1.c2p_1);
    this.p4c_1 = imul(value, this.n4c_1.e2p_1);
  };
  VertexView.prototype.qr = function () {
    return this.r4c_1;
  };
  VertexView.prototype.x5d = function () {
    return this.s4c_1;
  };
  VertexView.prototype.l5a = function () {
    return this.u4c_1;
  };
  VertexView.prototype.y5d = function () {
    return this.v4c_1;
  };
  VertexView.prototype.f4g = function (emissiveColor) {
    this.y4c_1.t2d(emissiveColor.a3t(), emissiveColor.b3t(), emissiveColor.c3t());
  };
  VertexView.prototype.g4g = function (metallicFactor) {
    this.z4c_1.t2f(metallicFactor);
  };
  VertexView.prototype.h4g = function (roughnessFactor) {
    this.z4c_1.u2f(roughnessFactor);
  };
  VertexView.prototype.r = function (i) {
    return this.r4c_1.r(i);
  };
  VertexView.prototype.i2d = function (i, v) {
    this.r4c_1.i2d(i, v);
  };
  VertexView.prototype.u5d = function (attribute) {
    var tmp = this.a4d_1.z2(attribute);
    return (tmp == null ? true : tmp instanceof MutableVec2f) ? tmp : THROW_CCE();
  };
  VertexView.prototype.t5d = function (attribute) {
    var tmp = this.a4d_1.z2(attribute);
    return (tmp == null ? true : tmp instanceof MutableVec3f) ? tmp : THROW_CCE();
  };
  VertexView.prototype.b4d = function (attribute) {
    var tmp = this.a4d_1.z2(attribute);
    return (tmp == null ? true : tmp instanceof MutableVec4f) ? tmp : THROW_CCE();
  };
  VertexView.prototype.v5d = function (attribute) {
    var tmp0_safe_receiver = this.a4d_1.z2(attribute);
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        var tmp$ret$0;
        {
          tmp$ret$0 = new ColorWrapView(this, tmp0_safe_receiver instanceof Vec4fView ? tmp0_safe_receiver : THROW_CCE());
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp = tmp$ret$1;
    }
    return tmp;
  };
  VertexView.prototype.w5d = function (attribute) {
    var tmp = this.a4d_1.z2(attribute);
    return (tmp == null ? true : tmp instanceof Vec4iView) ? tmp : THROW_CCE();
  };
  VertexView.$metadata$ = classMeta('VertexView', undefined, undefined, undefined, undefined, MutableVec3f.prototype);
  function Uint8Buffer() {
  }
  Uint8Buffer.$metadata$ = interfaceMeta('Uint8Buffer', [Buffer]);
  function Buffer() {
  }
  Buffer.$metadata$ = interfaceMeta('Buffer');
  function Uint32Buffer() {
  }
  Uint32Buffer.$metadata$ = interfaceMeta('Uint32Buffer', [Buffer]);
  function Float32Buffer() {
  }
  Float32Buffer.$metadata$ = interfaceMeta('Float32Buffer', [Buffer]);
  function MixedBuffer() {
  }
  MixedBuffer.$metadata$ = interfaceMeta('MixedBuffer', [Buffer]);
  function Uint16Buffer() {
  }
  Uint16Buffer.$metadata$ = interfaceMeta('Uint16Buffer', [Buffer]);
  function copy(_this__u8e3s4) {
    var tmp$ret$2;
    {
      var tmp0_List = _this__u8e3s4.m();
      var tmp$ret$1;
      {
        var list = ArrayList_init_$Create$(tmp0_List);
        {
          {
          }
          var inductionVariable = 0;
          if (inductionVariable < tmp0_List)
            do {
              var index = inductionVariable;
              inductionVariable = inductionVariable + 1 | 0;
              {
                var tmp$ret$0;
                {
                  tmp$ret$0 = _this__u8e3s4.r(index);
                }
                list.b(tmp$ret$0);
              }
            }
             while (inductionVariable < tmp0_List);
        }
        tmp$ret$1 = list;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    return tmp$ret$2;
  }
  function copy_0(_this__u8e3s4) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = LinkedHashSet_init_$Create$();
      }
      var tmp0_also = tmp$ret$0;
      {
      }
      {
        tmp0_also.m1(_this__u8e3s4);
      }
      tmp$ret$1 = tmp0_also;
    }
    return tmp$ret$1;
  }
  function Companion_39() {
    Companion_instance_39 = this;
    this.u30_1 = 2.2;
    this.v30_1 = 0.45454544;
    this.w30_1 = new Color(0.0, 0.0, 0.0, 1.0);
    this.x30_1 = new Color(0.25, 0.25, 0.25, 1.0);
    this.y30_1 = new Color(0.5, 0.5, 0.5, 1.0);
    this.z30_1 = new Color(0.75, 0.75, 0.75, 1.0);
    this.a31_1 = new Color(1.0, 1.0, 1.0, 1.0);
    this.b31_1 = new Color(1.0, 0.0, 0.0, 1.0);
    this.c31_1 = new Color(0.0, 1.0, 0.0, 1.0);
    this.d31_1 = new Color(0.0, 0.0, 1.0, 1.0);
    this.e31_1 = new Color(1.0, 1.0, 0.0, 1.0);
    this.f31_1 = new Color(0.0, 1.0, 1.0, 1.0);
    this.g31_1 = new Color(1.0, 0.0, 1.0, 1.0);
    this.h31_1 = new Color(1.0, 0.5, 0.0, 1.0);
    this.i31_1 = new Color(0.7, 1.0, 0.0, 1.0);
    this.j31_1 = new Color(1.0, 0.5, 0.5, 1.0);
    this.k31_1 = new Color(0.5, 1.0, 0.5, 1.0);
    this.l31_1 = new Color(0.5, 0.5, 1.0, 1.0);
    this.m31_1 = new Color(1.0, 1.0, 0.5, 1.0);
    this.n31_1 = new Color(0.5, 1.0, 1.0, 1.0);
    this.o31_1 = new Color(1.0, 0.5, 1.0, 1.0);
    this.p31_1 = new Color(1.0, 0.75, 0.5, 1.0);
    this.q31_1 = new Color(0.5, 0.0, 0.0, 1.0);
    this.r31_1 = new Color(0.0, 0.5, 0.0, 1.0);
    this.s31_1 = new Color(0.0, 0.0, 0.5, 1.0);
    this.t31_1 = new Color(0.5, 0.5, 0.0, 1.0);
    this.u31_1 = new Color(0.0, 0.5, 0.5, 1.0);
    this.v31_1 = new Color(0.5, 0.0, 0.5, 1.0);
    this.w31_1 = new Color(0.5, 0.25, 0.0, 1.0);
  }
  Companion_39.prototype.f5e = function () {
    return this.w30_1;
  };
  Companion_39.prototype.g5e = function (hex) {
    var tmp$ret$0;
    {
      tmp$ret$0 = charSequenceLength(hex) === 0;
    }
    if (tmp$ret$0) {
      return this.w30_1;
    }
    var str = hex;
    if (equals(new Char(charSequenceGet(str, 0)), new Char(_Char___init__impl__6a9atx(35)))) {
      var tmp$ret$2;
      {
        var tmp0_substring = str;
        var tmp$ret$1;
        {
          tmp$ret$1 = tmp0_substring;
        }
        tmp$ret$2 = tmp$ret$1.substring(1);
      }
      str = tmp$ret$2;
    }
    var r = 0.0;
    var g = 0.0;
    var b = 0.0;
    var a = 1.0;
    try {
      if (str.length === 3) {
        var tmp$ret$4;
        {
          var tmp1_substring = str;
          var tmp$ret$3;
          {
            tmp$ret$3 = tmp1_substring;
          }
          tmp$ret$4 = tmp$ret$3.substring(0, 1);
        }
        var r4 = toInt(tmp$ret$4, 16);
        var tmp$ret$6;
        {
          var tmp2_substring = str;
          var tmp$ret$5;
          {
            tmp$ret$5 = tmp2_substring;
          }
          tmp$ret$6 = tmp$ret$5.substring(1, 2);
        }
        var g4 = toInt(tmp$ret$6, 16);
        var tmp$ret$8;
        {
          var tmp3_substring = str;
          var tmp$ret$7;
          {
            tmp$ret$7 = tmp3_substring;
          }
          tmp$ret$8 = tmp$ret$7.substring(2, 3);
        }
        var b4 = toInt(tmp$ret$8, 16);
        r = (r4 | r4 << 4) / 255.0;
        g = (g4 | g4 << 4) / 255.0;
        b = (b4 | b4 << 4) / 255.0;
      } else if (str.length === 4) {
        var tmp$ret$10;
        {
          var tmp4_substring = str;
          var tmp$ret$9;
          {
            tmp$ret$9 = tmp4_substring;
          }
          tmp$ret$10 = tmp$ret$9.substring(0, 1);
        }
        var r4_0 = toInt(tmp$ret$10, 16);
        var tmp$ret$12;
        {
          var tmp5_substring = str;
          var tmp$ret$11;
          {
            tmp$ret$11 = tmp5_substring;
          }
          tmp$ret$12 = tmp$ret$11.substring(1, 2);
        }
        var g4_0 = toInt(tmp$ret$12, 16);
        var tmp$ret$14;
        {
          var tmp6_substring = str;
          var tmp$ret$13;
          {
            tmp$ret$13 = tmp6_substring;
          }
          tmp$ret$14 = tmp$ret$13.substring(2, 3);
        }
        var b4_0 = toInt(tmp$ret$14, 16);
        var tmp$ret$16;
        {
          var tmp7_substring = str;
          var tmp$ret$15;
          {
            tmp$ret$15 = tmp7_substring;
          }
          tmp$ret$16 = tmp$ret$15.substring(2, 3);
        }
        var a4 = toInt(tmp$ret$16, 16);
        r = (r4_0 | r4_0 << 4) / 255.0;
        g = (g4_0 | g4_0 << 4) / 255.0;
        b = (b4_0 | b4_0 << 4) / 255.0;
        a = (a4 | a4 << 4) / 255.0;
      } else if (str.length === 6) {
        var tmp$ret$18;
        {
          var tmp8_substring = str;
          var tmp$ret$17;
          {
            tmp$ret$17 = tmp8_substring;
          }
          tmp$ret$18 = tmp$ret$17.substring(0, 2);
        }
        r = toInt(tmp$ret$18, 16) / 255.0;
        var tmp$ret$20;
        {
          var tmp9_substring = str;
          var tmp$ret$19;
          {
            tmp$ret$19 = tmp9_substring;
          }
          tmp$ret$20 = tmp$ret$19.substring(2, 4);
        }
        g = toInt(tmp$ret$20, 16) / 255.0;
        var tmp$ret$22;
        {
          var tmp10_substring = str;
          var tmp$ret$21;
          {
            tmp$ret$21 = tmp10_substring;
          }
          tmp$ret$22 = tmp$ret$21.substring(4, 6);
        }
        b = toInt(tmp$ret$22, 16) / 255.0;
      } else if (str.length === 8) {
        var tmp$ret$24;
        {
          var tmp11_substring = str;
          var tmp$ret$23;
          {
            tmp$ret$23 = tmp11_substring;
          }
          tmp$ret$24 = tmp$ret$23.substring(0, 2);
        }
        r = toInt(tmp$ret$24, 16) / 255.0;
        var tmp$ret$26;
        {
          var tmp12_substring = str;
          var tmp$ret$25;
          {
            tmp$ret$25 = tmp12_substring;
          }
          tmp$ret$26 = tmp$ret$25.substring(2, 4);
        }
        g = toInt(tmp$ret$26, 16) / 255.0;
        var tmp$ret$28;
        {
          var tmp13_substring = str;
          var tmp$ret$27;
          {
            tmp$ret$27 = tmp13_substring;
          }
          tmp$ret$28 = tmp$ret$27.substring(4, 6);
        }
        b = toInt(tmp$ret$28, 16) / 255.0;
        var tmp$ret$30;
        {
          var tmp14_substring = str;
          var tmp$ret$29;
          {
            tmp$ret$29 = tmp14_substring;
          }
          tmp$ret$30 = tmp$ret$29.substring(6, 8);
        }
        a = toInt(tmp$ret$30, 16) / 255.0;
      }
    } catch ($p) {
      if ($p instanceof NumberFormatException) {
        var tmp$ret$34;
        {
          var tmp$ret$33;
          {
            var tmp17_eExt = Log_getInstance();
            var tmp$ret$32;
            {
              var tmp16_logExt = Level_ERROR_getInstance();
              var tmp15_log = getKClassFromExpression(this).ei();
              var tmp;
              if (tmp16_logExt.e1w_1 >= tmp17_eExt.y1v_1.e1w_1) {
                var tmp_0 = tmp17_eExt.z1v_1;
                var tmp$ret$31;
                {
                  tmp$ret$31 = 'invalid color code: ' + hex + ', ' + $p;
                }
                tmp = tmp_0(tmp16_logExt, tmp15_log, tmp$ret$31);
              }
              tmp$ret$32 = tmp;
            }
            tmp$ret$33 = tmp$ret$32;
          }
          tmp$ret$34 = tmp$ret$33;
        }
      } else {
        throw $p;
      }
    }
    return new Color(r, g, b, a);
  };
  Companion_39.$metadata$ = objectMeta('Companion');
  var Companion_instance_39;
  function Companion_getInstance_39() {
    if (Companion_instance_39 == null)
      new Companion_39();
    return Companion_instance_39;
  }
  function Color(r, g, b, a) {
    Companion_getInstance_39();
    Vec4f.call(this, r, g, b, a);
  }
  Color.prototype.a3t = function () {
    return this.r(0);
  };
  Color.prototype.b3t = function () {
    return this.r(1);
  };
  Color.prototype.c3t = function () {
    return this.r(2);
  };
  Color.prototype.d3t = function () {
    return this.r(3);
  };
  Color.prototype.h5d = function (other, weight, result) {
    result.e5d(other.a3t() * weight + this.a3t() * (1.0 - weight));
    result.f5d(other.b3t() * weight + this.b3t() * (1.0 - weight));
    result.g5d(other.c3t() * weight + this.c3t() * (1.0 - weight));
    result.p57(other.d3t() * weight + this.d3t() * (1.0 - weight));
    return result;
  };
  Color.prototype.j48 = function (other, weight, result, $mask0, $handler) {
    if (!(($mask0 & 4) === 0))
      result = MutableColor_init_$Create$();
    return this.h5d(other, weight, result);
  };
  Color.prototype.g44 = function (alpha) {
    return new MutableColor(this.a3t(), this.b3t(), this.c3t(), alpha);
  };
  Color.$metadata$ = classMeta('Color', undefined, undefined, undefined, undefined, Vec4f.prototype);
  function MutableColor_init_$Init$($this) {
    MutableColor.call($this, 0.0, 0.0, 0.0, 1.0);
    return $this;
  }
  function MutableColor_init_$Create$() {
    return MutableColor_init_$Init$(Object.create(MutableColor.prototype));
  }
  function MutableColor_init_$Init$_0(color, $this) {
    MutableColor.call($this, color.a3t(), color.b3t(), color.c3t(), color.d3t());
    return $this;
  }
  function MutableColor_init_$Create$_0(color) {
    return MutableColor_init_$Init$_0(color, Object.create(MutableColor.prototype));
  }
  function MutableColor(r, g, b, a) {
    Color.call(this, r, g, b, a);
  }
  MutableColor.prototype.e5d = function (value) {
    this.i2d(0, value);
  };
  MutableColor.prototype.a3t = function () {
    return this.r(0);
  };
  MutableColor.prototype.f5d = function (value) {
    this.i2d(1, value);
  };
  MutableColor.prototype.b3t = function () {
    return this.r(1);
  };
  MutableColor.prototype.g5d = function (value) {
    this.i2d(2, value);
  };
  MutableColor.prototype.c3t = function () {
    return this.r(2);
  };
  MutableColor.prototype.p57 = function (value) {
    this.i2d(3, value);
  };
  MutableColor.prototype.d3t = function () {
    return this.r(3);
  };
  MutableColor.prototype.s2i = function (other) {
    this.e5d(other.z1z());
    this.f5d(other.b20());
    this.g5d(other.s2d());
    this.p57(other.m2i());
    return this;
  };
  MutableColor.prototype.i2d = function (i, v) {
    this.l2f()[i] = v;
  };
  MutableColor.$metadata$ = classMeta('MutableColor', undefined, undefined, undefined, undefined, Color.prototype);
  function Color_0(hex) {
    return Companion_getInstance_39().g5e(hex);
  }
  function Disposable() {
  }
  Disposable.$metadata$ = interfaceMeta('Disposable');
  function CharMap_init_$Init$(fontProps, map, $mask0, $marker, $this) {
    if (!(($mask0 & 2) === 0)) {
      var tmp$ret$0;
      var tmp$ret$0_0;
      {
        tmp$ret$0 = LinkedHashMap_init_$Create$();
        tmp$ret$0_0 = Unit_getInstance();
      }
      map = tmp$ret$0;
    }
    CharMap.call($this, fontProps, map);
    return $this;
  }
  function CharMap_init_$Create$(fontProps, map, $mask0, $marker) {
    return CharMap_init_$Init$(fontProps, map, $mask0, $marker, Object.create(CharMap.prototype));
  }
  function CharMap$texture$lambda(this$0) {
    return function (it) {
      return this$0.h5e(it);
    };
  }
  function CharMap(fontProps, map) {
    this.i3r_1 = fontProps;
    this.j3r_1 = map;
    this.k3r_1 = null;
    var tmp = this;
    var tmp0_addressModeU = AddressMode_CLAMP_TO_EDGE_getInstance();
    var tmp1_addressModeV = AddressMode_CLAMP_TO_EDGE_getInstance();
    var tmp2_magFilter = this.i3r_1.w4h_1;
    var tmp3_minFilter = this.i3r_1.x4h_1;
    var tmp4_mipMapping = this.i3r_1.y4h_1;
    var tmp5_maxAnisotropy = this.i3r_1.z4h_1;
    var tmp_0 = TextureProps_init_$Create$(null, tmp0_addressModeU, tmp1_addressModeV, null, tmp3_minFilter, tmp2_magFilter, tmp4_mipMapping, tmp5_maxAnisotropy, 9, null);
    var tmp_1 = this.i3r_1.toString();
    tmp.l3r_1 = new Texture2d(tmp_0, tmp_1, new SyncTextureLoader(CharMap$texture$lambda(this)));
    var tmp_2 = this;
    var tmp$ret$1;
    {
      var tmp0_round = this.i3r_1.t4h_1 * 1.2;
      tmp$ret$1 = round(tmp0_round);
    }
    tmp_2.m3r_1 = tmp$ret$1;
    this.n3r_1 = this.i3r_1.t4h_1 * 0.7;
    this.o3r_1 = 1.0;
  }
  CharMap.prototype.i5e = function () {
    return this.i3r_1;
  };
  CharMap.prototype.y = function () {
    return this.j3r_1.y();
  };
  CharMap.prototype.a3 = function () {
    return this.j3r_1.a3();
  };
  CharMap.prototype.m = function () {
    return this.j3r_1.m();
  };
  CharMap.prototype.b3 = function () {
    return this.j3r_1.b3();
  };
  CharMap.prototype.t7 = function () {
    this.j3r_1.t7();
  };
  CharMap.prototype.j5e = function (key) {
    return this.j3r_1.t2(new Char(key));
  };
  CharMap.prototype.t2 = function (key) {
    if (!(key instanceof Char))
      return false;
    return this.j5e(key instanceof Char ? key.n1_1 : THROW_CCE());
  };
  CharMap.prototype.i5b = function (key) {
    return this.j3r_1.z2(new Char(key));
  };
  CharMap.prototype.z2 = function (key) {
    if (!(key instanceof Char))
      return null;
    return this.i5b(key instanceof Char ? key.n1_1 : THROW_CCE());
  };
  CharMap.prototype.q = function () {
    return this.j3r_1.q();
  };
  CharMap.prototype.k5e = function (key, value) {
    return this.j3r_1.a(new Char(key), value);
  };
  CharMap.prototype.a = function (key, value) {
    var tmp = key instanceof Char ? key.n1_1 : THROW_CCE();
    return this.k5e(tmp, value instanceof CharMetrics ? value : THROW_CCE());
  };
  CharMap.prototype.l5e = function (from) {
    this.j3r_1.b4(from);
  };
  CharMap.prototype.b4 = function (from) {
    return this.l5e(from);
  };
  CharMap.prototype.m5e = function (key) {
    return this.j3r_1.tf(new Char(key));
  };
  CharMap.prototype.tf = function (key) {
    if (!(key instanceof Char))
      return null;
    return this.m5e(key instanceof Char ? key.n1_1 : THROW_CCE());
  };
  CharMap.prototype.n5e = function (value) {
    this.k3r_1 = value;
    if (this.l3r_1.g4y().equals(LoadingState_LOADED_getInstance())) {
      this.l3r_1.n1a();
    }
  };
  CharMap.prototype.o5e = function () {
    return !(this.k3r_1 == null);
  };
  CharMap.prototype.p5e = function (scale) {
    this.o3r_1 = scale;
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_round = this.i3r_1.t4h_1 * 1.2 * scale;
      tmp$ret$0 = round(tmp0_round);
    }
    tmp.m3r_1 = tmp$ret$0;
    this.n3r_1 = this.i3r_1.t4h_1 * 0.7 * scale;
  };
  CharMap.prototype.h5e = function (ctx) {
    if (!this.o5e()) {
      var tmp = ctx.j2a();
      tmp.f1x(this, 0.0, 2, null);
    }
    return ensureNotNull(this.k3r_1);
  };
  CharMap.$metadata$ = classMeta('CharMap', [MutableMap]);
  function FontProps_init_$Init$(family, sizePts, style, chars, magFilter, minFilter, mipMapping, maxAnisotropy, sampleScale, isScaledByWindowScale, $mask0, $marker, $this) {
    if (!(($mask0 & 4) === 0)) {
      Companion_getInstance_40();
      style = 0;
    }
    if (!(($mask0 & 8) === 0))
      chars = Companion_getInstance_40().z42_1;
    if (!(($mask0 & 16) === 0))
      magFilter = FilterMethod_LINEAR_getInstance();
    if (!(($mask0 & 32) === 0))
      minFilter = FilterMethod_LINEAR_getInstance();
    if (!(($mask0 & 64) === 0))
      mipMapping = false;
    if (!(($mask0 & 128) === 0))
      maxAnisotropy = 0;
    if (!(($mask0 & 256) === 0))
      sampleScale = 1.0;
    if (!(($mask0 & 512) === 0))
      isScaledByWindowScale = true;
    FontProps.call($this, family, sizePts, style, chars, magFilter, minFilter, mipMapping, maxAnisotropy, sampleScale, isScaledByWindowScale);
    return $this;
  }
  function FontProps_init_$Create$(family, sizePts, style, chars, magFilter, minFilter, mipMapping, maxAnisotropy, sampleScale, isScaledByWindowScale, $mask0, $marker) {
    return FontProps_init_$Init$(family, sizePts, style, chars, magFilter, minFilter, mipMapping, maxAnisotropy, sampleScale, isScaledByWindowScale, $mask0, $marker, Object.create(FontProps.prototype));
  }
  function FontProps(family, sizePts, style, chars, magFilter, minFilter, mipMapping, maxAnisotropy, sampleScale, isScaledByWindowScale) {
    this.s4h_1 = family;
    this.t4h_1 = sizePts;
    this.u4h_1 = style;
    this.v4h_1 = chars;
    this.w4h_1 = magFilter;
    this.x4h_1 = minFilter;
    this.y4h_1 = mipMapping;
    this.z4h_1 = maxAnisotropy;
    this.a4i_1 = sampleScale;
    this.b4i_1 = isScaledByWindowScale;
  }
  FontProps.prototype.q5e = function () {
    return this.b4i_1;
  };
  FontProps.prototype.r5e = function (family, sizePts, style, chars, magFilter, minFilter, mipMapping, maxAnisotropy, sampleScale, isScaledByWindowScale) {
    return new FontProps(family, sizePts, style, chars, magFilter, minFilter, mipMapping, maxAnisotropy, sampleScale, isScaledByWindowScale);
  };
  FontProps.prototype.c4i = function (family, sizePts, style, chars, magFilter, minFilter, mipMapping, maxAnisotropy, sampleScale, isScaledByWindowScale, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      family = this.s4h_1;
    if (!(($mask0 & 2) === 0))
      sizePts = this.t4h_1;
    if (!(($mask0 & 4) === 0))
      style = this.u4h_1;
    if (!(($mask0 & 8) === 0))
      chars = this.v4h_1;
    if (!(($mask0 & 16) === 0))
      magFilter = this.w4h_1;
    if (!(($mask0 & 32) === 0))
      minFilter = this.x4h_1;
    if (!(($mask0 & 64) === 0))
      mipMapping = this.y4h_1;
    if (!(($mask0 & 128) === 0))
      maxAnisotropy = this.z4h_1;
    if (!(($mask0 & 256) === 0))
      sampleScale = this.a4i_1;
    if (!(($mask0 & 512) === 0))
      isScaledByWindowScale = this.b4i_1;
    return this.r5e(family, sizePts, style, chars, magFilter, minFilter, mipMapping, maxAnisotropy, sampleScale, isScaledByWindowScale);
  };
  FontProps.prototype.toString = function () {
    return 'FontProps(family=' + this.s4h_1 + ', sizePts=' + this.t4h_1 + ', style=' + this.u4h_1 + ', chars=' + this.v4h_1 + ', magFilter=' + this.w4h_1 + ', minFilter=' + this.x4h_1 + ', mipMapping=' + this.y4h_1 + ', maxAnisotropy=' + this.z4h_1 + ', sampleScale=' + this.a4i_1 + ', isScaledByWindowScale=' + this.b4i_1 + ')';
  };
  FontProps.prototype.hashCode = function () {
    var result = getStringHashCode(this.s4h_1);
    result = imul(result, 31) + getNumberHashCode(this.t4h_1) | 0;
    result = imul(result, 31) + this.u4h_1 | 0;
    result = imul(result, 31) + getStringHashCode(this.v4h_1) | 0;
    result = imul(result, 31) + this.w4h_1.hashCode() | 0;
    result = imul(result, 31) + this.x4h_1.hashCode() | 0;
    result = imul(result, 31) + (this.y4h_1 | 0) | 0;
    result = imul(result, 31) + this.z4h_1 | 0;
    result = imul(result, 31) + getNumberHashCode(this.a4i_1) | 0;
    result = imul(result, 31) + (this.b4i_1 | 0) | 0;
    return result;
  };
  FontProps.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof FontProps))
      return false;
    var tmp0_other_with_cast = other instanceof FontProps ? other : THROW_CCE();
    if (!(this.s4h_1 === tmp0_other_with_cast.s4h_1))
      return false;
    if (!equals(this.t4h_1, tmp0_other_with_cast.t4h_1))
      return false;
    if (!(this.u4h_1 === tmp0_other_with_cast.u4h_1))
      return false;
    if (!(this.v4h_1 === tmp0_other_with_cast.v4h_1))
      return false;
    if (!this.w4h_1.equals(tmp0_other_with_cast.w4h_1))
      return false;
    if (!this.x4h_1.equals(tmp0_other_with_cast.x4h_1))
      return false;
    if (!(this.y4h_1 === tmp0_other_with_cast.y4h_1))
      return false;
    if (!(this.z4h_1 === tmp0_other_with_cast.z4h_1))
      return false;
    if (!equals(this.a4i_1, tmp0_other_with_cast.a4i_1))
      return false;
    if (!(this.b4i_1 === tmp0_other_with_cast.b4i_1))
      return false;
    return true;
  };
  FontProps.$metadata$ = classMeta('FontProps');
  function Companion_40() {
    Companion_instance_40 = this;
    this.v42_1 = 0;
    this.w42_1 = 1;
    this.x42_1 = 2;
    this.y42_1 = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif';
    var str = '';
    var inductionVariable = 32;
    if (inductionVariable <= 126)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        str = str + new Char(numberToChar(i));
      }
       while (inductionVariable <= 126);
    str = str + '\xE4\xC4\xF6\xD6\xFC\xDC\xDF\xB0\xA9';
    this.z42_1 = str;
    var tmp = this;
    tmp.a43_1 = FontProps_init_$Create$('-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif', 12.0, 0, null, null, null, false, 0, 0.0, false, 1020, null);
    this.b43_1 = new Font(this.a43_1);
  }
  Companion_40.$metadata$ = objectMeta('Companion');
  var Companion_instance_40;
  function Companion_getInstance_40() {
    if (Companion_instance_40 == null)
      new Companion_40();
    return Companion_instance_40;
  }
  function Font(fontProps) {
    Companion_getInstance_40();
    this.g3r_1 = fontProps;
    this.h3r_1 = null;
  }
  Font.prototype.s5e = function (_set____db54di) {
    this.h3r_1 = _set____db54di;
  };
  Font.prototype.t5e = function () {
    return this.h3r_1;
  };
  Font.prototype.h5b = function () {
    var tmp0_safe_receiver = this.h3r_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.m3r_1;
    var tmp;
    if (tmp1_elvis_lhs == null) {
      var tmp$ret$0;
      {
        var tmp0_round = this.g3r_1.t4h_1 * 1.2;
        tmp$ret$0 = round(tmp0_round);
      }
      tmp = tmp$ret$0;
    } else {
      tmp = tmp1_elvis_lhs;
    }
    return tmp;
  };
  Font.prototype.e4c = function (ctx) {
    var tmp0_elvis_lhs = this.h3r_1;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      var tmp$ret$0;
      {
        var tmp_0 = ctx.j2a();
        var tmp0_also = tmp_0.d1x(this.g3r_1, 0.0, 2, null);
        {
        }
        {
          this.h3r_1 = tmp0_also;
        }
        tmp$ret$0 = tmp0_also;
      }
      tmp = tmp$ret$0;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  };
  Font.prototype.h5a = function (string) {
    var width = 0.0;
    var maxWidth = 0.0;
    var inductionVariable = 0;
    var last = charSequenceLength(string) - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var c = charSequenceGet(string, i);
        width = width + this.i5a(c);
        if (width > maxWidth) {
          maxWidth = width;
        }
        if (equals(new Char(c), new Char(_Char___init__impl__6a9atx(10)))) {
          width = 0.0;
        }
      }
       while (inductionVariable <= last);
    return maxWidth;
  };
  Font.prototype.l3t = function (string, ctx, result) {
    var lineWidth = 0.0;
    result.d43_1 = 0.0;
    result.e43_1 = 0.0;
    result.f43_1 = 0.0;
    result.g43_1 = 1;
    var map = this.e4c(ctx);
    var inductionVariable = 0;
    var last = charSequenceLength(string) - 1 | 0;
    if (inductionVariable <= last)
      $l$loop: do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var c = charSequenceGet(string, i);
        if (equals(new Char(c), new Char(_Char___init__impl__6a9atx(10)))) {
          var tmp = result;
          var tmp$ret$0;
          {
            var tmp0_max = result.d43_1;
            var tmp1_max = lineWidth;
            tmp$ret$0 = Math.max(tmp0_max, tmp1_max);
          }
          tmp.d43_1 = tmp$ret$0;
          var tmp1_this = result;
          tmp1_this.e43_1 = tmp1_this.e43_1 + this.h5b();
          var tmp2_this = result;
          var tmp3 = tmp2_this.g43_1;
          tmp2_this.g43_1 = tmp3 + 1 | 0;
          lineWidth = 0.0;
        } else {
          var tmp4_elvis_lhs = map.i5b(c);
          var tmp_0;
          if (tmp4_elvis_lhs == null) {
            continue $l$loop;
          } else {
            tmp_0 = tmp4_elvis_lhs;
          }
          var metrics = tmp_0;
          lineWidth = lineWidth + metrics.n5b_1;
          if (i === 0) {
            result.e43_1 = metrics.k5b_1;
            result.f43_1 = metrics.m5b_1;
          }
        }
      }
       while (inductionVariable <= last);
    var tmp_1 = result;
    var tmp$ret$1;
    {
      var tmp2_max = result.d43_1;
      var tmp3_max = lineWidth;
      tmp$ret$1 = Math.max(tmp2_max, tmp3_max);
    }
    tmp_1.d43_1 = tmp$ret$1;
    return result;
  };
  Font.prototype.i5a = function (char) {
    var tmp0_elvis_lhs = this.h3r_1;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      throw IllegalStateException_init_$Create$('Font char map has not yet been initialized');
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var cm = tmp;
    var tmp1_safe_receiver = cm.i5b(char);
    var tmp2_elvis_lhs = tmp1_safe_receiver == null ? null : tmp1_safe_receiver.n5b_1;
    return tmp2_elvis_lhs == null ? 0.0 : tmp2_elvis_lhs;
  };
  Font.prototype.toString = function () {
    return 'Font(' + this.g3r_1 + ')';
  };
  Font.$metadata$ = classMeta('Font');
  function TextMetrics() {
    this.d43_1 = 0.0;
    this.e43_1 = 0.0;
    this.f43_1 = 0.0;
    this.g43_1 = 0;
  }
  TextMetrics.prototype.y3u = function () {
    return this.d43_1;
  };
  TextMetrics.prototype.z3u = function () {
    return this.e43_1;
  };
  TextMetrics.prototype.u5e = function () {
    return this.f43_1;
  };
  TextMetrics.$metadata$ = classMeta('TextMetrics');
  function CharMetrics() {
    this.j5b_1 = 0.0;
    this.k5b_1 = 0.0;
    this.l5b_1 = 0.0;
    this.m5b_1 = 0.0;
    this.n5b_1 = 0.0;
    this.o5b_1 = MutableVec2f_init_$Create$();
    this.p5b_1 = MutableVec2f_init_$Create$();
  }
  CharMetrics.prototype.y3u = function () {
    return this.j5b_1;
  };
  CharMetrics.prototype.z3u = function () {
    return this.k5b_1;
  };
  CharMetrics.prototype.v5e = function () {
    return this.l5b_1;
  };
  CharMetrics.prototype.u5e = function () {
    return this.m5b_1;
  };
  CharMetrics.prototype.w5e = function () {
    return this.n5b_1;
  };
  CharMetrics.prototype.x5e = function () {
    return this.o5b_1;
  };
  CharMetrics.prototype.y5e = function () {
    return this.p5b_1;
  };
  CharMetrics.$metadata$ = classMeta('CharMetrics');
  function InputHandler(name) {
    this.y4j_1 = name;
    this.z4j_1 = false;
    this.a4k_1 = false;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.b4k_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_0.c4k_1 = tmp$ret$1;
  }
  InputHandler.prototype.f4k = function (_set____db54di) {
    this.z4j_1 = _set____db54di;
  };
  InputHandler.prototype.e4k = function () {
    return this.z4j_1;
  };
  InputHandler.prototype.d4k = function (_set____db54di) {
    this.a4k_1 = _set____db54di;
  };
  InputHandler.prototype.h4k = function () {
    return this.a4k_1;
  };
  InputHandler.prototype.i4k = function (pointerState, ctx) {
    {
      var tmp0_forEach = this.b4k_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          element(pointerState);
        }
      }
    }
  };
  InputHandler.prototype.p4k = function (keyEvents, ctx) {
    {
      var tmp0_forEach = this.c4k_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          element(keyEvents);
        }
      }
    }
  };
  InputHandler.$metadata$ = classMeta('InputHandler');
  function InputStack() {
    InputStack_instance = this;
    this.v27_1 = new InputHandler('InputStack.defaultInputHandler');
    this.w27_1 = mutableListOf([this.v27_1]);
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.x27_1 = tmp$ret$0;
  }
  InputStack.prototype.g4k = function (inputHandler) {
    this.x4j(inputHandler);
    var tmp0_this = this;
    {
      var tmp0_plusAssign = tmp0_this.w27_1;
      tmp0_plusAssign.b(inputHandler);
    }
  };
  InputStack.prototype.x4j = function (inputHandler) {
    var tmp0_this = this;
    {
      var tmp0_minusAssign = tmp0_this.w27_1;
      tmp0_minusAssign.c4(inputHandler);
    }
  };
  InputStack.prototype.y27 = function (inputManager, ctx) {
    this.x27_1.t7();
    this.x27_1.m1(inputManager.j27_1);
    var pointerBlocked = false;
    var inductionVariable = get_lastIndex(this.w27_1);
    if (0 <= inductionVariable)
      $l$loop: do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + -1 | 0;
        var handler = this.w27_1.r(i);
        if (!pointerBlocked) {
          handler.i4k(inputManager.n27_1, ctx);
          if (handler.z4j_1) {
            pointerBlocked = true;
          }
        }
        var tmp$ret$0;
        {
          var tmp0_isNotEmpty = this.x27_1;
          tmp$ret$0 = !tmp0_isNotEmpty.q();
        }
        if (tmp$ret$0) {
          handler.p4k(this.x27_1, ctx);
          if (handler.a4k_1) {
            this.x27_1.t7();
          }
        }
        if (pointerBlocked ? this.x27_1.q() : false) {
          break $l$loop;
        }
      }
       while (0 <= inductionVariable);
  };
  InputStack.$metadata$ = objectMeta('InputStack');
  var InputStack_instance;
  function InputStack_getInstance() {
    if (InputStack_instance == null)
      new InputStack();
    return InputStack_instance;
  }
  function LazyMat4d(update) {
    this.a55_1 = update;
    this.b55_1 = true;
    this.c55_1 = new Mat4d();
  }
  LazyMat4d.prototype.t7 = function () {
    this.b55_1 = false;
    this.c55_1.h2d();
  };
  LazyMat4d.prototype.l1e = function () {
    if (this.b55_1) {
      this.a55_1(this.c55_1);
      this.b55_1 = false;
    }
    return this.c55_1;
  };
  LazyMat4d.$metadata$ = classMeta('LazyMat4d');
  function logD(_this__u8e3s4, message) {
    var tmp$ret$1;
    {
      var tmp2_dExt = Log_getInstance();
      var tmp$ret$0;
      {
        var tmp1_logExt = Level_DEBUG_getInstance();
        var tmp0_log = getKClassFromExpression(_this__u8e3s4).ei();
        var tmp;
        if (tmp1_logExt.e1w_1 >= tmp2_dExt.y1v_1.e1w_1) {
          tmp = tmp2_dExt.z1v_1(tmp1_logExt, tmp0_log, message());
        }
        tmp$ret$0 = tmp;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1;
  }
  function logW(_this__u8e3s4, message) {
    var tmp$ret$1;
    {
      var tmp2_wExt = Log_getInstance();
      var tmp$ret$0;
      {
        var tmp1_logExt = Level_WARN_getInstance();
        var tmp0_log = getKClassFromExpression(_this__u8e3s4).ei();
        var tmp;
        if (tmp1_logExt.e1w_1 >= tmp2_wExt.y1v_1.e1w_1) {
          tmp = tmp2_wExt.z1v_1(tmp1_logExt, tmp0_log, message());
        }
        tmp$ret$0 = tmp;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1;
  }
  function logE(_this__u8e3s4, message) {
    var tmp$ret$1;
    {
      var tmp2_eExt = Log_getInstance();
      var tmp$ret$0;
      {
        var tmp1_logExt = Level_ERROR_getInstance();
        var tmp0_log = getKClassFromExpression(_this__u8e3s4).ei();
        var tmp;
        if (tmp1_logExt.e1w_1 >= tmp2_eExt.y1v_1.e1w_1) {
          tmp = tmp2_eExt.z1v_1(tmp1_logExt, tmp0_log, message());
        }
        tmp$ret$0 = tmp;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1;
  }
  var Level_TRACE_instance;
  var Level_DEBUG_instance;
  var Level_INFO_instance;
  var Level_WARN_instance;
  var Level_ERROR_instance;
  var Level_OFF_instance;
  var Level_entriesInitialized;
  function Level_initEntries() {
    if (Level_entriesInitialized)
      return Unit_getInstance();
    Level_entriesInitialized = true;
    Level_TRACE_instance = new Level('TRACE', 0, 0, _Char___init__impl__6a9atx(84));
    Level_DEBUG_instance = new Level('DEBUG', 1, 1, _Char___init__impl__6a9atx(68));
    Level_INFO_instance = new Level('INFO', 2, 2, _Char___init__impl__6a9atx(73));
    Level_WARN_instance = new Level('WARN', 3, 3, _Char___init__impl__6a9atx(87));
    Level_ERROR_instance = new Level('ERROR', 4, 4, _Char___init__impl__6a9atx(69));
    Level_OFF_instance = new Level('OFF', 5, 5, _Char___init__impl__6a9atx(120));
  }
  function Level(name, ordinal, level, indicator) {
    Enum.call(this, name, ordinal);
    this.e1w_1 = level;
    this.f1w_1 = indicator;
  }
  Level.prototype.z5e = function () {
    return this.e1w_1;
  };
  Level.$metadata$ = classMeta('Level', undefined, undefined, undefined, undefined, Enum.prototype);
  function Log$DEFAULT_PRINTER$lambda() {
    return function (lvl, tag, message) {
      println('' + new Char(lvl.f1w_1) + '/' + tag + ': ' + message);
      return Unit_getInstance();
    };
  }
  function Level_DEBUG_getInstance() {
    Level_initEntries();
    return Level_DEBUG_instance;
  }
  function Level_INFO_getInstance() {
    Level_initEntries();
    return Level_INFO_instance;
  }
  function Level_WARN_getInstance() {
    Level_initEntries();
    return Level_WARN_instance;
  }
  function Level_ERROR_getInstance() {
    Level_initEntries();
    return Level_ERROR_instance;
  }
  function Log() {
    Log_instance = this;
    var tmp = this;
    tmp.x1v_1 = Log$DEFAULT_PRINTER$lambda();
    this.y1v_1 = Level_DEBUG_getInstance();
    this.z1v_1 = this.x1v_1;
  }
  Log.prototype.z5e = function () {
    return this.y1v_1;
  };
  Log.prototype.a5f = function () {
    return this.z1v_1;
  };
  Log.prototype.b5f = function (src, message) {
    var tmp$ret$0;
    {
      var tmp1_logExt = Level_DEBUG_getInstance();
      var tmp0_log = getKClassFromExpression(src).ei();
      var tmp;
      if (tmp1_logExt.e1w_1 >= this.y1v_1.e1w_1) {
        tmp = this.z1v_1(tmp1_logExt, tmp0_log, message());
      }
      tmp$ret$0 = tmp;
    }
    return tmp$ret$0;
  };
  Log.prototype.c5f = function (src, message) {
    var tmp$ret$0;
    {
      var tmp1_logExt = Level_INFO_getInstance();
      var tmp0_log = getKClassFromExpression(src).ei();
      var tmp;
      if (tmp1_logExt.e1w_1 >= this.y1v_1.e1w_1) {
        tmp = this.z1v_1(tmp1_logExt, tmp0_log, message());
      }
      tmp$ret$0 = tmp;
    }
    return tmp$ret$0;
  };
  Log.prototype.d5f = function (src, message) {
    var tmp$ret$0;
    {
      var tmp1_logExt = Level_WARN_getInstance();
      var tmp0_log = getKClassFromExpression(src).ei();
      var tmp;
      if (tmp1_logExt.e1w_1 >= this.y1v_1.e1w_1) {
        tmp = this.z1v_1(tmp1_logExt, tmp0_log, message());
      }
      tmp$ret$0 = tmp;
    }
    return tmp$ret$0;
  };
  Log.prototype.e5f = function (src, message) {
    var tmp$ret$0;
    {
      var tmp1_logExt = Level_ERROR_getInstance();
      var tmp0_log = getKClassFromExpression(src).ei();
      var tmp;
      if (tmp1_logExt.e1w_1 >= this.y1v_1.e1w_1) {
        tmp = this.z1v_1(tmp1_logExt, tmp0_log, message());
      }
      tmp$ret$0 = tmp;
    }
    return tmp$ret$0;
  };
  Log.prototype.f5f = function (level, src, message) {
    var tmp0_log = getKClassFromExpression(src).ei();
    var tmp;
    if (level.e1w_1 >= this.y1v_1.e1w_1) {
      tmp = this.z1v_1(level, tmp0_log, message());
    }
    return tmp;
  };
  Log.prototype.g5f = function (level, tag, message) {
    if (level.e1w_1 >= this.y1v_1.e1w_1) {
      this.z1v_1(level, tag, message());
    }
  };
  Log.$metadata$ = objectMeta('Log');
  var Log_instance;
  function Log_getInstance() {
    if (Log_instance == null)
      new Log();
    return Log_instance;
  }
  function logI(_this__u8e3s4, message) {
    var tmp$ret$1;
    {
      var tmp0_iExt = Log_getInstance();
      var tmp$ret$0;
      {
        var tmp1_logExt = Level_INFO_getInstance();
        var tmp0_log = getKClassFromExpression(_this__u8e3s4).ei();
        var tmp;
        if (tmp1_logExt.e1w_1 >= tmp0_iExt.y1v_1.e1w_1) {
          tmp = tmp0_iExt.z1v_1(tmp1_logExt, tmp0_log, message());
        }
        tmp$ret$0 = tmp;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1;
  }
  function PerfTimer() {
    this.s4j_1 = 0.0;
    this.u4j();
  }
  PerfTimer.prototype.u4j = function () {
    this.s4j_1 = now();
  };
  PerfTimer.prototype.t4j = function () {
    return now() - this.s4j_1;
  };
  PerfTimer.$metadata$ = classMeta('PerfTimer');
  function SectionTimer(tag) {
    this.h5f_1 = tag;
    this.i5f_1 = 0.0;
    this.j5f_1 = 0.0;
  }
  SectionTimer.prototype.k5f = function () {
    this.i5f_1 = now();
  };
  SectionTimer.prototype.l5f = function () {
    var tmp0_this = this;
    tmp0_this.j5f_1 = tmp0_this.j5f_1 + (now() - this.i5f_1);
  };
  SectionTimer.$metadata$ = classMeta('SectionTimer');
  function Profiling() {
    Profiling_instance = this;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.f2c_1 = tmp$ret$0;
    this.g2c_1 = now();
    this.h2c_1 = 0;
    this.i2c_1 = null;
  }
  Profiling.prototype.j2c = function (tag) {
    var tmp$ret$3;
    {
      var tmp0_lock = this.f2c_1;
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          var tmp0_getOrPut = Profiling_getInstance().f2c_1;
          var value = tmp0_getOrPut.z2(tag);
          var tmp;
          if (value == null) {
            var tmp$ret$0;
            {
              tmp$ret$0 = new SectionTimer(tag);
            }
            var answer = tmp$ret$0;
            tmp0_getOrPut.a(tag, answer);
            tmp = answer;
          } else {
            tmp = value;
          }
          tmp$ret$1 = tmp;
        }
        tmp$ret$2 = tmp$ret$1;
      }
      tmp$ret$3 = tmp$ret$2;
    }
    tmp$ret$3.k5f();
  };
  Profiling.prototype.c2d = function (tag) {
    var tmp$ret$1;
    {
      var tmp0_lock = this.f2c_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = Profiling_getInstance().f2c_1.z2(tag);
      }
      tmp$ret$1 = tmp$ret$0;
    }
    var tmp0_safe_receiver = tmp$ret$1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      tmp0_safe_receiver.l5f();
    }
  };
  Profiling.$metadata$ = objectMeta('Profiling');
  var Profiling_instance;
  function Profiling_getInstance() {
    if (Profiling_instance == null)
      new Profiling();
    return Profiling_instance;
  }
  function Companion_41() {
    Companion_instance_41 = this;
    this.m5f_1 = 0;
    this.n5f_1 = -1;
    this.o5f_1 = 1;
    this.p5f_1 = 2;
  }
  Companion_41.$metadata$ = objectMeta('Companion');
  var Companion_instance_41;
  function Companion_getInstance_41() {
    if (Companion_instance_41 == null)
      new Companion_41();
    return Companion_instance_41;
  }
  function Gesture() {
    this.s23_1 = MutableVec2d_init_$Create$();
    this.t23_1 = MutableVec2d_init_$Create$();
    this.u23_1 = MutableVec2d_init_$Create$();
    this.v23_1 = MutableVec2d_init_$Create$();
    this.w23_1 = 0.0;
    this.x23_1 = 0.0;
    this.y23_1 = 0.0;
    var tmp = this;
    Companion_getInstance_41();
    tmp.z23_1 = 0;
    this.a24_1 = 0;
  }
  Gesture.prototype.q5f = function (type, ptr1, ptr2, dpi) {
    this.z23_1 = type;
    this.s23_1.w2g(ptr1).t2g(ptr2).u2g(0.5);
    this.t23_1.w2g(this.s23_1);
    this.u23_1.w2g(Companion_getInstance_8().g2g_1);
    this.v23_1.w2g(Companion_getInstance_8().g2g_1);
    this.w23_1 = ptr1.m2g(ptr2) * 96.0 / dpi;
    this.x23_1 = this.w23_1;
    this.y23_1 = 0.0;
    this.a24_1 = 0;
  };
  Gesture.prototype.r5f = function (ptr1, ptr2, dpi) {
    this.v23_1.w2g(ptr1).t2g(ptr2).u2g(0.5).x2g(this.t23_1);
    this.t23_1.w2g(ptr1).t2g(ptr2).u2g(0.5);
    this.u23_1.w2g(this.t23_1).x2g(this.s23_1);
    var pinch = ptr1.m2g(ptr2) * 96.0 / dpi;
    this.y23_1 = pinch - this.x23_1;
    this.x23_1 = pinch;
    var tmp0_this = this;
    var tmp1 = tmp0_this.a24_1;
    tmp0_this.a24_1 = tmp1 + 1 | 0;
  };
  Gesture.$metadata$ = classMeta('Gesture');
  function TouchGestureEvaluator$onDetermineGesture$lambda($pointers) {
    return function (ptrId) {
      var tmp$ret$2;
      {
        var tmp$ret$1;
        $l$block: {
          var tmp0_iterator = $pointers.h();
          while (tmp0_iterator.n()) {
            var element = tmp0_iterator.o();
            var tmp$ret$0;
            {
              tmp$ret$0 = element.m1y_1 === ptrId;
            }
            if (tmp$ret$0) {
              tmp$ret$1 = element;
              break $l$block;
            }
          }
          tmp$ret$1 = null;
        }
        tmp$ret$2 = tmp$ret$1;
      }
      return tmp$ret$2 == null;
    };
  }
  function TouchGestureEvaluator() {
    Companion_getInstance_41();
    this.l23_1 = new Gesture();
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.m23_1 = tmp$ret$0;
    this.n23_1 = MutableVec2d_init_$Create$();
    this.o23_1 = MutableVec2d_init_$Create$();
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = LinkedHashMap_init_$Create$();
    }
    tmp_0.p23_1 = tmp$ret$1;
    this.q23_1 = 96.0;
  }
  TouchGestureEvaluator.prototype.s5f = function () {
    return this.p23_1;
  };
  TouchGestureEvaluator.prototype.r23 = function (pointerState, ctx) {
    this.q23_1 = ctx.f28_1 * 96.0;
    pointerState.j23(this.m23_1, 0, 2, null);
    if (this.m23_1.m() > 1) {
      var tmp0_subject = this.l23_1.z23_1;
      Companion_getInstance_41();
      if (tmp0_subject === 0)
        this.v5f(this.m23_1);
      else {
        Companion_getInstance_41();
        if (tmp0_subject === -1)
          this.u5f(this.m23_1);
        else {
          Companion_getInstance_41();
          if (tmp0_subject === 1)
            this.t5f(this.m23_1);
          else {
            Companion_getInstance_41();
            if (tmp0_subject === 2)
              this.t5f(this.m23_1);
          }
        }
      }
    } else {
      var tmp = this.l23_1;
      Companion_getInstance_41();
      tmp.z23_1 = 0;
      this.p23_1.t7();
    }
  };
  TouchGestureEvaluator.prototype.v5f = function (pointers) {
    {
      var tmp0_iterator = pointers.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          {
            var tmp0_set = this.p23_1;
            var tmp1_set = element.m1y_1;
            var tmp2_set = new Vec2d(element.n1y_1, element.o1y_1);
            tmp0_set.a(tmp1_set, tmp2_set);
          }
        }
      }
    }
    var tmp = this.l23_1;
    Companion_getInstance_41();
    tmp.z23_1 = -1;
  };
  TouchGestureEvaluator.prototype.u5f = function (pointers) {
    var tmp = this.p23_1.a3();
    removeAll_1(tmp, TouchGestureEvaluator$onDetermineGesture$lambda(pointers));
    {
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          var tmp0_filterTo = ArrayList_init_$Create$_0();
          var tmp0_iterator = pointers.h();
          while (tmp0_iterator.n()) {
            var element = tmp0_iterator.o();
            var tmp$ret$0;
            {
              tmp$ret$0 = !this.p23_1.t2(element.m1y_1);
            }
            if (tmp$ret$0) {
              tmp0_filterTo.b(element);
            }
          }
          tmp$ret$1 = tmp0_filterTo;
        }
        tmp$ret$2 = tmp$ret$1;
      }
      var tmp0_forEach = tmp$ret$2;
      var tmp0_iterator_0 = tmp0_forEach.h();
      while (tmp0_iterator_0.n()) {
        var element_0 = tmp0_iterator_0.o();
        {
          {
            var tmp0_set = this.p23_1;
            var tmp1_set = element_0.m1y_1;
            var tmp2_set = new Vec2d(element_0.n1y_1, element_0.o1y_1);
            tmp0_set.a(tmp1_set, tmp2_set);
          }
        }
      }
    }
    if (this.x5f(pointers)) {
      var tmp_0 = this.l23_1;
      Companion_getInstance_41();
      tmp_0.z23_1 = 1;
    } else if (this.w5f(pointers)) {
      var tmp_1 = this.l23_1;
      Companion_getInstance_41();
      tmp_1.z23_1 = 2;
    }
  };
  TouchGestureEvaluator.prototype.x5f = function (pointers) {
    if (pointers.m() === 2) {
      this.n23_1.v2g(pointers.r(0).n1y_1, pointers.r(0).o1y_1).x2g(ensureNotNull(this.p23_1.z2(pointers.r(0).m1y_1)));
      this.o23_1.v2g(pointers.r(1).n1y_1, pointers.r(1).o1y_1).x2g(ensureNotNull(this.p23_1.z2(pointers.r(1).m1y_1)));
      this.n23_1.u2g(96.0 / this.q23_1);
      this.o23_1.u2g(96.0 / this.q23_1);
      if ((this.n23_1.p2g() > 5.0 ? this.o23_1.p2g() > 5.0 : false) ? this.n23_1.r2g(this.o23_1) < 0.0 : false) {
        this.n23_1.w2g(ensureNotNull(this.p23_1.z2(pointers.r(0).m1y_1)));
        this.o23_1.w2g(ensureNotNull(this.p23_1.z2(pointers.r(1).m1y_1)));
        var tmp = this.l23_1;
        Companion_getInstance_41();
        tmp.q5f(1, this.n23_1, this.o23_1, this.q23_1);
        this.t5f(pointers);
        return true;
      }
    }
    return false;
  };
  TouchGestureEvaluator.prototype.w5f = function (pointers) {
    if (pointers.m() === 2) {
      this.n23_1.v2g(pointers.r(0).n1y_1, pointers.r(0).o1y_1).x2g(ensureNotNull(this.p23_1.z2(pointers.r(0).m1y_1)));
      this.o23_1.v2g(pointers.r(1).n1y_1, pointers.r(1).o1y_1).x2g(ensureNotNull(this.p23_1.z2(pointers.r(1).m1y_1)));
      this.n23_1.u2g(96.0 / this.q23_1);
      this.o23_1.u2g(96.0 / this.q23_1);
      if ((this.n23_1.p2g() > 5.0 ? this.o23_1.p2g() > 5.0 : false) ? this.n23_1.r2g(this.o23_1) > 0.0 : false) {
        this.n23_1.w2g(ensureNotNull(this.p23_1.z2(pointers.r(0).m1y_1)));
        this.o23_1.w2g(ensureNotNull(this.p23_1.z2(pointers.r(1).m1y_1)));
        var tmp = this.l23_1;
        Companion_getInstance_41();
        tmp.q5f(2, this.n23_1, this.o23_1, this.q23_1);
        this.t5f(pointers);
        return true;
      }
    }
    return false;
  };
  TouchGestureEvaluator.prototype.t5f = function (pointers) {
    if (pointers.m() === 2) {
      this.n23_1.v2g(pointers.r(0).n1y_1, pointers.r(0).o1y_1);
      this.o23_1.v2g(pointers.r(1).n1y_1, pointers.r(1).o1y_1);
      this.l23_1.r5f(this.n23_1, this.o23_1, this.q23_1);
      var tmp = pointers.r(0);
      tmp.v21(0, 1, null);
      var tmp_0 = pointers.r(1);
      tmp_0.v21(0, 1, null);
    } else {
      var tmp_1 = this.l23_1;
      Companion_getInstance_41();
      tmp_1.z23_1 = 0;
    }
  };
  TouchGestureEvaluator.$metadata$ = classMeta('TouchGestureEvaluator');
  function getEntry($this, key) {
    var p = $this.t4i_1;
    while (!(p == null)) {
      var tmp;
      if ($this.s4i_1(key, p.z5f_1) < 0) {
        tmp = p.b5g_1;
      } else if ($this.s4i_1(key, p.z5f_1) > 0) {
        tmp = p.c5g_1;
      } else {
        return p;
      }
      p = tmp;
    }
    return null;
  }
  function deleteEntry($this, entry) {
    var p = entry;
    var tmp0_this = $this;
    var tmp1 = tmp0_this.m();
    tmp0_this.f5g(tmp1 - 1 | 0);
    if (!(p.b5g_1 == null) ? !(p.c5g_1 == null) : false) {
      var s = ensureNotNull(successor(p, $this));
      p.z5f_1 = s.z5f_1;
      p.a5g_1 = s.a5g_1;
      p = s;
    }
    var replacement = !(p.b5g_1 == null) ? p.b5g_1 : p.c5g_1;
    if (!(replacement == null)) {
      replacement.y5f_1 = p.y5f_1;
      if (p.y5f_1 == null)
        $this.t4i_1 = replacement;
      else if (p === ensureNotNull(p.y5f_1).b5g_1)
        ensureNotNull(p.y5f_1).b5g_1 = replacement;
      else
        ensureNotNull(p.y5f_1).c5g_1 = replacement;
      p.b5g_1 = null;
      p.c5g_1 = null;
      p.y5f_1 = null;
      var tmp = p.d5g_1;
      Companion_getInstance_42();
      if (tmp === false) {
        fixAfterDeletion($this, replacement);
      }
    } else if (p.y5f_1 == null) {
      $this.t4i_1 = null;
    } else {
      var tmp_0 = p.d5g_1;
      Companion_getInstance_42();
      if (tmp_0 === false) {
        fixAfterDeletion($this, p);
      }
      if (!(p.y5f_1 == null)) {
        if (p === ensureNotNull(p.y5f_1).b5g_1) {
          ensureNotNull(p.y5f_1).b5g_1 = null;
        } else if (p === ensureNotNull(p.y5f_1).c5g_1) {
          ensureNotNull(p.y5f_1).c5g_1 = null;
        }
        p.y5f_1 = null;
      }
    }
  }
  function fixAfterInsertion($this, entry) {
    var x = entry;
    var tmp0_safe_receiver = x;
    if (tmp0_safe_receiver == null) {
    } else {
      var tmp = tmp0_safe_receiver;
      Companion_getInstance_42();
      tmp.d5g_1 = true;
    }
    $l$loop: while (true) {
      var tmp_0;
      if (!(x == null) ? !equals(x, $this.t4i_1) : false) {
        var tmp_1 = color(x.y5f_1, $this);
        Companion_getInstance_42();
        tmp_0 = tmp_1 === true;
      } else {
        tmp_0 = false;
      }
      if (!tmp_0) {
        break $l$loop;
      }
      var tmp_2 = x.y5f_1;
      var tmp1_safe_receiver = x.y5f_1;
      var tmp2_safe_receiver = tmp1_safe_receiver == null ? null : tmp1_safe_receiver.y5f_1;
      if (tmp_2 === (tmp2_safe_receiver == null ? null : tmp2_safe_receiver.b5g_1)) {
        var tmp3_safe_receiver = x.y5f_1;
        var tmp4_safe_receiver = tmp3_safe_receiver == null ? null : tmp3_safe_receiver.y5f_1;
        var y = tmp4_safe_receiver == null ? null : tmp4_safe_receiver.c5g_1;
        var tmp_3 = color(y, $this);
        Companion_getInstance_42();
        if (tmp_3 === true) {
          var tmp5_safe_receiver = x.y5f_1;
          if (tmp5_safe_receiver == null) {
          } else {
            var tmp_4 = tmp5_safe_receiver;
            Companion_getInstance_42();
            tmp_4.d5g_1 = false;
          }
          var tmp6_safe_receiver = y;
          if (tmp6_safe_receiver == null) {
          } else {
            var tmp_5 = tmp6_safe_receiver;
            Companion_getInstance_42();
            tmp_5.d5g_1 = false;
          }
          var tmp7_safe_receiver = x.y5f_1;
          var tmp8_safe_receiver = tmp7_safe_receiver == null ? null : tmp7_safe_receiver.y5f_1;
          if (tmp8_safe_receiver == null) {
          } else {
            var tmp_6 = tmp8_safe_receiver;
            Companion_getInstance_42();
            tmp_6.d5g_1 = true;
          }
          var tmp9_safe_receiver = x.y5f_1;
          x = tmp9_safe_receiver == null ? null : tmp9_safe_receiver.y5f_1;
        } else {
          var tmp_7 = x;
          var tmp10_safe_receiver = x.y5f_1;
          if (tmp_7 === (tmp10_safe_receiver == null ? null : tmp10_safe_receiver.c5g_1)) {
            x = x.y5f_1;
            rotateLeft($this, x);
          }
          var tmp11_safe_receiver = x;
          var tmp12_safe_receiver = tmp11_safe_receiver == null ? null : tmp11_safe_receiver.y5f_1;
          if (tmp12_safe_receiver == null) {
          } else {
            var tmp_8 = tmp12_safe_receiver;
            Companion_getInstance_42();
            tmp_8.d5g_1 = false;
          }
          var tmp13_safe_receiver = x;
          var tmp14_safe_receiver = tmp13_safe_receiver == null ? null : tmp13_safe_receiver.y5f_1;
          var tmp15_safe_receiver = tmp14_safe_receiver == null ? null : tmp14_safe_receiver.y5f_1;
          if (tmp15_safe_receiver == null) {
          } else {
            var tmp_9 = tmp15_safe_receiver;
            Companion_getInstance_42();
            tmp_9.d5g_1 = true;
          }
          var tmp16_safe_receiver = x;
          var tmp17_safe_receiver = tmp16_safe_receiver == null ? null : tmp16_safe_receiver.y5f_1;
          rotateRight($this, tmp17_safe_receiver == null ? null : tmp17_safe_receiver.y5f_1);
        }
      } else {
        var tmp18_safe_receiver = x.y5f_1;
        var tmp19_safe_receiver = tmp18_safe_receiver == null ? null : tmp18_safe_receiver.y5f_1;
        var y_0 = tmp19_safe_receiver == null ? null : tmp19_safe_receiver.b5g_1;
        var tmp_10 = color(y_0, $this);
        Companion_getInstance_42();
        if (tmp_10 === true) {
          var tmp20_safe_receiver = x.y5f_1;
          if (tmp20_safe_receiver == null) {
          } else {
            var tmp_11 = tmp20_safe_receiver;
            Companion_getInstance_42();
            tmp_11.d5g_1 = false;
          }
          var tmp21_safe_receiver = y_0;
          if (tmp21_safe_receiver == null) {
          } else {
            var tmp_12 = tmp21_safe_receiver;
            Companion_getInstance_42();
            tmp_12.d5g_1 = false;
          }
          var tmp22_safe_receiver = x.y5f_1;
          var tmp23_safe_receiver = tmp22_safe_receiver == null ? null : tmp22_safe_receiver.y5f_1;
          if (tmp23_safe_receiver == null) {
          } else {
            var tmp_13 = tmp23_safe_receiver;
            Companion_getInstance_42();
            tmp_13.d5g_1 = true;
          }
          var tmp24_safe_receiver = x.y5f_1;
          x = tmp24_safe_receiver == null ? null : tmp24_safe_receiver.y5f_1;
        } else {
          var tmp_14 = x;
          var tmp25_safe_receiver = x.y5f_1;
          if (tmp_14 === (tmp25_safe_receiver == null ? null : tmp25_safe_receiver.b5g_1)) {
            x = x.y5f_1;
            rotateRight($this, x);
          }
          var tmp26_safe_receiver = x;
          var tmp27_safe_receiver = tmp26_safe_receiver == null ? null : tmp26_safe_receiver.y5f_1;
          if (tmp27_safe_receiver == null) {
          } else {
            var tmp_15 = tmp27_safe_receiver;
            Companion_getInstance_42();
            tmp_15.d5g_1 = false;
          }
          var tmp28_safe_receiver = x;
          var tmp29_safe_receiver = tmp28_safe_receiver == null ? null : tmp28_safe_receiver.y5f_1;
          var tmp30_safe_receiver = tmp29_safe_receiver == null ? null : tmp29_safe_receiver.y5f_1;
          if (tmp30_safe_receiver == null) {
          } else {
            var tmp_16 = tmp30_safe_receiver;
            Companion_getInstance_42();
            tmp_16.d5g_1 = true;
          }
          var tmp31_safe_receiver = x;
          var tmp32_safe_receiver = tmp31_safe_receiver == null ? null : tmp31_safe_receiver.y5f_1;
          rotateLeft($this, tmp32_safe_receiver == null ? null : tmp32_safe_receiver.y5f_1);
        }
      }
    }
    var tmp33_safe_receiver = $this.t4i_1;
    if (tmp33_safe_receiver == null) {
    } else {
      var tmp_17 = tmp33_safe_receiver;
      Companion_getInstance_42();
      tmp_17.d5g_1 = false;
    }
  }
  function fixAfterDeletion($this, entry) {
    var x = entry;
    $l$loop: while (true) {
      var tmp;
      if (!equals(x, $this.t4i_1)) {
        var tmp_0 = x.d5g_1;
        Companion_getInstance_42();
        tmp = tmp_0 === false;
      } else {
        tmp = false;
      }
      if (!tmp) {
        break $l$loop;
      }
      var tmp_1 = x;
      var tmp0_safe_receiver = x.y5f_1;
      if (equals(tmp_1, tmp0_safe_receiver == null ? null : tmp0_safe_receiver.b5g_1)) {
        var tmp1_safe_receiver = x.y5f_1;
        var sib = tmp1_safe_receiver == null ? null : tmp1_safe_receiver.c5g_1;
        var tmp_2 = color(sib, $this);
        Companion_getInstance_42();
        if (tmp_2 === true) {
          var tmp2_safe_receiver = sib;
          if (tmp2_safe_receiver == null) {
          } else {
            var tmp_3 = tmp2_safe_receiver;
            Companion_getInstance_42();
            tmp_3.d5g_1 = false;
          }
          var tmp3_safe_receiver = x.y5f_1;
          if (tmp3_safe_receiver == null) {
          } else {
            var tmp_4 = tmp3_safe_receiver;
            Companion_getInstance_42();
            tmp_4.d5g_1 = true;
          }
          rotateLeft($this, x.y5f_1);
          var tmp4_safe_receiver = x.y5f_1;
          sib = tmp4_safe_receiver == null ? null : tmp4_safe_receiver.c5g_1;
        }
        var tmp_5;
        var tmp5_safe_receiver = sib;
        var tmp_6 = color(tmp5_safe_receiver == null ? null : tmp5_safe_receiver.b5g_1, $this);
        Companion_getInstance_42();
        if (tmp_6 === false) {
          var tmp6_safe_receiver = sib;
          var tmp_7 = color(tmp6_safe_receiver == null ? null : tmp6_safe_receiver.c5g_1, $this);
          Companion_getInstance_42();
          tmp_5 = tmp_7 === false;
        } else {
          tmp_5 = false;
        }
        if (tmp_5) {
          var tmp7_safe_receiver = sib;
          if (tmp7_safe_receiver == null) {
          } else {
            var tmp_8 = tmp7_safe_receiver;
            Companion_getInstance_42();
            tmp_8.d5g_1 = true;
          }
          x = ensureNotNull(x.y5f_1);
        } else {
          var tmp8_safe_receiver = sib;
          var tmp_9 = color(tmp8_safe_receiver == null ? null : tmp8_safe_receiver.c5g_1, $this);
          Companion_getInstance_42();
          if (tmp_9 === false) {
            var tmp9_safe_receiver = sib;
            var tmp10_safe_receiver = tmp9_safe_receiver == null ? null : tmp9_safe_receiver.b5g_1;
            if (tmp10_safe_receiver == null) {
            } else {
              var tmp_10 = tmp10_safe_receiver;
              Companion_getInstance_42();
              tmp_10.d5g_1 = false;
            }
            var tmp11_safe_receiver = sib;
            if (tmp11_safe_receiver == null) {
            } else {
              var tmp_11 = tmp11_safe_receiver;
              Companion_getInstance_42();
              tmp_11.d5g_1 = true;
            }
            rotateRight($this, sib);
            var tmp12_safe_receiver = x.y5f_1;
            sib = tmp12_safe_receiver == null ? null : tmp12_safe_receiver.c5g_1;
          }
          var tmp13_safe_receiver = sib;
          if (tmp13_safe_receiver == null) {
          } else
            tmp13_safe_receiver.d5g_1 = color(x.y5f_1, $this);
          var tmp14_safe_receiver = x.y5f_1;
          if (tmp14_safe_receiver == null) {
          } else {
            var tmp_12 = tmp14_safe_receiver;
            Companion_getInstance_42();
            tmp_12.d5g_1 = false;
          }
          var tmp15_safe_receiver = sib;
          var tmp16_safe_receiver = tmp15_safe_receiver == null ? null : tmp15_safe_receiver.c5g_1;
          if (tmp16_safe_receiver == null) {
          } else {
            var tmp_13 = tmp16_safe_receiver;
            Companion_getInstance_42();
            tmp_13.d5g_1 = false;
          }
          rotateLeft($this, x.y5f_1);
          x = ensureNotNull($this.t4i_1);
        }
      } else {
        var tmp17_safe_receiver = x.y5f_1;
        var sib_0 = tmp17_safe_receiver == null ? null : tmp17_safe_receiver.b5g_1;
        var tmp_14 = color(sib_0, $this);
        Companion_getInstance_42();
        if (tmp_14 === true) {
          var tmp18_safe_receiver = sib_0;
          if (tmp18_safe_receiver == null) {
          } else {
            var tmp_15 = tmp18_safe_receiver;
            Companion_getInstance_42();
            tmp_15.d5g_1 = false;
          }
          var tmp19_safe_receiver = sib_0;
          var tmp20_safe_receiver = tmp19_safe_receiver == null ? null : tmp19_safe_receiver.y5f_1;
          if (tmp20_safe_receiver == null) {
          } else {
            var tmp_16 = tmp20_safe_receiver;
            Companion_getInstance_42();
            tmp_16.d5g_1 = true;
          }
          rotateRight($this, x.y5f_1);
          var tmp21_safe_receiver = x.y5f_1;
          sib_0 = tmp21_safe_receiver == null ? null : tmp21_safe_receiver.b5g_1;
        }
        var tmp_17;
        var tmp22_safe_receiver = sib_0;
        var tmp_18 = color(tmp22_safe_receiver == null ? null : tmp22_safe_receiver.c5g_1, $this);
        Companion_getInstance_42();
        if (tmp_18 === false) {
          var tmp23_safe_receiver = sib_0;
          var tmp_19 = color(tmp23_safe_receiver == null ? null : tmp23_safe_receiver.b5g_1, $this);
          Companion_getInstance_42();
          tmp_17 = tmp_19 === false;
        } else {
          tmp_17 = false;
        }
        if (tmp_17) {
          var tmp24_safe_receiver = sib_0;
          if (tmp24_safe_receiver == null) {
          } else {
            var tmp_20 = tmp24_safe_receiver;
            Companion_getInstance_42();
            tmp_20.d5g_1 = true;
          }
          x = ensureNotNull(x.y5f_1);
        } else {
          var tmp25_safe_receiver = sib_0;
          var tmp_21 = color(tmp25_safe_receiver == null ? null : tmp25_safe_receiver.b5g_1, $this);
          Companion_getInstance_42();
          if (tmp_21 === false) {
            var tmp26_safe_receiver = sib_0;
            var tmp27_safe_receiver = tmp26_safe_receiver == null ? null : tmp26_safe_receiver.c5g_1;
            if (tmp27_safe_receiver == null) {
            } else {
              var tmp_22 = tmp27_safe_receiver;
              Companion_getInstance_42();
              tmp_22.d5g_1 = false;
            }
            var tmp28_safe_receiver = sib_0;
            if (tmp28_safe_receiver == null) {
            } else {
              var tmp_23 = tmp28_safe_receiver;
              Companion_getInstance_42();
              tmp_23.d5g_1 = true;
            }
            rotateLeft($this, sib_0);
            var tmp29_safe_receiver = x.y5f_1;
            sib_0 = tmp29_safe_receiver == null ? null : tmp29_safe_receiver.b5g_1;
          }
          var tmp30_safe_receiver = sib_0;
          if (tmp30_safe_receiver == null) {
          } else
            tmp30_safe_receiver.d5g_1 = color(x.y5f_1, $this);
          var tmp31_safe_receiver = x.y5f_1;
          if (tmp31_safe_receiver == null) {
          } else {
            var tmp_24 = tmp31_safe_receiver;
            Companion_getInstance_42();
            tmp_24.d5g_1 = false;
          }
          var tmp32_safe_receiver = sib_0;
          var tmp33_safe_receiver = tmp32_safe_receiver == null ? null : tmp32_safe_receiver.b5g_1;
          if (tmp33_safe_receiver == null) {
          } else {
            var tmp_25 = tmp33_safe_receiver;
            Companion_getInstance_42();
            tmp_25.d5g_1 = false;
          }
          rotateRight($this, x.y5f_1);
          x = ensureNotNull($this.t4i_1);
        }
      }
    }
    var tmp_26 = x;
    Companion_getInstance_42();
    tmp_26.d5g_1 = false;
  }
  function rotateLeft($this, p) {
    if (!(p == null)) {
      var r = p.c5g_1;
      var tmp = p;
      var tmp0_safe_receiver = r;
      tmp.c5g_1 = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.b5g_1;
      var tmp1_safe_receiver = r;
      if (!((tmp1_safe_receiver == null ? null : tmp1_safe_receiver.b5g_1) == null)) {
        var tmp2_safe_receiver = r.b5g_1;
        if (tmp2_safe_receiver == null) {
        } else
          tmp2_safe_receiver.y5f_1 = p;
      }
      var tmp3_safe_receiver = r;
      if (tmp3_safe_receiver == null) {
      } else
        tmp3_safe_receiver.y5f_1 = p.y5f_1;
      if (p.y5f_1 == null)
        $this.t4i_1 = r;
      else {
        var tmp4_safe_receiver = p.y5f_1;
        if ((tmp4_safe_receiver == null ? null : tmp4_safe_receiver.b5g_1) === p) {
          var tmp5_safe_receiver = p.y5f_1;
          if (tmp5_safe_receiver == null) {
          } else
            tmp5_safe_receiver.b5g_1 = r;
        } else {
          var tmp6_safe_receiver = p.y5f_1;
          if (tmp6_safe_receiver == null) {
          } else
            tmp6_safe_receiver.c5g_1 = r;
        }
      }
      var tmp7_safe_receiver = r;
      if (tmp7_safe_receiver == null) {
      } else
        tmp7_safe_receiver.b5g_1 = p;
      p.y5f_1 = r;
    }
  }
  function rotateRight($this, p) {
    if (!(p == null)) {
      var l = p.b5g_1;
      var tmp = p;
      var tmp0_safe_receiver = l;
      tmp.b5g_1 = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.c5g_1;
      var tmp1_safe_receiver = l;
      if (!((tmp1_safe_receiver == null ? null : tmp1_safe_receiver.c5g_1) == null)) {
        var tmp2_safe_receiver = l.c5g_1;
        if (tmp2_safe_receiver == null) {
        } else
          tmp2_safe_receiver.y5f_1 = p;
      }
      var tmp3_safe_receiver = l;
      if (tmp3_safe_receiver == null) {
      } else
        tmp3_safe_receiver.y5f_1 = p.y5f_1;
      if (p.y5f_1 == null)
        $this.t4i_1 = l;
      else {
        var tmp4_safe_receiver = p.y5f_1;
        if ((tmp4_safe_receiver == null ? null : tmp4_safe_receiver.c5g_1) === p) {
          var tmp5_safe_receiver = p.y5f_1;
          if (tmp5_safe_receiver == null) {
          } else
            tmp5_safe_receiver.c5g_1 = l;
        } else {
          var tmp6_safe_receiver = p.y5f_1;
          if (tmp6_safe_receiver == null) {
          } else
            tmp6_safe_receiver.b5g_1 = l;
        }
      }
      var tmp7_safe_receiver = l;
      if (tmp7_safe_receiver == null) {
      } else
        tmp7_safe_receiver.c5g_1 = p;
      p.y5f_1 = l;
    }
  }
  function color(_this__u8e3s4, $this) {
    var tmp0_safe_receiver = _this__u8e3s4;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.d5g_1;
    var tmp;
    if (tmp1_elvis_lhs == null) {
      Companion_getInstance_42();
      tmp = false;
    } else {
      tmp = tmp1_elvis_lhs;
    }
    return tmp;
  }
  function successor(_this__u8e3s4, $this) {
    var tmp;
    if (_this__u8e3s4 == null) {
      tmp = null;
    } else if (!(_this__u8e3s4.c5g_1 == null)) {
      var p = ensureNotNull(_this__u8e3s4.c5g_1);
      while (!(p.b5g_1 == null)) {
        p = ensureNotNull(p.b5g_1);
      }
      tmp = p;
    } else {
      var p_0 = _this__u8e3s4.y5f_1;
      var ch = _this__u8e3s4;
      while (!(p_0 == null) ? equals(ch, p_0.c5g_1) : false) {
        ch = p_0;
        p_0 = p_0.y5f_1;
      }
      tmp = p_0;
    }
    return tmp;
  }
  function MapEntry($outer, key, value, parent) {
    this.e5g_1 = $outer;
    this.y5f_1 = parent;
    this.z5f_1 = key;
    this.a5g_1 = value;
    this.b5g_1 = null;
    this.c5g_1 = null;
    var tmp = this;
    Companion_getInstance_42();
    tmp.d5g_1 = false;
  }
  MapEntry.prototype.j2 = function () {
    return this.z5f_1;
  };
  MapEntry.prototype.l2 = function () {
    return this.a5g_1;
  };
  MapEntry.prototype.kf = function (newValue) {
    var old = this.a5g_1;
    this.a5g_1 = newValue;
    return old;
  };
  MapEntry.$metadata$ = classMeta('MapEntry', [MutableEntry]);
  function Companion_42() {
    Companion_instance_42 = this;
    this.g5g_1 = false;
    this.h5g_1 = true;
  }
  Companion_42.$metadata$ = objectMeta('Companion');
  var Companion_instance_42;
  function Companion_getInstance_42() {
    if (Companion_instance_42 == null)
      new Companion_42();
    return Companion_instance_42;
  }
  function TreeMap$cmp$lambda() {
    return function (a, b) {
      return compareTo(isComparable(a) ? a : THROW_CCE(), b);
    };
  }
  function TreeMap() {
    Companion_getInstance_42();
    var tmp = this;
    tmp.s4i_1 = TreeMap$cmp$lambda();
    this.t4i_1 = null;
    this.u4i_1 = 0;
  }
  TreeMap.prototype.f5g = function (_set____db54di) {
    this.u4i_1 = _set____db54di;
  };
  TreeMap.prototype.m = function () {
    return this.u4i_1;
  };
  TreeMap.prototype.t7 = function () {
    this.t4i_1 = null;
    this.f5g(0);
  };
  TreeMap.prototype.q = function () {
    return this.m() === 0;
  };
  TreeMap.prototype.i5g = function () {
    var p = this.t4i_1;
    if (!(p == null)) {
      $l$loop: while (true) {
        var tmp0_safe_receiver = p;
        if (!!((tmp0_safe_receiver == null ? null : tmp0_safe_receiver.b5g_1) == null)) {
          break $l$loop;
        }
        p = ensureNotNull(p.b5g_1);
      }
    }
    var tmp1_elvis_lhs = p;
    var tmp;
    if (tmp1_elvis_lhs == null) {
      throw NoSuchElementException_init_$Create$_0();
    } else {
      tmp = tmp1_elvis_lhs;
    }
    return tmp;
  };
  TreeMap.prototype.a = function (key, value) {
    if (this.t4i_1 == null) {
      this.t4i_1 = new MapEntry(this, key, value, null);
    } else {
      var t = this.t4i_1;
      var parent;
      do {
        parent = ensureNotNull(t);
        var tmp;
        if (this.s4i_1(key, t.z5f_1) < 0) {
          tmp = t.b5g_1;
        } else if (this.s4i_1(key, t.z5f_1) > 0) {
          tmp = t.c5g_1;
        } else {
          return t.kf(value);
        }
        t = tmp;
      }
       while (!(t == null));
      var e = new MapEntry(this, key, value, parent);
      if (this.s4i_1(key, parent.z5f_1) < 0) {
        parent.b5g_1 = e;
      } else {
        parent.c5g_1 = e;
      }
      fixAfterInsertion(this, e);
    }
    var tmp0_this = this;
    var tmp1 = tmp0_this.m();
    tmp0_this.f5g(tmp1 + 1 | 0);
    return null;
  };
  TreeMap.prototype.tf = function (key) {
    var tmp0_safe_receiver = getEntry(this, key);
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        var tmp$ret$0;
        {
          var value = tmp0_safe_receiver.a5g_1;
          deleteEntry(this, tmp0_safe_receiver);
          tmp$ret$0 = value;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp = tmp$ret$1;
    }
    return tmp;
  };
  TreeMap.prototype.z2 = function (key) {
    var tmp0_safe_receiver = getEntry(this, key);
    return tmp0_safe_receiver == null ? null : tmp0_safe_receiver.a5g_1;
  };
  TreeMap.prototype.y = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashSet_init_$Create$();
    }
    var entries = tmp$ret$0;
    if (!this.q()) {
      var tmp = this.i5g();
      var e = tmp instanceof MapEntry ? tmp : THROW_CCE();
      while (!(e == null)) {
        {
          var tmp0_plusAssign = e;
          entries.b(tmp0_plusAssign);
        }
        e = successor(e, this);
      }
    }
    return entries;
  };
  TreeMap.prototype.a3 = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashSet_init_$Create$();
    }
    var keys = tmp$ret$0;
    if (!this.q()) {
      var tmp = this.i5g();
      var e = tmp instanceof MapEntry ? tmp : THROW_CCE();
      while (!(e == null)) {
        {
          var tmp0_plusAssign = e.z5f_1;
          keys.b(tmp0_plusAssign);
        }
        e = successor(e, this);
      }
    }
    return keys;
  };
  TreeMap.prototype.b3 = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashSet_init_$Create$();
    }
    var values = tmp$ret$0;
    if (!this.q()) {
      var tmp = this.i5g();
      var e = tmp instanceof MapEntry ? tmp : THROW_CCE();
      while (!(e == null)) {
        {
          var tmp0_plusAssign = e.a5g_1;
          values.b(tmp0_plusAssign);
        }
        e = successor(e, this);
      }
    }
    return values;
  };
  TreeMap.prototype.t2 = function (key) {
    return !(getEntry(this, key) == null);
  };
  TreeMap.prototype.b4 = function (from) {
    var tmp$ret$0;
    {
      tmp$ret$0 = from.y().h();
    }
    var tmp0_iterator = tmp$ret$0;
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      {
        this.a(element.j2(), element.l2());
      }
    }
    return Unit_getInstance();
  };
  TreeMap.$metadata$ = classMeta('TreeMap', [MutableMap]);
  function Viewport(x, ySigned, width, heightSigned) {
    this.j4b_1 = x;
    this.k4b_1 = ySigned;
    this.l4b_1 = width;
    this.m4b_1 = heightSigned;
  }
  Viewport.prototype.z1z = function () {
    return this.j4b_1;
  };
  Viewport.prototype.y3u = function () {
    return this.l4b_1;
  };
  Viewport.prototype.b20 = function () {
    return this.m4b_1 < 0 ? this.k4b_1 + this.m4b_1 | 0 : this.k4b_1;
  };
  Viewport.prototype.z3u = function () {
    return abs(this.m4b_1);
  };
  Viewport.prototype.k54 = function () {
    return this.l4b_1 / this.z3u();
  };
  Viewport.prototype.w4s = function (x, ySigned, width, heightSigned) {
    this.j4b_1 = x;
    this.l4b_1 = width;
    this.k4b_1 = ySigned;
    this.m4b_1 = heightSigned;
  };
  Viewport.$metadata$ = classMeta('Viewport');
  function now() {
    var tmp = performance.now();
    return (!(tmp == null) ? typeof tmp === 'number' : false) ? tmp : THROW_CCE();
  }
  function createDefaultContext() {
    return createContext(new InitProps());
  }
  function toString_1(_this__u8e3s4, precision) {
    if (isNaN_1(_this__u8e3s4)) {
      return 'NaN';
    } else if (isInfinite(_this__u8e3s4)) {
      return 'Infinity';
    }
    var d = _this__u8e3s4;
    return toString(d.toFixed(precision));
  }
  function lock(lock, block) {
    return block();
  }
  function createContext(props) {
    return JsImpl_getInstance().k5g(props);
  }
  function JsImpl() {
    JsImpl_instance = this;
    this.j5g_1 = null;
  }
  JsImpl.prototype.l5g = function () {
    var tmp0_safe_receiver = this.j5g_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.r5h_1;
    var tmp;
    if (tmp1_elvis_lhs == null) {
      throw KoolException_init_$Create$('Platform.createContext() not called');
    } else {
      tmp = tmp1_elvis_lhs;
    }
    return tmp;
  };
  JsImpl.prototype.k5g = function (props) {
    if (!(this.j5g_1 == null)) {
      throw KoolException_init_$Create$('Context was already created (multi-context is currently not supported in js');
    }
    this.j5g_1 = new JsContext(props);
    return ensureNotNull(this.j5g_1);
  };
  JsImpl.$metadata$ = objectMeta('JsImpl');
  var JsImpl_instance;
  function JsImpl_getInstance() {
    if (JsImpl_instance == null)
      new JsImpl();
    return JsImpl_instance;
  }
  var ClipState_STOPPED_instance;
  var ClipState_PLAYING_instance;
  var ClipState_entriesInitialized;
  function ClipState_initEntries() {
    if (ClipState_entriesInitialized)
      return Unit_getInstance();
    ClipState_entriesInitialized = true;
    ClipState_STOPPED_instance = new ClipState('STOPPED', 0);
    ClipState_PLAYING_instance = new ClipState('PLAYING', 1);
  }
  function AudioClip$ClipWrapper$lambda(this$0) {
    return function (it) {
      this$0.a5i_1 = ClipState_STOPPED_getInstance();
      var tmp$ret$0;
      {
        tmp$ret$0 = true;
      }
      return tmp$ret$0;
    };
  }
  function nextClip($this) {
    var inductionVariable = 0;
    var last = $this.h5i_1.m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if ($this.h5i_1.r(i).a5i_1.equals(ClipState_STOPPED_getInstance())) {
          return $this.h5i_1.r(i);
        }
      }
       while (inductionVariable <= last);
    var tmp = $this.h5i_1.m();
    Companion_getInstance_43();
    if (tmp < 5) {
      var clip = new ClipWrapper($this);
      var tmp1_this = $this;
      {
        var tmp0_plusAssign = tmp1_this.h5i_1;
        tmp0_plusAssign.b(clip);
      }
      return clip;
    }
    var tmp$ret$0;
    $l$block_0: {
      var tmp1_minByOrNull = $this.h5i_1;
      var iterator = tmp1_minByOrNull.h();
      if (!iterator.n()) {
        tmp$ret$0 = null;
        break $l$block_0;
      }
      var minElem = iterator.o();
      if (!iterator.n()) {
        tmp$ret$0 = minElem;
        break $l$block_0;
      }
      var tmp$ret$1;
      {
        var tmp2__anonymous__z9zvc9 = minElem;
        tmp$ret$1 = tmp2__anonymous__z9zvc9.b5i_1;
      }
      var minValue = tmp$ret$1;
      do {
        var e = iterator.o();
        var tmp$ret$2;
        {
          tmp$ret$2 = e.b5i_1;
        }
        var v = tmp$ret$2;
        if (compareTo(minValue, v) > 0) {
          minElem = e;
          minValue = v;
        }
      }
       while (iterator.n());
      tmp$ret$0 = minElem;
    }
    return ensureNotNull(tmp$ret$0);
  }
  function Companion_43() {
    Companion_instance_43 = this;
    this.k5i_1 = 150.0;
    this.l5i_1 = 5;
  }
  Companion_43.$metadata$ = objectMeta('Companion');
  var Companion_instance_43;
  function Companion_getInstance_43() {
    if (Companion_instance_43 == null)
      new Companion_43();
    return Companion_instance_43;
  }
  function ClipState(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  ClipState.$metadata$ = classMeta('ClipState', undefined, undefined, undefined, undefined, Enum.prototype);
  function ClipWrapper($outer) {
    this.c5i_1 = $outer;
    this.x5h_1 = new Audio(this.c5i_1.d5i_1);
    this.y5h_1 = false;
    this.z5h_1 = false;
    this.a5i_1 = ClipState_STOPPED_getInstance();
    this.b5i_1 = 0.0;
    this.m5i(this.c5i_1.f5i_1 * this.c5i_1.e5i_1);
    this.x5h_1.onended = AudioClip$ClipWrapper$lambda(this);
  }
  ClipWrapper.prototype.m5i = function (value) {
    var tmp$ret$0;
    {
      var tmp0_clamp = value;
      tmp$ret$0 = tmp0_clamp < 0.0 ? 0.0 : tmp0_clamp > 1.0 ? 1.0 : tmp0_clamp;
    }
    this.x5h_1.volume = tmp$ret$0;
  };
  ClipWrapper.prototype.n5i = function (value) {
    var tmp$ret$0;
    {
      var tmp0_clamp = value;
      var tmp1_clamp = this.o5i();
      tmp$ret$0 = tmp0_clamp < 0.0 ? 0.0 : tmp0_clamp > tmp1_clamp ? tmp1_clamp : tmp0_clamp;
    }
    this.x5h_1.currentTime = tmp$ret$0;
  };
  ClipWrapper.prototype.o5i = function () {
    return this.x5h_1.duration;
  };
  ClipWrapper.prototype.p5i = function () {
    return this.b5i_1;
  };
  ClipWrapper.prototype.q5i = function () {
    this.x5h_1.pause();
    this.n5i(0.0);
    this.a5i_1 = ClipState_PLAYING_getInstance();
    this.z5h_1 = true;
    this.x5h_1.play();
  };
  ClipWrapper.prototype.r5i = function () {
    this.y5h_1 = true;
    this.x5h_1.pause();
    this.a5i_1 = ClipState_STOPPED_getInstance();
  };
  ClipWrapper.$metadata$ = classMeta('ClipWrapper');
  function ClipState_STOPPED_getInstance() {
    ClipState_initEntries();
    return ClipState_STOPPED_instance;
  }
  function ClipState_PLAYING_getInstance() {
    ClipState_initEntries();
    return ClipState_PLAYING_instance;
  }
  function AudioClip(assetPath) {
    Companion_getInstance_43();
    this.d5i_1 = assetPath;
    this.e5i_1 = 1.0;
    this.f5i_1 = 1.0;
    var tmp = this;
    Companion_getInstance_43();
    tmp.g5i_1 = 150.0;
    this.h5i_1 = mutableListOf([new ClipWrapper(this)]);
    this.i5i_1 = first(this.h5i_1);
    var tmp_0 = this;
    DoubleCompanionObject_getInstance();
    tmp_0.j5i_1 = -Infinity;
  }
  AudioClip.prototype.s5i = function () {
    return this.i5i_1.a5i_1.equals(ClipState_STOPPED_getInstance());
  };
  AudioClip.prototype.q5i = function () {
    var t = now();
    if (t - this.j5i_1 > this.g5i_1) {
      this.j5i_1 = t;
      var tmp = this;
      var tmp$ret$0;
      {
        var tmp0_apply = nextClip(this);
        {
        }
        {
          tmp0_apply.q5i();
        }
        tmp$ret$0 = tmp0_apply;
      }
      tmp.i5i_1 = tmp$ret$0;
    }
  };
  AudioClip.prototype.r5i = function () {
    this.i5i_1.r5i();
  };
  AudioClip.$metadata$ = classMeta('AudioClip');
  function copyToTextures($this, ctx) {
    var inductionVariable = 0;
    var last = $this.t4t_1;
    if (inductionVariable < last)
      do {
        var mipLevel = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        ctx.r5h_1.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER, $this.q4t_1.r(mipLevel));
        ctx.r5h_1.readBuffer(WebGLRenderingContext.COLOR_ATTACHMENT0);
        var inductionVariable_0 = 0;
        var last_0 = $this.p4t_1.b2a_1.m() - 1 | 0;
        if (inductionVariable_0 <= last_0)
          do {
            var i = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            var copyTarget = $this.p4t_1.b2a_1.r(i);
            var tmp2_safe_receiver = copyTarget.e4y();
            var tmp3_elvis_lhs = tmp2_safe_receiver == null ? null : tmp2_safe_receiver.y3u();
            var width = tmp3_elvis_lhs == null ? 0 : tmp3_elvis_lhs;
            var tmp4_safe_receiver = copyTarget.e4y();
            var tmp5_elvis_lhs = tmp4_safe_receiver == null ? null : tmp4_safe_receiver.z3u();
            var height = tmp5_elvis_lhs == null ? 0 : tmp5_elvis_lhs;
            if (!(width === $this.p4t_1.y3u()) ? true : !(height === $this.p4t_1.z3u())) {
              var tmp6_safe_receiver = copyTarget.e4y();
              if (tmp6_safe_receiver == null)
                null;
              else {
                tmp6_safe_receiver.n1a();
              }
              createCopyTexColor(copyTarget, $this, ctx);
              width = ensureNotNull(copyTarget.e4y()).y3u();
              height = ensureNotNull(copyTarget.e4y()).z3u();
            }
            width = width >> mipLevel;
            height = height >> mipLevel;
            var tmp = copyTarget.e4y();
            var target = tmp instanceof LoadedTextureWebGl ? tmp : THROW_CCE();
            ctx.r5h_1.bindTexture(WebGLRenderingContext.TEXTURE_2D, target.v5i_1);
            ctx.r5h_1.copyTexSubImage2D(WebGLRenderingContext.TEXTURE_2D, mipLevel, 0, 0, 0, 0, width, height);
          }
           while (inductionVariable_0 <= last_0);
      }
       while (inductionVariable < last);
    if (!$this.s4t_1) {
      var inductionVariable_1 = 0;
      var last_1 = $this.p4t_1.b2a_1.m() - 1 | 0;
      if (inductionVariable_1 <= last_1)
        do {
          var i_0 = inductionVariable_1;
          inductionVariable_1 = inductionVariable_1 + 1 | 0;
          var copyTarget_0 = $this.p4t_1.b2a_1.r(i_0);
          var tmp_0 = copyTarget_0.e4y();
          var target_0 = tmp_0 instanceof LoadedTextureWebGl ? tmp_0 : THROW_CCE();
          ctx.r5h_1.bindTexture(WebGLRenderingContext.TEXTURE_2D, target_0.v5i_1);
          ctx.r5h_1.generateMipmap(WebGLRenderingContext.TEXTURE_2D);
        }
         while (inductionVariable_1 <= last_1);
    }
  }
  function create($this, ctx) {
    var gl = ctx.r5h_1;
    if ($this.p4t_1.m4s().h4o_1.equals(RenderTarget_TEXTURE_getInstance())) {
      createColorTexs($this, ctx);
    }
    if ($this.p4t_1.m4s().g4o_1.equals(RenderTarget_TEXTURE_getInstance())) {
      createDepthTex($this, ctx);
    }
    var inductionVariable = 0;
    var last = $this.p4t_1.m4s().e4o_1;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var mipWidth = $this.p4t_1.t4s(i);
        var mipHeight = $this.p4t_1.u4s(i);
        var fbo = gl.createFramebuffer();
        gl.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER, fbo);
        if ($this.p4t_1.m4s().h4o_1.equals(RenderTarget_TEXTURE_getInstance())) {
          {
            var tmp0_forEachIndexed = $this.v4t_1;
            var index = 0;
            var indexedObject = tmp0_forEachIndexed;
            var inductionVariable_0 = 0;
            var last_0 = indexedObject.length;
            while (inductionVariable_0 < last_0) {
              var item = indexedObject[inductionVariable_0];
              inductionVariable_0 = inductionVariable_0 + 1 | 0;
              {
                var tmp1 = index;
                index = tmp1 + 1 | 0;
                var tmp1__anonymous__uwfjfc = tmp1;
                gl.framebufferTexture2D(WebGLRenderingContext.FRAMEBUFFER, WebGLRenderingContext.COLOR_ATTACHMENT0 + tmp1__anonymous__uwfjfc | 0, WebGLRenderingContext.TEXTURE_2D, item, i);
              }
            }
          }
          var tmp = 0;
          var tmp_0 = $this.v4t_1.length;
          var tmp_1 = new Int32Array(tmp_0);
          while (tmp < tmp_0) {
            var tmp_2 = tmp;
            var tmp$ret$0;
            {
              tmp$ret$0 = WebGLRenderingContext.COLOR_ATTACHMENT0 + tmp_2 | 0;
            }
            tmp_1[tmp_2] = tmp$ret$0;
            tmp = tmp + 1 | 0;
          }
          var attachments = tmp_1;
          gl.drawBuffers(attachments);
        } else {
          var rbo = gl.createRenderbuffer();
          gl.bindRenderbuffer(WebGLRenderingContext.RENDERBUFFER, rbo);
          gl.renderbufferStorage(WebGLRenderingContext.RENDERBUFFER, get_glInternalFormat(TexFormat_R_getInstance()), mipWidth, mipHeight);
          gl.framebufferRenderbuffer(WebGLRenderingContext.FRAMEBUFFER, WebGLRenderingContext.COLOR_ATTACHMENT0, WebGLRenderingContext.RENDERBUFFER, rbo);
          var tmp1_this = $this;
          {
            var tmp2_plusAssign = tmp1_this.r4t_1;
            tmp2_plusAssign.b(rbo);
          }
        }
        if ($this.p4t_1.m4s().g4o_1.equals(RenderTarget_TEXTURE_getInstance())) {
          gl.framebufferTexture2D(WebGLRenderingContext.FRAMEBUFFER, WebGLRenderingContext.DEPTH_ATTACHMENT, WebGLRenderingContext.TEXTURE_2D, $this.w4t_1, i);
        } else {
          var rbo_0 = gl.createRenderbuffer();
          gl.bindRenderbuffer(WebGLRenderingContext.RENDERBUFFER, rbo_0);
          gl.renderbufferStorage(WebGLRenderingContext.RENDERBUFFER, WebGL2RenderingContext.DEPTH_COMPONENT24, mipWidth, mipHeight);
          gl.framebufferRenderbuffer(WebGLRenderingContext.FRAMEBUFFER, WebGLRenderingContext.DEPTH_ATTACHMENT, WebGLRenderingContext.RENDERBUFFER, rbo_0);
          var tmp2_this = $this;
          {
            var tmp3_plusAssign = tmp2_this.r4t_1;
            tmp3_plusAssign.b(rbo_0);
          }
        }
        var tmp3_this = $this;
        {
          var tmp4_plusAssign = tmp3_this.q4t_1;
          tmp4_plusAssign.b(fbo);
        }
      }
       while (inductionVariable < last);
    $this.u4t_1 = true;
  }
  function createColorTexs($this, ctx) {
    var inductionVariable = 0;
    var last = $this.p4t_1.a2a_1.m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var cfg = $this.p4t_1.m4s().j4o_1.r(i);
        if (!(cfg.q4p_1 == null)) {
          var tmp = $this.v4t_1;
          var tmp_0 = cfg.q4p_1.m4t_1;
          tmp[i] = (tmp_0 instanceof LoadedTextureWebGl ? tmp_0 : THROW_CCE()).v5i_1;
        } else {
          var format = cfg.j4p_1;
          var intFormat = get_glInternalFormat(format);
          var width = $this.p4t_1.y3u();
          var height = $this.p4t_1.z3u();
          var mipLevels = $this.p4t_1.m4s().e4o_1;
          var estSize = Companion_getInstance_32().u4y(width, height, 1, mipLevels, get_pxSize(format));
          var tex = new LoadedTextureWebGl(ctx, WebGLRenderingContext.TEXTURE_2D, ctx.r5h_1.createTexture(), estSize);
          tex.b5j(width, height, 1);
          tex.c5j($this.p4t_1.a2a_1.r(i).s4l());
          ctx.r5h_1.texStorage2D(WebGLRenderingContext.TEXTURE_2D, mipLevels, intFormat, width, height);
          $this.v4t_1[i] = tex.v5i_1;
          $this.p4t_1.a2a_1.r(i).d4y(tex);
          $this.p4t_1.a2a_1.r(i).f4y(LoadingState_LOADED_getInstance());
        }
      }
       while (inductionVariable <= last);
  }
  function createDepthTex($this, ctx) {
    var cfg = ensureNotNull($this.p4t_1.m4s().i4o_1);
    if (!(cfg.q4p_1 == null)) {
      var tmp = $this;
      var tmp_0 = cfg.q4p_1.m4t_1;
      tmp.w4t_1 = (tmp_0 instanceof LoadedTextureWebGl ? tmp_0 : THROW_CCE()).v5i_1;
    } else {
      var intFormat = WebGL2RenderingContext.DEPTH_COMPONENT32F;
      var width = $this.p4t_1.y3u();
      var height = $this.p4t_1.z3u();
      var mipLevels = $this.p4t_1.m4s().e4o_1;
      var depthCfg = $this.p4t_1.m4s().i4o_1;
      var estSize = Companion_getInstance_32().u4y(width, height, 1, mipLevels, 4);
      var tex = new LoadedTextureWebGl(ctx, WebGLRenderingContext.TEXTURE_2D, ctx.r5h_1.createTexture(), estSize);
      tex.b5j(width, height, 1);
      tex.c5j(ensureNotNull($this.p4t_1.z29_1).s4l());
      if (!depthCfg.o4p_1.equals(DepthCompareOp_DISABLED_getInstance())) {
        ctx.r5h_1.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGL2RenderingContext.TEXTURE_COMPARE_MODE, WebGL2RenderingContext.COMPARE_REF_TO_TEXTURE);
        ctx.r5h_1.texParameteri(WebGLRenderingContext.TEXTURE_2D, WebGL2RenderingContext.TEXTURE_COMPARE_FUNC, get_glOp(depthCfg.o4p_1));
      }
      ctx.r5h_1.texStorage2D(WebGLRenderingContext.TEXTURE_2D, mipLevels, intFormat, width, height);
      $this.w4t_1 = tex.v5i_1;
      $this.p4t_1.z29_1.d4y(tex);
      $this.p4t_1.z29_1.f4y(LoadingState_LOADED_getInstance());
    }
  }
  function createCopyTexColor(_this__u8e3s4, $this, ctx) {
    var intFormat = get_glInternalFormat(_this__u8e3s4.s4l().p4x_1);
    var width = $this.p4t_1.y3u();
    var height = $this.p4t_1.z3u();
    var mipLevels = $this.p4t_1.m4s().e4o_1;
    var estSize = Companion_getInstance_32().u4y(width, height, 1, mipLevels, get_pxSize(_this__u8e3s4.s4l().p4x_1));
    var tex = new LoadedTextureWebGl(ctx, WebGLRenderingContext.TEXTURE_2D, ctx.r5h_1.createTexture(), estSize);
    tex.b5j(width, height, 1);
    tex.c5j(_this__u8e3s4.s4l());
    ctx.r5h_1.texStorage2D(WebGLRenderingContext.TEXTURE_2D, mipLevels, intFormat, width, height);
    _this__u8e3s4.d4y(tex);
    _this__u8e3s4.f4y(LoadingState_LOADED_getInstance());
  }
  function OffscreenPass2dImpl(offscreenPass) {
    this.p4t_1 = offscreenPass;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.q4t_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_0.r4t_1 = tmp$ret$1;
    this.s4t_1 = this.p4t_1.m4s().f4o_1;
    var tmp_1 = this;
    var tmp_2;
    if (this.s4t_1) {
      tmp_2 = this.p4t_1.m4s().e4o_1;
    } else {
      tmp_2 = 1;
    }
    tmp_1.t4t_1 = tmp_2;
    this.u4t_1 = false;
    var tmp_3 = this;
    var tmp_4 = 0;
    var tmp_5 = this.p4t_1.m4s().k4o_1;
    var tmp$ret$2;
    {
      tmp$ret$2 = fillArrayVal(Array(tmp_5), null);
    }
    var tmp_6 = tmp$ret$2;
    while (tmp_4 < tmp_5) {
      var tmp_7 = tmp_4;
      var tmp$ret$3;
      {
        tmp$ret$3 = null;
      }
      tmp_6[tmp_7] = tmp$ret$3;
      tmp_4 = tmp_4 + 1 | 0;
    }
    tmp_3.v4t_1 = tmp_6;
    this.w4t_1 = null;
  }
  OffscreenPass2dImpl.prototype.d5j = function (ctx) {
    if (!this.u4t_1) {
      create(this, ctx);
    }
    if (this.u4t_1) {
      var inductionVariable = 0;
      var last = this.t4t_1;
      if (inductionVariable < last)
        do {
          var mipLevel = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          var tmp1_safe_receiver = this.p4t_1.q4s();
          if (tmp1_safe_receiver == null)
            null;
          else
            tmp1_safe_receiver(mipLevel, ctx);
          this.p4t_1.l4s(mipLevel);
          ctx.r5h_1.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER, this.q4t_1.r(mipLevel));
          ctx.l5h_1.i5j(this.p4t_1.x4t());
        }
         while (inductionVariable < last);
      if (!this.s4t_1) {
        var inductionVariable_0 = 0;
        var last_0 = this.v4t_1.length - 1 | 0;
        if (inductionVariable_0 <= last_0)
          do {
            var i = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            ctx.r5h_1.bindTexture(WebGLRenderingContext.TEXTURE_2D, this.v4t_1[i]);
            ctx.r5h_1.generateMipmap(WebGLRenderingContext.TEXTURE_2D);
          }
           while (inductionVariable_0 <= last_0);
      }
      copyToTextures(this, ctx);
      ctx.r5h_1.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER, null);
    }
  };
  OffscreenPass2dImpl.prototype.t4g = function (ctx) {
    if (ctx instanceof JsContext)
      ctx;
    else
      THROW_CCE();
    {
      var tmp0_forEach = this.q4t_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          ctx.r5h_1.deleteFramebuffer(element);
        }
      }
    }
    {
      var tmp1_forEach = this.r4t_1;
      var tmp0_iterator_0 = tmp1_forEach.h();
      while (tmp0_iterator_0.n()) {
        var element_0 = tmp0_iterator_0.o();
        {
          ctx.r5h_1.deleteRenderbuffer(element_0);
        }
      }
    }
    this.q4t_1.t7();
    this.r4t_1.t7();
    {
      var tmp2_forEach = this.p4t_1.a2a_1;
      var tmp0_iterator_1 = tmp2_forEach.h();
      while (tmp0_iterator_1.n()) {
        var element_1 = tmp0_iterator_1.o();
        {
          if (element_1.g4y().equals(LoadingState_LOADED_getInstance())) {
            element_1.n1a();
          }
        }
      }
    }
    var tmp0_safe_receiver = this.p4t_1.z29_1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        var tmp;
        if (tmp0_safe_receiver.g4y().equals(LoadingState_LOADED_getInstance())) {
          tmp = tmp0_safe_receiver.n1a();
        }
        tmp$ret$0 = tmp;
      }
    }
    var inductionVariable = 0;
    var last = this.v4t_1.length - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.v4t_1[i] = null;
      }
       while (inductionVariable <= last);
    this.w4t_1 = null;
    this.u4t_1 = false;
  };
  OffscreenPass2dImpl.$metadata$ = classMeta('OffscreenPass2dImpl');
  function copyToTextures_0($this, face, mipLevel, ctx) {
    ctx.r5h_1.readBuffer(WebGLRenderingContext.COLOR_ATTACHMENT0);
    var inductionVariable = 0;
    var last = $this.j5j_1.a4v_1.m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var copyTarget = $this.j5j_1.a4v_1.r(i);
        var tmp1_safe_receiver = copyTarget.e4y();
        var tmp2_elvis_lhs = tmp1_safe_receiver == null ? null : tmp1_safe_receiver.y3u();
        var width = tmp2_elvis_lhs == null ? 0 : tmp2_elvis_lhs;
        var tmp3_safe_receiver = copyTarget.e4y();
        var tmp4_elvis_lhs = tmp3_safe_receiver == null ? null : tmp3_safe_receiver.z3u();
        var height = tmp4_elvis_lhs == null ? 0 : tmp4_elvis_lhs;
        if (!(width === $this.j5j_1.y3u()) ? true : !(height === $this.j5j_1.z3u())) {
          var tmp5_safe_receiver = copyTarget.e4y();
          if (tmp5_safe_receiver == null)
            null;
          else {
            tmp5_safe_receiver.n1a();
          }
          createCopyTexColor_0(copyTarget, $this, ctx);
          width = ensureNotNull(copyTarget.e4y()).y3u();
          height = ensureNotNull(copyTarget.e4y()).z3u();
        }
        width = width >> mipLevel;
        height = height >> mipLevel;
        var tmp = copyTarget.e4y();
        var target = tmp instanceof LoadedTextureWebGl ? tmp : THROW_CCE();
        ctx.r5h_1.bindTexture(WebGLRenderingContext.TEXTURE_CUBE_MAP, target.v5i_1);
        ctx.r5h_1.copyTexSubImage2D(WebGLRenderingContext.TEXTURE_CUBE_MAP_POSITIVE_X + face | 0, mipLevel, 0, 0, 0, 0, width, height);
      }
       while (inductionVariable <= last);
  }
  function create_0($this, ctx) {
    var gl = ctx.r5h_1;
    createColorTex($this, ctx);
    var inductionVariable = 0;
    var last = $this.j5j_1.m4s().e4o_1;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var fbo = gl.createFramebuffer();
        var rbo = gl.createRenderbuffer();
        var mipWidth = $this.j5j_1.t4s(i);
        var mipHeight = $this.j5j_1.u4s(i);
        gl.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER, fbo);
        gl.bindRenderbuffer(WebGLRenderingContext.RENDERBUFFER, rbo);
        gl.renderbufferStorage(WebGLRenderingContext.RENDERBUFFER, WebGL2RenderingContext.DEPTH_COMPONENT24, mipWidth, mipHeight);
        gl.framebufferRenderbuffer(WebGLRenderingContext.FRAMEBUFFER, WebGLRenderingContext.DEPTH_ATTACHMENT, WebGLRenderingContext.RENDERBUFFER, rbo);
        var tmp1_this = $this;
        {
          var tmp0_plusAssign = tmp1_this.k5j_1;
          tmp0_plusAssign.b(fbo);
        }
        var tmp2_this = $this;
        {
          var tmp1_plusAssign = tmp2_this.l5j_1;
          tmp1_plusAssign.b(rbo);
        }
      }
       while (inductionVariable < last);
    $this.m5j_1 = true;
  }
  function createColorTex($this, ctx) {
    var format = $this.j5j_1.m4s().j4o_1.r(0).j4p_1;
    var intFormat = get_glInternalFormat(format);
    var width = $this.j5j_1.y3u();
    var height = $this.j5j_1.z3u();
    var mipLevels = $this.j5j_1.m4s().e4o_1;
    var estSize = Companion_getInstance_32().u4y(width, height, 6, mipLevels, get_pxSize(format));
    var tex = new LoadedTextureWebGl(ctx, WebGLRenderingContext.TEXTURE_CUBE_MAP, ctx.r5h_1.createTexture(), estSize);
    tex.b5j(width, height, 1);
    tex.c5j(ensureNotNull($this.j5j_1.o4t()).s4l());
    ctx.r5h_1.texStorage2D(WebGLRenderingContext.TEXTURE_CUBE_MAP, mipLevels, intFormat, width, height);
    $this.n5j_1 = tex.v5i_1;
    ensureNotNull($this.j5j_1.o4t()).d4y(tex);
    ensureNotNull($this.j5j_1.o4t()).f4y(LoadingState_LOADED_getInstance());
  }
  function createCopyTexColor_0(_this__u8e3s4, $this, ctx) {
    var intFormat = get_glInternalFormat(_this__u8e3s4.s4l().p4x_1);
    var width = $this.j5j_1.y3u();
    var height = $this.j5j_1.z3u();
    var mipLevels = $this.j5j_1.m4s().e4o_1;
    var estSize = Companion_getInstance_32().u4y(width, height, 6, mipLevels, get_pxSize(_this__u8e3s4.s4l().p4x_1));
    var tex = new LoadedTextureWebGl(ctx, WebGLRenderingContext.TEXTURE_CUBE_MAP, ctx.r5h_1.createTexture(), estSize);
    tex.b5j(width, height, 1);
    tex.c5j(_this__u8e3s4.s4l());
    ctx.r5h_1.texStorage2D(WebGLRenderingContext.TEXTURE_CUBE_MAP, mipLevels, intFormat, width, height);
    _this__u8e3s4.d4y(tex);
    _this__u8e3s4.f4y(LoadingState_LOADED_getInstance());
  }
  function Companion_44() {
    Companion_instance_44 = this;
    var tmp = this;
    var tmp_0 = 0;
    var tmp_1 = 6;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_1), null);
    }
    var tmp_2 = tmp$ret$0;
    while (tmp_0 < tmp_1) {
      var tmp_3 = tmp_0;
      var tmp$ret$1;
      {
        var tmp0_subject = tmp_3;
        var tmp_4;
        switch (tmp0_subject) {
          case 0:
            tmp_4 = ViewDirection_RIGHT_getInstance();
            break;
          case 1:
            tmp_4 = ViewDirection_LEFT_getInstance();
            break;
          case 2:
            tmp_4 = ViewDirection_UP_getInstance();
            break;
          case 3:
            tmp_4 = ViewDirection_DOWN_getInstance();
            break;
          case 4:
            tmp_4 = ViewDirection_FRONT_getInstance();
            break;
          case 5:
            tmp_4 = ViewDirection_BACK_getInstance();
            break;
          default:
            throw IllegalStateException_init_$Create$_0();
        }
        tmp$ret$1 = tmp_4;
      }
      tmp_2[tmp_3] = tmp$ret$1;
      tmp_0 = tmp_0 + 1 | 0;
    }
    tmp.o5j_1 = tmp_2;
  }
  Companion_44.$metadata$ = objectMeta('Companion');
  var Companion_instance_44;
  function Companion_getInstance_44() {
    if (Companion_instance_44 == null)
      new Companion_44();
    return Companion_instance_44;
  }
  function PlatformAttributeProps(attribute) {
    var tmp0_subject = attribute.t2p_1;
    var tmp0 = tmp0_subject.w1();
    switch (tmp0) {
      case 0:
        this.d2q_1 = 1;
        this.e2q_1 = 1;
        break;
      case 1:
        this.d2q_1 = 1;
        this.e2q_1 = 2;
        break;
      case 2:
        this.d2q_1 = 1;
        this.e2q_1 = 3;
        break;
      case 3:
        this.d2q_1 = 1;
        this.e2q_1 = 4;
        break;
      case 8:
        this.d2q_1 = 2;
        this.e2q_1 = 2;
        break;
      case 9:
        this.d2q_1 = 3;
        this.e2q_1 = 3;
        break;
      case 10:
        this.d2q_1 = 4;
        this.e2q_1 = 4;
        break;
      case 4:
        this.d2q_1 = 1;
        this.e2q_1 = 1;
        break;
      case 5:
        this.d2q_1 = 1;
        this.e2q_1 = 2;
        break;
      case 6:
        this.d2q_1 = 1;
        this.e2q_1 = 3;
        break;
      case 7:
        this.d2q_1 = 1;
        this.e2q_1 = 4;
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
  }
  PlatformAttributeProps.prototype.p5j = function () {
    return this.d2q_1;
  };
  PlatformAttributeProps.$metadata$ = classMeta('PlatformAttributeProps');
  function ShaderCode(vertexSrc, fragmentSrc) {
    this.r4v_1 = vertexSrc;
    this.s4v_1 = fragmentSrc;
    var tmp = this;
    var tmp$ret$3;
    {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          var tmp0_toULong = getStringHashCode(this.r4v_1);
          tmp$ret$0 = _ULong___init__impl__c78o9k(toLong(tmp0_toULong));
        }
        var tmp1_shl = tmp$ret$0;
        tmp$ret$1 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp1_shl).tb(32));
      }
      var tmp3_plus = tmp$ret$1;
      var tmp$ret$2;
      {
        var tmp2_toULong = getStringHashCode(this.s4v_1);
        tmp$ret$2 = _ULong___init__impl__c78o9k(toLong(tmp2_toULong));
      }
      var tmp4_plus = tmp$ret$2;
      tmp$ret$3 = _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb(tmp3_plus).ka(_ULong___get_data__impl__fggpzb(tmp4_plus)));
    }
    tmp.t4v_1 = tmp$ret$3;
  }
  ShaderCode.prototype.q5j = function () {
    return this.r4v_1;
  };
  ShaderCode.prototype.r5j = function () {
    return this.s4v_1;
  };
  ShaderCode.$metadata$ = classMeta('ShaderCode');
  function loadFont($this, family, url) {
    var font = new FontFace(family, 'url(' + url + ')');
    var promise = font.load();
    var tmp0_this = $this;
    {
      var tmp0_plusAssign = tmp0_this.y5j_1;
      tmp0_plusAssign.b(promise);
    }
    promise.then(FontMapGenerator$loadFont$lambda($this));
  }
  function makeMap($this, fontProps, fontScale, map) {
    var style = '';
    Companion_getInstance_40();
    if (!((fontProps.u4h_1 & 1) === 0)) {
      style = 'bold ';
    }
    Companion_getInstance_40();
    if (!((fontProps.u4h_1 & 2) === 0)) {
      style = style + 'italic ';
    }
    var tmp$ret$0;
    {
      var tmp0_round = fontProps.t4h_1 * fontScale * fontProps.a4i_1;
      tmp$ret$0 = round(tmp0_round);
    }
    var fontSize = tmp$ret$0;
    var fontStr = style + ' ' + fontSize + 'px ' + fontProps.s4h_1;
    $this.w5j_1.font = fontStr;
    $this.w5j_1.fillStyle = '#000000';
    $this.w5j_1.strokeStyle = '#000000';
    var tmp$ret$4;
    {
      var tmp$ret$3;
      {
        var tmp2_dExt = Log_getInstance();
        var tmp$ret$2;
        {
          var tmp1_logExt = Level_DEBUG_getInstance();
          var tmp0_log = getKClassFromExpression($this).ei();
          var tmp;
          if (tmp1_logExt.e1w_1 >= tmp2_dExt.y1v_1.e1w_1) {
            var tmp_0 = tmp2_dExt.z1v_1;
            var tmp$ret$1;
            {
              tmp$ret$1 = 'generate font: ' + fontStr;
            }
            tmp = tmp_0(tmp1_logExt, tmp0_log, tmp$ret$1);
          }
          tmp$ret$2 = tmp;
        }
        tmp$ret$3 = tmp$ret$2;
      }
      tmp$ret$4 = tmp$ret$3;
    }
    var hab = numberToInt(round(fontSize * 1.1));
    var hbb = round(fontSize * 0.5);
    var height = round(fontSize * 1.6);
    $this.w5j_1.beginPath();
    $this.w5j_1.moveTo(0.5, 0.0);
    $this.w5j_1.lineTo(0.5, 1.0);
    $this.w5j_1.stroke();
    var numericChars = setOf_0([new Char(_Char___init__impl__6a9atx(48)), new Char(_Char___init__impl__6a9atx(49)), new Char(_Char___init__impl__6a9atx(50)), new Char(_Char___init__impl__6a9atx(51)), new Char(_Char___init__impl__6a9atx(52)), new Char(_Char___init__impl__6a9atx(53)), new Char(_Char___init__impl__6a9atx(54)), new Char(_Char___init__impl__6a9atx(55)), new Char(_Char___init__impl__6a9atx(56)), new Char(_Char___init__impl__6a9atx(57))]);
    var tmp$ret$10;
    {
      var iterator = numericChars.h();
      if (!iterator.n())
        throw NoSuchElementException_init_$Create$_0();
      var tmp$ret$6;
      {
        var tmp1__anonymous__uwfjfc = iterator.o().n1_1;
        var txtMetrics = $this.w5j_1.measureText('' + new Char(tmp1__anonymous__uwfjfc));
        var tmp$ret$5;
        {
          var tmp0_ceil = txtMetrics.actualBoundingBoxRight + txtMetrics.actualBoundingBoxLeft;
          tmp$ret$5 = Math.ceil(tmp0_ceil);
        }
        tmp$ret$6 = tmp$ret$5;
      }
      var maxValue = tmp$ret$6;
      while (iterator.n()) {
        var tmp$ret$8;
        {
          var tmp2__anonymous__z9zvc9 = iterator.o().n1_1;
          var txtMetrics_0 = $this.w5j_1.measureText('' + new Char(tmp2__anonymous__z9zvc9));
          var tmp$ret$7;
          {
            var tmp0_ceil_0 = txtMetrics_0.actualBoundingBoxRight + txtMetrics_0.actualBoundingBoxLeft;
            tmp$ret$7 = Math.ceil(tmp0_ceil_0);
          }
          tmp$ret$8 = tmp$ret$7;
        }
        var v = tmp$ret$8;
        var tmp$ret$9;
        {
          var tmp0_maxOf = maxValue;
          tmp$ret$9 = Math.max(tmp0_maxOf, v);
        }
        maxValue = tmp$ret$9;
      }
      tmp$ret$10 = maxValue;
    }
    var numericWidth = tmp$ret$10;
    var x = 1;
    var y = hab;
    var indexedObject = fontProps.v4h_1;
    var inductionVariable = 0;
    var last = indexedObject.length;
    $l$loop: while (inductionVariable < last) {
      var c = charSequenceGet(indexedObject, inductionVariable);
      inductionVariable = inductionVariable + 1 | 0;
      var txt = '' + new Char(c);
      var txtMetrics_1 = $this.w5j_1.measureText(txt);
      var tmp_1;
      if (numericChars.p(new Char(c))) {
        tmp_1 = numericWidth;
      } else {
        var tmp$ret$11;
        {
          var tmp3_ceil = txtMetrics_1.actualBoundingBoxRight + txtMetrics_1.actualBoundingBoxLeft;
          tmp$ret$11 = Math.ceil(tmp3_ceil);
        }
        tmp_1 = tmp$ret$11;
      }
      var charW = tmp_1;
      if (x + charW > $this.s5j_1) {
        x = 0;
        y = y + numberToInt(height + 10) | 0;
        if (y + hbb > $this.t5j_1) {
          break $l$loop;
        }
      }
      var heightPx = height;
      var xOff = txtMetrics_1.actualBoundingBoxLeft;
      var metrics = new CharMetrics();
      metrics.j5b_1 = charW / fontProps.a4i_1;
      metrics.k5b_1 = heightPx / fontProps.a4i_1;
      metrics.l5b_1 = xOff / fontProps.a4i_1;
      metrics.m5b_1 = hab / fontProps.a4i_1;
      metrics.n5b_1 = txtMetrics_1.width / fontProps.a4i_1;
      metrics.o5b_1.x2f(x, y - hab | 0);
      metrics.p5b_1.x2f(x + charW, (y - hab | 0) + heightPx);
      {
        map.a(new Char(c), metrics);
      }
      $this.w5j_1.fillText(txt, x + xOff, y);
      x = x + (numberToInt(charW) + 1 | 0) | 0;
    }
    var texW = $this.s5j_1;
    var texH = nextPow2($this, y + hbb);
    var tmp1_iterator = map.b3().h();
    while (tmp1_iterator.n()) {
      var cm = tmp1_iterator.o();
      var tmp2_this = cm.o5b_1;
      tmp2_this.t2f(tmp2_this.z1z() / texW);
      var tmp3_this = cm.o5b_1;
      tmp3_this.u2f(tmp3_this.b20() / texH);
      var tmp4_this = cm.p5b_1;
      tmp4_this.t2f(tmp4_this.z1z() / texW);
      var tmp5_this = cm.p5b_1;
      tmp5_this.u2f(tmp5_this.b20() / texH);
    }
    return texH;
  }
  function nextPow2($this, value) {
    var pow2 = 16;
    while (pow2 < value ? pow2 < $this.t5j_1 : false) {
      pow2 = pow2 << 1;
    }
    return pow2;
  }
  function FontMapGenerator$lambda(this$0) {
    return function (it) {
      var tmp0_forEach = this$0.x5j_1.b3();
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          if (element.i3r_1.b4i_1) {
            this$0.z5j(element, 0.0);
          }
        }
      }
      return Unit_getInstance();
    };
  }
  function FontMapGenerator$loadFont$lambda(this$0) {
    return function (f) {
      document.fonts.add(f);
      var tmp$ret$3;
      {
        var tmp$ret$2;
        {
          var tmp2_dExt = Log_getInstance();
          var tmp$ret$1;
          {
            var tmp1_logExt = Level_DEBUG_getInstance();
            var tmp0_log = getKClassFromExpression(this$0).ei();
            var tmp;
            if (tmp1_logExt.e1w_1 >= tmp2_dExt.y1v_1.e1w_1) {
              var tmp_0 = tmp2_dExt.z1v_1;
              var tmp$ret$0;
              {
                tmp$ret$0 = 'Loaded custom font: ' + f.family;
              }
              tmp = tmp_0(tmp1_logExt, tmp0_log, tmp$ret$0);
            }
            tmp$ret$1 = tmp;
          }
          tmp$ret$2 = tmp$ret$1;
        }
        tmp$ret$3 = tmp$ret$2;
      }
      return Unit_getInstance();
    };
  }
  function FontMapGenerator(maxWidth, maxHeight, props, assetManager, ctx) {
    this.s5j_1 = maxWidth;
    this.t5j_1 = maxHeight;
    this.u5j_1 = ctx;
    var tmp = this;
    var tmp_0 = document.createElement('canvas');
    tmp.v5j_1 = tmp_0 instanceof HTMLCanvasElement ? tmp_0 : THROW_CCE();
    var tmp_1 = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp_1.x5j_1 = tmp$ret$0;
    var tmp_2 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_2.y5j_1 = tmp$ret$1;
    this.v5j_1.width = this.s5j_1;
    this.v5j_1.height = this.t5j_1;
    var tmp_3 = this;
    var tmp_4 = this.v5j_1.getContext('2d');
    tmp_3.w5j_1 = tmp_4 instanceof CanvasRenderingContext2D ? tmp_4 : THROW_CCE();
    {
      var tmp0_forEach = props.d5k_1;
      var tmp$ret$2;
      {
        tmp$ret$2 = tmp0_forEach.y().h();
      }
      var tmp0_iterator = tmp$ret$2;
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var tmp$ret$3;
          {
            tmp$ret$3 = element.j2();
          }
          var family = tmp$ret$3;
          var tmp$ret$4;
          {
            tmp$ret$4 = element.l2();
          }
          var url = tmp$ret$4;
          loadFont(this, family, assetManager.t1v(url).l1x_1);
        }
      }
    }
    var tmp0_this = this.u5j_1;
    {
      var tmp1_plusAssign = tmp0_this.n28_1;
      tmp1_plusAssign.b(FontMapGenerator$lambda(this));
    }
  }
  FontMapGenerator.prototype.e5k = function (fontProps, fontScale) {
    var tmp$ret$1;
    {
      var tmp0_getOrPut = this.x5j_1;
      var value = tmp0_getOrPut.z2(fontProps);
      var tmp;
      if (value == null) {
        var tmp$ret$0;
        {
          tmp$ret$0 = this.z5j(CharMap_init_$Create$(fontProps, null, 2, null), fontScale);
        }
        var answer = tmp$ret$0;
        tmp0_getOrPut.a(fontProps, answer);
        tmp = answer;
      } else {
        tmp = value;
      }
      tmp$ret$1 = tmp;
    }
    return tmp$ret$1;
  };
  FontMapGenerator.prototype.z5j = function (charMap, fontScale) {
    var fontProps = charMap.i3r_1;
    var scale = (fontProps.b4i_1 ? fontScale === 0.0 : false) ? this.u5j_1.f28_1 : (fontProps.b4i_1 ? !(fontScale === 0.0) : false) ? this.u5j_1.f28_1 * fontScale : !(fontScale === 0.0) ? fontScale : 1.0;
    this.w5j_1.fillStyle = '#ffffff';
    this.w5j_1.fillRect(0.0, 0.0, this.s5j_1, this.t5j_1);
    var texHeight = makeMap(this, fontProps, scale, charMap);
    var data = this.w5j_1.getImageData(0.0, 0.0, this.s5j_1, texHeight);
    var buffer = createUint8Buffer(imul(this.s5j_1, texHeight));
    var inductionVariable = 0;
    var last = buffer.b1w();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tmp$ret$1;
        {
          var tmp0_get = data.data;
          var tmp1_get = imul(i, 4);
          var tmp$ret$0;
          {
            tmp$ret$0 = tmp0_get;
          }
          tmp$ret$1 = tmp$ret$0[tmp1_get];
        }
        buffer.z5d(toByte(255 - (tmp$ret$1 & 255) | 0));
      }
       while (inductionVariable < last);
    charMap.n5e(new TextureData2d(buffer, this.s5j_1, texHeight, TexFormat_R_getInstance()));
    charMap.p5e(scale);
    return charMap;
  };
  FontMapGenerator.$metadata$ = classMeta('FontMapGenerator');
  function ImageAtlasTextureData(image, tilesX, tilesY, fmt) {
    TextureData.call(this);
    if (!image.complete) {
      throw IllegalStateException_init_$Create$('Image must be complete');
    }
    this.o4y(image.width / tilesX | 0);
    this.p4y(image.height / tilesY | 0);
    this.q4y(imul(tilesX, tilesY));
    var tmp0_safe_receiver = fmt;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        tmp$ret$0 = this.r4y(tmp0_safe_receiver);
      }
    }
    var tmp = document.createElement('canvas');
    var canvas = tmp instanceof HTMLCanvasElement ? tmp : THROW_CCE();
    canvas.width = this.y3u();
    canvas.height = this.z3u();
    var tmp_0 = canvas.getContext('2d');
    var canvasCtx = tmp_0 instanceof CanvasRenderingContext2D ? tmp_0 : THROW_CCE();
    var tmp_1 = this;
    var tmp_2 = 0;
    var tmp_3 = this.t4y();
    var tmp$ret$1;
    {
      tmp$ret$1 = fillArrayVal(Array(tmp_3), null);
    }
    var tmp_4 = tmp$ret$1;
    while (tmp_2 < tmp_3) {
      var tmp_5 = tmp_2;
      var tmp$ret$2;
      {
        var x = tmp_5 % tilesX | 0;
        var y = tmp_5 / tilesY | 0;
        var w = this.y3u();
        var h = this.z3u();
        canvasCtx.drawImage(image, x * w, y * h, w, h, 0.0, 0.0, w, h);
        tmp$ret$2 = canvasCtx.getImageData(0.0, 0.0, w, h);
      }
      tmp_4[tmp_5] = tmp$ret$2;
      tmp_2 = tmp_2 + 1 | 0;
    }
    tmp_1.j5k_1 = tmp_4;
  }
  ImageAtlasTextureData.prototype.s4y = function () {
    return this.j5k_1;
  };
  ImageAtlasTextureData.$metadata$ = classMeta('ImageAtlasTextureData', undefined, undefined, undefined, undefined, TextureData.prototype);
  function ImageTextureData(image, fmt) {
    TextureData.call(this);
    this.o5k_1 = image;
    this.p5k_1 = this.o5k_1;
    if (!this.o5k_1.complete) {
      throw IllegalStateException_init_$Create$('Image must be complete');
    }
    this.o4y(this.o5k_1.width);
    this.p4y(this.o5k_1.height);
    this.q4y(1);
    var tmp0_safe_receiver = fmt;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        tmp$ret$0 = this.r4y(tmp0_safe_receiver);
      }
    }
  }
  ImageTextureData.prototype.s4y = function () {
    return this.p5k_1;
  };
  ImageTextureData.$metadata$ = classMeta('ImageTextureData', undefined, undefined, undefined, undefined, TextureData.prototype);
  function loadRaw($this, url, $cont) {
    var data = CompletableDeferred($this.j1f());
    var req = new XMLHttpRequest();
    var tmp$ret$2;
    {
      var tmp0__get_ARRAYBUFFER__ua4cvm = null;
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'arraybuffer';
        }
        var tmp0_unsafeCast = tmp$ret$0;
        tmp$ret$1 = tmp0_unsafeCast;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    req.responseType = tmp$ret$2;
    req.onload = JsAssetManager$loadRaw$lambda(req, data);
    req.onerror = JsAssetManager$loadRaw$lambda_0(data, $this, url);
    req.open('GET', url);
    req.send();
    return data.v1c($cont);
  }
  function loadImage($this, ref, $cont) {
    var tmp = new $loadImageCOROUTINE$8($this, ref, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  }
  function loadSelectedFile($this) {
    var tmp$ret$0;
    {
      var tmp0_asDynamic = $this.o5l_1;
      tmp$ret$0 = tmp0_asDynamic;
    }
    var tmp = tmp$ret$0.files;
    var fileList = tmp instanceof FileList ? tmp : THROW_CCE();
    if (fileList.length > 0) {
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          tmp$ret$1 = fileList;
        }
        tmp$ret$2 = tmp$ret$1[0];
      }
      var file = ensureNotNull(tmp$ret$2);
      var tmp$ret$6;
      {
        var tmp$ret$5;
        {
          var tmp2_dExt = Log_getInstance();
          var tmp$ret$4;
          {
            var tmp1_logExt = Level_DEBUG_getInstance();
            var tmp0_log = getKClassFromExpression($this).ei();
            var tmp_0;
            if (tmp1_logExt.e1w_1 >= tmp2_dExt.y1v_1.e1w_1) {
              var tmp_1 = tmp2_dExt.z1v_1;
              var tmp$ret$3;
              {
                tmp$ret$3 = 'User selected file: ' + file.name;
              }
              tmp_0 = tmp_1(tmp1_logExt, tmp0_log, tmp$ret$3);
            }
            tmp$ret$4 = tmp_0;
          }
          tmp$ret$5 = tmp$ret$4;
        }
        tmp$ret$6 = tmp$ret$5;
      }
      var tmp$ret$7;
      {
        tmp$ret$7 = file;
      }
      var tmp_2 = tmp$ret$7.arrayBuffer();
      var bufferPromise = tmp_2 instanceof Promise ? tmp_2 : THROW_CCE();
      var tmp_3 = JsAssetManager$loadSelectedFile$lambda($this);
      bufferPromise.then(tmp_3, JsAssetManager$loadSelectedFile$lambda_0($this));
    }
  }
  function Companion_45() {
    Companion_instance_45 = this;
    this.q5l_1 = 2048;
    this.r5l_1 = 2048;
  }
  Companion_45.$metadata$ = objectMeta('Companion');
  var Companion_instance_45;
  function Companion_getInstance_45() {
    if (Companion_instance_45 == null)
      new Companion_45();
    return Companion_instance_45;
  }
  function JsAssetManager$onFileSelectionChanged$lambda(this$0) {
    return function (it) {
      loadSelectedFile(this$0);
      return Unit_getInstance();
    };
  }
  function JsAssetManager$loadRaw$lambda($req, $data) {
    return function (it) {
      var tmp = $req.response;
      var array = new Uint8Array(tmp instanceof ArrayBuffer ? tmp : THROW_CCE());
      return $data.t1c(new Uint8BufferImpl(array));
    };
  }
  function JsAssetManager$loadRaw$lambda_0($data, this$0, $url) {
    return function (it) {
      $data.t1c(null);
      var tmp$ret$3;
      {
        var tmp$ret$2;
        {
          var tmp2_eExt = Log_getInstance();
          var tmp$ret$1;
          {
            var tmp1_logExt = Level_ERROR_getInstance();
            var tmp0_log = getKClassFromExpression(this$0).ei();
            var tmp;
            if (tmp1_logExt.e1w_1 >= tmp2_eExt.y1v_1.e1w_1) {
              var tmp_0 = tmp2_eExt.z1v_1;
              var tmp$ret$0;
              {
                tmp$ret$0 = 'Failed loading resource ' + $url + ': ' + it;
              }
              tmp = tmp_0(tmp1_logExt, tmp0_log, tmp$ret$0);
            }
            tmp$ret$1 = tmp;
          }
          tmp$ret$2 = tmp$ret$1;
        }
        tmp$ret$3 = tmp$ret$2;
      }
      return Unit_getInstance();
    };
  }
  function JsAssetManager$loadImage$lambda($deferred, $img) {
    return function (it) {
      return $deferred.t1c($img);
    };
  }
  function JsAssetManager$loadImage$lambda_0($ref, $deferred) {
    return function (_anonymous_parameter_0__qggqh8, _anonymous_parameter_1__qggqgd, _anonymous_parameter_2__qggqfi, _anonymous_parameter_3__qggqen, _anonymous_parameter_4__qggqds) {
      var tmp;
      if (startsWith$default($ref.o1x_1, 'data:', false, 2, null)) {
        tmp = $deferred.u1c(KoolException_init_$Create$('Failed loading tex from data URL'));
      } else {
        tmp = $deferred.u1c(KoolException_init_$Create$('Failed loading tex from ' + $ref.o1x_1));
      }
      return tmp;
    };
  }
  function JsAssetManager$loadSelectedFile$lambda(this$0) {
    return function (data) {
      var tmp0_safe_receiver = this$0.m5l_1;
      return tmp0_safe_receiver == null ? null : tmp0_safe_receiver.t1c(new Uint8BufferImpl(new Uint8Array(data)));
    };
  }
  function JsAssetManager$loadSelectedFile$lambda_0(this$0) {
    return function (e) {
      var tmp0_safe_receiver = this$0.m5l_1;
      return tmp0_safe_receiver == null ? null : tmp0_safe_receiver.u1c(e);
    };
  }
  function JsAssetManager$loadAndPrepareTexture$slambda($assetPath, resultContinuation) {
    this.a5m_1 = $assetPath;
    CoroutineImpl.call(this, resultContinuation);
  }
  JsAssetManager$loadAndPrepareTexture$slambda.prototype.d5m = function ($this$$receiver, it, $cont) {
    var tmp = this.e5m($this$$receiver, it, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  JsAssetManager$loadAndPrepareTexture$slambda.prototype.kc = function (p1, p2, $cont) {
    var tmp = (!(p1 == null) ? isInterface(p1, CoroutineScope) : false) ? p1 : THROW_CCE();
    return this.d5m(tmp, p2 instanceof AssetManager ? p2 : THROW_CCE(), $cont);
  };
  JsAssetManager$loadAndPrepareTexture$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 2;
            this.k7_1 = 1;
            suspendResult = this.c5m_1.i1x(this.a5m_1, null, this, 2, null);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            return suspendResult;
          case 2:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 2) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  JsAssetManager$loadAndPrepareTexture$slambda.prototype.e5m = function ($this$$receiver, it, completion) {
    var i = new JsAssetManager$loadAndPrepareTexture$slambda(this.a5m_1, completion);
    i.b5m_1 = $this$$receiver;
    i.c5m_1 = it;
    return i;
  };
  JsAssetManager$loadAndPrepareTexture$slambda.$metadata$ = classMeta('JsAssetManager$loadAndPrepareTexture$slambda', undefined, undefined, undefined, [2], CoroutineImpl.prototype);
  function JsAssetManager$loadAndPrepareTexture$slambda_0($assetPath, resultContinuation) {
    var i = new JsAssetManager$loadAndPrepareTexture$slambda($assetPath, resultContinuation);
    var l = function ($this$$receiver, it, $cont) {
      return i.d5m($this$$receiver, it, $cont);
    };
    l.$arity = 2;
    return l;
  }
  function $loadRawCOROUTINE$6(_this__u8e3s4, rawRef, resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
    this.n5m_1 = _this__u8e3s4;
    this.o5m_1 = rawRef;
  }
  $loadRawCOROUTINE$6.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 2;
            this.k7_1 = 1;
            suspendResult = loadRaw(this.n5m_1, this.o5m_1.l1x_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            var ARGUMENT = suspendResult;
            return new LoadedRawAsset(this.o5m_1, ARGUMENT);
          case 2:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 2) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  $loadRawCOROUTINE$6.$metadata$ = classMeta('$loadRawCOROUTINE$6', undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function $loadTextureCOROUTINE$7(_this__u8e3s4, textureRef, resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
    this.x5m_1 = _this__u8e3s4;
    this.y5m_1 = textureRef;
  }
  $loadTextureCOROUTINE$7.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 2;
            this.k7_1 = 1;
            suspendResult = loadImage(this.x5m_1, this.y5m_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            var ARGUMENT = suspendResult;
            return new LoadedTextureAsset(this.y5m_1, ARGUMENT);
          case 2:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 2) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  $loadTextureCOROUTINE$7.$metadata$ = classMeta('$loadTextureCOROUTINE$7', undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function $loadImageCOROUTINE$8(_this__u8e3s4, ref, resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
    this.y5k_1 = _this__u8e3s4;
    this.z5k_1 = ref;
  }
  $loadImageCOROUTINE$8.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 4;
            var tmp_0 = this;
            tmp_0.a5l_1 = CompletableDeferred$default(null, 1, null);
            this.b5l_1 = new Image();
            this.b5l_1.onload = JsAssetManager$loadImage$lambda(this.a5l_1, this.b5l_1);
            this.b5l_1.onerror = JsAssetManager$loadImage$lambda_0(this.z5k_1, this.a5l_1);
            this.b5l_1.crossOrigin = '';
            this.b5l_1.src = this.z5k_1.o1x_1;
            if (this.z5k_1.r1x_1) {
              this.k7_1 = 2;
              suspendResult = this.a5l_1.v1c(this);
              if (suspendResult === get_COROUTINE_SUSPENDED()) {
                return suspendResult;
              }
              continue $sm;
            } else {
              this.k7_1 = 1;
              suspendResult = this.a5l_1.v1c(this);
              if (suspendResult === get_COROUTINE_SUSPENDED()) {
                return suspendResult;
              }
              continue $sm;
            }

            break;
          case 1:
            var ARGUMENT = suspendResult;
            this.c5l_1 = new ImageTextureData(ARGUMENT, this.z5k_1.q1x_1);
            this.k7_1 = 3;
            continue $sm;
          case 2:
            var ARGUMENT_0 = suspendResult;
            this.c5l_1 = new ImageAtlasTextureData(ARGUMENT_0, this.z5k_1.s1x_1, this.z5k_1.t1x_1, this.z5k_1.q1x_1);
            this.k7_1 = 3;
            continue $sm;
          case 3:
            return this.c5l_1;
          case 4:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 4) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  $loadImageCOROUTINE$8.$metadata$ = classMeta('$loadImageCOROUTINE$8', undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function $loadAndPrepareTextureCOROUTINE$12(_this__u8e3s4, assetPath, props, resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
    this.h5n_1 = _this__u8e3s4;
    this.i5n_1 = assetPath;
    this.j5n_1 = props;
  }
  $loadAndPrepareTextureCOROUTINE$12.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 2;
            var tmp_0 = this;
            var tmp_1 = this.h5n_1.a1w(this.i5n_1);
            tmp_0.k5n_1 = Texture2d_init_$Create$(this.j5n_1, tmp_1, JsAssetManager$loadAndPrepareTexture$slambda_0(this.i5n_1, null));
            this.k7_1 = 1;
            suspendResult = this.h5n_1.h1x(this.i5n_1, this.j5n_1.p4x_1, this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            var data = suspendResult;
            this.k5n_1.d4y(TextureLoader_getInstance().l5n(this.h5n_1.k5l_1, this.j5n_1, data));
            this.k5n_1.f4y(LoadingState_LOADED_getInstance());
            return this.k5n_1;
          case 2:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 2) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  $loadAndPrepareTextureCOROUTINE$12.$metadata$ = classMeta('$loadAndPrepareTextureCOROUTINE$12', undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function JsAssetManager(props, ctx) {
    Companion_getInstance_45();
    AssetManager.call(this, props.c5k_1);
    this.k5l_1 = ctx;
    var tmp = this;
    Companion_getInstance_45();
    Companion_getInstance_45();
    tmp.l5l_1 = new FontMapGenerator(2048, 2048, props, this, this.k5l_1);
    this.m5l_1 = null;
    var tmp_0 = this;
    tmp_0.n5l_1 = JsAssetManager$onFileSelectionChanged$lambda(this);
    var tmp_1 = this;
    var tmp$ret$1;
    {
      var tmp0_apply = document.createElement('input');
      {
      }
      {
        tmp0_apply.setAttribute('type', 'file');
        tmp0_apply.addEventListener('change', this.n5l_1);
        var tmp$ret$0;
        {
          tmp$ret$0 = tmp0_apply;
        }
        tmp$ret$0.style.display = 'none';
        var tmp0_safe_receiver = document.body;
        if (tmp0_safe_receiver == null)
          null;
        else
          tmp0_safe_receiver.appendChild(tmp0_apply);
      }
      tmp$ret$1 = tmp0_apply;
    }
    tmp_1.o5l_1 = tmp$ret$1;
    this.p5l_1 = new KeyValueStorageJs(this);
  }
  JsAssetManager.prototype.g1v = function (rawRef, $cont) {
    var tmp = new $loadRawCOROUTINE$6(this, rawRef, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  JsAssetManager.prototype.f1v = function (textureRef, $cont) {
    var tmp = new $loadTextureCOROUTINE$7(this, textureRef, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  JsAssetManager.prototype.c1x = function (fontProps, fontScale) {
    return this.l5l_1.e5k(fontProps, fontScale);
  };
  JsAssetManager.prototype.e1x = function (charMap, fontScale) {
    this.l5l_1.z5j(charMap, fontScale);
  };
  JsAssetManager.prototype.j1x = function (assetPath, props, $cont) {
    var tmp = new $loadAndPrepareTextureCOROUTINE$12(this, assetPath, props, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  JsAssetManager.prototype.k1x = function (assetPath, $cont) {
    var tmp;
    if (this.t1w(assetPath)) {
      tmp = new AudioClip(assetPath);
    } else {
      tmp = new AudioClip(this.b1x() + '/' + assetPath);
    }
    return tmp;
  };
  JsAssetManager.$metadata$ = classMeta('JsAssetManager', undefined, undefined, undefined, undefined, AssetManager.prototype);
  function renderFrame($this, time) {
    var dt = (time - $this.t5h_1) / 1000.0;
    $this.t5h_1 = time;
    $this.g2a(window.devicePixelRatio);
    $this.n5h_1 = numberToInt(window.innerWidth * window.devicePixelRatio);
    $this.o5h_1 = numberToInt(window.innerHeight * window.devicePixelRatio);
    if (!($this.n5h_1 === $this.q5h_1.width) ? true : !($this.o5h_1 === $this.q5h_1.height)) {
      $this.q5h_1.width = $this.n5h_1;
      $this.q5h_1.height = $this.o5h_1;
    }
    $this.e2c(dt);
    draw($this);
    $this.r5h_1.finish();
    var tmp = window;
    tmp.requestAnimationFrame(JsContext$renderFrame$lambda($this));
  }
  function draw($this) {
    var tmp$ret$0;
    {
      var tmp0_isNotEmpty = $this.x2b();
      tmp$ret$0 = !tmp0_isNotEmpty.q();
    }
    if (tmp$ret$0) {
      $this.l5h_1.m5n($this.x2b());
      $this.x2b().t7();
    }
    $this.l2a().j1y();
    var inductionVariable = 0;
    var last = $this.o2a().m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var j = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if ($this.o2a().r(j).q4q_1) {
          drawOffscreen($this, $this.o2a().r(j));
          $this.o2a().r(j).i4t($this);
        }
      }
       while (inductionVariable <= last);
    var inductionVariable_0 = 0;
    var last_0 = $this.n2a().m() - 1 | 0;
    if (inductionVariable_0 <= last_0)
      do {
        var i = inductionVariable_0;
        inductionVariable_0 = inductionVariable_0 + 1 | 0;
        var scene = $this.n2a().r(i);
        if (scene.a2d()) {
          doOffscreenPasses($this, scene, $this);
          $this.l5h_1.i5j(scene.p2b_1.x4t());
          scene.p2b_1.i4t($this);
        }
      }
       while (inductionVariable_0 <= last_0);
    var tmp$ret$1;
    {
      var tmp1_isNotEmpty = $this.m5h_1;
      tmp$ret$1 = !tmp1_isNotEmpty.q();
    }
    if (tmp$ret$1) {
      {
        var tmp2_forEach = $this.m5h_1;
        var tmp0_iterator = tmp2_forEach.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          {
            element();
          }
        }
      }
      $this.m5h_1.t7();
    }
  }
  function doOffscreenPasses($this, scene, ctx) {
    $this.w5h_1.t7();
    var inductionVariable = 0;
    var last = scene.w2b().m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var rp = scene.w2b().r(i);
        if (rp.q4q_1) {
          var tmp1_this = $this;
          {
            var tmp0_plusAssign = tmp1_this.v5h_1;
            tmp0_plusAssign.b(rp);
          }
        } else {
          var tmp2_this = $this;
          {
            var tmp1_plusAssign = tmp2_this.w5h_1;
            tmp1_plusAssign.b(rp);
          }
        }
      }
       while (inductionVariable <= last);
    $l$loop_2: while (true) {
      var tmp$ret$0;
      {
        var tmp2_isNotEmpty = $this.v5h_1;
        tmp$ret$0 = !tmp2_isNotEmpty.q();
      }
      if (!tmp$ret$0) {
        break $l$loop_2;
      }
      var anyDrawn = false;
      var inductionVariable_0 = 0;
      var last_0 = $this.v5h_1.m() - 1 | 0;
      if (inductionVariable_0 <= last_0)
        $l$loop_1: do {
          var i_0 = inductionVariable_0;
          inductionVariable_0 = inductionVariable_0 + 1 | 0;
          var pass = $this.v5h_1.r(i_0);
          var skip = false;
          var inductionVariable_1 = 0;
          var last_1 = pass.z2l().m() - 1 | 0;
          if (inductionVariable_1 <= last_1)
            $l$loop_0: do {
              var j = inductionVariable_1;
              inductionVariable_1 = inductionVariable_1 + 1 | 0;
              var dep = pass.z2l().r(j);
              if (!contains($this.w5h_1, dep)) {
                skip = true;
                break $l$loop_0;
              }
            }
             while (inductionVariable_1 <= last_1);
          if (!skip) {
            anyDrawn = true;
            var tmp5_this = $this;
            {
              var tmp3_minusAssign = tmp5_this.v5h_1;
              tmp3_minusAssign.c4(pass);
            }
            var tmp6_this = $this;
            {
              var tmp4_plusAssign = tmp6_this.w5h_1;
              tmp4_plusAssign.b(pass);
            }
            drawOffscreen($this, pass);
            pass.i4t(ctx);
            break $l$loop_1;
          }
        }
         while (inductionVariable_0 <= last_0);
      if (!anyDrawn) {
        var tmp$ret$4;
        {
          var tmp$ret$3;
          {
            var tmp2_eExt = Log_getInstance();
            var tmp$ret$2;
            {
              var tmp1_logExt = Level_ERROR_getInstance();
              var tmp0_log = getKClassFromExpression($this).ei();
              var tmp;
              if (tmp1_logExt.e1w_1 >= tmp2_eExt.y1v_1.e1w_1) {
                var tmp_0 = tmp2_eExt.z1v_1;
                var tmp$ret$1;
                {
                  tmp$ret$1 = 'Failed to render all offscreen passes, remaining:';
                }
                tmp = tmp_0(tmp1_logExt, tmp0_log, tmp$ret$1);
              }
              tmp$ret$2 = tmp;
            }
            tmp$ret$3 = tmp$ret$2;
          }
          tmp$ret$4 = tmp$ret$3;
        }
        {
          var tmp5_forEach = $this.v5h_1;
          var tmp0_iterator = tmp5_forEach.h();
          while (tmp0_iterator.n()) {
            var element = tmp0_iterator.o();
            {
              var tmp$ret$8;
              {
                var tmp$ret$7;
                {
                  var tmp2_eExt_0 = Log_getInstance();
                  var tmp$ret$6;
                  {
                    var tmp1_logExt_0 = Level_ERROR_getInstance();
                    var tmp0_log_0 = getKClassFromExpression($this).ei();
                    var tmp_1;
                    if (tmp1_logExt_0.e1w_1 >= tmp2_eExt_0.y1v_1.e1w_1) {
                      var tmp_2 = tmp2_eExt_0.z1v_1;
                      var tmp$ret$5;
                      {
                        tmp$ret$5 = '  ' + element.il();
                      }
                      tmp_1 = tmp_2(tmp1_logExt_0, tmp0_log_0, tmp$ret$5);
                    }
                    tmp$ret$6 = tmp_1;
                  }
                  tmp$ret$7 = tmp$ret$6;
                }
                tmp$ret$8 = tmp$ret$7;
              }
            }
          }
        }
        $this.v5h_1.t7();
        break $l$loop_2;
      }
    }
  }
  function drawOffscreen($this, offscreenPass) {
    var tmp0_subject = offscreenPass;
    if (tmp0_subject instanceof OffscreenRenderPass2d)
      offscreenPass.y29_1.d5j($this);
    else {
      if (tmp0_subject instanceof OffscreenRenderPassCube)
        offscreenPass.y4u_1.d5j($this);
      else {
        if (tmp0_subject instanceof OffscreenRenderPass2dPingPong)
          drawOffscreenPingPong($this, offscreenPass);
        else {
          throw IllegalArgumentException_init_$Create$('Offscreen pass type not implemented: ' + offscreenPass);
        }
      }
    }
  }
  function drawOffscreenPingPong($this, offscreenPass) {
    var inductionVariable = 0;
    var last = offscreenPass.k5o_1;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tmp1_safe_receiver = offscreenPass.n5o_1;
        if (tmp1_safe_receiver == null)
          null;
        else
          tmp1_safe_receiver(i);
        offscreenPass.l5o_1.y29_1.d5j($this);
        var tmp2_safe_receiver = offscreenPass.o5o_1;
        if (tmp2_safe_receiver == null)
          null;
        else
          tmp2_safe_receiver(i);
        offscreenPass.m5o_1.y29_1.d5j($this);
      }
       while (inductionVariable < last);
  }
  function InitProps() {
    this.a5k_1 = 'glCanvas';
    this.b5k_1 = mutableSetOf(['F5', 'F11']);
    this.c5k_1 = './assets';
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.d5k_1 = tmp$ret$0;
  }
  InitProps.$metadata$ = classMeta('InitProps');
  function JsContext$lambda(this$0) {
    return function (it) {
      this$0.p5h_1 = !(document.fullscreenElement == null);
      return null;
    };
  }
  function JsContext$lambda_0(this$0) {
    return function (e) {
      var tmp;
      if (this$0.m2a().m1r(this$0)) {
        tmp = delete e['returnValue'];
      } else {
        e.preventDefault();
        tmp = e.returnValue = 'Are you sure you want to exit?';
      }
      return null;
    };
  }
  function JsContext$lambda_1(this$0) {
    return function (it) {
      this$0.h2a(true);
      return null;
    };
  }
  function JsContext$lambda_2(this$0) {
    return function (it) {
      this$0.h2a(false);
      return null;
    };
  }
  function Event$preventDefault$ref() {
    var l = function (p0) {
      p0.preventDefault();
      return Unit_getInstance();
    };
    l.callableName = 'preventDefault';
    return l;
  }
  function JsContext$renderFrame$lambda(this$0) {
    return function (t) {
      renderFrame(this$0, t);
      return Unit_getInstance();
    };
  }
  function JsContext$run$lambda(this$0) {
    return function (t) {
      renderFrame(this$0, t);
      return Unit_getInstance();
    };
  }
  function JsContext(props) {
    KoolContext.call(this);
    this.h5h_1 = props;
    this.i5h_1 = new JsAssetManager(this.h5h_1, this);
    this.k5h_1 = new ShaderGeneratorImplWebGl();
    this.l5h_1 = new QueueRendererWebGl(this);
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.m5h_1 = tmp$ret$0;
    this.n5h_1 = 0;
    this.o5h_1 = 0;
    this.p5h_1 = false;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_0.s5h_1 = tmp$ret$1;
    this.t5h_1 = 0.0;
    this.u5h_1 = new GlCapabilities();
    var tmp_1 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = ArrayList_init_$Create$_0();
    }
    tmp_1.v5h_1 = tmp$ret$2;
    var tmp_2 = this;
    var tmp$ret$3;
    {
      tmp$ret$3 = LinkedHashSet_init_$Create$();
    }
    tmp_2.w5h_1 = tmp$ret$3;
    var tmp_3 = this;
    var tmp_4 = document.getElementById(this.h5h_1.a5k_1);
    var tmp0_elvis_lhs = tmp_4 instanceof HTMLCanvasElement ? tmp_4 : null;
    var tmp_5;
    if (tmp0_elvis_lhs == null) {
      throw IllegalStateException_init_$Create$('canvas element not found! Add a canvas with id "' + this.h5h_1.a5k_1 + '" to your html.');
    } else {
      tmp_5 = tmp0_elvis_lhs;
    }
    tmp_3.q5h_1 = tmp_5;
    this.q5h_1.style.width = '100%';
    this.q5h_1.style.height = '100%';
    this.q5h_1.width = numberToInt(window.innerWidth * window.devicePixelRatio);
    this.q5h_1.height = numberToInt(window.innerHeight * window.devicePixelRatio);
    var webGlCtx = this.q5h_1.getContext('webgl2');
    if (webGlCtx == null) {
      webGlCtx = this.q5h_1.getContext('experimental-webgl2');
    }
    if (!(webGlCtx == null)) {
      var tmp_6 = this;
      tmp_6.r5h_1 = webGlCtx instanceof WebGL2RenderingContext ? webGlCtx : THROW_CCE();
      var tmp1_this = this;
      {
        var tmp0_plusAssign = tmp1_this.s5h_1;
        tmp0_plusAssign.b('WebGL 2.0');
      }
      var tmp_7 = this.u5h_1;
      var tmp$ret$4;
      {
        var tmp1_asDynamic = this.r5h_1.getParameter(WebGLRenderingContext.MAX_TEXTURE_IMAGE_UNITS);
        tmp$ret$4 = tmp1_asDynamic;
      }
      tmp_7.p5o_1 = tmp$ret$4;
      this.u5h_1.q5o_1 = this.r5h_1.getExtension('EXT_color_buffer_float') != null;
    } else {
      alert('Unable to initialize WebGL2 context. Your browser may not support it.');
      throw KoolException_init_$Create$('WebGL2 context required');
    }
    var tmp2_elvis_lhs = this.r5h_1.getExtension('EXT_texture_filter_anisotropic');
    var tmp3_elvis_lhs = tmp2_elvis_lhs == null ? this.r5h_1.getExtension('MOZ_EXT_texture_filter_anisotropic') : tmp2_elvis_lhs;
    var extAnisotropic = tmp3_elvis_lhs == null ? this.r5h_1.getExtension('WEBKIT_EXT_texture_filter_anisotropic') : tmp3_elvis_lhs;
    if (extAnisotropic != null) {
      var tmp_8 = this.u5h_1;
      var tmp_9 = this.r5h_1.getParameter(extAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
      tmp_8.r5o_1 = (!(tmp_9 == null) ? typeof tmp_9 === 'number' : false) ? tmp_9 : THROW_CCE();
      this.u5h_1.s5o_1 = extAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT;
    }
    var tmp_10 = document;
    tmp_10.onfullscreenchange = JsContext$lambda(this);
    var tmp_11 = window;
    tmp_11.onbeforeunload = JsContext$lambda_0(this);
    var tmp_12 = window;
    tmp_12.onfocus = JsContext$lambda_1(this);
    var tmp_13 = window;
    tmp_13.onblur = JsContext$lambda_2(this);
    this.g2a(window.devicePixelRatio);
    this.n5h_1 = this.q5h_1.width;
    this.o5h_1 = this.q5h_1.height;
    this.q5h_1.oncontextmenu = Event$preventDefault$ref();
    this.j5h_1 = new JsInputManager(this.q5h_1, this.h5h_1);
  }
  JsContext.prototype.j2a = function () {
    return this.i5h_1;
  };
  JsContext.prototype.k2a = function () {
    return this.j5h_1;
  };
  JsContext.prototype.l5g = function () {
    return this.r5h_1;
  };
  JsContext.prototype.m1c = function () {
    var tmp = window;
    tmp.requestAnimationFrame(JsContext$run$lambda(this));
  };
  JsContext.prototype.y2b = function () {
  };
  JsContext.prototype.z2b = function (shader, pipelineLayout) {
    var src = (new GlslGenerator()).t36(shader.u2k_1);
    if (shader.u2k_1.h2k_1) {
      src.i36();
    }
    return new ShaderCode(src.g36_1, src.h36_1);
  };
  JsContext.prototype.a2c = function (result) {
    result.w4s(0, 0, this.n5h_1, this.o5h_1);
  };
  JsContext.$metadata$ = classMeta('JsContext', undefined, undefined, undefined, undefined, KoolContext.prototype);
  function GlCapabilities() {
    this.p5o_1 = 16;
    this.q5o_1 = false;
    this.r5o_1 = 1;
    this.s5o_1 = 0;
  }
  GlCapabilities.$metadata$ = classMeta('GlCapabilities');
  function get_elementX(_this__u8e3s4) {
    var tmp = _this__u8e3s4.clientX;
    var tmp_0 = _this__u8e3s4.target;
    var tmp0_safe_receiver = tmp_0 instanceof HTMLCanvasElement ? tmp_0 : null;
    var tmp1_safe_receiver = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.clientLeft;
    var tmp2_elvis_lhs = tmp1_safe_receiver == null ? null : tmp1_safe_receiver;
    return tmp - (tmp2_elvis_lhs == null ? 0.0 : tmp2_elvis_lhs);
  }
  function get_elementY(_this__u8e3s4) {
    var tmp = _this__u8e3s4.clientY;
    var tmp_0 = _this__u8e3s4.target;
    var tmp0_safe_receiver = tmp_0 instanceof HTMLCanvasElement ? tmp_0 : null;
    var tmp1_safe_receiver = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.clientTop;
    var tmp2_elvis_lhs = tmp1_safe_receiver == null ? null : tmp1_safe_receiver;
    return tmp - (tmp2_elvis_lhs == null ? 0.0 : tmp2_elvis_lhs);
  }
  function pointerMovementX($this, ev) {
    var tmp = ev.movementX;
    return ((!(tmp == null) ? typeof tmp === 'number' : false) ? tmp : THROW_CCE()) * window.devicePixelRatio;
  }
  function pointerMovementY($this, ev) {
    var tmp = ev.movementY;
    return ((!(tmp == null) ? typeof tmp === 'number' : false) ? tmp : THROW_CCE()) * window.devicePixelRatio;
  }
  function installInputHandlers($this) {
    $this.z5o_1.onmousemove = JsInputManager$installInputHandlers$lambda($this);
    $this.z5o_1.onmousedown = JsInputManager$installInputHandlers$lambda_0($this);
    $this.z5o_1.onmouseup = JsInputManager$installInputHandlers$lambda_1($this);
    $this.z5o_1.onmouseleave = JsInputManager$installInputHandlers$lambda_2($this);
    $this.z5o_1.onwheel = JsInputManager$installInputHandlers$lambda_3($this);
    var tmp = document;
    tmp.addEventListener('pointerlockchange', JsInputManager$installInputHandlers$lambda_4($this), false);
    $this.z5o_1.addEventListener('touchstart', JsInputManager$installInputHandlers$lambda_5($this), false);
    $this.z5o_1.addEventListener('touchend', JsInputManager$installInputHandlers$lambda_6($this), false);
    $this.z5o_1.addEventListener('touchcancel', JsInputManager$installInputHandlers$lambda_7($this), false);
    $this.z5o_1.addEventListener('touchmove', JsInputManager$installInputHandlers$lambda_8($this), false);
    var tmp_0 = document;
    tmp_0.onkeydown = JsInputManager$installInputHandlers$lambda_9($this);
    var tmp_1 = document;
    tmp_1.onkeyup = JsInputManager$installInputHandlers$lambda_10($this);
  }
  function handleKeyDown($this, ev) {
    var keyCode = toKeyCode(ev, $this);
    var localKeyCode = toLocalKeyCode(ev, $this);
    var mods = 0;
    if (!(keyCode.b28() === 0) ? true : !(localKeyCode.b28() === 0)) {
      if (ev.altKey) {
        var tmp = mods;
        Companion_getInstance_0();
        mods = tmp | 4;
      }
      if (ev.ctrlKey) {
        var tmp_0 = mods;
        Companion_getInstance_0();
        mods = tmp_0 | 2;
      }
      if (ev.shiftKey) {
        var tmp_1 = mods;
        Companion_getInstance_0();
        mods = tmp_1 | 1;
      }
      if (ev.metaKey) {
        var tmp_2 = mods;
        Companion_getInstance_0();
        mods = tmp_2 | 8;
      }
      Companion_getInstance_0();
      var event = 2;
      if (ev.repeat) {
        var tmp_3 = event;
        Companion_getInstance_0();
        event = tmp_3 | 4;
      }
      $this.z27(new KeyEvent(keyCode, localKeyCode, event, mods));
    }
    if (ev.key.length === 1 ? mods === 0 : false) {
      $this.a28(charSequenceGet(ev.key, 0));
    }
    if (!$this.a5p_1.b5k_1.p(ev.code)) {
      ev.preventDefault();
    }
  }
  function handleKeyUp($this, ev) {
    var keyCode = toKeyCode(ev, $this);
    var localKeyCode = toLocalKeyCode(ev, $this);
    if (!(keyCode.b28() === 0) ? true : !(localKeyCode.b28() === 0)) {
      var mods = 0;
      if (ev.altKey) {
        var tmp = mods;
        Companion_getInstance_0();
        mods = tmp | 4;
      }
      if (ev.ctrlKey) {
        var tmp_0 = mods;
        Companion_getInstance_0();
        mods = tmp_0 | 2;
      }
      if (ev.shiftKey) {
        var tmp_1 = mods;
        Companion_getInstance_0();
        mods = tmp_1 | 1;
      }
      if (ev.metaKey) {
        var tmp_2 = mods;
        Companion_getInstance_0();
        mods = tmp_2 | 8;
      }
      Companion_getInstance_0();
      $this.z27(new KeyEvent(keyCode, localKeyCode, 1, mods));
    }
    if (!$this.a5p_1.b5k_1.p(ev.code)) {
      ev.preventDefault();
    }
  }
  function toLocalKeyCode(_this__u8e3s4, $this) {
    var specialKey = Companion_getInstance_46().e5p_1.z2(_this__u8e3s4.code);
    var tmp;
    if (!(specialKey == null)) {
      tmp = new LocalKeyCode(specialKey.b28(), specialKey.il());
    } else {
      var tmp0_subject = _this__u8e3s4.key.length;
      var tmp_0;
      if (tmp0_subject === 1) {
        var tmp$ret$0;
        {
          var tmp0__get_code__88qj9g = uppercaseChar(charSequenceGet(_this__u8e3s4.key, 0));
          tmp$ret$0 = Char__toInt_impl_vasixd(tmp0__get_code__88qj9g);
        }
        var tmp_1 = tmp$ret$0;
        tmp_0 = LocalKeyCode_init_$Create$(tmp_1, null, 2, null);
      } else {
        tmp_0 = LocalKeyCode_init_$Create$(0, null, 2, null);
      }
      tmp = tmp_0;
    }
    return tmp;
  }
  function toKeyCode(_this__u8e3s4, $this) {
    var tmp1_elvis_lhs = Companion_getInstance_46().e5p_1.z2(_this__u8e3s4.code);
    var tmp;
    if (tmp1_elvis_lhs == null) {
      var tmp0_subject = _this__u8e3s4.key.length;
      var tmp_0;
      if (tmp0_subject === 1) {
        var tmp$ret$0;
        {
          var tmp0__get_code__88qj9g = uppercaseChar(charSequenceGet(_this__u8e3s4.key, 0));
          tmp$ret$0 = Char__toInt_impl_vasixd(tmp0__get_code__88qj9g);
        }
        var tmp_1 = tmp$ret$0;
        tmp_0 = UniversalKeyCode_init_$Create$(tmp_1, null, 2, null);
      } else {
        tmp_0 = UniversalKeyCode_init_$Create$(0, null, 2, null);
      }
      tmp = tmp_0;
    } else {
      tmp = tmp1_elvis_lhs;
    }
    return tmp;
  }
  function Companion_46() {
    Companion_instance_46 = this;
    this.e5p_1 = mutableMapOf([to('ControlLeft', Companion_getInstance_0().r25_1), to('ControlRight', Companion_getInstance_0().s25_1), to('ShiftLeft', Companion_getInstance_0().t25_1), to('ShiftRight', Companion_getInstance_0().u25_1), to('AltLeft', Companion_getInstance_0().v25_1), to('AltRight', Companion_getInstance_0().w25_1), to('MetaLeft', Companion_getInstance_0().x25_1), to('MetaRight', Companion_getInstance_0().y25_1), to('Escape', Companion_getInstance_0().z25_1), to('ContextMenu', Companion_getInstance_0().a26_1), to('Enter', Companion_getInstance_0().b26_1), to('NumpadEnter', Companion_getInstance_0().c26_1), to('NumpadDivide', Companion_getInstance_0().d26_1), to('NumpadMultiply', Companion_getInstance_0().e26_1), to('NumpadAdd', Companion_getInstance_0().f26_1), to('NumpadSubtract', Companion_getInstance_0().g26_1), to('Backspace', Companion_getInstance_0().h26_1), to('Tab', Companion_getInstance_0().i26_1), to('Delete', Companion_getInstance_0().j26_1), to('Insert', Companion_getInstance_0().k26_1), to('Home', Companion_getInstance_0().l26_1), to('End', Companion_getInstance_0().m26_1), to('PageUp', Companion_getInstance_0().n26_1), to('PageDown', Companion_getInstance_0().o26_1), to('ArrowLeft', Companion_getInstance_0().p26_1), to('ArrowRight', Companion_getInstance_0().q26_1), to('ArrowUp', Companion_getInstance_0().r26_1), to('ArrowDown', Companion_getInstance_0().s26_1), to('F1', Companion_getInstance_0().t26_1), to('F2', Companion_getInstance_0().u26_1), to('F3', Companion_getInstance_0().v26_1), to('F4', Companion_getInstance_0().w26_1), to('F5', Companion_getInstance_0().x26_1), to('F6', Companion_getInstance_0().y26_1), to('F7', Companion_getInstance_0().z26_1), to('F8', Companion_getInstance_0().a27_1), to('F9', Companion_getInstance_0().b27_1), to('F10', Companion_getInstance_0().c27_1), to('F11', Companion_getInstance_0().d27_1), to('F12', Companion_getInstance_0().e27_1), to('Space', UniversalKeyCode_init_$Create$_0(_Char___init__impl__6a9atx(32)))]);
  }
  Companion_46.$metadata$ = objectMeta('Companion');
  var Companion_instance_46;
  function Companion_getInstance_46() {
    if (Companion_instance_46 == null)
      new Companion_46();
    return Companion_instance_46;
  }
  function PointerLockState($outer, canvas) {
    this.j5p_1 = $outer;
    this.f5p_1 = canvas;
    this.g5p_1 = false;
    this.h5p_1 = false;
    this.i5p_1 = CursorMode_NORMAL_getInstance();
  }
  PointerLockState.prototype.k5p = function (canvas) {
    if (!this.g5p_1) {
      canvas.requestPointerLock();
    }
  };
  PointerLockState.prototype.l5p = function (canvas) {
    var tmp = this;
    var tmp_0 = document.pointerLockElement === canvas;
    tmp.g5p_1 = (!(tmp_0 == null) ? typeof tmp_0 === 'boolean' : false) ? tmp_0 : THROW_CCE();
    if (!this.g5p_1 ? !this.h5p_1 : false) {
      var tmp$ret$3;
      {
        var tmp$ret$2;
        {
          var tmp0_iExt = Log_getInstance();
          var tmp$ret$1;
          {
            var tmp1_logExt = Level_INFO_getInstance();
            var tmp0_log = getKClassFromExpression(this).ei();
            var tmp_1;
            if (tmp1_logExt.e1w_1 >= tmp0_iExt.y1v_1.e1w_1) {
              var tmp_2 = tmp0_iExt.z1v_1;
              var tmp$ret$0;
              {
                tmp$ret$0 = 'pointer lock exited by user';
              }
              tmp_1 = tmp_2(tmp1_logExt, tmp0_log, tmp$ret$0);
            }
            tmp$ret$1 = tmp_1;
          }
          tmp$ret$2 = tmp$ret$1;
        }
        tmp$ret$3 = tmp$ret$2;
      }
      var tmp_3 = Companion_getInstance_0().z25_1;
      Companion_getInstance_0();
      this.j5p_1.z27(KeyEvent_init_$Create$(tmp_3, 2, 0));
      var tmp_4 = Companion_getInstance_0().z25_1;
      Companion_getInstance_0();
      this.j5p_1.z27(KeyEvent_init_$Create$(tmp_4, 1, 0));
    }
    this.h5p_1 = false;
  };
  PointerLockState.prototype.m5p = function () {
    if (this.i5p_1.equals(CursorMode_LOCKED_getInstance()) ? !this.g5p_1 : false) {
      this.k5p(this.f5p_1);
    }
  };
  PointerLockState.$metadata$ = classMeta('PointerLockState');
  function JsInputManager$installInputHandlers$lambda(this$0) {
    return function (ev) {
      var bounds = this$0.z5o_1.getBoundingClientRect();
      var tmp;
      if (this$0.b5p_1.g5p_1) {
        var tmp0_this = this$0.c5p_1;
        tmp0_this.y1z(tmp0_this.z1z() + pointerMovementX(this$0, ev));
        var tmp1_this = this$0.c5p_1;
        tmp = tmp1_this.a20(tmp1_this.b20() + pointerMovementY(this$0, ev));
      } else {
        this$0.c5p_1.y1z(ev.clientX * window.devicePixelRatio - bounds.left);
        tmp = this$0.c5p_1.a20(ev.clientY * window.devicePixelRatio - bounds.top);
      }
      this$0.g24(this$0.c5p_1.z1z(), this$0.c5p_1.b20());
      return Unit_getInstance();
    };
  }
  function JsInputManager$installInputHandlers$lambda_0(this$0) {
    return function (ev) {
      this$0.b5p_1.m5p();
      this$0.h24(ev.buttons);
      return Unit_getInstance();
    };
  }
  function JsInputManager$installInputHandlers$lambda_1(this$0) {
    return function (ev) {
      this$0.h24(ev.buttons);
      return Unit_getInstance();
    };
  }
  function JsInputManager$installInputHandlers$lambda_2(this$0) {
    return function (it) {
      this$0.j24();
      return Unit_getInstance();
    };
  }
  function JsInputManager$installInputHandlers$lambda_3(this$0) {
    return function (ev) {
      var yTicks = -ev.deltaY / 3.0;
      var xTicks = -ev.deltaX / 3.0;
      var tmp;
      if (ev.deltaMode === 0) {
        yTicks = yTicks / 30.0;
        xTicks = xTicks / 30.0;
        tmp = Unit_getInstance();
      }
      this$0.i24(xTicks, yTicks);
      ev.preventDefault();
      return Unit_getInstance();
    };
  }
  function JsInputManager$installInputHandlers$lambda_4(this$0) {
    return function (it) {
      this$0.b5p_1.l5p(this$0.z5o_1);
      return Unit_getInstance();
    };
  }
  function JsInputManager$installInputHandlers$lambda_5(this$0) {
    return function (ev) {
      ev.preventDefault();
      var changedTouches = (ev instanceof TouchEvent ? ev : THROW_CCE()).changedTouches;
      var inductionVariable = 0;
      var last = changedTouches.length;
      var tmp;
      if (inductionVariable < last) {
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          var touch = changedTouches.item(i);
          this$0.c24(touch.identifier, get_elementX(touch), get_elementY(touch));
        }
         while (inductionVariable < last);
        tmp = Unit_getInstance();
      }
      return Unit_getInstance();
    };
  }
  function JsInputManager$installInputHandlers$lambda_6(this$0) {
    return function (ev) {
      ev.preventDefault();
      var changedTouches = (ev instanceof TouchEvent ? ev : THROW_CCE()).changedTouches;
      var inductionVariable = 0;
      var last = changedTouches.length;
      var tmp;
      if (inductionVariable < last) {
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          var touch = changedTouches.item(i);
          this$0.d24(touch.identifier);
        }
         while (inductionVariable < last);
        tmp = Unit_getInstance();
      }
      return Unit_getInstance();
    };
  }
  function JsInputManager$installInputHandlers$lambda_7(this$0) {
    return function (ev) {
      ev.preventDefault();
      var changedTouches = (ev instanceof TouchEvent ? ev : THROW_CCE()).changedTouches;
      var inductionVariable = 0;
      var last = changedTouches.length;
      var tmp;
      if (inductionVariable < last) {
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          var touch = changedTouches.item(i);
          this$0.e24(touch.identifier);
        }
         while (inductionVariable < last);
        tmp = Unit_getInstance();
      }
      return Unit_getInstance();
    };
  }
  function JsInputManager$installInputHandlers$lambda_8(this$0) {
    return function (ev) {
      ev.preventDefault();
      var changedTouches = (ev instanceof TouchEvent ? ev : THROW_CCE()).changedTouches;
      var inductionVariable = 0;
      var last = changedTouches.length;
      var tmp;
      if (inductionVariable < last) {
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          var touch = changedTouches.item(i);
          this$0.f24(touch.identifier, get_elementX(touch), get_elementY(touch));
        }
         while (inductionVariable < last);
        tmp = Unit_getInstance();
      }
      return Unit_getInstance();
    };
  }
  function JsInputManager$installInputHandlers$lambda_9(this$0) {
    return function (ev) {
      handleKeyDown(this$0, ev);
      return Unit_getInstance();
    };
  }
  function JsInputManager$installInputHandlers$lambda_10(this$0) {
    return function (ev) {
      handleKeyUp(this$0, ev);
      return Unit_getInstance();
    };
  }
  function JsInputManager(canvas, props) {
    Companion_getInstance_46();
    InputManager.call(this);
    this.z5o_1 = canvas;
    this.a5p_1 = props;
    this.b5p_1 = new PointerLockState(this, this.z5o_1);
    this.c5p_1 = MutableVec2d_init_$Create$();
    this.d5p_1 = CursorShape_DEFAULT_getInstance();
    installInputHandlers(this);
  }
  JsInputManager.prototype.o27 = function () {
    return this.b5p_1.i5p_1;
  };
  JsInputManager.$metadata$ = classMeta('JsInputManager', undefined, undefined, undefined, undefined, InputManager.prototype);
  function KeyValueStorageJs(assetManager) {
    this.n5p_1 = assetManager;
  }
  KeyValueStorageJs.$metadata$ = classMeta('KeyValueStorageJs', [KeyValueStorage]);
  function get_glInternalFormat(_this__u8e3s4) {
    var tmp0_subject = _this__u8e3s4;
    var tmp0 = tmp0_subject.w1();
    var tmp;
    switch (tmp0) {
      case 0:
        tmp = WebGL2RenderingContext.R8;
        break;
      case 1:
        tmp = WebGL2RenderingContext.RG8;
        break;
      case 2:
        tmp = WebGL2RenderingContext.RGB8;
        break;
      case 3:
        tmp = WebGL2RenderingContext.RGBA8;
        break;
      case 4:
        tmp = WebGL2RenderingContext.R16F;
        break;
      case 5:
        tmp = WebGL2RenderingContext.RG16F;
        break;
      case 6:
        tmp = WebGL2RenderingContext.RGB16F;
        break;
      case 7:
        tmp = WebGL2RenderingContext.RGBA16F;
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    return tmp;
  }
  function get_pxSize(_this__u8e3s4) {
    var tmp0_subject = _this__u8e3s4;
    var tmp0 = tmp0_subject.w1();
    var tmp;
    switch (tmp0) {
      case 0:
        tmp = 1;
        break;
      case 1:
        tmp = 2;
        break;
      case 2:
        tmp = 3;
        break;
      case 3:
        tmp = 4;
        break;
      case 4:
        tmp = 2;
        break;
      case 5:
        tmp = 4;
        break;
      case 6:
        tmp = 6;
        break;
      case 7:
        tmp = 8;
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    return tmp;
  }
  function get_glOp(_this__u8e3s4) {
    var tmp0_subject = _this__u8e3s4;
    var tmp0 = tmp0_subject.w1();
    var tmp;
    switch (tmp0) {
      case 0:
        tmp = 0;
        break;
      case 1:
        tmp = WebGLRenderingContext.ALWAYS;
        break;
      case 2:
        tmp = WebGLRenderingContext.NEVER;
        break;
      case 3:
        tmp = WebGLRenderingContext.LESS;
        break;
      case 4:
        tmp = WebGLRenderingContext.LEQUAL;
        break;
      case 5:
        tmp = WebGLRenderingContext.GREATER;
        break;
      case 6:
        tmp = WebGLRenderingContext.GEQUAL;
        break;
      case 7:
        tmp = WebGLRenderingContext.EQUAL;
        break;
      case 8:
        tmp = WebGLRenderingContext.NOTEQUAL;
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    return tmp;
  }
  function get_glFormat(_this__u8e3s4) {
    var tmp0_subject = _this__u8e3s4;
    var tmp0 = tmp0_subject.w1();
    var tmp;
    switch (tmp0) {
      case 0:
        tmp = WebGL2RenderingContext.RED;
        break;
      case 1:
        tmp = WebGL2RenderingContext.RG;
        break;
      case 2:
        tmp = WebGLRenderingContext.RGB;
        break;
      case 3:
        tmp = WebGLRenderingContext.RGBA;
        break;
      case 4:
        tmp = WebGL2RenderingContext.RED;
        break;
      case 5:
        tmp = WebGL2RenderingContext.RG;
        break;
      case 6:
        tmp = WebGLRenderingContext.RGB;
        break;
      case 7:
        tmp = WebGLRenderingContext.RGBA;
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    return tmp;
  }
  function get_glType(_this__u8e3s4) {
    var tmp0_subject = _this__u8e3s4;
    var tmp0 = tmp0_subject.w1();
    var tmp;
    switch (tmp0) {
      case 0:
        tmp = WebGLRenderingContext.UNSIGNED_BYTE;
        break;
      case 1:
        tmp = WebGLRenderingContext.UNSIGNED_BYTE;
        break;
      case 2:
        tmp = WebGLRenderingContext.UNSIGNED_BYTE;
        break;
      case 3:
        tmp = WebGLRenderingContext.UNSIGNED_BYTE;
        break;
      case 4:
        tmp = WebGLRenderingContext.FLOAT;
        break;
      case 5:
        tmp = WebGLRenderingContext.FLOAT;
        break;
      case 6:
        tmp = WebGLRenderingContext.FLOAT;
        break;
      case 7:
        tmp = WebGLRenderingContext.FLOAT;
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    return tmp;
  }
  function Companion_47() {
    Companion_instance_47 = this;
    this.o5p_1 = new Long(1, 0);
  }
  Companion_47.$metadata$ = objectMeta('Companion');
  var Companion_instance_47;
  function Companion_getInstance_47() {
    if (Companion_instance_47 == null)
      new Companion_47();
    return Companion_instance_47;
  }
  function BufferResource(target, ctx) {
    Companion_getInstance_47();
    this.p5p_1 = target;
    var tmp = this;
    var tmp0_this = Companion_getInstance_47();
    var tmp1 = tmp0_this.o5p_1;
    tmp0_this.o5p_1 = tmp1.yl();
    tmp.q5p_1 = tmp1;
    this.r5p_1 = ctx.r5h_1.createBuffer();
  }
  BufferResource.prototype.s5p = function (ctx) {
    ctx.l2a().d1y(this.q5p_1);
    ctx.r5h_1.deleteBuffer(this.r5p_1);
  };
  BufferResource.prototype.t5p = function (ctx) {
    ctx.r5h_1.bindBuffer(this.p5p_1, this.r5p_1);
  };
  BufferResource.prototype.u5p = function (data, usage, length, ctx) {
    var limit = data.a5e();
    var pos = data.qr();
    data.y3s();
    this.t5p(ctx);
    ctx.l2a().d1y(this.q5p_1);
    ctx.r5h_1.bufferData(this.p5p_1, (data instanceof Float32BufferImpl ? data : THROW_CCE()).yh(), usage, 0, length);
    ctx.l2a().c1y(this.q5p_1, imul(data.b1w(), 4));
    data.x57(limit);
    data.d4m(pos);
  };
  BufferResource.prototype.z5p = function (data, usage, length, ctx) {
    var limit = data.a5e();
    var pos = data.qr();
    data.y3s();
    this.t5p(ctx);
    ctx.l2a().d1y(this.q5p_1);
    ctx.r5h_1.bufferData(this.p5p_1, (data instanceof MixedBufferImpl ? data : THROW_CCE()).yh(), usage, 0, length);
    ctx.l2a().c1y(this.q5p_1, data.b1w());
    data.x57(limit);
    data.d4m(pos);
  };
  BufferResource.prototype.a5q = function (data, usage, length, ctx) {
    var limit = data.a5e();
    var pos = data.qr();
    data.y3s();
    this.t5p(ctx);
    ctx.l2a().d1y(this.q5p_1);
    ctx.r5h_1.bufferData(this.p5p_1, (data instanceof Uint32BufferImpl ? data : THROW_CCE()).yh(), usage, 0, length);
    ctx.l2a().c1y(this.q5p_1, imul(data.b1w(), 4));
    data.x57(limit);
    data.d4m(pos);
  };
  BufferResource.$metadata$ = classMeta('BufferResource');
  function mapPushConstants($this, pc) {
    $this.e5q_1.b(pc);
    {
      var tmp0_forEach = pc.v4v_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var tmp0_this = $this;
          {
            var tmp0_plusAssign = tmp0_this.k5q_1;
            var tmp = Companion_getInstance_49();
            var tmp1_safe_receiver = $this.x5q_1.d5r_1.z2(element.g2r_1);
            var tmp1_plusAssign = tmp.g5r(element, tmp1_safe_receiver == null ? null : tmp1_safe_receiver.r(0));
            tmp0_plusAssign.b(tmp1_plusAssign);
          }
        }
      }
    }
  }
  function mapUbo($this, ubo) {
    $this.f5q_1.b(ubo);
    var uboLayout = $this.x5q_1.e5r_1.z2(ubo.il());
    if (!(uboLayout == null)) {
      var tmp0_this = $this;
      {
        var tmp0_plusAssign = tmp0_this.k5q_1;
        var tmp1_plusAssign = new MappedUbo(ubo, uboLayout);
        tmp0_plusAssign.b(tmp1_plusAssign);
      }
    } else {
      {
        var tmp2_forEach = ubo.w2u_1;
        var tmp0_iterator = tmp2_forEach.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          {
            var location = $this.x5q_1.d5r_1.z2(element.g2r_1);
            if (!(location == null)) {
              var tmp0_this_0 = $this;
              {
                var tmp0_plusAssign_0 = tmp0_this_0.k5q_1;
                var tmp1_plusAssign_0 = Companion_getInstance_49().g5r(element, location.r(0));
                tmp0_plusAssign_0.b(tmp1_plusAssign_0);
              }
            } else {
              var tmp$ret$3;
              {
                var tmp$ret$2;
                {
                  var tmp2_eExt = Log_getInstance();
                  var tmp$ret$1;
                  {
                    var tmp1_logExt = Level_ERROR_getInstance();
                    var tmp0_log = getKClassFromExpression($this).ei();
                    var tmp;
                    if (tmp1_logExt.e1w_1 >= tmp2_eExt.y1v_1.e1w_1) {
                      var tmp_0 = tmp2_eExt.z1v_1;
                      var tmp$ret$0;
                      {
                        tmp$ret$0 = 'Uniform location not present for uniform ' + ubo.il() + '.' + element.g2r_1;
                      }
                      tmp = tmp_0(tmp1_logExt, tmp0_log, tmp$ret$0);
                    }
                    tmp$ret$1 = tmp;
                  }
                  tmp$ret$2 = tmp$ret$1;
                }
                tmp$ret$3 = tmp$ret$2;
              }
            }
          }
        }
      }
    }
  }
  function mapTexture1d($this, tex) {
    $this.g5q_1.b(tex);
    var tmp0_safe_receiver = $this.x5q_1.d5r_1.z2(tex.il());
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        var tmp0_this = $this;
        {
          var tmp0_plusAssign = tmp0_this.k5q_1;
          var tmp1_plusAssign = new MappedUniformTex1d(tex, $this.t5q_1, tmp0_safe_receiver);
          tmp0_plusAssign.b(tmp1_plusAssign);
        }
        var tmp1_this = $this;
        tmp1_this.t5q_1 = tmp1_this.t5q_1 + tmp0_safe_receiver.m() | 0;
        tmp$ret$0 = Unit_getInstance();
      }
    }
  }
  function mapTexture2d($this, tex) {
    $this.h5q_1.b(tex);
    var tmp0_safe_receiver = $this.x5q_1.d5r_1.z2(tex.il());
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        var tmp0_this = $this;
        {
          var tmp0_plusAssign = tmp0_this.k5q_1;
          var tmp1_plusAssign = new MappedUniformTex2d(tex, $this.t5q_1, tmp0_safe_receiver);
          tmp0_plusAssign.b(tmp1_plusAssign);
        }
        var tmp1_this = $this;
        tmp1_this.t5q_1 = tmp1_this.t5q_1 + tmp0_safe_receiver.m() | 0;
        tmp$ret$0 = Unit_getInstance();
      }
    }
  }
  function mapTexture3d($this, tex) {
    $this.i5q_1.b(tex);
    var tmp0_safe_receiver = $this.x5q_1.d5r_1.z2(tex.il());
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        var tmp0_this = $this;
        {
          var tmp0_plusAssign = tmp0_this.k5q_1;
          var tmp1_plusAssign = new MappedUniformTex3d(tex, $this.t5q_1, tmp0_safe_receiver);
          tmp0_plusAssign.b(tmp1_plusAssign);
        }
        var tmp1_this = $this;
        tmp1_this.t5q_1 = tmp1_this.t5q_1 + tmp0_safe_receiver.m() | 0;
        tmp$ret$0 = Unit_getInstance();
      }
    }
  }
  function mapTextureCube($this, cubeMap) {
    $this.j5q_1.b(cubeMap);
    var tmp0_safe_receiver = $this.x5q_1.d5r_1.z2(cubeMap.il());
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        var tmp0_this = $this;
        {
          var tmp0_plusAssign = tmp0_this.k5q_1;
          var tmp1_plusAssign = new MappedUniformTexCube(cubeMap, $this.t5q_1, tmp0_safe_receiver);
          tmp0_plusAssign.b(tmp1_plusAssign);
        }
        var tmp1_this = $this;
        tmp1_this.t5q_1 = tmp1_this.t5q_1 + tmp0_safe_receiver.m() | 0;
        tmp$ret$0 = Unit_getInstance();
      }
    }
  }
  function destroyBuffers($this) {
    $this.l5q_1.t7();
    $this.m5q_1.t7();
    var tmp0_safe_receiver = $this.n5q_1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      tmp0_safe_receiver.s5p($this.x5q_1.z5q_1);
    }
    var tmp1_safe_receiver = $this.o5q_1;
    if (tmp1_safe_receiver == null)
      null;
    else {
      tmp1_safe_receiver.s5p($this.x5q_1.z5q_1);
    }
    var tmp2_safe_receiver = $this.p5q_1;
    if (tmp2_safe_receiver == null)
      null;
    else {
      tmp2_safe_receiver.s5p($this.x5q_1.z5q_1);
    }
    var tmp3_safe_receiver = $this.q5q_1;
    if (tmp3_safe_receiver == null)
      null;
    else {
      tmp3_safe_receiver.s5p($this.x5q_1.z5q_1);
    }
    {
      var tmp0_forEach = $this.r5q_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          element.s5p($this.x5q_1.z5q_1);
        }
      }
    }
    $this.n5q_1 = null;
    $this.o5q_1 = null;
    $this.p5q_1 = null;
    $this.q5q_1 = null;
    $this.s5q_1 = false;
    $this.r5q_1.t7();
  }
  function checkBuffers($this) {
    var md = $this.b5q_1;
    if ($this.p5q_1 == null) {
      $this.p5q_1 = new BufferResource(WebGLRenderingContext.ELEMENT_ARRAY_BUFFER, $this.x5q_1.z5q_1);
      {
        var tmp$ret$1;
        {
          var tmp0_filterIsInstance = $this.k5q_1;
          var tmp$ret$0;
          {
            var tmp0_filterIsInstanceTo = ArrayList_init_$Create$_0();
            var tmp0_iterator = tmp0_filterIsInstance.h();
            while (tmp0_iterator.n()) {
              var element = tmp0_iterator.o();
              if (element instanceof MappedUbo) {
                tmp0_filterIsInstanceTo.b(element);
              }
            }
            tmp$ret$0 = tmp0_filterIsInstanceTo;
          }
          tmp$ret$1 = tmp$ret$0;
        }
        var tmp1_forEach = tmp$ret$1;
        var tmp0_iterator_0 = tmp1_forEach.h();
        while (tmp0_iterator_0.n()) {
          var element_0 = tmp0_iterator_0.o();
          {
            var uboBuffer = new BufferResource(WebGL2RenderingContext.UNIFORM_BUFFER, $this.x5q_1.z5q_1);
            var tmp0_this = $this;
            {
              var tmp0_plusAssign = tmp0_this.r5q_1;
              tmp0_plusAssign.b(uboBuffer);
            }
            element_0.j5r_1 = uboBuffer;
          }
        }
      }
    }
    var hasIntData = false;
    if ($this.n5q_1 == null) {
      $this.n5q_1 = new BufferResource(WebGLRenderingContext.ARRAY_BUFFER, $this.x5q_1.z5q_1);
      var tmp0_iterator_1 = md.a2p_1.h();
      while (tmp0_iterator_1.n()) {
        var vertexAttrib = tmp0_iterator_1.o();
        if (vertexAttrib.t2p_1.b2q_1) {
          hasIntData = true;
        } else {
          var stride = md.d2p_1;
          var offset = ensureNotNull(md.g2p_1.z2(vertexAttrib)) / 4 | 0;
          var tmp1_this = $this;
          {
            var tmp2_plusAssign = tmp1_this.l5q_1;
            var tmp3_plusAssign = makeAttribBinders($this.x5q_1.b5r_1, $this.x5q_1, vertexAttrib, ensureNotNull($this.n5q_1), stride, offset);
            addAll(tmp2_plusAssign, tmp3_plusAssign);
          }
        }
      }
    }
    if (hasIntData ? $this.o5q_1 == null : false) {
      $this.o5q_1 = new BufferResource(WebGLRenderingContext.ARRAY_BUFFER, $this.x5q_1.z5q_1);
      var tmp2_iterator = md.a2p_1.h();
      while (tmp2_iterator.n()) {
        var vertexAttrib_0 = tmp2_iterator.o();
        if (vertexAttrib_0.t2p_1.b2q_1) {
          var tmp3_safe_receiver = $this.x5q_1.b5r_1.z2(vertexAttrib_0.s2p_1);
          if (tmp3_safe_receiver == null)
            null;
          else {
            var tmp$ret$2;
            {
              {
              }
              var vbo = new VboBinder(ensureNotNull($this.o5q_1), vertexAttrib_0.t2p_1.a2q_1 / 4 | 0, md.f2p_1, ensureNotNull(md.g2p_1.z2(vertexAttrib_0)) / 4 | 0, WebGLRenderingContext.INT);
              var tmp0_this_0 = $this;
              var tmp0_plusAssign_0 = tmp0_this_0.l5q_1;
              var tmp1_plusAssign = new AttributeOnLocation(vbo, tmp3_safe_receiver.r52_1);
              tmp0_plusAssign_0.b(tmp1_plusAssign);
              tmp$ret$2 = Unit_getInstance();
            }
          }
        }
      }
    }
    var instanceList = $this.c5q_1;
    if (!(instanceList == null)) {
      var instBuf = $this.q5q_1;
      var isNewlyCreated = false;
      if (instBuf == null) {
        instBuf = new BufferResource(WebGLRenderingContext.ARRAY_BUFFER, $this.x5q_1.z5q_1);
        $this.q5q_1 = instBuf;
        isNewlyCreated = true;
        var tmp4_iterator = instanceList.h2q_1.h();
        while (tmp4_iterator.n()) {
          var instanceAttrib = tmp4_iterator.o();
          var stride_0 = instanceList.k2q_1;
          var offset_0 = ensureNotNull(instanceList.i2q_1.z2(instanceAttrib)) / 4 | 0;
          var tmp5_this = $this;
          {
            var tmp4_plusAssign = tmp5_this.m5q_1;
            var tmp5_plusAssign = makeAttribBinders($this.x5q_1.c5r_1, $this.x5q_1, instanceAttrib, ensureNotNull($this.q5q_1), stride_0, offset_0);
            addAll(tmp4_plusAssign, tmp5_plusAssign);
          }
        }
      }
      if (instanceList.q2q_1 ? true : isNewlyCreated) {
        var len = imul(instanceList.m2q_1, instanceList.j2q_1);
        instBuf.u5p(instanceList.n2q_1, glUsage(instanceList.l2q_1, $this.x5q_1), len, $this.x5q_1.z5q_1);
        var tmp6_this = $this.x5q_1.z5q_1;
        {
          var tmp6_plusAssign = tmp6_this.m5h_1;
          tmp6_plusAssign.b(CompiledShader$ShaderInstance$checkBuffers$lambda(instanceList));
        }
      }
    }
    if (!md.r2p_1 ? md.q2p_1 ? true : !$this.s5q_1 : false) {
      var usage = glUsage(md.i2p_1, $this.x5q_1);
      var fLen = imul(md.c2p_1, md.j2p_1);
      var iLen = imul(md.e2p_1, md.j2p_1);
      $this.v5q_1 = WebGLRenderingContext.UNSIGNED_INT;
      var tmp7_safe_receiver = $this.p5q_1;
      if (tmp7_safe_receiver == null)
        null;
      else {
        tmp7_safe_receiver.a5q(md.m2p_1, usage, md.n3t(), $this.x5q_1.z5q_1);
      }
      $this.w5q_1 = glElemType($this.d5q_1.g2u_1.v2t_1.p4v_1, $this.x5q_1);
      $this.u5q_1 = md.n3t();
      var tmp8_safe_receiver = $this.n5q_1;
      if (tmp8_safe_receiver == null)
        null;
      else {
        tmp8_safe_receiver.u5p(md.k2p_1, usage, fLen, $this.x5q_1.z5q_1);
      }
      var tmp9_safe_receiver = $this.o5q_1;
      if (tmp9_safe_receiver == null)
        null;
      else {
        tmp9_safe_receiver.a5q(md.l2p_1, usage, iLen, $this.x5q_1.z5q_1);
      }
      var tmp10_this = $this.x5q_1.z5q_1;
      {
        var tmp7_plusAssign = tmp10_this.m5h_1;
        tmp7_plusAssign.b(CompiledShader$ShaderInstance$checkBuffers$lambda_0(md));
      }
      $this.s5q_1 = true;
    }
  }
  function CompiledShader$ShaderInstance$checkBuffers$lambda($instanceList) {
    return function () {
      $instanceList.q2q_1 = false;
      return Unit_getInstance();
    };
  }
  function CompiledShader$ShaderInstance$checkBuffers$lambda_0($md) {
    return function () {
      $md.q2p_1 = false;
      return Unit_getInstance();
    };
  }
  function setupUboLayout($this, desc, blockIndex) {
    var bufferSize = $this.z5q_1.r5h_1.getActiveUniformBlockParameter($this.y5q_1, blockIndex, WebGL2RenderingContext.UNIFORM_BLOCK_DATA_SIZE);
    var tmp$ret$3;
    {
      var tmp$ret$2;
      {
        var tmp0_map = desc.w2u_1;
        var tmp$ret$1;
        {
          var tmp0_mapTo = ArrayList_init_$Create$(collectionSizeOrDefault(tmp0_map, 10));
          var tmp0_iterator = tmp0_map.h();
          while (tmp0_iterator.n()) {
            var item = tmp0_iterator.o();
            var tmp$ret$0;
            {
              var tmp;
              if (item.h2r_1 > 1) {
                tmp = item.g2r_1 + '[0]';
              } else {
                tmp = item.g2r_1;
              }
              tmp$ret$0 = tmp;
            }
            tmp0_mapTo.b(tmp$ret$0);
          }
          tmp$ret$1 = tmp0_mapTo;
        }
        tmp$ret$2 = tmp$ret$1;
      }
      var tmp1_toTypedArray = tmp$ret$2;
      tmp$ret$3 = copyToArray(tmp1_toTypedArray);
    }
    var uniformNames = tmp$ret$3;
    var indices = $this.z5q_1.r5h_1.getUniformIndices($this.y5q_1, uniformNames);
    var offsets = $this.z5q_1.r5h_1.getActiveUniforms($this.y5q_1, indices, WebGL2RenderingContext.UNIFORM_OFFSET);
    var sortedOffsets = sorted(offsets);
    var tmp_0 = 0;
    var tmp_1 = desc.w2u_1.m();
    var tmp$ret$4;
    {
      tmp$ret$4 = fillArrayVal(Array(tmp_1), null);
    }
    var tmp_2 = tmp$ret$4;
    while (tmp_0 < tmp_1) {
      var tmp_3 = tmp_0;
      var tmp$ret$5;
      {
        var off = offsets[tmp_3];
        var nextOffI = sortedOffsets.u(off) + 1 | 0;
        var nextOff = nextOffI < sortedOffsets.m() ? sortedOffsets.r(nextOffI) : bufferSize;
        tmp$ret$5 = new BufferPosition(off, nextOff - off | 0);
      }
      tmp_2[tmp_3] = tmp$ret$5;
      tmp_0 = tmp_0 + 1 | 0;
    }
    var bufferPositions = tmp_2;
    $this.z5q_1.r5h_1.uniformBlockBinding($this.y5q_1, blockIndex, desc.m4n());
    {
      var tmp2_set = $this.e5r_1;
      var tmp3_set = desc.il();
      var tmp4_set = new ExternalBufferLayout(desc.w2u_1, bufferPositions, bufferSize);
      tmp2_set.a(tmp3_set, tmp4_set);
    }
  }
  function getUniformLocations($this, name, arraySize) {
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    var locations = tmp$ret$0;
    if (arraySize > 1) {
      var inductionVariable = 0;
      if (inductionVariable < arraySize)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          {
            var tmp0_plusAssign = $this.z5q_1.r5h_1.getUniformLocation($this.y5q_1, name + '[' + i + ']');
            locations.b(tmp0_plusAssign);
          }
        }
         while (inductionVariable < arraySize);
    } else {
      {
        var tmp1_plusAssign = $this.z5q_1.r5h_1.getUniformLocation($this.y5q_1, name);
        locations.b(tmp1_plusAssign);
      }
    }
    return locations;
  }
  function ShaderInstance($outer, geometry, instances, pipeline) {
    this.x5q_1 = $outer;
    this.b5q_1 = geometry;
    this.c5q_1 = instances;
    this.d5q_1 = pipeline;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.e5q_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = ArrayList_init_$Create$_0();
    }
    tmp_0.f5q_1 = tmp$ret$1;
    var tmp_1 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = ArrayList_init_$Create$_0();
    }
    tmp_1.g5q_1 = tmp$ret$2;
    var tmp_2 = this;
    var tmp$ret$3;
    {
      tmp$ret$3 = ArrayList_init_$Create$_0();
    }
    tmp_2.h5q_1 = tmp$ret$3;
    var tmp_3 = this;
    var tmp$ret$4;
    {
      tmp$ret$4 = ArrayList_init_$Create$_0();
    }
    tmp_3.i5q_1 = tmp$ret$4;
    var tmp_4 = this;
    var tmp$ret$5;
    {
      tmp$ret$5 = ArrayList_init_$Create$_0();
    }
    tmp_4.j5q_1 = tmp$ret$5;
    var tmp_5 = this;
    var tmp$ret$6;
    {
      tmp$ret$6 = ArrayList_init_$Create$_0();
    }
    tmp_5.k5q_1 = tmp$ret$6;
    var tmp_6 = this;
    var tmp$ret$7;
    {
      tmp$ret$7 = ArrayList_init_$Create$_0();
    }
    tmp_6.l5q_1 = tmp$ret$7;
    var tmp_7 = this;
    var tmp$ret$8;
    {
      tmp$ret$8 = ArrayList_init_$Create$_0();
    }
    tmp_7.m5q_1 = tmp$ret$8;
    this.n5q_1 = null;
    this.o5q_1 = null;
    this.p5q_1 = null;
    this.q5q_1 = null;
    var tmp_8 = this;
    var tmp$ret$9;
    {
      tmp$ret$9 = ArrayList_init_$Create$_0();
    }
    tmp_8.r5q_1 = tmp$ret$9;
    this.s5q_1 = false;
    this.t5q_1 = WebGLRenderingContext.TEXTURE0;
    this.u5q_1 = 0;
    this.v5q_1 = 0;
    this.w5q_1 = 0;
    {
      var tmp0_forEach = this.d5q_1.g2u_1.w2t_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          {
            var tmp0_forEach_0 = element.k2u_1;
            var tmp0_iterator_0 = tmp0_forEach_0.h();
            while (tmp0_iterator_0.n()) {
              var element_0 = tmp0_iterator_0.o();
              {
                var tmp0_subject = element_0;
                if (tmp0_subject instanceof UniformBuffer)
                  mapUbo(this, element_0);
                else {
                  if (tmp0_subject instanceof TextureSampler1d)
                    mapTexture1d(this, element_0);
                  else {
                    if (tmp0_subject instanceof TextureSampler2d)
                      mapTexture2d(this, element_0);
                    else {
                      if (tmp0_subject instanceof TextureSampler3d)
                        mapTexture3d(this, element_0);
                      else {
                        if (tmp0_subject instanceof TextureSamplerCube)
                          mapTextureCube(this, element_0);
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    {
      var tmp1_forEach = this.d5q_1.g2u_1.x2t_1;
      var tmp0_iterator_1 = tmp1_forEach.h();
      while (tmp0_iterator_1.n()) {
        var element_1 = tmp0_iterator_1.o();
        {
          mapPushConstants(this, element_1);
        }
      }
    }
    this.x5q_1.z5q_1.l2a().g1y(this.x5q_1.a5r_1);
  }
  ShaderInstance.prototype.l5r = function (drawCmd) {
    if (!(this.b5q_1 === drawCmd.n35_1)) {
      this.b5q_1 = drawCmd.n35_1;
      destroyBuffers(this);
    }
    var inductionVariable = 0;
    var last = this.d5q_1.i2u_1.m() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.d5q_1.i2u_1.r(i)(drawCmd);
      }
       while (inductionVariable <= last);
    var inductionVariable_0 = 0;
    var last_0 = this.e5q_1.m() - 1 | 0;
    if (inductionVariable_0 <= last_0)
      do {
        var i_0 = inductionVariable_0;
        inductionVariable_0 = inductionVariable_0 + 1 | 0;
        var tmp2_safe_receiver = this.e5q_1.r(i_0).c4w_1;
        if (tmp2_safe_receiver == null)
          null;
        else
          tmp2_safe_receiver(this.e5q_1.r(i_0), drawCmd);
      }
       while (inductionVariable_0 <= last_0);
    var inductionVariable_1 = 0;
    var last_1 = this.f5q_1.m() - 1 | 0;
    if (inductionVariable_1 <= last_1)
      do {
        var i_1 = inductionVariable_1;
        inductionVariable_1 = inductionVariable_1 + 1 | 0;
        var tmp4_safe_receiver = this.f5q_1.r(i_1).y2u_1;
        if (tmp4_safe_receiver == null)
          null;
        else
          tmp4_safe_receiver(this.f5q_1.r(i_1), drawCmd);
      }
       while (inductionVariable_1 <= last_1);
    var inductionVariable_2 = 0;
    var last_2 = this.g5q_1.m() - 1 | 0;
    if (inductionVariable_2 <= last_2)
      do {
        var i_2 = inductionVariable_2;
        inductionVariable_2 = inductionVariable_2 + 1 | 0;
        var tmp6_safe_receiver = this.g5q_1.r(i_2).q4m_1;
        if (tmp6_safe_receiver == null)
          null;
        else
          tmp6_safe_receiver(this.g5q_1.r(i_2), drawCmd);
      }
       while (inductionVariable_2 <= last_2);
    var inductionVariable_3 = 0;
    var last_3 = this.h5q_1.m() - 1 | 0;
    if (inductionVariable_3 <= last_3)
      do {
        var i_3 = inductionVariable_3;
        inductionVariable_3 = inductionVariable_3 + 1 | 0;
        var tmp8_safe_receiver = this.h5q_1.r(i_3).u2s_1;
        if (tmp8_safe_receiver == null)
          null;
        else
          tmp8_safe_receiver(this.h5q_1.r(i_3), drawCmd);
      }
       while (inductionVariable_3 <= last_3);
    var inductionVariable_4 = 0;
    var last_4 = this.i5q_1.m() - 1 | 0;
    if (inductionVariable_4 <= last_4)
      do {
        var i_4 = inductionVariable_4;
        inductionVariable_4 = inductionVariable_4 + 1 | 0;
        var tmp10_safe_receiver = this.i5q_1.r(i_4).a4n_1;
        if (tmp10_safe_receiver == null)
          null;
        else
          tmp10_safe_receiver(this.i5q_1.r(i_4), drawCmd);
      }
       while (inductionVariable_4 <= last_4);
    var inductionVariable_5 = 0;
    var last_5 = this.j5q_1.m() - 1 | 0;
    if (inductionVariable_5 <= last_5)
      do {
        var i_5 = inductionVariable_5;
        inductionVariable_5 = inductionVariable_5 + 1 | 0;
        var tmp12_safe_receiver = this.j5q_1.r(i_5).j4n_1;
        if (tmp12_safe_receiver == null)
          null;
        else
          tmp12_safe_receiver(this.j5q_1.r(i_5), drawCmd);
      }
       while (inductionVariable_5 <= last_5);
    checkBuffers(this);
    var uniformsValid = true;
    var inductionVariable_6 = 0;
    var last_6 = this.k5q_1.m() - 1 | 0;
    if (inductionVariable_6 <= last_6)
      do {
        var i_6 = inductionVariable_6;
        inductionVariable_6 = inductionVariable_6 + 1 | 0;
        uniformsValid = uniformsValid ? this.k5q_1.r(i_6).m5r(this.x5q_1.z5q_1) : false;
      }
       while (inductionVariable_6 <= last_6);
    if (uniformsValid) {
      var tmp14_safe_receiver = this.p5q_1;
      if (tmp14_safe_receiver == null)
        null;
      else {
        tmp14_safe_receiver.t5p(this.x5q_1.z5q_1);
      }
      {
        var tmp0_forEach = this.l5q_1;
        var tmp0_iterator = tmp0_forEach.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          {
            element.n5r_1.u5r(element.o5r_1, this.x5q_1.z5q_1);
          }
        }
      }
      {
        var tmp1_forEach = this.m5q_1;
        var tmp0_iterator_0 = tmp1_forEach.h();
        while (tmp0_iterator_0.n()) {
          var element_0 = tmp0_iterator_0.o();
          {
            element_0.n5r_1.u5r(element_0.o5r_1, this.x5q_1.z5q_1);
          }
        }
      }
    }
    return uniformsValid;
  };
  ShaderInstance.prototype.v5r = function () {
    destroyBuffers(this);
    this.e5q_1.t7();
    this.f5q_1.t7();
    this.g5q_1.t7();
    this.h5q_1.t7();
    this.i5q_1.t7();
    this.j5q_1.t7();
    this.k5q_1.t7();
  };
  ShaderInstance.$metadata$ = classMeta('ShaderInstance');
  function makeAttribBinders(_this__u8e3s4, $this, attr, buffer, stride, offset) {
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    var binders = tmp$ret$0;
    var tmp0_safe_receiver = _this__u8e3s4.z2(attr.s2p_1);
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$1;
      {
        {
        }
        var inductionVariable = 0;
        var last = attr.u2p_1.d2q_1;
        var tmp;
        if (inductionVariable < last) {
          do {
            var i = inductionVariable;
            inductionVariable = inductionVariable + 1 | 0;
            var off = offset + imul(attr.u2p_1.e2q_1, i) | 0;
            var vbo = new VboBinder(buffer, attr.u2p_1.e2q_1, stride, off, WebGLRenderingContext.FLOAT);
            {
              var tmp0_plusAssign = new AttributeOnLocation(vbo, tmp0_safe_receiver.r52_1 + i | 0);
              binders.b(tmp0_plusAssign);
            }
          }
           while (inductionVariable < last);
          tmp = Unit_getInstance();
        }
        tmp$ret$1 = tmp;
      }
    }
    return binders;
  }
  function glElemType(_this__u8e3s4, $this) {
    var tmp0_subject = _this__u8e3s4;
    var tmp0 = tmp0_subject.w1();
    var tmp;
    switch (tmp0) {
      case 0:
        tmp = WebGLRenderingContext.LINES;
        break;
      case 1:
        tmp = WebGLRenderingContext.POINTS;
        break;
      case 2:
        tmp = WebGLRenderingContext.TRIANGLES;
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    return tmp;
  }
  function glUsage(_this__u8e3s4, $this) {
    var tmp0_subject = _this__u8e3s4;
    var tmp0 = tmp0_subject.w1();
    var tmp;
    switch (tmp0) {
      case 0:
        tmp = WebGLRenderingContext.DYNAMIC_DRAW;
        break;
      case 1:
        tmp = WebGLRenderingContext.STATIC_DRAW;
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    return tmp;
  }
  function AttributeOnLocation(vbo, loc) {
    this.n5r_1 = vbo;
    this.o5r_1 = loc;
  }
  AttributeOnLocation.prototype.w5r = function () {
    return this.n5r_1;
  };
  AttributeOnLocation.prototype.x5r = function () {
    return this.o5r_1;
  };
  AttributeOnLocation.prototype.toString = function () {
    return 'AttributeOnLocation(vbo=' + this.n5r_1 + ', loc=' + this.o5r_1 + ')';
  };
  AttributeOnLocation.prototype.hashCode = function () {
    var result = hashCode(this.n5r_1);
    result = imul(result, 31) + this.o5r_1 | 0;
    return result;
  };
  AttributeOnLocation.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof AttributeOnLocation))
      return false;
    var tmp0_other_with_cast = other instanceof AttributeOnLocation ? other : THROW_CCE();
    if (!equals(this.n5r_1, tmp0_other_with_cast.n5r_1))
      return false;
    if (!(this.o5r_1 === tmp0_other_with_cast.o5r_1))
      return false;
    return true;
  };
  AttributeOnLocation.$metadata$ = classMeta('AttributeOnLocation');
  function CompiledShader(prog, pipeline, ctx) {
    this.y5q_1 = prog;
    this.z5q_1 = ctx;
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_toLong = pipeline.z2t_1;
      tmp$ret$0 = _ULong___get_data__impl__fggpzb(tmp0_toLong);
    }
    tmp.a5r_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = LinkedHashMap_init_$Create$();
    }
    tmp_0.b5r_1 = tmp$ret$1;
    var tmp_1 = this;
    var tmp$ret$2;
    {
      tmp$ret$2 = LinkedHashMap_init_$Create$();
    }
    tmp_1.c5r_1 = tmp$ret$2;
    var tmp_2 = this;
    var tmp$ret$3;
    {
      tmp$ret$3 = LinkedHashMap_init_$Create$();
    }
    tmp_2.d5r_1 = tmp$ret$3;
    var tmp_3 = this;
    var tmp$ret$4;
    {
      tmp$ret$4 = LinkedHashMap_init_$Create$();
    }
    tmp_3.e5r_1 = tmp$ret$4;
    var tmp_4 = this;
    var tmp$ret$5;
    {
      tmp$ret$5 = LinkedHashMap_init_$Create$();
    }
    tmp_4.f5r_1 = tmp$ret$5;
    {
      var tmp0_forEach = pipeline.g2u_1.v2t_1.o4v_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          {
            var tmp0_forEach_0 = element.n52_1;
            var tmp0_iterator_0 = tmp0_forEach_0.h();
            while (tmp0_iterator_0.n()) {
              var element_0 = tmp0_iterator_0.o();
              {
                var tmp0_subject = element.m52_1;
                var tmp0 = tmp0_subject.w1();
                if (tmp0 === 0) {
                  var tmp0_set = this.b5r_1;
                  var tmp1_set = element_0.t52_1.s2p_1;
                  tmp0_set.a(tmp1_set, element_0);
                } else if (tmp0 === 1) {
                  var tmp2_set = this.c5r_1;
                  var tmp3_set = element_0.t52_1.s2p_1;
                  tmp2_set.a(tmp3_set, element_0);
                }
              }
            }
          }
        }
      }
    }
    {
      var tmp1_forEach = pipeline.g2u_1.w2t_1;
      var tmp0_iterator_1 = tmp1_forEach.h();
      while (tmp0_iterator_1.n()) {
        var element_1 = tmp0_iterator_1.o();
        {
          {
            var tmp0_forEach_1 = element_1.k2u_1;
            var tmp0_iterator_2 = tmp0_forEach_1.h();
            while (tmp0_iterator_2.n()) {
              var element_2 = tmp0_iterator_2.o();
              {
                var tmp0_subject_0 = element_2;
                if (tmp0_subject_0 instanceof UniformBuffer) {
                  var blockIndex = this.z5q_1.r5h_1.getUniformBlockIndex(this.y5q_1, element_2.o2u_1);
                  if (blockIndex === WebGL2RenderingContext.INVALID_INDEX) {
                    {
                      var tmp0_forEach_2 = element_2.w2u_1;
                      var tmp0_iterator_3 = tmp0_forEach_2.h();
                      while (tmp0_iterator_3.n()) {
                        var element_3 = tmp0_iterator_3.o();
                        {
                          {
                            var tmp0_set_0 = this.d5r_1;
                            var tmp1_set_0 = element_3.g2r_1;
                            var tmp2_set_0 = listOf_0(this.z5q_1.r5h_1.getUniformLocation(this.y5q_1, element_3.g2r_1));
                            tmp0_set_0.a(tmp1_set_0, tmp2_set_0);
                          }
                        }
                      }
                    }
                  } else {
                    setupUboLayout(this, element_2, blockIndex);
                  }
                } else {
                  if (tmp0_subject_0 instanceof TextureSampler1d) {
                    {
                      var tmp1_set_1 = this.d5r_1;
                      var tmp2_set_1 = element_2.o2u_1;
                      var tmp3_set_0 = getUniformLocations(this, element_2.o2u_1, element_2.p4m_1);
                      tmp1_set_1.a(tmp2_set_1, tmp3_set_0);
                    }
                  } else {
                    if (tmp0_subject_0 instanceof TextureSampler2d) {
                      {
                        var tmp4_set = this.d5r_1;
                        var tmp5_set = element_2.o2u_1;
                        var tmp6_set = getUniformLocations(this, element_2.o2u_1, element_2.s2s_1);
                        tmp4_set.a(tmp5_set, tmp6_set);
                      }
                    } else {
                      if (tmp0_subject_0 instanceof TextureSampler3d) {
                        {
                          var tmp7_set = this.d5r_1;
                          var tmp8_set = element_2.o2u_1;
                          var tmp9_set = getUniformLocations(this, element_2.o2u_1, element_2.z4m_1);
                          tmp7_set.a(tmp8_set, tmp9_set);
                        }
                      } else {
                        if (tmp0_subject_0 instanceof TextureSamplerCube) {
                          {
                            var tmp10_set = this.d5r_1;
                            var tmp11_set = element_2.o2u_1;
                            var tmp12_set = getUniformLocations(this, element_2.o2u_1, element_2.h4n_1);
                            tmp10_set.a(tmp11_set, tmp12_set);
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    {
      var tmp2_forEach = pipeline.g2u_1.x2t_1;
      var tmp0_iterator_4 = tmp2_forEach.h();
      while (tmp0_iterator_4.n()) {
        var element_4 = tmp0_iterator_4.o();
        {
          {
            var tmp0_forEach_3 = element_4.v4v_1;
            var tmp0_iterator_5 = tmp0_forEach_3.h();
            while (tmp0_iterator_5.n()) {
              var element_5 = tmp0_iterator_5.o();
              {
                {
                  var tmp0_set_1 = this.d5r_1;
                  var tmp1_set_2 = element_5.g2r_1;
                  var tmp2_set_2 = listOf_0(this.z5q_1.r5h_1.getUniformLocation(this.y5q_1, element_5.g2r_1));
                  tmp0_set_1.a(tmp1_set_2, tmp2_set_2);
                }
              }
            }
          }
        }
      }
    }
  }
  CompiledShader.prototype.y5r = function () {
    return this.y5q_1;
  };
  CompiledShader.prototype.z5r = function () {
    return this.z5q_1;
  };
  CompiledShader.prototype.a5s = function () {
    this.z5q_1.r5h_1.useProgram(this.y5q_1);
    {
      var tmp0_forEach = this.b5r_1.b3();
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var inductionVariable = 0;
          var last = element.t52_1.u2p_1.d2q_1;
          if (inductionVariable < last)
            do {
              var i = inductionVariable;
              inductionVariable = inductionVariable + 1 | 0;
              var location = element.r52_1 + i | 0;
              this.z5q_1.r5h_1.enableVertexAttribArray(location);
              this.z5q_1.r5h_1.vertexAttribDivisor(location, 0);
            }
             while (inductionVariable < last);
        }
      }
    }
    {
      var tmp1_forEach = this.c5r_1.b3();
      var tmp0_iterator_0 = tmp1_forEach.h();
      while (tmp0_iterator_0.n()) {
        var element_0 = tmp0_iterator_0.o();
        {
          var inductionVariable_0 = 0;
          var last_0 = element_0.t52_1.u2p_1.d2q_1;
          if (inductionVariable_0 < last_0)
            do {
              var i_0 = inductionVariable_0;
              inductionVariable_0 = inductionVariable_0 + 1 | 0;
              var location_0 = element_0.r52_1 + i_0 | 0;
              this.z5q_1.r5h_1.enableVertexAttribArray(location_0);
              this.z5q_1.r5h_1.vertexAttribDivisor(location_0, 1);
            }
             while (inductionVariable_0 < last_0);
        }
      }
    }
  };
  CompiledShader.prototype.b5s = function () {
    {
      var tmp0_forEach = this.b5r_1.b3();
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          var inductionVariable = 0;
          var last = element.t52_1.u2p_1.d2q_1;
          if (inductionVariable < last)
            do {
              var i = inductionVariable;
              inductionVariable = inductionVariable + 1 | 0;
              this.z5q_1.r5h_1.disableVertexAttribArray(element.r52_1 + i | 0);
            }
             while (inductionVariable < last);
        }
      }
    }
    {
      var tmp1_forEach = this.c5r_1.b3();
      var tmp0_iterator_0 = tmp1_forEach.h();
      while (tmp0_iterator_0.n()) {
        var element_0 = tmp0_iterator_0.o();
        {
          var inductionVariable_0 = 0;
          var last_0 = element_0.t52_1.u2p_1.d2q_1;
          if (inductionVariable_0 < last_0)
            do {
              var i_0 = inductionVariable_0;
              inductionVariable_0 = inductionVariable_0 + 1 | 0;
              this.z5q_1.r5h_1.disableVertexAttribArray(element_0.r52_1 + i_0 | 0);
            }
             while (inductionVariable_0 < last_0);
        }
      }
    }
  };
  CompiledShader.prototype.l5r = function (cmd) {
    var pipelineInst = ensureNotNull(cmd.o35_1);
    var tmp$ret$1;
    {
      var tmp0_getOrPut = this.f5r_1;
      var tmp1_getOrPut = pipelineInst.a2u_1;
      var value = tmp0_getOrPut.z2(tmp1_getOrPut);
      var tmp;
      if (value == null) {
        var tmp$ret$0;
        {
          tmp$ret$0 = new ShaderInstance(this, cmd.n35_1, cmd.m35_1.b2o_1, pipelineInst);
        }
        var answer = tmp$ret$0;
        tmp0_getOrPut.a(tmp1_getOrPut, answer);
        tmp = answer;
      } else {
        tmp = value;
      }
      tmp$ret$1 = tmp;
    }
    var inst = tmp$ret$1;
    var tmp_0;
    if (inst.l5r(cmd)) {
      tmp_0 = inst;
    } else {
      tmp_0 = null;
    }
    return tmp_0;
  };
  CompiledShader.prototype.c5s = function (pipeline) {
    var tmp0_safe_receiver = this.f5r_1.tf(pipeline.a2u_1);
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        tmp0_safe_receiver.v5r();
        tmp$ret$0 = this.z5q_1.l2a().h1y(this.a5r_1);
      }
    }
  };
  CompiledShader.prototype.q = function () {
    return this.f5r_1.q();
  };
  CompiledShader.prototype.d5s = function () {
    this.z5q_1.l2a().i1y(this.a5r_1);
    this.z5q_1.r5h_1.deleteProgram(this.y5q_1);
  };
  CompiledShader.$metadata$ = classMeta('CompiledShader');
  function glMinFilterMethod(_this__u8e3s4, $this, mipMapping) {
    var tmp0_subject = _this__u8e3s4;
    var tmp0 = tmp0_subject.w1();
    var tmp;
    switch (tmp0) {
      case 0:
        tmp = mipMapping ? WebGLRenderingContext.NEAREST_MIPMAP_NEAREST : WebGLRenderingContext.NEAREST;
        break;
      case 1:
        tmp = mipMapping ? WebGLRenderingContext.LINEAR_MIPMAP_LINEAR : WebGLRenderingContext.LINEAR;
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    return tmp;
  }
  function glMagFilterMethod(_this__u8e3s4, $this) {
    var tmp0_subject = _this__u8e3s4;
    var tmp0 = tmp0_subject.w1();
    var tmp;
    switch (tmp0) {
      case 0:
        tmp = WebGLRenderingContext.NEAREST;
        break;
      case 1:
        tmp = WebGLRenderingContext.LINEAR;
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    return tmp;
  }
  function glAddressMode(_this__u8e3s4, $this) {
    var tmp0_subject = _this__u8e3s4;
    var tmp0 = tmp0_subject.w1();
    var tmp;
    switch (tmp0) {
      case 0:
        tmp = WebGLRenderingContext.CLAMP_TO_EDGE;
        break;
      case 1:
        tmp = WebGLRenderingContext.MIRRORED_REPEAT;
        break;
      case 2:
        tmp = WebGLRenderingContext.REPEAT;
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    return tmp;
  }
  function Companion_48() {
    Companion_instance_48 = this;
    this.e5s_1 = new Long(1, 0);
  }
  Companion_48.$metadata$ = objectMeta('Companion');
  var Companion_instance_48;
  function Companion_getInstance_48() {
    if (Companion_instance_48 == null)
      new Companion_48();
    return Companion_instance_48;
  }
  function LoadedTextureWebGl(ctx, target, texture, estimatedSize) {
    Companion_getInstance_48();
    this.t5i_1 = ctx;
    this.u5i_1 = target;
    this.v5i_1 = texture;
    var tmp = this;
    var tmp0_this = Companion_getInstance_48();
    var tmp1 = tmp0_this.e5s_1;
    tmp0_this.e5s_1 = tmp1.yl();
    tmp.w5i_1 = tmp1;
    this.x5i_1 = false;
    this.y5i_1 = 0;
    this.z5i_1 = 0;
    this.a5j_1 = 0;
    this.t5i_1.l2a().e1y(this.w5i_1, estimatedSize);
  }
  LoadedTextureWebGl.prototype.y3u = function () {
    return this.y5i_1;
  };
  LoadedTextureWebGl.prototype.z3u = function () {
    return this.z5i_1;
  };
  LoadedTextureWebGl.prototype.b5j = function (width, height, depth) {
    this.y5i_1 = width;
    this.z5i_1 = height;
    this.a5j_1 = depth;
  };
  LoadedTextureWebGl.prototype.c5j = function (props) {
    var gl = this.t5i_1.r5h_1;
    gl.bindTexture(this.u5i_1, this.v5i_1);
    gl.texParameteri(this.u5i_1, WebGLRenderingContext.TEXTURE_MIN_FILTER, glMinFilterMethod(props.t4x_1, this, props.v4x_1));
    gl.texParameteri(this.u5i_1, WebGLRenderingContext.TEXTURE_MAG_FILTER, glMagFilterMethod(props.u4x_1, this));
    gl.texParameteri(this.u5i_1, WebGLRenderingContext.TEXTURE_WRAP_S, glAddressMode(props.q4x_1, this));
    gl.texParameteri(this.u5i_1, WebGLRenderingContext.TEXTURE_WRAP_T, glAddressMode(props.r4x_1, this));
    if (this.u5i_1 === WebGL2RenderingContext.TEXTURE_3D) {
      gl.texParameteri(this.u5i_1, WebGL2RenderingContext.TEXTURE_WRAP_R, glAddressMode(props.s4x_1, this));
    }
    var tmp$ret$0;
    {
      var tmp0_min = props.w4x_1;
      var tmp1_min = this.t5i_1.u5h_1.r5o_1;
      tmp$ret$0 = Math.min(tmp0_min, tmp1_min);
    }
    var anisotropy = tmp$ret$0;
    if (anisotropy > 1) {
      gl.texParameteri(this.u5i_1, this.t5i_1.u5h_1.s5o_1, anisotropy);
    }
    if (anisotropy > 1 ? props.t4x_1.equals(FilterMethod_NEAREST_getInstance()) ? true : props.u4x_1.equals(FilterMethod_NEAREST_getInstance()) : false) {
      var tmp$ret$4;
      {
        var tmp$ret$3;
        {
          var tmp2_wExt = Log_getInstance();
          var tmp$ret$2;
          {
            var tmp1_logExt = Level_WARN_getInstance();
            var tmp0_log = getKClassFromExpression(this).ei();
            var tmp;
            if (tmp1_logExt.e1w_1 >= tmp2_wExt.y1v_1.e1w_1) {
              var tmp_0 = tmp2_wExt.z1v_1;
              var tmp$ret$1;
              {
                tmp$ret$1 = 'Texture filtering is NEAREST but anisotropy is ' + anisotropy + ' (> 1)';
              }
              tmp = tmp_0(tmp1_logExt, tmp0_log, tmp$ret$1);
            }
            tmp$ret$2 = tmp;
          }
          tmp$ret$3 = tmp$ret$2;
        }
        tmp$ret$4 = tmp$ret$3;
      }
    }
  };
  LoadedTextureWebGl.prototype.n1a = function () {
    if (!this.x5i_1) {
      this.x5i_1 = true;
      this.t5i_1.r5h_1.deleteTexture(this.v5i_1);
      this.t5i_1.l2a().f1y(this.w5i_1);
    }
  };
  LoadedTextureWebGl.$metadata$ = classMeta('LoadedTextureWebGl', [LoadedTexture]);
  function Companion_49() {
    Companion_instance_49 = this;
  }
  Companion_49.prototype.g5r = function (uniform, location) {
    var tmp0_subject = uniform;
    var tmp;
    if (tmp0_subject instanceof Uniform1f) {
      tmp = new MappedUniform1f(uniform, location);
    } else {
      if (tmp0_subject instanceof Uniform2f) {
        tmp = new MappedUniform2f(uniform, location);
      } else {
        if (tmp0_subject instanceof Uniform3f) {
          tmp = new MappedUniform3f(uniform, location);
        } else {
          if (tmp0_subject instanceof Uniform4f) {
            tmp = new MappedUniform4f(uniform, location);
          } else {
            if (tmp0_subject instanceof Uniform1fv) {
              tmp = new MappedUniform1fv(uniform, location);
            } else {
              if (tmp0_subject instanceof Uniform2fv) {
                tmp = new MappedUniform2fv(uniform, location);
              } else {
                if (tmp0_subject instanceof Uniform3fv) {
                  tmp = new MappedUniform3fv(uniform, location);
                } else {
                  if (tmp0_subject instanceof Uniform4fv) {
                    tmp = new MappedUniform4fv(uniform, location);
                  } else {
                    if (tmp0_subject instanceof UniformColor_0) {
                      tmp = new MappedUniformColor(uniform, location);
                    } else {
                      if (tmp0_subject instanceof UniformMat3f) {
                        tmp = new MappedUniformMat3f(uniform, location);
                      } else {
                        if (tmp0_subject instanceof UniformMat3fv) {
                          tmp = new MappedUniformMat3fv(uniform, location);
                        } else {
                          if (tmp0_subject instanceof UniformMat4f) {
                            tmp = new MappedUniformMat4f(uniform, location);
                          } else {
                            if (tmp0_subject instanceof UniformMat4fv) {
                              tmp = new MappedUniformMat4fv(uniform, location);
                            } else {
                              if (tmp0_subject instanceof Uniform1i) {
                                tmp = new MappedUniform1i(uniform, location);
                              } else {
                                if (tmp0_subject instanceof Uniform2i) {
                                  tmp = new MappedUniform2i(uniform, location);
                                } else {
                                  if (tmp0_subject instanceof Uniform3i) {
                                    tmp = new MappedUniform3i(uniform, location);
                                  } else {
                                    if (tmp0_subject instanceof Uniform4i) {
                                      tmp = new MappedUniform4i(uniform, location);
                                    } else {
                                      if (tmp0_subject instanceof Uniform1iv) {
                                        tmp = new MappedUniform1iv(uniform, location);
                                      } else {
                                        if (tmp0_subject instanceof Uniform2iv) {
                                          tmp = new MappedUniform2iv(uniform, location);
                                        } else {
                                          if (tmp0_subject instanceof Uniform3iv) {
                                            tmp = new MappedUniform3iv(uniform, location);
                                          } else {
                                            if (tmp0_subject instanceof Uniform4iv) {
                                              tmp = new MappedUniform4iv(uniform, location);
                                            } else {
                                              noWhenBranchMatchedException();
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    return tmp;
  };
  Companion_49.$metadata$ = objectMeta('Companion');
  var Companion_instance_49;
  function Companion_getInstance_49() {
    if (Companion_instance_49 == null)
      new Companion_49();
    return Companion_instance_49;
  }
  function MappedUniform() {
  }
  MappedUniform.$metadata$ = interfaceMeta('MappedUniform');
  function MappedUbo(uboDesc, layout) {
    this.h5r_1 = uboDesc;
    this.i5r_1 = layout;
    this.j5r_1 = null;
    this.k5r_1 = createMixedBuffer(this.i5r_1.m());
  }
  MappedUbo.prototype.f5s = function (_set____db54di) {
    this.j5r_1 = _set____db54di;
  };
  MappedUbo.prototype.m5r = function (ctx) {
    var gpuBuf = this.j5r_1;
    var tmp;
    if (!(gpuBuf == null)) {
      this.i5r_1.a4m(this.h5r_1.w2u_1, this.k5r_1);
      gpuBuf.z5p(this.k5r_1, WebGLRenderingContext.DYNAMIC_DRAW, this.k5r_1.b1w(), ctx);
      ctx.r5h_1.bindBufferBase(WebGL2RenderingContext.UNIFORM_BUFFER, this.h5r_1.m4n(), gpuBuf.r5p_1);
      tmp = true;
    } else {
      tmp = false;
    }
    return tmp;
  };
  MappedUbo.$metadata$ = classMeta('MappedUbo', [MappedUniform]);
  function MappedUniformTex1d(sampler1d, texUnit, locations) {
    MappedUniformTex.call(this, texUnit, WebGLRenderingContext.TEXTURE_2D);
    this.i5s_1 = sampler1d;
    this.j5s_1 = locations;
  }
  MappedUniformTex1d.prototype.m5r = function (ctx) {
    var texUnit = this.m5s();
    var isValid = true;
    var inductionVariable = 0;
    var last = this.i5s_1.p4m_1;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tex = this.i5s_1.r4m_1[i];
        if (!(tex == null) ? this.n5s(ctx, tex, i) : false) {
          JsImpl_getInstance().l5g().uniform1i(this.j5s_1.r(i), (this.m5s() - WebGLRenderingContext.TEXTURE0 | 0) + i | 0);
        } else {
          isValid = false;
        }
        var tmp1 = texUnit;
        texUnit = tmp1 + 1 | 0;
      }
       while (inductionVariable < last);
    return isValid;
  };
  MappedUniformTex1d.$metadata$ = classMeta('MappedUniformTex1d', undefined, undefined, undefined, undefined, MappedUniformTex.prototype);
  function MappedUniformTex2d(sampler2d, texUnit, locations) {
    MappedUniformTex.call(this, texUnit, WebGLRenderingContext.TEXTURE_2D);
    this.q5s_1 = sampler2d;
    this.r5s_1 = locations;
  }
  MappedUniformTex2d.prototype.m5r = function (ctx) {
    var texUnit = this.m5s();
    var isValid = true;
    var inductionVariable = 0;
    var last = this.q5s_1.s2s_1;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tex = this.q5s_1.v2s_1[i];
        if (!(tex == null) ? this.n5s(ctx, tex, i) : false) {
          ctx.r5h_1.uniform1i(this.r5s_1.r(i), (this.m5s() - WebGLRenderingContext.TEXTURE0 | 0) + i | 0);
        } else {
          isValid = false;
        }
        var tmp1 = texUnit;
        texUnit = tmp1 + 1 | 0;
      }
       while (inductionVariable < last);
    return isValid;
  };
  MappedUniformTex2d.$metadata$ = classMeta('MappedUniformTex2d', undefined, undefined, undefined, undefined, MappedUniformTex.prototype);
  function MappedUniformTex3d(sampler3d, texUnit, locations) {
    MappedUniformTex.call(this, texUnit, WebGL2RenderingContext.TEXTURE_3D);
    this.u5s_1 = sampler3d;
    this.v5s_1 = locations;
  }
  MappedUniformTex3d.prototype.m5r = function (ctx) {
    var texUnit = this.m5s();
    var isValid = true;
    var inductionVariable = 0;
    var last = this.u5s_1.z4m_1;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tex = this.u5s_1.b4n_1[i];
        if (!(tex == null) ? this.n5s(ctx, tex, i) : false) {
          ctx.r5h_1.uniform1i(this.v5s_1.r(i), (this.m5s() - WebGLRenderingContext.TEXTURE0 | 0) + i | 0);
        } else {
          isValid = false;
        }
        var tmp1 = texUnit;
        texUnit = tmp1 + 1 | 0;
      }
       while (inductionVariable < last);
    return isValid;
  };
  MappedUniformTex3d.$metadata$ = classMeta('MappedUniformTex3d', undefined, undefined, undefined, undefined, MappedUniformTex.prototype);
  function MappedUniformTexCube(samplerCube, texUnit, locations) {
    MappedUniformTex.call(this, texUnit, WebGLRenderingContext.TEXTURE_CUBE_MAP);
    this.y5s_1 = samplerCube;
    this.z5s_1 = locations;
  }
  MappedUniformTexCube.prototype.m5r = function (ctx) {
    var texUnit = this.m5s();
    var isValid = true;
    var inductionVariable = 0;
    var last = this.y5s_1.h4n_1;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tex = this.y5s_1.k4n_1[i];
        if (!(tex == null) ? this.n5s(ctx, tex, i) : false) {
          ctx.r5h_1.uniform1i(this.z5s_1.r(i), (this.m5s() - WebGLRenderingContext.TEXTURE0 | 0) + i | 0);
        } else {
          isValid = false;
        }
        var tmp1 = texUnit;
        texUnit = tmp1 + 1 | 0;
      }
       while (inductionVariable < last);
    return isValid;
  };
  MappedUniformTexCube.$metadata$ = classMeta('MappedUniformTexCube', undefined, undefined, undefined, undefined, MappedUniformTex.prototype);
  function MappedUniform1f(uniform, location) {
    this.a5t_1 = uniform;
    this.b5t_1 = location;
  }
  MappedUniform1f.prototype.m5r = function (ctx) {
    ctx.r5h_1.uniform1f(this.b5t_1, this.a5t_1.l2());
    return true;
  };
  MappedUniform1f.$metadata$ = classMeta('MappedUniform1f', [MappedUniform]);
  function MappedUniform2f(uniform, location) {
    this.c5t_1 = uniform;
    this.d5t_1 = location;
  }
  MappedUniform2f.prototype.m5r = function (ctx) {
    ctx.r5h_1.uniform2f(this.d5t_1, this.c5t_1.l2().z1z(), this.c5t_1.l2().b20());
    return true;
  };
  MappedUniform2f.$metadata$ = classMeta('MappedUniform2f', [MappedUniform]);
  function MappedUniform3f(uniform, location) {
    this.e5t_1 = uniform;
    this.f5t_1 = location;
  }
  MappedUniform3f.prototype.m5r = function (ctx) {
    ctx.r5h_1.uniform3f(this.f5t_1, this.e5t_1.l2().z1z(), this.e5t_1.l2().b20(), this.e5t_1.l2().s2d());
    return true;
  };
  MappedUniform3f.$metadata$ = classMeta('MappedUniform3f', [MappedUniform]);
  function MappedUniform4f(uniform, location) {
    this.g5t_1 = uniform;
    this.h5t_1 = location;
  }
  MappedUniform4f.prototype.m5r = function (ctx) {
    ctx.r5h_1.uniform4f(this.h5t_1, this.g5t_1.l2().z1z(), this.g5t_1.l2().b20(), this.g5t_1.l2().s2d(), this.g5t_1.l2().m2i());
    return true;
  };
  MappedUniform4f.$metadata$ = classMeta('MappedUniform4f', [MappedUniform]);
  function MappedUniform1fv(uniform, location) {
    this.i5t_1 = uniform;
    this.j5t_1 = location;
    this.k5t_1 = new Float32Array(this.i5t_1.kd());
  }
  MappedUniform1fv.prototype.m5r = function (ctx) {
    var inductionVariable = 0;
    var last = this.i5t_1.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        {
          var tmp0_set = this.k5t_1;
          var tmp1_set = this.i5t_1.l2()[i];
          var tmp$ret$0;
          {
            tmp$ret$0 = tmp0_set;
          }
          tmp$ret$0[i] = tmp1_set;
        }
      }
       while (inductionVariable < last);
    ctx.r5h_1.uniform1fv(this.j5t_1, this.k5t_1);
    return true;
  };
  MappedUniform1fv.$metadata$ = classMeta('MappedUniform1fv', [MappedUniform]);
  function MappedUniform2fv(uniform, location) {
    this.l5t_1 = uniform;
    this.m5t_1 = location;
    this.n5t_1 = new Float32Array(imul(2, this.l5t_1.kd()));
  }
  MappedUniform2fv.prototype.m5r = function (ctx) {
    var j = 0;
    var inductionVariable = 0;
    var last = this.l5t_1.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        {
          var tmp0_set = this.n5t_1;
          var tmp1 = j;
          j = tmp1 + 1 | 0;
          var tmp1_set = tmp1;
          var tmp2_set = this.l5t_1.l2()[i].z1z();
          var tmp$ret$0;
          {
            tmp$ret$0 = tmp0_set;
          }
          tmp$ret$0[tmp1_set] = tmp2_set;
        }
        {
          var tmp3_set = this.n5t_1;
          var tmp2 = j;
          j = tmp2 + 1 | 0;
          var tmp4_set = tmp2;
          var tmp5_set = this.l5t_1.l2()[i].b20();
          var tmp$ret$1;
          {
            tmp$ret$1 = tmp3_set;
          }
          tmp$ret$1[tmp4_set] = tmp5_set;
        }
      }
       while (inductionVariable < last);
    ctx.r5h_1.uniform2fv(this.m5t_1, this.n5t_1);
    return true;
  };
  MappedUniform2fv.$metadata$ = classMeta('MappedUniform2fv', [MappedUniform]);
  function MappedUniform3fv(uniform, location) {
    this.o5t_1 = uniform;
    this.p5t_1 = location;
    this.q5t_1 = new Float32Array(imul(3, this.o5t_1.kd()));
  }
  MappedUniform3fv.prototype.m5r = function (ctx) {
    var j = 0;
    var inductionVariable = 0;
    var last = this.o5t_1.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        {
          var tmp0_set = this.q5t_1;
          var tmp1 = j;
          j = tmp1 + 1 | 0;
          var tmp1_set = tmp1;
          var tmp2_set = this.o5t_1.l2()[i].z1z();
          var tmp$ret$0;
          {
            tmp$ret$0 = tmp0_set;
          }
          tmp$ret$0[tmp1_set] = tmp2_set;
        }
        {
          var tmp3_set = this.q5t_1;
          var tmp2 = j;
          j = tmp2 + 1 | 0;
          var tmp4_set = tmp2;
          var tmp5_set = this.o5t_1.l2()[i].b20();
          var tmp$ret$1;
          {
            tmp$ret$1 = tmp3_set;
          }
          tmp$ret$1[tmp4_set] = tmp5_set;
        }
        {
          var tmp6_set = this.q5t_1;
          var tmp3 = j;
          j = tmp3 + 1 | 0;
          var tmp7_set = tmp3;
          var tmp8_set = this.o5t_1.l2()[i].s2d();
          var tmp$ret$2;
          {
            tmp$ret$2 = tmp6_set;
          }
          tmp$ret$2[tmp7_set] = tmp8_set;
        }
      }
       while (inductionVariable < last);
    ctx.r5h_1.uniform3fv(this.p5t_1, this.q5t_1);
    return true;
  };
  MappedUniform3fv.$metadata$ = classMeta('MappedUniform3fv', [MappedUniform]);
  function MappedUniform4fv(uniform, location) {
    this.r5t_1 = uniform;
    this.s5t_1 = location;
    this.t5t_1 = new Float32Array(imul(4, this.r5t_1.kd()));
  }
  MappedUniform4fv.prototype.m5r = function (ctx) {
    var j = 0;
    var inductionVariable = 0;
    var last = this.r5t_1.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        {
          var tmp0_set = this.t5t_1;
          var tmp1 = j;
          j = tmp1 + 1 | 0;
          var tmp1_set = tmp1;
          var tmp2_set = this.r5t_1.l2()[i].z1z();
          var tmp$ret$0;
          {
            tmp$ret$0 = tmp0_set;
          }
          tmp$ret$0[tmp1_set] = tmp2_set;
        }
        {
          var tmp3_set = this.t5t_1;
          var tmp2 = j;
          j = tmp2 + 1 | 0;
          var tmp4_set = tmp2;
          var tmp5_set = this.r5t_1.l2()[i].b20();
          var tmp$ret$1;
          {
            tmp$ret$1 = tmp3_set;
          }
          tmp$ret$1[tmp4_set] = tmp5_set;
        }
        {
          var tmp6_set = this.t5t_1;
          var tmp3 = j;
          j = tmp3 + 1 | 0;
          var tmp7_set = tmp3;
          var tmp8_set = this.r5t_1.l2()[i].s2d();
          var tmp$ret$2;
          {
            tmp$ret$2 = tmp6_set;
          }
          tmp$ret$2[tmp7_set] = tmp8_set;
        }
        {
          var tmp9_set = this.t5t_1;
          var tmp4 = j;
          j = tmp4 + 1 | 0;
          var tmp10_set = tmp4;
          var tmp11_set = this.r5t_1.l2()[i].m2i();
          var tmp$ret$3;
          {
            tmp$ret$3 = tmp9_set;
          }
          tmp$ret$3[tmp10_set] = tmp11_set;
        }
      }
       while (inductionVariable < last);
    ctx.r5h_1.uniform4fv(this.s5t_1, this.t5t_1);
    return true;
  };
  MappedUniform4fv.$metadata$ = classMeta('MappedUniform4fv', [MappedUniform]);
  function MappedUniformColor(uniform, location) {
    this.u5t_1 = uniform;
    this.v5t_1 = location;
  }
  MappedUniformColor.prototype.m5r = function (ctx) {
    ctx.r5h_1.uniform4f(this.v5t_1, this.u5t_1.l2().z1z(), this.u5t_1.l2().b20(), this.u5t_1.l2().s2d(), this.u5t_1.l2().m2i());
    return true;
  };
  MappedUniformColor.$metadata$ = classMeta('MappedUniformColor', [MappedUniform]);
  function MappedUniformMat3f(uniform, location) {
    this.w5t_1 = uniform;
    this.x5t_1 = location;
    this.y5t_1 = new Float32Array(9);
  }
  MappedUniformMat3f.prototype.m5r = function (ctx) {
    var inductionVariable = 0;
    if (inductionVariable <= 8)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        {
          var tmp0_set = this.y5t_1;
          var tmp1_set = this.w5t_1.l2().g2d_1[i];
          var tmp$ret$0;
          {
            tmp$ret$0 = tmp0_set;
          }
          tmp$ret$0[i] = tmp1_set;
        }
      }
       while (inductionVariable <= 8);
    ctx.r5h_1.uniformMatrix3fv(this.x5t_1, false, this.y5t_1);
    return true;
  };
  MappedUniformMat3f.$metadata$ = classMeta('MappedUniformMat3f', [MappedUniform]);
  function MappedUniformMat3fv(uniform, location) {
    this.z5t_1 = uniform;
    this.a5u_1 = location;
    this.b5u_1 = new Float32Array(imul(9, this.z5t_1.kd()));
  }
  MappedUniformMat3fv.prototype.m5r = function (ctx) {
    var bufI = 0;
    var inductionVariable = 0;
    var last = this.z5t_1.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var inductionVariable_0 = 0;
        if (inductionVariable_0 < 8)
          do {
            var j = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            {
              var tmp0_set = this.b5u_1;
              var tmp2 = bufI;
              bufI = tmp2 + 1 | 0;
              var tmp1_set = tmp2;
              var tmp2_set = this.z5t_1.l2()[i].g2d_1[j];
              var tmp$ret$0;
              {
                tmp$ret$0 = tmp0_set;
              }
              tmp$ret$0[tmp1_set] = tmp2_set;
            }
          }
           while (inductionVariable_0 < 8);
      }
       while (inductionVariable < last);
    ctx.r5h_1.uniformMatrix3fv(this.a5u_1, false, this.b5u_1);
    return true;
  };
  MappedUniformMat3fv.$metadata$ = classMeta('MappedUniformMat3fv', [MappedUniform]);
  function MappedUniformMat4f(uniform, location) {
    this.c5u_1 = uniform;
    this.d5u_1 = location;
    this.e5u_1 = new Float32Array(16);
  }
  MappedUniformMat4f.prototype.m5r = function (ctx) {
    var inductionVariable = 0;
    if (inductionVariable <= 15)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        {
          var tmp0_set = this.e5u_1;
          var tmp1_set = this.c5u_1.l2().h2e_1[i];
          var tmp$ret$0;
          {
            tmp$ret$0 = tmp0_set;
          }
          tmp$ret$0[i] = tmp1_set;
        }
      }
       while (inductionVariable <= 15);
    ctx.r5h_1.uniformMatrix4fv(this.d5u_1, false, this.e5u_1);
    return true;
  };
  MappedUniformMat4f.$metadata$ = classMeta('MappedUniformMat4f', [MappedUniform]);
  function MappedUniformMat4fv(uniform, location) {
    this.f5u_1 = uniform;
    this.g5u_1 = location;
    this.h5u_1 = new Float32Array(imul(16, this.f5u_1.kd()));
  }
  MappedUniformMat4fv.prototype.m5r = function (ctx) {
    var bufI = 0;
    var inductionVariable = 0;
    var last = this.f5u_1.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var inductionVariable_0 = 0;
        if (inductionVariable_0 < 16)
          do {
            var j = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            {
              var tmp0_set = this.h5u_1;
              var tmp2 = bufI;
              bufI = tmp2 + 1 | 0;
              var tmp1_set = tmp2;
              var tmp2_set = this.f5u_1.l2()[i].h2e_1[j];
              var tmp$ret$0;
              {
                tmp$ret$0 = tmp0_set;
              }
              tmp$ret$0[tmp1_set] = tmp2_set;
            }
          }
           while (inductionVariable_0 < 16);
      }
       while (inductionVariable < last);
    ctx.r5h_1.uniformMatrix4fv(this.g5u_1, false, this.h5u_1);
    return true;
  };
  MappedUniformMat4fv.$metadata$ = classMeta('MappedUniformMat4fv', [MappedUniform]);
  function MappedUniform1i(uniform, location) {
    this.i5u_1 = uniform;
    this.j5u_1 = location;
  }
  MappedUniform1i.prototype.m5r = function (ctx) {
    ctx.r5h_1.uniform1i(this.j5u_1, this.i5u_1.l2());
    return true;
  };
  MappedUniform1i.$metadata$ = classMeta('MappedUniform1i', [MappedUniform]);
  function MappedUniform2i(uniform, location) {
    this.k5u_1 = uniform;
    this.l5u_1 = location;
  }
  MappedUniform2i.prototype.m5r = function (ctx) {
    ctx.r5h_1.uniform2i(this.l5u_1, this.k5u_1.l2().z1z(), this.k5u_1.l2().b20());
    return true;
  };
  MappedUniform2i.$metadata$ = classMeta('MappedUniform2i', [MappedUniform]);
  function MappedUniform3i(uniform, location) {
    this.m5u_1 = uniform;
    this.n5u_1 = location;
  }
  MappedUniform3i.prototype.m5r = function (ctx) {
    ctx.r5h_1.uniform3i(this.n5u_1, this.m5u_1.l2().z1z(), this.m5u_1.l2().b20(), this.m5u_1.l2().s2d());
    return true;
  };
  MappedUniform3i.$metadata$ = classMeta('MappedUniform3i', [MappedUniform]);
  function MappedUniform4i(uniform, location) {
    this.o5u_1 = uniform;
    this.p5u_1 = location;
  }
  MappedUniform4i.prototype.m5r = function (ctx) {
    ctx.r5h_1.uniform4i(this.p5u_1, this.o5u_1.l2().z1z(), this.o5u_1.l2().b20(), this.o5u_1.l2().s2d(), this.o5u_1.l2().m2i());
    return true;
  };
  MappedUniform4i.$metadata$ = classMeta('MappedUniform4i', [MappedUniform]);
  function MappedUniform1iv(uniform, location) {
    this.q5u_1 = uniform;
    this.r5u_1 = location;
    this.s5u_1 = new Int32Array(this.q5u_1.kd());
  }
  MappedUniform1iv.prototype.m5r = function (ctx) {
    var inductionVariable = 0;
    var last = this.q5u_1.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        {
          var tmp0_set = this.s5u_1;
          var tmp1_set = this.q5u_1.l2()[i];
          var tmp$ret$0;
          {
            tmp$ret$0 = tmp0_set;
          }
          tmp$ret$0[i] = tmp1_set;
        }
      }
       while (inductionVariable < last);
    ctx.r5h_1.uniform1iv(this.r5u_1, this.s5u_1);
    return true;
  };
  MappedUniform1iv.$metadata$ = classMeta('MappedUniform1iv', [MappedUniform]);
  function MappedUniform2iv(uniform, location) {
    this.t5u_1 = uniform;
    this.u5u_1 = location;
    this.v5u_1 = new Int32Array(imul(2, this.t5u_1.kd()));
  }
  MappedUniform2iv.prototype.m5r = function (ctx) {
    var j = 0;
    var inductionVariable = 0;
    var last = this.t5u_1.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        {
          var tmp0_set = this.v5u_1;
          var tmp1 = j;
          j = tmp1 + 1 | 0;
          var tmp1_set = tmp1;
          var tmp2_set = this.t5u_1.l2()[i].z1z();
          var tmp$ret$0;
          {
            tmp$ret$0 = tmp0_set;
          }
          tmp$ret$0[tmp1_set] = tmp2_set;
        }
        {
          var tmp3_set = this.v5u_1;
          var tmp2 = j;
          j = tmp2 + 1 | 0;
          var tmp4_set = tmp2;
          var tmp5_set = this.t5u_1.l2()[i].b20();
          var tmp$ret$1;
          {
            tmp$ret$1 = tmp3_set;
          }
          tmp$ret$1[tmp4_set] = tmp5_set;
        }
      }
       while (inductionVariable < last);
    ctx.r5h_1.uniform2iv(this.u5u_1, this.v5u_1);
    return true;
  };
  MappedUniform2iv.$metadata$ = classMeta('MappedUniform2iv', [MappedUniform]);
  function MappedUniform3iv(uniform, location) {
    this.w5u_1 = uniform;
    this.x5u_1 = location;
    this.y5u_1 = new Int32Array(imul(3, this.w5u_1.kd()));
  }
  MappedUniform3iv.prototype.m5r = function (ctx) {
    var j = 0;
    var inductionVariable = 0;
    var last = this.w5u_1.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        {
          var tmp0_set = this.y5u_1;
          var tmp1 = j;
          j = tmp1 + 1 | 0;
          var tmp1_set = tmp1;
          var tmp2_set = this.w5u_1.l2()[i].z1z();
          var tmp$ret$0;
          {
            tmp$ret$0 = tmp0_set;
          }
          tmp$ret$0[tmp1_set] = tmp2_set;
        }
        {
          var tmp3_set = this.y5u_1;
          var tmp2 = j;
          j = tmp2 + 1 | 0;
          var tmp4_set = tmp2;
          var tmp5_set = this.w5u_1.l2()[i].b20();
          var tmp$ret$1;
          {
            tmp$ret$1 = tmp3_set;
          }
          tmp$ret$1[tmp4_set] = tmp5_set;
        }
        {
          var tmp6_set = this.y5u_1;
          var tmp3 = j;
          j = tmp3 + 1 | 0;
          var tmp7_set = tmp3;
          var tmp8_set = this.w5u_1.l2()[i].s2d();
          var tmp$ret$2;
          {
            tmp$ret$2 = tmp6_set;
          }
          tmp$ret$2[tmp7_set] = tmp8_set;
        }
      }
       while (inductionVariable < last);
    ctx.r5h_1.uniform3iv(this.x5u_1, this.y5u_1);
    return true;
  };
  MappedUniform3iv.$metadata$ = classMeta('MappedUniform3iv', [MappedUniform]);
  function MappedUniform4iv(uniform, location) {
    this.z5u_1 = uniform;
    this.a5v_1 = location;
    this.b5v_1 = new Int32Array(imul(4, this.z5u_1.kd()));
  }
  MappedUniform4iv.prototype.m5r = function (ctx) {
    var j = 0;
    var inductionVariable = 0;
    var last = this.z5u_1.kd();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        {
          var tmp0_set = this.b5v_1;
          var tmp1 = j;
          j = tmp1 + 1 | 0;
          var tmp1_set = tmp1;
          var tmp2_set = this.z5u_1.l2()[i].z1z();
          var tmp$ret$0;
          {
            tmp$ret$0 = tmp0_set;
          }
          tmp$ret$0[tmp1_set] = tmp2_set;
        }
        {
          var tmp3_set = this.b5v_1;
          var tmp2 = j;
          j = tmp2 + 1 | 0;
          var tmp4_set = tmp2;
          var tmp5_set = this.z5u_1.l2()[i].b20();
          var tmp$ret$1;
          {
            tmp$ret$1 = tmp3_set;
          }
          tmp$ret$1[tmp4_set] = tmp5_set;
        }
        {
          var tmp6_set = this.b5v_1;
          var tmp3 = j;
          j = tmp3 + 1 | 0;
          var tmp7_set = tmp3;
          var tmp8_set = this.z5u_1.l2()[i].s2d();
          var tmp$ret$2;
          {
            tmp$ret$2 = tmp6_set;
          }
          tmp$ret$2[tmp7_set] = tmp8_set;
        }
        {
          var tmp9_set = this.b5v_1;
          var tmp4 = j;
          j = tmp4 + 1 | 0;
          var tmp10_set = tmp4;
          var tmp11_set = this.z5u_1.l2()[i].m2i();
          var tmp$ret$3;
          {
            tmp$ret$3 = tmp9_set;
          }
          tmp$ret$3[tmp10_set] = tmp11_set;
        }
      }
       while (inductionVariable < last);
    ctx.r5h_1.uniform4iv(this.a5v_1, this.b5v_1);
    return true;
  };
  MappedUniform4iv.$metadata$ = classMeta('MappedUniform4iv', [MappedUniform]);
  function MappedUniformTex$Companion$getLoadedTex$lambda() {
    return function (it) {
      return it.x5i_1;
    };
  }
  function Companion_50() {
    Companion_instance_50 = this;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.c5v_1 = tmp$ret$0;
  }
  Companion_50.prototype.d5v = function (texData, texture, ctx) {
    var tmp = this.c5v_1.b3();
    removeAll_1(tmp, MappedUniformTex$Companion$getLoadedTex$lambda());
    var tmp$ret$1;
    {
      var tmp0_getOrPut = this.c5v_1;
      var value = tmp0_getOrPut.z2(texData);
      var tmp_0;
      if (value == null) {
        var tmp$ret$0;
        {
          var tmp0_subject = texture;
          var tmp_1;
          if (tmp0_subject instanceof Texture1d) {
            tmp_1 = TextureLoader_getInstance().g5v(ctx, texture.j4t_1, texData);
          } else {
            if (tmp0_subject instanceof Texture2d) {
              tmp_1 = TextureLoader_getInstance().l5n(ctx, texture.j4t_1, texData);
            } else {
              if (tmp0_subject instanceof Texture3d) {
                tmp_1 = TextureLoader_getInstance().f5v(ctx, texture.j4t_1, texData);
              } else {
                if (tmp0_subject instanceof TextureCube) {
                  var tmp_2 = TextureLoader_getInstance();
                  tmp_1 = tmp_2.e5v(ctx, texture.j4t_1, texData instanceof TextureDataCube ? texData : THROW_CCE());
                } else {
                  throw IllegalArgumentException_init_$Create$('Unsupported texture type');
                }
              }
            }
          }
          var loaded = tmp_1;
          tmp$ret$0 = loaded;
        }
        var answer = tmp$ret$0;
        tmp0_getOrPut.a(texData, answer);
        tmp_0 = answer;
      } else {
        tmp_0 = value;
      }
      tmp$ret$1 = tmp_0;
    }
    return tmp$ret$1;
  };
  Companion_50.$metadata$ = objectMeta('Companion');
  var Companion_instance_50;
  function Companion_getInstance_50() {
    if (Companion_instance_50 == null)
      new Companion_50();
    return Companion_instance_50;
  }
  function MappedUniformTex$checkLoadingState$lambda(this$0, $texture, $deferredData, $ctx) {
    return function (ex) {
      var tmp;
      if (!(ex == null)) {
        var tmp$ret$3;
        {
          var tmp$ret$2;
          {
            var tmp2_eExt = Log_getInstance();
            var tmp$ret$1;
            {
              var tmp1_logExt = Level_ERROR_getInstance();
              var tmp0_log = getKClassFromExpression(this$0).ei();
              var tmp_0;
              if (tmp1_logExt.e1w_1 >= tmp2_eExt.y1v_1.e1w_1) {
                var tmp_1 = tmp2_eExt.z1v_1;
                var tmp$ret$0;
                {
                  tmp$ret$0 = 'Texture loading failed: ' + ex;
                }
                tmp_0 = tmp_1(tmp1_logExt, tmp0_log, tmp$ret$0);
              }
              tmp$ret$1 = tmp_0;
            }
            tmp$ret$2 = tmp$ret$1;
          }
          tmp$ret$3 = tmp$ret$2;
        }
        $texture.n4t_1 = LoadingState_LOADING_FAILED_getInstance();
        tmp = Unit_getInstance();
      } else {
        $texture.m4t_1 = Companion_getInstance_50().d5v($deferredData.n19(), $texture, $ctx);
        $texture.n4t_1 = LoadingState_LOADED_getInstance();
        tmp = Unit_getInstance();
      }
      return Unit_getInstance();
    };
  }
  function MappedUniformTex(texUnit, target) {
    Companion_getInstance_50();
    this.k5s_1 = texUnit;
    this.l5s_1 = target;
  }
  MappedUniformTex.prototype.m5s = function () {
    return this.k5s_1;
  };
  MappedUniformTex.prototype.n5s = function (ctx, texture, arrayIdx) {
    var gl = ctx.r5h_1;
    if (texture.n4t_1.equals(LoadingState_NOT_LOADED_getInstance())) {
      var tmp0_subject = texture.l4t_1;
      if (tmp0_subject instanceof AsyncTextureLoader) {
        var deferredData = texture.l4t_1.r4z(ctx);
        deferredData.p18(MappedUniformTex$checkLoadingState$lambda(this, texture, deferredData, ctx));
      } else {
        if (tmp0_subject instanceof SyncTextureLoader) {
          var data = texture.l4t_1.u4z(ctx);
          texture.m4t_1 = Companion_getInstance_50().d5v(data, texture, ctx);
          texture.n4t_1 = LoadingState_LOADED_getInstance();
        } else {
          if (tmp0_subject instanceof BufferedTextureLoader) {
            texture.m4t_1 = Companion_getInstance_50().d5v(texture.l4t_1.s4z_1, texture, ctx);
            texture.n4t_1 = LoadingState_LOADED_getInstance();
          } else {
          }
        }
      }
    }
    if (texture.n4t_1.equals(LoadingState_LOADED_getInstance())) {
      var tmp = texture.m4t_1;
      var tex = tmp instanceof LoadedTextureWebGl ? tmp : THROW_CCE();
      gl.activeTexture(this.k5s_1 + arrayIdx | 0);
      gl.bindTexture(this.l5s_1, tex.v5i_1);
      return true;
    }
    return false;
  };
  MappedUniformTex.$metadata$ = classMeta('MappedUniformTex', [MappedUniform]);
  function setCullMethod($this, cullMethod) {
    if (!equals($this.j5v_1, cullMethod)) {
      $this.j5v_1 = cullMethod;
      var tmp0_subject = cullMethod;
      var tmp0 = tmp0_subject.w1();
      switch (tmp0) {
        case 0:
          _get_gl__ndc1ty($this.l5v_1).enable(WebGLRenderingContext.CULL_FACE);
          _get_gl__ndc1ty($this.l5v_1).cullFace(WebGLRenderingContext.BACK);
          break;
        case 1:
          _get_gl__ndc1ty($this.l5v_1).enable(WebGLRenderingContext.CULL_FACE);
          _get_gl__ndc1ty($this.l5v_1).cullFace(WebGLRenderingContext.FRONT);
          break;
        case 2:
          _get_gl__ndc1ty($this.l5v_1).disable(WebGLRenderingContext.CULL_FACE);
          break;
      }
    }
  }
  function setWriteDepth($this, enabled) {
    if (!($this.h5v_1 === enabled)) {
      $this.h5v_1 = enabled;
      _get_gl__ndc1ty($this.l5v_1).depthMask(enabled);
    }
  }
  function setDepthTest($this, depthCompareOp) {
    if (!equals($this.i5v_1, depthCompareOp)) {
      $this.i5v_1 = depthCompareOp;
      if (depthCompareOp.equals(DepthCompareOp_DISABLED_getInstance())) {
        _get_gl__ndc1ty($this.l5v_1).disable(WebGLRenderingContext.DEPTH_TEST);
      } else {
        _get_gl__ndc1ty($this.l5v_1).enable(WebGLRenderingContext.DEPTH_TEST);
        _get_gl__ndc1ty($this.l5v_1).depthFunc(get_glOp(depthCompareOp));
      }
    }
  }
  function setBlendMode($this, blendMode) {
    var tmp0_subject = blendMode;
    var tmp0 = tmp0_subject.w1();
    switch (tmp0) {
      case 0:
        _get_gl__ndc1ty($this.l5v_1).disable(WebGLRenderingContext.BLEND);
        break;
      case 1:
        _get_gl__ndc1ty($this.l5v_1).blendFunc(WebGLRenderingContext.ONE, WebGLRenderingContext.ONE);
        _get_gl__ndc1ty($this.l5v_1).enable(WebGLRenderingContext.BLEND);
        break;
      case 2:
        _get_gl__ndc1ty($this.l5v_1).blendFunc(WebGLRenderingContext.SRC_ALPHA, WebGLRenderingContext.ONE_MINUS_SRC_ALPHA);
        _get_gl__ndc1ty($this.l5v_1).enable(WebGLRenderingContext.BLEND);
        break;
      case 3:
        _get_gl__ndc1ty($this.l5v_1).blendFunc(WebGLRenderingContext.ONE, WebGLRenderingContext.ONE_MINUS_SRC_ALPHA);
        _get_gl__ndc1ty($this.l5v_1).enable(WebGLRenderingContext.BLEND);
        break;
    }
  }
  function _get_gl__ndc1ty($this) {
    return $this.e5j_1.r5h_1;
  }
  function GlAttribs($outer) {
    this.l5v_1 = $outer;
    this.h5v_1 = true;
    this.i5v_1 = null;
    this.j5v_1 = null;
    this.k5v_1 = 0.0;
  }
  GlAttribs.prototype.m5v = function (pipeline) {
    setBlendMode(this, pipeline.c2u_1);
    setDepthTest(this, pipeline.d2u_1);
    setWriteDepth(this, pipeline.e2u_1);
    setCullMethod(this, pipeline.b2u_1);
    if (!(this.k5v_1 === pipeline.f2u_1)) {
      this.k5v_1 = pipeline.f2u_1;
      _get_gl__ndc1ty(this.l5v_1).lineWidth(pipeline.f2u_1);
    }
  };
  GlAttribs.$metadata$ = classMeta('GlAttribs');
  function clearMask(_this__u8e3s4, $this) {
    var mask = 0;
    if (_this__u8e3s4.f49_1) {
      mask = WebGLRenderingContext.DEPTH_BUFFER_BIT;
    }
    if (!(_this__u8e3s4.y4s() == null)) {
      mask = mask | WebGLRenderingContext.COLOR_BUFFER_BIT;
    }
    return mask;
  }
  function QueueRendererWebGl(ctx) {
    this.e5j_1 = ctx;
    this.f5j_1 = new GlAttribs(this);
    this.g5j_1 = new ShaderManager(this.e5j_1);
    this.h5j_1 = new Float32Array(4);
  }
  QueueRendererWebGl.prototype.z5r = function () {
    return this.e5j_1;
  };
  QueueRendererWebGl.prototype.m5n = function (pipelines) {
    {
      var tmp0_iterator = pipelines.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          this.g5j_1.q5v(element);
        }
      }
    }
  };
  QueueRendererWebGl.prototype.i5j = function (queue) {
    if (this.e5j_1.i2a()) {
      Profiling_getInstance().j2c(queue.k4w_1.c4t('render'));
    }
    var tmp$ret$6;
    {
      var tmp0_apply = queue.k4w_1;
      {
      }
      {
        this.e5j_1.r5h_1.viewport(tmp0_apply.z48_1.j4b_1, tmp0_apply.z48_1.b20(), tmp0_apply.z48_1.l4b_1, tmp0_apply.z48_1.z3u());
        if (tmp0_apply instanceof OffscreenRenderPass2d) {
          var inductionVariable = 0;
          var last = tmp0_apply.m4s().k4o_1;
          if (inductionVariable < last)
            do {
              var i = inductionVariable;
              inductionVariable = inductionVariable + 1 | 0;
              var tmp1_elvis_lhs = tmp0_apply.e49_1[i];
              var tmp2_safe_receiver = tmp1_elvis_lhs == null ? tmp0_apply.y4s() : tmp1_elvis_lhs;
              if (tmp2_safe_receiver == null)
                null;
              else {
                var tmp$ret$4;
                {
                  {
                  }
                  {
                    var tmp0_set = this.h5j_1;
                    var tmp1_set = tmp2_safe_receiver.a3t();
                    var tmp$ret$0;
                    {
                      tmp$ret$0 = tmp0_set;
                    }
                    tmp$ret$0[0] = tmp1_set;
                  }
                  {
                    var tmp2_set = this.h5j_1;
                    var tmp3_set = tmp2_safe_receiver.b3t();
                    var tmp$ret$1;
                    {
                      tmp$ret$1 = tmp2_set;
                    }
                    tmp$ret$1[1] = tmp3_set;
                  }
                  {
                    var tmp4_set = this.h5j_1;
                    var tmp5_set = tmp2_safe_receiver.c3t();
                    var tmp$ret$2;
                    {
                      tmp$ret$2 = tmp4_set;
                    }
                    tmp$ret$2[2] = tmp5_set;
                  }
                  {
                    var tmp6_set = this.h5j_1;
                    var tmp7_set = tmp2_safe_receiver.d3t();
                    var tmp$ret$3;
                    {
                      tmp$ret$3 = tmp6_set;
                    }
                    tmp$ret$3[3] = tmp7_set;
                  }
                  tmp$ret$4 = this.e5j_1.r5h_1.clearBufferfv(WebGL2RenderingContext.COLOR, i, this.h5j_1);
                }
              }
            }
             while (inductionVariable < last);
          if (tmp0_apply.f49_1) {
            this.e5j_1.r5h_1.clear(WebGLRenderingContext.DEPTH_BUFFER_BIT);
          }
        } else {
          var tmp3_safe_receiver = tmp0_apply.y4s();
          if (tmp3_safe_receiver == null)
            null;
          else {
            var tmp$ret$5;
            {
              {
              }
              tmp$ret$5 = this.e5j_1.r5h_1.clearColor(tmp3_safe_receiver.a3t(), tmp3_safe_receiver.b3t(), tmp3_safe_receiver.c3t(), tmp3_safe_receiver.d3t());
            }
          }
          var clearMask_0 = clearMask(tmp0_apply, this);
          if (!(clearMask_0 === 0)) {
            this.e5j_1.r5h_1.clear(clearMask_0);
          }
        }
        tmp0_apply.a4t(this.e5j_1);
      }
      tmp$ret$6 = tmp0_apply;
    }
    var numPrimitives = 0;
    var tmp0_iterator = queue.a53().h();
    while (tmp0_iterator.n()) {
      var cmd = tmp0_iterator.o();
      var tmp1_safe_receiver = cmd.o35_1;
      if (tmp1_safe_receiver == null)
        null;
      else {
        var tmp$ret$8;
        {
          {
          }
          this.f5j_1.m5v(tmp1_safe_receiver);
          var tmp;
          if (cmd.n35_1.n3t() > 0) {
            var tmp0_safe_receiver = this.g5j_1.r5v(cmd);
            if (tmp0_safe_receiver == null)
              null;
            else {
              var tmp$ret$7;
              {
                {
                }
                var tmp_0;
                if (!(tmp0_safe_receiver.v5q_1 === 0)) {
                  var insts = cmd.m35_1.b2o_1;
                  if (insts == null) {
                    _get_gl__ndc1ty(this).drawElements(tmp0_safe_receiver.w5q_1, tmp0_safe_receiver.u5q_1, tmp0_safe_receiver.v5q_1, 0);
                    numPrimitives = numPrimitives + cmd.n35_1.w59() | 0;
                  } else if (insts.m2q_1 > 0) {
                    _get_gl__ndc1ty(this).drawElementsInstanced(tmp0_safe_receiver.w5q_1, tmp0_safe_receiver.u5q_1, tmp0_safe_receiver.v5q_1, 0, insts.m2q_1);
                    numPrimitives = numPrimitives + imul(cmd.n35_1.w59(), insts.m2q_1) | 0;
                  }
                  tmp_0 = this.e5j_1.l2a().k1y(1);
                }
                tmp$ret$7 = tmp_0;
              }
            }
            tmp = Unit_getInstance();
          }
          tmp$ret$8 = tmp;
        }
      }
    }
    this.e5j_1.l2a().l1y(numPrimitives);
    queue.k4w_1.b4t(this.e5j_1);
    if (this.e5j_1.i2a()) {
      Profiling_getInstance().c2d(queue.k4w_1.c4t('render'));
    }
  };
  QueueRendererWebGl.$metadata$ = classMeta('QueueRendererWebGl');
  function ShaderGeneratorImplWebGl() {
    ShaderGenerator.call(this);
  }
  ShaderGeneratorImplWebGl.$metadata$ = classMeta('ShaderGeneratorImplWebGl', undefined, undefined, undefined, undefined, ShaderGenerator.prototype);
  function _get_gl__ndc1ty_0($this) {
    return $this.n5v_1.r5h_1;
  }
  function compileShader($this, code) {
    var vert = _get_gl__ndc1ty_0($this).createShader(WebGLRenderingContext.VERTEX_SHADER);
    _get_gl__ndc1ty_0($this).shaderSource(vert, code.r4v_1);
    _get_gl__ndc1ty_0($this).compileShader(vert);
    var vsStatus = _get_gl__ndc1ty_0($this).getShaderParameter(vert, WebGLRenderingContext.COMPILE_STATUS);
    if (!equals(vsStatus, true)) {
      var log = _get_gl__ndc1ty_0($this).getShaderInfoLog(vert);
      var tmp$ret$3;
      {
        var tmp$ret$2;
        {
          var tmp2_eExt = Log_getInstance();
          var tmp$ret$1;
          {
            var tmp1_logExt = Level_ERROR_getInstance();
            var tmp0_log = getKClassFromExpression($this).ei();
            var tmp;
            if (tmp1_logExt.e1w_1 >= tmp2_eExt.y1v_1.e1w_1) {
              var tmp_0 = tmp2_eExt.z1v_1;
              var tmp$ret$0;
              {
                tmp$ret$0 = 'Vertex shader compilation failed:\n' + log;
              }
              tmp = tmp_0(tmp1_logExt, tmp0_log, tmp$ret$0);
            }
            tmp$ret$1 = tmp;
          }
          tmp$ret$2 = tmp$ret$1;
        }
        tmp$ret$3 = tmp$ret$2;
      }
      var tmp$ret$7;
      {
        var tmp$ret$6;
        {
          var tmp2_eExt_0 = Log_getInstance();
          var tmp$ret$5;
          {
            var tmp1_logExt_0 = Level_ERROR_getInstance();
            var tmp0_log_0 = getKClassFromExpression($this).ei();
            var tmp_1;
            if (tmp1_logExt_0.e1w_1 >= tmp2_eExt_0.y1v_1.e1w_1) {
              var tmp_2 = tmp2_eExt_0.z1v_1;
              var tmp$ret$4;
              {
                tmp$ret$4 = 'Shader source: \n' + formatShaderSrc($this, code.r4v_1);
              }
              tmp_1 = tmp_2(tmp1_logExt_0, tmp0_log_0, tmp$ret$4);
            }
            tmp$ret$5 = tmp_1;
          }
          tmp$ret$6 = tmp$ret$5;
        }
        tmp$ret$7 = tmp$ret$6;
      }
      throw KoolException_init_$Create$('Vertex shader compilation failed: ' + log);
    }
    var frag = _get_gl__ndc1ty_0($this).createShader(WebGLRenderingContext.FRAGMENT_SHADER);
    _get_gl__ndc1ty_0($this).shaderSource(frag, code.s4v_1);
    _get_gl__ndc1ty_0($this).compileShader(frag);
    var fsStatus = _get_gl__ndc1ty_0($this).getShaderParameter(frag, WebGLRenderingContext.COMPILE_STATUS);
    if (!equals(fsStatus, true)) {
      var log_0 = _get_gl__ndc1ty_0($this).getShaderInfoLog(frag);
      var tmp$ret$11;
      {
        var tmp$ret$10;
        {
          var tmp2_eExt_1 = Log_getInstance();
          var tmp$ret$9;
          {
            var tmp1_logExt_1 = Level_ERROR_getInstance();
            var tmp0_log_1 = getKClassFromExpression($this).ei();
            var tmp_3;
            if (tmp1_logExt_1.e1w_1 >= tmp2_eExt_1.y1v_1.e1w_1) {
              var tmp_4 = tmp2_eExt_1.z1v_1;
              var tmp$ret$8;
              {
                tmp$ret$8 = 'Fragment shader compilation failed:\n' + log_0;
              }
              tmp_3 = tmp_4(tmp1_logExt_1, tmp0_log_1, tmp$ret$8);
            }
            tmp$ret$9 = tmp_3;
          }
          tmp$ret$10 = tmp$ret$9;
        }
        tmp$ret$11 = tmp$ret$10;
      }
      var tmp$ret$15;
      {
        var tmp$ret$14;
        {
          var tmp2_eExt_2 = Log_getInstance();
          var tmp$ret$13;
          {
            var tmp1_logExt_2 = Level_ERROR_getInstance();
            var tmp0_log_2 = getKClassFromExpression($this).ei();
            var tmp_5;
            if (tmp1_logExt_2.e1w_1 >= tmp2_eExt_2.y1v_1.e1w_1) {
              var tmp_6 = tmp2_eExt_2.z1v_1;
              var tmp$ret$12;
              {
                tmp$ret$12 = 'Shader source: \n' + formatShaderSrc($this, code.s4v_1);
              }
              tmp_5 = tmp_6(tmp1_logExt_2, tmp0_log_2, tmp$ret$12);
            }
            tmp$ret$13 = tmp_5;
          }
          tmp$ret$14 = tmp$ret$13;
        }
        tmp$ret$15 = tmp$ret$14;
      }
      throw KoolException_init_$Create$('Fragment shader compilation failed: ' + log_0);
    }
    var prog = _get_gl__ndc1ty_0($this).createProgram();
    _get_gl__ndc1ty_0($this).attachShader(prog, vert);
    _get_gl__ndc1ty_0($this).attachShader(prog, frag);
    _get_gl__ndc1ty_0($this).linkProgram(prog);
    _get_gl__ndc1ty_0($this).deleteShader(vert);
    _get_gl__ndc1ty_0($this).deleteShader(frag);
    if (!equals(_get_gl__ndc1ty_0($this).getProgramParameter(prog, WebGLRenderingContext.LINK_STATUS), true)) {
      var log_1 = _get_gl__ndc1ty_0($this).getProgramInfoLog(prog);
      var tmp$ret$19;
      {
        var tmp$ret$18;
        {
          var tmp2_eExt_3 = Log_getInstance();
          var tmp$ret$17;
          {
            var tmp1_logExt_3 = Level_ERROR_getInstance();
            var tmp0_log_3 = getKClassFromExpression($this).ei();
            var tmp_7;
            if (tmp1_logExt_3.e1w_1 >= tmp2_eExt_3.y1v_1.e1w_1) {
              var tmp_8 = tmp2_eExt_3.z1v_1;
              var tmp$ret$16;
              {
                tmp$ret$16 = 'Shader linkage failed:\n' + log_1;
              }
              tmp_7 = tmp_8(tmp1_logExt_3, tmp0_log_3, tmp$ret$16);
            }
            tmp$ret$17 = tmp_7;
          }
          tmp$ret$18 = tmp$ret$17;
        }
        tmp$ret$19 = tmp$ret$18;
      }
      var tmp$ret$23;
      {
        var tmp$ret$22;
        {
          var tmp2_eExt_4 = Log_getInstance();
          var tmp$ret$21;
          {
            var tmp1_logExt_4 = Level_ERROR_getInstance();
            var tmp0_log_4 = getKClassFromExpression($this).ei();
            var tmp_9;
            if (tmp1_logExt_4.e1w_1 >= tmp2_eExt_4.y1v_1.e1w_1) {
              var tmp_10 = tmp2_eExt_4.z1v_1;
              var tmp$ret$20;
              {
                tmp$ret$20 = 'Vertex shader source: \n' + formatShaderSrc($this, code.r4v_1);
              }
              tmp_9 = tmp_10(tmp1_logExt_4, tmp0_log_4, tmp$ret$20);
            }
            tmp$ret$21 = tmp_9;
          }
          tmp$ret$22 = tmp$ret$21;
        }
        tmp$ret$23 = tmp$ret$22;
      }
      var tmp$ret$27;
      {
        var tmp$ret$26;
        {
          var tmp2_eExt_5 = Log_getInstance();
          var tmp$ret$25;
          {
            var tmp1_logExt_5 = Level_ERROR_getInstance();
            var tmp0_log_5 = getKClassFromExpression($this).ei();
            var tmp_11;
            if (tmp1_logExt_5.e1w_1 >= tmp2_eExt_5.y1v_1.e1w_1) {
              var tmp_12 = tmp2_eExt_5.z1v_1;
              var tmp$ret$24;
              {
                tmp$ret$24 = 'Fragment shader source: \n' + formatShaderSrc($this, code.s4v_1);
              }
              tmp_11 = tmp_12(tmp1_logExt_5, tmp0_log_5, tmp$ret$24);
            }
            tmp$ret$25 = tmp_11;
          }
          tmp$ret$26 = tmp$ret$25;
        }
        tmp$ret$27 = tmp$ret$26;
      }
      throw KoolException_init_$Create$('Shader linkage failed: ' + log_1);
    }
    return prog;
  }
  function formatShaderSrc($this, src) {
    var srcBuilder = StringBuilder_init_$Create$();
    {
      var tmp0_forEachIndexed = lines(src);
      var index = 0;
      var tmp0_iterator = tmp0_forEachIndexed.h();
      while (tmp0_iterator.n()) {
        var item = tmp0_iterator.o();
        {
          var tmp1 = index;
          index = tmp1 + 1 | 0;
          var tmp1__anonymous__uwfjfc = checkIndexOverflow(tmp1);
          srcBuilder.ga('' + (tmp1__anonymous__uwfjfc + 1 | 0) + ' ' + item + '\n');
        }
      }
    }
    return srcBuilder.toString();
  }
  function ShaderManager(ctx) {
    this.n5v_1 = ctx;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashMap_init_$Create$();
    }
    tmp.o5v_1 = tmp$ret$0;
    this.p5v_1 = null;
  }
  ShaderManager.prototype.z5r = function () {
    return this.n5v_1;
  };
  ShaderManager.prototype.r5v = function (cmd) {
    var pipeline = ensureNotNull(cmd.o35_1);
    var tmp$ret$1;
    {
      var tmp0_getOrPut = this.o5v_1;
      var value = tmp0_getOrPut.z2(pipeline);
      var tmp;
      if (value == null) {
        var tmp$ret$0;
        {
          tmp$ret$0 = new CompiledShader(compileShader(this, pipeline.h2u_1), pipeline, this.n5v_1);
        }
        var answer = tmp$ret$0;
        tmp0_getOrPut.a(pipeline, answer);
        tmp = answer;
      } else {
        tmp = value;
      }
      tmp$ret$1 = tmp;
    }
    var shader = tmp$ret$1;
    if (!(shader === this.p5v_1)) {
      var tmp0_safe_receiver = this.p5v_1;
      if (tmp0_safe_receiver == null)
        null;
      else {
        tmp0_safe_receiver.b5s();
      }
      this.p5v_1 = shader;
      shader.a5s();
    }
    return shader.l5r(cmd);
  };
  ShaderManager.prototype.q5v = function (pipeline) {
    var shader = this.o5v_1.z2(pipeline);
    if (!(shader == null)) {
      shader.c5s(pipeline);
      if (shader.q()) {
        if (equals(shader, this.p5v_1)) {
          shader.b5s();
          this.p5v_1 = null;
        }
        shader.d5s();
        this.o5v_1.tf(pipeline);
      }
    }
  };
  ShaderManager.$metadata$ = classMeta('ShaderManager');
  function texImage2d($this, gl, target, data) {
    gl.pixelStorei(WebGLRenderingContext.UNPACK_COLORSPACE_CONVERSION_WEBGL, WebGLRenderingContext.NONE);
    var tmp0_subject = data;
    if (tmp0_subject instanceof TextureData1d) {
      gl.texImage2D(target, 0, get_glInternalFormat(data.a1x_1), data.x1w_1, 1, 0, get_glFormat(data.a1x_1), get_glType(data.a1x_1), _get_arrayBufferView__gu8wvh(data, $this));
    } else {
      if (tmp0_subject instanceof TextureData2d) {
        gl.texImage2D(target, 0, get_glInternalFormat(data.a1x_1), data.x1w_1, data.y1w_1, 0, get_glFormat(data.a1x_1), get_glType(data.a1x_1), _get_arrayBufferView__gu8wvh(data, $this));
      } else {
        if (tmp0_subject instanceof ImageTextureData) {
          gl.texImage2D(target, 0, WebGLRenderingContext.RGBA, WebGLRenderingContext.RGBA, WebGLRenderingContext.UNSIGNED_BYTE, data.p5k_1);
        } else {
          throw IllegalArgumentException_init_$Create$('Invalid TextureData type for texImage2d: ' + data);
        }
      }
    }
  }
  function estimateTexSize(_this__u8e3s4, $this) {
    var tmp;
    if (_this__u8e3s4 instanceof TextureDataCube) {
      tmp = 6;
    } else {
      tmp = 1;
    }
    var layers = tmp;
    var tmp$ret$2;
    {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          var tmp0_max = _this__u8e3s4.x1w_1;
          var tmp1_max = _this__u8e3s4.y1w_1;
          tmp$ret$0 = Math.max(tmp0_max, tmp1_max);
        }
        var tmp2_log2 = tmp$ret$0;
        tmp$ret$1 = log2(tmp2_log2);
      }
      var tmp3_floor = tmp$ret$1;
      tmp$ret$2 = Math.floor(tmp3_floor);
    }
    var mipLevels = numberToInt(tmp$ret$2) + 1 | 0;
    return Companion_getInstance_32().u4y(_this__u8e3s4.x1w_1, _this__u8e3s4.y1w_1, layers, mipLevels, get_pxSize(_this__u8e3s4.a1x_1));
  }
  function _get_arrayBufferView__gu8wvh(_this__u8e3s4, $this) {
    var bufData = _this__u8e3s4.s4y();
    var tmp;
    if (bufData instanceof Uint8BufferImpl) {
      tmp = bufData.yh();
    } else {
      if (bufData instanceof Uint16BufferImpl) {
        tmp = bufData.yh();
      } else {
        if (bufData instanceof Float32BufferImpl) {
          tmp = bufData.yh();
        } else {
          throw IllegalArgumentException_init_$Create$('Unsupported buffer type');
        }
      }
    }
    return tmp;
  }
  function TextureLoader_0() {
    TextureLoader_instance = this;
  }
  TextureLoader_0.prototype.g5v = function (ctx, props, img) {
    var tex = new LoadedTextureWebGl(ctx, WebGLRenderingContext.TEXTURE_2D, JsImpl_getInstance().l5g().createTexture(), estimateTexSize(img, this));
    tex.b5j(img.x1w_1, 1, 1);
    tex.c5j(props);
    texImage2d(this, JsImpl_getInstance().l5g(), WebGLRenderingContext.TEXTURE_2D, img);
    if (props.v4x_1) {
      JsImpl_getInstance().l5g().generateMipmap(WebGLRenderingContext.TEXTURE_2D);
    }
    return tex;
  };
  TextureLoader_0.prototype.l5n = function (ctx, props, img) {
    var gl = ctx.r5h_1;
    var tex = new LoadedTextureWebGl(ctx, WebGLRenderingContext.TEXTURE_2D, gl.createTexture(), estimateTexSize(img, this));
    tex.b5j(img.x1w_1, img.y1w_1, 1);
    tex.c5j(props);
    texImage2d(this, gl, WebGLRenderingContext.TEXTURE_2D, img);
    if (props.v4x_1) {
      gl.generateMipmap(WebGLRenderingContext.TEXTURE_2D);
    }
    return tex;
  };
  TextureLoader_0.prototype.f5v = function (ctx, props, img) {
    var tex = new LoadedTextureWebGl(ctx, WebGL2RenderingContext.TEXTURE_3D, JsImpl_getInstance().l5g().createTexture(), estimateTexSize(img, this));
    tex.b5j(img.x1w_1, img.y1w_1, img.z1w_1);
    tex.c5j(props);
    var tmp0_subject = img;
    if (tmp0_subject instanceof TextureData3d) {
      JsImpl_getInstance().l5g().texImage3D(WebGL2RenderingContext.TEXTURE_3D, 0, get_glInternalFormat(img.a1x_1), img.x1w_1, img.y1w_1, img.z1w_1, 0, get_glFormat(img.a1x_1), get_glType(img.a1x_1), _get_arrayBufferView__gu8wvh(img, this));
    } else {
      if (tmp0_subject instanceof ImageAtlasTextureData) {
        JsImpl_getInstance().l5g().texStorage3D(WebGL2RenderingContext.TEXTURE_3D, 1, get_glInternalFormat(img.a1x_1), img.x1w_1, img.y1w_1, img.z1w_1);
        var inductionVariable = 0;
        var last = img.z1w_1;
        if (inductionVariable < last)
          do {
            var z = inductionVariable;
            inductionVariable = inductionVariable + 1 | 0;
            JsImpl_getInstance().l5g().texSubImage3D(WebGL2RenderingContext.TEXTURE_3D, 0, 0, 0, z, img.x1w_1, img.y1w_1, 1, get_glFormat(img.a1x_1), get_glType(img.a1x_1), img.j5k_1[z]);
          }
           while (inductionVariable < last);
      }
    }
    if (props.v4x_1) {
      JsImpl_getInstance().l5g().generateMipmap(WebGL2RenderingContext.TEXTURE_3D);
    }
    return tex;
  };
  TextureLoader_0.prototype.e5v = function (ctx, props, img) {
    var gl = ctx.r5h_1;
    var tex = new LoadedTextureWebGl(ctx, WebGLRenderingContext.TEXTURE_CUBE_MAP, gl.createTexture(), estimateTexSize(img, this));
    tex.b5j(img.y3u(), img.z3u(), 1);
    tex.c5j(props);
    texImage2d(this, gl, WebGLRenderingContext.TEXTURE_CUBE_MAP_POSITIVE_X, img.z5v_1);
    texImage2d(this, gl, WebGLRenderingContext.TEXTURE_CUBE_MAP_NEGATIVE_X, img.y5v_1);
    texImage2d(this, gl, WebGLRenderingContext.TEXTURE_CUBE_MAP_POSITIVE_Y, img.a5w_1);
    texImage2d(this, gl, WebGLRenderingContext.TEXTURE_CUBE_MAP_NEGATIVE_Y, img.b5w_1);
    texImage2d(this, gl, WebGLRenderingContext.TEXTURE_CUBE_MAP_POSITIVE_Z, img.x5v_1);
    texImage2d(this, gl, WebGLRenderingContext.TEXTURE_CUBE_MAP_NEGATIVE_Z, img.w5v_1);
    if (props.v4x_1) {
      gl.generateMipmap(WebGLRenderingContext.TEXTURE_CUBE_MAP);
    }
    return tex;
  };
  TextureLoader_0.$metadata$ = objectMeta('TextureLoader');
  var TextureLoader_instance;
  function TextureLoader_getInstance() {
    if (TextureLoader_instance == null)
      new TextureLoader_0();
    return TextureLoader_instance;
  }
  function VboBinder(vbo, elemSize, strideBytes, offset, type) {
    this.p5r_1 = vbo;
    this.q5r_1 = elemSize;
    this.r5r_1 = strideBytes;
    this.s5r_1 = offset;
    this.t5r_1 = type;
  }
  VboBinder.prototype.u5r = function (target, ctx) {
    this.p5r_1.t5p(ctx);
    if (this.t5r_1 === WebGLRenderingContext.INT ? true : this.t5r_1 === WebGLRenderingContext.UNSIGNED_INT) {
      ctx.r5h_1.vertexAttribIPointer(target, this.q5r_1, this.t5r_1, this.r5r_1, imul(this.s5r_1, 4));
    } else {
      ctx.r5h_1.vertexAttribPointer(target, this.q5r_1, this.t5r_1, false, this.r5r_1, imul(this.s5r_1, 4));
    }
  };
  VboBinder.$metadata$ = classMeta('VboBinder');
  function createUint8Buffer(capacity) {
    return Uint8BufferImpl_init_$Create$(capacity);
  }
  function Uint8BufferImpl_init_$Init$(capacity, $this) {
    Uint8BufferImpl.call($this, new Uint8Array(capacity));
    return $this;
  }
  function Uint8BufferImpl_init_$Create$(capacity) {
    return Uint8BufferImpl_init_$Init$(capacity, Object.create(Uint8BufferImpl.prototype));
  }
  function Uint8BufferImpl$_init_$lambda_apvkjx($array) {
    return function () {
      return $array;
    };
  }
  function Uint8BufferImpl(array) {
    var tmp = array.length;
    GenericBuffer.call(this, tmp, Uint8BufferImpl$_init_$lambda_apvkjx(array));
  }
  Uint8BufferImpl.prototype.r = function (i) {
    var tmp$ret$1;
    {
      var tmp0_get = this.yh();
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_get;
      }
      tmp$ret$1 = tmp$ret$0[i];
    }
    return tmp$ret$1;
  };
  Uint8BufferImpl.prototype.i4y = function (i, value) {
    {
      var tmp0_set = this.yh();
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_set;
      }
      tmp$ret$0[i] = value;
    }
  };
  Uint8BufferImpl.prototype.z5d = function (value) {
    {
      var tmp0_set = this.yh();
      var tmp0_this = this;
      var tmp1 = tmp0_this.qr();
      tmp0_this.d4m(tmp1 + 1 | 0);
      var tmp1_set = tmp1;
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_set;
      }
      tmp$ret$0[tmp1_set] = value;
    }
    return this;
  };
  Uint8BufferImpl.$metadata$ = classMeta('Uint8BufferImpl', [Uint8Buffer], undefined, undefined, undefined, GenericBuffer.prototype);
  function GenericBuffer(capacity, create) {
    this.v5p_1 = capacity;
    this.w5p_1 = create();
    this.x5p_1 = this.b1w();
    this.y5p_1 = 0;
  }
  GenericBuffer.prototype.b1w = function () {
    return this.v5p_1;
  };
  GenericBuffer.prototype.yh = function () {
    return this.w5p_1;
  };
  GenericBuffer.prototype.x57 = function (value) {
    if (value < 0 ? true : value > this.b1w()) {
      throw KoolException_init_$Create$('Limit is out of bounds: ' + value + ' (capacity: ' + this.b1w() + ')');
    }
    this.x5p_1 = value;
    if (this.qr() > value) {
      this.d4m(value);
    }
  };
  GenericBuffer.prototype.a5e = function () {
    return this.x5p_1;
  };
  GenericBuffer.prototype.d4m = function (_set____db54di) {
    this.y5p_1 = _set____db54di;
  };
  GenericBuffer.prototype.qr = function () {
    return this.y5p_1;
  };
  GenericBuffer.prototype.a5a = function () {
    return this.a5e() - this.qr() | 0;
  };
  GenericBuffer.prototype.y3s = function () {
    this.x57(this.qr());
    this.d4m(0);
  };
  GenericBuffer.prototype.t7 = function () {
    this.x57(this.b1w());
    this.d4m(0);
  };
  GenericBuffer.$metadata$ = classMeta('GenericBuffer', [Buffer]);
  function createUint32Buffer(capacity) {
    return new Uint32BufferImpl(capacity);
  }
  function createFloat32Buffer(capacity) {
    return new Float32BufferImpl(capacity);
  }
  function createMixedBuffer(capacity) {
    return new MixedBufferImpl(capacity);
  }
  function Uint32BufferImpl$_init_$lambda_fn8iuq($capacity) {
    return function () {
      return new Uint32Array($capacity);
    };
  }
  function Uint32BufferImpl(capacity) {
    GenericBuffer.call(this, capacity, Uint32BufferImpl$_init_$lambda_fn8iuq(capacity));
  }
  Uint32BufferImpl.prototype.r = function (i) {
    var tmp$ret$1;
    {
      var tmp0_get = this.yh();
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_get;
      }
      tmp$ret$1 = tmp$ret$0[i];
    }
    return tmp$ret$1;
  };
  Uint32BufferImpl.prototype.p3t = function (value) {
    {
      var tmp0_set = this.yh();
      var tmp0_this = this;
      var tmp1 = tmp0_this.qr();
      tmp0_this.d4m(tmp1 + 1 | 0);
      var tmp1_set = tmp1;
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_set;
      }
      tmp$ret$0[tmp1_set] = value;
    }
    return this;
  };
  Uint32BufferImpl.prototype.s59 = function (data) {
    var inductionVariable = data.qr();
    var last = data.a5e();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.p3t(data.r(i));
      }
       while (inductionVariable < last);
    return this;
  };
  Uint32BufferImpl.$metadata$ = classMeta('Uint32BufferImpl', [Uint32Buffer], undefined, undefined, undefined, GenericBuffer.prototype);
  function Float32BufferImpl$_init_$lambda_l3hsy8($capacity) {
    return function () {
      return new Float32Array($capacity);
    };
  }
  function Float32BufferImpl(capacity) {
    GenericBuffer.call(this, capacity, Float32BufferImpl$_init_$lambda_l3hsy8(capacity));
  }
  Float32BufferImpl.prototype.r = function (i) {
    var tmp$ret$1;
    {
      var tmp0_get = this.yh();
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_get;
      }
      tmp$ret$1 = tmp$ret$0[i];
    }
    return tmp$ret$1;
  };
  Float32BufferImpl.prototype.i2d = function (i, value) {
    {
      var tmp0_set = this.yh();
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_set;
      }
      tmp$ret$0[i] = value;
    }
  };
  Float32BufferImpl.prototype.b5e = function (data, offset, len) {
    var inductionVariable = offset;
    var last = offset + len | 0;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        {
          var tmp0_set = this.yh();
          var tmp1_this = this;
          var tmp2 = tmp1_this.qr();
          tmp1_this.d4m(tmp2 + 1 | 0);
          var tmp1_set = tmp2;
          var tmp2_set = data[i];
          var tmp$ret$0;
          {
            tmp$ret$0 = tmp0_set;
          }
          tmp$ret$0[tmp1_set] = tmp2_set;
        }
      }
       while (inductionVariable < last);
    return this;
  };
  Float32BufferImpl.prototype.b4g = function (value) {
    {
      var tmp0_set = this.yh();
      var tmp0_this = this;
      var tmp1 = tmp0_this.qr();
      tmp0_this.d4m(tmp1 + 1 | 0);
      var tmp1_set = tmp1;
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_set;
      }
      tmp$ret$0[tmp1_set] = value;
    }
    return this;
  };
  Float32BufferImpl.prototype.r3t = function (data) {
    var inductionVariable = data.qr();
    var last = data.a5e();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.b4g(data.r(i));
      }
       while (inductionVariable < last);
    return this;
  };
  Float32BufferImpl.$metadata$ = classMeta('Float32BufferImpl', [Float32Buffer], undefined, undefined, undefined, GenericBuffer.prototype);
  function MixedBufferImpl$_init_$lambda_t0vvo0($capacity) {
    return function () {
      return new DataView(new ArrayBuffer($capacity));
    };
  }
  function MixedBufferImpl(capacity) {
    GenericBuffer.call(this, capacity, MixedBufferImpl$_init_$lambda_t0vvo0(capacity));
  }
  MixedBufferImpl.prototype.c5e = function (value) {
    this.yh().setUint32(this.qr(), value, true);
    var tmp0_this = this;
    tmp0_this.d4m(tmp0_this.qr() + 4 | 0);
    return this;
  };
  MixedBufferImpl.prototype.e5e = function (data, offset, len) {
    var inductionVariable = offset;
    var last = offset + len | 0;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.yh().setUint32(this.qr(), data[i], true);
        var tmp1_this = this;
        tmp1_this.d4m(tmp1_this.qr() + 4 | 0);
      }
       while (inductionVariable < last);
    return this;
  };
  MixedBufferImpl.prototype.b50 = function (value) {
    this.yh().setFloat32(this.qr(), value, true);
    var tmp0_this = this;
    tmp0_this.d4m(tmp0_this.qr() + 4 | 0);
    return this;
  };
  MixedBufferImpl.prototype.d51 = function (data, offset, len) {
    var inductionVariable = offset;
    var last = offset + len | 0;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.yh().setFloat32(this.qr(), data[i], true);
        var tmp1_this = this;
        tmp1_this.d4m(tmp1_this.qr() + 4 | 0);
      }
       while (inductionVariable < last);
    return this;
  };
  MixedBufferImpl.prototype.x4z = function (nBytes) {
    var tmp0_this = this;
    tmp0_this.d4m(tmp0_this.qr() + nBytes | 0);
    return this;
  };
  MixedBufferImpl.$metadata$ = classMeta('MixedBufferImpl', [MixedBuffer], undefined, undefined, undefined, GenericBuffer.prototype);
  function Uint16BufferImpl() {
  }
  Uint16BufferImpl.$metadata$ = classMeta('Uint16BufferImpl', [Uint16Buffer], undefined, undefined, undefined, GenericBuffer.prototype);
  //region block: post-declaration
  KoolContext$applicationCallbacks$1.prototype.m1r = onWindowCloseRequest;
  KoolContext$applicationCallbacks$1.prototype.n1r = onWindowScaleChange;
  MatrixData.prototype.g2t = onUpdate;
  KslArrayAccessor.prototype.c3f = checkIsAssignable;
  KslArrayVectorAccessor.prototype.c3f = checkIsAssignable;
  KslTypeFloat2.prototype.x3l = get_dimens;
  KslTypeFloat4.prototype.x3l = get_dimens_0;
  KslTypeFloat3.prototype.x3l = get_dimens_1;
  KslTypeInt2.prototype.x3l = get_dimens;
  KslTypeInt3.prototype.x3l = get_dimens_1;
  KslTypeInt4.prototype.x3l = get_dimens_0;
  KslTypeUint2.prototype.x3l = get_dimens;
  KslTypeUint3.prototype.x3l = get_dimens_1;
  KslTypeUint4.prototype.x3l = get_dimens_0;
  KslTypeBool2.prototype.x3l = get_dimens;
  KslTypeBool3.prototype.x3l = get_dimens_1;
  KslTypeBool4.prototype.x3l = get_dimens_0;
  KslVar.prototype.c3f = checkIsAssignable;
  KslVarMatrix.prototype.c3f = checkIsAssignable;
  KslVarVector.prototype.c3f = checkIsAssignable;
  KslVarScalar.prototype.c3f = checkIsAssignable;
  KslVectorAccessor.prototype.c3f = checkIsAssignable;
  KslVectorAccessorVector.prototype.c3f = checkIsAssignable;
  KslVectorAccessorScalar.prototype.c3f = checkIsAssignable;
  UiNode.prototype.c3r = get_deltaT;
  UiNode.prototype.d3r = get_dp;
  UiNode.prototype.e3r = get_px;
  UiNode.prototype.f3r = use;
  BoxNode.prototype.c3r = get_deltaT;
  BoxNode.prototype.d3r = get_dp;
  BoxNode.prototype.e3r = get_px;
  BoxNode.prototype.f3r = use;
  TextNode.prototype.c3r = get_deltaT;
  TextNode.prototype.d3r = get_dp;
  TextNode.prototype.e3r = get_px;
  TextNode.prototype.f3r = use;
  ToggleNode.prototype.c3r = get_deltaT;
  ToggleNode.prototype.d3r = get_dp;
  ToggleNode.prototype.e3r = get_px;
  ToggleNode.prototype.p48 = pxToDp;
  ToggleNode.prototype.f3r = use;
  ToggleNode.prototype.q48 = progressAndUse;
  SwitchNode.prototype.c3r = get_deltaT;
  SwitchNode.prototype.d3r = get_dp;
  SwitchNode.prototype.e3r = get_px;
  SwitchNode.prototype.p48 = pxToDp;
  SwitchNode.prototype.f3r = use;
  SwitchNode.prototype.q48 = progressAndUse;
  Uint8BufferImpl.prototype.e6 = toArray;
  Uint32BufferImpl.prototype.e4g = plusAssign;
  Float32BufferImpl.prototype.d4g = plusAssign_0;
  Float32BufferImpl.prototype.a4g = put;
  MixedBufferImpl.prototype.p50 = putInt32;
  MixedBufferImpl.prototype.t50 = putInt32_0;
  MixedBufferImpl.prototype.d5e = putUint32;
  MixedBufferImpl.prototype.f50 = putFloat32;
  //endregion
  //region block: init
  FUZZY_EQ_F = 1.0E-5;
  DEG_2_RAD = 0.017453292519943295;
  RAD_2_DEG = 57.29577951308232;
  //endregion
  //region block: exports
  _.$_$ = _.$_$ || {};
  _.$_$.a = BoundingBox;
  _.$_$.b = MutableVec2f;
  _.$_$.c = MutableVec2i;
  _.$_$.d = Vec2f;
  _.$_$.e = Vec2i;
  _.$_$.f = Vec3f;
  _.$_$.g = Vec4i;
  _.$_$.h = randomI;
  _.$_$.i = convertColorSpace;
  _.$_$.j = mvpMatrix;
  _.$_$.k = KslProgram;
  _.$_$.l = get_a;
  _.$_$.m = and;
  _.$_$.n = div_0;
  _.$_$.o = div;
  _.$_$.p = div_1;
  _.$_$.q = float3;
  _.$_$.r = float4Port;
  _.$_$.s = get;
  _.$_$.t = ge;
  _.$_$.u = gt;
  _.$_$.v = minus_0;
  _.$_$.w = minus;
  _.$_$.x = plus_0;
  _.$_$.y = get_r;
  _.$_$.z = get_rgb;
  _.$_$.a1 = shr;
  _.$_$.b1 = times_1;
  _.$_$.c1 = times_0;
  _.$_$.d1 = times_2;
  _.$_$.e1 = times;
  _.$_$.f1 = toFloat1;
  _.$_$.g1 = toFloat2;
  _.$_$.h1 = toInt1;
  _.$_$.i1 = toInt2;
  _.$_$.j1 = get_x;
  _.$_$.k1 = PipelineConfig;
  _.$_$.l1 = KslShader;
  _.$_$.m1 = Config;
  _.$_$.n1 = KslUnlitShader;
  _.$_$.o1 = BoxNode;
  _.$_$.p1 = MutableStateValue;
  _.$_$.q1 = SwitchNode;
  _.$_$.r1 = TextNode;
  _.$_$.s1 = alignX;
  _.$_$.t1 = alignY;
  _.$_$.u1 = height;
  _.$_$.v1 = layout;
  _.$_$.w1 = mutableStateOf;
  _.$_$.x1 = onClick_0;
  _.$_$.y1 = onToggle;
  _.$_$.z1 = text;
  _.$_$.a2 = toggleState;
  _.$_$.b2 = toggle;
  _.$_$.c2 = width;
  _.$_$.d2 = ConfigBuilder;
  _.$_$.e2 = Config_0;
  _.$_$.f2 = OffscreenRenderPass2d;
  _.$_$.g2 = TextureData2d;
  _.$_$.h2 = TextureProps;
  _.$_$.i2 = InterpolatedFloat;
  _.$_$.j2 = InterpolatedValue;
  _.$_$.k2 = InverseSquareAnimator;
  _.$_$.l2 = LinearAnimator;
  _.$_$.m2 = IndexedVertexList;
  _.$_$.n2 = RectProps;
  _.$_$.o2 = Group;
  _.$_$.p2 = Mesh;
  _.$_$.q2 = Node;
  _.$_$.r2 = OrthographicCamera;
  _.$_$.s2 = Scene;
  _.$_$.t2 = group;
  _.$_$.u2 = Color;
  _.$_$.v2 = createUint8Buffer;
  _.$_$.w2 = AssetManager;
  _.$_$.x2 = createDefaultContext;
  _.$_$.y2 = AlignmentX_End_getInstance;
  _.$_$.z2 = AlignmentY_Bottom_getInstance;
  _.$_$.a3 = AlignmentY_Center_getInstance;
  _.$_$.b3 = AddressMode_CLAMP_TO_EDGE_getInstance;
  _.$_$.c3 = BlendMode_BLEND_PREMULTIPLIED_ALPHA_getInstance;
  _.$_$.d3 = CullMethod_NO_CULLING_getInstance;
  _.$_$.e3 = DepthCompareOp_DISABLED_getInstance;
  _.$_$.f3 = FilterMethod_NEAREST_getInstance;
  _.$_$.g3 = TexFormat_RGBA_getInstance;
  _.$_$.h3 = TexFormat_R_getInstance;
  _.$_$.i3 = LoadingState_LOADED_getInstance;
  _.$_$.j3 = ProjCorrectionMode_OFFSCREEN_getInstance;
  _.$_$.k3 = ProjCorrectionMode_ONSCREEN_getInstance;
  _.$_$.l3 = fragmentColorBlock$default;
  _.$_$.m3 = Ui2Scene$default;
  _.$_$.n3 = align$default;
  _.$_$.o3 = margin$default;
  _.$_$.p3 = colorMesh$default;
  _.$_$.q3 = group$default;
  _.$_$.r3 = textureMesh$default;
  _.$_$.s3 = MutableVec2i_init_$Create$;
  _.$_$.t3 = MutableVec2i_init_$Create$_0;
  _.$_$.u3 = MutableVec3f_init_$Create$_0;
  _.$_$.v3 = KslUnlitShader_init_$Create$;
  _.$_$.w3 = LocalKeyCode_init_$Create$_0;
  _.$_$.x3 = UniversalKeyCode_init_$Create$_0;
  _.$_$.y3 = Grow_init_$Create$;
  _.$_$.z3 = UiSurface_init_$Create$;
  _.$_$.a4 = Texture2d_init_$Create$_0;
  _.$_$.b4 = Texture2d_init_$Create$_1;
  _.$_$.c4 = Group_init_$Init$;
  _.$_$.d4 = Node_init_$Init$;
  _.$_$.e4 = Companion_getInstance_6;
  _.$_$.f4 = Companion_getInstance_17;
  _.$_$.g4 = ColumnLayout_getInstance;
  _.$_$.h4 = Companion_getInstance_20;
  _.$_$.i4 = RowLayout_getInstance;
  _.$_$.j4 = Companion_getInstance_23;
  _.$_$.k4 = Companion_getInstance_22;
  _.$_$.l4 = WrapContent_getInstance;
  _.$_$.m4 = Companion_getInstance_28;
  _.$_$.n4 = Companion_getInstance_37;
  _.$_$.o4 = Companion_getInstance_0;
  //endregion
  return _;
}));



/***/ }),

/***/ "./kotlin/kotlin-kotlin-stdlib-js-ir.js":
/*!**********************************************!*\
  !*** ./kotlin/kotlin-kotlin-stdlib-js-ir.js ***!
  \**********************************************/
/***/ (function(module, exports) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;//region block: polyfills
if (typeof ArrayBuffer.isView === 'undefined') {
  ArrayBuffer.isView = function (a) {
    return a != null && a.__proto__ != null && a.__proto__.__proto__ === Int8Array.prototype.__proto__;
  };
}
if (typeof Array.prototype.fill === 'undefined') {
  Object.defineProperty(Array.prototype, 'fill', {value: function (value) {
    if (this == null) {
      throw new TypeError('this is null or not defined');
    }
    var O = Object(this);
    var len = O.length >>> 0;
    var start = arguments[1];
    var relativeStart = start >> 0;
    var k = relativeStart < 0 ? Math.max(len + relativeStart, 0) : Math.min(relativeStart, len);
    var end = arguments[2];
    var relativeEnd = end === undefined ? len : end >> 0;
    var finalValue = relativeEnd < 0 ? Math.max(len + relativeEnd, 0) : Math.min(relativeEnd, len);
    while (k < finalValue) {
      O[k] = value;
      k++;
    }
    return O;
  }});
}
[Int8Array, Int16Array, Uint16Array, Int32Array, Float32Array, Float64Array].forEach(function (TypedArray) {
  if (typeof TypedArray.prototype.fill === 'undefined') {
    Object.defineProperty(TypedArray.prototype, 'fill', {value: Array.prototype.fill});
  }
});
if (typeof Math.log2 === 'undefined') {
  Math.log2 = function (x) {
    return Math.log(x) * Math.LOG2E;
  };
}
if (typeof Math.clz32 === 'undefined') {
  Math.clz32 = function (log, LN2) {
    return function (x) {
      var asUint = x >>> 0;
      if (asUint === 0) {
        return 32;
      }
      return 31 - (log(asUint) / LN2 | 0) | 0;
    };
  }(Math.log, Math.LN2);
}
if (typeof String.prototype.startsWith === 'undefined') {
  Object.defineProperty(String.prototype, 'startsWith', {value: function (searchString, position) {
    position = position || 0;
    return this.lastIndexOf(searchString, position) === position;
  }});
}
if (typeof Math.imul === 'undefined') {
  Math.imul = function imul(a, b) {
    return (a & 4.29490176E9) * (b & 65535) + (a & 65535) * (b | 0) | 0;
  };
}
//endregion
(function (root, factory) {
  if (true)
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  else {}
}(this, function (_) {
  'use strict';
  //region block: imports
  var imul = Math.imul;
  var clz32 = Math.clz32;
  var isView = ArrayBuffer.isView;
  var log2 = Math.log2;
  //endregion
  //region block: pre-declaration
  Exception.prototype = Object.create(Error.prototype);
  Exception.prototype.constructor = Exception;
  RuntimeException.prototype = Object.create(Exception.prototype);
  RuntimeException.prototype.constructor = RuntimeException;
  KotlinNothingValueException.prototype = Object.create(RuntimeException.prototype);
  KotlinNothingValueException.prototype.constructor = KotlinNothingValueException;
  State.prototype = Object.create(Enum.prototype);
  State.prototype.constructor = State;
  AbstractList.prototype = Object.create(AbstractCollection.prototype);
  AbstractList.prototype.constructor = AbstractList;
  AbstractSet.prototype = Object.create(AbstractCollection.prototype);
  AbstractSet.prototype.constructor = AbstractSet;
  AbstractMap$keys$1.prototype = Object.create(AbstractSet.prototype);
  AbstractMap$keys$1.prototype.constructor = AbstractMap$keys$1;
  AbstractMap$values$1.prototype = Object.create(AbstractCollection.prototype);
  AbstractMap$values$1.prototype.constructor = AbstractMap$values$1;
  SequenceBuilderIterator.prototype = Object.create(SequenceScope.prototype);
  SequenceBuilderIterator.prototype.constructor = SequenceBuilderIterator;
  RingBuffer$iterator$1.prototype = Object.create(AbstractIterator.prototype);
  RingBuffer$iterator$1.prototype.constructor = RingBuffer$iterator$1;
  RingBuffer.prototype = Object.create(AbstractList.prototype);
  RingBuffer.prototype.constructor = RingBuffer;
  windowedIterator$slambda.prototype = Object.create(CoroutineImpl.prototype);
  windowedIterator$slambda.prototype.constructor = windowedIterator$slambda;
  function plus(context) {
    var tmp;
    if (context === EmptyCoroutineContext_getInstance()) {
      tmp = this;
    } else {
      tmp = context.l8(this, CoroutineContext$plus$lambda());
    }
    return tmp;
  }
  function get(key) {
    var tmp;
    if (equals_1(this.j2(), key)) {
      tmp = isInterface(this, Element) ? this : THROW_CCE();
    } else {
      tmp = null;
    }
    return tmp;
  }
  function fold(initial, operation) {
    return operation(initial, this);
  }
  function minusKey(key) {
    return equals_1(this.j2(), key) ? EmptyCoroutineContext_getInstance() : this;
  }
  function releaseInterceptedContinuation(continuation) {
  }
  function get_0(key) {
    if (key instanceof AbstractCoroutineContextKey) {
      var tmp;
      if (key.j8(this.j2())) {
        var tmp_0 = key.i8(this);
        tmp = (!(tmp_0 == null) ? isInterface(tmp_0, Element) : false) ? tmp_0 : null;
      } else {
        tmp = null;
      }
      return tmp;
    }
    var tmp_1;
    if (Key_getInstance() === key) {
      tmp_1 = isInterface(this, Element) ? this : THROW_CCE();
    } else {
      tmp_1 = null;
    }
    return tmp_1;
  }
  function minusKey_0(key) {
    if (key instanceof AbstractCoroutineContextKey) {
      return (key.j8(this.j2()) ? !(key.i8(this) == null) : false) ? EmptyCoroutineContext_getInstance() : this;
    }
    return Key_getInstance() === key ? EmptyCoroutineContext_getInstance() : this;
  }
  CoroutineSingletons.prototype = Object.create(Enum.prototype);
  CoroutineSingletons.prototype.constructor = CoroutineSingletons;
  Default.prototype = Object.create(Random.prototype);
  Default.prototype.constructor = Default;
  XorWowRandom.prototype = Object.create(Random.prototype);
  XorWowRandom.prototype.constructor = XorWowRandom;
  IntRange.prototype = Object.create(IntProgression.prototype);
  IntRange.prototype.constructor = IntRange;
  CharRange.prototype = Object.create(CharProgression.prototype);
  CharRange.prototype.constructor = CharRange;
  IntProgressionIterator.prototype = Object.create(IntIterator.prototype);
  IntProgressionIterator.prototype.constructor = IntProgressionIterator;
  CharProgressionIterator.prototype = Object.create(CharIterator.prototype);
  CharProgressionIterator.prototype.constructor = CharProgressionIterator;
  iterator$1.prototype = Object.create(CharIterator.prototype);
  iterator$1.prototype.constructor = iterator$1;
  DeepRecursiveScopeImpl.prototype = Object.create(DeepRecursiveScope.prototype);
  DeepRecursiveScopeImpl.prototype.constructor = DeepRecursiveScopeImpl;
  LazyThreadSafetyMode.prototype = Object.create(Enum.prototype);
  LazyThreadSafetyMode.prototype.constructor = LazyThreadSafetyMode;
  Error_0.prototype = Object.create(Error.prototype);
  Error_0.prototype.constructor = Error_0;
  NotImplementedError.prototype = Object.create(Error_0.prototype);
  NotImplementedError.prototype.constructor = NotImplementedError;
  AbstractMutableCollection.prototype = Object.create(AbstractCollection.prototype);
  AbstractMutableCollection.prototype.constructor = AbstractMutableCollection;
  ListIteratorImpl.prototype = Object.create(IteratorImpl_0.prototype);
  ListIteratorImpl.prototype.constructor = ListIteratorImpl;
  AbstractMutableList.prototype = Object.create(AbstractMutableCollection.prototype);
  AbstractMutableList.prototype.constructor = AbstractMutableList;
  AbstractMutableSet.prototype = Object.create(AbstractMutableCollection.prototype);
  AbstractMutableSet.prototype.constructor = AbstractMutableSet;
  AbstractEntrySet.prototype = Object.create(AbstractMutableSet.prototype);
  AbstractEntrySet.prototype.constructor = AbstractEntrySet;
  AbstractMutableMap$keys$1.prototype = Object.create(AbstractMutableSet.prototype);
  AbstractMutableMap$keys$1.prototype.constructor = AbstractMutableMap$keys$1;
  AbstractMutableMap$values$1.prototype = Object.create(AbstractMutableCollection.prototype);
  AbstractMutableMap$values$1.prototype.constructor = AbstractMutableMap$values$1;
  AbstractMutableMap.prototype = Object.create(AbstractMap.prototype);
  AbstractMutableMap.prototype.constructor = AbstractMutableMap;
  ArrayList.prototype = Object.create(AbstractMutableList.prototype);
  ArrayList.prototype.constructor = ArrayList;
  EntrySet.prototype = Object.create(AbstractEntrySet.prototype);
  EntrySet.prototype.constructor = EntrySet;
  HashMap.prototype = Object.create(AbstractMutableMap.prototype);
  HashMap.prototype.constructor = HashMap;
  HashSet.prototype = Object.create(AbstractMutableSet.prototype);
  HashSet.prototype.constructor = HashSet;
  function createJsMap() {
    var result = Object.create(null);
    result['foo'] = 1;
    jsDeleteProperty(result, 'foo');
    return result;
  }
  ChainEntry.prototype = Object.create(SimpleEntry.prototype);
  ChainEntry.prototype.constructor = ChainEntry;
  EntrySet_0.prototype = Object.create(AbstractEntrySet.prototype);
  EntrySet_0.prototype.constructor = EntrySet_0;
  LinkedHashMap.prototype = Object.create(HashMap.prototype);
  LinkedHashMap.prototype.constructor = LinkedHashMap;
  LinkedHashSet.prototype = Object.create(HashSet.prototype);
  LinkedHashSet.prototype.constructor = LinkedHashSet;
  NodeJsOutput.prototype = Object.create(BaseOutput.prototype);
  NodeJsOutput.prototype.constructor = NodeJsOutput;
  BufferedOutput.prototype = Object.create(BaseOutput.prototype);
  BufferedOutput.prototype.constructor = BufferedOutput;
  BufferedOutputToConsoleLog.prototype = Object.create(BufferedOutput.prototype);
  BufferedOutputToConsoleLog.prototype.constructor = BufferedOutputToConsoleLog;
  IllegalStateException.prototype = Object.create(RuntimeException.prototype);
  IllegalStateException.prototype.constructor = IllegalStateException;
  CancellationException.prototype = Object.create(IllegalStateException.prototype);
  CancellationException.prototype.constructor = CancellationException;
  PrimitiveKClassImpl.prototype = Object.create(KClassImpl.prototype);
  PrimitiveKClassImpl.prototype.constructor = PrimitiveKClassImpl;
  NothingKClassImpl.prototype = Object.create(KClassImpl.prototype);
  NothingKClassImpl.prototype.constructor = NothingKClassImpl;
  SimpleKClassImpl.prototype = Object.create(KClassImpl.prototype);
  SimpleKClassImpl.prototype.constructor = SimpleKClassImpl;
  CharacterCodingException.prototype = Object.create(Exception.prototype);
  CharacterCodingException.prototype.constructor = CharacterCodingException;
  DurationUnit.prototype = Object.create(Enum.prototype);
  DurationUnit.prototype.constructor = DurationUnit;
  booleanArrayIterator$1.prototype = Object.create(BooleanIterator.prototype);
  booleanArrayIterator$1.prototype.constructor = booleanArrayIterator$1;
  intArrayIterator$1.prototype = Object.create(IntIterator.prototype);
  intArrayIterator$1.prototype.constructor = intArrayIterator$1;
  Long.prototype = Object.create(Number_0.prototype);
  Long.prototype.constructor = Long;
  _no_name_provided__qut3iv_11.prototype = Object.create(CoroutineImpl.prototype);
  _no_name_provided__qut3iv_11.prototype.constructor = _no_name_provided__qut3iv_11;
  _no_name_provided__qut3iv_12.prototype = Object.create(CoroutineImpl.prototype);
  _no_name_provided__qut3iv_12.prototype.constructor = _no_name_provided__qut3iv_12;
  IllegalArgumentException.prototype = Object.create(RuntimeException.prototype);
  IllegalArgumentException.prototype.constructor = IllegalArgumentException;
  NoSuchElementException.prototype = Object.create(RuntimeException.prototype);
  NoSuchElementException.prototype.constructor = NoSuchElementException;
  IndexOutOfBoundsException.prototype = Object.create(RuntimeException.prototype);
  IndexOutOfBoundsException.prototype.constructor = IndexOutOfBoundsException;
  UnsupportedOperationException.prototype = Object.create(RuntimeException.prototype);
  UnsupportedOperationException.prototype.constructor = UnsupportedOperationException;
  AssertionError.prototype = Object.create(Error_0.prototype);
  AssertionError.prototype.constructor = AssertionError;
  NullPointerException.prototype = Object.create(RuntimeException.prototype);
  NullPointerException.prototype.constructor = NullPointerException;
  ArithmeticException.prototype = Object.create(RuntimeException.prototype);
  ArithmeticException.prototype.constructor = ArithmeticException;
  NumberFormatException.prototype = Object.create(IllegalArgumentException.prototype);
  NumberFormatException.prototype.constructor = NumberFormatException;
  NoWhenBranchMatchedException.prototype = Object.create(RuntimeException.prototype);
  NoWhenBranchMatchedException.prototype.constructor = NoWhenBranchMatchedException;
  ClassCastException.prototype = Object.create(RuntimeException.prototype);
  ClassCastException.prototype.constructor = ClassCastException;
  UninitializedPropertyAccessException.prototype = Object.create(RuntimeException.prototype);
  UninitializedPropertyAccessException.prototype.constructor = UninitializedPropertyAccessException;
  //endregion
  function toList(_this__u8e3s4) {
    var tmp0_subject = _this__u8e3s4.length;
    switch (tmp0_subject) {
      case 0:
        return emptyList();
      case 1:
        return listOf_0(_this__u8e3s4[0]);
      default:
        return toMutableList(_this__u8e3s4);
    }
  }
  function withIndex(_this__u8e3s4) {
    return new IndexingIterable(withIndex$lambda(_this__u8e3s4));
  }
  function get_indices(_this__u8e3s4) {
    return new IntRange(0, get_lastIndex(_this__u8e3s4));
  }
  function get_indices_0(_this__u8e3s4) {
    return new IntRange(0, get_lastIndex_0(_this__u8e3s4));
  }
  function asIterable(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4.length === 0;
    }
    if (tmp$ret$0)
      return emptyList();
    var tmp$ret$1;
    {
      tmp$ret$1 = new _no_name_provided__qut3iv(_this__u8e3s4);
    }
    return tmp$ret$1;
  }
  function associateBy(_this__u8e3s4, keySelector) {
    var capacity = coerceAtLeast(mapCapacity(_this__u8e3s4.length), 16);
    var tmp$ret$0;
    {
      var tmp0_associateByTo = LinkedHashMap_init_$Create$_1(capacity);
      var indexedObject = _this__u8e3s4;
      var inductionVariable = 0;
      var last = indexedObject.length;
      while (inductionVariable < last) {
        var element = indexedObject[inductionVariable];
        inductionVariable = inductionVariable + 1 | 0;
        tmp0_associateByTo.a(keySelector(element), element);
      }
      tmp$ret$0 = tmp0_associateByTo;
    }
    return tmp$ret$0;
  }
  function joinToString(_this__u8e3s4, separator, prefix, postfix, limit, truncated, transform) {
    return joinTo(_this__u8e3s4, StringBuilder_init_$Create$_0(), separator, prefix, postfix, limit, truncated, transform).toString();
  }
  function joinToString$default(_this__u8e3s4, separator, prefix, postfix, limit, truncated, transform, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      separator = ', ';
    if (!(($mask0 & 2) === 0))
      prefix = '';
    if (!(($mask0 & 4) === 0))
      postfix = '';
    if (!(($mask0 & 8) === 0))
      limit = -1;
    if (!(($mask0 & 16) === 0))
      truncated = '...';
    if (!(($mask0 & 32) === 0))
      transform = null;
    return joinToString(_this__u8e3s4, separator, prefix, postfix, limit, truncated, transform);
  }
  function map(_this__u8e3s4, transform) {
    var tmp$ret$0;
    {
      var tmp0_mapTo = ArrayList_init_$Create$_0(_this__u8e3s4.length);
      var indexedObject = _this__u8e3s4;
      var inductionVariable = 0;
      var last = indexedObject.length;
      while (inductionVariable < last) {
        var item = indexedObject[inductionVariable];
        inductionVariable = inductionVariable + 1 | 0;
        tmp0_mapTo.b(transform(item));
      }
      tmp$ret$0 = tmp0_mapTo;
    }
    return tmp$ret$0;
  }
  function sum(_this__u8e3s4) {
    var sum = 0;
    var indexedObject = _this__u8e3s4;
    var inductionVariable = 0;
    var last = indexedObject.length;
    while (inductionVariable < last) {
      var element = indexedObject[inductionVariable];
      inductionVariable = inductionVariable + 1 | 0;
      sum = sum + element | 0;
    }
    return sum;
  }
  function asIterable_0(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4.length === 0;
    }
    if (tmp$ret$0)
      return emptyList();
    var tmp$ret$1;
    {
      tmp$ret$1 = new _no_name_provided__qut3iv_0(_this__u8e3s4);
    }
    return tmp$ret$1;
  }
  function forEachIndexed(_this__u8e3s4, action) {
    var index = 0;
    var indexedObject = _this__u8e3s4;
    var inductionVariable = 0;
    var last = indexedObject.length;
    while (inductionVariable < last) {
      var item = indexedObject[inductionVariable];
      inductionVariable = inductionVariable + 1 | 0;
      var tmp1 = index;
      index = tmp1 + 1 | 0;
      action(tmp1, item);
    }
  }
  function forEach(_this__u8e3s4, action) {
    var indexedObject = _this__u8e3s4;
    var inductionVariable = 0;
    var last = indexedObject.length;
    while (inductionVariable < last) {
      var element = indexedObject[inductionVariable];
      inductionVariable = inductionVariable + 1 | 0;
      action(element);
    }
  }
  function asSequence(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4.length === 0;
    }
    if (tmp$ret$0)
      return emptySequence();
    var tmp$ret$1;
    {
      tmp$ret$1 = new _no_name_provided__qut3iv_1(_this__u8e3s4);
    }
    return tmp$ret$1;
  }
  function indexOf(_this__u8e3s4, element) {
    if (element == null) {
      var inductionVariable = 0;
      var last = _this__u8e3s4.length - 1 | 0;
      if (inductionVariable <= last)
        do {
          var index = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          if (_this__u8e3s4[index] == null) {
            return index;
          }
        }
         while (inductionVariable <= last);
    } else {
      var inductionVariable_0 = 0;
      var last_0 = _this__u8e3s4.length - 1 | 0;
      if (inductionVariable_0 <= last_0)
        do {
          var index_0 = inductionVariable_0;
          inductionVariable_0 = inductionVariable_0 + 1 | 0;
          if (equals_1(element, _this__u8e3s4[index_0])) {
            return index_0;
          }
        }
         while (inductionVariable_0 <= last_0);
    }
    return -1;
  }
  function single(_this__u8e3s4) {
    var tmp0_subject = _this__u8e3s4.length;
    var tmp;
    switch (tmp0_subject) {
      case 0:
        throw NoSuchElementException_init_$Create$_0('Array is empty.');
      case 1:
        tmp = _this__u8e3s4[0];
        break;
      default:
        throw IllegalArgumentException_init_$Create$_0('Array has more than one element.');
    }
    return tmp;
  }
  function any(_this__u8e3s4, predicate) {
    var indexedObject = _this__u8e3s4;
    var inductionVariable = 0;
    var last = indexedObject.length;
    while (inductionVariable < last) {
      var element = indexedObject[inductionVariable];
      inductionVariable = inductionVariable + 1 | 0;
      if (predicate(new Char_0(element)))
        return true;
    }
    return false;
  }
  function toMutableList(_this__u8e3s4) {
    return ArrayList_init_$Create$_1(asCollection(_this__u8e3s4));
  }
  function get_lastIndex(_this__u8e3s4) {
    return _this__u8e3s4.length - 1 | 0;
  }
  function get_lastIndex_0(_this__u8e3s4) {
    return _this__u8e3s4.length - 1 | 0;
  }
  function isEmpty(_this__u8e3s4) {
    return _this__u8e3s4.length === 0;
  }
  function associateByTo(_this__u8e3s4, destination, keySelector) {
    var indexedObject = _this__u8e3s4;
    var inductionVariable = 0;
    var last = indexedObject.length;
    while (inductionVariable < last) {
      var element = indexedObject[inductionVariable];
      inductionVariable = inductionVariable + 1 | 0;
      destination.a(keySelector(element), element);
    }
    return destination;
  }
  function joinTo(_this__u8e3s4, buffer, separator, prefix, postfix, limit, truncated, transform) {
    buffer.c(prefix);
    var count = 0;
    var indexedObject = _this__u8e3s4;
    var inductionVariable = 0;
    var last = indexedObject.length;
    $l$loop: while (inductionVariable < last) {
      var element = indexedObject[inductionVariable];
      inductionVariable = inductionVariable + 1 | 0;
      count = count + 1 | 0;
      if (count > 1) {
        buffer.c(separator);
      }
      if (limit < 0 ? true : count <= limit) {
        appendElement(buffer, element, transform);
      } else
        break $l$loop;
    }
    if (limit >= 0 ? count > limit : false) {
      buffer.c(truncated);
    }
    buffer.c(postfix);
    return buffer;
  }
  function mapTo(_this__u8e3s4, destination, transform) {
    var indexedObject = _this__u8e3s4;
    var inductionVariable = 0;
    var last = indexedObject.length;
    while (inductionVariable < last) {
      var item = indexedObject[inductionVariable];
      inductionVariable = inductionVariable + 1 | 0;
      destination.b(transform(item));
    }
    return destination;
  }
  function isEmpty_0(_this__u8e3s4) {
    return _this__u8e3s4.length === 0;
  }
  function toSet(_this__u8e3s4) {
    var tmp0_subject = _this__u8e3s4.length;
    switch (tmp0_subject) {
      case 0:
        return emptySet();
      case 1:
        return setOf_0(_this__u8e3s4[0]);
      default:
        return toCollection(_this__u8e3s4, LinkedHashSet_init_$Create$_1(mapCapacity(_this__u8e3s4.length)));
    }
  }
  function toCollection(_this__u8e3s4, destination) {
    var indexedObject = _this__u8e3s4;
    var inductionVariable = 0;
    var last = indexedObject.length;
    while (inductionVariable < last) {
      var item = indexedObject[inductionVariable];
      inductionVariable = inductionVariable + 1 | 0;
      destination.b(item);
    }
    return destination;
  }
  function contains(_this__u8e3s4, element) {
    return indexOf(_this__u8e3s4, element) >= 0;
  }
  function firstOrNull(_this__u8e3s4, predicate) {
    var indexedObject = _this__u8e3s4;
    var inductionVariable = 0;
    var last = indexedObject.length;
    while (inductionVariable < last) {
      var element = indexedObject[inductionVariable];
      inductionVariable = inductionVariable + 1 | 0;
      if (predicate(element))
        return element;
    }
    return null;
  }
  function component1(_this__u8e3s4) {
    return _this__u8e3s4[0];
  }
  function component2(_this__u8e3s4) {
    return _this__u8e3s4[1];
  }
  function get_indices_1(_this__u8e3s4) {
    return new IntRange(0, get_lastIndex_1(_this__u8e3s4));
  }
  function sorted(_this__u8e3s4) {
    var tmp$ret$0;
    {
      var tmp0_apply = toTypedArray_0(_this__u8e3s4);
      {
      }
      {
        sort(tmp0_apply);
      }
      tmp$ret$0 = tmp0_apply;
    }
    return asList(tmp$ret$0);
  }
  function distinct(_this__u8e3s4) {
    return toList_0(toMutableSet(_this__u8e3s4));
  }
  function get_lastIndex_1(_this__u8e3s4) {
    return _this__u8e3s4.length - 1 | 0;
  }
  function contains_0(_this__u8e3s4, element) {
    return indexOf_0(_this__u8e3s4, element) >= 0;
  }
  function asSequence_0(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4.length === 0;
    }
    if (tmp$ret$0)
      return emptySequence();
    var tmp$ret$1;
    {
      tmp$ret$1 = new _no_name_provided__qut3iv_2(_this__u8e3s4);
    }
    return tmp$ret$1;
  }
  function sum_0(_this__u8e3s4) {
    var sum = 0.0;
    var indexedObject = _this__u8e3s4;
    var inductionVariable = 0;
    var last = indexedObject.length;
    while (inductionVariable < last) {
      var element = indexedObject[inductionVariable];
      inductionVariable = inductionVariable + 1 | 0;
      sum = sum + element;
    }
    return sum;
  }
  function asSequence_1(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4.length === 0;
    }
    if (tmp$ret$0)
      return emptySequence();
    var tmp$ret$1;
    {
      tmp$ret$1 = new _no_name_provided__qut3iv_3(_this__u8e3s4);
    }
    return tmp$ret$1;
  }
  function reversed(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4.length === 0;
    }
    if (tmp$ret$0)
      return emptyList();
    var list = toMutableList_0(_this__u8e3s4);
    reverse(list);
    return list;
  }
  function toMutableSet(_this__u8e3s4) {
    return toCollection_0(_this__u8e3s4, LinkedHashSet_init_$Create$_1(mapCapacity(_this__u8e3s4.length)));
  }
  function indexOf_0(_this__u8e3s4, element) {
    var inductionVariable = 0;
    var last = _this__u8e3s4.length - 1 | 0;
    if (inductionVariable <= last)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if (element === _this__u8e3s4[index]) {
          return index;
        }
      }
       while (inductionVariable <= last);
    return -1;
  }
  function isEmpty_1(_this__u8e3s4) {
    return _this__u8e3s4.length === 0;
  }
  function toMutableList_0(_this__u8e3s4) {
    var list = ArrayList_init_$Create$_0(_this__u8e3s4.length);
    var indexedObject = _this__u8e3s4;
    var inductionVariable = 0;
    var last = indexedObject.length;
    while (inductionVariable < last) {
      var item = indexedObject[inductionVariable];
      inductionVariable = inductionVariable + 1 | 0;
      list.b(item);
    }
    return list;
  }
  function toCollection_0(_this__u8e3s4, destination) {
    var indexedObject = _this__u8e3s4;
    var inductionVariable = 0;
    var last = indexedObject.length;
    while (inductionVariable < last) {
      var item = indexedObject[inductionVariable];
      inductionVariable = inductionVariable + 1 | 0;
      destination.b(item);
    }
    return destination;
  }
  function get_lastIndex_2(_this__u8e3s4) {
    return _this__u8e3s4.length - 1 | 0;
  }
  function withIndex$lambda($this_withIndex) {
    return function () {
      return arrayIterator($this_withIndex);
    };
  }
  function _no_name_provided__qut3iv($this_asIterable) {
    this.g_1 = $this_asIterable;
  }
  _no_name_provided__qut3iv.prototype.h = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = arrayIterator(this.g_1);
    }
    return tmp$ret$0;
  };
  _no_name_provided__qut3iv.$metadata$ = classMeta(undefined, [Iterable_0]);
  function _no_name_provided__qut3iv_0($this_asIterable) {
    this.i_1 = $this_asIterable;
  }
  _no_name_provided__qut3iv_0.prototype.h = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = intArrayIterator(this.i_1);
    }
    return tmp$ret$0;
  };
  _no_name_provided__qut3iv_0.$metadata$ = classMeta(undefined, [Iterable_0]);
  function _no_name_provided__qut3iv_1($this_asSequence) {
    this.j_1 = $this_asSequence;
  }
  _no_name_provided__qut3iv_1.prototype.h = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = arrayIterator(this.j_1);
    }
    return tmp$ret$0;
  };
  _no_name_provided__qut3iv_1.$metadata$ = classMeta(undefined, [Sequence]);
  function _no_name_provided__qut3iv_2($this_asSequence) {
    this.k_1 = $this_asSequence;
  }
  _no_name_provided__qut3iv_2.prototype.h = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = intArrayIterator(this.k_1);
    }
    return tmp$ret$0;
  };
  _no_name_provided__qut3iv_2.$metadata$ = classMeta(undefined, [Sequence]);
  function _no_name_provided__qut3iv_3($this_asSequence) {
    this.l_1 = $this_asSequence;
  }
  _no_name_provided__qut3iv_3.prototype.h = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = booleanArrayIterator(this.l_1);
    }
    return tmp$ret$0;
  };
  _no_name_provided__qut3iv_3.$metadata$ = classMeta(undefined, [Sequence]);
  function toHashSet(_this__u8e3s4) {
    return toCollection_1(_this__u8e3s4, HashSet_init_$Create$_1(mapCapacity(collectionSizeOrDefault(_this__u8e3s4, 12))));
  }
  function toBooleanArray(_this__u8e3s4) {
    var result = booleanArray(_this__u8e3s4.m());
    var index = 0;
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      var tmp1 = index;
      index = tmp1 + 1 | 0;
      result[tmp1] = element;
    }
    return result;
  }
  function map_0(_this__u8e3s4, transform) {
    var tmp$ret$0;
    {
      var tmp0_mapTo = ArrayList_init_$Create$_0(collectionSizeOrDefault(_this__u8e3s4, 10));
      var tmp0_iterator = _this__u8e3s4.h();
      while (tmp0_iterator.n()) {
        var item = tmp0_iterator.o();
        tmp0_mapTo.b(transform(item));
      }
      tmp$ret$0 = tmp0_mapTo;
    }
    return tmp$ret$0;
  }
  function joinToString_0(_this__u8e3s4, separator, prefix, postfix, limit, truncated, transform) {
    return joinTo_0(_this__u8e3s4, StringBuilder_init_$Create$_0(), separator, prefix, postfix, limit, truncated, transform).toString();
  }
  function joinToString$default_0(_this__u8e3s4, separator, prefix, postfix, limit, truncated, transform, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      separator = ', ';
    if (!(($mask0 & 2) === 0))
      prefix = '';
    if (!(($mask0 & 4) === 0))
      postfix = '';
    if (!(($mask0 & 8) === 0))
      limit = -1;
    if (!(($mask0 & 16) === 0))
      truncated = '...';
    if (!(($mask0 & 32) === 0))
      transform = null;
    return joinToString_0(_this__u8e3s4, separator, prefix, postfix, limit, truncated, transform);
  }
  function fold_0(_this__u8e3s4, initial, operation) {
    var accumulator = initial;
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      accumulator = operation(accumulator, element);
    }
    return accumulator;
  }
  function firstOrNull_0(_this__u8e3s4, predicate) {
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      if (predicate(element))
        return element;
    }
    return null;
  }
  function forEach_0(_this__u8e3s4, action) {
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      action(element);
    }
  }
  function contains_1(_this__u8e3s4, element) {
    if (isInterface(_this__u8e3s4, Collection))
      return _this__u8e3s4.p(element);
    return indexOf_1(_this__u8e3s4, element) >= 0;
  }
  function sum_1(_this__u8e3s4) {
    var sum = 0;
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      sum = sum + element | 0;
    }
    return sum;
  }
  function forEachIndexed_0(_this__u8e3s4, action) {
    var index = 0;
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var item = tmp0_iterator.o();
      var tmp1 = index;
      index = tmp1 + 1 | 0;
      action(checkIndexOverflow(tmp1), item);
    }
  }
  function first(_this__u8e3s4) {
    if (_this__u8e3s4.q())
      throw NoSuchElementException_init_$Create$_0('List is empty.');
    return _this__u8e3s4.r(0);
  }
  function filterNot(_this__u8e3s4, predicate) {
    var tmp$ret$0;
    {
      var tmp0_filterNotTo = ArrayList_init_$Create$();
      var tmp0_iterator = _this__u8e3s4.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        if (!predicate(element)) {
          tmp0_filterNotTo.b(element);
        }
      }
      tmp$ret$0 = tmp0_filterNotTo;
    }
    return tmp$ret$0;
  }
  function toList_0(_this__u8e3s4) {
    if (isInterface(_this__u8e3s4, Collection)) {
      var tmp0_subject = _this__u8e3s4.m();
      var tmp;
      switch (tmp0_subject) {
        case 0:
          tmp = emptyList();
          break;
        case 1:
          var tmp_0;
          if (isInterface(_this__u8e3s4, List_0)) {
            tmp_0 = _this__u8e3s4.r(0);
          } else {
            tmp_0 = _this__u8e3s4.h().o();
          }

          tmp = listOf_0(tmp_0);
          break;
        default:
          tmp = toMutableList_2(_this__u8e3s4);
          break;
      }
      return tmp;
    }
    return optimizeReadOnlyList(toMutableList_1(_this__u8e3s4));
  }
  function component1_0(_this__u8e3s4) {
    return _this__u8e3s4.r(0);
  }
  function component2_0(_this__u8e3s4) {
    return _this__u8e3s4.r(1);
  }
  function asSequence_2(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = new _no_name_provided__qut3iv_4(_this__u8e3s4);
    }
    return tmp$ret$0;
  }
  function toSet_0(_this__u8e3s4) {
    if (isInterface(_this__u8e3s4, Collection)) {
      var tmp0_subject = _this__u8e3s4.m();
      var tmp;
      switch (tmp0_subject) {
        case 0:
          tmp = emptySet();
          break;
        case 1:
          var tmp_0;
          if (isInterface(_this__u8e3s4, List_0)) {
            tmp_0 = _this__u8e3s4.r(0);
          } else {
            tmp_0 = _this__u8e3s4.h().o();
          }

          tmp = setOf_0(tmp_0);
          break;
        default:
          tmp = toCollection_1(_this__u8e3s4, LinkedHashSet_init_$Create$_1(mapCapacity(_this__u8e3s4.m())));
          break;
      }
      return tmp;
    }
    return optimizeReadOnlySet(toCollection_1(_this__u8e3s4, LinkedHashSet_init_$Create$()));
  }
  function first_0(_this__u8e3s4, predicate) {
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      if (predicate(element))
        return element;
    }
    throw NoSuchElementException_init_$Create$_0('Collection contains no element matching the predicate.');
  }
  function last(_this__u8e3s4) {
    if (_this__u8e3s4.q())
      throw NoSuchElementException_init_$Create$_0('List is empty.');
    return _this__u8e3s4.r(get_lastIndex_3(_this__u8e3s4));
  }
  function lastOrNull(_this__u8e3s4) {
    return _this__u8e3s4.q() ? null : _this__u8e3s4.r(_this__u8e3s4.m() - 1 | 0);
  }
  function any_0(_this__u8e3s4, predicate) {
    var tmp;
    if (isInterface(_this__u8e3s4, Collection)) {
      tmp = _this__u8e3s4.q();
    } else {
      tmp = false;
    }
    if (tmp)
      return false;
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      if (predicate(element))
        return true;
    }
    return false;
  }
  function sortBy(_this__u8e3s4, selector) {
    if (_this__u8e3s4.m() > 1) {
      var tmp$ret$0;
      {
        var tmp = sortBy$lambda(selector);
        tmp$ret$0 = new sam$kotlin_Comparator$0(tmp);
      }
      sortWith(_this__u8e3s4, tmp$ret$0);
    }
  }
  function reversed_0(_this__u8e3s4) {
    var tmp;
    if (isInterface(_this__u8e3s4, Collection)) {
      tmp = _this__u8e3s4.m() <= 1;
    } else {
      tmp = false;
    }
    if (tmp)
      return toList_0(_this__u8e3s4);
    var list = toMutableList_1(_this__u8e3s4);
    reverse(list);
    return list;
  }
  function firstNotNullOfOrNull(_this__u8e3s4, transform) {
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      var result = transform(element);
      if (!(result == null)) {
        return result;
      }
    }
    return null;
  }
  function all(_this__u8e3s4, predicate) {
    var tmp;
    if (isInterface(_this__u8e3s4, Collection)) {
      tmp = _this__u8e3s4.q();
    } else {
      tmp = false;
    }
    if (tmp)
      return true;
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      if (!predicate(element))
        return false;
    }
    return true;
  }
  function shuffle(_this__u8e3s4, random) {
    var inductionVariable = get_lastIndex_3(_this__u8e3s4);
    if (1 <= inductionVariable)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + -1 | 0;
        var j = random.s(i + 1 | 0);
        _this__u8e3s4.t(j, _this__u8e3s4.t(i, _this__u8e3s4.r(j)));
      }
       while (1 <= inductionVariable);
  }
  function toMutableList_1(_this__u8e3s4) {
    if (isInterface(_this__u8e3s4, Collection))
      return toMutableList_2(_this__u8e3s4);
    return toCollection_1(_this__u8e3s4, ArrayList_init_$Create$());
  }
  function toCollection_1(_this__u8e3s4, destination) {
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var item = tmp0_iterator.o();
      destination.b(item);
    }
    return destination;
  }
  function mapTo_0(_this__u8e3s4, destination, transform) {
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var item = tmp0_iterator.o();
      destination.b(transform(item));
    }
    return destination;
  }
  function joinTo_0(_this__u8e3s4, buffer, separator, prefix, postfix, limit, truncated, transform) {
    buffer.c(prefix);
    var count = 0;
    var tmp0_iterator = _this__u8e3s4.h();
    $l$loop: while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      count = count + 1 | 0;
      if (count > 1) {
        buffer.c(separator);
      }
      if (limit < 0 ? true : count <= limit) {
        appendElement(buffer, element, transform);
      } else
        break $l$loop;
    }
    if (limit >= 0 ? count > limit : false) {
      buffer.c(truncated);
    }
    buffer.c(postfix);
    return buffer;
  }
  function joinTo$default(_this__u8e3s4, buffer, separator, prefix, postfix, limit, truncated, transform, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      separator = ', ';
    if (!(($mask0 & 4) === 0))
      prefix = '';
    if (!(($mask0 & 8) === 0))
      postfix = '';
    if (!(($mask0 & 16) === 0))
      limit = -1;
    if (!(($mask0 & 32) === 0))
      truncated = '...';
    if (!(($mask0 & 64) === 0))
      transform = null;
    return joinTo_0(_this__u8e3s4, buffer, separator, prefix, postfix, limit, truncated, transform);
  }
  function indexOf_1(_this__u8e3s4, element) {
    if (isInterface(_this__u8e3s4, List_0))
      return _this__u8e3s4.u(element);
    var index = 0;
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var item = tmp0_iterator.o();
      checkIndexOverflow(index);
      if (equals_1(element, item))
        return index;
      var tmp1 = index;
      index = tmp1 + 1 | 0;
    }
    return -1;
  }
  function sortedWith(_this__u8e3s4, comparator) {
    if (isInterface(_this__u8e3s4, Collection)) {
      if (_this__u8e3s4.m() <= 1)
        return toList_0(_this__u8e3s4);
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          var tmp0_toTypedArray = _this__u8e3s4;
          tmp$ret$0 = copyToArray(tmp0_toTypedArray);
        }
        var tmp = tmp$ret$0;
        var tmp1_apply = isArray(tmp) ? tmp : THROW_CCE();
        {
        }
        {
          sortWith_0(tmp1_apply, comparator);
        }
        tmp$ret$1 = tmp1_apply;
      }
      return asList(tmp$ret$1);
    }
    var tmp$ret$2;
    {
      var tmp2_apply = toMutableList_1(_this__u8e3s4);
      {
      }
      {
        sortWith(tmp2_apply, comparator);
      }
      tmp$ret$2 = tmp2_apply;
    }
    return tmp$ret$2;
  }
  function filterNotTo(_this__u8e3s4, destination, predicate) {
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      if (!predicate(element)) {
        destination.b(element);
      }
    }
    return destination;
  }
  function toMutableList_2(_this__u8e3s4) {
    return ArrayList_init_$Create$_1(_this__u8e3s4);
  }
  function minOrNull(_this__u8e3s4) {
    var iterator = _this__u8e3s4.h();
    if (!iterator.n())
      return null;
    var min = iterator.o();
    while (iterator.n()) {
      var e = iterator.o();
      if (compareTo_0(min, e) > 0)
        min = e;
    }
    return min;
  }
  function filter(_this__u8e3s4, predicate) {
    var tmp$ret$0;
    {
      var tmp0_filterTo = ArrayList_init_$Create$();
      var tmp0_iterator = _this__u8e3s4.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        if (predicate(element)) {
          tmp0_filterTo.b(element);
        }
      }
      tmp$ret$0 = tmp0_filterTo;
    }
    return tmp$ret$0;
  }
  function mapIndexedNotNull(_this__u8e3s4, transform) {
    var tmp$ret$1;
    {
      var tmp1_mapIndexedNotNullTo = ArrayList_init_$Create$();
      {
        var index = 0;
        var tmp0_iterator = _this__u8e3s4.h();
        while (tmp0_iterator.n()) {
          var item = tmp0_iterator.o();
          {
            var tmp1 = index;
            index = tmp1 + 1 | 0;
            var tmp0__anonymous__q1qw7t = checkIndexOverflow(tmp1);
            var tmp0_safe_receiver = transform(tmp0__anonymous__q1qw7t, item);
            if (tmp0_safe_receiver == null)
              null;
            else {
              var tmp$ret$0;
              {
                {
                }
                tmp1_mapIndexedNotNullTo.b(tmp0_safe_receiver);
                tmp$ret$0 = Unit_getInstance();
              }
            }
          }
        }
      }
      tmp$ret$1 = tmp1_mapIndexedNotNullTo;
    }
    return tmp$ret$1;
  }
  function indexOfFirst(_this__u8e3s4, predicate) {
    var index = 0;
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var item = tmp0_iterator.o();
      if (predicate(item))
        return index;
      var tmp1 = index;
      index = tmp1 + 1 | 0;
    }
    return -1;
  }
  function single_0(_this__u8e3s4) {
    var tmp0_subject = _this__u8e3s4;
    if (isInterface(tmp0_subject, List_0))
      return single_1(_this__u8e3s4);
    else {
      var iterator = _this__u8e3s4.h();
      if (!iterator.n())
        throw NoSuchElementException_init_$Create$_0('Collection is empty.');
      var single = iterator.o();
      if (iterator.n())
        throw IllegalArgumentException_init_$Create$_0('Collection has more than one element.');
      return single;
    }
  }
  function filterTo(_this__u8e3s4, destination, predicate) {
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      if (predicate(element)) {
        destination.b(element);
      }
    }
    return destination;
  }
  function mapIndexedNotNullTo(_this__u8e3s4, destination, transform) {
    {
      var index = 0;
      var tmp0_iterator = _this__u8e3s4.h();
      while (tmp0_iterator.n()) {
        var item = tmp0_iterator.o();
        {
          var tmp1 = index;
          index = tmp1 + 1 | 0;
          var tmp0__anonymous__q1qw7t = checkIndexOverflow(tmp1);
          var tmp0_safe_receiver = transform(tmp0__anonymous__q1qw7t, item);
          if (tmp0_safe_receiver == null)
            null;
          else {
            var tmp$ret$0;
            {
              {
              }
              destination.b(tmp0_safe_receiver);
              tmp$ret$0 = Unit_getInstance();
            }
          }
        }
      }
    }
    return destination;
  }
  function single_1(_this__u8e3s4) {
    var tmp0_subject = _this__u8e3s4.m();
    var tmp;
    switch (tmp0_subject) {
      case 0:
        throw NoSuchElementException_init_$Create$_0('List is empty.');
      case 1:
        tmp = _this__u8e3s4.r(0);
        break;
      default:
        throw IllegalArgumentException_init_$Create$_0('List has more than one element.');
    }
    return tmp;
  }
  function find(_this__u8e3s4, predicate) {
    var tmp$ret$0;
    $l$block: {
      var tmp0_iterator = _this__u8e3s4.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        if (predicate(element)) {
          tmp$ret$0 = element;
          break $l$block;
        }
      }
      tmp$ret$0 = null;
    }
    return tmp$ret$0;
  }
  function singleOrNull(_this__u8e3s4) {
    return _this__u8e3s4.m() === 1 ? _this__u8e3s4.r(0) : null;
  }
  function minByOrNull(_this__u8e3s4, selector) {
    var iterator = _this__u8e3s4.h();
    if (!iterator.n())
      return null;
    var minElem = iterator.o();
    if (!iterator.n())
      return minElem;
    var minValue = selector(minElem);
    do {
      var e = iterator.o();
      var v = selector(e);
      if (compareTo_0(minValue, v) > 0) {
        minElem = e;
        minValue = v;
      }
    }
     while (iterator.n());
    return minElem;
  }
  function mapIndexed(_this__u8e3s4, transform) {
    var tmp$ret$0;
    {
      var tmp0_mapIndexedTo = ArrayList_init_$Create$_0(collectionSizeOrDefault(_this__u8e3s4, 10));
      var index = 0;
      var tmp0_iterator = _this__u8e3s4.h();
      while (tmp0_iterator.n()) {
        var item = tmp0_iterator.o();
        var tmp1 = index;
        index = tmp1 + 1 | 0;
        tmp0_mapIndexedTo.b(transform(checkIndexOverflow(tmp1), item));
      }
      tmp$ret$0 = tmp0_mapIndexedTo;
    }
    return tmp$ret$0;
  }
  function flatMap(_this__u8e3s4, transform) {
    var tmp$ret$0;
    {
      var tmp0_flatMapTo = ArrayList_init_$Create$();
      var tmp0_iterator = _this__u8e3s4.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var list = transform(element);
        addAll(tmp0_flatMapTo, list);
      }
      tmp$ret$0 = tmp0_flatMapTo;
    }
    return tmp$ret$0;
  }
  function toIntArray(_this__u8e3s4) {
    var result = new Int32Array(_this__u8e3s4.m());
    var index = 0;
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      var tmp1 = index;
      index = tmp1 + 1 | 0;
      result[tmp1] = element;
    }
    return result;
  }
  function maxOf(_this__u8e3s4, selector) {
    var iterator = _this__u8e3s4.h();
    if (!iterator.n())
      throw NoSuchElementException_init_$Create$();
    var maxValue = selector(iterator.o());
    while (iterator.n()) {
      var v = selector(iterator.o());
      var tmp$ret$0;
      {
        var tmp0_maxOf = maxValue;
        tmp$ret$0 = Math.max(tmp0_maxOf, v);
      }
      maxValue = tmp$ret$0;
    }
    return maxValue;
  }
  function minus(_this__u8e3s4, elements) {
    var other = convertToSetForSetOperationWith(elements, _this__u8e3s4);
    if (other.q())
      return toList_0(_this__u8e3s4);
    var tmp$ret$2;
    {
      var tmp$ret$1;
      {
        var tmp0_filterNotTo = ArrayList_init_$Create$();
        var tmp0_iterator = _this__u8e3s4.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$0;
          {
            tmp$ret$0 = other.p(element);
          }
          if (!tmp$ret$0) {
            tmp0_filterNotTo.b(element);
          }
        }
        tmp$ret$1 = tmp0_filterNotTo;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    return tmp$ret$2;
  }
  function distinct_0(_this__u8e3s4) {
    return toList_0(toMutableSet_0(_this__u8e3s4));
  }
  function mapIndexedTo(_this__u8e3s4, destination, transform) {
    var index = 0;
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var item = tmp0_iterator.o();
      var tmp1 = index;
      index = tmp1 + 1 | 0;
      destination.b(transform(checkIndexOverflow(tmp1), item));
    }
    return destination;
  }
  function flatMapTo(_this__u8e3s4, destination, transform) {
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      var list = transform(element);
      addAll(destination, list);
    }
    return destination;
  }
  function toMutableSet_0(_this__u8e3s4) {
    var tmp0_subject = _this__u8e3s4;
    var tmp;
    if (isInterface(tmp0_subject, Collection)) {
      tmp = LinkedHashSet_init_$Create$_0(_this__u8e3s4);
    } else {
      tmp = toCollection_1(_this__u8e3s4, LinkedHashSet_init_$Create$());
    }
    return tmp;
  }
  function sam$kotlin_Comparator$0(function_0) {
    this.v_1 = function_0;
  }
  sam$kotlin_Comparator$0.prototype.w = function (a, b) {
    return this.v_1(a, b);
  };
  sam$kotlin_Comparator$0.prototype.compare = function (a, b) {
    return this.w(a, b);
  };
  sam$kotlin_Comparator$0.$metadata$ = classMeta('sam$kotlin_Comparator$0', [Comparator]);
  function _no_name_provided__qut3iv_4($this_asSequence) {
    this.x_1 = $this_asSequence;
  }
  _no_name_provided__qut3iv_4.prototype.h = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = this.x_1.h();
    }
    return tmp$ret$0;
  };
  _no_name_provided__qut3iv_4.$metadata$ = classMeta(undefined, [Sequence]);
  function sortBy$lambda($selector) {
    return function (a, b) {
      var tmp$ret$0;
      {
        tmp$ret$0 = compareValues($selector(a), $selector(b));
      }
      return tmp$ret$0;
    };
  }
  function forEach_1(_this__u8e3s4, action) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4.y().h();
    }
    var tmp0_iterator = tmp$ret$0;
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      action(element);
    }
  }
  function map_1(_this__u8e3s4, transform) {
    var tmp$ret$1;
    {
      var tmp0_mapTo = ArrayList_init_$Create$_0(_this__u8e3s4.m());
      var tmp$ret$0;
      {
        tmp$ret$0 = _this__u8e3s4.y().h();
      }
      var tmp0_iterator = tmp$ret$0;
      while (tmp0_iterator.n()) {
        var item = tmp0_iterator.o();
        tmp0_mapTo.b(transform(item));
      }
      tmp$ret$1 = tmp0_mapTo;
    }
    return tmp$ret$1;
  }
  function mapTo_1(_this__u8e3s4, destination, transform) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4.y().h();
    }
    var tmp0_iterator = tmp$ret$0;
    while (tmp0_iterator.n()) {
      var item = tmp0_iterator.o();
      destination.b(transform(item));
    }
    return destination;
  }
  function titlecaseImpl(_this__u8e3s4) {
    var tmp$ret$2;
    {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          var tmp0_asDynamic = toString_2(_this__u8e3s4);
          tmp$ret$0 = tmp0_asDynamic;
        }
        var tmp1_unsafeCast = tmp$ret$0.toUpperCase();
        tmp$ret$1 = tmp1_unsafeCast;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    var uppercase = tmp$ret$2;
    if (uppercase.length > 1) {
      var tmp;
      if (equals_1(new Char_0(_this__u8e3s4), new Char_0(_Char___init__impl__6a9atx(329)))) {
        tmp = uppercase;
      } else {
        var tmp$ret$7;
        {
          var tmp3_plus = charSequenceGet(uppercase, 0);
          var tmp$ret$6;
          {
            var tmp$ret$4;
            {
              var tmp$ret$3;
              {
                tmp$ret$3 = uppercase;
              }
              tmp$ret$4 = tmp$ret$3.substring(1);
            }
            var tmp2_lowercase = tmp$ret$4;
            var tmp$ret$5;
            {
              tmp$ret$5 = tmp2_lowercase;
            }
            tmp$ret$6 = tmp$ret$5.toLowerCase();
          }
          var tmp4_plus = tmp$ret$6;
          tmp$ret$7 = toString_2(tmp3_plus) + tmp4_plus;
        }
        tmp = tmp$ret$7;
      }
      return tmp;
    }
    return toString_2(titlecaseChar(_this__u8e3s4));
  }
  function until(_this__u8e3s4, to) {
    if (to <= IntCompanionObject_getInstance().a1_1)
      return Companion_getInstance_3().z_1;
    return numberRangeToNumber(_this__u8e3s4, to - 1 | 0);
  }
  function coerceAtLeast(_this__u8e3s4, minimumValue) {
    return _this__u8e3s4 < minimumValue ? minimumValue : _this__u8e3s4;
  }
  function step(_this__u8e3s4, step) {
    checkStepIsPositive(step > 0, step);
    return Companion_getInstance_5().h1(_this__u8e3s4.e1_1, _this__u8e3s4.f1_1, _this__u8e3s4.g1_1 > 0 ? step : -step | 0);
  }
  function coerceIn(_this__u8e3s4, minimumValue, maximumValue) {
    if (minimumValue.k1(maximumValue) > 0)
      throw IllegalArgumentException_init_$Create$_0('Cannot coerce value to an empty range: maximum ' + toString_4(maximumValue) + ' is less than minimum ' + toString_4(minimumValue) + '.');
    if (_this__u8e3s4.k1(minimumValue) < 0)
      return minimumValue;
    if (_this__u8e3s4.k1(maximumValue) > 0)
      return maximumValue;
    return _this__u8e3s4;
  }
  function coerceAtMost(_this__u8e3s4, maximumValue) {
    return _this__u8e3s4 > maximumValue ? maximumValue : _this__u8e3s4;
  }
  function reversed_1(_this__u8e3s4) {
    return Companion_getInstance_5().h1(_this__u8e3s4.f1_1, _this__u8e3s4.e1_1, -_this__u8e3s4.g1_1 | 0);
  }
  function downTo(_this__u8e3s4, to) {
    return Companion_getInstance_5().h1(_this__u8e3s4, to, -1);
  }
  function coerceIn_0(_this__u8e3s4, minimumValue, maximumValue) {
    if (minimumValue > maximumValue)
      throw IllegalArgumentException_init_$Create$_0('Cannot coerce value to an empty range: maximum ' + maximumValue + ' is less than minimum ' + minimumValue + '.');
    if (_this__u8e3s4 < minimumValue)
      return minimumValue;
    if (_this__u8e3s4 > maximumValue)
      return maximumValue;
    return _this__u8e3s4;
  }
  function filter_0(_this__u8e3s4, predicate) {
    return new FilteringSequence(_this__u8e3s4, true, predicate);
  }
  function chunked(_this__u8e3s4, size) {
    return windowed(_this__u8e3s4, size, size, true);
  }
  function flatMap_0(_this__u8e3s4, transform) {
    return new FlatteningSequence(_this__u8e3s4, transform, Sequence$iterator$ref());
  }
  function map_2(_this__u8e3s4, transform) {
    return new TransformingSequence(_this__u8e3s4, transform);
  }
  function forEach_2(_this__u8e3s4, action) {
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      action(element);
    }
  }
  function firstOrNull_1(_this__u8e3s4, predicate) {
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      if (predicate(element))
        return element;
    }
    return null;
  }
  function windowed(_this__u8e3s4, size, step, partialWindows) {
    return windowedSequence(_this__u8e3s4, size, step, partialWindows, false);
  }
  function toList_1(_this__u8e3s4) {
    return optimizeReadOnlyList(toMutableList_3(_this__u8e3s4));
  }
  function toMutableList_3(_this__u8e3s4) {
    return toCollection_2(_this__u8e3s4, ArrayList_init_$Create$());
  }
  function toCollection_2(_this__u8e3s4, destination) {
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var item = tmp0_iterator.o();
      destination.b(item);
    }
    return destination;
  }
  function joinToString_1(_this__u8e3s4, separator, prefix, postfix, limit, truncated, transform) {
    return joinTo_1(_this__u8e3s4, StringBuilder_init_$Create$_0(), separator, prefix, postfix, limit, truncated, transform).toString();
  }
  function joinToString$default_1(_this__u8e3s4, separator, prefix, postfix, limit, truncated, transform, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      separator = ', ';
    if (!(($mask0 & 2) === 0))
      prefix = '';
    if (!(($mask0 & 4) === 0))
      postfix = '';
    if (!(($mask0 & 8) === 0))
      limit = -1;
    if (!(($mask0 & 16) === 0))
      truncated = '...';
    if (!(($mask0 & 32) === 0))
      transform = null;
    return joinToString_1(_this__u8e3s4, separator, prefix, postfix, limit, truncated, transform);
  }
  function forEachIndexed_1(_this__u8e3s4, action) {
    var index = 0;
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var item = tmp0_iterator.o();
      var tmp1 = index;
      index = tmp1 + 1 | 0;
      action(checkIndexOverflow(tmp1), item);
    }
  }
  function asIterable_1(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = new _no_name_provided__qut3iv_5(_this__u8e3s4);
    }
    return tmp$ret$0;
  }
  function sumOf(_this__u8e3s4, selector) {
    var sum = 0;
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      sum = sum + selector(element) | 0;
    }
    return sum;
  }
  function indexOf_2(_this__u8e3s4, element) {
    var index = 0;
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var item = tmp0_iterator.o();
      checkIndexOverflow(index);
      if (equals_1(element, item))
        return index;
      var tmp1 = index;
      index = tmp1 + 1 | 0;
    }
    return -1;
  }
  function fold_1(_this__u8e3s4, initial, operation) {
    var accumulator = initial;
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      accumulator = operation(accumulator, element);
    }
    return accumulator;
  }
  function joinTo_1(_this__u8e3s4, buffer, separator, prefix, postfix, limit, truncated, transform) {
    buffer.c(prefix);
    var count = 0;
    var tmp0_iterator = _this__u8e3s4.h();
    $l$loop: while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      count = count + 1 | 0;
      if (count > 1) {
        buffer.c(separator);
      }
      if (limit < 0 ? true : count <= limit) {
        appendElement(buffer, element, transform);
      } else
        break $l$loop;
    }
    if (limit >= 0 ? count > limit : false) {
      buffer.c(truncated);
    }
    buffer.c(postfix);
    return buffer;
  }
  function Sequence$iterator$ref() {
    var l = function (p0) {
      return p0.h();
    };
    l.callableName = 'iterator';
    return l;
  }
  function _no_name_provided__qut3iv_5($this_asIterable) {
    this.l1_1 = $this_asIterable;
  }
  _no_name_provided__qut3iv_5.prototype.h = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = this.l1_1.h();
    }
    return tmp$ret$0;
  };
  _no_name_provided__qut3iv_5.$metadata$ = classMeta(undefined, [Iterable_0]);
  function plus_0(_this__u8e3s4, elements) {
    var tmp0_safe_receiver = collectionSizeOrNull(elements);
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        var tmp$ret$0;
        {
          tmp$ret$0 = _this__u8e3s4.m() + tmp0_safe_receiver | 0;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp = tmp$ret$1;
    }
    var tmp1_elvis_lhs = tmp;
    var result = LinkedHashSet_init_$Create$_1(mapCapacity(tmp1_elvis_lhs == null ? imul(_this__u8e3s4.m(), 2) : tmp1_elvis_lhs));
    result.m1(_this__u8e3s4);
    addAll(result, elements);
    return result;
  }
  function map_3(_this__u8e3s4, transform) {
    var tmp$ret$0;
    {
      var tmp0_mapTo = ArrayList_init_$Create$_0(charSequenceLength(_this__u8e3s4));
      var indexedObject = _this__u8e3s4;
      var inductionVariable = 0;
      while (inductionVariable < charSequenceLength(indexedObject)) {
        var item = charSequenceGet(indexedObject, inductionVariable);
        inductionVariable = inductionVariable + 1 | 0;
        tmp0_mapTo.b(transform(new Char_0(item)));
      }
      tmp$ret$0 = tmp0_mapTo;
    }
    return tmp$ret$0;
  }
  function forEachIndexed_2(_this__u8e3s4, action) {
    var index = 0;
    var indexedObject = _this__u8e3s4;
    var inductionVariable = 0;
    while (inductionVariable < charSequenceLength(indexedObject)) {
      var item = charSequenceGet(indexedObject, inductionVariable);
      inductionVariable = inductionVariable + 1 | 0;
      var tmp1 = index;
      index = tmp1 + 1 | 0;
      action(tmp1, new Char_0(item));
    }
  }
  function indexOfLast(_this__u8e3s4, predicate) {
    var inductionVariable = charSequenceLength(_this__u8e3s4) - 1 | 0;
    if (0 <= inductionVariable)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + -1 | 0;
        if (predicate(new Char_0(charSequenceGet(_this__u8e3s4, index)))) {
          return index;
        }
      }
       while (0 <= inductionVariable);
    return -1;
  }
  function getOrElse(_this__u8e3s4, index, defaultValue) {
    return (index >= 0 ? index <= get_lastIndex_4(_this__u8e3s4) : false) ? charSequenceGet(_this__u8e3s4, index) : defaultValue(index).n1_1;
  }
  function last_0(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = charSequenceLength(_this__u8e3s4) === 0;
    }
    if (tmp$ret$0)
      throw NoSuchElementException_init_$Create$_0('Char sequence is empty.');
    return charSequenceGet(_this__u8e3s4, get_lastIndex_4(_this__u8e3s4));
  }
  function drop(_this__u8e3s4, n) {
    {
      var tmp0_require = n >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Requested character count ' + n + ' is less than zero.';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message));
      }
    }
    var tmp$ret$2;
    {
      var tmp1_substring = coerceAtMost(n, _this__u8e3s4.length);
      var tmp$ret$1;
      {
        tmp$ret$1 = _this__u8e3s4;
      }
      tmp$ret$2 = tmp$ret$1.substring(tmp1_substring);
    }
    return tmp$ret$2;
  }
  function mapTo_2(_this__u8e3s4, destination, transform) {
    var indexedObject = _this__u8e3s4;
    var inductionVariable = 0;
    while (inductionVariable < charSequenceLength(indexedObject)) {
      var item = charSequenceGet(indexedObject, inductionVariable);
      inductionVariable = inductionVariable + 1 | 0;
      destination.b(transform(new Char_0(item)));
    }
    return destination;
  }
  function indexOfFirst_0(_this__u8e3s4, predicate) {
    var inductionVariable = 0;
    var last = charSequenceLength(_this__u8e3s4) - 1 | 0;
    if (inductionVariable <= last)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if (predicate(new Char_0(charSequenceGet(_this__u8e3s4, index)))) {
          return index;
        }
      }
       while (inductionVariable <= last);
    return -1;
  }
  function single_2(_this__u8e3s4) {
    var tmp0_subject = charSequenceLength(_this__u8e3s4);
    var tmp;
    switch (tmp0_subject) {
      case 0:
        throw NoSuchElementException_init_$Create$_0('Char sequence is empty.');
      case 1:
        tmp = charSequenceGet(_this__u8e3s4, 0);
        break;
      default:
        throw IllegalArgumentException_init_$Create$_0('Char sequence has more than one element.');
    }
    return tmp;
  }
  function forEach_3(_this__u8e3s4, action) {
    var indexedObject = _this__u8e3s4;
    var inductionVariable = 0;
    while (inductionVariable < charSequenceLength(indexedObject)) {
      var element = charSequenceGet(indexedObject, inductionVariable);
      inductionVariable = inductionVariable + 1 | 0;
      action(new Char_0(element));
    }
  }
  function KotlinNothingValueException_init_$Init$($this) {
    RuntimeException_init_$Init$($this);
    KotlinNothingValueException.call($this);
    return $this;
  }
  function KotlinNothingValueException_init_$Create$() {
    var tmp = KotlinNothingValueException_init_$Init$(Object.create(KotlinNothingValueException.prototype));
    captureStack(tmp, KotlinNothingValueException_init_$Create$);
    return tmp;
  }
  function KotlinNothingValueException() {
    captureStack(this, KotlinNothingValueException);
  }
  KotlinNothingValueException.$metadata$ = classMeta('KotlinNothingValueException', undefined, undefined, undefined, undefined, RuntimeException.prototype);
  function get_PI() {
    return PI;
  }
  var PI;
  function get_code(_this__u8e3s4) {
    return Char__toInt_impl_vasixd(_this__u8e3s4);
  }
  function Char(code) {
    var tmp;
    var tmp$ret$0;
    {
      Companion_getInstance_12();
      var tmp0__get_code__88qj9g = _Char___init__impl__6a9atx(0);
      tmp$ret$0 = Char__toInt_impl_vasixd(tmp0__get_code__88qj9g);
    }
    if (code < tmp$ret$0) {
      tmp = true;
    } else {
      var tmp$ret$1;
      {
        Companion_getInstance_12();
        var tmp1__get_code__adl84j = _Char___init__impl__6a9atx(65535);
        tmp$ret$1 = Char__toInt_impl_vasixd(tmp1__get_code__adl84j);
      }
      tmp = code > tmp$ret$1;
    }
    if (tmp) {
      throw IllegalArgumentException_init_$Create$_0('Invalid Char code: ' + code);
    }
    return numberToChar(code);
  }
  function AbstractCollection$toString$lambda(this$0) {
    return function (it) {
      return it === this$0 ? '(this Collection)' : toString_3(it);
    };
  }
  function AbstractCollection() {
  }
  AbstractCollection.prototype.p = function (element) {
    var tmp$ret$0;
    $l$block_0: {
      var tmp;
      if (isInterface(this, Collection)) {
        tmp = this.q();
      } else {
        tmp = false;
      }
      if (tmp) {
        tmp$ret$0 = false;
        break $l$block_0;
      }
      var tmp0_iterator = this.h();
      while (tmp0_iterator.n()) {
        var element_0 = tmp0_iterator.o();
        var tmp$ret$1;
        {
          tmp$ret$1 = equals_1(element_0, element);
        }
        if (tmp$ret$1) {
          tmp$ret$0 = true;
          break $l$block_0;
        }
      }
      tmp$ret$0 = false;
    }
    return tmp$ret$0;
  };
  AbstractCollection.prototype.q1 = function (elements) {
    var tmp$ret$0;
    $l$block_0: {
      var tmp;
      if (isInterface(elements, Collection)) {
        tmp = elements.q();
      } else {
        tmp = false;
      }
      if (tmp) {
        tmp$ret$0 = true;
        break $l$block_0;
      }
      var tmp0_iterator = elements.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$1;
        {
          tmp$ret$1 = this.p(element);
        }
        if (!tmp$ret$1) {
          tmp$ret$0 = false;
          break $l$block_0;
        }
      }
      tmp$ret$0 = true;
    }
    return tmp$ret$0;
  };
  AbstractCollection.prototype.q = function () {
    return this.m() === 0;
  };
  AbstractCollection.prototype.toString = function () {
    return joinToString$default_0(this, ', ', '[', ']', 0, null, AbstractCollection$toString$lambda(this), 24, null);
  };
  AbstractCollection.prototype.toArray = function () {
    return copyToArrayImpl(this);
  };
  AbstractCollection.$metadata$ = classMeta('AbstractCollection', [Collection]);
  function tryToComputeNext($this) {
    $this.r1_1 = State_Failed_getInstance();
    $this.t1();
    return $this.r1_1.equals(State_Ready_getInstance());
  }
  function AbstractIterator() {
    this.r1_1 = State_NotReady_getInstance();
    this.s1_1 = null;
  }
  AbstractIterator.prototype.n = function () {
    {
      var tmp0_require = !this.r1_1.equals(State_Failed_getInstance());
      {
      }
      {
        {
        }
        if (!tmp0_require) {
          var tmp$ret$0;
          {
            tmp$ret$0 = 'Failed requirement.';
          }
          var message = tmp$ret$0;
          throw IllegalArgumentException_init_$Create$_0(toString_4(message));
        }
      }
    }
    var tmp0_subject = this.r1_1;
    var tmp0 = tmp0_subject.w1();
    switch (tmp0) {
      case 2:
        return false;
      case 0:
        return true;
      default:
        return tryToComputeNext(this);
    }
  };
  AbstractIterator.prototype.o = function () {
    if (!this.n())
      throw NoSuchElementException_init_$Create$();
    this.r1_1 = State_NotReady_getInstance();
    var tmp = this.s1_1;
    return (tmp == null ? true : isObject(tmp)) ? tmp : THROW_CCE();
  };
  AbstractIterator.prototype.x1 = function (value) {
    this.s1_1 = value;
    this.r1_1 = State_Ready_getInstance();
  };
  AbstractIterator.prototype.y1 = function () {
    this.r1_1 = State_Done_getInstance();
  };
  AbstractIterator.$metadata$ = classMeta('AbstractIterator', [Iterator]);
  var State_Ready_instance;
  var State_NotReady_instance;
  var State_Done_instance;
  var State_Failed_instance;
  var State_entriesInitialized;
  function State_initEntries() {
    if (State_entriesInitialized)
      return Unit_getInstance();
    State_entriesInitialized = true;
    State_Ready_instance = new State('Ready', 0);
    State_NotReady_instance = new State('NotReady', 1);
    State_Done_instance = new State('Done', 2);
    State_Failed_instance = new State('Failed', 3);
  }
  function State(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  State.$metadata$ = classMeta('State', undefined, undefined, undefined, undefined, Enum.prototype);
  function State_Ready_getInstance() {
    State_initEntries();
    return State_Ready_instance;
  }
  function State_NotReady_getInstance() {
    State_initEntries();
    return State_NotReady_instance;
  }
  function State_Done_getInstance() {
    State_initEntries();
    return State_Done_instance;
  }
  function State_Failed_getInstance() {
    State_initEntries();
    return State_Failed_instance;
  }
  function IteratorImpl($outer) {
    this.b2_1 = $outer;
    this.a2_1 = 0;
  }
  IteratorImpl.prototype.n = function () {
    return this.a2_1 < this.b2_1.m();
  };
  IteratorImpl.prototype.o = function () {
    if (!this.n())
      throw NoSuchElementException_init_$Create$();
    var tmp0_this = this;
    var tmp1 = tmp0_this.a2_1;
    tmp0_this.a2_1 = tmp1 + 1 | 0;
    return this.b2_1.r(tmp1);
  };
  IteratorImpl.$metadata$ = classMeta('IteratorImpl', [Iterator]);
  function Companion() {
    Companion_instance = this;
  }
  Companion.prototype.c2 = function (index, size) {
    if (index < 0 ? true : index >= size) {
      throw IndexOutOfBoundsException_init_$Create$('index: ' + index + ', size: ' + size);
    }
  };
  Companion.prototype.d2 = function (index, size) {
    if (index < 0 ? true : index > size) {
      throw IndexOutOfBoundsException_init_$Create$('index: ' + index + ', size: ' + size);
    }
  };
  Companion.prototype.e2 = function (fromIndex, toIndex, size) {
    if (fromIndex < 0 ? true : toIndex > size) {
      throw IndexOutOfBoundsException_init_$Create$('fromIndex: ' + fromIndex + ', toIndex: ' + toIndex + ', size: ' + size);
    }
    if (fromIndex > toIndex) {
      throw IllegalArgumentException_init_$Create$_0('fromIndex: ' + fromIndex + ' > toIndex: ' + toIndex);
    }
  };
  Companion.prototype.f2 = function (startIndex, endIndex, size) {
    if (startIndex < 0 ? true : endIndex > size) {
      throw IndexOutOfBoundsException_init_$Create$('startIndex: ' + startIndex + ', endIndex: ' + endIndex + ', size: ' + size);
    }
    if (startIndex > endIndex) {
      throw IllegalArgumentException_init_$Create$_0('startIndex: ' + startIndex + ' > endIndex: ' + endIndex);
    }
  };
  Companion.prototype.g2 = function (c) {
    var hashCode = 1;
    var tmp0_iterator = c.h();
    while (tmp0_iterator.n()) {
      var e = tmp0_iterator.o();
      var tmp = imul(31, hashCode);
      var tmp1_safe_receiver = e;
      var tmp2_elvis_lhs = tmp1_safe_receiver == null ? null : hashCode_0(tmp1_safe_receiver);
      hashCode = tmp + (tmp2_elvis_lhs == null ? 0 : tmp2_elvis_lhs) | 0;
    }
    return hashCode;
  };
  Companion.prototype.h2 = function (c, other) {
    if (!(c.m() === other.m()))
      return false;
    var otherIterator = other.h();
    var tmp0_iterator = c.h();
    while (tmp0_iterator.n()) {
      var elem = tmp0_iterator.o();
      var elemOther = otherIterator.o();
      if (!equals_1(elem, elemOther)) {
        return false;
      }
    }
    return true;
  };
  Companion.$metadata$ = objectMeta('Companion');
  var Companion_instance;
  function Companion_getInstance() {
    if (Companion_instance == null)
      new Companion();
    return Companion_instance;
  }
  function AbstractList() {
    Companion_getInstance();
    AbstractCollection.call(this);
  }
  AbstractList.prototype.h = function () {
    return new IteratorImpl(this);
  };
  AbstractList.prototype.u = function (element) {
    var tmp$ret$1;
    $l$block: {
      var index = 0;
      var tmp0_iterator = this.h();
      while (tmp0_iterator.n()) {
        var item = tmp0_iterator.o();
        var tmp$ret$0;
        {
          tmp$ret$0 = equals_1(item, element);
        }
        if (tmp$ret$0) {
          tmp$ret$1 = index;
          break $l$block;
        }
        var tmp1 = index;
        index = tmp1 + 1 | 0;
      }
      tmp$ret$1 = -1;
    }
    return tmp$ret$1;
  };
  AbstractList.prototype.equals = function (other) {
    if (other === this)
      return true;
    if (!(!(other == null) ? isInterface(other, List_0) : false))
      return false;
    return Companion_getInstance().h2(this, other);
  };
  AbstractList.prototype.hashCode = function () {
    return Companion_getInstance().g2(this);
  };
  AbstractList.$metadata$ = classMeta('AbstractList', [List_0], undefined, undefined, undefined, AbstractCollection.prototype);
  function AbstractMap$keys$1$iterator$1($entryIterator) {
    this.i2_1 = $entryIterator;
  }
  AbstractMap$keys$1$iterator$1.prototype.n = function () {
    return this.i2_1.n();
  };
  AbstractMap$keys$1$iterator$1.prototype.o = function () {
    return this.i2_1.o().j2();
  };
  AbstractMap$keys$1$iterator$1.$metadata$ = classMeta(undefined, [Iterator]);
  function AbstractMap$values$1$iterator$1($entryIterator) {
    this.k2_1 = $entryIterator;
  }
  AbstractMap$values$1$iterator$1.prototype.n = function () {
    return this.k2_1.n();
  };
  AbstractMap$values$1$iterator$1.prototype.o = function () {
    return this.k2_1.o().l2();
  };
  AbstractMap$values$1$iterator$1.$metadata$ = classMeta(undefined, [Iterator]);
  function toString($this, o) {
    return o === $this ? '(this Map)' : toString_3(o);
  }
  function implFindEntry($this, key) {
    var tmp$ret$1;
    $l$block: {
      var tmp0_firstOrNull = $this.y();
      var tmp0_iterator = tmp0_firstOrNull.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$0;
        {
          tmp$ret$0 = equals_1(element.j2(), key);
        }
        if (tmp$ret$0) {
          tmp$ret$1 = element;
          break $l$block;
        }
      }
      tmp$ret$1 = null;
    }
    return tmp$ret$1;
  }
  function Companion_0() {
    Companion_instance_0 = this;
  }
  Companion_0.prototype.m2 = function (e) {
    var tmp$ret$1;
    {
      {
      }
      var tmp$ret$0;
      {
        var tmp2_safe_receiver = e.j2();
        var tmp3_elvis_lhs = tmp2_safe_receiver == null ? null : hashCode_0(tmp2_safe_receiver);
        var tmp = tmp3_elvis_lhs == null ? 0 : tmp3_elvis_lhs;
        var tmp0_safe_receiver = e.l2();
        var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : hashCode_0(tmp0_safe_receiver);
        tmp$ret$0 = tmp ^ (tmp1_elvis_lhs == null ? 0 : tmp1_elvis_lhs);
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1;
  };
  Companion_0.prototype.n2 = function (e) {
    var tmp$ret$1;
    {
      {
      }
      var tmp$ret$0;
      {
        tmp$ret$0 = toString_3(e.j2()) + '=' + toString_3(e.l2());
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1;
  };
  Companion_0.prototype.o2 = function (e, other) {
    if (!(!(other == null) ? isInterface(other, Entry) : false))
      return false;
    return equals_1(e.j2(), other.j2()) ? equals_1(e.l2(), other.l2()) : false;
  };
  Companion_0.$metadata$ = objectMeta('Companion');
  var Companion_instance_0;
  function Companion_getInstance_0() {
    if (Companion_instance_0 == null)
      new Companion_0();
    return Companion_instance_0;
  }
  function AbstractMap$keys$1(this$0) {
    this.p2_1 = this$0;
    AbstractSet.call(this);
  }
  AbstractMap$keys$1.prototype.q2 = function (element) {
    return this.p2_1.t2(element);
  };
  AbstractMap$keys$1.prototype.p = function (element) {
    if (!(element == null ? true : isObject(element)))
      return false;
    return this.q2((element == null ? true : isObject(element)) ? element : THROW_CCE());
  };
  AbstractMap$keys$1.prototype.h = function () {
    var entryIterator = this.p2_1.y().h();
    return new AbstractMap$keys$1$iterator$1(entryIterator);
  };
  AbstractMap$keys$1.prototype.m = function () {
    return this.p2_1.m();
  };
  AbstractMap$keys$1.$metadata$ = classMeta(undefined, undefined, undefined, undefined, undefined, AbstractSet.prototype);
  function AbstractMap$toString$lambda(this$0) {
    return function (it) {
      return this$0.u2(it);
    };
  }
  function AbstractMap$values$1(this$0) {
    this.v2_1 = this$0;
    AbstractCollection.call(this);
  }
  AbstractMap$values$1.prototype.w2 = function (element) {
    return this.v2_1.x2(element);
  };
  AbstractMap$values$1.prototype.p = function (element) {
    if (!(element == null ? true : isObject(element)))
      return false;
    return this.w2((element == null ? true : isObject(element)) ? element : THROW_CCE());
  };
  AbstractMap$values$1.prototype.h = function () {
    var entryIterator = this.v2_1.y().h();
    return new AbstractMap$values$1$iterator$1(entryIterator);
  };
  AbstractMap$values$1.prototype.m = function () {
    return this.v2_1.m();
  };
  AbstractMap$values$1.$metadata$ = classMeta(undefined, undefined, undefined, undefined, undefined, AbstractCollection.prototype);
  function AbstractMap() {
    Companion_getInstance_0();
    this.r2_1 = null;
    this.s2_1 = null;
  }
  AbstractMap.prototype.t2 = function (key) {
    return !(implFindEntry(this, key) == null);
  };
  AbstractMap.prototype.x2 = function (value) {
    var tmp$ret$0;
    $l$block_0: {
      var tmp0_any = this.y();
      var tmp;
      if (isInterface(tmp0_any, Collection)) {
        tmp = tmp0_any.q();
      } else {
        tmp = false;
      }
      if (tmp) {
        tmp$ret$0 = false;
        break $l$block_0;
      }
      var tmp0_iterator = tmp0_any.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$1;
        {
          tmp$ret$1 = equals_1(element.l2(), value);
        }
        if (tmp$ret$1) {
          tmp$ret$0 = true;
          break $l$block_0;
        }
      }
      tmp$ret$0 = false;
    }
    return tmp$ret$0;
  };
  AbstractMap.prototype.y2 = function (entry) {
    if (!(!(entry == null) ? isInterface(entry, Entry) : false))
      return false;
    var key = entry.j2();
    var value = entry.l2();
    var tmp$ret$0;
    {
      tmp$ret$0 = (isInterface(this, Map) ? this : THROW_CCE()).z2(key);
    }
    var ourValue = tmp$ret$0;
    if (!equals_1(value, ourValue)) {
      return false;
    }
    var tmp;
    if (ourValue == null) {
      var tmp$ret$1;
      {
        tmp$ret$1 = (isInterface(this, Map) ? this : THROW_CCE()).t2(key);
      }
      tmp = !tmp$ret$1;
    } else {
      tmp = false;
    }
    if (tmp) {
      return false;
    }
    return true;
  };
  AbstractMap.prototype.equals = function (other) {
    if (other === this)
      return true;
    if (!(!(other == null) ? isInterface(other, Map) : false))
      return false;
    if (!(this.m() === other.m()))
      return false;
    var tmp$ret$0;
    $l$block_0: {
      var tmp0_all = other.y();
      var tmp;
      if (isInterface(tmp0_all, Collection)) {
        tmp = tmp0_all.q();
      } else {
        tmp = false;
      }
      if (tmp) {
        tmp$ret$0 = true;
        break $l$block_0;
      }
      var tmp0_iterator = tmp0_all.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$1;
        {
          tmp$ret$1 = this.y2(element);
        }
        if (!tmp$ret$1) {
          tmp$ret$0 = false;
          break $l$block_0;
        }
      }
      tmp$ret$0 = true;
    }
    return tmp$ret$0;
  };
  AbstractMap.prototype.z2 = function (key) {
    var tmp0_safe_receiver = implFindEntry(this, key);
    return tmp0_safe_receiver == null ? null : tmp0_safe_receiver.l2();
  };
  AbstractMap.prototype.hashCode = function () {
    return hashCode_0(this.y());
  };
  AbstractMap.prototype.q = function () {
    return this.m() === 0;
  };
  AbstractMap.prototype.m = function () {
    return this.y().m();
  };
  AbstractMap.prototype.a3 = function () {
    if (this.r2_1 == null) {
      var tmp = this;
      tmp.r2_1 = new AbstractMap$keys$1(this);
    }
    return ensureNotNull(this.r2_1);
  };
  AbstractMap.prototype.toString = function () {
    var tmp = this.y();
    return joinToString$default_0(tmp, ', ', '{', '}', 0, null, AbstractMap$toString$lambda(this), 24, null);
  };
  AbstractMap.prototype.u2 = function (entry) {
    return toString(this, entry.j2()) + '=' + toString(this, entry.l2());
  };
  AbstractMap.prototype.b3 = function () {
    if (this.s2_1 == null) {
      var tmp = this;
      tmp.s2_1 = new AbstractMap$values$1(this);
    }
    return ensureNotNull(this.s2_1);
  };
  AbstractMap.$metadata$ = classMeta('AbstractMap', [Map]);
  function Companion_1() {
    Companion_instance_1 = this;
  }
  Companion_1.prototype.c3 = function (c) {
    var hashCode = 0;
    var tmp0_iterator = c.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      var tmp = hashCode;
      var tmp1_safe_receiver = element;
      var tmp2_elvis_lhs = tmp1_safe_receiver == null ? null : hashCode_0(tmp1_safe_receiver);
      hashCode = tmp + (tmp2_elvis_lhs == null ? 0 : tmp2_elvis_lhs) | 0;
    }
    return hashCode;
  };
  Companion_1.prototype.d3 = function (c, other) {
    if (!(c.m() === other.m()))
      return false;
    var tmp$ret$0;
    {
      tmp$ret$0 = c.q1(other);
    }
    return tmp$ret$0;
  };
  Companion_1.$metadata$ = objectMeta('Companion');
  var Companion_instance_1;
  function Companion_getInstance_1() {
    if (Companion_instance_1 == null)
      new Companion_1();
    return Companion_instance_1;
  }
  function AbstractSet() {
    Companion_getInstance_1();
    AbstractCollection.call(this);
  }
  AbstractSet.prototype.equals = function (other) {
    if (other === this)
      return true;
    if (!(!(other == null) ? isInterface(other, Set) : false))
      return false;
    return Companion_getInstance_1().d3(this, other);
  };
  AbstractSet.prototype.hashCode = function () {
    return Companion_getInstance_1().c3(this);
  };
  AbstractSet.$metadata$ = classMeta('AbstractSet', [Set], undefined, undefined, undefined, AbstractCollection.prototype);
  function convertToSetForSetOperationWith(_this__u8e3s4, source) {
    var tmp0_subject = _this__u8e3s4;
    var tmp;
    if (isInterface(tmp0_subject, Set)) {
      tmp = _this__u8e3s4;
    } else {
      if (isInterface(tmp0_subject, Collection)) {
        var tmp_0;
        var tmp_1;
        if (isInterface(source, Collection)) {
          tmp_1 = source.m() < 2;
        } else {
          tmp_1 = false;
        }
        if (tmp_1) {
          tmp_0 = _this__u8e3s4;
        } else {
          tmp_0 = safeToConvertToSet(_this__u8e3s4) ? toHashSet(_this__u8e3s4) : _this__u8e3s4;
        }
        tmp = tmp_0;
      } else {
        tmp = brittleContainsOptimizationEnabled() ? toHashSet(_this__u8e3s4) : toList_0(_this__u8e3s4);
      }
    }
    return tmp;
  }
  function safeToConvertToSet(_this__u8e3s4) {
    var tmp;
    if (brittleContainsOptimizationEnabled() ? _this__u8e3s4.m() > 2 : false) {
      tmp = _this__u8e3s4 instanceof ArrayList;
    } else {
      tmp = false;
    }
    return tmp;
  }
  function emptyList() {
    return EmptyList_getInstance();
  }
  function arrayListOf() {
    return ArrayList_init_$Create$();
  }
  function isNullOrEmpty(_this__u8e3s4) {
    {
    }
    return _this__u8e3s4 == null ? true : _this__u8e3s4.q();
  }
  function listOf(elements) {
    return elements.length > 0 ? asList(elements) : emptyList();
  }
  function mutableListOf() {
    return ArrayList_init_$Create$();
  }
  function isNotEmpty(_this__u8e3s4) {
    return !_this__u8e3s4.q();
  }
  function shuffled(_this__u8e3s4, random) {
    var tmp$ret$0;
    {
      var tmp0_apply = toMutableList_1(_this__u8e3s4);
      {
      }
      {
        shuffle(tmp0_apply, random);
      }
      tmp$ret$0 = tmp0_apply;
    }
    return tmp$ret$0;
  }
  function EmptyList() {
    EmptyList_instance = this;
    this.e3_1 = new Long(-1478467534, -1720727600);
  }
  EmptyList.prototype.equals = function (other) {
    var tmp;
    if (!(other == null) ? isInterface(other, List_0) : false) {
      tmp = other.q();
    } else {
      tmp = false;
    }
    return tmp;
  };
  EmptyList.prototype.hashCode = function () {
    return 1;
  };
  EmptyList.prototype.toString = function () {
    return '[]';
  };
  EmptyList.prototype.m = function () {
    return 0;
  };
  EmptyList.prototype.q = function () {
    return true;
  };
  EmptyList.prototype.f3 = function (element) {
    return false;
  };
  EmptyList.prototype.p = function (element) {
    if (true)
      return false;
    var tmp;
    if (false) {} else {
      tmp = THROW_CCE();
    }
    return this.f3(tmp);
  };
  EmptyList.prototype.g3 = function (elements) {
    return elements.q();
  };
  EmptyList.prototype.q1 = function (elements) {
    return this.g3(elements);
  };
  EmptyList.prototype.r = function (index) {
    throw IndexOutOfBoundsException_init_$Create$("Empty list doesn't contain element at index " + index + '.');
  };
  EmptyList.prototype.h3 = function (element) {
    return -1;
  };
  EmptyList.prototype.u = function (element) {
    if (true)
      return -1;
    var tmp;
    if (false) {} else {
      tmp = THROW_CCE();
    }
    return this.h3(tmp);
  };
  EmptyList.prototype.h = function () {
    return EmptyIterator_getInstance();
  };
  EmptyList.$metadata$ = objectMeta('EmptyList', [List_0, Serializable, RandomAccess]);
  var EmptyList_instance;
  function EmptyList_getInstance() {
    if (EmptyList_instance == null)
      new EmptyList();
    return EmptyList_instance;
  }
  function EmptyIterator() {
    EmptyIterator_instance = this;
  }
  EmptyIterator.prototype.n = function () {
    return false;
  };
  EmptyIterator.prototype.o = function () {
    throw NoSuchElementException_init_$Create$();
  };
  EmptyIterator.$metadata$ = objectMeta('EmptyIterator', [ListIterator]);
  var EmptyIterator_instance;
  function EmptyIterator_getInstance() {
    if (EmptyIterator_instance == null)
      new EmptyIterator();
    return EmptyIterator_instance;
  }
  function get_lastIndex_3(_this__u8e3s4) {
    return _this__u8e3s4.m() - 1 | 0;
  }
  function asCollection(_this__u8e3s4) {
    return new ArrayAsCollection(_this__u8e3s4, false);
  }
  function optimizeReadOnlyList(_this__u8e3s4) {
    var tmp0_subject = _this__u8e3s4.m();
    switch (tmp0_subject) {
      case 0:
        return emptyList();
      case 1:
        return listOf_0(_this__u8e3s4.r(0));
      default:
        return _this__u8e3s4;
    }
  }
  function List(size, init) {
    var tmp$ret$0;
    {
      var list = ArrayList_init_$Create$_0(size);
      {
        {
        }
        var inductionVariable = 0;
        if (inductionVariable < size)
          do {
            var index = inductionVariable;
            inductionVariable = inductionVariable + 1 | 0;
            {
              list.b(init(index));
            }
          }
           while (inductionVariable < size);
      }
      tmp$ret$0 = list;
    }
    return tmp$ret$0;
  }
  function arrayListOf_0(elements) {
    return elements.length === 0 ? ArrayList_init_$Create$() : ArrayList_init_$Create$_1(new ArrayAsCollection(elements, true));
  }
  function throwIndexOverflow() {
    throw ArithmeticException_init_$Create$('Index overflow has happened.');
  }
  function ArrayAsCollection(values, isVarargs) {
    this.i3_1 = values;
    this.j3_1 = isVarargs;
  }
  ArrayAsCollection.prototype.m = function () {
    return this.i3_1.length;
  };
  ArrayAsCollection.prototype.q = function () {
    var tmp$ret$0;
    {
      var tmp0_isEmpty = this.i3_1;
      tmp$ret$0 = tmp0_isEmpty.length === 0;
    }
    return tmp$ret$0;
  };
  ArrayAsCollection.prototype.k3 = function (element) {
    return contains(this.i3_1, element);
  };
  ArrayAsCollection.prototype.p = function (element) {
    if (!(element == null ? true : isObject(element)))
      return false;
    return this.k3((element == null ? true : isObject(element)) ? element : THROW_CCE());
  };
  ArrayAsCollection.prototype.l3 = function (elements) {
    var tmp$ret$0;
    $l$block_0: {
      var tmp;
      if (isInterface(elements, Collection)) {
        tmp = elements.q();
      } else {
        tmp = false;
      }
      if (tmp) {
        tmp$ret$0 = true;
        break $l$block_0;
      }
      var tmp0_iterator = elements.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$1;
        {
          tmp$ret$1 = this.k3(element);
        }
        if (!tmp$ret$1) {
          tmp$ret$0 = false;
          break $l$block_0;
        }
      }
      tmp$ret$0 = true;
    }
    return tmp$ret$0;
  };
  ArrayAsCollection.prototype.q1 = function (elements) {
    return this.l3(elements);
  };
  ArrayAsCollection.prototype.h = function () {
    return arrayIterator(this.i3_1);
  };
  ArrayAsCollection.$metadata$ = classMeta('ArrayAsCollection', [Collection]);
  function MutableList(size, init) {
    var list = ArrayList_init_$Create$_0(size);
    {
      {
      }
      var inductionVariable = 0;
      if (inductionVariable < size)
        do {
          var index = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          {
            list.b(init(index));
          }
        }
         while (inductionVariable < size);
    }
    return list;
  }
  function get_indices_2(_this__u8e3s4) {
    return numberRangeToNumber(0, _this__u8e3s4.m() - 1 | 0);
  }
  function containsAll(_this__u8e3s4, elements) {
    return _this__u8e3s4.q1(elements);
  }
  function mutableListOf_0(elements) {
    return elements.length === 0 ? ArrayList_init_$Create$() : ArrayList_init_$Create$_1(new ArrayAsCollection(elements, true));
  }
  function IndexedValue(index, value) {
    this.m3_1 = index;
    this.n3_1 = value;
  }
  IndexedValue.prototype.o3 = function () {
    return this.m3_1;
  };
  IndexedValue.prototype.l2 = function () {
    return this.n3_1;
  };
  IndexedValue.prototype.toString = function () {
    return 'IndexedValue(index=' + this.m3_1 + ', value=' + this.n3_1 + ')';
  };
  IndexedValue.prototype.hashCode = function () {
    var result = this.m3_1;
    result = imul(result, 31) + (this.n3_1 == null ? 0 : hashCode_0(this.n3_1)) | 0;
    return result;
  };
  IndexedValue.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof IndexedValue))
      return false;
    var tmp0_other_with_cast = other instanceof IndexedValue ? other : THROW_CCE();
    if (!(this.m3_1 === tmp0_other_with_cast.m3_1))
      return false;
    if (!equals_1(this.n3_1, tmp0_other_with_cast.n3_1))
      return false;
    return true;
  };
  IndexedValue.$metadata$ = classMeta('IndexedValue');
  function Iterable(iterator) {
    return new _no_name_provided__qut3iv_6(iterator);
  }
  function IndexingIterable(iteratorFactory) {
    this.p3_1 = iteratorFactory;
  }
  IndexingIterable.prototype.h = function () {
    return new IndexingIterator(this.p3_1());
  };
  IndexingIterable.$metadata$ = classMeta('IndexingIterable', [Iterable_0]);
  function collectionSizeOrDefault(_this__u8e3s4, default_0) {
    var tmp;
    if (isInterface(_this__u8e3s4, Collection)) {
      tmp = _this__u8e3s4.m();
    } else {
      tmp = default_0;
    }
    return tmp;
  }
  function flatten(_this__u8e3s4) {
    var result = ArrayList_init_$Create$();
    var tmp0_iterator = _this__u8e3s4.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      addAll(result, element);
    }
    return result;
  }
  function collectionSizeOrNull(_this__u8e3s4) {
    var tmp;
    if (isInterface(_this__u8e3s4, Collection)) {
      tmp = _this__u8e3s4.m();
    } else {
      tmp = null;
    }
    return tmp;
  }
  function _no_name_provided__qut3iv_6($iterator) {
    this.q3_1 = $iterator;
  }
  _no_name_provided__qut3iv_6.prototype.h = function () {
    return this.q3_1();
  };
  _no_name_provided__qut3iv_6.$metadata$ = classMeta(undefined, [Iterable_0]);
  function IndexingIterator(iterator) {
    this.r3_1 = iterator;
    this.s3_1 = 0;
  }
  IndexingIterator.prototype.n = function () {
    return this.r3_1.n();
  };
  IndexingIterator.prototype.o = function () {
    var tmp0_this = this;
    var tmp1 = tmp0_this.s3_1;
    tmp0_this.s3_1 = tmp1 + 1 | 0;
    return new IndexedValue(checkIndexOverflow(tmp1), this.r3_1.o());
  };
  IndexingIterator.$metadata$ = classMeta('IndexingIterator', [Iterator]);
  function getOrImplicitDefault(_this__u8e3s4, key) {
    if (isInterface(_this__u8e3s4, MapWithDefault))
      return _this__u8e3s4.t3(key);
    var tmp$ret$0;
    $l$block: {
      var value = _this__u8e3s4.z2(key);
      if (value == null ? !_this__u8e3s4.t2(key) : false) {
        throw NoSuchElementException_init_$Create$_0('Key ' + key + ' is missing in the map.');
      } else {
        tmp$ret$0 = (value == null ? true : isObject(value)) ? value : THROW_CCE();
        break $l$block;
      }
    }
    return tmp$ret$0;
  }
  function MapWithDefault() {
  }
  MapWithDefault.$metadata$ = interfaceMeta('MapWithDefault', [Map]);
  function mapOf(pairs) {
    return pairs.length > 0 ? toMap_0(pairs, LinkedHashMap_init_$Create$_1(mapCapacity(pairs.length))) : emptyMap();
  }
  function emptyMap() {
    var tmp = EmptyMap_getInstance();
    return isInterface(tmp, Map) ? tmp : THROW_CCE();
  }
  function get_1(_this__u8e3s4, key) {
    return (isInterface(_this__u8e3s4, Map) ? _this__u8e3s4 : THROW_CCE()).z2(key);
  }
  function component1_1(_this__u8e3s4) {
    return _this__u8e3s4.j2();
  }
  function component2_1(_this__u8e3s4) {
    return _this__u8e3s4.l2();
  }
  function getValue(_this__u8e3s4, key) {
    return getOrImplicitDefault(_this__u8e3s4, key);
  }
  function set(_this__u8e3s4, key, value) {
    _this__u8e3s4.a(key, value);
  }
  function iterator(_this__u8e3s4) {
    return _this__u8e3s4.y().h();
  }
  function toMap(_this__u8e3s4) {
    if (isInterface(_this__u8e3s4, Collection)) {
      var tmp0_subject = _this__u8e3s4.m();
      var tmp;
      switch (tmp0_subject) {
        case 0:
          tmp = emptyMap();
          break;
        case 1:
          var tmp_0;
          if (isInterface(_this__u8e3s4, List_0)) {
            tmp_0 = _this__u8e3s4.r(0);
          } else {
            tmp_0 = _this__u8e3s4.h().o();
          }

          tmp = mapOf_0(tmp_0);
          break;
        default:
          tmp = toMap_1(_this__u8e3s4, LinkedHashMap_init_$Create$_1(mapCapacity(_this__u8e3s4.m())));
          break;
      }
      return tmp;
    }
    return optimizeReadOnlyMap(toMap_1(_this__u8e3s4, LinkedHashMap_init_$Create$()));
  }
  function getOrPut(_this__u8e3s4, key, defaultValue) {
    var value = _this__u8e3s4.z2(key);
    var tmp;
    if (value == null) {
      var answer = defaultValue();
      _this__u8e3s4.a(key, answer);
      tmp = answer;
    } else {
      tmp = value;
    }
    return tmp;
  }
  function mutableMapOf() {
    return LinkedHashMap_init_$Create$();
  }
  function contains_2(_this__u8e3s4, key) {
    var tmp$ret$0;
    {
      tmp$ret$0 = (isInterface(_this__u8e3s4, Map) ? _this__u8e3s4 : THROW_CCE()).t2(key);
    }
    return tmp$ret$0;
  }
  function toMap_0(_this__u8e3s4, destination) {
    var tmp$ret$0;
    {
      {
      }
      {
        putAll(destination, _this__u8e3s4);
      }
      tmp$ret$0 = destination;
    }
    return tmp$ret$0;
  }
  function EmptyMap() {
    EmptyMap_instance = this;
    this.u3_1 = new Long(-888910638, 1920087921);
  }
  EmptyMap.prototype.equals = function (other) {
    var tmp;
    if (!(other == null) ? isInterface(other, Map) : false) {
      tmp = other.q();
    } else {
      tmp = false;
    }
    return tmp;
  };
  EmptyMap.prototype.hashCode = function () {
    return 0;
  };
  EmptyMap.prototype.toString = function () {
    return '{}';
  };
  EmptyMap.prototype.m = function () {
    return 0;
  };
  EmptyMap.prototype.q = function () {
    return true;
  };
  EmptyMap.prototype.v3 = function (key) {
    return false;
  };
  EmptyMap.prototype.t2 = function (key) {
    if (!(key == null ? true : isObject(key)))
      return false;
    return this.v3((key == null ? true : isObject(key)) ? key : THROW_CCE());
  };
  EmptyMap.prototype.w3 = function (key) {
    return null;
  };
  EmptyMap.prototype.z2 = function (key) {
    if (!(key == null ? true : isObject(key)))
      return null;
    return this.w3((key == null ? true : isObject(key)) ? key : THROW_CCE());
  };
  EmptyMap.prototype.y = function () {
    return EmptySet_getInstance();
  };
  EmptyMap.prototype.a3 = function () {
    return EmptySet_getInstance();
  };
  EmptyMap.prototype.b3 = function () {
    return EmptyList_getInstance();
  };
  EmptyMap.$metadata$ = objectMeta('EmptyMap', [Map, Serializable]);
  var EmptyMap_instance;
  function EmptyMap_getInstance() {
    if (EmptyMap_instance == null)
      new EmptyMap();
    return EmptyMap_instance;
  }
  function toMap_1(_this__u8e3s4, destination) {
    var tmp$ret$0;
    {
      {
      }
      {
        putAll_0(destination, _this__u8e3s4);
      }
      tmp$ret$0 = destination;
    }
    return tmp$ret$0;
  }
  function optimizeReadOnlyMap(_this__u8e3s4) {
    var tmp0_subject = _this__u8e3s4.m();
    var tmp;
    switch (tmp0_subject) {
      case 0:
        tmp = emptyMap();
        break;
      case 1:
        var tmp$ret$0;
        {
          tmp$ret$0 = _this__u8e3s4;
        }

        tmp = tmp$ret$0;
        break;
      default:
        tmp = _this__u8e3s4;
        break;
    }
    return tmp;
  }
  function containsKey(_this__u8e3s4, key) {
    return (isInterface(_this__u8e3s4, Map) ? _this__u8e3s4 : THROW_CCE()).t2(key);
  }
  function putAll(_this__u8e3s4, pairs) {
    var indexedObject = pairs;
    var inductionVariable = 0;
    var last = indexedObject.length;
    while (inductionVariable < last) {
      var tmp1_loop_parameter = indexedObject[inductionVariable];
      inductionVariable = inductionVariable + 1 | 0;
      var key = tmp1_loop_parameter.z3();
      var value = tmp1_loop_parameter.a4();
      _this__u8e3s4.a(key, value);
    }
  }
  function putAll_0(_this__u8e3s4, pairs) {
    var tmp0_iterator = pairs.h();
    while (tmp0_iterator.n()) {
      var tmp1_loop_parameter = tmp0_iterator.o();
      var key = tmp1_loop_parameter.z3();
      var value = tmp1_loop_parameter.a4();
      _this__u8e3s4.a(key, value);
    }
  }
  function hashMapOf(pairs) {
    var tmp$ret$0;
    {
      var tmp0_apply = HashMap_init_$Create$_1(mapCapacity(pairs.length));
      {
      }
      {
        putAll(tmp0_apply, pairs);
      }
      tmp$ret$0 = tmp0_apply;
    }
    return tmp$ret$0;
  }
  function getOrElseNullable(_this__u8e3s4, key, defaultValue) {
    var value = _this__u8e3s4.z2(key);
    if (value == null ? !_this__u8e3s4.t2(key) : false) {
      return defaultValue();
    } else {
      return (value == null ? true : isObject(value)) ? value : THROW_CCE();
    }
  }
  function linkedMapOf() {
    return LinkedHashMap_init_$Create$();
  }
  function isNotEmpty_0(_this__u8e3s4) {
    return !_this__u8e3s4.q();
  }
  function getOrElse_0(_this__u8e3s4, key, defaultValue) {
    var tmp0_elvis_lhs = _this__u8e3s4.z2(key);
    return tmp0_elvis_lhs == null ? defaultValue() : tmp0_elvis_lhs;
  }
  function mutableMapOf_0(pairs) {
    var tmp$ret$0;
    {
      var tmp0_apply = LinkedHashMap_init_$Create$_1(mapCapacity(pairs.length));
      {
      }
      {
        putAll(tmp0_apply, pairs);
      }
      tmp$ret$0 = tmp0_apply;
    }
    return tmp$ret$0;
  }
  function plusAssign(_this__u8e3s4, map) {
    _this__u8e3s4.b4(map);
  }
  function iterator_0(_this__u8e3s4) {
    return _this__u8e3s4.y().h();
  }
  function plusAssign_0(_this__u8e3s4, element) {
    _this__u8e3s4.b(element);
  }
  function minusAssign(_this__u8e3s4, element) {
    _this__u8e3s4.c4(element);
  }
  function removeAll(_this__u8e3s4, predicate) {
    return filterInPlace(_this__u8e3s4, predicate, true);
  }
  function removeLastOrNull(_this__u8e3s4) {
    return _this__u8e3s4.q() ? null : _this__u8e3s4.d4(get_lastIndex_3(_this__u8e3s4));
  }
  function filterInPlace(_this__u8e3s4, predicate, predicateResultToRemove) {
    var result = false;
    var tmp$ret$0;
    {
      var tmp0_with = _this__u8e3s4.h();
      {
      }
      while (tmp0_with.n())
        if (predicate(tmp0_with.o()) === predicateResultToRemove) {
          tmp0_with.e4();
          result = true;
        }
      tmp$ret$0 = Unit_getInstance();
    }
    return result;
  }
  function removeAll_0(_this__u8e3s4, predicate) {
    return filterInPlace_0(_this__u8e3s4, predicate, true);
  }
  function filterInPlace_0(_this__u8e3s4, predicate, predicateResultToRemove) {
    if (!isInterface(_this__u8e3s4, RandomAccess)) {
      return filterInPlace(isInterface(_this__u8e3s4, MutableIterable) ? _this__u8e3s4 : THROW_CCE(), predicate, predicateResultToRemove);
    }
    var writeIndex = 0;
    var inductionVariable = 0;
    var last = get_lastIndex_3(_this__u8e3s4);
    if (inductionVariable <= last)
      $l$loop: do {
        var readIndex = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var element = _this__u8e3s4.r(readIndex);
        if (predicate(element) === predicateResultToRemove)
          continue $l$loop;
        if (!(writeIndex === readIndex)) {
          _this__u8e3s4.t(writeIndex, element);
        }
        var tmp1 = writeIndex;
        writeIndex = tmp1 + 1 | 0;
      }
       while (!(readIndex === last));
    if (writeIndex < _this__u8e3s4.m()) {
      var inductionVariable_0 = get_lastIndex_3(_this__u8e3s4);
      var last_0 = writeIndex;
      if (last_0 <= inductionVariable_0)
        do {
          var removeIndex = inductionVariable_0;
          inductionVariable_0 = inductionVariable_0 + -1 | 0;
          _this__u8e3s4.d4(removeIndex);
        }
         while (!(removeIndex === last_0));
      return true;
    } else {
      return false;
    }
  }
  function removeLast(_this__u8e3s4) {
    var tmp;
    if (_this__u8e3s4.q()) {
      throw NoSuchElementException_init_$Create$_0('List is empty.');
    } else {
      tmp = _this__u8e3s4.d4(get_lastIndex_3(_this__u8e3s4));
    }
    return tmp;
  }
  function minusAssign_0(_this__u8e3s4, elements) {
    removeAll_1(_this__u8e3s4, elements);
  }
  function retainAll(_this__u8e3s4, predicate) {
    return filterInPlace(_this__u8e3s4, predicate, false);
  }
  function plusAssign_1(_this__u8e3s4, elements) {
    addAll(_this__u8e3s4, elements);
  }
  function addAll(_this__u8e3s4, elements) {
    var tmp0_subject = elements;
    if (isInterface(tmp0_subject, Collection))
      return _this__u8e3s4.m1(elements);
    else {
      var result = false;
      var tmp1_iterator = elements.h();
      while (tmp1_iterator.n()) {
        var item = tmp1_iterator.o();
        if (_this__u8e3s4.b(item))
          result = true;
      }
      return result;
    }
  }
  function addAll_0(_this__u8e3s4, elements) {
    var result = false;
    var tmp0_iterator = elements.h();
    while (tmp0_iterator.n()) {
      var item = tmp0_iterator.o();
      if (_this__u8e3s4.b(item))
        result = true;
    }
    return result;
  }
  function removeAll_1(_this__u8e3s4, elements) {
    var tmp$ret$0;
    {
      var tmp0_removeAll = convertToSetForSetOperationWith(elements, _this__u8e3s4);
      tmp$ret$0 = (isInterface(_this__u8e3s4, MutableCollection) ? _this__u8e3s4 : THROW_CCE()).f4(tmp0_removeAll);
    }
    return tmp$ret$0;
  }
  function removeAll_2(_this__u8e3s4, elements) {
    return (isInterface(_this__u8e3s4, MutableCollection) ? _this__u8e3s4 : THROW_CCE()).f4(elements);
  }
  function IntIterator() {
  }
  IntIterator.prototype.o = function () {
    return this.g4();
  };
  IntIterator.$metadata$ = classMeta('IntIterator', [Iterator]);
  function CharIterator() {
  }
  CharIterator.prototype.h4 = function () {
    return this.i4();
  };
  CharIterator.prototype.o = function () {
    return new Char_0(this.h4());
  };
  CharIterator.$metadata$ = classMeta('CharIterator', [Iterator]);
  function BooleanIterator() {
  }
  BooleanIterator.prototype.o = function () {
    return this.j4();
  };
  BooleanIterator.$metadata$ = classMeta('BooleanIterator', [Iterator]);
  function Sequence() {
  }
  Sequence.$metadata$ = interfaceMeta('Sequence');
  function sequence(block) {
    var tmp$ret$0;
    {
      tmp$ret$0 = new _no_name_provided__qut3iv_7(block);
    }
    return tmp$ret$0;
  }
  function SequenceScope() {
  }
  SequenceScope.$metadata$ = classMeta('SequenceScope');
  function iterator_1(block) {
    var iterator = new SequenceBuilderIterator();
    iterator.o4_1 = createCoroutineUnintercepted(block, iterator, iterator);
    return iterator;
  }
  function nextNotReady($this) {
    if (!$this.n())
      throw NoSuchElementException_init_$Create$();
    else
      return $this.o();
  }
  function exceptionalState($this) {
    var tmp0_subject = $this.l4_1;
    switch (tmp0_subject) {
      case 4:
        return NoSuchElementException_init_$Create$();
      case 5:
        return IllegalStateException_init_$Create$_0('Iterator has failed.');
      default:
        return IllegalStateException_init_$Create$_0('Unexpected state of the iterator: ' + $this.l4_1);
    }
  }
  function SequenceBuilderIterator() {
    SequenceScope.call(this);
    this.l4_1 = 0;
    this.m4_1 = null;
    this.n4_1 = null;
    this.o4_1 = null;
  }
  SequenceBuilderIterator.prototype.p4 = function (_set____db54di) {
    this.o4_1 = _set____db54di;
  };
  SequenceBuilderIterator.prototype.n = function () {
    while (true) {
      var tmp0_subject = this.l4_1;
      switch (tmp0_subject) {
        case 0:
          break;
        case 1:
          if (ensureNotNull(this.n4_1).n()) {
            this.l4_1 = 2;
            return true;
          } else {
            this.n4_1 = null;
          }

          break;
        case 4:
          return false;
        case 3:
        case 2:
          return true;
        default:
          throw exceptionalState(this);
      }
      this.l4_1 = 5;
      var step = ensureNotNull(this.o4_1);
      this.o4_1 = null;
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          var tmp0_success = Companion_getInstance_8();
          tmp$ret$0 = _Result___init__impl__xyqfz8(Unit_getInstance());
        }
        tmp$ret$1 = step.q4(tmp$ret$0);
      }
    }
  };
  SequenceBuilderIterator.prototype.o = function () {
    var tmp0_subject = this.l4_1;
    switch (tmp0_subject) {
      case 0:
      case 1:
        return nextNotReady(this);
      case 2:
        this.l4_1 = 1;
        return ensureNotNull(this.n4_1).o();
      case 3:
        this.l4_1 = 0;
        var tmp = this.m4_1;
        var result = (tmp == null ? true : isObject(tmp)) ? tmp : THROW_CCE();
        this.m4_1 = null;
        return result;
      default:
        throw exceptionalState(this);
    }
  };
  SequenceBuilderIterator.prototype.k4 = function (value, $cont) {
    this.m4_1 = value;
    this.l4_1 = 3;
    var tmp$ret$0;
    {
      var tmp0__anonymous__q1qw7t = $cont;
      this.o4_1 = tmp0__anonymous__q1qw7t;
      tmp$ret$0 = get_COROUTINE_SUSPENDED();
    }
    return tmp$ret$0;
  };
  SequenceBuilderIterator.prototype.r4 = function (result) {
    var tmp$ret$0;
    {
      throwOnFailure(result);
      var tmp = _Result___get_value__impl__bjfvqg(result);
      tmp$ret$0 = (tmp == null ? true : isObject(tmp)) ? tmp : THROW_CCE();
    }
    this.l4_1 = 4;
  };
  SequenceBuilderIterator.prototype.q4 = function (result) {
    return this.r4(result);
  };
  SequenceBuilderIterator.prototype.s4 = function () {
    return EmptyCoroutineContext_getInstance();
  };
  SequenceBuilderIterator.$metadata$ = classMeta('SequenceBuilderIterator', [Iterator, Continuation], undefined, undefined, undefined, SequenceScope.prototype);
  function _no_name_provided__qut3iv_7($block) {
    this.t4_1 = $block;
  }
  _no_name_provided__qut3iv_7.prototype.h = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = iterator_1(this.t4_1);
    }
    return tmp$ret$0;
  };
  _no_name_provided__qut3iv_7.$metadata$ = classMeta(undefined, [Sequence]);
  function generateSequence(nextFunction) {
    return constrainOnce(new GeneratorSequence(nextFunction, generateSequence$lambda(nextFunction)));
  }
  function sequenceOf(elements) {
    var tmp;
    var tmp$ret$0;
    {
      tmp$ret$0 = elements.length === 0;
    }
    if (tmp$ret$0) {
      tmp = emptySequence();
    } else {
      tmp = asSequence(elements);
    }
    return tmp;
  }
  function emptySequence() {
    return EmptySequence_getInstance();
  }
  function Sequence_0(iterator) {
    return new _no_name_provided__qut3iv_8(iterator);
  }
  function calcNext($this) {
    while ($this.u4_1.n()) {
      var item = $this.u4_1.o();
      if ($this.x4_1.a5_1(item) === $this.x4_1.z4_1) {
        $this.w4_1 = item;
        $this.v4_1 = 1;
        return Unit_getInstance();
      }
    }
    $this.v4_1 = 0;
  }
  function FilteringSequence$iterator$1(this$0) {
    this.x4_1 = this$0;
    this.u4_1 = this$0.y4_1.h();
    this.v4_1 = -1;
    this.w4_1 = null;
  }
  FilteringSequence$iterator$1.prototype.o = function () {
    if (this.v4_1 === -1)
      calcNext(this);
    if (this.v4_1 === 0)
      throw NoSuchElementException_init_$Create$();
    var result = this.w4_1;
    this.w4_1 = null;
    this.v4_1 = -1;
    return (result == null ? true : isObject(result)) ? result : THROW_CCE();
  };
  FilteringSequence$iterator$1.prototype.n = function () {
    if (this.v4_1 === -1)
      calcNext(this);
    return this.v4_1 === 1;
  };
  FilteringSequence$iterator$1.$metadata$ = classMeta(undefined, [Iterator]);
  function FilteringSequence(sequence, sendWhen, predicate) {
    this.y4_1 = sequence;
    this.z4_1 = sendWhen;
    this.a5_1 = predicate;
  }
  FilteringSequence.prototype.h = function () {
    return new FilteringSequence$iterator$1(this);
  };
  FilteringSequence.$metadata$ = classMeta('FilteringSequence', [Sequence]);
  function ensureItemIterator($this) {
    var tmp0_safe_receiver = $this.c5_1;
    if ((tmp0_safe_receiver == null ? null : tmp0_safe_receiver.n()) === false)
      $this.c5_1 = null;
    while ($this.c5_1 == null) {
      if (!$this.b5_1.n()) {
        return false;
      } else {
        var element = $this.b5_1.o();
        var nextItemIterator = $this.d5_1.g5_1($this.d5_1.f5_1(element));
        if (nextItemIterator.n()) {
          $this.c5_1 = nextItemIterator;
          return true;
        }
      }
    }
    return true;
  }
  function FlatteningSequence$iterator$1(this$0) {
    this.d5_1 = this$0;
    this.b5_1 = this$0.e5_1.h();
    this.c5_1 = null;
  }
  FlatteningSequence$iterator$1.prototype.o = function () {
    if (!ensureItemIterator(this))
      throw NoSuchElementException_init_$Create$();
    return ensureNotNull(this.c5_1).o();
  };
  FlatteningSequence$iterator$1.prototype.n = function () {
    return ensureItemIterator(this);
  };
  FlatteningSequence$iterator$1.$metadata$ = classMeta(undefined, [Iterator]);
  function FlatteningSequence(sequence, transformer, iterator) {
    this.e5_1 = sequence;
    this.f5_1 = transformer;
    this.g5_1 = iterator;
  }
  FlatteningSequence.prototype.h = function () {
    return new FlatteningSequence$iterator$1(this);
  };
  FlatteningSequence.$metadata$ = classMeta('FlatteningSequence', [Sequence]);
  function TransformingSequence$iterator$1(this$0) {
    this.i5_1 = this$0;
    this.h5_1 = this$0.j5_1.h();
  }
  TransformingSequence$iterator$1.prototype.o = function () {
    return this.i5_1.k5_1(this.h5_1.o());
  };
  TransformingSequence$iterator$1.prototype.n = function () {
    return this.h5_1.n();
  };
  TransformingSequence$iterator$1.$metadata$ = classMeta(undefined, [Iterator]);
  function TransformingSequence(sequence, transformer) {
    this.j5_1 = sequence;
    this.k5_1 = transformer;
  }
  TransformingSequence.prototype.h = function () {
    return new TransformingSequence$iterator$1(this);
  };
  TransformingSequence.$metadata$ = classMeta('TransformingSequence', [Sequence]);
  function constrainOnce(_this__u8e3s4) {
    var tmp;
    if (_this__u8e3s4 instanceof ConstrainedOnceSequence) {
      tmp = _this__u8e3s4;
    } else {
      tmp = new ConstrainedOnceSequence(_this__u8e3s4);
    }
    return tmp;
  }
  function calcNext_0($this) {
    $this.l5_1 = $this.m5_1 === -2 ? $this.n5_1.o5_1() : $this.n5_1.p5_1(ensureNotNull($this.l5_1));
    $this.m5_1 = $this.l5_1 == null ? 0 : 1;
  }
  function GeneratorSequence$iterator$1(this$0) {
    this.n5_1 = this$0;
    this.l5_1 = null;
    this.m5_1 = -2;
  }
  GeneratorSequence$iterator$1.prototype.o = function () {
    if (this.m5_1 < 0)
      calcNext_0(this);
    if (this.m5_1 === 0)
      throw NoSuchElementException_init_$Create$();
    var tmp = this.l5_1;
    var result = isObject(tmp) ? tmp : THROW_CCE();
    this.m5_1 = -1;
    return result;
  };
  GeneratorSequence$iterator$1.prototype.n = function () {
    if (this.m5_1 < 0)
      calcNext_0(this);
    return this.m5_1 === 1;
  };
  GeneratorSequence$iterator$1.$metadata$ = classMeta(undefined, [Iterator]);
  function GeneratorSequence(getInitialValue, getNextValue) {
    this.o5_1 = getInitialValue;
    this.p5_1 = getNextValue;
  }
  GeneratorSequence.prototype.h = function () {
    return new GeneratorSequence$iterator$1(this);
  };
  GeneratorSequence.$metadata$ = classMeta('GeneratorSequence', [Sequence]);
  function EmptySequence() {
    EmptySequence_instance = this;
  }
  EmptySequence.prototype.h = function () {
    return EmptyIterator_getInstance();
  };
  EmptySequence.$metadata$ = objectMeta('EmptySequence', [Sequence, DropTakeSequence]);
  var EmptySequence_instance;
  function EmptySequence_getInstance() {
    if (EmptySequence_instance == null)
      new EmptySequence();
    return EmptySequence_instance;
  }
  function DropTakeSequence() {
  }
  DropTakeSequence.$metadata$ = interfaceMeta('DropTakeSequence', [Sequence]);
  function asSequence_3(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = new _no_name_provided__qut3iv_9(_this__u8e3s4);
    }
    return constrainOnce(tmp$ret$0);
  }
  function generateSequence$lambda($nextFunction) {
    return function (it) {
      return $nextFunction();
    };
  }
  function _no_name_provided__qut3iv_8($iterator) {
    this.q5_1 = $iterator;
  }
  _no_name_provided__qut3iv_8.prototype.h = function () {
    return this.q5_1();
  };
  _no_name_provided__qut3iv_8.$metadata$ = classMeta(undefined, [Sequence]);
  function _no_name_provided__qut3iv_9($this_asSequence) {
    this.r5_1 = $this_asSequence;
  }
  _no_name_provided__qut3iv_9.prototype.h = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = this.r5_1;
    }
    return tmp$ret$0;
  };
  _no_name_provided__qut3iv_9.$metadata$ = classMeta(undefined, [Sequence]);
  function setOf(elements) {
    return elements.length > 0 ? toSet(elements) : emptySet();
  }
  function mutableSetOf() {
    return LinkedHashSet_init_$Create$();
  }
  function mutableSetOf_0(elements) {
    return toCollection(elements, LinkedHashSet_init_$Create$_1(mapCapacity(elements.length)));
  }
  function EmptySet() {
    EmptySet_instance = this;
    this.s5_1 = new Long(1993859828, 793161749);
  }
  EmptySet.prototype.equals = function (other) {
    var tmp;
    if (!(other == null) ? isInterface(other, Set) : false) {
      tmp = other.q();
    } else {
      tmp = false;
    }
    return tmp;
  };
  EmptySet.prototype.hashCode = function () {
    return 0;
  };
  EmptySet.prototype.toString = function () {
    return '[]';
  };
  EmptySet.prototype.m = function () {
    return 0;
  };
  EmptySet.prototype.q = function () {
    return true;
  };
  EmptySet.prototype.f3 = function (element) {
    return false;
  };
  EmptySet.prototype.p = function (element) {
    if (true)
      return false;
    var tmp;
    if (false) {} else {
      tmp = THROW_CCE();
    }
    return this.f3(tmp);
  };
  EmptySet.prototype.g3 = function (elements) {
    return elements.q();
  };
  EmptySet.prototype.q1 = function (elements) {
    return this.g3(elements);
  };
  EmptySet.prototype.h = function () {
    return EmptyIterator_getInstance();
  };
  EmptySet.$metadata$ = objectMeta('EmptySet', [Set, Serializable]);
  var EmptySet_instance;
  function EmptySet_getInstance() {
    if (EmptySet_instance == null)
      new EmptySet();
    return EmptySet_instance;
  }
  function emptySet() {
    return EmptySet_getInstance();
  }
  function optimizeReadOnlySet(_this__u8e3s4) {
    var tmp0_subject = _this__u8e3s4.m();
    switch (tmp0_subject) {
      case 0:
        return emptySet();
      case 1:
        return setOf_0(_this__u8e3s4.h().o());
      default:
        return _this__u8e3s4;
    }
  }
  function hashSetOf(elements) {
    return toCollection(elements, HashSet_init_$Create$_1(mapCapacity(elements.length)));
  }
  function linkedSetOf() {
    return LinkedHashSet_init_$Create$();
  }
  function orEmpty(_this__u8e3s4) {
    var tmp0_elvis_lhs = _this__u8e3s4;
    return tmp0_elvis_lhs == null ? emptySet() : tmp0_elvis_lhs;
  }
  function checkWindowSizeStep(size, step) {
    {
      var tmp0_require = size > 0 ? step > 0 : false;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = !(size === step) ? 'Both size ' + size + ' and step ' + step + ' must be greater than zero.' : 'size ' + size + ' must be greater than zero.';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message));
      }
    }
  }
  function windowedIterator(iterator, size, step, partialWindows, reuseBuffer) {
    if (!iterator.n())
      return EmptyIterator_getInstance();
    return iterator_1(windowedIterator$slambda_0(size, step, iterator, reuseBuffer, partialWindows, null));
  }
  function windowedSequence(_this__u8e3s4, size, step, partialWindows, reuseBuffer) {
    checkWindowSizeStep(size, step);
    var tmp$ret$0;
    {
      tmp$ret$0 = new _no_name_provided__qut3iv_10(_this__u8e3s4, size, step, partialWindows, reuseBuffer);
    }
    return tmp$ret$0;
  }
  function RingBuffer_init_$Init$(capacity, $this) {
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(capacity), null);
    }
    RingBuffer.call($this, tmp$ret$0, 0);
    return $this;
  }
  function RingBuffer_init_$Create$(capacity) {
    return RingBuffer_init_$Init$(capacity, Object.create(RingBuffer.prototype));
  }
  function RingBuffer$iterator$1(this$0) {
    this.x5_1 = this$0;
    AbstractIterator.call(this);
    this.v5_1 = this$0.b6_1;
    this.w5_1 = this$0.a6_1;
  }
  RingBuffer$iterator$1.prototype.t1 = function () {
    if (this.v5_1 === 0) {
      this.y1();
    } else {
      var tmp = this.x5_1.y5_1[this.w5_1];
      this.x1((tmp == null ? true : isObject(tmp)) ? tmp : THROW_CCE());
      var tmp_0 = this;
      var tmp$ret$0;
      {
        var tmp0_forward = this.w5_1;
        tmp$ret$0 = (tmp0_forward + 1 | 0) % this.x5_1.z5_1 | 0;
      }
      tmp_0.w5_1 = tmp$ret$0;
      var tmp0_this = this;
      var tmp1 = tmp0_this.v5_1;
      tmp0_this.v5_1 = tmp1 - 1 | 0;
    }
  };
  RingBuffer$iterator$1.$metadata$ = classMeta(undefined, undefined, undefined, undefined, undefined, AbstractIterator.prototype);
  function RingBuffer(buffer, filledSize) {
    AbstractList.call(this);
    this.y5_1 = buffer;
    {
      var tmp0_require = filledSize >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'ring buffer filled size should not be negative but it is ' + filledSize;
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message));
      }
    }
    {
      var tmp1_require = filledSize <= this.y5_1.length;
      {
      }
      if (!tmp1_require) {
        var tmp$ret$1;
        {
          tmp$ret$1 = 'ring buffer filled size: ' + filledSize + ' cannot be larger than the buffer size: ' + this.y5_1.length;
        }
        var message_0 = tmp$ret$1;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message_0));
      }
    }
    this.z5_1 = this.y5_1.length;
    this.a6_1 = 0;
    this.b6_1 = filledSize;
  }
  RingBuffer.prototype.m = function () {
    return this.b6_1;
  };
  RingBuffer.prototype.r = function (index) {
    Companion_getInstance().c2(index, this.b6_1);
    var tmp$ret$0;
    {
      var tmp0_forward = this.a6_1;
      tmp$ret$0 = (tmp0_forward + index | 0) % this.z5_1 | 0;
    }
    var tmp = this.y5_1[tmp$ret$0];
    return (tmp == null ? true : isObject(tmp)) ? tmp : THROW_CCE();
  };
  RingBuffer.prototype.c6 = function () {
    return this.b6_1 === this.z5_1;
  };
  RingBuffer.prototype.h = function () {
    return new RingBuffer$iterator$1(this);
  };
  RingBuffer.prototype.d6 = function (array) {
    var tmp;
    if (array.length < this.b6_1) {
      tmp = copyOf_7(array, this.b6_1);
    } else {
      tmp = isArray(array) ? array : THROW_CCE();
    }
    var result = tmp;
    var size = this.b6_1;
    var widx = 0;
    var idx = this.a6_1;
    while (widx < size ? idx < this.z5_1 : false) {
      var tmp_0 = widx;
      var tmp_1 = this.y5_1[idx];
      result[tmp_0] = (tmp_1 == null ? true : isObject(tmp_1)) ? tmp_1 : THROW_CCE();
      var tmp0 = widx;
      widx = tmp0 + 1 | 0;
      var tmp1 = idx;
      idx = tmp1 + 1 | 0;
    }
    idx = 0;
    while (widx < size) {
      var tmp_2 = widx;
      var tmp_3 = this.y5_1[idx];
      result[tmp_2] = (tmp_3 == null ? true : isObject(tmp_3)) ? tmp_3 : THROW_CCE();
      var tmp2 = widx;
      widx = tmp2 + 1 | 0;
      var tmp3 = idx;
      idx = tmp3 + 1 | 0;
    }
    if (result.length > this.b6_1)
      result[this.b6_1] = null;
    return isArray(result) ? result : THROW_CCE();
  };
  RingBuffer.prototype.e6 = function () {
    var tmp$ret$0;
    {
      var tmp0_arrayOfNulls = this.b6_1;
      tmp$ret$0 = fillArrayVal(Array(tmp0_arrayOfNulls), null);
    }
    return this.d6(tmp$ret$0);
  };
  RingBuffer.prototype.toArray = function () {
    return this.e6();
  };
  RingBuffer.prototype.f6 = function (maxCapacity) {
    var newCapacity = coerceAtMost((this.z5_1 + (this.z5_1 >> 1) | 0) + 1 | 0, maxCapacity);
    var tmp;
    if (this.a6_1 === 0) {
      tmp = copyOf_7(this.y5_1, newCapacity);
    } else {
      var tmp$ret$0;
      {
        tmp$ret$0 = fillArrayVal(Array(newCapacity), null);
      }
      tmp = this.d6(tmp$ret$0);
    }
    var newBuffer = tmp;
    return new RingBuffer(newBuffer, this.b6_1);
  };
  RingBuffer.prototype.g6 = function (element) {
    if (this.c6()) {
      throw IllegalStateException_init_$Create$_0('ring buffer is full');
    }
    var tmp$ret$0;
    {
      var tmp0_forward = this.a6_1;
      var tmp1_forward = this.b6_1;
      tmp$ret$0 = (tmp0_forward + tmp1_forward | 0) % this.z5_1 | 0;
    }
    this.y5_1[tmp$ret$0] = element;
    var tmp0_this = this;
    var tmp1 = tmp0_this.b6_1;
    tmp0_this.b6_1 = tmp1 + 1 | 0;
  };
  RingBuffer.prototype.h6 = function (n) {
    {
      var tmp0_require = n >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = "n shouldn't be negative but it is " + n;
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message));
      }
    }
    {
      var tmp1_require = n <= this.b6_1;
      {
      }
      if (!tmp1_require) {
        var tmp$ret$1;
        {
          tmp$ret$1 = "n shouldn't be greater than the buffer size: n = " + n + ', size = ' + this.b6_1;
        }
        var message_0 = tmp$ret$1;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message_0));
      }
    }
    if (n > 0) {
      var start = this.a6_1;
      var tmp$ret$2;
      {
        tmp$ret$2 = (start + n | 0) % this.z5_1 | 0;
      }
      var end = tmp$ret$2;
      if (start > end) {
        fill(this.y5_1, null, start, this.z5_1);
        fill(this.y5_1, null, 0, end);
      } else {
        fill(this.y5_1, null, start, end);
      }
      this.a6_1 = end;
      var tmp0_this = this;
      tmp0_this.b6_1 = tmp0_this.b6_1 - n | 0;
    }
  };
  RingBuffer.$metadata$ = classMeta('RingBuffer', [RandomAccess], undefined, undefined, undefined, AbstractList.prototype);
  function windowedIterator$slambda($size, $step, $iterator, $reuseBuffer, $partialWindows, resultContinuation) {
    this.q6_1 = $size;
    this.r6_1 = $step;
    this.s6_1 = $iterator;
    this.t6_1 = $reuseBuffer;
    this.u6_1 = $partialWindows;
    CoroutineImpl.call(this, resultContinuation);
  }
  windowedIterator$slambda.prototype.h7 = function ($this$iterator, $cont) {
    var tmp = this.i7($this$iterator, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  windowedIterator$slambda.prototype.s7 = function (p1, $cont) {
    return this.h7(p1 instanceof SequenceScope ? p1 : THROW_CCE(), $cont);
  };
  windowedIterator$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 21;
            this.w6_1 = coerceAtMost(this.q6_1, 1024);
            this.x6_1 = this.r6_1 - this.q6_1 | 0;
            if (this.x6_1 >= 0) {
              this.y6_1 = ArrayList_init_$Create$_0(this.w6_1);
              this.z6_1 = 0;
              var tmp_0 = this;
              tmp_0.a7_1 = this.s6_1;
              this.k7_1 = 12;
              continue $sm;
            } else {
              this.b7_1 = RingBuffer_init_$Create$(this.w6_1);
              var tmp_1 = this;
              tmp_1.c7_1 = this.s6_1;
              this.k7_1 = 1;
              continue $sm;
            }

            break;
          case 1:
            if (!this.c7_1.n()) {
              this.k7_1 = 5;
              continue $sm;
            }

            this.d7_1 = this.c7_1.o();
            this.b7_1.g6(this.d7_1);
            if (this.b7_1.c6()) {
              if (this.b7_1.b6_1 < this.q6_1) {
                this.b7_1 = this.b7_1.f6(this.q6_1);
                this.k7_1 = 1;
                continue $sm;
              } else {
                this.k7_1 = 2;
                continue $sm;
              }
            } else {
              this.k7_1 = 4;
              continue $sm;
            }

            break;
          case 2:
            this.k7_1 = 3;
            suspendResult = this.v6_1.k4(this.t6_1 ? this.b7_1 : ArrayList_init_$Create$_1(this.b7_1), this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 3:
            this.b7_1.h6(this.r6_1);
            this.k7_1 = 4;
            continue $sm;
          case 4:
            this.k7_1 = 1;
            continue $sm;
          case 5:
            if (this.u6_1) {
              this.k7_1 = 6;
              continue $sm;
            } else {
              this.k7_1 = 11;
              continue $sm;
            }

            break;
          case 6:
            if (!(this.b7_1.b6_1 > this.r6_1)) {
              this.k7_1 = 8;
              continue $sm;
            }

            this.k7_1 = 7;
            suspendResult = this.v6_1.k4(this.t6_1 ? this.b7_1 : ArrayList_init_$Create$_1(this.b7_1), this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 7:
            this.b7_1.h6(this.r6_1);
            this.k7_1 = 6;
            continue $sm;
          case 8:
            var tmp_2 = this;
            tmp_2.e7_1 = this.b7_1;
            if (!this.e7_1.q()) {
              this.k7_1 = 9;
              suspendResult = this.v6_1.k4(this.b7_1, this);
              if (suspendResult === get_COROUTINE_SUSPENDED()) {
                return suspendResult;
              }
              continue $sm;
            } else {
              this.k7_1 = 10;
              continue $sm;
            }

            break;
          case 9:
            this.k7_1 = 10;
            continue $sm;
          case 10:
            this.k7_1 = 11;
            continue $sm;
          case 11:
            this.k7_1 = 20;
            continue $sm;
          case 12:
            if (!this.a7_1.n()) {
              this.k7_1 = 16;
              continue $sm;
            }

            this.f7_1 = this.a7_1.o();
            if (this.z6_1 > 0) {
              this.z6_1 = this.z6_1 - 1 | 0;
              this.k7_1 = 12;
              continue $sm;
            } else {
              this.k7_1 = 13;
              continue $sm;
            }

            break;
          case 13:
            this.y6_1.b(this.f7_1);
            ;
            if (this.y6_1.m() === this.q6_1) {
              this.k7_1 = 14;
              suspendResult = this.v6_1.k4(this.y6_1, this);
              if (suspendResult === get_COROUTINE_SUSPENDED()) {
                return suspendResult;
              }
              continue $sm;
            } else {
              this.k7_1 = 15;
              continue $sm;
            }

            break;
          case 14:
            if (this.t6_1)
              this.y6_1.t7();
            else
              this.y6_1 = ArrayList_init_$Create$_0(this.q6_1);
            this.z6_1 = this.x6_1;
            this.k7_1 = 15;
            continue $sm;
          case 15:
            this.k7_1 = 12;
            continue $sm;
          case 16:
            var tmp_3 = this;
            tmp_3.g7_1 = this.y6_1;
            if (!this.g7_1.q()) {
              if (this.u6_1 ? true : this.y6_1.m() === this.q6_1) {
                this.k7_1 = 17;
                suspendResult = this.v6_1.k4(this.y6_1, this);
                if (suspendResult === get_COROUTINE_SUSPENDED()) {
                  return suspendResult;
                }
                continue $sm;
              } else {
                this.k7_1 = 18;
                continue $sm;
              }
            } else {
              this.k7_1 = 19;
              continue $sm;
            }

            break;
          case 17:
            this.k7_1 = 18;
            continue $sm;
          case 18:
            this.k7_1 = 19;
            continue $sm;
          case 19:
            this.k7_1 = 20;
            continue $sm;
          case 20:
            return Unit_getInstance();
          case 21:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 21) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  windowedIterator$slambda.prototype.i7 = function ($this$iterator, completion) {
    var i = new windowedIterator$slambda(this.q6_1, this.r6_1, this.s6_1, this.t6_1, this.u6_1, completion);
    i.v6_1 = $this$iterator;
    return i;
  };
  windowedIterator$slambda.$metadata$ = classMeta('windowedIterator$slambda', undefined, undefined, undefined, [1], CoroutineImpl.prototype);
  function windowedIterator$slambda_0($size, $step, $iterator, $reuseBuffer, $partialWindows, resultContinuation) {
    var i = new windowedIterator$slambda($size, $step, $iterator, $reuseBuffer, $partialWindows, resultContinuation);
    var l = function ($this$iterator, $cont) {
      return i.h7($this$iterator, $cont);
    };
    l.$arity = 1;
    return l;
  }
  function _no_name_provided__qut3iv_10($this_windowedSequence, $size, $step, $partialWindows, $reuseBuffer) {
    this.w7_1 = $this_windowedSequence;
    this.x7_1 = $size;
    this.y7_1 = $step;
    this.z7_1 = $partialWindows;
    this.a8_1 = $reuseBuffer;
  }
  _no_name_provided__qut3iv_10.prototype.h = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = windowedIterator(this.w7_1.h(), this.x7_1, this.y7_1, this.z7_1, this.a8_1);
    }
    return tmp$ret$0;
  };
  _no_name_provided__qut3iv_10.$metadata$ = classMeta(undefined, [Sequence]);
  function compareBy(selector) {
    var tmp = compareBy$lambda(selector);
    return new sam$kotlin_Comparator$0_0(tmp);
  }
  function compareValuesBy(a, b, selector) {
    return compareValues(selector(a), selector(b));
  }
  function compareValues(a, b) {
    if (a === b)
      return 0;
    if (a == null)
      return -1;
    if (b == null)
      return 1;
    return compareTo_0((!(a == null) ? isComparable(a) : false) ? a : THROW_CCE(), b);
  }
  function naturalOrder() {
    var tmp = NaturalOrderComparator_getInstance();
    return isInterface(tmp, Comparator) ? tmp : THROW_CCE();
  }
  function NaturalOrderComparator() {
    NaturalOrderComparator_instance = this;
  }
  NaturalOrderComparator.prototype.b8 = function (a, b) {
    return compareTo_0(a, b);
  };
  NaturalOrderComparator.prototype.compare = function (a, b) {
    var tmp = (!(a == null) ? isComparable(a) : false) ? a : THROW_CCE();
    return this.b8(tmp, (!(b == null) ? isComparable(b) : false) ? b : THROW_CCE());
  };
  NaturalOrderComparator.$metadata$ = objectMeta('NaturalOrderComparator', [Comparator]);
  var NaturalOrderComparator_instance;
  function NaturalOrderComparator_getInstance() {
    if (NaturalOrderComparator_instance == null)
      new NaturalOrderComparator();
    return NaturalOrderComparator_instance;
  }
  function sam$kotlin_Comparator$0_0(function_0) {
    this.c8_1 = function_0;
  }
  sam$kotlin_Comparator$0_0.prototype.w = function (a, b) {
    return this.c8_1(a, b);
  };
  sam$kotlin_Comparator$0_0.prototype.compare = function (a, b) {
    return this.w(a, b);
  };
  sam$kotlin_Comparator$0_0.$metadata$ = classMeta('sam$kotlin_Comparator$0', [Comparator]);
  function compareBy$lambda($selector) {
    return function (a, b) {
      var tmp$ret$0;
      {
        tmp$ret$0 = compareValues($selector(a), $selector(b));
      }
      return tmp$ret$0;
    };
  }
  function contract(builder) {
  }
  function Continuation() {
  }
  Continuation.$metadata$ = interfaceMeta('Continuation');
  function resume(_this__u8e3s4, value) {
    var tmp$ret$0;
    {
      var tmp0_success = Companion_getInstance_8();
      tmp$ret$0 = _Result___init__impl__xyqfz8(value);
    }
    return _this__u8e3s4.q4(tmp$ret$0);
  }
  function resumeWithException(_this__u8e3s4, exception) {
    var tmp$ret$0;
    {
      var tmp0_failure = Companion_getInstance_8();
      tmp$ret$0 = _Result___init__impl__xyqfz8(createFailure(exception));
    }
    return _this__u8e3s4.q4(tmp$ret$0);
  }
  function startCoroutine(_this__u8e3s4, receiver, completion) {
    var tmp$ret$1;
    {
      var tmp0_resume = intercepted(createCoroutineUnintercepted(_this__u8e3s4, receiver, completion));
      var tmp$ret$0;
      {
        var tmp0_success = Companion_getInstance_8();
        tmp$ret$0 = _Result___init__impl__xyqfz8(Unit_getInstance());
      }
      tmp$ret$1 = tmp0_resume.q4(tmp$ret$0);
    }
  }
  function Key() {
    Key_instance = this;
  }
  Key.$metadata$ = objectMeta('Key', [Key_0]);
  var Key_instance;
  function Key_getInstance() {
    if (Key_instance == null)
      new Key();
    return Key_instance;
  }
  function ContinuationInterceptor() {
  }
  ContinuationInterceptor.$metadata$ = interfaceMeta('ContinuationInterceptor', [Element]);
  function Key_0() {
  }
  Key_0.$metadata$ = interfaceMeta('Key');
  function Element() {
  }
  Element.$metadata$ = interfaceMeta('Element', [CoroutineContext]);
  function CoroutineContext$plus$lambda() {
    return function (acc, element) {
      var removed = acc.k8(element.j2());
      var tmp;
      if (removed === EmptyCoroutineContext_getInstance()) {
        tmp = element;
      } else {
        var interceptor = removed.f8(Key_getInstance());
        var tmp_0;
        if (interceptor == null) {
          tmp_0 = new CombinedContext(removed, element);
        } else {
          var left = removed.k8(Key_getInstance());
          tmp_0 = left === EmptyCoroutineContext_getInstance() ? new CombinedContext(element, interceptor) : new CombinedContext(new CombinedContext(left, element), interceptor);
        }
        tmp = tmp_0;
      }
      return tmp;
    };
  }
  function CoroutineContext() {
  }
  CoroutineContext.$metadata$ = interfaceMeta('CoroutineContext');
  function EmptyCoroutineContext() {
    EmptyCoroutineContext_instance = this;
    this.n8_1 = new Long(0, 0);
  }
  EmptyCoroutineContext.prototype.f8 = function (key) {
    return null;
  };
  EmptyCoroutineContext.prototype.l8 = function (initial, operation) {
    return initial;
  };
  EmptyCoroutineContext.prototype.m8 = function (context) {
    return context;
  };
  EmptyCoroutineContext.prototype.k8 = function (key) {
    return this;
  };
  EmptyCoroutineContext.prototype.hashCode = function () {
    return 0;
  };
  EmptyCoroutineContext.prototype.toString = function () {
    return 'EmptyCoroutineContext';
  };
  EmptyCoroutineContext.$metadata$ = objectMeta('EmptyCoroutineContext', [CoroutineContext, Serializable]);
  var EmptyCoroutineContext_instance;
  function EmptyCoroutineContext_getInstance() {
    if (EmptyCoroutineContext_instance == null)
      new EmptyCoroutineContext();
    return EmptyCoroutineContext_instance;
  }
  function size($this) {
    var cur = $this;
    var size = 2;
    while (true) {
      var tmp = cur.o8_1;
      var tmp0_elvis_lhs = tmp instanceof CombinedContext ? tmp : null;
      var tmp_0;
      if (tmp0_elvis_lhs == null) {
        return size;
      } else {
        tmp_0 = tmp0_elvis_lhs;
      }
      cur = tmp_0;
      var tmp1 = size;
      size = tmp1 + 1 | 0;
    }
  }
  function contains_3($this, element) {
    return equals_1($this.f8(element.j2()), element);
  }
  function containsAll_0($this, context) {
    var cur = context;
    while (true) {
      if (!contains_3($this, cur.p8_1))
        return false;
      var next = cur.o8_1;
      if (next instanceof CombinedContext) {
        cur = next;
      } else {
        return contains_3($this, isInterface(next, Element) ? next : THROW_CCE());
      }
    }
  }
  function CombinedContext$toString$lambda() {
    return function (acc, element) {
      var tmp;
      var tmp$ret$0;
      {
        tmp$ret$0 = charSequenceLength(acc) === 0;
      }
      if (tmp$ret$0) {
        tmp = toString_4(element);
      } else {
        tmp = acc + ', ' + element;
      }
      return tmp;
    };
  }
  function CombinedContext(left, element) {
    this.o8_1 = left;
    this.p8_1 = element;
  }
  CombinedContext.prototype.f8 = function (key) {
    var cur = this;
    while (true) {
      var tmp0_safe_receiver = cur.p8_1.f8(key);
      if (tmp0_safe_receiver == null)
        null;
      else {
        var tmp$ret$0;
        {
          {
          }
          return tmp0_safe_receiver;
        }
      }
      var next = cur.o8_1;
      if (next instanceof CombinedContext) {
        cur = next;
      } else {
        return next.f8(key);
      }
    }
  };
  CombinedContext.prototype.l8 = function (initial, operation) {
    return operation(this.o8_1.l8(initial, operation), this.p8_1);
  };
  CombinedContext.prototype.k8 = function (key) {
    var tmp0_safe_receiver = this.p8_1.f8(key);
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        return this.o8_1;
      }
    }
    var newLeft = this.o8_1.k8(key);
    return newLeft === this.o8_1 ? this : newLeft === EmptyCoroutineContext_getInstance() ? this.p8_1 : new CombinedContext(newLeft, this.p8_1);
  };
  CombinedContext.prototype.equals = function (other) {
    var tmp;
    if (this === other) {
      tmp = true;
    } else {
      var tmp_0;
      var tmp_1;
      if (other instanceof CombinedContext) {
        tmp_1 = size(other) === size(this);
      } else {
        tmp_1 = false;
      }
      if (tmp_1) {
        tmp_0 = containsAll_0(other, this);
      } else {
        tmp_0 = false;
      }
      tmp = tmp_0;
    }
    return tmp;
  };
  CombinedContext.prototype.hashCode = function () {
    return hashCode_0(this.o8_1) + hashCode_0(this.p8_1) | 0;
  };
  CombinedContext.prototype.toString = function () {
    return '[' + this.l8('', CombinedContext$toString$lambda()) + ']';
  };
  CombinedContext.$metadata$ = classMeta('CombinedContext', [CoroutineContext, Serializable]);
  function AbstractCoroutineContextKey(baseKey, safeCast) {
    this.g8_1 = safeCast;
    var tmp = this;
    var tmp_0;
    if (baseKey instanceof AbstractCoroutineContextKey) {
      tmp_0 = baseKey.h8_1;
    } else {
      tmp_0 = baseKey;
    }
    tmp.h8_1 = tmp_0;
  }
  AbstractCoroutineContextKey.prototype.i8 = function (element) {
    return this.g8_1(element);
  };
  AbstractCoroutineContextKey.prototype.j8 = function (key) {
    return key === this ? true : this.h8_1 === key;
  };
  AbstractCoroutineContextKey.$metadata$ = classMeta('AbstractCoroutineContextKey', [Key_0]);
  function AbstractCoroutineContextElement(key) {
    this.q8_1 = key;
  }
  AbstractCoroutineContextElement.prototype.j2 = function () {
    return this.q8_1;
  };
  AbstractCoroutineContextElement.$metadata$ = classMeta('AbstractCoroutineContextElement', [Element]);
  function get_COROUTINE_SUSPENDED() {
    return CoroutineSingletons_COROUTINE_SUSPENDED_getInstance();
  }
  var CoroutineSingletons_COROUTINE_SUSPENDED_instance;
  var CoroutineSingletons_UNDECIDED_instance;
  var CoroutineSingletons_RESUMED_instance;
  var CoroutineSingletons_entriesInitialized;
  function CoroutineSingletons_initEntries() {
    if (CoroutineSingletons_entriesInitialized)
      return Unit_getInstance();
    CoroutineSingletons_entriesInitialized = true;
    CoroutineSingletons_COROUTINE_SUSPENDED_instance = new CoroutineSingletons('COROUTINE_SUSPENDED', 0);
    CoroutineSingletons_UNDECIDED_instance = new CoroutineSingletons('UNDECIDED', 1);
    CoroutineSingletons_RESUMED_instance = new CoroutineSingletons('RESUMED', 2);
  }
  function CoroutineSingletons(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  CoroutineSingletons.$metadata$ = classMeta('CoroutineSingletons', undefined, undefined, undefined, undefined, Enum.prototype);
  function CoroutineSingletons_COROUTINE_SUSPENDED_getInstance() {
    CoroutineSingletons_initEntries();
    return CoroutineSingletons_COROUTINE_SUSPENDED_instance;
  }
  function and(_this__u8e3s4, other) {
    return toByte(_this__u8e3s4 & other);
  }
  function getProgressionLastElement(start, end, step) {
    var tmp;
    if (step > 0) {
      tmp = start >= end ? end : end - differenceModulo(end, start, step) | 0;
    } else if (step < 0) {
      tmp = start <= end ? end : end + differenceModulo(start, end, -step | 0) | 0;
    } else {
      throw IllegalArgumentException_init_$Create$_0('Step is zero.');
    }
    return tmp;
  }
  function differenceModulo(a, b, c) {
    return mod(mod(a, c) - mod(b, c) | 0, c);
  }
  function mod(a, b) {
    var mod = a % b | 0;
    return mod >= 0 ? mod : mod + b | 0;
  }
  function ReadWriteProperty() {
  }
  ReadWriteProperty.$metadata$ = interfaceMeta('ReadWriteProperty', [ReadOnlyProperty]);
  function ReadOnlyProperty() {
  }
  ReadOnlyProperty.$metadata$ = interfaceMeta('ReadOnlyProperty');
  function getValue_0(_this__u8e3s4, thisRef, property) {
    return _this__u8e3s4.get();
  }
  function Default() {
    Default_instance = this;
    Random.call(this);
    this.t8_1 = defaultPlatformRandom();
  }
  Default.prototype.u8 = function (bitCount) {
    return this.t8_1.u8(bitCount);
  };
  Default.prototype.g4 = function () {
    return this.t8_1.g4();
  };
  Default.prototype.s = function (until) {
    return this.t8_1.s(until);
  };
  Default.prototype.v8 = function (from, until) {
    return this.t8_1.v8(from, until);
  };
  Default.prototype.w8 = function () {
    return this.t8_1.w8();
  };
  Default.$metadata$ = objectMeta('Default', [Serializable], undefined, undefined, undefined, Random.prototype);
  var Default_instance;
  function Default_getInstance() {
    if (Default_instance == null)
      new Default();
    return Default_instance;
  }
  function Random() {
    Default_getInstance();
  }
  Random.prototype.g4 = function () {
    return this.u8(32);
  };
  Random.prototype.s = function (until) {
    return this.v8(0, until);
  };
  Random.prototype.v8 = function (from, until) {
    checkRangeBounds(from, until);
    var n = until - from | 0;
    if (n > 0 ? true : n === IntCompanionObject_getInstance().a1_1) {
      var tmp;
      if ((n & (-n | 0)) === n) {
        var bitCount = fastLog2(n);
        tmp = this.u8(bitCount);
      } else {
        var v;
        do {
          var bits = this.g4() >>> 1 | 0;
          v = bits % n | 0;
        }
         while (((bits - v | 0) + (n - 1 | 0) | 0) < 0);
        tmp = v;
      }
      var rnd = tmp;
      return from + rnd | 0;
    } else {
      while (true) {
        var rnd_0 = this.g4();
        if (from <= rnd_0 ? rnd_0 < until : false)
          return rnd_0;
      }
    }
  };
  Random.prototype.w8 = function () {
    return doubleFromParts(this.u8(26), this.u8(27));
  };
  Random.$metadata$ = classMeta('Random');
  function Random_0(seed) {
    return XorWowRandom_init_$Create$(seed, seed >> 31);
  }
  function checkRangeBounds(from, until) {
    var tmp0_require = until > from;
    {
    }
    var tmp;
    if (!tmp0_require) {
      var tmp$ret$0;
      {
        tmp$ret$0 = boundsErrorMessage(from, until);
      }
      var message = tmp$ret$0;
      throw IllegalArgumentException_init_$Create$_0(toString_4(message));
    }
    return tmp;
  }
  function fastLog2(value) {
    var tmp$ret$0;
    {
      tmp$ret$0 = clz32(value);
    }
    return 31 - tmp$ret$0 | 0;
  }
  function boundsErrorMessage(from, until) {
    return 'Random range is empty: [' + toString_4(from) + ', ' + toString_4(until) + ').';
  }
  function takeUpperBits(_this__u8e3s4, bitCount) {
    return (_this__u8e3s4 >>> (32 - bitCount | 0) | 0) & (-bitCount | 0) >> 31;
  }
  function XorWowRandom_init_$Init$(seed1, seed2, $this) {
    XorWowRandom.call($this, seed1, seed2, 0, 0, ~seed1, seed1 << 10 ^ (seed2 >>> 4 | 0));
    return $this;
  }
  function XorWowRandom_init_$Create$(seed1, seed2) {
    return XorWowRandom_init_$Init$(seed1, seed2, Object.create(XorWowRandom.prototype));
  }
  function Companion_2() {
    Companion_instance_2 = this;
    this.x8_1 = new Long(0, 0);
  }
  Companion_2.$metadata$ = objectMeta('Companion');
  var Companion_instance_2;
  function Companion_getInstance_2() {
    if (Companion_instance_2 == null)
      new Companion_2();
    return Companion_instance_2;
  }
  function XorWowRandom(x, y, z, w, v, addend) {
    Companion_getInstance_2();
    Random.call(this);
    this.y8_1 = x;
    this.z8_1 = y;
    this.a9_1 = z;
    this.b9_1 = w;
    this.c9_1 = v;
    this.d9_1 = addend;
    {
      var tmp0_require = !((this.y8_1 | this.z8_1 | this.a9_1 | this.b9_1 | this.c9_1) === 0);
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Initial state must have at least one non-zero element.';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message));
      }
    }
    {
      {
      }
      var inductionVariable = 0;
      if (inductionVariable < 64)
        do {
          var index = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          {
            this.g4();
          }
        }
         while (inductionVariable < 64);
    }
  }
  XorWowRandom.prototype.g4 = function () {
    var t = this.y8_1;
    t = t ^ (t >>> 2 | 0);
    this.y8_1 = this.z8_1;
    this.z8_1 = this.a9_1;
    this.a9_1 = this.b9_1;
    var v0 = this.c9_1;
    this.b9_1 = v0;
    t = t ^ t << 1 ^ v0 ^ v0 << 4;
    this.c9_1 = t;
    var tmp0_this = this;
    tmp0_this.d9_1 = tmp0_this.d9_1 + 362437 | 0;
    return t + this.d9_1 | 0;
  };
  XorWowRandom.prototype.u8 = function (bitCount) {
    return takeUpperBits(this.g4(), bitCount);
  };
  XorWowRandom.$metadata$ = classMeta('XorWowRandom', [Serializable], undefined, undefined, undefined, Random.prototype);
  function Companion_3() {
    Companion_instance_3 = this;
    this.z_1 = new IntRange(1, 0);
  }
  Companion_3.$metadata$ = objectMeta('Companion');
  var Companion_instance_3;
  function Companion_getInstance_3() {
    if (Companion_instance_3 == null)
      new Companion_3();
    return Companion_instance_3;
  }
  function IntRange(start, endInclusive) {
    Companion_getInstance_3();
    IntProgression.call(this, start, endInclusive, 1);
  }
  IntRange.prototype.h9 = function () {
    return this.i9();
  };
  IntRange.prototype.j9 = function () {
    return this.k9();
  };
  IntRange.prototype.l9 = function (value) {
    return this.i9() <= value ? value <= this.k9() : false;
  };
  IntRange.prototype.q = function () {
    return this.i9() > this.k9();
  };
  IntRange.prototype.equals = function (other) {
    var tmp;
    if (other instanceof IntRange) {
      tmp = (this.q() ? other.q() : false) ? true : this.i9() === other.i9() ? this.k9() === other.k9() : false;
    } else {
      tmp = false;
    }
    return tmp;
  };
  IntRange.prototype.hashCode = function () {
    return this.q() ? -1 : imul(31, this.i9()) + this.k9() | 0;
  };
  IntRange.prototype.toString = function () {
    return '' + this.i9() + '..' + this.k9();
  };
  IntRange.$metadata$ = classMeta('IntRange', [ClosedRange, OpenEndRange], undefined, undefined, undefined, IntProgression.prototype);
  function Companion_4() {
    Companion_instance_4 = this;
    this.m9_1 = new CharRange(_Char___init__impl__6a9atx(1), _Char___init__impl__6a9atx(0));
  }
  Companion_4.$metadata$ = objectMeta('Companion');
  var Companion_instance_4;
  function Companion_getInstance_4() {
    if (Companion_instance_4 == null)
      new Companion_4();
    return Companion_instance_4;
  }
  function CharRange(start, endInclusive) {
    Companion_getInstance_4();
    CharProgression.call(this, start, endInclusive, 1);
  }
  CharRange.prototype.q9 = function (value) {
    return Char__compareTo_impl_ypi4mb(this.v9(), value) <= 0 ? Char__compareTo_impl_ypi4mb(value, this.u9()) <= 0 : false;
  };
  CharRange.prototype.q = function () {
    return Char__compareTo_impl_ypi4mb(this.v9(), this.u9()) > 0;
  };
  CharRange.prototype.equals = function (other) {
    var tmp;
    if (other instanceof CharRange) {
      tmp = (this.q() ? other.q() : false) ? true : equals_1(new Char_0(this.v9()), new Char_0(other.v9())) ? equals_1(new Char_0(this.u9()), new Char_0(other.u9())) : false;
    } else {
      tmp = false;
    }
    return tmp;
  };
  CharRange.prototype.hashCode = function () {
    var tmp;
    if (this.q()) {
      tmp = -1;
    } else {
      var tmp$ret$0;
      {
        var tmp0__get_code__88qj9g = this.v9();
        tmp$ret$0 = Char__toInt_impl_vasixd(tmp0__get_code__88qj9g);
      }
      var tmp_0 = imul(31, tmp$ret$0);
      var tmp$ret$1;
      {
        var tmp1__get_code__adl84j = this.u9();
        tmp$ret$1 = Char__toInt_impl_vasixd(tmp1__get_code__adl84j);
      }
      tmp = tmp_0 + tmp$ret$1 | 0;
    }
    return tmp;
  };
  CharRange.prototype.toString = function () {
    return '' + new Char_0(this.v9()) + '..' + new Char_0(this.u9());
  };
  CharRange.$metadata$ = classMeta('CharRange', [ClosedRange, OpenEndRange], undefined, undefined, undefined, CharProgression.prototype);
  function IntProgressionIterator(first, last, step) {
    IntIterator.call(this);
    this.w9_1 = step;
    this.x9_1 = last;
    this.y9_1 = this.w9_1 > 0 ? first <= last : first >= last;
    this.z9_1 = this.y9_1 ? first : this.x9_1;
  }
  IntProgressionIterator.prototype.n = function () {
    return this.y9_1;
  };
  IntProgressionIterator.prototype.g4 = function () {
    var value = this.z9_1;
    if (value === this.x9_1) {
      if (!this.y9_1)
        throw NoSuchElementException_init_$Create$();
      this.y9_1 = false;
    } else {
      var tmp0_this = this;
      tmp0_this.z9_1 = tmp0_this.z9_1 + this.w9_1 | 0;
    }
    return value;
  };
  IntProgressionIterator.$metadata$ = classMeta('IntProgressionIterator', undefined, undefined, undefined, undefined, IntIterator.prototype);
  function CharProgressionIterator(first, last, step) {
    CharIterator.call(this);
    this.aa_1 = step;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = Char__toInt_impl_vasixd(last);
    }
    tmp.ba_1 = tmp$ret$0;
    this.ca_1 = this.aa_1 > 0 ? Char__compareTo_impl_ypi4mb(first, last) <= 0 : Char__compareTo_impl_ypi4mb(first, last) >= 0;
    var tmp_0 = this;
    var tmp_1;
    if (this.ca_1) {
      var tmp$ret$1;
      {
        tmp$ret$1 = Char__toInt_impl_vasixd(first);
      }
      tmp_1 = tmp$ret$1;
    } else {
      tmp_1 = this.ba_1;
    }
    tmp_0.da_1 = tmp_1;
  }
  CharProgressionIterator.prototype.n = function () {
    return this.ca_1;
  };
  CharProgressionIterator.prototype.i4 = function () {
    var value = this.da_1;
    if (value === this.ba_1) {
      if (!this.ca_1)
        throw NoSuchElementException_init_$Create$();
      this.ca_1 = false;
    } else {
      var tmp0_this = this;
      tmp0_this.da_1 = tmp0_this.da_1 + this.aa_1 | 0;
    }
    return numberToChar(value);
  };
  CharProgressionIterator.$metadata$ = classMeta('CharProgressionIterator', undefined, undefined, undefined, undefined, CharIterator.prototype);
  function Companion_5() {
    Companion_instance_5 = this;
  }
  Companion_5.prototype.h1 = function (rangeStart, rangeEnd, step) {
    return new IntProgression(rangeStart, rangeEnd, step);
  };
  Companion_5.$metadata$ = objectMeta('Companion');
  var Companion_instance_5;
  function Companion_getInstance_5() {
    if (Companion_instance_5 == null)
      new Companion_5();
    return Companion_instance_5;
  }
  function IntProgression(start, endInclusive, step) {
    Companion_getInstance_5();
    if (step === 0)
      throw IllegalArgumentException_init_$Create$_0('Step must be non-zero.');
    if (step === IntCompanionObject_getInstance().a1_1)
      throw IllegalArgumentException_init_$Create$_0('Step must be greater than Int.MIN_VALUE to avoid overflow on negation.');
    this.e1_1 = start;
    this.f1_1 = getProgressionLastElement(start, endInclusive, step);
    this.g1_1 = step;
  }
  IntProgression.prototype.i9 = function () {
    return this.e1_1;
  };
  IntProgression.prototype.k9 = function () {
    return this.f1_1;
  };
  IntProgression.prototype.h = function () {
    return new IntProgressionIterator(this.e1_1, this.f1_1, this.g1_1);
  };
  IntProgression.prototype.q = function () {
    return this.g1_1 > 0 ? this.e1_1 > this.f1_1 : this.e1_1 < this.f1_1;
  };
  IntProgression.prototype.equals = function (other) {
    var tmp;
    if (other instanceof IntProgression) {
      tmp = (this.q() ? other.q() : false) ? true : (this.e1_1 === other.e1_1 ? this.f1_1 === other.f1_1 : false) ? this.g1_1 === other.g1_1 : false;
    } else {
      tmp = false;
    }
    return tmp;
  };
  IntProgression.prototype.hashCode = function () {
    return this.q() ? -1 : imul(31, imul(31, this.e1_1) + this.f1_1 | 0) + this.g1_1 | 0;
  };
  IntProgression.prototype.toString = function () {
    return this.g1_1 > 0 ? '' + this.e1_1 + '..' + this.f1_1 + ' step ' + this.g1_1 : '' + this.e1_1 + ' downTo ' + this.f1_1 + ' step ' + (-this.g1_1 | 0);
  };
  IntProgression.$metadata$ = classMeta('IntProgression', [Iterable_0]);
  function Companion_6() {
    Companion_instance_6 = this;
  }
  Companion_6.$metadata$ = objectMeta('Companion');
  var Companion_instance_6;
  function Companion_getInstance_6() {
    if (Companion_instance_6 == null)
      new Companion_6();
    return Companion_instance_6;
  }
  function CharProgression(start, endInclusive, step) {
    Companion_getInstance_6();
    if (step === 0)
      throw IllegalArgumentException_init_$Create$_0('Step must be non-zero.');
    if (step === IntCompanionObject_getInstance().a1_1)
      throw IllegalArgumentException_init_$Create$_0('Step must be greater than Int.MIN_VALUE to avoid overflow on negation.');
    this.r9_1 = start;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = Char__toInt_impl_vasixd(start);
    }
    var tmp_0 = tmp$ret$0;
    var tmp$ret$1;
    {
      tmp$ret$1 = Char__toInt_impl_vasixd(endInclusive);
    }
    tmp.s9_1 = numberToChar(getProgressionLastElement(tmp_0, tmp$ret$1, step));
    this.t9_1 = step;
  }
  CharProgression.prototype.v9 = function () {
    return this.r9_1;
  };
  CharProgression.prototype.u9 = function () {
    return this.s9_1;
  };
  CharProgression.prototype.h = function () {
    return new CharProgressionIterator(this.r9_1, this.s9_1, this.t9_1);
  };
  CharProgression.prototype.q = function () {
    return this.t9_1 > 0 ? Char__compareTo_impl_ypi4mb(this.r9_1, this.s9_1) > 0 : Char__compareTo_impl_ypi4mb(this.r9_1, this.s9_1) < 0;
  };
  CharProgression.prototype.equals = function (other) {
    var tmp;
    if (other instanceof CharProgression) {
      tmp = (this.q() ? other.q() : false) ? true : (equals_1(new Char_0(this.r9_1), new Char_0(other.r9_1)) ? equals_1(new Char_0(this.s9_1), new Char_0(other.s9_1)) : false) ? this.t9_1 === other.t9_1 : false;
    } else {
      tmp = false;
    }
    return tmp;
  };
  CharProgression.prototype.hashCode = function () {
    var tmp;
    if (this.q()) {
      tmp = -1;
    } else {
      var tmp$ret$0;
      {
        var tmp0__get_code__88qj9g = this.r9_1;
        tmp$ret$0 = Char__toInt_impl_vasixd(tmp0__get_code__88qj9g);
      }
      var tmp_0 = imul(31, tmp$ret$0);
      var tmp$ret$1;
      {
        var tmp1__get_code__adl84j = this.s9_1;
        tmp$ret$1 = Char__toInt_impl_vasixd(tmp1__get_code__adl84j);
      }
      tmp = imul(31, tmp_0 + tmp$ret$1 | 0) + this.t9_1 | 0;
    }
    return tmp;
  };
  CharProgression.prototype.toString = function () {
    return this.t9_1 > 0 ? '' + new Char_0(this.r9_1) + '..' + new Char_0(this.s9_1) + ' step ' + this.t9_1 : '' + new Char_0(this.r9_1) + ' downTo ' + new Char_0(this.s9_1) + ' step ' + (-this.t9_1 | 0);
  };
  CharProgression.$metadata$ = classMeta('CharProgression', [Iterable_0]);
  function ClosedRange() {
  }
  ClosedRange.$metadata$ = interfaceMeta('ClosedRange');
  function OpenEndRange() {
  }
  OpenEndRange.$metadata$ = interfaceMeta('OpenEndRange');
  function checkStepIsPositive(isPositive, step) {
    if (!isPositive)
      throw IllegalArgumentException_init_$Create$_0('Step must be positive, was: ' + toString_4(step) + '.');
  }
  function KClassifier() {
  }
  KClassifier.$metadata$ = interfaceMeta('KClassifier');
  function KTypeParameter() {
  }
  KTypeParameter.$metadata$ = interfaceMeta('KTypeParameter', [KClassifier]);
  function appendElement(_this__u8e3s4, element, transform) {
    if (!(transform == null)) {
      _this__u8e3s4.c(transform(element));
    } else {
      if (element == null ? true : isCharSequence(element)) {
        _this__u8e3s4.c(element);
      } else {
        if (element instanceof Char_0) {
          _this__u8e3s4.ea(element.n1_1);
        } else {
          _this__u8e3s4.c(toString_3(element));
        }
      }
    }
  }
  function equals(_this__u8e3s4, other, ignoreCase) {
    if (equals_1(new Char_0(_this__u8e3s4), new Char_0(other)))
      return true;
    if (!ignoreCase)
      return false;
    var thisUpper = uppercaseChar(_this__u8e3s4);
    var otherUpper = uppercaseChar(other);
    var tmp;
    if (equals_1(new Char_0(thisUpper), new Char_0(otherUpper))) {
      tmp = true;
    } else {
      var tmp$ret$3;
      {
        var tmp$ret$2;
        {
          var tmp$ret$1;
          {
            var tmp$ret$0;
            {
              var tmp0_asDynamic = toString_2(thisUpper);
              tmp$ret$0 = tmp0_asDynamic;
            }
            var tmp1_unsafeCast = tmp$ret$0.toLowerCase();
            tmp$ret$1 = tmp1_unsafeCast;
          }
          tmp$ret$2 = tmp$ret$1;
        }
        tmp$ret$3 = charSequenceGet(tmp$ret$2, 0);
      }
      var tmp_0 = new Char_0(tmp$ret$3);
      var tmp$ret$7;
      {
        var tmp$ret$6;
        {
          var tmp$ret$5;
          {
            var tmp$ret$4;
            {
              var tmp2_asDynamic = toString_2(otherUpper);
              tmp$ret$4 = tmp2_asDynamic;
            }
            var tmp3_unsafeCast = tmp$ret$4.toLowerCase();
            tmp$ret$5 = tmp3_unsafeCast;
          }
          tmp$ret$6 = tmp$ret$5;
        }
        tmp$ret$7 = charSequenceGet(tmp$ret$6, 0);
      }
      tmp = equals_1(tmp_0, new Char_0(tmp$ret$7));
    }
    return tmp;
  }
  function titlecase(_this__u8e3s4) {
    return titlecaseImpl(_this__u8e3s4);
  }
  function plus_1(_this__u8e3s4, other) {
    return toString_2(_this__u8e3s4) + other;
  }
  function trimIndent(_this__u8e3s4) {
    return replaceIndent(_this__u8e3s4, '');
  }
  function replaceIndent(_this__u8e3s4, newIndent) {
    var lines_0 = lines(_this__u8e3s4);
    var tmp$ret$3;
    {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          var tmp0_filterTo = ArrayList_init_$Create$();
          var tmp0_iterator = lines_0.h();
          while (tmp0_iterator.n()) {
            var element = tmp0_iterator.o();
            if (isNotBlank(element)) {
              tmp0_filterTo.b(element);
            }
          }
          tmp$ret$0 = tmp0_filterTo;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      var tmp0_map = tmp$ret$1;
      var tmp$ret$2;
      {
        var tmp0_mapTo = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp0_map, 10));
        var tmp0_iterator_0 = tmp0_map.h();
        while (tmp0_iterator_0.n()) {
          var item = tmp0_iterator_0.o();
          tmp0_mapTo.b(indentWidth(item));
        }
        tmp$ret$2 = tmp0_mapTo;
      }
      tmp$ret$3 = tmp$ret$2;
    }
    var tmp0_elvis_lhs = minOrNull(tmp$ret$3);
    var minCommonIndent = tmp0_elvis_lhs == null ? 0 : tmp0_elvis_lhs;
    var tmp$ret$10;
    {
      var tmp1_reindent = _this__u8e3s4.length + imul(newIndent.length, lines_0.m()) | 0;
      var tmp2_reindent = getIndentFunction(newIndent);
      var lastIndex = get_lastIndex_3(lines_0);
      var tmp$ret$9;
      {
        var tmp$ret$8;
        {
          var tmp1_mapIndexedNotNullTo = ArrayList_init_$Create$();
          {
            var index = 0;
            var tmp0_iterator_1 = lines_0.h();
            while (tmp0_iterator_1.n()) {
              var item_0 = tmp0_iterator_1.o();
              {
                var tmp1 = index;
                index = tmp1 + 1 | 0;
                var tmp0__anonymous__q1qw7t = checkIndexOverflow(tmp1);
                var tmp$ret$6;
                {
                  var tmp;
                  if ((tmp0__anonymous__q1qw7t === 0 ? true : tmp0__anonymous__q1qw7t === lastIndex) ? isBlank(item_0) : false) {
                    tmp = null;
                  } else {
                    var tmp$ret$4;
                    {
                      tmp$ret$4 = drop(item_0, minCommonIndent);
                    }
                    var tmp0_safe_receiver = tmp$ret$4;
                    var tmp_0;
                    if (tmp0_safe_receiver == null) {
                      tmp_0 = null;
                    } else {
                      var tmp$ret$5;
                      {
                        {
                        }
                        tmp$ret$5 = tmp2_reindent(tmp0_safe_receiver);
                      }
                      tmp_0 = tmp$ret$5;
                    }
                    var tmp1_elvis_lhs = tmp_0;
                    tmp = tmp1_elvis_lhs == null ? item_0 : tmp1_elvis_lhs;
                  }
                  tmp$ret$6 = tmp;
                }
                var tmp0_safe_receiver_0 = tmp$ret$6;
                if (tmp0_safe_receiver_0 == null)
                  null;
                else {
                  var tmp$ret$7;
                  {
                    {
                    }
                    tmp1_mapIndexedNotNullTo.b(tmp0_safe_receiver_0);
                    tmp$ret$7 = Unit_getInstance();
                  }
                }
              }
            }
          }
          tmp$ret$8 = tmp1_mapIndexedNotNullTo;
        }
        tmp$ret$9 = tmp$ret$8;
      }
      var tmp_1 = tmp$ret$9;
      var tmp_2 = StringBuilder_init_$Create$(tmp1_reindent);
      tmp$ret$10 = joinTo$default(tmp_1, tmp_2, '\n', null, null, 0, null, null, 124, null).toString();
    }
    return tmp$ret$10;
  }
  function indentWidth(_this__u8e3s4) {
    var tmp$ret$3;
    {
      var tmp$ret$1;
      $l$block: {
        var inductionVariable = 0;
        var last = charSequenceLength(_this__u8e3s4) - 1 | 0;
        if (inductionVariable <= last)
          do {
            var index = inductionVariable;
            inductionVariable = inductionVariable + 1 | 0;
            var tmp$ret$0;
            {
              var tmp0__anonymous__q1qw7t = charSequenceGet(_this__u8e3s4, index);
              tmp$ret$0 = !isWhitespace(tmp0__anonymous__q1qw7t);
            }
            if (tmp$ret$0) {
              tmp$ret$1 = index;
              break $l$block;
            }
          }
           while (inductionVariable <= last);
        tmp$ret$1 = -1;
      }
      var tmp1_let = tmp$ret$1;
      {
      }
      var tmp$ret$2;
      {
        tmp$ret$2 = tmp1_let === -1 ? _this__u8e3s4.length : tmp1_let;
      }
      tmp$ret$3 = tmp$ret$2;
    }
    return tmp$ret$3;
  }
  function reindent(_this__u8e3s4, resultSizeEstimate, indentAddFunction, indentCutFunction) {
    var lastIndex = get_lastIndex_3(_this__u8e3s4);
    var tmp$ret$4;
    {
      var tmp$ret$3;
      {
        var tmp1_mapIndexedNotNullTo = ArrayList_init_$Create$();
        {
          var index = 0;
          var tmp0_iterator = _this__u8e3s4.h();
          while (tmp0_iterator.n()) {
            var item = tmp0_iterator.o();
            {
              var tmp1 = index;
              index = tmp1 + 1 | 0;
              var tmp0__anonymous__q1qw7t = checkIndexOverflow(tmp1);
              var tmp$ret$1;
              {
                var tmp;
                if ((tmp0__anonymous__q1qw7t === 0 ? true : tmp0__anonymous__q1qw7t === lastIndex) ? isBlank(item) : false) {
                  tmp = null;
                } else {
                  var tmp0_safe_receiver = indentCutFunction(item);
                  var tmp_0;
                  if (tmp0_safe_receiver == null) {
                    tmp_0 = null;
                  } else {
                    var tmp$ret$0;
                    {
                      {
                      }
                      tmp$ret$0 = indentAddFunction(tmp0_safe_receiver);
                    }
                    tmp_0 = tmp$ret$0;
                  }
                  var tmp1_elvis_lhs = tmp_0;
                  tmp = tmp1_elvis_lhs == null ? item : tmp1_elvis_lhs;
                }
                tmp$ret$1 = tmp;
              }
              var tmp0_safe_receiver_0 = tmp$ret$1;
              if (tmp0_safe_receiver_0 == null)
                null;
              else {
                var tmp$ret$2;
                {
                  {
                  }
                  tmp1_mapIndexedNotNullTo.b(tmp0_safe_receiver_0);
                  tmp$ret$2 = Unit_getInstance();
                }
              }
            }
          }
        }
        tmp$ret$3 = tmp1_mapIndexedNotNullTo;
      }
      tmp$ret$4 = tmp$ret$3;
    }
    var tmp_1 = tmp$ret$4;
    var tmp_2 = StringBuilder_init_$Create$(resultSizeEstimate);
    return joinTo$default(tmp_1, tmp_2, '\n', null, null, 0, null, null, 124, null).toString();
  }
  function getIndentFunction(indent) {
    var tmp;
    var tmp$ret$0;
    {
      tmp$ret$0 = charSequenceLength(indent) === 0;
    }
    if (tmp$ret$0) {
      tmp = getIndentFunction$lambda();
    } else {
      tmp = getIndentFunction$lambda_0(indent);
    }
    return tmp;
  }
  function prependIndent(_this__u8e3s4, indent) {
    var tmp = lineSequence(_this__u8e3s4);
    var tmp_0 = map_2(tmp, prependIndent$lambda(indent));
    return joinToString$default_1(tmp_0, '\n', null, null, 0, null, null, 62, null);
  }
  function getIndentFunction$lambda() {
    return function (line) {
      return line;
    };
  }
  function getIndentFunction$lambda_0($indent) {
    return function (line) {
      return $indent + line;
    };
  }
  function prependIndent$lambda($indent) {
    return function (it) {
      var tmp;
      if (isBlank(it)) {
        tmp = it.length < $indent.length ? $indent : it;
      } else {
        tmp = $indent + it;
      }
      return tmp;
    };
  }
  function buildString(builderAction) {
    {
    }
    var tmp$ret$0;
    {
      var tmp0_apply = StringBuilder_init_$Create$_0();
      {
      }
      builderAction(tmp0_apply);
      tmp$ret$0 = tmp0_apply;
    }
    return tmp$ret$0.toString();
  }
  function appendLine(_this__u8e3s4, value) {
    var tmp$ret$0;
    {
      var tmp0_appendLine = _this__u8e3s4.ga(value);
      tmp$ret$0 = tmp0_appendLine.ea(_Char___init__impl__6a9atx(10));
    }
    return tmp$ret$0;
  }
  function appendLine_0(_this__u8e3s4) {
    return _this__u8e3s4.ea(_Char___init__impl__6a9atx(10));
  }
  function toIntOrNull(_this__u8e3s4) {
    return toIntOrNull_0(_this__u8e3s4, 10);
  }
  function toLongOrNull(_this__u8e3s4) {
    return toLongOrNull_0(_this__u8e3s4, 10);
  }
  function toIntOrNull_0(_this__u8e3s4, radix) {
    checkRadix(radix);
    var length = _this__u8e3s4.length;
    if (length === 0)
      return null;
    var start;
    var isNegative;
    var limit;
    var firstChar = charSequenceGet(_this__u8e3s4, 0);
    if (Char__compareTo_impl_ypi4mb(firstChar, _Char___init__impl__6a9atx(48)) < 0) {
      if (length === 1)
        return null;
      start = 1;
      if (equals_1(new Char_0(firstChar), new Char_0(_Char___init__impl__6a9atx(45)))) {
        isNegative = true;
        limit = IntCompanionObject_getInstance().a1_1;
      } else if (equals_1(new Char_0(firstChar), new Char_0(_Char___init__impl__6a9atx(43)))) {
        isNegative = false;
        limit = -IntCompanionObject_getInstance().b1_1 | 0;
      } else
        return null;
    } else {
      start = 0;
      isNegative = false;
      limit = -IntCompanionObject_getInstance().b1_1 | 0;
    }
    var limitForMaxRadix = (-IntCompanionObject_getInstance().b1_1 | 0) / 36 | 0;
    var limitBeforeMul = limitForMaxRadix;
    var result = 0;
    var inductionVariable = start;
    if (inductionVariable < length)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var digit = digitOf(charSequenceGet(_this__u8e3s4, i), radix);
        if (digit < 0)
          return null;
        if (result < limitBeforeMul) {
          if (limitBeforeMul === limitForMaxRadix) {
            limitBeforeMul = limit / radix | 0;
            if (result < limitBeforeMul) {
              return null;
            }
          } else {
            return null;
          }
        }
        result = imul(result, radix);
        if (result < (limit + digit | 0))
          return null;
        result = result - digit | 0;
      }
       while (inductionVariable < length);
    return isNegative ? result : -result | 0;
  }
  function toLongOrNull_0(_this__u8e3s4, radix) {
    checkRadix(radix);
    var length = _this__u8e3s4.length;
    if (length === 0)
      return null;
    var start;
    var isNegative;
    var limit;
    var firstChar = charSequenceGet(_this__u8e3s4, 0);
    if (Char__compareTo_impl_ypi4mb(firstChar, _Char___init__impl__6a9atx(48)) < 0) {
      if (length === 1)
        return null;
      start = 1;
      if (equals_1(new Char_0(firstChar), new Char_0(_Char___init__impl__6a9atx(45)))) {
        isNegative = true;
        Companion_getInstance_14();
        limit = new Long(0, -2147483648);
      } else if (equals_1(new Char_0(firstChar), new Char_0(_Char___init__impl__6a9atx(43)))) {
        isNegative = false;
        Companion_getInstance_14();
        limit = (new Long(-1, 2147483647)).ha();
      } else
        return null;
    } else {
      start = 0;
      isNegative = false;
      Companion_getInstance_14();
      limit = (new Long(-1, 2147483647)).ha();
    }
    var tmp$ret$0;
    {
      Companion_getInstance_14();
      var tmp0_div = (new Long(-1, 2147483647)).ha();
      tmp$ret$0 = tmp0_div.ia(new Long(36, 0));
    }
    var limitForMaxRadix = tmp$ret$0;
    var limitBeforeMul = limitForMaxRadix;
    var result = new Long(0, 0);
    var inductionVariable = start;
    if (inductionVariable < length)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var digit = digitOf(charSequenceGet(_this__u8e3s4, i), radix);
        if (digit < 0)
          return null;
        if (result.k1(limitBeforeMul) < 0) {
          if (limitBeforeMul.equals(limitForMaxRadix)) {
            var tmp$ret$1;
            {
              tmp$ret$1 = limit.ia(toLong_0(radix));
            }
            limitBeforeMul = tmp$ret$1;
            if (result.k1(limitBeforeMul) < 0) {
              return null;
            }
          } else {
            return null;
          }
        }
        var tmp$ret$2;
        {
          var tmp1_times = result;
          tmp$ret$2 = tmp1_times.ja(toLong_0(radix));
        }
        result = tmp$ret$2;
        var tmp = result;
        var tmp$ret$3;
        {
          tmp$ret$3 = limit.ka(toLong_0(digit));
        }
        if (tmp.k1(tmp$ret$3) < 0)
          return null;
        var tmp$ret$4;
        {
          var tmp2_minus = result;
          tmp$ret$4 = tmp2_minus.la(toLong_0(digit));
        }
        result = tmp$ret$4;
      }
       while (inductionVariable < length);
    return isNegative ? result : result.ha();
  }
  function numberFormatError(input) {
    throw NumberFormatException_init_$Create$("Invalid number format: '" + input + "'");
  }
  function isEmpty_2(_this__u8e3s4) {
    return charSequenceLength(_this__u8e3s4) === 0;
  }
  function isNotBlank(_this__u8e3s4) {
    return !isBlank(_this__u8e3s4);
  }
  function removePrefix(_this__u8e3s4, prefix) {
    if (startsWith$default_0(_this__u8e3s4, prefix, false, 2, null)) {
      var tmp$ret$1;
      {
        var tmp0_substring = charSequenceLength(prefix);
        var tmp$ret$0;
        {
          tmp$ret$0 = _this__u8e3s4;
        }
        tmp$ret$1 = tmp$ret$0.substring(tmp0_substring);
      }
      return tmp$ret$1;
    }
    return _this__u8e3s4;
  }
  function padStart(_this__u8e3s4, length, padChar) {
    return toString_4(padStart_0(isCharSequence(_this__u8e3s4) ? _this__u8e3s4 : THROW_CCE(), length, padChar));
  }
  function isNotEmpty_1(_this__u8e3s4) {
    return charSequenceLength(_this__u8e3s4) > 0;
  }
  function padEnd(_this__u8e3s4, length, padChar) {
    return toString_4(padEnd_0(isCharSequence(_this__u8e3s4) ? _this__u8e3s4 : THROW_CCE(), length, padChar));
  }
  function iterator_2(_this__u8e3s4) {
    return new iterator$1(_this__u8e3s4);
  }
  function startsWith(_this__u8e3s4, char, ignoreCase) {
    return charSequenceLength(_this__u8e3s4) > 0 ? equals(charSequenceGet(_this__u8e3s4, 0), char, ignoreCase) : false;
  }
  function startsWith$default(_this__u8e3s4, char, ignoreCase, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      ignoreCase = false;
    return startsWith(_this__u8e3s4, char, ignoreCase);
  }
  function contains_4(_this__u8e3s4, char, ignoreCase) {
    return indexOf$default(_this__u8e3s4, char, 0, ignoreCase, 2, null) >= 0;
  }
  function contains$default(_this__u8e3s4, char, ignoreCase, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      ignoreCase = false;
    return contains_4(_this__u8e3s4, char, ignoreCase);
  }
  function indexOf_3(_this__u8e3s4, char, startIndex, ignoreCase) {
    var tmp;
    var tmp_0;
    if (ignoreCase) {
      tmp_0 = true;
    } else {
      tmp_0 = !(typeof _this__u8e3s4 === 'string');
    }
    if (tmp_0) {
      var tmp$ret$0;
      {
        tmp$ret$0 = charArrayOf_0([char]);
      }
      tmp = indexOfAny(_this__u8e3s4, tmp$ret$0, startIndex, ignoreCase);
    } else {
      var tmp$ret$3;
      {
        var tmp1_nativeIndexOf = _this__u8e3s4;
        var tmp$ret$2;
        {
          var tmp0_nativeIndexOf = toString_2(char);
          var tmp$ret$1;
          {
            tmp$ret$1 = tmp1_nativeIndexOf;
          }
          tmp$ret$2 = tmp$ret$1.indexOf(tmp0_nativeIndexOf, startIndex);
        }
        tmp$ret$3 = tmp$ret$2;
      }
      tmp = tmp$ret$3;
    }
    return tmp;
  }
  function indexOf$default(_this__u8e3s4, char, startIndex, ignoreCase, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      startIndex = 0;
    if (!(($mask0 & 4) === 0))
      ignoreCase = false;
    return indexOf_3(_this__u8e3s4, char, startIndex, ignoreCase);
  }
  function get_lastIndex_4(_this__u8e3s4) {
    return charSequenceLength(_this__u8e3s4) - 1 | 0;
  }
  function startsWith_0(_this__u8e3s4, prefix, ignoreCase) {
    var tmp;
    var tmp_0;
    if (!ignoreCase) {
      tmp_0 = typeof _this__u8e3s4 === 'string';
    } else {
      tmp_0 = false;
    }
    if (tmp_0) {
      tmp = typeof prefix === 'string';
    } else {
      tmp = false;
    }
    if (tmp) {
      return startsWith$default_1(_this__u8e3s4, prefix, false, 2, null);
    } else {
      return regionMatchesImpl(_this__u8e3s4, 0, prefix, 0, charSequenceLength(prefix), ignoreCase);
    }
  }
  function startsWith$default_0(_this__u8e3s4, prefix, ignoreCase, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      ignoreCase = false;
    return startsWith_0(_this__u8e3s4, prefix, ignoreCase);
  }
  function padStart_0(_this__u8e3s4, length, padChar) {
    if (length < 0)
      throw IllegalArgumentException_init_$Create$_0('Desired length ' + length + ' is less than zero.');
    if (length <= charSequenceLength(_this__u8e3s4))
      return charSequenceSubSequence(_this__u8e3s4, 0, charSequenceLength(_this__u8e3s4));
    var sb = StringBuilder_init_$Create$(length);
    var inductionVariable = 1;
    var last = length - charSequenceLength(_this__u8e3s4) | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        sb.ea(padChar);
      }
       while (!(i === last));
    sb.c(_this__u8e3s4);
    return sb;
  }
  function padEnd_0(_this__u8e3s4, length, padChar) {
    if (length < 0)
      throw IllegalArgumentException_init_$Create$_0('Desired length ' + length + ' is less than zero.');
    if (length <= charSequenceLength(_this__u8e3s4))
      return charSequenceSubSequence(_this__u8e3s4, 0, charSequenceLength(_this__u8e3s4));
    var sb = StringBuilder_init_$Create$(length);
    sb.c(_this__u8e3s4);
    var inductionVariable = 1;
    var last = length - charSequenceLength(_this__u8e3s4) | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        sb.ea(padChar);
      }
       while (!(i === last));
    return sb;
  }
  function indexOfAny(_this__u8e3s4, chars, startIndex, ignoreCase) {
    var tmp;
    if (!ignoreCase ? chars.length === 1 : false) {
      tmp = typeof _this__u8e3s4 === 'string';
    } else {
      tmp = false;
    }
    if (tmp) {
      var char = single(chars);
      var tmp$ret$2;
      {
        var tmp1_nativeIndexOf = _this__u8e3s4;
        var tmp$ret$1;
        {
          var tmp0_nativeIndexOf = toString_2(char);
          var tmp$ret$0;
          {
            tmp$ret$0 = tmp1_nativeIndexOf;
          }
          tmp$ret$1 = tmp$ret$0.indexOf(tmp0_nativeIndexOf, startIndex);
        }
        tmp$ret$2 = tmp$ret$1;
      }
      return tmp$ret$2;
    }
    var inductionVariable = coerceAtLeast(startIndex, 0);
    var last = get_lastIndex_4(_this__u8e3s4);
    if (inductionVariable <= last)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var charAtIndex = charSequenceGet(_this__u8e3s4, index);
        var tmp$ret$4;
        $l$block: {
          var indexedObject = chars;
          var inductionVariable_0 = 0;
          var last_0 = indexedObject.length;
          while (inductionVariable_0 < last_0) {
            var element = indexedObject[inductionVariable_0];
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            var tmp$ret$3;
            {
              tmp$ret$3 = equals(element, charAtIndex, ignoreCase);
            }
            if (tmp$ret$3) {
              tmp$ret$4 = true;
              break $l$block;
            }
          }
          tmp$ret$4 = false;
        }
        if (tmp$ret$4)
          return index;
      }
       while (!(index === last));
    return -1;
  }
  function regionMatchesImpl(_this__u8e3s4, thisOffset, other, otherOffset, length, ignoreCase) {
    if (((otherOffset < 0 ? true : thisOffset < 0) ? true : thisOffset > (charSequenceLength(_this__u8e3s4) - length | 0)) ? true : otherOffset > (charSequenceLength(other) - length | 0)) {
      return false;
    }
    var inductionVariable = 0;
    if (inductionVariable < length)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if (!equals(charSequenceGet(_this__u8e3s4, thisOffset + index | 0), charSequenceGet(other, otherOffset + index | 0), ignoreCase))
          return false;
      }
       while (inductionVariable < length);
    return true;
  }
  function get_indices_3(_this__u8e3s4) {
    return numberRangeToNumber(0, charSequenceLength(_this__u8e3s4) - 1 | 0);
  }
  function lines(_this__u8e3s4) {
    return toList_1(lineSequence(_this__u8e3s4));
  }
  function lineSequence(_this__u8e3s4) {
    return splitToSequence$default(_this__u8e3s4, ['\r\n', '\n', '\r'], false, 0, 6, null);
  }
  function splitToSequence(_this__u8e3s4, delimiters, ignoreCase, limit) {
    var tmp = rangesDelimitedBy$default(_this__u8e3s4, delimiters, 0, ignoreCase, limit, 2, null);
    return map_2(tmp, splitToSequence$lambda(_this__u8e3s4));
  }
  function splitToSequence$default(_this__u8e3s4, delimiters, ignoreCase, limit, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      ignoreCase = false;
    if (!(($mask0 & 4) === 0))
      limit = 0;
    return splitToSequence(_this__u8e3s4, delimiters, ignoreCase, limit);
  }
  function substring(_this__u8e3s4, range) {
    return toString_4(charSequenceSubSequence(_this__u8e3s4, range.h9(), range.j9() + 1 | 0));
  }
  function rangesDelimitedBy(_this__u8e3s4, delimiters, startIndex, ignoreCase, limit) {
    requireNonNegativeLimit(limit);
    var delimitersList = asList(delimiters);
    return new DelimitedRangesSequence(_this__u8e3s4, startIndex, limit, rangesDelimitedBy$lambda(delimitersList, ignoreCase));
  }
  function rangesDelimitedBy$default(_this__u8e3s4, delimiters, startIndex, ignoreCase, limit, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      startIndex = 0;
    if (!(($mask0 & 4) === 0))
      ignoreCase = false;
    if (!(($mask0 & 8) === 0))
      limit = 0;
    return rangesDelimitedBy(_this__u8e3s4, delimiters, startIndex, ignoreCase, limit);
  }
  function requireNonNegativeLimit(limit) {
    var tmp0_require = limit >= 0;
    {
    }
    var tmp;
    if (!tmp0_require) {
      var tmp$ret$0;
      {
        tmp$ret$0 = 'Limit must be non-negative, but was ' + limit;
      }
      var message = tmp$ret$0;
      throw IllegalArgumentException_init_$Create$_0(toString_4(message));
    }
    return tmp;
  }
  function calcNext_1($this) {
    if ($this.oa_1 < 0) {
      $this.ma_1 = 0;
      $this.pa_1 = null;
    } else {
      var tmp;
      var tmp_0;
      if ($this.ra_1.ua_1 > 0) {
        var tmp0_this = $this;
        tmp0_this.qa_1 = tmp0_this.qa_1 + 1 | 0;
        tmp_0 = tmp0_this.qa_1 >= $this.ra_1.ua_1;
      } else {
        tmp_0 = false;
      }
      if (tmp_0) {
        tmp = true;
      } else {
        tmp = $this.oa_1 > charSequenceLength($this.ra_1.sa_1);
      }
      if (tmp) {
        $this.pa_1 = numberRangeToNumber($this.na_1, get_lastIndex_4($this.ra_1.sa_1));
        $this.oa_1 = -1;
      } else {
        var match = $this.ra_1.va_1($this.ra_1.sa_1, $this.oa_1);
        if (match == null) {
          $this.pa_1 = numberRangeToNumber($this.na_1, get_lastIndex_4($this.ra_1.sa_1));
          $this.oa_1 = -1;
        } else {
          var tmp1_container = match;
          var index = tmp1_container.z3();
          var length = tmp1_container.a4();
          $this.pa_1 = until($this.na_1, index);
          $this.na_1 = index + length | 0;
          $this.oa_1 = $this.na_1 + (length === 0 ? 1 : 0) | 0;
        }
      }
      $this.ma_1 = 1;
    }
  }
  function DelimitedRangesSequence$iterator$1(this$0) {
    this.ra_1 = this$0;
    this.ma_1 = -1;
    this.na_1 = coerceIn_0(this$0.ta_1, 0, charSequenceLength(this$0.sa_1));
    this.oa_1 = this.na_1;
    this.pa_1 = null;
    this.qa_1 = 0;
  }
  DelimitedRangesSequence$iterator$1.prototype.o = function () {
    if (this.ma_1 === -1)
      calcNext_1(this);
    if (this.ma_1 === 0)
      throw NoSuchElementException_init_$Create$();
    var tmp = this.pa_1;
    var result = tmp instanceof IntRange ? tmp : THROW_CCE();
    this.pa_1 = null;
    this.ma_1 = -1;
    return result;
  };
  DelimitedRangesSequence$iterator$1.prototype.n = function () {
    if (this.ma_1 === -1)
      calcNext_1(this);
    return this.ma_1 === 1;
  };
  DelimitedRangesSequence$iterator$1.$metadata$ = classMeta(undefined, [Iterator]);
  function DelimitedRangesSequence(input, startIndex, limit, getNextMatch) {
    this.sa_1 = input;
    this.ta_1 = startIndex;
    this.ua_1 = limit;
    this.va_1 = getNextMatch;
  }
  DelimitedRangesSequence.prototype.h = function () {
    return new DelimitedRangesSequence$iterator$1(this);
  };
  DelimitedRangesSequence.$metadata$ = classMeta('DelimitedRangesSequence', [Sequence]);
  function findAnyOf(_this__u8e3s4, strings, startIndex, ignoreCase, last) {
    if (!ignoreCase ? strings.m() === 1 : false) {
      var string = single_0(strings);
      var tmp;
      if (!last) {
        tmp = indexOf$default_0(_this__u8e3s4, string, startIndex, false, 4, null);
      } else {
        tmp = lastIndexOf$default(_this__u8e3s4, string, startIndex, false, 4, null);
      }
      var index = tmp;
      return index < 0 ? null : to(index, string);
    }
    var indices = !last ? numberRangeToNumber(coerceAtLeast(startIndex, 0), charSequenceLength(_this__u8e3s4)) : downTo(coerceAtMost(startIndex, get_lastIndex_4(_this__u8e3s4)), 0);
    if (typeof _this__u8e3s4 === 'string') {
      var inductionVariable = indices.e1_1;
      var last_0 = indices.f1_1;
      var step = indices.g1_1;
      if ((step > 0 ? inductionVariable <= last_0 : false) ? true : step < 0 ? last_0 <= inductionVariable : false)
        do {
          var index_0 = inductionVariable;
          inductionVariable = inductionVariable + step | 0;
          var tmp$ret$1;
          $l$block: {
            var tmp0_iterator = strings.h();
            while (tmp0_iterator.n()) {
              var element = tmp0_iterator.o();
              var tmp$ret$0;
              {
                tmp$ret$0 = regionMatches(element, 0, _this__u8e3s4, index_0, element.length, ignoreCase);
              }
              if (tmp$ret$0) {
                tmp$ret$1 = element;
                break $l$block;
              }
            }
            tmp$ret$1 = null;
          }
          var matchingString = tmp$ret$1;
          if (!(matchingString == null))
            return to(index_0, matchingString);
        }
         while (!(index_0 === last_0));
    } else {
      var inductionVariable_0 = indices.e1_1;
      var last_1 = indices.f1_1;
      var step_0 = indices.g1_1;
      if ((step_0 > 0 ? inductionVariable_0 <= last_1 : false) ? true : step_0 < 0 ? last_1 <= inductionVariable_0 : false)
        do {
          var index_1 = inductionVariable_0;
          inductionVariable_0 = inductionVariable_0 + step_0 | 0;
          var tmp$ret$3;
          $l$block_0: {
            var tmp0_iterator_0 = strings.h();
            while (tmp0_iterator_0.n()) {
              var element_0 = tmp0_iterator_0.o();
              var tmp$ret$2;
              {
                tmp$ret$2 = regionMatchesImpl(element_0, 0, _this__u8e3s4, index_1, element_0.length, ignoreCase);
              }
              if (tmp$ret$2) {
                tmp$ret$3 = element_0;
                break $l$block_0;
              }
            }
            tmp$ret$3 = null;
          }
          var matchingString_0 = tmp$ret$3;
          if (!(matchingString_0 == null))
            return to(index_1, matchingString_0);
        }
         while (!(index_1 === last_1));
    }
    return null;
  }
  function indexOf_4(_this__u8e3s4, string, startIndex, ignoreCase) {
    var tmp;
    var tmp_0;
    if (ignoreCase) {
      tmp_0 = true;
    } else {
      tmp_0 = !(typeof _this__u8e3s4 === 'string');
    }
    if (tmp_0) {
      var tmp_1 = charSequenceLength(_this__u8e3s4);
      tmp = indexOf$default_1(_this__u8e3s4, string, startIndex, tmp_1, ignoreCase, false, 16, null);
    } else {
      var tmp$ret$1;
      {
        var tmp0_nativeIndexOf = _this__u8e3s4;
        var tmp$ret$0;
        {
          tmp$ret$0 = tmp0_nativeIndexOf;
        }
        tmp$ret$1 = tmp$ret$0.indexOf(string, startIndex);
      }
      tmp = tmp$ret$1;
    }
    return tmp;
  }
  function indexOf$default_0(_this__u8e3s4, string, startIndex, ignoreCase, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      startIndex = 0;
    if (!(($mask0 & 4) === 0))
      ignoreCase = false;
    return indexOf_4(_this__u8e3s4, string, startIndex, ignoreCase);
  }
  function lastIndexOf(_this__u8e3s4, string, startIndex, ignoreCase) {
    var tmp;
    var tmp_0;
    if (ignoreCase) {
      tmp_0 = true;
    } else {
      tmp_0 = !(typeof _this__u8e3s4 === 'string');
    }
    if (tmp_0) {
      tmp = indexOf_5(_this__u8e3s4, string, startIndex, 0, ignoreCase, true);
    } else {
      var tmp$ret$1;
      {
        var tmp0_nativeLastIndexOf = _this__u8e3s4;
        var tmp$ret$0;
        {
          tmp$ret$0 = tmp0_nativeLastIndexOf;
        }
        tmp$ret$1 = tmp$ret$0.lastIndexOf(string, startIndex);
      }
      tmp = tmp$ret$1;
    }
    return tmp;
  }
  function lastIndexOf$default(_this__u8e3s4, string, startIndex, ignoreCase, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      startIndex = get_lastIndex_4(_this__u8e3s4);
    if (!(($mask0 & 4) === 0))
      ignoreCase = false;
    return lastIndexOf(_this__u8e3s4, string, startIndex, ignoreCase);
  }
  function indexOf_5(_this__u8e3s4, other, startIndex, endIndex, ignoreCase, last) {
    var indices = !last ? numberRangeToNumber(coerceAtLeast(startIndex, 0), coerceAtMost(endIndex, charSequenceLength(_this__u8e3s4))) : downTo(coerceAtMost(startIndex, get_lastIndex_4(_this__u8e3s4)), coerceAtLeast(endIndex, 0));
    var tmp;
    if (typeof _this__u8e3s4 === 'string') {
      tmp = typeof other === 'string';
    } else {
      tmp = false;
    }
    if (tmp) {
      var inductionVariable = indices.e1_1;
      var last_0 = indices.f1_1;
      var step = indices.g1_1;
      if ((step > 0 ? inductionVariable <= last_0 : false) ? true : step < 0 ? last_0 <= inductionVariable : false)
        do {
          var index = inductionVariable;
          inductionVariable = inductionVariable + step | 0;
          if (regionMatches(other, 0, _this__u8e3s4, index, charSequenceLength(other), ignoreCase))
            return index;
        }
         while (!(index === last_0));
    } else {
      var inductionVariable_0 = indices.e1_1;
      var last_1 = indices.f1_1;
      var step_0 = indices.g1_1;
      if ((step_0 > 0 ? inductionVariable_0 <= last_1 : false) ? true : step_0 < 0 ? last_1 <= inductionVariable_0 : false)
        do {
          var index_0 = inductionVariable_0;
          inductionVariable_0 = inductionVariable_0 + step_0 | 0;
          if (regionMatchesImpl(other, 0, _this__u8e3s4, index_0, charSequenceLength(other), ignoreCase))
            return index_0;
        }
         while (!(index_0 === last_1));
    }
    return -1;
  }
  function indexOf$default_1(_this__u8e3s4, other, startIndex, endIndex, ignoreCase, last, $mask0, $handler) {
    if (!(($mask0 & 16) === 0))
      last = false;
    return indexOf_5(_this__u8e3s4, other, startIndex, endIndex, ignoreCase, last);
  }
  function substring_0(_this__u8e3s4, startIndex, endIndex) {
    return toString_4(charSequenceSubSequence(_this__u8e3s4, startIndex, endIndex));
  }
  function substring_1(_this__u8e3s4, range) {
    var tmp$ret$1;
    {
      var tmp0_substring = range.h9();
      var tmp1_substring = range.j9() + 1 | 0;
      var tmp$ret$0;
      {
        tmp$ret$0 = _this__u8e3s4;
      }
      tmp$ret$1 = tmp$ret$0.substring(tmp0_substring, tmp1_substring);
    }
    return tmp$ret$1;
  }
  function split(_this__u8e3s4, delimiters, ignoreCase, limit) {
    if (delimiters.length === 1) {
      return split_0(_this__u8e3s4, toString_2(delimiters[0]), ignoreCase, limit);
    }
    var tmp$ret$2;
    {
      var tmp0_map = asIterable_1(rangesDelimitedBy$default_0(_this__u8e3s4, delimiters, 0, ignoreCase, limit, 2, null));
      var tmp$ret$1;
      {
        var tmp0_mapTo = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp0_map, 10));
        var tmp0_iterator = tmp0_map.h();
        while (tmp0_iterator.n()) {
          var item = tmp0_iterator.o();
          var tmp$ret$0;
          {
            tmp$ret$0 = substring(_this__u8e3s4, item);
          }
          tmp0_mapTo.b(tmp$ret$0);
        }
        tmp$ret$1 = tmp0_mapTo;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    return tmp$ret$2;
  }
  function split$default(_this__u8e3s4, delimiters, ignoreCase, limit, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      ignoreCase = false;
    if (!(($mask0 & 4) === 0))
      limit = 0;
    return split(_this__u8e3s4, delimiters, ignoreCase, limit);
  }
  function matches(_this__u8e3s4, regex) {
    return regex.bb(_this__u8e3s4);
  }
  function split_0(_this__u8e3s4, delimiter, ignoreCase, limit) {
    requireNonNegativeLimit(limit);
    var currentOffset = 0;
    var nextIndex = indexOf_4(_this__u8e3s4, delimiter, currentOffset, ignoreCase);
    if (nextIndex === -1 ? true : limit === 1) {
      return listOf_0(toString_4(_this__u8e3s4));
    }
    var isLimited = limit > 0;
    var result = ArrayList_init_$Create$_0(isLimited ? coerceAtMost(limit, 10) : 10);
    $l$loop: do {
      var tmp$ret$0;
      {
        var tmp0_substring = currentOffset;
        var tmp1_substring = nextIndex;
        tmp$ret$0 = toString_4(charSequenceSubSequence(_this__u8e3s4, tmp0_substring, tmp1_substring));
      }
      result.b(tmp$ret$0);
      currentOffset = nextIndex + delimiter.length | 0;
      if (isLimited ? result.m() === (limit - 1 | 0) : false)
        break $l$loop;
      nextIndex = indexOf_4(_this__u8e3s4, delimiter, currentOffset, ignoreCase);
    }
     while (!(nextIndex === -1));
    var tmp$ret$1;
    {
      var tmp2_substring = currentOffset;
      var tmp3_substring = charSequenceLength(_this__u8e3s4);
      tmp$ret$1 = toString_4(charSequenceSubSequence(_this__u8e3s4, tmp2_substring, tmp3_substring));
    }
    result.b(tmp$ret$1);
    return result;
  }
  function rangesDelimitedBy_0(_this__u8e3s4, delimiters, startIndex, ignoreCase, limit) {
    requireNonNegativeLimit(limit);
    return new DelimitedRangesSequence(_this__u8e3s4, startIndex, limit, rangesDelimitedBy$lambda_0(delimiters, ignoreCase));
  }
  function rangesDelimitedBy$default_0(_this__u8e3s4, delimiters, startIndex, ignoreCase, limit, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      startIndex = 0;
    if (!(($mask0 & 4) === 0))
      ignoreCase = false;
    if (!(($mask0 & 8) === 0))
      limit = 0;
    return rangesDelimitedBy_0(_this__u8e3s4, delimiters, startIndex, ignoreCase, limit);
  }
  function replaceFirstChar(_this__u8e3s4, transform) {
    var tmp;
    var tmp$ret$0;
    {
      tmp$ret$0 = charSequenceLength(_this__u8e3s4) > 0;
    }
    if (tmp$ret$0) {
      var tmp_0 = toString_4(transform(new Char_0(charSequenceGet(_this__u8e3s4, 0))));
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          tmp$ret$1 = _this__u8e3s4;
        }
        tmp$ret$2 = tmp$ret$1.substring(1);
      }
      tmp = tmp_0 + tmp$ret$2;
    } else {
      tmp = _this__u8e3s4;
    }
    return tmp;
  }
  function iterator$1($this_iterator) {
    this.db_1 = $this_iterator;
    CharIterator.call(this);
    this.cb_1 = 0;
  }
  iterator$1.prototype.i4 = function () {
    var tmp0_this = this;
    var tmp1 = tmp0_this.cb_1;
    tmp0_this.cb_1 = tmp1 + 1 | 0;
    return charSequenceGet(this.db_1, tmp1);
  };
  iterator$1.prototype.n = function () {
    return this.cb_1 < charSequenceLength(this.db_1);
  };
  iterator$1.$metadata$ = classMeta(undefined, undefined, undefined, undefined, undefined, CharIterator.prototype);
  function splitToSequence$lambda($this_splitToSequence) {
    return function (it) {
      return substring($this_splitToSequence, it);
    };
  }
  function rangesDelimitedBy$lambda($delimitersList, $ignoreCase) {
    return function ($this$$receiver, currentIndex) {
      var tmp0_safe_receiver = findAnyOf($this$$receiver, $delimitersList, currentIndex, $ignoreCase, false);
      var tmp;
      if (tmp0_safe_receiver == null) {
        tmp = null;
      } else {
        var tmp$ret$1;
        {
          {
          }
          var tmp$ret$0;
          {
            tmp$ret$0 = to(tmp0_safe_receiver.x3_1, tmp0_safe_receiver.y3_1.length);
          }
          tmp$ret$1 = tmp$ret$0;
        }
        tmp = tmp$ret$1;
      }
      return tmp;
    };
  }
  function rangesDelimitedBy$lambda_0($delimiters, $ignoreCase) {
    return function ($this$$receiver, currentIndex) {
      var tmp$ret$1;
      {
        var tmp0_let = indexOfAny($this$$receiver, $delimiters, currentIndex, $ignoreCase);
        {
        }
        var tmp$ret$0;
        {
          tmp$ret$0 = tmp0_let < 0 ? null : to(tmp0_let, 1);
        }
        tmp$ret$1 = tmp$ret$0;
      }
      return tmp$ret$1;
    };
  }
  function _Duration___init__impl__kdtzql(rawValue) {
    var tmp$ret$0;
    {
      tmp$ret$0 = true;
    }
    if (tmp$ret$0) {
      if (isInNanos(rawValue)) {
        var containsLower = new Long(387905, -1073741824);
        var containsUpper = new Long(-387905, 1073741823);
        var containsArg = _get_value__a43j40(rawValue);
        if (!(containsLower.k1(containsArg) <= 0 ? containsArg.k1(containsUpper) <= 0 : false))
          throw AssertionError_init_$Create$(toString_4(_get_value__a43j40(rawValue)) + ' ns is out of nanoseconds range');
      } else {
        var containsLower_0 = new Long(1, -1073741824);
        var containsUpper_0 = new Long(-1, 1073741823);
        var containsArg_0 = _get_value__a43j40(rawValue);
        if (!(containsLower_0.k1(containsArg_0) <= 0 ? containsArg_0.k1(containsUpper_0) <= 0 : false))
          throw AssertionError_init_$Create$(toString_4(_get_value__a43j40(rawValue)) + ' ms is out of milliseconds range');
        var containsLower_1 = new Long(1108857478, -1074);
        var containsUpper_1 = new Long(-1108857478, 1073);
        var containsArg_1 = _get_value__a43j40(rawValue);
        if (containsLower_1.k1(containsArg_1) <= 0 ? containsArg_1.k1(containsUpper_1) <= 0 : false)
          throw AssertionError_init_$Create$(toString_4(_get_value__a43j40(rawValue)) + ' ms is denormalized');
      }
    }
    return rawValue;
  }
  function _get_rawValue__5zfu4e($this) {
    return $this;
  }
  function _get_value__a43j40($this) {
    return _get_rawValue__5zfu4e($this).eb(1);
  }
  function isInNanos($this) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _get_rawValue__5zfu4e($this).fb() & 1;
    }
    return tmp$ret$0 === 0;
  }
  function isInMillis($this) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _get_rawValue__5zfu4e($this).fb() & 1;
    }
    return tmp$ret$0 === 1;
  }
  function _get_storageUnit__szjgha($this) {
    return isInNanos($this) ? DurationUnit_NANOSECONDS_getInstance() : DurationUnit_MILLISECONDS_getInstance();
  }
  function Companion_7() {
    Companion_instance_7 = this;
    this.gb_1 = _Duration___init__impl__kdtzql(new Long(0, 0));
    this.hb_1 = durationOfMillis(new Long(-1, 1073741823));
    this.ib_1 = durationOfMillis(new Long(1, -1073741824));
  }
  Companion_7.prototype.jb = function (_this__u8e3s4) {
    return toDuration_0(_this__u8e3s4, DurationUnit_MILLISECONDS_getInstance());
  };
  Companion_7.prototype.kb = function (value) {
    var tmp;
    try {
      tmp = parseDuration(value, true);
    } catch ($p) {
      var tmp_0;
      if ($p instanceof IllegalArgumentException) {
        throw IllegalArgumentException_init_$Create$_1("Invalid ISO duration string format: '" + value + "'.", $p);
      } else {
        throw $p;
      }
      tmp = tmp_0;
    }
    return tmp;
  };
  Companion_7.$metadata$ = objectMeta('Companion');
  var Companion_instance_7;
  function Companion_getInstance_7() {
    if (Companion_instance_7 == null)
      new Companion_7();
    return Companion_instance_7;
  }
  function Duration__unaryMinus_impl_x2k1y0($this) {
    var tmp = _get_value__a43j40($this).ha();
    var tmp$ret$0;
    {
      tmp$ret$0 = _get_rawValue__5zfu4e($this).fb() & 1;
    }
    return durationOf(tmp, tmp$ret$0);
  }
  function Duration__plus_impl_yu9v8f($this, other) {
    if (Duration__isInfinite_impl_tsn9y3($this)) {
      if (Duration__isFinite_impl_rzjsps(other) ? true : _get_rawValue__5zfu4e($this).lb(_get_rawValue__5zfu4e(other)).k1(new Long(0, 0)) >= 0)
        return $this;
      else
        throw IllegalArgumentException_init_$Create$_0('Summing infinite durations of different signs yields an undefined result.');
    } else if (Duration__isInfinite_impl_tsn9y3(other))
      return other;
    var tmp;
    var tmp$ret$0;
    {
      tmp$ret$0 = _get_rawValue__5zfu4e($this).fb() & 1;
    }
    var tmp_0 = tmp$ret$0;
    var tmp$ret$1;
    {
      tmp$ret$1 = _get_rawValue__5zfu4e(other).fb() & 1;
    }
    if (tmp_0 === tmp$ret$1) {
      var result = _get_value__a43j40($this).ka(_get_value__a43j40(other));
      tmp = isInNanos($this) ? durationOfNanosNormalized(result) : durationOfMillisNormalized(result);
    } else {
      if (isInMillis($this)) {
        tmp = addValuesMixedRanges($this, _get_value__a43j40($this), _get_value__a43j40(other));
      } else {
        tmp = addValuesMixedRanges($this, _get_value__a43j40(other), _get_value__a43j40($this));
      }
    }
    return tmp;
  }
  function addValuesMixedRanges($this, thisMillis, otherNanos) {
    var otherMillis = nanosToMillis(otherNanos);
    var resultMillis = thisMillis.ka(otherMillis);
    var tmp;
    var containsLower = new Long(1108857478, -1074);
    if (resultMillis.k1(new Long(-1108857478, 1073)) <= 0 ? containsLower.k1(resultMillis) <= 0 : false) {
      var otherNanoRemainder = otherNanos.la(millisToNanos(otherMillis));
      tmp = durationOfNanos(millisToNanos(resultMillis).ka(otherNanoRemainder));
    } else {
      tmp = durationOfMillis(coerceIn(resultMillis, new Long(1, -1073741824), new Long(-1, 1073741823)));
    }
    return tmp;
  }
  function Duration__isNegative_impl_pbysfa($this) {
    return _get_rawValue__5zfu4e($this).k1(new Long(0, 0)) < 0;
  }
  function Duration__isInfinite_impl_tsn9y3($this) {
    return _get_rawValue__5zfu4e($this).equals(_get_rawValue__5zfu4e(Companion_getInstance_7().hb_1)) ? true : _get_rawValue__5zfu4e($this).equals(_get_rawValue__5zfu4e(Companion_getInstance_7().ib_1));
  }
  function Duration__isFinite_impl_rzjsps($this) {
    return !Duration__isInfinite_impl_tsn9y3($this);
  }
  function _Duration___get_absoluteValue__impl__vr7i6w($this) {
    return Duration__isNegative_impl_pbysfa($this) ? Duration__unaryMinus_impl_x2k1y0($this) : $this;
  }
  function Duration__compareTo_impl_pchp0f($this, other) {
    var compareBits = _get_rawValue__5zfu4e($this).lb(_get_rawValue__5zfu4e(other));
    if (compareBits.k1(new Long(0, 0)) < 0 ? true : (compareBits.fb() & 1) === 0)
      return _get_rawValue__5zfu4e($this).k1(_get_rawValue__5zfu4e(other));
    var tmp$ret$0;
    {
      tmp$ret$0 = _get_rawValue__5zfu4e($this).fb() & 1;
    }
    var tmp = tmp$ret$0;
    var tmp$ret$1;
    {
      tmp$ret$1 = _get_rawValue__5zfu4e(other).fb() & 1;
    }
    var r = tmp - tmp$ret$1 | 0;
    return Duration__isNegative_impl_pbysfa($this) ? -r | 0 : r;
  }
  function Duration__compareTo_impl_pchp0f_0($this, other) {
    var tmp = $this.mb_1;
    return Duration__compareTo_impl_pchp0f(tmp, other instanceof Duration ? other.mb_1 : THROW_CCE());
  }
  function Duration__toComponents_impl_rvki3c($this, action) {
    {
    }
    return action(_Duration___get_inWholeDays__impl__7bvpxz($this), _Duration___get_hoursComponent__impl__7hllxa($this), _Duration___get_minutesComponent__impl__ctvd8u($this), _Duration___get_secondsComponent__impl__if34a6($this), _Duration___get_nanosecondsComponent__impl__nh19kq($this));
  }
  function _Duration___get_hoursComponent__impl__7hllxa($this) {
    var tmp;
    if (Duration__isInfinite_impl_tsn9y3($this)) {
      tmp = 0;
    } else {
      var tmp$ret$0;
      {
        var tmp0_rem = _Duration___get_inWholeHours__impl__kb9f3j($this);
        tmp$ret$0 = tmp0_rem.nb(new Long(24, 0));
      }
      tmp = tmp$ret$0.fb();
    }
    return tmp;
  }
  function _Duration___get_minutesComponent__impl__ctvd8u($this) {
    var tmp;
    if (Duration__isInfinite_impl_tsn9y3($this)) {
      tmp = 0;
    } else {
      var tmp$ret$0;
      {
        var tmp0_rem = _Duration___get_inWholeMinutes__impl__dognoh($this);
        tmp$ret$0 = tmp0_rem.nb(new Long(60, 0));
      }
      tmp = tmp$ret$0.fb();
    }
    return tmp;
  }
  function _Duration___get_secondsComponent__impl__if34a6($this) {
    var tmp;
    if (Duration__isInfinite_impl_tsn9y3($this)) {
      tmp = 0;
    } else {
      var tmp$ret$0;
      {
        var tmp0_rem = _Duration___get_inWholeSeconds__impl__hpy7b3($this);
        tmp$ret$0 = tmp0_rem.nb(new Long(60, 0));
      }
      tmp = tmp$ret$0.fb();
    }
    return tmp;
  }
  function _Duration___get_nanosecondsComponent__impl__nh19kq($this) {
    var tmp;
    if (Duration__isInfinite_impl_tsn9y3($this)) {
      tmp = 0;
    } else if (isInMillis($this)) {
      var tmp$ret$0;
      {
        var tmp0_rem = _get_value__a43j40($this);
        tmp$ret$0 = tmp0_rem.nb(new Long(1000, 0));
      }
      tmp = millisToNanos(tmp$ret$0).fb();
    } else {
      var tmp$ret$1;
      {
        var tmp1_rem = _get_value__a43j40($this);
        tmp$ret$1 = tmp1_rem.nb(new Long(1000000000, 0));
      }
      tmp = tmp$ret$1.fb();
    }
    return tmp;
  }
  function Duration__toLong_impl_shr43i($this, unit) {
    var tmp0_subject = _get_rawValue__5zfu4e($this);
    var tmp;
    if (tmp0_subject.equals(_get_rawValue__5zfu4e(Companion_getInstance_7().hb_1))) {
      Companion_getInstance_14();
      tmp = new Long(-1, 2147483647);
    } else if (tmp0_subject.equals(_get_rawValue__5zfu4e(Companion_getInstance_7().ib_1))) {
      Companion_getInstance_14();
      tmp = new Long(0, -2147483648);
    } else {
      tmp = convertDurationUnit_0(_get_value__a43j40($this), _get_storageUnit__szjgha($this), unit);
    }
    return tmp;
  }
  function _Duration___get_inWholeDays__impl__7bvpxz($this) {
    return Duration__toLong_impl_shr43i($this, DurationUnit_DAYS_getInstance());
  }
  function _Duration___get_inWholeHours__impl__kb9f3j($this) {
    return Duration__toLong_impl_shr43i($this, DurationUnit_HOURS_getInstance());
  }
  function _Duration___get_inWholeMinutes__impl__dognoh($this) {
    return Duration__toLong_impl_shr43i($this, DurationUnit_MINUTES_getInstance());
  }
  function _Duration___get_inWholeSeconds__impl__hpy7b3($this) {
    return Duration__toLong_impl_shr43i($this, DurationUnit_SECONDS_getInstance());
  }
  function Duration__toString_impl_8d916b($this) {
    var tmp0_subject = _get_rawValue__5zfu4e($this);
    var tmp;
    if (tmp0_subject.equals(new Long(0, 0))) {
      tmp = '0s';
    } else if (tmp0_subject.equals(_get_rawValue__5zfu4e(Companion_getInstance_7().hb_1))) {
      tmp = 'Infinity';
    } else if (tmp0_subject.equals(_get_rawValue__5zfu4e(Companion_getInstance_7().ib_1))) {
      tmp = '-Infinity';
    } else {
      var isNegative = Duration__isNegative_impl_pbysfa($this);
      var tmp$ret$2;
      {
        {
        }
        var tmp$ret$1;
        {
          var tmp0_apply = StringBuilder_init_$Create$_0();
          {
          }
          {
            if (isNegative) {
              tmp0_apply.ea(_Char___init__impl__6a9atx(45));
            }
            var tmp$ret$0;
            {
              var tmp0_toComponents = _Duration___get_absoluteValue__impl__vr7i6w($this);
              {
              }
              var tmp1__anonymous__uwfjfc = _Duration___get_inWholeDays__impl__7bvpxz(tmp0_toComponents);
              var tmp2__anonymous__z9zvc9 = _Duration___get_hoursComponent__impl__7hllxa(tmp0_toComponents);
              var tmp3__anonymous__ufb84q = _Duration___get_minutesComponent__impl__ctvd8u(tmp0_toComponents);
              var tmp4__anonymous__pkmkx7 = _Duration___get_secondsComponent__impl__if34a6(tmp0_toComponents);
              var tmp5__anonymous__kpxxpo = _Duration___get_nanosecondsComponent__impl__nh19kq(tmp0_toComponents);
              var hasDays = !tmp1__anonymous__uwfjfc.equals(new Long(0, 0));
              var hasHours = !(tmp2__anonymous__z9zvc9 === 0);
              var hasMinutes = !(tmp3__anonymous__ufb84q === 0);
              var hasSeconds = !(tmp4__anonymous__pkmkx7 === 0) ? true : !(tmp5__anonymous__kpxxpo === 0);
              var components = 0;
              if (hasDays) {
                tmp0_apply.ob(tmp1__anonymous__uwfjfc).ea(_Char___init__impl__6a9atx(100));
                var tmp0 = components;
                components = tmp0 + 1 | 0;
              }
              if (hasHours ? true : hasDays ? hasMinutes ? true : hasSeconds : false) {
                var tmp1 = components;
                components = tmp1 + 1 | 0;
                if (tmp1 > 0) {
                  tmp0_apply.ea(_Char___init__impl__6a9atx(32));
                }
                tmp0_apply.ob(tmp2__anonymous__z9zvc9).ea(_Char___init__impl__6a9atx(104));
              }
              if (hasMinutes ? true : hasSeconds ? hasHours ? true : hasDays : false) {
                var tmp2 = components;
                components = tmp2 + 1 | 0;
                if (tmp2 > 0) {
                  tmp0_apply.ea(_Char___init__impl__6a9atx(32));
                }
                tmp0_apply.ob(tmp3__anonymous__ufb84q).ea(_Char___init__impl__6a9atx(109));
              }
              if (hasSeconds) {
                var tmp3 = components;
                components = tmp3 + 1 | 0;
                if (tmp3 > 0) {
                  tmp0_apply.ea(_Char___init__impl__6a9atx(32));
                }
                if (((!(tmp4__anonymous__pkmkx7 === 0) ? true : hasDays) ? true : hasHours) ? true : hasMinutes)
                  appendFractional(tmp0_apply, $this, tmp4__anonymous__pkmkx7, tmp5__anonymous__kpxxpo, 9, 's', false);
                else if (tmp5__anonymous__kpxxpo >= 1000000)
                  appendFractional(tmp0_apply, $this, tmp5__anonymous__kpxxpo / 1000000 | 0, tmp5__anonymous__kpxxpo % 1000000 | 0, 6, 'ms', false);
                else if (tmp5__anonymous__kpxxpo >= 1000)
                  appendFractional(tmp0_apply, $this, tmp5__anonymous__kpxxpo / 1000 | 0, tmp5__anonymous__kpxxpo % 1000 | 0, 3, 'us', false);
                else {
                  tmp0_apply.ob(tmp5__anonymous__kpxxpo).ga('ns');
                }
              }
              var tmp_0;
              if (isNegative ? components > 1 : false) {
                tmp0_apply.pb(1, _Char___init__impl__6a9atx(40)).ea(_Char___init__impl__6a9atx(41));
                tmp_0 = Unit_getInstance();
              }
              tmp$ret$0 = tmp_0;
            }
          }
          tmp$ret$1 = tmp0_apply;
        }
        tmp$ret$2 = tmp$ret$1.toString();
      }
      tmp = tmp$ret$2;
    }
    return tmp;
  }
  function appendFractional(_this__u8e3s4, $this, whole, fractional, fractionalSize, unit, isoZeroes) {
    _this__u8e3s4.ob(whole);
    if (!(fractional === 0)) {
      _this__u8e3s4.ea(_Char___init__impl__6a9atx(46));
      var fracString = padStart(fractional.toString(), fractionalSize, _Char___init__impl__6a9atx(48));
      var tmp$ret$1;
      $l$block: {
        var inductionVariable = charSequenceLength(fracString) - 1 | 0;
        if (0 <= inductionVariable)
          do {
            var index = inductionVariable;
            inductionVariable = inductionVariable + -1 | 0;
            var tmp$ret$0;
            {
              var tmp0__anonymous__q1qw7t = charSequenceGet(fracString, index);
              tmp$ret$0 = !equals_1(new Char_0(tmp0__anonymous__q1qw7t), new Char_0(_Char___init__impl__6a9atx(48)));
            }
            if (tmp$ret$0) {
              tmp$ret$1 = index;
              break $l$block;
            }
          }
           while (0 <= inductionVariable);
        tmp$ret$1 = -1;
      }
      var nonZeroDigits = tmp$ret$1 + 1 | 0;
      if (!isoZeroes ? nonZeroDigits < 3 : false) {
        _this__u8e3s4.qb(fracString, 0, nonZeroDigits);
      } else {
        _this__u8e3s4.qb(fracString, 0, imul((nonZeroDigits + 2 | 0) / 3 | 0, 3));
      }
    }
    _this__u8e3s4.ga(unit);
  }
  function Duration__hashCode_impl_u4exz6($this) {
    return $this.hashCode();
  }
  function Duration__equals_impl_ygj6w6($this, other) {
    if (!(other instanceof Duration))
      return false;
    var tmp0_other_with_cast = other instanceof Duration ? other.mb_1 : THROW_CCE();
    if (!$this.equals(tmp0_other_with_cast))
      return false;
    return true;
  }
  function Duration(rawValue) {
    Companion_getInstance_7();
    this.mb_1 = rawValue;
  }
  Duration.prototype.rb = function (other) {
    return Duration__compareTo_impl_pchp0f(this.mb_1, other);
  };
  Duration.prototype.sb = function (other) {
    return Duration__compareTo_impl_pchp0f_0(this, other);
  };
  Duration.prototype.toString = function () {
    return Duration__toString_impl_8d916b(this.mb_1);
  };
  Duration.prototype.hashCode = function () {
    return Duration__hashCode_impl_u4exz6(this.mb_1);
  };
  Duration.prototype.equals = function (other) {
    return Duration__equals_impl_ygj6w6(this.mb_1, other);
  };
  Duration.$metadata$ = classMeta('Duration', [Comparable]);
  function durationOfMillis(normalMillis) {
    var tmp$ret$0;
    {
      var tmp0_plus = normalMillis.tb(1);
      tmp$ret$0 = tmp0_plus.ka(new Long(1, 0));
    }
    return _Duration___init__impl__kdtzql(tmp$ret$0);
  }
  function toDuration(_this__u8e3s4, unit) {
    var maxNsInUnit = convertDurationUnitOverflow(new Long(-387905, 1073741823), DurationUnit_NANOSECONDS_getInstance(), unit);
    if (maxNsInUnit.ha().k1(_this__u8e3s4) <= 0 ? _this__u8e3s4.k1(maxNsInUnit) <= 0 : false) {
      return durationOfNanos(convertDurationUnitOverflow(_this__u8e3s4, unit, DurationUnit_NANOSECONDS_getInstance()));
    } else {
      var millis = convertDurationUnit_0(_this__u8e3s4, unit, DurationUnit_MILLISECONDS_getInstance());
      return durationOfMillis(coerceIn(millis, new Long(1, -1073741824), new Long(-1, 1073741823)));
    }
  }
  function toDuration_0(_this__u8e3s4, unit) {
    var valueInNs = convertDurationUnit(_this__u8e3s4, unit, DurationUnit_NANOSECONDS_getInstance());
    {
      var tmp0_require = !isNaN_0(valueInNs);
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Duration value cannot be NaN.';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message));
      }
    }
    var nanos = roundToLong(valueInNs);
    var tmp;
    var containsLower = new Long(387905, -1073741824);
    if (nanos.k1(new Long(-387905, 1073741823)) <= 0 ? containsLower.k1(nanos) <= 0 : false) {
      tmp = durationOfNanos(nanos);
    } else {
      var millis = roundToLong(convertDurationUnit(_this__u8e3s4, unit, DurationUnit_MILLISECONDS_getInstance()));
      tmp = durationOfMillisNormalized(millis);
    }
    return tmp;
  }
  function parseDuration(value, strictIso) {
    var length = value.length;
    if (length === 0)
      throw IllegalArgumentException_init_$Create$_0('The string is empty');
    var index = 0;
    var result = Companion_getInstance_7().gb_1;
    var infinityString = 'Infinity';
    var tmp0_subject = charSequenceGet(value, index);
    if (equals_1(new Char_0(tmp0_subject), new Char_0(_Char___init__impl__6a9atx(43))) ? true : equals_1(new Char_0(tmp0_subject), new Char_0(_Char___init__impl__6a9atx(45)))) {
      var tmp1 = index;
      index = tmp1 + 1 | 0;
    }
    var hasSign = index > 0;
    var tmp;
    if (hasSign) {
      var tmp_0 = _Char___init__impl__6a9atx(45);
      tmp = startsWith$default(value, tmp_0, false, 2, null);
    } else {
      tmp = false;
    }
    var isNegative = tmp;
    if (length <= index)
      throw IllegalArgumentException_init_$Create$_0('No components');
    else {
      if (equals_1(new Char_0(charSequenceGet(value, index)), new Char_0(_Char___init__impl__6a9atx(80)))) {
        index = index + 1 | 0;
        if (index === length)
          throw IllegalArgumentException_init_$Create$();
        var nonDigitSymbols = '+-.';
        var isTimeComponent = false;
        var prevUnit = null;
        $l$loop: while (index < length) {
          if (equals_1(new Char_0(charSequenceGet(value, index)), new Char_0(_Char___init__impl__6a9atx(84)))) {
            var tmp_1;
            if (isTimeComponent) {
              tmp_1 = true;
            } else {
              index = index + 1 | 0;
              tmp_1 = index === length;
            }
            if (tmp_1)
              throw IllegalArgumentException_init_$Create$();
            isTimeComponent = true;
            continue $l$loop;
          }
          var tmp$ret$4;
          {
            var tmp1_substringWhile = index;
            var tmp$ret$3;
            {
              var tmp$ret$1;
              {
                var i = tmp1_substringWhile;
                $l$loop_0: while (true) {
                  var tmp_2;
                  if (i < value.length) {
                    var tmp$ret$0;
                    {
                      var tmp2__anonymous__z9zvc9 = charSequenceGet(value, i);
                      var tmp_3;
                      if (_Char___init__impl__6a9atx(48) <= tmp2__anonymous__z9zvc9 ? tmp2__anonymous__z9zvc9 <= _Char___init__impl__6a9atx(57) : false) {
                        tmp_3 = true;
                      } else {
                        tmp_3 = contains$default(nonDigitSymbols, tmp2__anonymous__z9zvc9, false, 2, null);
                      }
                      tmp$ret$0 = tmp_3;
                    }
                    tmp_2 = tmp$ret$0;
                  } else {
                    tmp_2 = false;
                  }
                  if (!tmp_2) {
                    break $l$loop_0;
                  }
                  var tmp0 = i;
                  i = tmp0 + 1 | 0;
                }
                tmp$ret$1 = i;
              }
              var tmp0_substring = tmp$ret$1;
              var tmp$ret$2;
              {
                tmp$ret$2 = value;
              }
              tmp$ret$3 = tmp$ret$2.substring(tmp1_substringWhile, tmp0_substring);
            }
            tmp$ret$4 = tmp$ret$3;
          }
          var component = tmp$ret$4;
          var tmp$ret$5;
          {
            tmp$ret$5 = charSequenceLength(component) === 0;
          }
          if (tmp$ret$5)
            throw IllegalArgumentException_init_$Create$();
          index = index + component.length | 0;
          var tmp$ret$6;
          {
            var tmp3_getOrElse = index;
            var tmp_4;
            if (tmp3_getOrElse >= 0 ? tmp3_getOrElse <= get_lastIndex_4(value) : false) {
              tmp_4 = charSequenceGet(value, tmp3_getOrElse);
            } else {
              throw IllegalArgumentException_init_$Create$_0('Missing unit for value ' + component);
            }
            tmp$ret$6 = tmp_4;
          }
          var unitChar = tmp$ret$6;
          var tmp2 = index;
          index = tmp2 + 1 | 0;
          var unit = durationUnitByIsoChar(unitChar, isTimeComponent);
          if (!(prevUnit == null) ? prevUnit.z1(unit) <= 0 : false)
            throw IllegalArgumentException_init_$Create$_0('Unexpected order of duration components');
          prevUnit = unit;
          var tmp_5 = _Char___init__impl__6a9atx(46);
          var dotIndex = indexOf$default(component, tmp_5, 0, false, 6, null);
          if (unit.equals(DurationUnit_SECONDS_getInstance()) ? dotIndex > 0 : false) {
            var tmp$ret$8;
            {
              var tmp$ret$7;
              {
                tmp$ret$7 = component;
              }
              tmp$ret$8 = tmp$ret$7.substring(0, dotIndex);
            }
            var whole = tmp$ret$8;
            result = Duration__plus_impl_yu9v8f(result, toDuration(parseOverLongIsoComponent(whole), unit));
            var tmp_6 = result;
            var tmp$ret$10;
            {
              var tmp$ret$9;
              {
                tmp$ret$9 = component;
              }
              tmp$ret$10 = tmp$ret$9.substring(dotIndex);
            }
            result = Duration__plus_impl_yu9v8f(tmp_6, toDuration_0(toDouble(tmp$ret$10), unit));
          } else {
            result = Duration__plus_impl_yu9v8f(result, toDuration(parseOverLongIsoComponent(component), unit));
          }
        }
      } else {
        if (strictIso)
          throw IllegalArgumentException_init_$Create$();
        else {
          var tmp_7 = index;
          var tmp$ret$11;
          {
            var tmp4_maxOf = length - index | 0;
            var tmp5_maxOf = infinityString.length;
            tmp$ret$11 = Math.max(tmp4_maxOf, tmp5_maxOf);
          }
          if (regionMatches(value, tmp_7, infinityString, 0, tmp$ret$11, true)) {
            result = Companion_getInstance_7().hb_1;
          } else {
            var prevUnit_0 = null;
            var afterFirst = false;
            var allowSpaces = !hasSign;
            if ((hasSign ? equals_1(new Char_0(charSequenceGet(value, index)), new Char_0(_Char___init__impl__6a9atx(40))) : false) ? equals_1(new Char_0(last_0(value)), new Char_0(_Char___init__impl__6a9atx(41))) : false) {
              allowSpaces = true;
              index = index + 1 | 0;
              var tmp_8 = index;
              length = length - 1 | 0;
              if (tmp_8 === length)
                throw IllegalArgumentException_init_$Create$_0('No components');
            }
            while (index < length) {
              if (afterFirst ? allowSpaces : false) {
                var tmp$ret$13;
                {
                  var tmp6_skipWhile = index;
                  var i_0 = tmp6_skipWhile;
                  $l$loop_1: while (true) {
                    var tmp_9;
                    if (i_0 < value.length) {
                      var tmp$ret$12;
                      {
                        var tmp7__anonymous__b0knam = charSequenceGet(value, i_0);
                        tmp$ret$12 = equals_1(new Char_0(tmp7__anonymous__b0knam), new Char_0(_Char___init__impl__6a9atx(32)));
                      }
                      tmp_9 = tmp$ret$12;
                    } else {
                      tmp_9 = false;
                    }
                    if (!tmp_9) {
                      break $l$loop_1;
                    }
                    var tmp0_0 = i_0;
                    i_0 = tmp0_0 + 1 | 0;
                  }
                  tmp$ret$13 = i_0;
                }
                index = tmp$ret$13;
              }
              afterFirst = true;
              var tmp$ret$18;
              {
                var tmp9_substringWhile = index;
                var tmp$ret$17;
                {
                  var tmp$ret$15;
                  {
                    var i_1 = tmp9_substringWhile;
                    $l$loop_2: while (true) {
                      var tmp_10;
                      if (i_1 < value.length) {
                        var tmp$ret$14;
                        {
                          var tmp10__anonymous__yfiz50 = charSequenceGet(value, i_1);
                          tmp$ret$14 = (_Char___init__impl__6a9atx(48) <= tmp10__anonymous__yfiz50 ? tmp10__anonymous__yfiz50 <= _Char___init__impl__6a9atx(57) : false) ? true : equals_1(new Char_0(tmp10__anonymous__yfiz50), new Char_0(_Char___init__impl__6a9atx(46)));
                        }
                        tmp_10 = tmp$ret$14;
                      } else {
                        tmp_10 = false;
                      }
                      if (!tmp_10) {
                        break $l$loop_2;
                      }
                      var tmp0_1 = i_1;
                      i_1 = tmp0_1 + 1 | 0;
                    }
                    tmp$ret$15 = i_1;
                  }
                  var tmp8_substring = tmp$ret$15;
                  var tmp$ret$16;
                  {
                    tmp$ret$16 = value;
                  }
                  tmp$ret$17 = tmp$ret$16.substring(tmp9_substringWhile, tmp8_substring);
                }
                tmp$ret$18 = tmp$ret$17;
              }
              var component_0 = tmp$ret$18;
              var tmp$ret$19;
              {
                tmp$ret$19 = charSequenceLength(component_0) === 0;
              }
              if (tmp$ret$19)
                throw IllegalArgumentException_init_$Create$();
              index = index + component_0.length | 0;
              var tmp$ret$24;
              {
                var tmp12_substringWhile = index;
                var tmp$ret$23;
                {
                  var tmp$ret$21;
                  {
                    var i_2 = tmp12_substringWhile;
                    $l$loop_3: while (true) {
                      var tmp_11;
                      if (i_2 < value.length) {
                        var tmp$ret$20;
                        {
                          var tmp13__anonymous__jvh1if = charSequenceGet(value, i_2);
                          tmp$ret$20 = _Char___init__impl__6a9atx(97) <= tmp13__anonymous__jvh1if ? tmp13__anonymous__jvh1if <= _Char___init__impl__6a9atx(122) : false;
                        }
                        tmp_11 = tmp$ret$20;
                      } else {
                        tmp_11 = false;
                      }
                      if (!tmp_11) {
                        break $l$loop_3;
                      }
                      var tmp0_2 = i_2;
                      i_2 = tmp0_2 + 1 | 0;
                    }
                    tmp$ret$21 = i_2;
                  }
                  var tmp11_substring = tmp$ret$21;
                  var tmp$ret$22;
                  {
                    tmp$ret$22 = value;
                  }
                  tmp$ret$23 = tmp$ret$22.substring(tmp12_substringWhile, tmp11_substring);
                }
                tmp$ret$24 = tmp$ret$23;
              }
              var unitName = tmp$ret$24;
              index = index + unitName.length | 0;
              var unit_0 = durationUnitByShortName(unitName);
              if (!(prevUnit_0 == null) ? prevUnit_0.z1(unit_0) <= 0 : false)
                throw IllegalArgumentException_init_$Create$_0('Unexpected order of duration components');
              prevUnit_0 = unit_0;
              var tmp_12 = _Char___init__impl__6a9atx(46);
              var dotIndex_0 = indexOf$default(component_0, tmp_12, 0, false, 6, null);
              if (dotIndex_0 > 0) {
                var tmp$ret$26;
                {
                  var tmp$ret$25;
                  {
                    tmp$ret$25 = component_0;
                  }
                  tmp$ret$26 = tmp$ret$25.substring(0, dotIndex_0);
                }
                var whole_0 = tmp$ret$26;
                result = Duration__plus_impl_yu9v8f(result, toDuration(toLong(whole_0), unit_0));
                var tmp_13 = result;
                var tmp$ret$28;
                {
                  var tmp$ret$27;
                  {
                    tmp$ret$27 = component_0;
                  }
                  tmp$ret$28 = tmp$ret$27.substring(dotIndex_0);
                }
                result = Duration__plus_impl_yu9v8f(tmp_13, toDuration_0(toDouble(tmp$ret$28), unit_0));
                if (index < length)
                  throw IllegalArgumentException_init_$Create$_0('Fractional component must be last');
              } else {
                result = Duration__plus_impl_yu9v8f(result, toDuration(toLong(component_0), unit_0));
              }
            }
          }
        }
      }
    }
    return isNegative ? Duration__unaryMinus_impl_x2k1y0(result) : result;
  }
  function durationOf(normalValue, unitDiscriminator) {
    var tmp$ret$0;
    {
      var tmp0_plus = normalValue.tb(1);
      tmp$ret$0 = tmp0_plus.ka(toLong_0(unitDiscriminator));
    }
    return _Duration___init__impl__kdtzql(tmp$ret$0);
  }
  function durationOfNanosNormalized(nanos) {
    var tmp;
    var containsLower = new Long(387905, -1073741824);
    if (nanos.k1(new Long(-387905, 1073741823)) <= 0 ? containsLower.k1(nanos) <= 0 : false) {
      tmp = durationOfNanos(nanos);
    } else {
      tmp = durationOfMillis(nanosToMillis(nanos));
    }
    return tmp;
  }
  function durationOfMillisNormalized(millis) {
    var tmp;
    var containsLower = new Long(1108857478, -1074);
    if (millis.k1(new Long(-1108857478, 1073)) <= 0 ? containsLower.k1(millis) <= 0 : false) {
      tmp = durationOfNanos(millisToNanos(millis));
    } else {
      tmp = durationOfMillis(coerceIn(millis, new Long(1, -1073741824), new Long(-1, 1073741823)));
    }
    return tmp;
  }
  function nanosToMillis(nanos) {
    var tmp$ret$0;
    {
      var tmp0_div = 1000000;
      tmp$ret$0 = nanos.ia(toLong_0(tmp0_div));
    }
    return tmp$ret$0;
  }
  function millisToNanos(millis) {
    var tmp$ret$0;
    {
      var tmp0_times = 1000000;
      tmp$ret$0 = millis.ja(toLong_0(tmp0_times));
    }
    return tmp$ret$0;
  }
  function durationOfNanos(normalNanos) {
    return _Duration___init__impl__kdtzql(normalNanos.tb(1));
  }
  function substringWhile(_this__u8e3s4, startIndex, predicate) {
    var tmp$ret$2;
    {
      var tmp$ret$0;
      {
        var i = startIndex;
        while (i < _this__u8e3s4.length ? predicate(new Char_0(charSequenceGet(_this__u8e3s4, i))) : false) {
          var tmp0 = i;
          i = tmp0 + 1 | 0;
        }
        tmp$ret$0 = i;
      }
      var tmp0_substring = tmp$ret$0;
      var tmp$ret$1;
      {
        tmp$ret$1 = _this__u8e3s4;
      }
      tmp$ret$2 = tmp$ret$1.substring(startIndex, tmp0_substring);
    }
    return tmp$ret$2;
  }
  function parseOverLongIsoComponent(value) {
    var length = value.length;
    var startIndex = 0;
    var tmp;
    if (length > 0) {
      var tmp_0 = charSequenceGet(value, 0);
      tmp = contains$default('+-', tmp_0, false, 2, null);
    } else {
      tmp = false;
    }
    if (tmp) {
      var tmp0 = startIndex;
      startIndex = tmp0 + 1 | 0;
    }
    var tmp_1;
    if ((length - startIndex | 0) > 16) {
      var tmp$ret$0;
      $l$block_0: {
        var tmp0_all = numberRangeToNumber(startIndex, get_lastIndex_4(value));
        var tmp_2;
        if (isInterface(tmp0_all, Collection)) {
          tmp_2 = tmp0_all.q();
        } else {
          tmp_2 = false;
        }
        if (tmp_2) {
          tmp$ret$0 = true;
          break $l$block_0;
        }
        var inductionVariable = tmp0_all.i9();
        var last = tmp0_all.k9();
        if (inductionVariable <= last)
          do {
            var element = inductionVariable;
            inductionVariable = inductionVariable + 1 | 0;
            var tmp$ret$1;
            {
              var containsArg = charSequenceGet(value, element);
              tmp$ret$1 = _Char___init__impl__6a9atx(48) <= containsArg ? containsArg <= _Char___init__impl__6a9atx(57) : false;
            }
            if (!tmp$ret$1) {
              tmp$ret$0 = false;
              break $l$block_0;
            }
          }
           while (!(element === last));
        tmp$ret$0 = true;
      }
      tmp_1 = tmp$ret$0;
    } else {
      tmp_1 = false;
    }
    if (tmp_1) {
      var tmp_3;
      if (equals_1(new Char_0(charSequenceGet(value, 0)), new Char_0(_Char___init__impl__6a9atx(45)))) {
        Companion_getInstance_14();
        tmp_3 = new Long(0, -2147483648);
      } else {
        Companion_getInstance_14();
        tmp_3 = new Long(-1, 2147483647);
      }
      return tmp_3;
    }
    var tmp_4;
    if (startsWith$default_1(value, '+', false, 2, null)) {
      tmp_4 = toLong(drop(value, 1));
    } else {
      tmp_4 = toLong(value);
    }
    return tmp_4;
  }
  function skipWhile(_this__u8e3s4, startIndex, predicate) {
    var i = startIndex;
    while (i < _this__u8e3s4.length ? predicate(new Char_0(charSequenceGet(_this__u8e3s4, i))) : false) {
      var tmp0 = i;
      i = tmp0 + 1 | 0;
    }
    return i;
  }
  function durationUnitByIsoChar(isoChar, isTimeComponent) {
    var tmp;
    if (!isTimeComponent) {
      var tmp0_subject = isoChar;
      var tmp_0;
      if (equals_1(new Char_0(tmp0_subject), new Char_0(_Char___init__impl__6a9atx(68)))) {
        tmp_0 = DurationUnit_DAYS_getInstance();
      } else {
        throw IllegalArgumentException_init_$Create$_0('Invalid or unsupported duration ISO non-time unit: ' + new Char_0(isoChar));
      }
      tmp = tmp_0;
    } else {
      var tmp1_subject = isoChar;
      var tmp_1;
      if (equals_1(new Char_0(tmp1_subject), new Char_0(_Char___init__impl__6a9atx(72)))) {
        tmp_1 = DurationUnit_HOURS_getInstance();
      } else if (equals_1(new Char_0(tmp1_subject), new Char_0(_Char___init__impl__6a9atx(77)))) {
        tmp_1 = DurationUnit_MINUTES_getInstance();
      } else if (equals_1(new Char_0(tmp1_subject), new Char_0(_Char___init__impl__6a9atx(83)))) {
        tmp_1 = DurationUnit_SECONDS_getInstance();
      } else {
        throw IllegalArgumentException_init_$Create$_0('Invalid duration ISO time unit: ' + new Char_0(isoChar));
      }
      tmp = tmp_1;
    }
    return tmp;
  }
  function durationUnitByShortName(shortName) {
    var tmp0_subject = shortName;
    var tmp;
    switch (tmp0_subject) {
      case 'ns':
        tmp = DurationUnit_NANOSECONDS_getInstance();
        break;
      case 'us':
        tmp = DurationUnit_MICROSECONDS_getInstance();
        break;
      case 'ms':
        tmp = DurationUnit_MILLISECONDS_getInstance();
        break;
      case 's':
        tmp = DurationUnit_SECONDS_getInstance();
        break;
      case 'm':
        tmp = DurationUnit_MINUTES_getInstance();
        break;
      case 'h':
        tmp = DurationUnit_HOURS_getInstance();
        break;
      case 'd':
        tmp = DurationUnit_DAYS_getInstance();
        break;
      default:
        throw IllegalArgumentException_init_$Create$_0('Unknown duration unit short name: ' + shortName);
    }
    return tmp;
  }
  function _ValueTimeMark___init__impl__uyfl2m(reading) {
    return reading;
  }
  function _ValueTimeMark___get_reading__impl__5qz8rd($this) {
    return $this;
  }
  function ValueTimeMark__elapsedNow_impl_eonqvs($this) {
    return MonotonicTimeSource_getInstance().vb($this);
  }
  function ValueTimeMark__toString_impl_ow3ax6($this) {
    return 'ValueTimeMark(reading=' + toString_4($this) + ')';
  }
  function ValueTimeMark__hashCode_impl_oduu93($this) {
    return hashCode_0($this);
  }
  function ValueTimeMark__equals_impl_uc54jh($this, other) {
    if (!(other instanceof ValueTimeMark))
      return false;
    var tmp0_other_with_cast = other instanceof ValueTimeMark ? other.wb_1 : THROW_CCE();
    if (!equals_1($this, tmp0_other_with_cast))
      return false;
    return true;
  }
  function ValueTimeMark(reading) {
    this.wb_1 = reading;
  }
  ValueTimeMark.prototype.xb = function () {
    return ValueTimeMark__elapsedNow_impl_eonqvs(this.wb_1);
  };
  ValueTimeMark.prototype.toString = function () {
    return ValueTimeMark__toString_impl_ow3ax6(this.wb_1);
  };
  ValueTimeMark.prototype.hashCode = function () {
    return ValueTimeMark__hashCode_impl_oduu93(this.wb_1);
  };
  ValueTimeMark.prototype.equals = function (other) {
    return ValueTimeMark__equals_impl_uc54jh(this.wb_1, other);
  };
  ValueTimeMark.$metadata$ = classMeta('ValueTimeMark', [TimeMark]);
  function Monotonic() {
    Monotonic_instance = this;
  }
  Monotonic.prototype.yb = function () {
    return MonotonicTimeSource_getInstance().yb();
  };
  Monotonic.prototype.toString = function () {
    return toString_4(MonotonicTimeSource_getInstance());
  };
  Monotonic.$metadata$ = objectMeta('Monotonic', [TimeSource]);
  var Monotonic_instance;
  function Monotonic_getInstance() {
    if (Monotonic_instance == null)
      new Monotonic();
    return Monotonic_instance;
  }
  function TimeSource() {
  }
  TimeSource.$metadata$ = interfaceMeta('TimeSource');
  function TimeMark() {
  }
  TimeMark.$metadata$ = interfaceMeta('TimeMark');
  function TimedValue(value, duration) {
    this.zb_1 = value;
    this.ac_1 = duration;
  }
  TimedValue.prototype.z3 = function () {
    return this.zb_1;
  };
  TimedValue.prototype.bc = function () {
    return this.ac_1;
  };
  TimedValue.prototype.toString = function () {
    return 'TimedValue(value=' + this.zb_1 + ', duration=' + new Duration(this.ac_1) + ')';
  };
  TimedValue.prototype.hashCode = function () {
    var result = this.zb_1 == null ? 0 : hashCode_0(this.zb_1);
    result = imul(result, 31) + Duration__hashCode_impl_u4exz6(this.ac_1) | 0;
    return result;
  };
  TimedValue.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof TimedValue))
      return false;
    var tmp0_other_with_cast = other instanceof TimedValue ? other : THROW_CCE();
    if (!equals_1(this.zb_1, tmp0_other_with_cast.zb_1))
      return false;
    if (!equals_1(this.ac_1, tmp0_other_with_cast.ac_1))
      return false;
    return true;
  };
  TimedValue.$metadata$ = classMeta('TimedValue');
  function measureTimedValue(block) {
    {
    }
    var tmp$ret$0;
    {
      var tmp0_measureTimedValue = Monotonic_getInstance();
      {
      }
      var mark = tmp0_measureTimedValue.yb();
      var result = block();
      tmp$ret$0 = new TimedValue(result, ValueTimeMark__elapsedNow_impl_eonqvs(mark));
    }
    return tmp$ret$0;
  }
  function measureTimedValue_0(_this__u8e3s4, block) {
    {
    }
    var mark = _this__u8e3s4.yb();
    var result = block();
    return new TimedValue(result, ValueTimeMark__elapsedNow_impl_eonqvs(mark));
  }
  function get_UNDEFINED_RESULT() {
    init_properties_DeepRecursive_kt_b2anle();
    return UNDEFINED_RESULT;
  }
  var UNDEFINED_RESULT;
  function DeepRecursiveScope() {
  }
  DeepRecursiveScope.$metadata$ = classMeta('DeepRecursiveScope');
  function invoke(_this__u8e3s4, value) {
    init_properties_DeepRecursive_kt_b2anle();
    return (new DeepRecursiveScopeImpl(_this__u8e3s4.dc_1, value)).ic();
  }
  function DeepRecursiveFunction(block) {
    this.dc_1 = block;
  }
  DeepRecursiveFunction.$metadata$ = classMeta('DeepRecursiveFunction');
  function DeepRecursiveScopeImpl(block, value) {
    DeepRecursiveScope.call(this);
    var tmp = this;
    tmp.ec_1 = isSuspendFunction(block, 2) ? block : THROW_CCE();
    this.fc_1 = value;
    var tmp_0 = this;
    tmp_0.gc_1 = isInterface(this, Continuation) ? this : THROW_CCE();
    this.hc_1 = get_UNDEFINED_RESULT();
  }
  DeepRecursiveScopeImpl.prototype.s4 = function () {
    return EmptyCoroutineContext_getInstance();
  };
  DeepRecursiveScopeImpl.prototype.jc = function (result) {
    this.gc_1 = null;
    this.hc_1 = result;
  };
  DeepRecursiveScopeImpl.prototype.q4 = function (result) {
    return this.jc(result);
  };
  DeepRecursiveScopeImpl.prototype.cc = function (value, $cont) {
    var tmp$ret$0;
    {
      var tmp0__anonymous__q1qw7t = $cont;
      var tmp = this;
      tmp.gc_1 = isInterface(tmp0__anonymous__q1qw7t, Continuation) ? tmp0__anonymous__q1qw7t : THROW_CCE();
      this.fc_1 = value;
      tmp$ret$0 = get_COROUTINE_SUSPENDED();
    }
    return tmp$ret$0;
  };
  DeepRecursiveScopeImpl.prototype.ic = function () {
    $l$loop: while (true) {
      var result = this.hc_1;
      var tmp0_elvis_lhs = this.gc_1;
      var tmp;
      if (tmp0_elvis_lhs == null) {
        var tmp$ret$0;
        {
          var tmp0_getOrThrow = new Result(result) instanceof Result ? result : THROW_CCE();
          throwOnFailure(tmp0_getOrThrow);
          var tmp_0 = _Result___get_value__impl__bjfvqg(tmp0_getOrThrow);
          tmp$ret$0 = (tmp_0 == null ? true : isObject(tmp_0)) ? tmp_0 : THROW_CCE();
        }
        return tmp$ret$0;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var cont = tmp;
      if (equals_1(get_UNDEFINED_RESULT(), result)) {
        var tmp_1;
        try {
          var tmp$ret$2;
          {
            var tmp1_startCoroutineUninterceptedOrReturn = this.ec_1;
            var tmp2_startCoroutineUninterceptedOrReturn = this.fc_1;
            var tmp$ret$1;
            {
              tmp$ret$1 = tmp1_startCoroutineUninterceptedOrReturn;
            }
            var a = tmp$ret$1;
            tmp$ret$2 = typeof a === 'function' ? a(this, tmp2_startCoroutineUninterceptedOrReturn, cont) : tmp1_startCoroutineUninterceptedOrReturn.kc(this, tmp2_startCoroutineUninterceptedOrReturn, cont);
          }
          tmp_1 = tmp$ret$2;
        } catch ($p) {
          var tmp_2;
          if ($p instanceof Error) {
            var tmp$ret$4;
            {
              var tmp$ret$3;
              {
                var tmp0_failure = Companion_getInstance_8();
                tmp$ret$3 = _Result___init__impl__xyqfz8(createFailure($p));
              }
              tmp$ret$4 = cont.q4(tmp$ret$3);
            }
            continue $l$loop;
          } else {
            throw $p;
          }
          tmp_1 = tmp_2;
        }
        var r = tmp_1;
        if (!(r === get_COROUTINE_SUSPENDED())) {
          var tmp$ret$6;
          {
            var tmp3_resume = (r == null ? true : isObject(r)) ? r : THROW_CCE();
            var tmp$ret$5;
            {
              var tmp0_success = Companion_getInstance_8();
              tmp$ret$5 = _Result___init__impl__xyqfz8(tmp3_resume);
            }
            tmp$ret$6 = cont.q4(tmp$ret$5);
          }
        }
      } else {
        this.hc_1 = get_UNDEFINED_RESULT();
        cont.q4(result);
      }
    }
  };
  DeepRecursiveScopeImpl.$metadata$ = classMeta('DeepRecursiveScopeImpl', [Continuation], undefined, undefined, undefined, DeepRecursiveScope.prototype);
  var properties_initialized_DeepRecursive_kt_5z0al2;
  function init_properties_DeepRecursive_kt_b2anle() {
    if (properties_initialized_DeepRecursive_kt_5z0al2) {
    } else {
      properties_initialized_DeepRecursive_kt_5z0al2 = true;
      var tmp$ret$0;
      {
        var tmp0_success = Companion_getInstance_8();
        var tmp1_success = get_COROUTINE_SUSPENDED();
        tmp$ret$0 = _Result___init__impl__xyqfz8(tmp1_success);
      }
      UNDEFINED_RESULT = tmp$ret$0;
    }
  }
  function mod_0(_this__u8e3s4, other) {
    var r = _this__u8e3s4 % other | 0;
    return r + (other & ((r ^ other) & (r | (-r | 0))) >> 31) | 0;
  }
  function hashCode(_this__u8e3s4) {
    var tmp0_safe_receiver = _this__u8e3s4;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : hashCode_0(tmp0_safe_receiver);
    return tmp1_elvis_lhs == null ? 0 : tmp1_elvis_lhs;
  }
  function getValue_1(_this__u8e3s4, thisRef, property) {
    return _this__u8e3s4.l2();
  }
  function Lazy() {
  }
  Lazy.$metadata$ = interfaceMeta('Lazy');
  var LazyThreadSafetyMode_SYNCHRONIZED_instance;
  var LazyThreadSafetyMode_PUBLICATION_instance;
  var LazyThreadSafetyMode_NONE_instance;
  var LazyThreadSafetyMode_entriesInitialized;
  function LazyThreadSafetyMode_initEntries() {
    if (LazyThreadSafetyMode_entriesInitialized)
      return Unit_getInstance();
    LazyThreadSafetyMode_entriesInitialized = true;
    LazyThreadSafetyMode_SYNCHRONIZED_instance = new LazyThreadSafetyMode('SYNCHRONIZED', 0);
    LazyThreadSafetyMode_PUBLICATION_instance = new LazyThreadSafetyMode('PUBLICATION', 1);
    LazyThreadSafetyMode_NONE_instance = new LazyThreadSafetyMode('NONE', 2);
  }
  function LazyThreadSafetyMode(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  LazyThreadSafetyMode.$metadata$ = classMeta('LazyThreadSafetyMode', undefined, undefined, undefined, undefined, Enum.prototype);
  function UnsafeLazyImpl(initializer) {
    this.lc_1 = initializer;
    this.mc_1 = UNINITIALIZED_VALUE_getInstance();
  }
  UnsafeLazyImpl.prototype.l2 = function () {
    if (this.mc_1 === UNINITIALIZED_VALUE_getInstance()) {
      this.mc_1 = ensureNotNull(this.lc_1)();
      this.lc_1 = null;
    }
    var tmp = this.mc_1;
    return (tmp == null ? true : isObject(tmp)) ? tmp : THROW_CCE();
  };
  UnsafeLazyImpl.prototype.nc = function () {
    return !(this.mc_1 === UNINITIALIZED_VALUE_getInstance());
  };
  UnsafeLazyImpl.prototype.toString = function () {
    return this.nc() ? toString_3(this.l2()) : 'Lazy value not initialized yet.';
  };
  UnsafeLazyImpl.$metadata$ = classMeta('UnsafeLazyImpl', [Lazy, Serializable]);
  function UNINITIALIZED_VALUE() {
    UNINITIALIZED_VALUE_instance = this;
  }
  UNINITIALIZED_VALUE.$metadata$ = objectMeta('UNINITIALIZED_VALUE');
  var UNINITIALIZED_VALUE_instance;
  function UNINITIALIZED_VALUE_getInstance() {
    if (UNINITIALIZED_VALUE_instance == null)
      new UNINITIALIZED_VALUE();
    return UNINITIALIZED_VALUE_instance;
  }
  function LazyThreadSafetyMode_PUBLICATION_getInstance() {
    LazyThreadSafetyMode_initEntries();
    return LazyThreadSafetyMode_PUBLICATION_instance;
  }
  function error(message) {
    throw IllegalStateException_init_$Create$_0(toString_4(message));
  }
  function check(value) {
    {
    }
    {
      {
      }
      if (!value) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Check failed.';
        }
        var message = tmp$ret$0;
        throw IllegalStateException_init_$Create$_0(toString_4(message));
      }
    }
  }
  function check_0(value, lazyMessage) {
    {
    }
    if (!value) {
      var message = lazyMessage();
      throw IllegalStateException_init_$Create$_0(toString_4(message));
    }
  }
  function require_0(value, lazyMessage) {
    {
    }
    if (!value) {
      var message = lazyMessage();
      throw IllegalArgumentException_init_$Create$_0(toString_4(message));
    }
  }
  function require_1(value) {
    {
    }
    {
      {
      }
      if (!value) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Failed requirement.';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message));
      }
    }
  }
  function checkNotNull(value) {
    {
    }
    var tmp$ret$1;
    $l$block: {
      {
      }
      if (value == null) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Required value was null.';
        }
        var message = tmp$ret$0;
        throw IllegalStateException_init_$Create$_0(toString_4(message));
      } else {
        tmp$ret$1 = value;
        break $l$block;
      }
    }
    return tmp$ret$1;
  }
  function checkNotNull_0(value, lazyMessage) {
    {
    }
    if (value == null) {
      var message = lazyMessage();
      throw IllegalStateException_init_$Create$_0(toString_4(message));
    } else {
      return value;
    }
  }
  function requireNotNull(value, lazyMessage) {
    {
    }
    if (value == null) {
      var message = lazyMessage();
      throw IllegalArgumentException_init_$Create$_0(toString_4(message));
    } else {
      return value;
    }
  }
  function _Result___init__impl__xyqfz8(value) {
    return value;
  }
  function _Result___get_value__impl__bjfvqg($this) {
    return $this;
  }
  function _Result___get_isFailure__impl__jpiriv($this) {
    var tmp = _Result___get_value__impl__bjfvqg($this);
    return tmp instanceof Failure;
  }
  function Result__getOrNull_impl_x6tyqe($this) {
    var tmp;
    if (_Result___get_isFailure__impl__jpiriv($this)) {
      tmp = null;
    } else {
      var tmp_0 = _Result___get_value__impl__bjfvqg($this);
      tmp = (tmp_0 == null ? true : isObject(tmp_0)) ? tmp_0 : THROW_CCE();
    }
    return tmp;
  }
  function Result__exceptionOrNull_impl_p6xea9($this) {
    var tmp0_subject = _Result___get_value__impl__bjfvqg($this);
    var tmp;
    if (tmp0_subject instanceof Failure) {
      tmp = _Result___get_value__impl__bjfvqg($this).oc_1;
    } else {
      tmp = null;
    }
    return tmp;
  }
  function Result__toString_impl_yu5r8k($this) {
    var tmp0_subject = _Result___get_value__impl__bjfvqg($this);
    var tmp;
    if (tmp0_subject instanceof Failure) {
      tmp = toString_4(_Result___get_value__impl__bjfvqg($this));
    } else {
      tmp = 'Success(' + toString_3(_Result___get_value__impl__bjfvqg($this)) + ')';
    }
    return tmp;
  }
  function Companion_8() {
    Companion_instance_8 = this;
  }
  Companion_8.prototype.pc = function (value) {
    return _Result___init__impl__xyqfz8(value);
  };
  Companion_8.prototype.qc = function (exception) {
    return _Result___init__impl__xyqfz8(createFailure(exception));
  };
  Companion_8.$metadata$ = objectMeta('Companion');
  var Companion_instance_8;
  function Companion_getInstance_8() {
    if (Companion_instance_8 == null)
      new Companion_8();
    return Companion_instance_8;
  }
  function Failure(exception) {
    this.oc_1 = exception;
  }
  Failure.prototype.equals = function (other) {
    var tmp;
    if (other instanceof Failure) {
      tmp = equals_1(this.oc_1, other.oc_1);
    } else {
      tmp = false;
    }
    return tmp;
  };
  Failure.prototype.hashCode = function () {
    return hashCode_0(this.oc_1);
  };
  Failure.prototype.toString = function () {
    return 'Failure(' + this.oc_1 + ')';
  };
  Failure.$metadata$ = classMeta('Failure', [Serializable]);
  function Result__hashCode_impl_d2zufp($this) {
    return $this == null ? 0 : hashCode_0($this);
  }
  function Result__equals_impl_bxgmep($this, other) {
    if (!(other instanceof Result))
      return false;
    var tmp0_other_with_cast = other instanceof Result ? other.rc_1 : THROW_CCE();
    if (!equals_1($this, tmp0_other_with_cast))
      return false;
    return true;
  }
  function Result(value) {
    Companion_getInstance_8();
    this.rc_1 = value;
  }
  Result.prototype.toString = function () {
    return Result__toString_impl_yu5r8k(this.rc_1);
  };
  Result.prototype.hashCode = function () {
    return Result__hashCode_impl_d2zufp(this.rc_1);
  };
  Result.prototype.equals = function (other) {
    return Result__equals_impl_bxgmep(this.rc_1, other);
  };
  Result.$metadata$ = classMeta('Result', [Serializable]);
  function createFailure(exception) {
    return new Failure(exception);
  }
  function getOrThrow(_this__u8e3s4) {
    throwOnFailure(_this__u8e3s4);
    var tmp = _Result___get_value__impl__bjfvqg(_this__u8e3s4);
    return (tmp == null ? true : isObject(tmp)) ? tmp : THROW_CCE();
  }
  function throwOnFailure(_this__u8e3s4) {
    var tmp = _Result___get_value__impl__bjfvqg(_this__u8e3s4);
    if (tmp instanceof Failure)
      throw _Result___get_value__impl__bjfvqg(_this__u8e3s4).oc_1;
  }
  function runCatching(_this__u8e3s4, block) {
    var tmp;
    try {
      var tmp$ret$0;
      {
        var tmp0_success = Companion_getInstance_8();
        var tmp1_success = block(_this__u8e3s4);
        tmp$ret$0 = _Result___init__impl__xyqfz8(tmp1_success);
      }
      tmp = tmp$ret$0;
    } catch ($p) {
      var tmp_0;
      if ($p instanceof Error) {
        var tmp$ret$1;
        {
          var tmp2_failure = Companion_getInstance_8();
          tmp$ret$1 = _Result___init__impl__xyqfz8(createFailure($p));
        }
        tmp_0 = tmp$ret$1;
      } else {
        throw $p;
      }
      tmp = tmp_0;
    }
    return tmp;
  }
  function fold_2(_this__u8e3s4, onSuccess, onFailure) {
    {
    }
    var exception = Result__exceptionOrNull_impl_p6xea9(_this__u8e3s4);
    var tmp;
    if (exception == null) {
      var tmp_0 = _Result___get_value__impl__bjfvqg(_this__u8e3s4);
      tmp = onSuccess((tmp_0 == null ? true : isObject(tmp_0)) ? tmp_0 : THROW_CCE());
    } else {
      tmp = onFailure(exception);
    }
    return tmp;
  }
  function run(block) {
    {
    }
    return block();
  }
  function NotImplementedError_init_$Init$(message, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0))
      message = 'An operation is not implemented.';
    NotImplementedError.call($this, message);
    return $this;
  }
  function NotImplementedError_init_$Create$(message, $mask0, $marker) {
    var tmp = NotImplementedError_init_$Init$(message, $mask0, $marker, Object.create(NotImplementedError.prototype));
    captureStack(tmp, NotImplementedError_init_$Create$);
    return tmp;
  }
  function NotImplementedError(message) {
    Error_init_$Init$(message, this);
    captureStack(this, NotImplementedError);
  }
  NotImplementedError.$metadata$ = classMeta('NotImplementedError', undefined, undefined, undefined, undefined, Error_0.prototype);
  function let_0(_this__u8e3s4, block) {
    {
    }
    return block(_this__u8e3s4);
  }
  function also(_this__u8e3s4, block) {
    {
    }
    block(_this__u8e3s4);
    return _this__u8e3s4;
  }
  function takeUnless(_this__u8e3s4, predicate) {
    {
    }
    return !predicate(_this__u8e3s4) ? _this__u8e3s4 : null;
  }
  function apply(_this__u8e3s4, block) {
    {
    }
    block(_this__u8e3s4);
    return _this__u8e3s4;
  }
  function run_0(_this__u8e3s4, block) {
    {
    }
    return block(_this__u8e3s4);
  }
  function takeIf(_this__u8e3s4, predicate) {
    {
    }
    return predicate(_this__u8e3s4) ? _this__u8e3s4 : null;
  }
  function with_0(receiver, block) {
    {
    }
    return block(receiver);
  }
  function repeat(times, action) {
    {
    }
    var inductionVariable = 0;
    if (inductionVariable < times)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        action(index);
      }
       while (inductionVariable < times);
  }
  function Pair(first, second) {
    this.x3_1 = first;
    this.y3_1 = second;
  }
  Pair.prototype.i9 = function () {
    return this.x3_1;
  };
  Pair.prototype.sc = function () {
    return this.y3_1;
  };
  Pair.prototype.toString = function () {
    return '(' + this.x3_1 + ', ' + this.y3_1 + ')';
  };
  Pair.prototype.z3 = function () {
    return this.x3_1;
  };
  Pair.prototype.a4 = function () {
    return this.y3_1;
  };
  Pair.prototype.hashCode = function () {
    var result = this.x3_1 == null ? 0 : hashCode_0(this.x3_1);
    result = imul(result, 31) + (this.y3_1 == null ? 0 : hashCode_0(this.y3_1)) | 0;
    return result;
  };
  Pair.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Pair))
      return false;
    var tmp0_other_with_cast = other instanceof Pair ? other : THROW_CCE();
    if (!equals_1(this.x3_1, tmp0_other_with_cast.x3_1))
      return false;
    if (!equals_1(this.y3_1, tmp0_other_with_cast.y3_1))
      return false;
    return true;
  };
  Pair.$metadata$ = classMeta('Pair', [Serializable]);
  function to(_this__u8e3s4, that) {
    return new Pair(_this__u8e3s4, that);
  }
  function Triple(first, second, third) {
    this.tc_1 = first;
    this.uc_1 = second;
    this.vc_1 = third;
  }
  Triple.prototype.toString = function () {
    return '(' + this.tc_1 + ', ' + this.uc_1 + ', ' + this.vc_1 + ')';
  };
  Triple.prototype.hashCode = function () {
    var result = this.tc_1 == null ? 0 : hashCode_0(this.tc_1);
    result = imul(result, 31) + (this.uc_1 == null ? 0 : hashCode_0(this.uc_1)) | 0;
    result = imul(result, 31) + (this.vc_1 == null ? 0 : hashCode_0(this.vc_1)) | 0;
    return result;
  };
  Triple.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Triple))
      return false;
    var tmp0_other_with_cast = other instanceof Triple ? other : THROW_CCE();
    if (!equals_1(this.tc_1, tmp0_other_with_cast.tc_1))
      return false;
    if (!equals_1(this.uc_1, tmp0_other_with_cast.uc_1))
      return false;
    if (!equals_1(this.vc_1, tmp0_other_with_cast.vc_1))
      return false;
    return true;
  };
  Triple.$metadata$ = classMeta('Triple', [Serializable]);
  function _UInt___init__impl__l7qpdl(data) {
    return data;
  }
  function _UInt___get_data__impl__f0vqqw($this) {
    return $this;
  }
  function Companion_9() {
    Companion_instance_9 = this;
    this.wc_1 = _UInt___init__impl__l7qpdl(0);
    this.xc_1 = _UInt___init__impl__l7qpdl(-1);
    this.yc_1 = 4;
    this.zc_1 = 32;
  }
  Companion_9.$metadata$ = objectMeta('Companion');
  var Companion_instance_9;
  function Companion_getInstance_9() {
    if (Companion_instance_9 == null)
      new Companion_9();
    return Companion_instance_9;
  }
  function UInt__compareTo_impl_yacclj($this, other) {
    return uintCompare(_UInt___get_data__impl__f0vqqw($this), _UInt___get_data__impl__f0vqqw(other));
  }
  function UInt__compareTo_impl_yacclj_0($this, other) {
    var tmp = $this.ad_1;
    return UInt__compareTo_impl_yacclj(tmp, other instanceof UInt ? other.ad_1 : THROW_CCE());
  }
  function UInt__shl_impl_o7n0a8($this, bitCount) {
    return _UInt___init__impl__l7qpdl(_UInt___get_data__impl__f0vqqw($this) << bitCount);
  }
  function UInt__shr_impl_r1wqne($this, bitCount) {
    return _UInt___init__impl__l7qpdl(_UInt___get_data__impl__f0vqqw($this) >>> bitCount | 0);
  }
  function UInt__and_impl_fv3j80($this, other) {
    return _UInt___init__impl__l7qpdl(_UInt___get_data__impl__f0vqqw($this) & _UInt___get_data__impl__f0vqqw(other));
  }
  function UInt__or_impl_nrzdg0($this, other) {
    return _UInt___init__impl__l7qpdl(_UInt___get_data__impl__f0vqqw($this) | _UInt___get_data__impl__f0vqqw(other));
  }
  function UInt__inv_impl_t5jp3e($this) {
    return _UInt___init__impl__l7qpdl(~_UInt___get_data__impl__f0vqqw($this));
  }
  function UInt__toByte_impl_enbcz4($this) {
    return toByte(_UInt___get_data__impl__f0vqqw($this));
  }
  function UInt__toInt_impl_93yt4d($this) {
    return _UInt___get_data__impl__f0vqqw($this);
  }
  function UInt__toLong_impl_le5rq4($this) {
    return toLong_0(_UInt___get_data__impl__f0vqqw($this)).bd(new Long(-1, 0));
  }
  function UInt__toString_impl_dbgl21($this) {
    var tmp$ret$0;
    {
      tmp$ret$0 = toLong_0(_UInt___get_data__impl__f0vqqw($this)).bd(new Long(-1, 0));
    }
    return tmp$ret$0.toString();
  }
  function UInt__hashCode_impl_z2mhuw($this) {
    return $this;
  }
  function UInt__equals_impl_ffdoxg($this, other) {
    if (!(other instanceof UInt))
      return false;
    var tmp0_other_with_cast = other instanceof UInt ? other.ad_1 : THROW_CCE();
    if (!($this === tmp0_other_with_cast))
      return false;
    return true;
  }
  function UInt(data) {
    Companion_getInstance_9();
    this.ad_1 = data;
  }
  UInt.prototype.cd = function (other) {
    return UInt__compareTo_impl_yacclj(this.ad_1, other);
  };
  UInt.prototype.sb = function (other) {
    return UInt__compareTo_impl_yacclj_0(this, other);
  };
  UInt.prototype.toString = function () {
    return UInt__toString_impl_dbgl21(this.ad_1);
  };
  UInt.prototype.hashCode = function () {
    return UInt__hashCode_impl_z2mhuw(this.ad_1);
  };
  UInt.prototype.equals = function (other) {
    return UInt__equals_impl_ffdoxg(this.ad_1, other);
  };
  UInt.$metadata$ = classMeta('UInt', [Comparable]);
  function toUInt(_this__u8e3s4) {
    return _UInt___init__impl__l7qpdl(_this__u8e3s4);
  }
  function toUInt_0(_this__u8e3s4) {
    return _UInt___init__impl__l7qpdl(_this__u8e3s4);
  }
  function _ULong___init__impl__c78o9k(data) {
    return data;
  }
  function _ULong___get_data__impl__fggpzb($this) {
    return $this;
  }
  function Companion_10() {
    Companion_instance_10 = this;
    this.dd_1 = _ULong___init__impl__c78o9k(new Long(0, 0));
    this.ed_1 = _ULong___init__impl__c78o9k(new Long(-1, -1));
    this.fd_1 = 8;
    this.gd_1 = 64;
  }
  Companion_10.$metadata$ = objectMeta('Companion');
  var Companion_instance_10;
  function Companion_getInstance_10() {
    if (Companion_instance_10 == null)
      new Companion_10();
    return Companion_instance_10;
  }
  function ULong__compareTo_impl_38i7tu($this, other) {
    return ulongCompare(_ULong___get_data__impl__fggpzb($this), _ULong___get_data__impl__fggpzb(other));
  }
  function ULong__compareTo_impl_38i7tu_0($this, other) {
    var tmp = $this.hd_1;
    return ULong__compareTo_impl_38i7tu(tmp, other instanceof ULong ? other.hd_1 : THROW_CCE());
  }
  function ULong__plus_impl_plxuny($this, other) {
    return _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb($this).ka(_ULong___get_data__impl__fggpzb(other)));
  }
  function ULong__times_impl_ffj6l4($this, other) {
    return _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb($this).ja(_ULong___get_data__impl__fggpzb(other)));
  }
  function ULong__shl_impl_5lazrb($this, bitCount) {
    return _ULong___init__impl__c78o9k(_ULong___get_data__impl__fggpzb($this).tb(bitCount));
  }
  function ULong__toLong_impl_i1ol5n($this) {
    return _ULong___get_data__impl__fggpzb($this);
  }
  function ULong__toString_impl_f9au7k($this) {
    return ulongToString(_ULong___get_data__impl__fggpzb($this));
  }
  function ULong__hashCode_impl_6hv2lb($this) {
    return $this.hashCode();
  }
  function ULong__equals_impl_o0gnyb($this, other) {
    if (!(other instanceof ULong))
      return false;
    var tmp0_other_with_cast = other instanceof ULong ? other.hd_1 : THROW_CCE();
    if (!$this.equals(tmp0_other_with_cast))
      return false;
    return true;
  }
  function ULong(data) {
    Companion_getInstance_10();
    this.hd_1 = data;
  }
  ULong.prototype.id = function (other) {
    return ULong__compareTo_impl_38i7tu(this.hd_1, other);
  };
  ULong.prototype.sb = function (other) {
    return ULong__compareTo_impl_38i7tu_0(this, other);
  };
  ULong.prototype.toString = function () {
    return ULong__toString_impl_f9au7k(this.hd_1);
  };
  ULong.prototype.hashCode = function () {
    return ULong__hashCode_impl_6hv2lb(this.hd_1);
  };
  ULong.prototype.equals = function (other) {
    return ULong__equals_impl_o0gnyb(this.hd_1, other);
  };
  ULong.$metadata$ = classMeta('ULong', [Comparable]);
  function toULong(_this__u8e3s4) {
    return _ULong___init__impl__c78o9k(toLong_0(_this__u8e3s4));
  }
  function _UShort___init__impl__jigrne(data) {
    return data;
  }
  function _UShort___get_data__impl__g0245($this) {
    return $this;
  }
  function UShort__toInt_impl_72bkww($this) {
    return _UShort___get_data__impl__g0245($this) & 65535;
  }
  function toUShort(_this__u8e3s4) {
    return _UShort___init__impl__jigrne(toShort(_this__u8e3s4));
  }
  function uintCompare(v1, v2) {
    return compareTo_0(v1 ^ IntCompanionObject_getInstance().a1_1, v2 ^ IntCompanionObject_getInstance().a1_1);
  }
  function ulongCompare(v1, v2) {
    Companion_getInstance_14();
    var tmp = v1.lb(new Long(0, -2147483648));
    Companion_getInstance_14();
    return tmp.k1(v2.lb(new Long(0, -2147483648)));
  }
  function ulongToString(v) {
    return ulongToString_0(v, 10);
  }
  function ulongToString_0(v, base) {
    if (v.k1(new Long(0, 0)) >= 0)
      return toString_5(v, base);
    var tmp$ret$0;
    {
      var tmp0_div = v.jd(1);
      tmp$ret$0 = tmp0_div.ia(toLong_0(base));
    }
    var quotient = tmp$ret$0.tb(1);
    var tmp$ret$1;
    {
      var tmp1_times = quotient;
      tmp$ret$1 = tmp1_times.ja(toLong_0(base));
    }
    var rem = v.la(tmp$ret$1);
    if (rem.k1(toLong_0(base)) >= 0) {
      var tmp$ret$2;
      {
        var tmp2_minus = rem;
        tmp$ret$2 = tmp2_minus.la(toLong_0(base));
      }
      rem = tmp$ret$2;
      var tmp$ret$3;
      {
        var tmp3_plus = quotient;
        tmp$ret$3 = tmp3_plus.ka(new Long(1, 0));
      }
      quotient = tmp$ret$3;
    }
    return toString_5(quotient, base) + toString_5(rem, base);
  }
  function Annotation() {
  }
  Annotation.$metadata$ = interfaceMeta('Annotation');
  function CharSequence() {
  }
  CharSequence.$metadata$ = interfaceMeta('CharSequence');
  function Comparable() {
  }
  Comparable.$metadata$ = interfaceMeta('Comparable');
  function Iterator() {
  }
  Iterator.$metadata$ = interfaceMeta('Iterator');
  function MutableIterator() {
  }
  MutableIterator.$metadata$ = interfaceMeta('MutableIterator', [Iterator]);
  function ListIterator() {
  }
  ListIterator.$metadata$ = interfaceMeta('ListIterator', [Iterator]);
  function MutableListIterator() {
  }
  MutableListIterator.$metadata$ = interfaceMeta('MutableListIterator', [ListIterator, MutableIterator]);
  function Number_0() {
  }
  Number_0.$metadata$ = classMeta('Number');
  function Unit() {
    Unit_instance = this;
  }
  Unit.prototype.toString = function () {
    return 'kotlin.Unit';
  };
  Unit.$metadata$ = objectMeta('Unit');
  var Unit_instance;
  function Unit_getInstance() {
    if (Unit_instance == null)
      new Unit();
    return Unit_instance;
  }
  function ByteCompanionObject() {
    ByteCompanionObject_instance = this;
    this.nd_1 = -128;
    this.od_1 = 127;
    this.pd_1 = 1;
    this.qd_1 = 8;
  }
  ByteCompanionObject.prototype.rd = function () {
    return this.nd_1;
  };
  ByteCompanionObject.prototype.sd = function () {
    return this.od_1;
  };
  ByteCompanionObject.prototype.td = function () {
    return this.pd_1;
  };
  ByteCompanionObject.prototype.ud = function () {
    return this.qd_1;
  };
  ByteCompanionObject.$metadata$ = objectMeta('ByteCompanionObject');
  Object.defineProperty(ByteCompanionObject.prototype, 'MIN_VALUE', {
    configurable: true,
    get: ByteCompanionObject.prototype.rd
  });
  Object.defineProperty(ByteCompanionObject.prototype, 'MAX_VALUE', {
    configurable: true,
    get: ByteCompanionObject.prototype.sd
  });
  Object.defineProperty(ByteCompanionObject.prototype, 'SIZE_BYTES', {
    configurable: true,
    get: ByteCompanionObject.prototype.td
  });
  Object.defineProperty(ByteCompanionObject.prototype, 'SIZE_BITS', {
    configurable: true,
    get: ByteCompanionObject.prototype.ud
  });
  var ByteCompanionObject_instance;
  function ByteCompanionObject_getInstance() {
    if (ByteCompanionObject_instance == null)
      new ByteCompanionObject();
    return ByteCompanionObject_instance;
  }
  function ShortCompanionObject() {
    ShortCompanionObject_instance = this;
    this.vd_1 = -32768;
    this.wd_1 = 32767;
    this.xd_1 = 2;
    this.yd_1 = 16;
  }
  ShortCompanionObject.prototype.rd = function () {
    return this.vd_1;
  };
  ShortCompanionObject.prototype.sd = function () {
    return this.wd_1;
  };
  ShortCompanionObject.prototype.td = function () {
    return this.xd_1;
  };
  ShortCompanionObject.prototype.ud = function () {
    return this.yd_1;
  };
  ShortCompanionObject.$metadata$ = objectMeta('ShortCompanionObject');
  Object.defineProperty(ShortCompanionObject.prototype, 'MIN_VALUE', {
    configurable: true,
    get: ShortCompanionObject.prototype.rd
  });
  Object.defineProperty(ShortCompanionObject.prototype, 'MAX_VALUE', {
    configurable: true,
    get: ShortCompanionObject.prototype.sd
  });
  Object.defineProperty(ShortCompanionObject.prototype, 'SIZE_BYTES', {
    configurable: true,
    get: ShortCompanionObject.prototype.td
  });
  Object.defineProperty(ShortCompanionObject.prototype, 'SIZE_BITS', {
    configurable: true,
    get: ShortCompanionObject.prototype.ud
  });
  var ShortCompanionObject_instance;
  function ShortCompanionObject_getInstance() {
    if (ShortCompanionObject_instance == null)
      new ShortCompanionObject();
    return ShortCompanionObject_instance;
  }
  function IntCompanionObject() {
    IntCompanionObject_instance = this;
    this.a1_1 = -2147483648;
    this.b1_1 = 2147483647;
    this.c1_1 = 4;
    this.d1_1 = 32;
  }
  IntCompanionObject.prototype.rd = function () {
    return this.a1_1;
  };
  IntCompanionObject.prototype.sd = function () {
    return this.b1_1;
  };
  IntCompanionObject.prototype.td = function () {
    return this.c1_1;
  };
  IntCompanionObject.prototype.ud = function () {
    return this.d1_1;
  };
  IntCompanionObject.$metadata$ = objectMeta('IntCompanionObject');
  Object.defineProperty(IntCompanionObject.prototype, 'MIN_VALUE', {
    configurable: true,
    get: IntCompanionObject.prototype.rd
  });
  Object.defineProperty(IntCompanionObject.prototype, 'MAX_VALUE', {
    configurable: true,
    get: IntCompanionObject.prototype.sd
  });
  Object.defineProperty(IntCompanionObject.prototype, 'SIZE_BYTES', {
    configurable: true,
    get: IntCompanionObject.prototype.td
  });
  Object.defineProperty(IntCompanionObject.prototype, 'SIZE_BITS', {
    configurable: true,
    get: IntCompanionObject.prototype.ud
  });
  var IntCompanionObject_instance;
  function IntCompanionObject_getInstance() {
    if (IntCompanionObject_instance == null)
      new IntCompanionObject();
    return IntCompanionObject_instance;
  }
  function FloatCompanionObject() {
    FloatCompanionObject_instance = this;
    this.zd_1 = 1.4E-45;
    this.ae_1 = 3.4028235E38;
    this.be_1 = Infinity;
    this.ce_1 = -Infinity;
    this.de_1 = NaN;
    this.ee_1 = 4;
    this.fe_1 = 32;
  }
  FloatCompanionObject.prototype.rd = function () {
    return this.zd_1;
  };
  FloatCompanionObject.prototype.sd = function () {
    return this.ae_1;
  };
  FloatCompanionObject.prototype.ge = function () {
    return this.be_1;
  };
  FloatCompanionObject.prototype.he = function () {
    return this.ce_1;
  };
  FloatCompanionObject.prototype.ie = function () {
    return this.de_1;
  };
  FloatCompanionObject.prototype.td = function () {
    return this.ee_1;
  };
  FloatCompanionObject.prototype.ud = function () {
    return this.fe_1;
  };
  FloatCompanionObject.$metadata$ = objectMeta('FloatCompanionObject');
  Object.defineProperty(FloatCompanionObject.prototype, 'MIN_VALUE', {
    configurable: true,
    get: FloatCompanionObject.prototype.rd
  });
  Object.defineProperty(FloatCompanionObject.prototype, 'MAX_VALUE', {
    configurable: true,
    get: FloatCompanionObject.prototype.sd
  });
  Object.defineProperty(FloatCompanionObject.prototype, 'POSITIVE_INFINITY', {
    configurable: true,
    get: FloatCompanionObject.prototype.ge
  });
  Object.defineProperty(FloatCompanionObject.prototype, 'NEGATIVE_INFINITY', {
    configurable: true,
    get: FloatCompanionObject.prototype.he
  });
  Object.defineProperty(FloatCompanionObject.prototype, 'NaN', {
    configurable: true,
    get: FloatCompanionObject.prototype.ie
  });
  Object.defineProperty(FloatCompanionObject.prototype, 'SIZE_BYTES', {
    configurable: true,
    get: FloatCompanionObject.prototype.td
  });
  Object.defineProperty(FloatCompanionObject.prototype, 'SIZE_BITS', {
    configurable: true,
    get: FloatCompanionObject.prototype.ud
  });
  var FloatCompanionObject_instance;
  function FloatCompanionObject_getInstance() {
    if (FloatCompanionObject_instance == null)
      new FloatCompanionObject();
    return FloatCompanionObject_instance;
  }
  function DoubleCompanionObject() {
    DoubleCompanionObject_instance = this;
    this.je_1 = 4.9E-324;
    this.ke_1 = 1.7976931348623157E308;
    this.le_1 = Infinity;
    this.me_1 = -Infinity;
    this.ne_1 = NaN;
    this.oe_1 = 8;
    this.pe_1 = 64;
  }
  DoubleCompanionObject.prototype.rd = function () {
    return this.je_1;
  };
  DoubleCompanionObject.prototype.sd = function () {
    return this.ke_1;
  };
  DoubleCompanionObject.prototype.ge = function () {
    return this.le_1;
  };
  DoubleCompanionObject.prototype.he = function () {
    return this.me_1;
  };
  DoubleCompanionObject.prototype.ie = function () {
    return this.ne_1;
  };
  DoubleCompanionObject.prototype.td = function () {
    return this.oe_1;
  };
  DoubleCompanionObject.prototype.ud = function () {
    return this.pe_1;
  };
  DoubleCompanionObject.$metadata$ = objectMeta('DoubleCompanionObject');
  Object.defineProperty(DoubleCompanionObject.prototype, 'MIN_VALUE', {
    configurable: true,
    get: DoubleCompanionObject.prototype.rd
  });
  Object.defineProperty(DoubleCompanionObject.prototype, 'MAX_VALUE', {
    configurable: true,
    get: DoubleCompanionObject.prototype.sd
  });
  Object.defineProperty(DoubleCompanionObject.prototype, 'POSITIVE_INFINITY', {
    configurable: true,
    get: DoubleCompanionObject.prototype.ge
  });
  Object.defineProperty(DoubleCompanionObject.prototype, 'NEGATIVE_INFINITY', {
    configurable: true,
    get: DoubleCompanionObject.prototype.he
  });
  Object.defineProperty(DoubleCompanionObject.prototype, 'NaN', {
    configurable: true,
    get: DoubleCompanionObject.prototype.ie
  });
  Object.defineProperty(DoubleCompanionObject.prototype, 'SIZE_BYTES', {
    configurable: true,
    get: DoubleCompanionObject.prototype.td
  });
  Object.defineProperty(DoubleCompanionObject.prototype, 'SIZE_BITS', {
    configurable: true,
    get: DoubleCompanionObject.prototype.ud
  });
  var DoubleCompanionObject_instance;
  function DoubleCompanionObject_getInstance() {
    if (DoubleCompanionObject_instance == null)
      new DoubleCompanionObject();
    return DoubleCompanionObject_instance;
  }
  function StringCompanionObject() {
    StringCompanionObject_instance = this;
  }
  StringCompanionObject.$metadata$ = objectMeta('StringCompanionObject');
  var StringCompanionObject_instance;
  function StringCompanionObject_getInstance() {
    if (StringCompanionObject_instance == null)
      new StringCompanionObject();
    return StringCompanionObject_instance;
  }
  function BooleanCompanionObject() {
    BooleanCompanionObject_instance = this;
  }
  BooleanCompanionObject.$metadata$ = objectMeta('BooleanCompanionObject');
  var BooleanCompanionObject_instance;
  function BooleanCompanionObject_getInstance() {
    if (BooleanCompanionObject_instance == null)
      new BooleanCompanionObject();
    return BooleanCompanionObject_instance;
  }
  function Comparator() {
  }
  Comparator.$metadata$ = interfaceMeta('Comparator');
  function toTypedArray(_this__u8e3s4) {
    return copyToArray(_this__u8e3s4);
  }
  function mapCapacity(expectedSize) {
    return expectedSize;
  }
  function mapOf_0(pair) {
    return hashMapOf([pair]);
  }
  function toSingletonMapOrSelf(_this__u8e3s4) {
    return _this__u8e3s4;
  }
  function arrayCopy(source, destination, destinationOffset, startIndex, endIndex) {
    Companion_getInstance().e2(startIndex, endIndex, source.length);
    var rangeSize = endIndex - startIndex | 0;
    Companion_getInstance().e2(destinationOffset, destinationOffset + rangeSize | 0, destination.length);
    if (isView(destination) ? isView(source) : false) {
      var tmp$ret$0;
      {
        tmp$ret$0 = source;
      }
      var subrange = tmp$ret$0.subarray(startIndex, endIndex);
      var tmp$ret$1;
      {
        tmp$ret$1 = destination;
      }
      tmp$ret$1.set(subrange, destinationOffset);
    } else {
      if (!(source === destination) ? true : destinationOffset <= startIndex) {
        var inductionVariable = 0;
        if (inductionVariable < rangeSize)
          do {
            var index = inductionVariable;
            inductionVariable = inductionVariable + 1 | 0;
            destination[destinationOffset + index | 0] = source[startIndex + index | 0];
          }
           while (inductionVariable < rangeSize);
      } else {
        var inductionVariable_0 = rangeSize - 1 | 0;
        if (0 <= inductionVariable_0)
          do {
            var index_0 = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + -1 | 0;
            destination[destinationOffset + index_0 | 0] = source[startIndex + index_0 | 0];
          }
           while (0 <= inductionVariable_0);
      }
    }
  }
  function listOf_0(element) {
    return arrayListOf_0([element]);
  }
  function checkIndexOverflow(index) {
    if (index < 0) {
      throwIndexOverflow();
    }
    return index;
  }
  function setOf_0(element) {
    return hashSetOf([element]);
  }
  function sortWith(_this__u8e3s4, comparator) {
    collectionsSort(_this__u8e3s4, comparator);
  }
  function copyToArray(collection) {
    var tmp;
    var tmp$ret$0;
    {
      tmp$ret$0 = collection;
    }
    if (tmp$ret$0.toArray !== undefined) {
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          tmp$ret$1 = collection;
        }
        var tmp0_unsafeCast = tmp$ret$1.toArray();
        tmp$ret$2 = tmp0_unsafeCast;
      }
      tmp = tmp$ret$2;
    } else {
      var tmp$ret$4;
      {
        var tmp1_unsafeCast = copyToArrayImpl(collection);
        var tmp$ret$3;
        {
          tmp$ret$3 = tmp1_unsafeCast;
        }
        tmp$ret$4 = tmp$ret$3;
      }
      tmp = tmp$ret$4;
    }
    return tmp;
  }
  function collectionsSort(list, comparator) {
    if (list.m() <= 1)
      return Unit_getInstance();
    var array = copyToArray(list);
    sortArrayWith(array, comparator);
    var inductionVariable = 0;
    var last = array.length;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        list.t(i, array[i]);
      }
       while (inductionVariable < last);
  }
  function copyToArrayImpl(collection) {
    var tmp$ret$0;
    {
      tmp$ret$0 = [];
    }
    var array = tmp$ret$0;
    var iterator = collection.h();
    while (iterator.n()) {
      var tmp$ret$1;
      {
        tmp$ret$1 = array;
      }
      tmp$ret$1.push(iterator.o());
    }
    return array;
  }
  function brittleContainsOptimizationEnabled() {
    return false;
  }
  function AbstractMutableCollection$removeAll$lambda($elements) {
    return function (it) {
      return $elements.p(it);
    };
  }
  function AbstractMutableCollection() {
    AbstractCollection.call(this);
  }
  AbstractMutableCollection.prototype.c4 = function (element) {
    this.qe();
    var iterator = this.h();
    while (iterator.n()) {
      if (equals_1(iterator.o(), element)) {
        iterator.e4();
        return true;
      }
    }
    return false;
  };
  AbstractMutableCollection.prototype.m1 = function (elements) {
    this.qe();
    var modified = false;
    var tmp0_iterator = elements.h();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      if (this.b(element))
        modified = true;
    }
    return modified;
  };
  AbstractMutableCollection.prototype.f4 = function (elements) {
    this.qe();
    var tmp = isInterface(this, MutableIterable) ? this : THROW_CCE();
    return removeAll(tmp, AbstractMutableCollection$removeAll$lambda(elements));
  };
  AbstractMutableCollection.prototype.t7 = function () {
    this.qe();
    var iterator = this.h();
    while (iterator.n()) {
      iterator.o();
      iterator.e4();
    }
  };
  AbstractMutableCollection.prototype.toJSON = function () {
    return this.toArray();
  };
  AbstractMutableCollection.prototype.qe = function () {
  };
  AbstractMutableCollection.$metadata$ = classMeta('AbstractMutableCollection', [MutableCollection], undefined, undefined, undefined, AbstractCollection.prototype);
  function IteratorImpl_0($outer) {
    this.te_1 = $outer;
    this.re_1 = 0;
    this.se_1 = -1;
  }
  IteratorImpl_0.prototype.ue = function (_set____db54di) {
    this.re_1 = _set____db54di;
  };
  IteratorImpl_0.prototype.n = function () {
    return this.re_1 < this.te_1.m();
  };
  IteratorImpl_0.prototype.o = function () {
    if (!this.n())
      throw NoSuchElementException_init_$Create$();
    var tmp = this;
    var tmp0_this = this;
    var tmp1 = tmp0_this.re_1;
    tmp0_this.re_1 = tmp1 + 1 | 0;
    tmp.se_1 = tmp1;
    return this.te_1.r(this.se_1);
  };
  IteratorImpl_0.prototype.e4 = function () {
    {
      var tmp0_check = !(this.se_1 === -1);
      {
      }
      if (!tmp0_check) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Call next() or previous() before removing element from the iterator.';
        }
        var message = tmp$ret$0;
        throw IllegalStateException_init_$Create$_0(toString_4(message));
      }
    }
    this.te_1.d4(this.se_1);
    this.re_1 = this.se_1;
    this.se_1 = -1;
  };
  IteratorImpl_0.$metadata$ = classMeta('IteratorImpl', [MutableIterator]);
  function ListIteratorImpl($outer, index) {
    this.ze_1 = $outer;
    IteratorImpl_0.call(this, $outer);
    Companion_getInstance().d2(index, this.ze_1.m());
    this.ue(index);
  }
  ListIteratorImpl.$metadata$ = classMeta('ListIteratorImpl', [MutableListIterator], undefined, undefined, undefined, IteratorImpl_0.prototype);
  function AbstractMutableList$removeAll$lambda($elements) {
    return function (it) {
      return $elements.p(it);
    };
  }
  function AbstractMutableList() {
    AbstractMutableCollection.call(this);
    this.ve_1 = 0;
  }
  AbstractMutableList.prototype.af = function (_set____db54di) {
    this.ve_1 = _set____db54di;
  };
  AbstractMutableList.prototype.bf = function () {
    return this.ve_1;
  };
  AbstractMutableList.prototype.b = function (element) {
    this.qe();
    this.cf(this.m(), element);
    return true;
  };
  AbstractMutableList.prototype.t7 = function () {
    this.qe();
    this.df(0, this.m());
  };
  AbstractMutableList.prototype.f4 = function (elements) {
    this.qe();
    return removeAll_0(this, AbstractMutableList$removeAll$lambda(elements));
  };
  AbstractMutableList.prototype.h = function () {
    return new IteratorImpl_0(this);
  };
  AbstractMutableList.prototype.p = function (element) {
    return this.u(element) >= 0;
  };
  AbstractMutableList.prototype.u = function (element) {
    var inductionVariable = 0;
    var last = get_lastIndex_3(this);
    if (inductionVariable <= last)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if (equals_1(this.r(index), element)) {
          return index;
        }
      }
       while (!(index === last));
    return -1;
  };
  AbstractMutableList.prototype.ef = function () {
    return this.ff(0);
  };
  AbstractMutableList.prototype.ff = function (index) {
    return new ListIteratorImpl(this, index);
  };
  AbstractMutableList.prototype.df = function (fromIndex, toIndex) {
    var iterator = this.ff(fromIndex);
    {
      var tmp0_repeat = toIndex - fromIndex | 0;
      {
      }
      var inductionVariable = 0;
      if (inductionVariable < tmp0_repeat)
        do {
          var index = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          {
            iterator.o();
            iterator.e4();
          }
        }
         while (inductionVariable < tmp0_repeat);
    }
  };
  AbstractMutableList.prototype.equals = function (other) {
    if (other === this)
      return true;
    if (!(!(other == null) ? isInterface(other, List_0) : false))
      return false;
    return Companion_getInstance().h2(this, other);
  };
  AbstractMutableList.prototype.hashCode = function () {
    return Companion_getInstance().g2(this);
  };
  AbstractMutableList.$metadata$ = classMeta('AbstractMutableList', [MutableList_0], undefined, undefined, undefined, AbstractMutableCollection.prototype);
  function AbstractMutableMap$keys$1$iterator$1($entryIterator) {
    this.gf_1 = $entryIterator;
  }
  AbstractMutableMap$keys$1$iterator$1.prototype.n = function () {
    return this.gf_1.n();
  };
  AbstractMutableMap$keys$1$iterator$1.prototype.o = function () {
    return this.gf_1.o().j2();
  };
  AbstractMutableMap$keys$1$iterator$1.prototype.e4 = function () {
    return this.gf_1.e4();
  };
  AbstractMutableMap$keys$1$iterator$1.$metadata$ = classMeta(undefined, [MutableIterator]);
  function AbstractMutableMap$values$1$iterator$1($entryIterator) {
    this.hf_1 = $entryIterator;
  }
  AbstractMutableMap$values$1$iterator$1.prototype.n = function () {
    return this.hf_1.n();
  };
  AbstractMutableMap$values$1$iterator$1.prototype.o = function () {
    return this.hf_1.o().l2();
  };
  AbstractMutableMap$values$1$iterator$1.prototype.e4 = function () {
    return this.hf_1.e4();
  };
  AbstractMutableMap$values$1$iterator$1.$metadata$ = classMeta(undefined, [MutableIterator]);
  function SimpleEntry(key, value) {
    this.if_1 = key;
    this.jf_1 = value;
  }
  SimpleEntry.prototype.j2 = function () {
    return this.if_1;
  };
  SimpleEntry.prototype.l2 = function () {
    return this.jf_1;
  };
  SimpleEntry.prototype.kf = function (newValue) {
    var oldValue = this.jf_1;
    this.jf_1 = newValue;
    return oldValue;
  };
  SimpleEntry.prototype.hashCode = function () {
    return Companion_getInstance_0().m2(this);
  };
  SimpleEntry.prototype.toString = function () {
    return Companion_getInstance_0().n2(this);
  };
  SimpleEntry.prototype.equals = function (other) {
    return Companion_getInstance_0().o2(this, other);
  };
  SimpleEntry.$metadata$ = classMeta('SimpleEntry', [MutableEntry]);
  function AbstractEntrySet() {
    AbstractMutableSet.call(this);
  }
  AbstractEntrySet.prototype.p = function (element) {
    return this.lf(element);
  };
  AbstractEntrySet.prototype.c4 = function (element) {
    return this.mf(element);
  };
  AbstractEntrySet.$metadata$ = classMeta('AbstractEntrySet', undefined, undefined, undefined, undefined, AbstractMutableSet.prototype);
  function AbstractMutableMap$keys$1(this$0) {
    this.nf_1 = this$0;
    AbstractMutableSet.call(this);
  }
  AbstractMutableMap$keys$1.prototype.of = function (element) {
    throw UnsupportedOperationException_init_$Create$_0('Add is not supported on keys');
  };
  AbstractMutableMap$keys$1.prototype.b = function (element) {
    return this.of((element == null ? true : isObject(element)) ? element : THROW_CCE());
  };
  AbstractMutableMap$keys$1.prototype.t7 = function () {
    this.nf_1.t7();
  };
  AbstractMutableMap$keys$1.prototype.q2 = function (element) {
    return this.nf_1.t2(element);
  };
  AbstractMutableMap$keys$1.prototype.p = function (element) {
    if (!(element == null ? true : isObject(element)))
      return false;
    return this.q2((element == null ? true : isObject(element)) ? element : THROW_CCE());
  };
  AbstractMutableMap$keys$1.prototype.h = function () {
    var entryIterator = this.nf_1.y().h();
    return new AbstractMutableMap$keys$1$iterator$1(entryIterator);
  };
  AbstractMutableMap$keys$1.prototype.tf = function (element) {
    this.qe();
    if (this.nf_1.t2(element)) {
      this.nf_1.tf(element);
      return true;
    }
    return false;
  };
  AbstractMutableMap$keys$1.prototype.c4 = function (element) {
    if (!(element == null ? true : isObject(element)))
      return false;
    return this.tf((element == null ? true : isObject(element)) ? element : THROW_CCE());
  };
  AbstractMutableMap$keys$1.prototype.m = function () {
    return this.nf_1.m();
  };
  AbstractMutableMap$keys$1.prototype.qe = function () {
    return this.nf_1.qe();
  };
  AbstractMutableMap$keys$1.$metadata$ = classMeta(undefined, undefined, undefined, undefined, undefined, AbstractMutableSet.prototype);
  function AbstractMutableMap$values$1(this$0) {
    this.uf_1 = this$0;
    AbstractMutableCollection.call(this);
  }
  AbstractMutableMap$values$1.prototype.vf = function (element) {
    throw UnsupportedOperationException_init_$Create$_0('Add is not supported on values');
  };
  AbstractMutableMap$values$1.prototype.b = function (element) {
    return this.vf((element == null ? true : isObject(element)) ? element : THROW_CCE());
  };
  AbstractMutableMap$values$1.prototype.w2 = function (element) {
    return this.uf_1.x2(element);
  };
  AbstractMutableMap$values$1.prototype.p = function (element) {
    if (!(element == null ? true : isObject(element)))
      return false;
    return this.w2((element == null ? true : isObject(element)) ? element : THROW_CCE());
  };
  AbstractMutableMap$values$1.prototype.h = function () {
    var entryIterator = this.uf_1.y().h();
    return new AbstractMutableMap$values$1$iterator$1(entryIterator);
  };
  AbstractMutableMap$values$1.prototype.m = function () {
    return this.uf_1.m();
  };
  AbstractMutableMap$values$1.prototype.qe = function () {
    return this.uf_1.qe();
  };
  AbstractMutableMap$values$1.$metadata$ = classMeta(undefined, undefined, undefined, undefined, undefined, AbstractMutableCollection.prototype);
  function AbstractMutableMap() {
    AbstractMap.call(this);
    this.rf_1 = null;
    this.sf_1 = null;
  }
  AbstractMutableMap.prototype.t7 = function () {
    this.y().t7();
  };
  AbstractMutableMap.prototype.a3 = function () {
    if (this.rf_1 == null) {
      var tmp = this;
      tmp.rf_1 = new AbstractMutableMap$keys$1(this);
    }
    return ensureNotNull(this.rf_1);
  };
  AbstractMutableMap.prototype.b4 = function (from) {
    this.qe();
    var tmp$ret$0;
    {
      tmp$ret$0 = from.y().h();
    }
    var tmp0_iterator = tmp$ret$0;
    while (tmp0_iterator.n()) {
      var tmp1_loop_parameter = tmp0_iterator.o();
      var tmp$ret$1;
      {
        tmp$ret$1 = tmp1_loop_parameter.j2();
      }
      var key = tmp$ret$1;
      var tmp$ret$2;
      {
        tmp$ret$2 = tmp1_loop_parameter.l2();
      }
      var value = tmp$ret$2;
      this.a(key, value);
    }
  };
  AbstractMutableMap.prototype.b3 = function () {
    if (this.sf_1 == null) {
      var tmp = this;
      tmp.sf_1 = new AbstractMutableMap$values$1(this);
    }
    return ensureNotNull(this.sf_1);
  };
  AbstractMutableMap.prototype.tf = function (key) {
    this.qe();
    var iter = this.y().h();
    while (iter.n()) {
      var entry = iter.o();
      var k = entry.j2();
      if (equals_1(key, k)) {
        var value = entry.l2();
        iter.e4();
        return value;
      }
    }
    return null;
  };
  AbstractMutableMap.prototype.qe = function () {
  };
  AbstractMutableMap.$metadata$ = classMeta('AbstractMutableMap', [MutableMap], undefined, undefined, undefined, AbstractMap.prototype);
  function AbstractMutableSet() {
    AbstractMutableCollection.call(this);
  }
  AbstractMutableSet.prototype.equals = function (other) {
    if (other === this)
      return true;
    if (!(!(other == null) ? isInterface(other, Set) : false))
      return false;
    return Companion_getInstance_1().d3(this, other);
  };
  AbstractMutableSet.prototype.hashCode = function () {
    return Companion_getInstance_1().c3(this);
  };
  AbstractMutableSet.$metadata$ = classMeta('AbstractMutableSet', [MutableSet], undefined, undefined, undefined, AbstractMutableCollection.prototype);
  function ArrayList_init_$Init$($this) {
    var tmp$ret$0;
    {
      tmp$ret$0 = [];
    }
    ArrayList.call($this, tmp$ret$0);
    return $this;
  }
  function ArrayList_init_$Create$() {
    return ArrayList_init_$Init$(Object.create(ArrayList.prototype));
  }
  function ArrayList_init_$Init$_0(initialCapacity, $this) {
    var tmp$ret$0;
    {
      tmp$ret$0 = [];
    }
    ArrayList.call($this, tmp$ret$0);
    return $this;
  }
  function ArrayList_init_$Create$_0(initialCapacity) {
    return ArrayList_init_$Init$_0(initialCapacity, Object.create(ArrayList.prototype));
  }
  function ArrayList_init_$Init$_1(elements, $this) {
    var tmp$ret$0;
    {
      tmp$ret$0 = copyToArray(elements);
    }
    ArrayList.call($this, tmp$ret$0);
    return $this;
  }
  function ArrayList_init_$Create$_1(elements) {
    return ArrayList_init_$Init$_1(elements, Object.create(ArrayList.prototype));
  }
  function rangeCheck($this, index) {
    var tmp$ret$0;
    {
      {
      }
      {
        Companion_getInstance().c2(index, $this.m());
      }
      tmp$ret$0 = index;
    }
    return tmp$ret$0;
  }
  function insertionRangeCheck($this, index) {
    var tmp$ret$0;
    {
      {
      }
      {
        Companion_getInstance().d2(index, $this.m());
      }
      tmp$ret$0 = index;
    }
    return tmp$ret$0;
  }
  function ArrayList(array) {
    AbstractMutableList.call(this);
    this.e_1 = array;
    this.f_1 = false;
  }
  ArrayList.prototype.wf = function (minCapacity) {
  };
  ArrayList.prototype.m = function () {
    return this.e_1.length;
  };
  ArrayList.prototype.r = function (index) {
    var tmp = this.e_1[rangeCheck(this, index)];
    return (tmp == null ? true : isObject(tmp)) ? tmp : THROW_CCE();
  };
  ArrayList.prototype.t = function (index, element) {
    this.qe();
    rangeCheck(this, index);
    var tmp$ret$0;
    {
      var tmp0_apply = this.e_1[index];
      {
      }
      {
        this.e_1[index] = element;
      }
      tmp$ret$0 = tmp0_apply;
    }
    var tmp = tmp$ret$0;
    return (tmp == null ? true : isObject(tmp)) ? tmp : THROW_CCE();
  };
  ArrayList.prototype.b = function (element) {
    this.qe();
    var tmp$ret$0;
    {
      var tmp0_asDynamic = this.e_1;
      tmp$ret$0 = tmp0_asDynamic;
    }
    tmp$ret$0.push(element);
    var tmp0_this = this;
    var tmp1 = tmp0_this.bf();
    tmp0_this.af(tmp1 + 1 | 0);
    return true;
  };
  ArrayList.prototype.cf = function (index, element) {
    this.qe();
    var tmp$ret$0;
    {
      var tmp0_asDynamic = this.e_1;
      tmp$ret$0 = tmp0_asDynamic;
    }
    tmp$ret$0.splice(insertionRangeCheck(this, index), 0, element);
    var tmp0_this = this;
    var tmp1 = tmp0_this.bf();
    tmp0_this.af(tmp1 + 1 | 0);
  };
  ArrayList.prototype.m1 = function (elements) {
    this.qe();
    if (elements.q())
      return false;
    var tmp0_this = this;
    var tmp = tmp0_this;
    var tmp$ret$2;
    {
      var tmp0_plus = tmp0_this.e_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = copyToArray(elements);
      }
      var tmp1_plus = tmp$ret$0;
      var tmp$ret$1;
      {
        tmp$ret$1 = tmp0_plus;
      }
      tmp$ret$2 = tmp$ret$1.concat(tmp1_plus);
    }
    tmp.e_1 = tmp$ret$2;
    var tmp1_this = this;
    var tmp2 = tmp1_this.bf();
    tmp1_this.af(tmp2 + 1 | 0);
    return true;
  };
  ArrayList.prototype.d4 = function (index) {
    this.qe();
    rangeCheck(this, index);
    var tmp0_this = this;
    var tmp1 = tmp0_this.bf();
    tmp0_this.af(tmp1 + 1 | 0);
    var tmp;
    if (index === get_lastIndex_3(this)) {
      var tmp$ret$0;
      {
        var tmp0_asDynamic = this.e_1;
        tmp$ret$0 = tmp0_asDynamic;
      }
      tmp = tmp$ret$0.pop();
    } else {
      var tmp$ret$1;
      {
        var tmp1_asDynamic = this.e_1;
        tmp$ret$1 = tmp1_asDynamic;
      }
      tmp = tmp$ret$1.splice(index, 1)[0];
    }
    return tmp;
  };
  ArrayList.prototype.c4 = function (element) {
    this.qe();
    var inductionVariable = 0;
    var last = this.e_1.length - 1 | 0;
    if (inductionVariable <= last)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if (equals_1(this.e_1[index], element)) {
          var tmp$ret$0;
          {
            var tmp0_asDynamic = this.e_1;
            tmp$ret$0 = tmp0_asDynamic;
          }
          tmp$ret$0.splice(index, 1);
          var tmp1_this = this;
          var tmp2 = tmp1_this.bf();
          tmp1_this.af(tmp2 + 1 | 0);
          return true;
        }
      }
       while (inductionVariable <= last);
    return false;
  };
  ArrayList.prototype.df = function (fromIndex, toIndex) {
    this.qe();
    var tmp0_this = this;
    var tmp1 = tmp0_this.bf();
    tmp0_this.af(tmp1 + 1 | 0);
    var tmp$ret$0;
    {
      var tmp0_asDynamic = this.e_1;
      tmp$ret$0 = tmp0_asDynamic;
    }
    tmp$ret$0.splice(fromIndex, toIndex - fromIndex | 0);
  };
  ArrayList.prototype.t7 = function () {
    this.qe();
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = [];
    }
    tmp.e_1 = tmp$ret$0;
    var tmp0_this = this;
    var tmp1 = tmp0_this.bf();
    tmp0_this.af(tmp1 + 1 | 0);
  };
  ArrayList.prototype.u = function (element) {
    return indexOf(this.e_1, element);
  };
  ArrayList.prototype.toString = function () {
    return arrayToString(this.e_1);
  };
  ArrayList.prototype.e6 = function () {
    return [].slice.call(this.e_1);
  };
  ArrayList.prototype.toArray = function () {
    return this.e6();
  };
  ArrayList.prototype.qe = function () {
    if (this.f_1)
      throw UnsupportedOperationException_init_$Create$();
  };
  ArrayList.$metadata$ = classMeta('ArrayList', [MutableList_0, RandomAccess], undefined, undefined, undefined, AbstractMutableList.prototype);
  var _stableSortingIsSupported;
  function sortArrayWith(array, comparator) {
    if (getStableSortingIsSupported()) {
      var comparison = sortArrayWith$lambda(comparator);
      var tmp$ret$0;
      {
        tmp$ret$0 = array;
      }
      tmp$ret$0.sort(comparison);
    } else {
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          tmp$ret$1 = array;
        }
        tmp$ret$2 = tmp$ret$1;
      }
      mergeSort(tmp$ret$2, 0, get_lastIndex(array), comparator);
    }
  }
  function getStableSortingIsSupported() {
    var tmp0_safe_receiver = _stableSortingIsSupported;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        return tmp0_safe_receiver;
      }
    }
    _stableSortingIsSupported = false;
    var tmp$ret$1;
    {
      var tmp0_unsafeCast = [];
      tmp$ret$1 = tmp0_unsafeCast;
    }
    var array = tmp$ret$1;
    var inductionVariable = 0;
    if (inductionVariable < 600)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tmp$ret$2;
        {
          tmp$ret$2 = array;
        }
        tmp$ret$2.push(index);
      }
       while (inductionVariable < 600);
    var comparison = getStableSortingIsSupported$lambda();
    var tmp$ret$3;
    {
      tmp$ret$3 = array;
    }
    tmp$ret$3.sort(comparison);
    var inductionVariable_0 = 1;
    var last = array.length;
    if (inductionVariable_0 < last)
      do {
        var index_0 = inductionVariable_0;
        inductionVariable_0 = inductionVariable_0 + 1 | 0;
        var a = array[index_0 - 1 | 0];
        var b = array[index_0];
        if ((a & 3) === (b & 3) ? a >= b : false)
          return false;
      }
       while (inductionVariable_0 < last);
    _stableSortingIsSupported = true;
    return true;
  }
  function mergeSort(array, start, endInclusive, comparator) {
    var tmp$ret$2;
    {
      var tmp$ret$0;
      {
        var tmp0_arrayOfNulls = array.length;
        tmp$ret$0 = fillArrayVal(Array(tmp0_arrayOfNulls), null);
      }
      var tmp1_unsafeCast = tmp$ret$0;
      var tmp$ret$1;
      {
        tmp$ret$1 = tmp1_unsafeCast;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    var buffer = tmp$ret$2;
    var result = mergeSort_0(array, buffer, start, endInclusive, comparator);
    if (!(result === array)) {
      var inductionVariable = start;
      if (inductionVariable <= endInclusive)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          array[i] = result[i];
        }
         while (!(i === endInclusive));
    }
  }
  function mergeSort_0(array, buffer, start, end, comparator) {
    if (start === end) {
      return array;
    }
    var median = (start + end | 0) / 2 | 0;
    var left = mergeSort_0(array, buffer, start, median, comparator);
    var right = mergeSort_0(array, buffer, median + 1 | 0, end, comparator);
    var target = left === buffer ? array : buffer;
    var leftIndex = start;
    var rightIndex = median + 1 | 0;
    var inductionVariable = start;
    if (inductionVariable <= end)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if (leftIndex <= median ? rightIndex <= end : false) {
          var leftValue = left[leftIndex];
          var rightValue = right[rightIndex];
          if (comparator.compare(leftValue, rightValue) <= 0) {
            target[i] = leftValue;
            var tmp1 = leftIndex;
            leftIndex = tmp1 + 1 | 0;
          } else {
            target[i] = rightValue;
            var tmp2 = rightIndex;
            rightIndex = tmp2 + 1 | 0;
          }
        } else if (leftIndex <= median) {
          target[i] = left[leftIndex];
          var tmp3 = leftIndex;
          leftIndex = tmp3 + 1 | 0;
        } else {
          target[i] = right[rightIndex];
          var tmp4 = rightIndex;
          rightIndex = tmp4 + 1 | 0;
        }
      }
       while (!(i === end));
    return target;
  }
  function sortArray(array) {
    if (getStableSortingIsSupported()) {
      var comparison = sortArray$lambda();
      var tmp$ret$0;
      {
        tmp$ret$0 = array;
      }
      tmp$ret$0.sort(comparison);
    } else {
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          tmp$ret$1 = array;
        }
        tmp$ret$2 = tmp$ret$1;
      }
      mergeSort(tmp$ret$2, 0, get_lastIndex(array), naturalOrder());
    }
  }
  function sortArrayWith$lambda($comparator) {
    return function (a, b) {
      return $comparator.compare(a, b);
    };
  }
  function getStableSortingIsSupported$lambda() {
    return function (a, b) {
      return (a & 3) - (b & 3) | 0;
    };
  }
  function sortArray$lambda() {
    return function (a, b) {
      return compareTo_0(a, b);
    };
  }
  function HashCode() {
    HashCode_instance = this;
  }
  HashCode.prototype.xf = function (value1, value2) {
    return equals_1(value1, value2);
  };
  HashCode.prototype.yf = function (value) {
    var tmp0_safe_receiver = value;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : hashCode_0(tmp0_safe_receiver);
    return tmp1_elvis_lhs == null ? 0 : tmp1_elvis_lhs;
  };
  HashCode.$metadata$ = objectMeta('HashCode', [EqualityComparator]);
  var HashCode_instance;
  function HashCode_getInstance() {
    if (HashCode_instance == null)
      new HashCode();
    return HashCode_instance;
  }
  function EqualityComparator() {
  }
  EqualityComparator.$metadata$ = interfaceMeta('EqualityComparator');
  function EntrySet($outer) {
    this.zf_1 = $outer;
    AbstractEntrySet.call(this);
  }
  EntrySet.prototype.ag = function (element) {
    throw UnsupportedOperationException_init_$Create$_0('Add is not supported on entries');
  };
  EntrySet.prototype.b = function (element) {
    return this.ag((!(element == null) ? isInterface(element, MutableEntry) : false) ? element : THROW_CCE());
  };
  EntrySet.prototype.t7 = function () {
    this.zf_1.t7();
  };
  EntrySet.prototype.lf = function (element) {
    return this.zf_1.y2(element);
  };
  EntrySet.prototype.h = function () {
    return this.zf_1.fg_1.h();
  };
  EntrySet.prototype.mf = function (element) {
    if (contains_1(this, element)) {
      this.zf_1.tf(element.j2());
      return true;
    }
    return false;
  };
  EntrySet.prototype.m = function () {
    return this.zf_1.m();
  };
  EntrySet.$metadata$ = classMeta('EntrySet', undefined, undefined, undefined, undefined, AbstractEntrySet.prototype);
  function HashMap_init_$Init$(internalMap, $this) {
    AbstractMutableMap.call($this);
    HashMap.call($this);
    $this.fg_1 = internalMap;
    $this.gg_1 = internalMap.ig();
    return $this;
  }
  function HashMap_init_$Init$_0($this) {
    HashMap_init_$Init$(new InternalHashCodeMap(HashCode_getInstance()), $this);
    return $this;
  }
  function HashMap_init_$Create$() {
    return HashMap_init_$Init$_0(Object.create(HashMap.prototype));
  }
  function HashMap_init_$Init$_1(initialCapacity, loadFactor, $this) {
    HashMap_init_$Init$_0($this);
    {
      var tmp0_require = initialCapacity >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Negative initial capacity: ' + initialCapacity;
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message));
      }
    }
    {
      var tmp1_require = loadFactor >= 0;
      {
      }
      if (!tmp1_require) {
        var tmp$ret$1;
        {
          tmp$ret$1 = 'Non-positive load factor: ' + loadFactor;
        }
        var message_0 = tmp$ret$1;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message_0));
      }
    }
    return $this;
  }
  function HashMap_init_$Create$_0(initialCapacity, loadFactor) {
    return HashMap_init_$Init$_1(initialCapacity, loadFactor, Object.create(HashMap.prototype));
  }
  function HashMap_init_$Init$_2(initialCapacity, $this) {
    HashMap_init_$Init$_1(initialCapacity, 0.0, $this);
    return $this;
  }
  function HashMap_init_$Create$_1(initialCapacity) {
    return HashMap_init_$Init$_2(initialCapacity, Object.create(HashMap.prototype));
  }
  function HashMap_init_$Init$_3(original, $this) {
    HashMap_init_$Init$_0($this);
    $this.b4(original);
    return $this;
  }
  function HashMap_init_$Create$_2(original) {
    return HashMap_init_$Init$_3(original, Object.create(HashMap.prototype));
  }
  HashMap.prototype.t7 = function () {
    this.fg_1.t7();
  };
  HashMap.prototype.t2 = function (key) {
    return this.fg_1.q2(key);
  };
  HashMap.prototype.x2 = function (value) {
    var tmp$ret$0;
    $l$block_0: {
      var tmp0_any = this.fg_1;
      var tmp;
      if (isInterface(tmp0_any, Collection)) {
        tmp = tmp0_any.q();
      } else {
        tmp = false;
      }
      if (tmp) {
        tmp$ret$0 = false;
        break $l$block_0;
      }
      var tmp0_iterator = tmp0_any.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$1;
        {
          tmp$ret$1 = this.gg_1.xf(element.l2(), value);
        }
        if (tmp$ret$1) {
          tmp$ret$0 = true;
          break $l$block_0;
        }
      }
      tmp$ret$0 = false;
    }
    return tmp$ret$0;
  };
  HashMap.prototype.y = function () {
    if (this.hg_1 == null) {
      this.hg_1 = this.jg();
    }
    return ensureNotNull(this.hg_1);
  };
  HashMap.prototype.jg = function () {
    return new EntrySet(this);
  };
  HashMap.prototype.z2 = function (key) {
    return this.fg_1.z2(key);
  };
  HashMap.prototype.a = function (key, value) {
    return this.fg_1.a(key, value);
  };
  HashMap.prototype.tf = function (key) {
    return this.fg_1.tf(key);
  };
  HashMap.prototype.m = function () {
    return this.fg_1.m();
  };
  function HashMap() {
    this.hg_1 = null;
  }
  HashMap.$metadata$ = classMeta('HashMap', [MutableMap], undefined, undefined, undefined, AbstractMutableMap.prototype);
  function HashSet_init_$Init$($this) {
    AbstractMutableSet.call($this);
    HashSet.call($this);
    $this.kg_1 = HashMap_init_$Create$();
    return $this;
  }
  function HashSet_init_$Create$() {
    return HashSet_init_$Init$(Object.create(HashSet.prototype));
  }
  function HashSet_init_$Init$_0(elements, $this) {
    AbstractMutableSet.call($this);
    HashSet.call($this);
    $this.kg_1 = HashMap_init_$Create$_1(elements.m());
    $this.m1(elements);
    return $this;
  }
  function HashSet_init_$Create$_0(elements) {
    return HashSet_init_$Init$_0(elements, Object.create(HashSet.prototype));
  }
  function HashSet_init_$Init$_1(initialCapacity, loadFactor, $this) {
    AbstractMutableSet.call($this);
    HashSet.call($this);
    $this.kg_1 = HashMap_init_$Create$_0(initialCapacity, loadFactor);
    return $this;
  }
  function HashSet_init_$Init$_2(initialCapacity, $this) {
    HashSet_init_$Init$_1(initialCapacity, 0.0, $this);
    return $this;
  }
  function HashSet_init_$Create$_1(initialCapacity) {
    return HashSet_init_$Init$_2(initialCapacity, Object.create(HashSet.prototype));
  }
  function HashSet_init_$Init$_3(map, $this) {
    AbstractMutableSet.call($this);
    HashSet.call($this);
    $this.kg_1 = map;
    return $this;
  }
  HashSet.prototype.lg = function () {
    return this.kg_1;
  };
  HashSet.prototype.b = function (element) {
    var old = this.kg_1.a(element, this);
    return old == null;
  };
  HashSet.prototype.t7 = function () {
    this.kg_1.t7();
  };
  HashSet.prototype.p = function (element) {
    return this.kg_1.t2(element);
  };
  HashSet.prototype.q = function () {
    return this.kg_1.q();
  };
  HashSet.prototype.h = function () {
    return this.kg_1.a3().h();
  };
  HashSet.prototype.c4 = function (element) {
    return !(this.kg_1.tf(element) == null);
  };
  HashSet.prototype.m = function () {
    return this.kg_1.m();
  };
  function HashSet() {
  }
  HashSet.$metadata$ = classMeta('HashSet', [MutableSet], undefined, undefined, undefined, AbstractMutableSet.prototype);
  function computeNext($this) {
    if ($this.pg_1 != null ? $this.qg_1 : false) {
      var tmp$ret$0;
      {
        var tmp0_unsafeCast = $this.pg_1;
        tmp$ret$0 = tmp0_unsafeCast;
      }
      var chainSize = tmp$ret$0.length;
      var tmp0_this = $this;
      tmp0_this.rg_1 = tmp0_this.rg_1 + 1 | 0;
      if (tmp0_this.rg_1 < chainSize)
        return 0;
    }
    var tmp1_this = $this;
    tmp1_this.og_1 = tmp1_this.og_1 + 1 | 0;
    if (tmp1_this.og_1 < $this.ng_1.length) {
      $this.pg_1 = $this.tg_1.vg_1[$this.ng_1[$this.og_1]];
      var tmp = $this;
      var tmp_0 = $this.pg_1;
      tmp.qg_1 = !(tmp_0 == null) ? isArray(tmp_0) : false;
      $this.rg_1 = 0;
      return 0;
    } else {
      $this.pg_1 = null;
      return 1;
    }
  }
  function getEntry($this, key) {
    var tmp0_elvis_lhs = getChainOrEntryOrNull($this, $this.ug_1.yf(key));
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return null;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var chainOrEntry = tmp;
    if (!(!(chainOrEntry == null) ? isArray(chainOrEntry) : false)) {
      var entry = chainOrEntry;
      if ($this.ug_1.xf(entry.j2(), key)) {
        return entry;
      } else {
        return null;
      }
    } else {
      var chain = chainOrEntry;
      return findEntryInChain(chain, $this, key);
    }
  }
  function findEntryInChain(_this__u8e3s4, $this, key) {
    var tmp$ret$1;
    $l$block: {
      var indexedObject = _this__u8e3s4;
      var inductionVariable = 0;
      var last = indexedObject.length;
      while (inductionVariable < last) {
        var element = indexedObject[inductionVariable];
        inductionVariable = inductionVariable + 1 | 0;
        var tmp$ret$0;
        {
          tmp$ret$0 = $this.ug_1.xf(element.j2(), key);
        }
        if (tmp$ret$0) {
          tmp$ret$1 = element;
          break $l$block;
        }
      }
      tmp$ret$1 = null;
    }
    return tmp$ret$1;
  }
  function getChainOrEntryOrNull($this, hashCode) {
    var chainOrEntry = $this.vg_1[hashCode];
    return chainOrEntry === undefined ? null : chainOrEntry;
  }
  function InternalHashCodeMap$iterator$1(this$0) {
    this.tg_1 = this$0;
    this.mg_1 = -1;
    this.ng_1 = Object.keys(this$0.vg_1);
    this.og_1 = -1;
    this.pg_1 = null;
    this.qg_1 = false;
    this.rg_1 = -1;
    this.sg_1 = null;
  }
  InternalHashCodeMap$iterator$1.prototype.n = function () {
    if (this.mg_1 === -1)
      this.mg_1 = computeNext(this);
    return this.mg_1 === 0;
  };
  InternalHashCodeMap$iterator$1.prototype.o = function () {
    if (!this.n())
      throw NoSuchElementException_init_$Create$();
    var tmp;
    if (this.qg_1) {
      var tmp$ret$0;
      {
        var tmp0_unsafeCast = this.pg_1;
        tmp$ret$0 = tmp0_unsafeCast;
      }
      tmp = tmp$ret$0[this.rg_1];
    } else {
      var tmp$ret$1;
      {
        var tmp1_unsafeCast = this.pg_1;
        tmp$ret$1 = tmp1_unsafeCast;
      }
      tmp = tmp$ret$1;
    }
    var lastEntry = tmp;
    this.sg_1 = lastEntry;
    this.mg_1 = -1;
    return lastEntry;
  };
  InternalHashCodeMap$iterator$1.prototype.e4 = function () {
    var tmp$ret$2;
    {
      var tmp0_checkNotNull = this.sg_1;
      {
      }
      var tmp$ret$1;
      $l$block: {
        {
        }
        if (tmp0_checkNotNull == null) {
          var tmp$ret$0;
          {
            tmp$ret$0 = 'Required value was null.';
          }
          var message = tmp$ret$0;
          throw IllegalStateException_init_$Create$_0(toString_4(message));
        } else {
          tmp$ret$1 = tmp0_checkNotNull;
          break $l$block;
        }
      }
      tmp$ret$2 = tmp$ret$1;
    }
    this.tg_1.tf(ensureNotNull(this.sg_1).j2());
    this.sg_1 = null;
    var tmp0_this = this;
    var tmp1 = tmp0_this.rg_1;
    tmp0_this.rg_1 = tmp1 - 1 | 0;
  };
  InternalHashCodeMap$iterator$1.$metadata$ = classMeta(undefined, [MutableIterator]);
  function InternalHashCodeMap(equality) {
    this.ug_1 = equality;
    this.vg_1 = this.xg();
    this.wg_1 = 0;
  }
  InternalHashCodeMap.prototype.ig = function () {
    return this.ug_1;
  };
  InternalHashCodeMap.prototype.m = function () {
    return this.wg_1;
  };
  InternalHashCodeMap.prototype.a = function (key, value) {
    var hashCode = this.ug_1.yf(key);
    var chainOrEntry = getChainOrEntryOrNull(this, hashCode);
    if (chainOrEntry == null) {
      this.vg_1[hashCode] = new SimpleEntry(key, value);
    } else {
      if (!(!(chainOrEntry == null) ? isArray(chainOrEntry) : false)) {
        var entry = chainOrEntry;
        if (this.ug_1.xf(entry.j2(), key)) {
          return entry.kf(value);
        } else {
          var tmp$ret$2;
          {
            var tmp0_arrayOf = [entry, new SimpleEntry(key, value)];
            var tmp$ret$1;
            {
              var tmp$ret$0;
              {
                tmp$ret$0 = tmp0_arrayOf;
              }
              tmp$ret$1 = tmp$ret$0;
            }
            tmp$ret$2 = tmp$ret$1;
          }
          this.vg_1[hashCode] = tmp$ret$2;
          var tmp0_this = this;
          var tmp1 = tmp0_this.wg_1;
          tmp0_this.wg_1 = tmp1 + 1 | 0;
          return null;
        }
      } else {
        var chain = chainOrEntry;
        var entry_0 = findEntryInChain(chain, this, key);
        if (!(entry_0 == null)) {
          return entry_0.kf(value);
        }
        var tmp$ret$3;
        {
          tmp$ret$3 = chain;
        }
        tmp$ret$3.push(new SimpleEntry(key, value));
      }
    }
    var tmp2_this = this;
    var tmp3 = tmp2_this.wg_1;
    tmp2_this.wg_1 = tmp3 + 1 | 0;
    return null;
  };
  InternalHashCodeMap.prototype.tf = function (key) {
    var hashCode = this.ug_1.yf(key);
    var tmp0_elvis_lhs = getChainOrEntryOrNull(this, hashCode);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return null;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var chainOrEntry = tmp;
    if (!(!(chainOrEntry == null) ? isArray(chainOrEntry) : false)) {
      var entry = chainOrEntry;
      if (this.ug_1.xf(entry.j2(), key)) {
        jsDeleteProperty(this.vg_1, hashCode);
        var tmp1_this = this;
        var tmp2 = tmp1_this.wg_1;
        tmp1_this.wg_1 = tmp2 - 1 | 0;
        return entry.l2();
      } else {
        return null;
      }
    } else {
      var chain = chainOrEntry;
      var inductionVariable = 0;
      var last = chain.length - 1 | 0;
      if (inductionVariable <= last)
        do {
          var index = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          var entry_0 = chain[index];
          if (this.ug_1.xf(key, entry_0.j2())) {
            if (chain.length === 1) {
              var tmp$ret$0;
              {
                tmp$ret$0 = chain;
              }
              tmp$ret$0.length = 0;
              jsDeleteProperty(this.vg_1, hashCode);
            } else {
              var tmp$ret$1;
              {
                tmp$ret$1 = chain;
              }
              tmp$ret$1.splice(index, 1);
            }
            var tmp4_this = this;
            var tmp5 = tmp4_this.wg_1;
            tmp4_this.wg_1 = tmp5 - 1 | 0;
            return entry_0.l2();
          }
        }
         while (inductionVariable <= last);
    }
    return null;
  };
  InternalHashCodeMap.prototype.t7 = function () {
    this.vg_1 = this.xg();
    this.wg_1 = 0;
  };
  InternalHashCodeMap.prototype.q2 = function (key) {
    return !(getEntry(this, key) == null);
  };
  InternalHashCodeMap.prototype.z2 = function (key) {
    var tmp0_safe_receiver = getEntry(this, key);
    return tmp0_safe_receiver == null ? null : tmp0_safe_receiver.l2();
  };
  InternalHashCodeMap.prototype.h = function () {
    return new InternalHashCodeMap$iterator$1(this);
  };
  InternalHashCodeMap.$metadata$ = classMeta('InternalHashCodeMap', [InternalMap]);
  function InternalMap() {
  }
  InternalMap.$metadata$ = interfaceMeta('InternalMap', [MutableIterable]);
  function EntryIterator($outer) {
    this.ah_1 = $outer;
    this.yg_1 = null;
    this.zg_1 = null;
    this.zg_1 = this.ah_1.lh_1.ih_1;
  }
  EntryIterator.prototype.n = function () {
    return !(this.zg_1 === null);
  };
  EntryIterator.prototype.o = function () {
    if (!this.n())
      throw NoSuchElementException_init_$Create$();
    var current = ensureNotNull(this.zg_1);
    this.yg_1 = current;
    var tmp = this;
    var tmp$ret$1;
    {
      var tmp0_takeIf = current.oh_1;
      {
      }
      var tmp_0;
      var tmp$ret$0;
      {
        tmp$ret$0 = !(tmp0_takeIf === this.ah_1.lh_1.ih_1);
      }
      if (tmp$ret$0) {
        tmp_0 = tmp0_takeIf;
      } else {
        tmp_0 = null;
      }
      tmp$ret$1 = tmp_0;
    }
    tmp.zg_1 = tmp$ret$1;
    return current;
  };
  EntryIterator.prototype.e4 = function () {
    {
      var tmp0_check = !(this.yg_1 == null);
      {
      }
      {
        {
        }
        if (!tmp0_check) {
          var tmp$ret$0;
          {
            tmp$ret$0 = 'Check failed.';
          }
          var message = tmp$ret$0;
          throw IllegalStateException_init_$Create$_0(toString_4(message));
        }
      }
    }
    this.ah_1.qe();
    remove(ensureNotNull(this.yg_1), this.ah_1.lh_1);
    this.ah_1.lh_1.jh_1.tf(ensureNotNull(this.yg_1).j2());
    this.yg_1 = null;
  };
  EntryIterator.$metadata$ = classMeta('EntryIterator', [MutableIterator]);
  function ChainEntry($outer, key, value) {
    this.qh_1 = $outer;
    SimpleEntry.call(this, key, value);
    this.oh_1 = null;
    this.ph_1 = null;
  }
  ChainEntry.prototype.kf = function (newValue) {
    this.qh_1.qe();
    return SimpleEntry.prototype.kf.call(this, newValue);
  };
  ChainEntry.$metadata$ = classMeta('ChainEntry', undefined, undefined, undefined, undefined, SimpleEntry.prototype);
  function EntrySet_0($outer) {
    this.lh_1 = $outer;
    AbstractEntrySet.call(this);
  }
  EntrySet_0.prototype.ag = function (element) {
    throw UnsupportedOperationException_init_$Create$_0('Add is not supported on entries');
  };
  EntrySet_0.prototype.b = function (element) {
    return this.ag((!(element == null) ? isInterface(element, MutableEntry) : false) ? element : THROW_CCE());
  };
  EntrySet_0.prototype.t7 = function () {
    this.lh_1.t7();
  };
  EntrySet_0.prototype.lf = function (element) {
    return this.lh_1.y2(element);
  };
  EntrySet_0.prototype.h = function () {
    return new EntryIterator(this);
  };
  EntrySet_0.prototype.mf = function (element) {
    this.qe();
    if (contains_1(this, element)) {
      this.lh_1.tf(element.j2());
      return true;
    }
    return false;
  };
  EntrySet_0.prototype.m = function () {
    return this.lh_1.m();
  };
  EntrySet_0.prototype.qe = function () {
    return this.lh_1.qe();
  };
  EntrySet_0.$metadata$ = classMeta('EntrySet', undefined, undefined, undefined, undefined, AbstractEntrySet.prototype);
  function addToEnd(_this__u8e3s4, $this) {
    {
      var tmp0_check = _this__u8e3s4.oh_1 == null ? _this__u8e3s4.ph_1 == null : false;
      {
      }
      {
        {
        }
        if (!tmp0_check) {
          var tmp$ret$0;
          {
            tmp$ret$0 = 'Check failed.';
          }
          var message = tmp$ret$0;
          throw IllegalStateException_init_$Create$_0(toString_4(message));
        }
      }
    }
    var _head = $this.ih_1;
    if (_head == null) {
      $this.ih_1 = _this__u8e3s4;
      _this__u8e3s4.oh_1 = _this__u8e3s4;
      _this__u8e3s4.ph_1 = _this__u8e3s4;
    } else {
      var tmp$ret$3;
      {
        var tmp1_checkNotNull = _head.ph_1;
        {
        }
        var tmp$ret$2;
        $l$block: {
          {
          }
          if (tmp1_checkNotNull == null) {
            var tmp$ret$1;
            {
              tmp$ret$1 = 'Required value was null.';
            }
            var message_0 = tmp$ret$1;
            throw IllegalStateException_init_$Create$_0(toString_4(message_0));
          } else {
            tmp$ret$2 = tmp1_checkNotNull;
            break $l$block;
          }
        }
        tmp$ret$3 = tmp$ret$2;
      }
      var _tail = tmp$ret$3;
      _this__u8e3s4.ph_1 = _tail;
      _this__u8e3s4.oh_1 = _head;
      _head.ph_1 = _this__u8e3s4;
      _tail.oh_1 = _this__u8e3s4;
    }
  }
  function remove(_this__u8e3s4, $this) {
    if (_this__u8e3s4.oh_1 === _this__u8e3s4) {
      $this.ih_1 = null;
    } else {
      if ($this.ih_1 === _this__u8e3s4) {
        $this.ih_1 = _this__u8e3s4.oh_1;
      }
      ensureNotNull(_this__u8e3s4.oh_1).ph_1 = _this__u8e3s4.ph_1;
      ensureNotNull(_this__u8e3s4.ph_1).oh_1 = _this__u8e3s4.oh_1;
    }
    _this__u8e3s4.oh_1 = null;
    _this__u8e3s4.ph_1 = null;
  }
  function LinkedHashMap_init_$Init$($this) {
    HashMap_init_$Init$_0($this);
    LinkedHashMap.call($this);
    $this.jh_1 = HashMap_init_$Create$();
    return $this;
  }
  function LinkedHashMap_init_$Create$() {
    return LinkedHashMap_init_$Init$(Object.create(LinkedHashMap.prototype));
  }
  function LinkedHashMap_init_$Init$_0(initialCapacity, loadFactor, $this) {
    HashMap_init_$Init$_1(initialCapacity, loadFactor, $this);
    LinkedHashMap.call($this);
    $this.jh_1 = HashMap_init_$Create$();
    return $this;
  }
  function LinkedHashMap_init_$Create$_0(initialCapacity, loadFactor) {
    return LinkedHashMap_init_$Init$_0(initialCapacity, loadFactor, Object.create(LinkedHashMap.prototype));
  }
  function LinkedHashMap_init_$Init$_1(initialCapacity, $this) {
    LinkedHashMap_init_$Init$_0(initialCapacity, 0.0, $this);
    return $this;
  }
  function LinkedHashMap_init_$Create$_1(initialCapacity) {
    return LinkedHashMap_init_$Init$_1(initialCapacity, Object.create(LinkedHashMap.prototype));
  }
  function LinkedHashMap_init_$Init$_2(original, $this) {
    HashMap_init_$Init$_0($this);
    LinkedHashMap.call($this);
    $this.jh_1 = HashMap_init_$Create$();
    $this.b4(original);
    return $this;
  }
  function LinkedHashMap_init_$Create$_2(original) {
    return LinkedHashMap_init_$Init$_2(original, Object.create(LinkedHashMap.prototype));
  }
  LinkedHashMap.prototype.t7 = function () {
    this.qe();
    this.jh_1.t7();
    this.ih_1 = null;
  };
  LinkedHashMap.prototype.t2 = function (key) {
    return this.jh_1.t2(key);
  };
  LinkedHashMap.prototype.x2 = function (value) {
    var tmp0_elvis_lhs = this.ih_1;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return false;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var node = tmp;
    do {
      if (equals_1(node.l2(), value)) {
        return true;
      }
      node = ensureNotNull(node.oh_1);
    }
     while (!(node === this.ih_1));
    return false;
  };
  LinkedHashMap.prototype.jg = function () {
    return new EntrySet_0(this);
  };
  LinkedHashMap.prototype.z2 = function (key) {
    var tmp0_safe_receiver = this.jh_1.z2(key);
    return tmp0_safe_receiver == null ? null : tmp0_safe_receiver.l2();
  };
  LinkedHashMap.prototype.a = function (key, value) {
    this.qe();
    var old = this.jh_1.z2(key);
    if (old == null) {
      var newEntry = new ChainEntry(this, key, value);
      this.jh_1.a(key, newEntry);
      addToEnd(newEntry, this);
      return null;
    } else {
      return old.kf(value);
    }
  };
  LinkedHashMap.prototype.tf = function (key) {
    this.qe();
    var entry = this.jh_1.tf(key);
    if (!(entry == null)) {
      remove(entry, this);
      return entry.l2();
    }
    return null;
  };
  LinkedHashMap.prototype.m = function () {
    return this.jh_1.m();
  };
  LinkedHashMap.prototype.qe = function () {
    if (this.kh_1)
      throw UnsupportedOperationException_init_$Create$();
  };
  function LinkedHashMap() {
    this.ih_1 = null;
    this.kh_1 = false;
  }
  LinkedHashMap.$metadata$ = classMeta('LinkedHashMap', [MutableMap], undefined, undefined, undefined, HashMap.prototype);
  function LinkedHashSet_init_$Init$($this) {
    HashSet_init_$Init$_3(LinkedHashMap_init_$Create$(), $this);
    LinkedHashSet.call($this);
    return $this;
  }
  function LinkedHashSet_init_$Create$() {
    return LinkedHashSet_init_$Init$(Object.create(LinkedHashSet.prototype));
  }
  function LinkedHashSet_init_$Init$_0(elements, $this) {
    HashSet_init_$Init$_3(LinkedHashMap_init_$Create$(), $this);
    LinkedHashSet.call($this);
    $this.m1(elements);
    return $this;
  }
  function LinkedHashSet_init_$Create$_0(elements) {
    return LinkedHashSet_init_$Init$_0(elements, Object.create(LinkedHashSet.prototype));
  }
  function LinkedHashSet_init_$Init$_1(initialCapacity, loadFactor, $this) {
    HashSet_init_$Init$_3(LinkedHashMap_init_$Create$_0(initialCapacity, loadFactor), $this);
    LinkedHashSet.call($this);
    return $this;
  }
  function LinkedHashSet_init_$Init$_2(initialCapacity, $this) {
    LinkedHashSet_init_$Init$_1(initialCapacity, 0.0, $this);
    return $this;
  }
  function LinkedHashSet_init_$Create$_1(initialCapacity) {
    return LinkedHashSet_init_$Init$_2(initialCapacity, Object.create(LinkedHashSet.prototype));
  }
  LinkedHashSet.prototype.qe = function () {
    return this.lg().qe();
  };
  function LinkedHashSet() {
  }
  LinkedHashSet.$metadata$ = classMeta('LinkedHashSet', [MutableSet], undefined, undefined, undefined, HashSet.prototype);
  function RandomAccess() {
  }
  RandomAccess.$metadata$ = interfaceMeta('RandomAccess');
  function get_output() {
    init_properties_console_kt_6h8hpf();
    return output;
  }
  var output;
  function BaseOutput() {
  }
  BaseOutput.prototype.sh = function () {
    this.th('\n');
  };
  BaseOutput.prototype.uh = function (message) {
    this.th(message);
    this.sh();
  };
  BaseOutput.$metadata$ = classMeta('BaseOutput');
  function NodeJsOutput(outputStream) {
    BaseOutput.call(this);
    this.vh_1 = outputStream;
  }
  NodeJsOutput.prototype.th = function (message) {
    var tmp$ret$0;
    {
      tmp$ret$0 = String(message);
    }
    var messageString = tmp$ret$0;
    this.vh_1.write(messageString);
  };
  NodeJsOutput.$metadata$ = classMeta('NodeJsOutput', undefined, undefined, undefined, undefined, BaseOutput.prototype);
  function BufferedOutputToConsoleLog() {
    BufferedOutput.call(this);
  }
  BufferedOutputToConsoleLog.prototype.th = function (message) {
    var tmp$ret$0;
    {
      tmp$ret$0 = String(message);
    }
    var s = tmp$ret$0;
    var tmp$ret$2;
    {
      var tmp0_nativeLastIndexOf = s;
      var tmp$ret$1;
      {
        tmp$ret$1 = tmp0_nativeLastIndexOf;
      }
      tmp$ret$2 = tmp$ret$1.lastIndexOf('\n', 0);
    }
    var i = tmp$ret$2;
    if (i >= 0) {
      var tmp0_this = this;
      var tmp = tmp0_this.yh();
      var tmp$ret$4;
      {
        var tmp1_substring = s;
        var tmp$ret$3;
        {
          tmp$ret$3 = tmp1_substring;
        }
        tmp$ret$4 = tmp$ret$3.substring(0, i);
      }
      tmp0_this.zh(tmp + tmp$ret$4);
      this.ai();
      var tmp$ret$6;
      {
        var tmp2_substring = s;
        var tmp3_substring = i + 1 | 0;
        var tmp$ret$5;
        {
          tmp$ret$5 = tmp2_substring;
        }
        tmp$ret$6 = tmp$ret$5.substring(tmp3_substring);
      }
      s = tmp$ret$6;
    }
    var tmp1_this = this;
    tmp1_this.zh(tmp1_this.yh() + s);
  };
  BufferedOutputToConsoleLog.prototype.ai = function () {
    console.log(this.yh());
    this.zh('');
  };
  BufferedOutputToConsoleLog.$metadata$ = classMeta('BufferedOutputToConsoleLog', undefined, undefined, undefined, undefined, BufferedOutput.prototype);
  function String_0(value) {
    init_properties_console_kt_6h8hpf();
    return String(value);
  }
  function BufferedOutput() {
    BaseOutput.call(this);
    this.xh_1 = '';
  }
  BufferedOutput.prototype.zh = function (_set____db54di) {
    this.xh_1 = _set____db54di;
  };
  BufferedOutput.prototype.yh = function () {
    return this.xh_1;
  };
  BufferedOutput.prototype.th = function (message) {
    var tmp0_this = this;
    var tmp = tmp0_this;
    var tmp_0 = tmp0_this.xh_1;
    var tmp$ret$0;
    {
      tmp$ret$0 = String(message);
    }
    tmp.xh_1 = tmp_0 + tmp$ret$0;
  };
  BufferedOutput.$metadata$ = classMeta('BufferedOutput', undefined, undefined, undefined, undefined, BaseOutput.prototype);
  function println(message) {
    init_properties_console_kt_6h8hpf();
    get_output().uh(message);
  }
  var properties_initialized_console_kt_gll9dl;
  function init_properties_console_kt_6h8hpf() {
    if (properties_initialized_console_kt_gll9dl) {
    } else {
      properties_initialized_console_kt_gll9dl = true;
      var tmp$ret$1;
      {
        {
        }
        var tmp$ret$0;
        {
          var isNode = typeof process !== 'undefined' && process.versions && !!process.versions.node;
          tmp$ret$0 = isNode ? new NodeJsOutput(process.stdout) : new BufferedOutputToConsoleLog();
        }
        tmp$ret$1 = tmp$ret$0;
      }
      output = tmp$ret$1;
    }
  }
  function CancellationException_init_$Init$(message, $this) {
    IllegalStateException_init_$Init$_0(message, $this);
    CancellationException.call($this);
    return $this;
  }
  function CancellationException_init_$Create$(message) {
    var tmp = CancellationException_init_$Init$(message, Object.create(CancellationException.prototype));
    captureStack(tmp, CancellationException_init_$Create$);
    return tmp;
  }
  function CancellationException_init_$Init$_0(message, cause, $this) {
    IllegalStateException_init_$Init$_1(message, cause, $this);
    CancellationException.call($this);
    return $this;
  }
  function CancellationException() {
    captureStack(this, CancellationException);
  }
  CancellationException.$metadata$ = classMeta('CancellationException', undefined, undefined, undefined, undefined, IllegalStateException.prototype);
  function asDynamic(_this__u8e3s4) {
    return _this__u8e3s4;
  }
  function unsafeCastDynamic(_this__u8e3s4) {
    return _this__u8e3s4;
  }
  function unsafeCast(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0;
  }
  function Serializable() {
  }
  Serializable.$metadata$ = interfaceMeta('Serializable');
  function nativeFill(_this__u8e3s4, element, fromIndex, toIndex) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    tmp$ret$0.fill(element, fromIndex, toIndex);
  }
  function pow(_this__u8e3s4, n) {
    return Math.pow(_this__u8e3s4, n);
  }
  function abs(n) {
    return n < 0 ? -n | 0 | 0 : n;
  }
  function sqrt(x) {
    return Math.sqrt(x);
  }
  function min(a, b) {
    return Math.min(a, b);
  }
  function ceil(x) {
    return Math.ceil(x);
  }
  function sqrt_0(x) {
    return Math.sqrt(x);
  }
  function max(a, b) {
    return Math.max(a, b);
  }
  function pow_0(_this__u8e3s4, n) {
    return Math.pow(_this__u8e3s4, n);
  }
  function max_0(a, b) {
    return Math.max(a, b);
  }
  function roundToInt(_this__u8e3s4) {
    var tmp;
    if (isNaN_0(_this__u8e3s4)) {
      throw IllegalArgumentException_init_$Create$_0('Cannot round NaN value.');
    } else if (_this__u8e3s4 > IntCompanionObject_getInstance().b1_1) {
      tmp = IntCompanionObject_getInstance().b1_1;
    } else if (_this__u8e3s4 < IntCompanionObject_getInstance().a1_1) {
      tmp = IntCompanionObject_getInstance().a1_1;
    } else {
      tmp = numberToInt(Math.round(_this__u8e3s4));
    }
    return tmp;
  }
  function roundToLong(_this__u8e3s4) {
    var tmp;
    if (isNaN_0(_this__u8e3s4)) {
      throw IllegalArgumentException_init_$Create$_0('Cannot round NaN value.');
    } else {
      Companion_getInstance_14();
      if (_this__u8e3s4 > (new Long(-1, 2147483647)).bi()) {
        Companion_getInstance_14();
        tmp = new Long(-1, 2147483647);
      } else {
        Companion_getInstance_14();
        if (_this__u8e3s4 < (new Long(0, -2147483648)).bi()) {
          Companion_getInstance_14();
          tmp = new Long(0, -2147483648);
        } else {
          tmp = numberToLong(Math.round(_this__u8e3s4));
        }
      }
    }
    return tmp;
  }
  function abs_0(x) {
    return Math.abs(x);
  }
  function roundToInt_0(_this__u8e3s4) {
    return roundToInt(_this__u8e3s4);
  }
  function cos(x) {
    return Math.cos(x);
  }
  function sin(x) {
    return Math.sin(x);
  }
  function tan(x) {
    return Math.tan(x);
  }
  function atan(x) {
    return Math.atan(x);
  }
  function abs_1(x) {
    return Math.abs(x);
  }
  function round(x) {
    return round_0(x);
  }
  function min_0(a, b) {
    return Math.min(a, b);
  }
  function tan_0(x) {
    return Math.tan(x);
  }
  function floor(x) {
    return Math.floor(x);
  }
  function log2_0(x) {
    return log2(x);
  }
  function round_0(x) {
    if (!(x % 0.5 === 0.0)) {
      return Math.round(x);
    }
    var tmp$ret$0;
    {
      tmp$ret$0 = Math.floor(x);
    }
    var floor = tmp$ret$0;
    var tmp;
    if (floor % 2 === 0.0) {
      tmp = floor;
    } else {
      var tmp$ret$1;
      {
        tmp$ret$1 = Math.ceil(x);
      }
      tmp = tmp$ret$1;
    }
    return tmp;
  }
  function log(x, base) {
    if (base <= 0.0 ? true : base === 1.0) {
      DoubleCompanionObject_getInstance();
      return NaN;
    }
    return Math.log(x) / Math.log(base);
  }
  function pow_1(_this__u8e3s4, x) {
    return Math.pow(_this__u8e3s4, x);
  }
  function isNaN_0(_this__u8e3s4) {
    return !(_this__u8e3s4 === _this__u8e3s4);
  }
  function isInfinite(_this__u8e3s4) {
    var tmp;
    DoubleCompanionObject_getInstance();
    if (_this__u8e3s4 === Infinity) {
      tmp = true;
    } else {
      DoubleCompanionObject_getInstance();
      tmp = _this__u8e3s4 === -Infinity;
    }
    return tmp;
  }
  function isFinite(_this__u8e3s4) {
    return !isInfinite(_this__u8e3s4) ? !isNaN_0(_this__u8e3s4) : false;
  }
  function countLeadingZeroBits(_this__u8e3s4) {
    return clz32(_this__u8e3s4);
  }
  function isFinite_0(_this__u8e3s4) {
    return !isInfinite_0(_this__u8e3s4) ? !isNaN_1(_this__u8e3s4) : false;
  }
  function isNaN_1(_this__u8e3s4) {
    return !(_this__u8e3s4 === _this__u8e3s4);
  }
  function isInfinite_0(_this__u8e3s4) {
    var tmp;
    FloatCompanionObject_getInstance();
    if (_this__u8e3s4 === Infinity) {
      tmp = true;
    } else {
      FloatCompanionObject_getInstance();
      tmp = _this__u8e3s4 === -Infinity;
    }
    return tmp;
  }
  function countTrailingZeroBits(_this__u8e3s4) {
    var low = _this__u8e3s4.i1_1;
    var tmp;
    if (low === 0) {
      IntCompanionObject_getInstance();
      tmp = 32 + countTrailingZeroBits_0(_this__u8e3s4.j1_1) | 0;
    } else {
      tmp = countTrailingZeroBits_0(low);
    }
    return tmp;
  }
  function countTrailingZeroBits_0(_this__u8e3s4) {
    IntCompanionObject_getInstance();
    var tmp$ret$0;
    {
      var tmp0_countLeadingZeroBits = ~(_this__u8e3s4 | (-_this__u8e3s4 | 0));
      tmp$ret$0 = clz32(tmp0_countLeadingZeroBits);
    }
    return 32 - tmp$ret$0 | 0;
  }
  function get_INV_2_26() {
    init_properties_PlatformRandom_kt_or3gqs();
    return INV_2_26;
  }
  var INV_2_26;
  function get_INV_2_53() {
    init_properties_PlatformRandom_kt_or3gqs();
    return INV_2_53;
  }
  var INV_2_53;
  function doubleFromParts(hi26, low27) {
    init_properties_PlatformRandom_kt_or3gqs();
    return hi26 * get_INV_2_26() + low27 * get_INV_2_53();
  }
  function defaultPlatformRandom() {
    init_properties_PlatformRandom_kt_or3gqs();
    var tmp$ret$0;
    {
      var tmp0_unsafeCast = Math.random() * Math.pow(2, 32) | 0;
      tmp$ret$0 = tmp0_unsafeCast;
    }
    return Random_0(tmp$ret$0);
  }
  var properties_initialized_PlatformRandom_kt_uibhw8;
  function init_properties_PlatformRandom_kt_or3gqs() {
    if (properties_initialized_PlatformRandom_kt_uibhw8) {
    } else {
      properties_initialized_PlatformRandom_kt_uibhw8 = true;
      var tmp$ret$0;
      {
        tmp$ret$0 = Math.pow(2.0, -26.0);
      }
      INV_2_26 = tmp$ret$0;
      var tmp$ret$0_0;
      {
        tmp$ret$0_0 = Math.pow(2.0, -53.0);
      }
      INV_2_53 = tmp$ret$0_0;
    }
  }
  function get_js(_this__u8e3s4) {
    return (_this__u8e3s4 instanceof KClassImpl ? _this__u8e3s4 : THROW_CCE()).di();
  }
  function KCallable() {
  }
  KCallable.$metadata$ = interfaceMeta('KCallable');
  function KClass() {
  }
  KClass.$metadata$ = interfaceMeta('KClass', [KClassifier]);
  function KClassImpl(jClass) {
    this.ci_1 = jClass;
  }
  KClassImpl.prototype.di = function () {
    return this.ci_1;
  };
  KClassImpl.prototype.equals = function (other) {
    var tmp;
    if (other instanceof KClassImpl) {
      tmp = equals_1(this.di(), other.di());
    } else {
      tmp = false;
    }
    return tmp;
  };
  KClassImpl.prototype.hashCode = function () {
    var tmp0_safe_receiver = this.ei();
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : getStringHashCode(tmp0_safe_receiver);
    return tmp1_elvis_lhs == null ? 0 : tmp1_elvis_lhs;
  };
  KClassImpl.prototype.toString = function () {
    return 'class ' + this.ei();
  };
  KClassImpl.$metadata$ = classMeta('KClassImpl', [KClass]);
  function PrimitiveKClassImpl(jClass, givenSimpleName, isInstanceFunction) {
    KClassImpl.call(this, jClass);
    this.gi_1 = givenSimpleName;
    this.hi_1 = isInstanceFunction;
  }
  PrimitiveKClassImpl.prototype.equals = function (other) {
    if (!(other instanceof PrimitiveKClassImpl))
      return false;
    return KClassImpl.prototype.equals.call(this, other) ? this.gi_1 === other.gi_1 : false;
  };
  PrimitiveKClassImpl.prototype.ei = function () {
    return this.gi_1;
  };
  PrimitiveKClassImpl.$metadata$ = classMeta('PrimitiveKClassImpl', undefined, undefined, undefined, undefined, KClassImpl.prototype);
  function NothingKClassImpl() {
    NothingKClassImpl_instance = this;
    KClassImpl.call(this, Object);
    this.ji_1 = 'Nothing';
  }
  NothingKClassImpl.prototype.ei = function () {
    return this.ji_1;
  };
  NothingKClassImpl.prototype.di = function () {
    throw UnsupportedOperationException_init_$Create$_0("There's no native JS class for Nothing type");
  };
  NothingKClassImpl.prototype.equals = function (other) {
    return other === this;
  };
  NothingKClassImpl.prototype.hashCode = function () {
    return 0;
  };
  NothingKClassImpl.$metadata$ = objectMeta('NothingKClassImpl', undefined, undefined, undefined, undefined, KClassImpl.prototype);
  var NothingKClassImpl_instance;
  function NothingKClassImpl_getInstance() {
    if (NothingKClassImpl_instance == null)
      new NothingKClassImpl();
    return NothingKClassImpl_instance;
  }
  function ErrorKClass() {
  }
  ErrorKClass.prototype.ei = function () {
    throw IllegalStateException_init_$Create$_0('Unknown simpleName for ErrorKClass');
  };
  ErrorKClass.prototype.equals = function (other) {
    return other === this;
  };
  ErrorKClass.prototype.hashCode = function () {
    return 0;
  };
  ErrorKClass.$metadata$ = classMeta('ErrorKClass', [KClass]);
  function SimpleKClassImpl(jClass) {
    KClassImpl.call(this, jClass);
    var tmp = this;
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = jClass;
      }
      var tmp0_safe_receiver = tmp$ret$0.$metadata$;
      var tmp0_unsafeCast = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.simpleName;
      tmp$ret$1 = tmp0_unsafeCast;
    }
    tmp.li_1 = tmp$ret$1;
  }
  SimpleKClassImpl.prototype.ei = function () {
    return this.li_1;
  };
  SimpleKClassImpl.$metadata$ = classMeta('SimpleKClassImpl', undefined, undefined, undefined, undefined, KClassImpl.prototype);
  function KProperty1() {
  }
  KProperty1.$metadata$ = interfaceMeta('KProperty1', [KProperty]);
  function KMutableProperty1() {
  }
  KMutableProperty1.$metadata$ = interfaceMeta('KMutableProperty1', [KProperty1, KMutableProperty]);
  function KProperty() {
  }
  KProperty.$metadata$ = interfaceMeta('KProperty', [KCallable]);
  function KMutableProperty() {
  }
  KMutableProperty.$metadata$ = interfaceMeta('KMutableProperty', [KProperty]);
  function KMutableProperty0() {
  }
  KMutableProperty0.$metadata$ = interfaceMeta('KMutableProperty0', [KProperty0, KMutableProperty]);
  function KProperty0() {
  }
  KProperty0.$metadata$ = interfaceMeta('KProperty0', [KProperty]);
  function KType() {
  }
  KType.$metadata$ = interfaceMeta('KType');
  function createKType(classifier, arguments_0, isMarkedNullable) {
    return new KTypeImpl(classifier, asList(arguments_0), isMarkedNullable);
  }
  function KTypeImpl(classifier, arguments_0, isMarkedNullable) {
    this.pi_1 = classifier;
    this.qi_1 = arguments_0;
    this.ri_1 = isMarkedNullable;
  }
  KTypeImpl.prototype.mi = function () {
    return this.pi_1;
  };
  KTypeImpl.prototype.ni = function () {
    return this.qi_1;
  };
  KTypeImpl.prototype.oi = function () {
    return this.ri_1;
  };
  KTypeImpl.prototype.equals = function (other) {
    var tmp;
    var tmp_0;
    var tmp_1;
    if (other instanceof KTypeImpl) {
      tmp_1 = equals_1(this.pi_1, other.pi_1);
    } else {
      tmp_1 = false;
    }
    if (tmp_1) {
      tmp_0 = equals_1(this.qi_1, other.qi_1);
    } else {
      tmp_0 = false;
    }
    if (tmp_0) {
      tmp = this.ri_1 === other.ri_1;
    } else {
      tmp = false;
    }
    return tmp;
  };
  KTypeImpl.prototype.hashCode = function () {
    return imul(imul(hashCode_0(this.pi_1), 31) + hashCode_0(this.qi_1) | 0, 31) + (this.ri_1 | 0) | 0;
  };
  KTypeImpl.prototype.toString = function () {
    var tmp = this.pi_1;
    var kClass = isInterface(tmp, KClass) ? tmp : null;
    var classifierName = kClass == null ? toString_4(this.pi_1) : !(kClass.ei() == null) ? kClass.ei() : '(non-denotable type)';
    var tmp_0;
    if (this.qi_1.q()) {
      tmp_0 = '';
    } else {
      tmp_0 = joinToString$default_0(this.qi_1, ', ', '<', '>', 0, null, null, 56, null);
    }
    var args = tmp_0;
    var nullable = this.ri_1 ? '?' : '';
    return plus_2(classifierName, args) + nullable;
  };
  KTypeImpl.$metadata$ = classMeta('KTypeImpl', [KType]);
  function get_functionClasses() {
    init_properties_primitives_kt_rm1w5q();
    return functionClasses;
  }
  var functionClasses;
  function PrimitiveClasses$anyClass$lambda() {
    return function (it) {
      return isObject(it);
    };
  }
  function PrimitiveClasses$numberClass$lambda() {
    return function (it) {
      return isNumber(it);
    };
  }
  function PrimitiveClasses$booleanClass$lambda() {
    return function (it) {
      return !(it == null) ? typeof it === 'boolean' : false;
    };
  }
  function PrimitiveClasses$byteClass$lambda() {
    return function (it) {
      return !(it == null) ? typeof it === 'number' : false;
    };
  }
  function PrimitiveClasses$shortClass$lambda() {
    return function (it) {
      return !(it == null) ? typeof it === 'number' : false;
    };
  }
  function PrimitiveClasses$intClass$lambda() {
    return function (it) {
      return !(it == null) ? typeof it === 'number' : false;
    };
  }
  function PrimitiveClasses$floatClass$lambda() {
    return function (it) {
      return !(it == null) ? typeof it === 'number' : false;
    };
  }
  function PrimitiveClasses$doubleClass$lambda() {
    return function (it) {
      return !(it == null) ? typeof it === 'number' : false;
    };
  }
  function PrimitiveClasses$arrayClass$lambda() {
    return function (it) {
      return !(it == null) ? isArray(it) : false;
    };
  }
  function PrimitiveClasses$stringClass$lambda() {
    return function (it) {
      return !(it == null) ? typeof it === 'string' : false;
    };
  }
  function PrimitiveClasses$throwableClass$lambda() {
    return function (it) {
      return it instanceof Error;
    };
  }
  function PrimitiveClasses$booleanArrayClass$lambda() {
    return function (it) {
      return !(it == null) ? isBooleanArray(it) : false;
    };
  }
  function PrimitiveClasses$charArrayClass$lambda() {
    return function (it) {
      return !(it == null) ? isCharArray(it) : false;
    };
  }
  function PrimitiveClasses$byteArrayClass$lambda() {
    return function (it) {
      return !(it == null) ? isByteArray(it) : false;
    };
  }
  function PrimitiveClasses$shortArrayClass$lambda() {
    return function (it) {
      return !(it == null) ? isShortArray(it) : false;
    };
  }
  function PrimitiveClasses$intArrayClass$lambda() {
    return function (it) {
      return !(it == null) ? isIntArray(it) : false;
    };
  }
  function PrimitiveClasses$longArrayClass$lambda() {
    return function (it) {
      return !(it == null) ? isLongArray(it) : false;
    };
  }
  function PrimitiveClasses$floatArrayClass$lambda() {
    return function (it) {
      return !(it == null) ? isFloatArray(it) : false;
    };
  }
  function PrimitiveClasses$doubleArrayClass$lambda() {
    return function (it) {
      return !(it == null) ? isDoubleArray(it) : false;
    };
  }
  function PrimitiveClasses$functionClass$lambda($arity) {
    return function (it) {
      var tmp;
      if (typeof it === 'function') {
        var tmp$ret$0;
        {
          tmp$ret$0 = it;
        }
        tmp = tmp$ret$0.length === $arity;
      } else {
        tmp = false;
      }
      return tmp;
    };
  }
  function PrimitiveClasses() {
    PrimitiveClasses_instance = this;
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_unsafeCast = Object;
      tmp$ret$0 = tmp0_unsafeCast;
    }
    var tmp_0 = tmp$ret$0;
    tmp.si_1 = new PrimitiveKClassImpl(tmp_0, 'Any', PrimitiveClasses$anyClass$lambda());
    var tmp_1 = this;
    var tmp$ret$1;
    {
      var tmp0_unsafeCast_0 = Number;
      tmp$ret$1 = tmp0_unsafeCast_0;
    }
    var tmp_2 = tmp$ret$1;
    tmp_1.ti_1 = new PrimitiveKClassImpl(tmp_2, 'Number', PrimitiveClasses$numberClass$lambda());
    this.ui_1 = NothingKClassImpl_getInstance();
    var tmp_3 = this;
    var tmp$ret$2;
    {
      var tmp0_unsafeCast_1 = Boolean;
      tmp$ret$2 = tmp0_unsafeCast_1;
    }
    var tmp_4 = tmp$ret$2;
    tmp_3.vi_1 = new PrimitiveKClassImpl(tmp_4, 'Boolean', PrimitiveClasses$booleanClass$lambda());
    var tmp_5 = this;
    var tmp$ret$3;
    {
      var tmp0_unsafeCast_2 = Number;
      tmp$ret$3 = tmp0_unsafeCast_2;
    }
    var tmp_6 = tmp$ret$3;
    tmp_5.wi_1 = new PrimitiveKClassImpl(tmp_6, 'Byte', PrimitiveClasses$byteClass$lambda());
    var tmp_7 = this;
    var tmp$ret$4;
    {
      var tmp0_unsafeCast_3 = Number;
      tmp$ret$4 = tmp0_unsafeCast_3;
    }
    var tmp_8 = tmp$ret$4;
    tmp_7.xi_1 = new PrimitiveKClassImpl(tmp_8, 'Short', PrimitiveClasses$shortClass$lambda());
    var tmp_9 = this;
    var tmp$ret$5;
    {
      var tmp0_unsafeCast_4 = Number;
      tmp$ret$5 = tmp0_unsafeCast_4;
    }
    var tmp_10 = tmp$ret$5;
    tmp_9.yi_1 = new PrimitiveKClassImpl(tmp_10, 'Int', PrimitiveClasses$intClass$lambda());
    var tmp_11 = this;
    var tmp$ret$6;
    {
      var tmp0_unsafeCast_5 = Number;
      tmp$ret$6 = tmp0_unsafeCast_5;
    }
    var tmp_12 = tmp$ret$6;
    tmp_11.zi_1 = new PrimitiveKClassImpl(tmp_12, 'Float', PrimitiveClasses$floatClass$lambda());
    var tmp_13 = this;
    var tmp$ret$7;
    {
      var tmp0_unsafeCast_6 = Number;
      tmp$ret$7 = tmp0_unsafeCast_6;
    }
    var tmp_14 = tmp$ret$7;
    tmp_13.aj_1 = new PrimitiveKClassImpl(tmp_14, 'Double', PrimitiveClasses$doubleClass$lambda());
    var tmp_15 = this;
    var tmp$ret$8;
    {
      var tmp0_unsafeCast_7 = Array;
      tmp$ret$8 = tmp0_unsafeCast_7;
    }
    var tmp_16 = tmp$ret$8;
    tmp_15.bj_1 = new PrimitiveKClassImpl(tmp_16, 'Array', PrimitiveClasses$arrayClass$lambda());
    var tmp_17 = this;
    var tmp$ret$9;
    {
      var tmp0_unsafeCast_8 = String;
      tmp$ret$9 = tmp0_unsafeCast_8;
    }
    var tmp_18 = tmp$ret$9;
    tmp_17.cj_1 = new PrimitiveKClassImpl(tmp_18, 'String', PrimitiveClasses$stringClass$lambda());
    var tmp_19 = this;
    var tmp$ret$10;
    {
      var tmp0_unsafeCast_9 = Error;
      tmp$ret$10 = tmp0_unsafeCast_9;
    }
    var tmp_20 = tmp$ret$10;
    tmp_19.dj_1 = new PrimitiveKClassImpl(tmp_20, 'Throwable', PrimitiveClasses$throwableClass$lambda());
    var tmp_21 = this;
    var tmp$ret$11;
    {
      var tmp0_unsafeCast_10 = Array;
      tmp$ret$11 = tmp0_unsafeCast_10;
    }
    var tmp_22 = tmp$ret$11;
    tmp_21.ej_1 = new PrimitiveKClassImpl(tmp_22, 'BooleanArray', PrimitiveClasses$booleanArrayClass$lambda());
    var tmp_23 = this;
    var tmp$ret$12;
    {
      var tmp0_unsafeCast_11 = Uint16Array;
      tmp$ret$12 = tmp0_unsafeCast_11;
    }
    var tmp_24 = tmp$ret$12;
    tmp_23.fj_1 = new PrimitiveKClassImpl(tmp_24, 'CharArray', PrimitiveClasses$charArrayClass$lambda());
    var tmp_25 = this;
    var tmp$ret$13;
    {
      var tmp0_unsafeCast_12 = Int8Array;
      tmp$ret$13 = tmp0_unsafeCast_12;
    }
    var tmp_26 = tmp$ret$13;
    tmp_25.gj_1 = new PrimitiveKClassImpl(tmp_26, 'ByteArray', PrimitiveClasses$byteArrayClass$lambda());
    var tmp_27 = this;
    var tmp$ret$14;
    {
      var tmp0_unsafeCast_13 = Int16Array;
      tmp$ret$14 = tmp0_unsafeCast_13;
    }
    var tmp_28 = tmp$ret$14;
    tmp_27.hj_1 = new PrimitiveKClassImpl(tmp_28, 'ShortArray', PrimitiveClasses$shortArrayClass$lambda());
    var tmp_29 = this;
    var tmp$ret$15;
    {
      var tmp0_unsafeCast_14 = Int32Array;
      tmp$ret$15 = tmp0_unsafeCast_14;
    }
    var tmp_30 = tmp$ret$15;
    tmp_29.ij_1 = new PrimitiveKClassImpl(tmp_30, 'IntArray', PrimitiveClasses$intArrayClass$lambda());
    var tmp_31 = this;
    var tmp$ret$16;
    {
      var tmp0_unsafeCast_15 = Array;
      tmp$ret$16 = tmp0_unsafeCast_15;
    }
    var tmp_32 = tmp$ret$16;
    tmp_31.jj_1 = new PrimitiveKClassImpl(tmp_32, 'LongArray', PrimitiveClasses$longArrayClass$lambda());
    var tmp_33 = this;
    var tmp$ret$17;
    {
      var tmp0_unsafeCast_16 = Float32Array;
      tmp$ret$17 = tmp0_unsafeCast_16;
    }
    var tmp_34 = tmp$ret$17;
    tmp_33.kj_1 = new PrimitiveKClassImpl(tmp_34, 'FloatArray', PrimitiveClasses$floatArrayClass$lambda());
    var tmp_35 = this;
    var tmp$ret$18;
    {
      var tmp0_unsafeCast_17 = Float64Array;
      tmp$ret$18 = tmp0_unsafeCast_17;
    }
    var tmp_36 = tmp$ret$18;
    tmp_35.lj_1 = new PrimitiveKClassImpl(tmp_36, 'DoubleArray', PrimitiveClasses$doubleArrayClass$lambda());
  }
  PrimitiveClasses.prototype.mj = function () {
    return this.si_1;
  };
  PrimitiveClasses.prototype.nj = function () {
    return this.ti_1;
  };
  PrimitiveClasses.prototype.oj = function () {
    return this.ui_1;
  };
  PrimitiveClasses.prototype.pj = function () {
    return this.vi_1;
  };
  PrimitiveClasses.prototype.qj = function () {
    return this.wi_1;
  };
  PrimitiveClasses.prototype.rj = function () {
    return this.xi_1;
  };
  PrimitiveClasses.prototype.sj = function () {
    return this.yi_1;
  };
  PrimitiveClasses.prototype.tj = function () {
    return this.zi_1;
  };
  PrimitiveClasses.prototype.uj = function () {
    return this.aj_1;
  };
  PrimitiveClasses.prototype.vj = function () {
    return this.bj_1;
  };
  PrimitiveClasses.prototype.wj = function () {
    return this.cj_1;
  };
  PrimitiveClasses.prototype.xj = function () {
    return this.dj_1;
  };
  PrimitiveClasses.prototype.yj = function () {
    return this.ej_1;
  };
  PrimitiveClasses.prototype.zj = function () {
    return this.fj_1;
  };
  PrimitiveClasses.prototype.ak = function () {
    return this.gj_1;
  };
  PrimitiveClasses.prototype.bk = function () {
    return this.hj_1;
  };
  PrimitiveClasses.prototype.ck = function () {
    return this.ij_1;
  };
  PrimitiveClasses.prototype.dk = function () {
    return this.jj_1;
  };
  PrimitiveClasses.prototype.ek = function () {
    return this.kj_1;
  };
  PrimitiveClasses.prototype.fk = function () {
    return this.lj_1;
  };
  PrimitiveClasses.prototype.functionClass = function (arity) {
    var tmp0_elvis_lhs = get_functionClasses()[arity];
    var tmp;
    if (tmp0_elvis_lhs == null) {
      var tmp$ret$3;
      {
        {
        }
        var tmp$ret$2;
        {
          var tmp$ret$0;
          {
            var tmp0_unsafeCast = Function;
            tmp$ret$0 = tmp0_unsafeCast;
          }
          var tmp_0 = tmp$ret$0;
          var tmp_1 = 'Function' + arity;
          var result = new PrimitiveKClassImpl(tmp_0, tmp_1, PrimitiveClasses$functionClass$lambda(arity));
          var tmp$ret$1;
          {
            var tmp1_asDynamic = get_functionClasses();
            tmp$ret$1 = tmp1_asDynamic;
          }
          tmp$ret$1[arity] = result;
          tmp$ret$2 = result;
        }
        tmp$ret$3 = tmp$ret$2;
      }
      tmp = tmp$ret$3;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  };
  PrimitiveClasses.$metadata$ = objectMeta('PrimitiveClasses');
  Object.defineProperty(PrimitiveClasses.prototype, 'anyClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.mj
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'numberClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.nj
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'nothingClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.oj
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'booleanClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.pj
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'byteClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.qj
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'shortClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.rj
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'intClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.sj
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'floatClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.tj
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'doubleClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.uj
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'arrayClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.vj
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'stringClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.wj
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'throwableClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.xj
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'booleanArrayClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.yj
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'charArrayClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.zj
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'byteArrayClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.ak
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'shortArrayClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.bk
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'intArrayClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.ck
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'longArrayClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.dk
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'floatArrayClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.ek
  });
  Object.defineProperty(PrimitiveClasses.prototype, 'doubleArrayClass', {
    configurable: true,
    get: PrimitiveClasses.prototype.fk
  });
  var PrimitiveClasses_instance;
  function PrimitiveClasses_getInstance() {
    if (PrimitiveClasses_instance == null)
      new PrimitiveClasses();
    return PrimitiveClasses_instance;
  }
  var properties_initialized_primitives_kt_jle18u;
  function init_properties_primitives_kt_rm1w5q() {
    if (properties_initialized_primitives_kt_jle18u) {
    } else {
      properties_initialized_primitives_kt_jle18u = true;
      var tmp$ret$0;
      {
        tmp$ret$0 = fillArrayVal(Array(0), null);
      }
      functionClasses = tmp$ret$0;
    }
  }
  function getKClass(jClass) {
    var tmp;
    if (Array.isArray(jClass)) {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          tmp$ret$0 = jClass;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp = getKClassM(tmp$ret$1);
    } else {
      var tmp$ret$3;
      {
        var tmp$ret$2;
        {
          tmp$ret$2 = jClass;
        }
        tmp$ret$3 = tmp$ret$2;
      }
      tmp = getKClass1(tmp$ret$3);
    }
    return tmp;
  }
  function getKClassM(jClasses) {
    var tmp0_subject = jClasses.length;
    var tmp;
    switch (tmp0_subject) {
      case 1:
        tmp = getKClass1(jClasses[0]);
        break;
      case 0:
        var tmp$ret$1;
        {
          var tmp0_unsafeCast = NothingKClassImpl_getInstance();
          var tmp$ret$0;
          {
            tmp$ret$0 = tmp0_unsafeCast;
          }
          tmp$ret$1 = tmp$ret$0;
        }

        tmp = tmp$ret$1;
        break;
      default:
        var tmp$ret$3;
        {
          var tmp1_unsafeCast = new ErrorKClass();
          var tmp$ret$2;
          {
            tmp$ret$2 = tmp1_unsafeCast;
          }
          tmp$ret$3 = tmp$ret$2;
        }

        tmp = tmp$ret$3;
        break;
    }
    return tmp;
  }
  function getKClass1(jClass) {
    if (jClass === String) {
      var tmp$ret$1;
      {
        var tmp0_unsafeCast = PrimitiveClasses_getInstance().cj_1;
        var tmp$ret$0;
        {
          tmp$ret$0 = tmp0_unsafeCast;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      return tmp$ret$1;
    }
    var tmp$ret$2;
    {
      tmp$ret$2 = jClass;
    }
    var metadata = tmp$ret$2.$metadata$;
    var tmp;
    if (metadata != null) {
      var tmp_0;
      if (metadata.$kClass$ == null) {
        var kClass = new SimpleKClassImpl(jClass);
        metadata.$kClass$ = kClass;
        tmp_0 = kClass;
      } else {
        tmp_0 = metadata.$kClass$;
      }
      tmp = tmp_0;
    } else {
      tmp = new SimpleKClassImpl(jClass);
    }
    return tmp;
  }
  function getKClassFromExpression(e) {
    var tmp$ret$3;
    {
      var tmp0_subject = typeof e;
      var tmp;
      switch (tmp0_subject) {
        case 'string':
          tmp = PrimitiveClasses_getInstance().cj_1;
          break;
        case 'number':
          var tmp_0;
          var tmp$ret$0;
          {
            var tmp0_asDynamic = jsBitwiseOr(e, 0);
            tmp$ret$0 = tmp0_asDynamic;
          }

          if (tmp$ret$0 === e) {
            tmp_0 = PrimitiveClasses_getInstance().yi_1;
          } else {
            tmp_0 = PrimitiveClasses_getInstance().aj_1;
          }

          tmp = tmp_0;
          break;
        case 'boolean':
          tmp = PrimitiveClasses_getInstance().vi_1;
          break;
        case 'function':
          var tmp_1 = PrimitiveClasses_getInstance();
          var tmp$ret$1;
          {
            tmp$ret$1 = e;
          }

          tmp = tmp_1.functionClass(tmp$ret$1.length);
          break;
        default:
          var tmp_2;
          if (isBooleanArray(e)) {
            tmp_2 = PrimitiveClasses_getInstance().ej_1;
          } else {
            if (isCharArray(e)) {
              tmp_2 = PrimitiveClasses_getInstance().fj_1;
            } else {
              if (isByteArray(e)) {
                tmp_2 = PrimitiveClasses_getInstance().gj_1;
              } else {
                if (isShortArray(e)) {
                  tmp_2 = PrimitiveClasses_getInstance().hj_1;
                } else {
                  if (isIntArray(e)) {
                    tmp_2 = PrimitiveClasses_getInstance().ij_1;
                  } else {
                    if (isLongArray(e)) {
                      tmp_2 = PrimitiveClasses_getInstance().jj_1;
                    } else {
                      if (isFloatArray(e)) {
                        tmp_2 = PrimitiveClasses_getInstance().kj_1;
                      } else {
                        if (isDoubleArray(e)) {
                          tmp_2 = PrimitiveClasses_getInstance().lj_1;
                        } else {
                          if (isInterface(e, KClass)) {
                            tmp_2 = getKClass(KClass);
                          } else {
                            if (isArray(e)) {
                              tmp_2 = PrimitiveClasses_getInstance().bj_1;
                            } else {
                              var constructor = Object.getPrototypeOf(e).constructor;
                              var tmp_3;
                              if (constructor === Object) {
                                tmp_3 = PrimitiveClasses_getInstance().si_1;
                              } else if (constructor === Error) {
                                tmp_3 = PrimitiveClasses_getInstance().dj_1;
                              } else {
                                var jsClass = constructor;
                                tmp_3 = getKClass1(jsClass);
                              }
                              tmp_2 = tmp_3;
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }

          tmp = tmp_2;
          break;
      }
      var tmp1_unsafeCast = tmp;
      var tmp$ret$2;
      {
        tmp$ret$2 = tmp1_unsafeCast;
      }
      tmp$ret$3 = tmp$ret$2;
    }
    return tmp$ret$3;
  }
  function reset(_this__u8e3s4) {
    _this__u8e3s4.lastIndex = 0;
  }
  function ConstrainedOnceSequence(sequence) {
    this.gk_1 = sequence;
  }
  ConstrainedOnceSequence.prototype.h = function () {
    var tmp0_elvis_lhs = this.gk_1;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      throw IllegalStateException_init_$Create$_0('This sequence can be consumed only once.');
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var sequence = tmp;
    this.gk_1 = null;
    return sequence.h();
  };
  ConstrainedOnceSequence.$metadata$ = classMeta('ConstrainedOnceSequence', [Sequence]);
  function Appendable() {
  }
  Appendable.$metadata$ = interfaceMeta('Appendable');
  function CharacterCodingException(message) {
    Exception_init_$Init$_0(message, this);
    captureStack(this, CharacterCodingException);
  }
  CharacterCodingException.$metadata$ = classMeta('CharacterCodingException', undefined, undefined, undefined, undefined, Exception.prototype);
  function StringBuilder_init_$Init$(capacity, $this) {
    StringBuilder_init_$Init$_0($this);
    return $this;
  }
  function StringBuilder_init_$Create$(capacity) {
    return StringBuilder_init_$Init$(capacity, Object.create(StringBuilder.prototype));
  }
  function StringBuilder_init_$Init$_0($this) {
    StringBuilder.call($this, '');
    return $this;
  }
  function StringBuilder_init_$Create$_0() {
    return StringBuilder_init_$Init$_0(Object.create(StringBuilder.prototype));
  }
  function StringBuilder(content) {
    this.fa_1 = !(content === undefined) ? content : '';
  }
  StringBuilder.prototype.kd = function () {
    var tmp$ret$0;
    {
      var tmp0_asDynamic = this.fa_1;
      tmp$ret$0 = tmp0_asDynamic;
    }
    return tmp$ret$0.length;
  };
  StringBuilder.prototype.ld = function (index) {
    var tmp$ret$0;
    {
      var tmp0_getOrElse = this.fa_1;
      var tmp;
      if (index >= 0 ? index <= get_lastIndex_4(tmp0_getOrElse) : false) {
        tmp = charSequenceGet(tmp0_getOrElse, index);
      } else {
        throw IndexOutOfBoundsException_init_$Create$('index: ' + index + ', length: ' + this.kd() + '}');
      }
      tmp$ret$0 = tmp;
    }
    return tmp$ret$0;
  };
  StringBuilder.prototype.md = function (startIndex, endIndex) {
    var tmp$ret$1;
    {
      var tmp0_substring = this.fa_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_substring;
      }
      tmp$ret$1 = tmp$ret$0.substring(startIndex, endIndex);
    }
    return tmp$ret$1;
  };
  StringBuilder.prototype.ea = function (value) {
    var tmp0_this = this;
    tmp0_this.fa_1 = tmp0_this.fa_1 + new Char_0(value);
    return this;
  };
  StringBuilder.prototype.c = function (value) {
    var tmp0_this = this;
    tmp0_this.fa_1 = tmp0_this.fa_1 + toString_3(value);
    return this;
  };
  StringBuilder.prototype.hk = function (value, startIndex, endIndex) {
    var tmp0_elvis_lhs = value;
    return this.qb(tmp0_elvis_lhs == null ? 'null' : tmp0_elvis_lhs, startIndex, endIndex);
  };
  StringBuilder.prototype.ob = function (value) {
    var tmp0_this = this;
    tmp0_this.fa_1 = tmp0_this.fa_1 + toString_3(value);
    return this;
  };
  StringBuilder.prototype.ga = function (value) {
    var tmp0_this = this;
    var tmp = tmp0_this;
    var tmp_0 = tmp0_this.fa_1;
    var tmp1_elvis_lhs = value;
    tmp.fa_1 = tmp_0 + (tmp1_elvis_lhs == null ? 'null' : tmp1_elvis_lhs);
    return this;
  };
  StringBuilder.prototype.pb = function (index, value) {
    Companion_getInstance().d2(index, this.kd());
    var tmp = this;
    var tmp$ret$1;
    {
      var tmp0_substring = this.fa_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_substring;
      }
      tmp$ret$1 = tmp$ret$0.substring(0, index);
    }
    var tmp_0 = tmp$ret$1 + new Char_0(value);
    var tmp$ret$3;
    {
      var tmp1_substring = this.fa_1;
      var tmp$ret$2;
      {
        tmp$ret$2 = tmp1_substring;
      }
      tmp$ret$3 = tmp$ret$2.substring(index);
    }
    tmp.fa_1 = tmp_0 + tmp$ret$3;
    return this;
  };
  StringBuilder.prototype.ik = function (newLength) {
    if (newLength < 0) {
      throw IllegalArgumentException_init_$Create$_0('Negative new length: ' + newLength + '.');
    }
    if (newLength <= this.kd()) {
      var tmp = this;
      var tmp$ret$1;
      {
        var tmp0_substring = this.fa_1;
        var tmp$ret$0;
        {
          tmp$ret$0 = tmp0_substring;
        }
        tmp$ret$1 = tmp$ret$0.substring(0, newLength);
      }
      tmp.fa_1 = tmp$ret$1;
    } else {
      var inductionVariable = this.kd();
      if (inductionVariable < newLength)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          var tmp1_this = this;
          tmp1_this.fa_1 = tmp1_this.fa_1 + new Char_0(_Char___init__impl__6a9atx(0));
        }
         while (inductionVariable < newLength);
    }
  };
  StringBuilder.prototype.toString = function () {
    return this.fa_1;
  };
  StringBuilder.prototype.qb = function (value, startIndex, endIndex) {
    var stringCsq = toString_4(value);
    Companion_getInstance().f2(startIndex, endIndex, stringCsq.length);
    var tmp0_this = this;
    var tmp = tmp0_this;
    var tmp_0 = tmp0_this.fa_1;
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = stringCsq;
      }
      tmp$ret$1 = tmp$ret$0.substring(startIndex, endIndex);
    }
    tmp.fa_1 = tmp_0 + tmp$ret$1;
    return this;
  };
  StringBuilder.$metadata$ = classMeta('StringBuilder', [Appendable, CharSequence]);
  function uppercaseChar(_this__u8e3s4) {
    var tmp$ret$2;
    {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          var tmp0_asDynamic = toString_2(_this__u8e3s4);
          tmp$ret$0 = tmp0_asDynamic;
        }
        var tmp1_unsafeCast = tmp$ret$0.toUpperCase();
        tmp$ret$1 = tmp1_unsafeCast;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    var uppercase = tmp$ret$2;
    return uppercase.length > 1 ? _this__u8e3s4 : charSequenceGet(uppercase, 0);
  }
  function lowercaseChar(_this__u8e3s4) {
    var tmp$ret$2;
    {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          var tmp0_asDynamic = toString_2(_this__u8e3s4);
          tmp$ret$0 = tmp0_asDynamic;
        }
        var tmp1_unsafeCast = tmp$ret$0.toLowerCase();
        tmp$ret$1 = tmp1_unsafeCast;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    return charSequenceGet(tmp$ret$2, 0);
  }
  function uppercase(_this__u8e3s4) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_asDynamic = toString_2(_this__u8e3s4);
        tmp$ret$0 = tmp0_asDynamic;
      }
      var tmp1_unsafeCast = tmp$ret$0.toUpperCase();
      tmp$ret$1 = tmp1_unsafeCast;
    }
    return tmp$ret$1;
  }
  function lowercase(_this__u8e3s4) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_asDynamic = toString_2(_this__u8e3s4);
        tmp$ret$0 = tmp0_asDynamic;
      }
      var tmp1_unsafeCast = tmp$ret$0.toLowerCase();
      tmp$ret$1 = tmp1_unsafeCast;
    }
    return tmp$ret$1;
  }
  function isWhitespace(_this__u8e3s4) {
    return isWhitespaceImpl(_this__u8e3s4);
  }
  function isLowerCase(_this__u8e3s4) {
    if (_Char___init__impl__6a9atx(97) <= _this__u8e3s4 ? _this__u8e3s4 <= _Char___init__impl__6a9atx(122) : false) {
      return true;
    }
    if (Char__compareTo_impl_ypi4mb(_this__u8e3s4, _Char___init__impl__6a9atx(128)) < 0) {
      return false;
    }
    return isLowerCaseImpl(_this__u8e3s4);
  }
  function titlecaseChar(_this__u8e3s4) {
    return titlecaseCharImpl(_this__u8e3s4);
  }
  function checkRadix(radix) {
    if (!(2 <= radix ? radix <= 36 : false)) {
      throw IllegalArgumentException_init_$Create$_0('radix ' + radix + ' was not in valid range 2..36');
    }
    return radix;
  }
  function toString_0(_this__u8e3s4, radix) {
    return toString_1(_this__u8e3s4, radix);
  }
  function toDouble(_this__u8e3s4) {
    var tmp$ret$2;
    {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          tmp$ret$0 = _this__u8e3s4;
        }
        var tmp0_unsafeCast = +tmp$ret$0;
        tmp$ret$1 = tmp0_unsafeCast;
      }
      var tmp1_also = tmp$ret$1;
      {
      }
      {
        if ((isNaN_0(tmp1_also) ? !isNaN_2(_this__u8e3s4) : false) ? true : tmp1_also === 0.0 ? isBlank(_this__u8e3s4) : false) {
          numberFormatError(_this__u8e3s4);
        }
      }
      tmp$ret$2 = tmp1_also;
    }
    return tmp$ret$2;
  }
  function toLong(_this__u8e3s4) {
    var tmp0_elvis_lhs = toLongOrNull(_this__u8e3s4);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      numberFormatError(_this__u8e3s4);
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  }
  function digitOf(char, radix) {
    var tmp$ret$1;
    {
      var tmp0_let = (Char__compareTo_impl_ypi4mb(char, _Char___init__impl__6a9atx(48)) >= 0 ? Char__compareTo_impl_ypi4mb(char, _Char___init__impl__6a9atx(57)) <= 0 : false) ? Char__minus_impl_a2frrh(char, _Char___init__impl__6a9atx(48)) : (Char__compareTo_impl_ypi4mb(char, _Char___init__impl__6a9atx(65)) >= 0 ? Char__compareTo_impl_ypi4mb(char, _Char___init__impl__6a9atx(90)) <= 0 : false) ? Char__minus_impl_a2frrh(char, _Char___init__impl__6a9atx(65)) + 10 | 0 : (Char__compareTo_impl_ypi4mb(char, _Char___init__impl__6a9atx(97)) >= 0 ? Char__compareTo_impl_ypi4mb(char, _Char___init__impl__6a9atx(122)) <= 0 : false) ? Char__minus_impl_a2frrh(char, _Char___init__impl__6a9atx(97)) + 10 | 0 : Char__compareTo_impl_ypi4mb(char, _Char___init__impl__6a9atx(128)) < 0 ? -1 : (Char__compareTo_impl_ypi4mb(char, _Char___init__impl__6a9atx(65313)) >= 0 ? Char__compareTo_impl_ypi4mb(char, _Char___init__impl__6a9atx(65338)) <= 0 : false) ? Char__minus_impl_a2frrh(char, _Char___init__impl__6a9atx(65313)) + 10 | 0 : (Char__compareTo_impl_ypi4mb(char, _Char___init__impl__6a9atx(65345)) >= 0 ? Char__compareTo_impl_ypi4mb(char, _Char___init__impl__6a9atx(65370)) <= 0 : false) ? Char__minus_impl_a2frrh(char, _Char___init__impl__6a9atx(65345)) + 10 | 0 : digitToIntImpl(char);
      {
      }
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_let >= radix ? -1 : tmp0_let;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1;
  }
  function toString_1(_this__u8e3s4, radix) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0.toString(checkRadix(radix));
  }
  function isNaN_2(_this__u8e3s4) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = _this__u8e3s4;
      }
      tmp$ret$1 = tmp$ret$0.toLowerCase();
    }
    var tmp0_subject = tmp$ret$1;
    switch (tmp0_subject) {
      case 'nan':
      case '+nan':
      case '-nan':
        return true;
      default:
        return false;
    }
  }
  function toInt(_this__u8e3s4) {
    var tmp0_elvis_lhs = toIntOrNull(_this__u8e3s4);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      numberFormatError(_this__u8e3s4);
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  }
  function toFloat(_this__u8e3s4) {
    var tmp$ret$1;
    {
      var tmp0_unsafeCast = toDouble(_this__u8e3s4);
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_unsafeCast;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1;
  }
  function toInt_0(_this__u8e3s4, radix) {
    var tmp0_elvis_lhs = toIntOrNull_0(_this__u8e3s4, radix);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      numberFormatError(_this__u8e3s4);
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  }
  function toBoolean(_this__u8e3s4) {
    var tmp;
    if (!(_this__u8e3s4 == null)) {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          tmp$ret$0 = _this__u8e3s4;
        }
        tmp$ret$1 = tmp$ret$0.toLowerCase();
      }
      tmp = tmp$ret$1 === 'true';
    } else {
      tmp = false;
    }
    return tmp;
  }
  function Regex_init_$Init$(pattern, $this) {
    Regex.call($this, pattern, emptySet());
    return $this;
  }
  function Regex_init_$Create$(pattern) {
    return Regex_init_$Init$(pattern, Object.create(Regex.prototype));
  }
  function Companion_11() {
    Companion_instance_11 = this;
    this.jk_1 = new RegExp('[\\\\^$*+?.()|[\\]{}]', 'g');
    this.kk_1 = new RegExp('[\\\\$]', 'g');
    this.lk_1 = new RegExp('\\$', 'g');
  }
  Companion_11.prototype.mk = function (literal) {
    var tmp$ret$1;
    {
      var tmp0_nativeReplace = this.jk_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = literal;
      }
      tmp$ret$1 = tmp$ret$0.replace(tmp0_nativeReplace, '\\$&');
    }
    return tmp$ret$1;
  };
  Companion_11.$metadata$ = objectMeta('Companion');
  var Companion_instance_11;
  function Companion_getInstance_11() {
    if (Companion_instance_11 == null)
      new Companion_11();
    return Companion_instance_11;
  }
  function Regex(pattern, options) {
    Companion_getInstance_11();
    this.wa_1 = pattern;
    this.xa_1 = toSet_0(options);
    this.ya_1 = new RegExp(pattern, toFlags(options, 'gu'));
    this.za_1 = null;
    this.ab_1 = null;
  }
  Regex.prototype.bb = function (input) {
    reset(this.ya_1);
    var match = this.ya_1.exec(toString_4(input));
    return (!(match == null) ? match.index === 0 : false) ? this.ya_1.lastIndex === charSequenceLength(input) : false;
  };
  Regex.prototype.toString = function () {
    return this.ya_1.toString();
  };
  Regex.$metadata$ = classMeta('Regex');
  function toFlags(_this__u8e3s4, prepend) {
    return joinToString$default_0(_this__u8e3s4, '', prepend, null, 0, null, toFlags$lambda(), 28, null);
  }
  function toFlags$lambda() {
    return function (it) {
      return it.pk_1;
    };
  }
  var STRING_CASE_INSENSITIVE_ORDER;
  function nativeLastIndexOf(_this__u8e3s4, str, fromIndex) {
    init_properties_string_kt_z8k4s7();
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0.lastIndexOf(str, fromIndex);
  }
  function substring_2(_this__u8e3s4, startIndex, endIndex) {
    init_properties_string_kt_z8k4s7();
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0.substring(startIndex, endIndex);
  }
  function substring_3(_this__u8e3s4, startIndex) {
    init_properties_string_kt_z8k4s7();
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0.substring(startIndex);
  }
  function compareTo(_this__u8e3s4, other, ignoreCase) {
    init_properties_string_kt_z8k4s7();
    if (ignoreCase) {
      var n1 = _this__u8e3s4.length;
      var n2 = other.length;
      var tmp$ret$0;
      {
        tmp$ret$0 = Math.min(n1, n2);
      }
      var min = tmp$ret$0;
      if (min === 0)
        return n1 - n2 | 0;
      var inductionVariable = 0;
      if (inductionVariable < min)
        do {
          var index = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          var thisChar = charSequenceGet(_this__u8e3s4, index);
          var otherChar = charSequenceGet(other, index);
          if (!equals_1(new Char_0(thisChar), new Char_0(otherChar))) {
            thisChar = uppercaseChar(thisChar);
            otherChar = uppercaseChar(otherChar);
            if (!equals_1(new Char_0(thisChar), new Char_0(otherChar))) {
              var tmp$ret$4;
              {
                var tmp0_lowercaseChar = thisChar;
                var tmp$ret$3;
                {
                  var tmp$ret$2;
                  {
                    var tmp$ret$1;
                    {
                      var tmp0_asDynamic = toString_2(tmp0_lowercaseChar);
                      tmp$ret$1 = tmp0_asDynamic;
                    }
                    var tmp1_unsafeCast = tmp$ret$1.toLowerCase();
                    tmp$ret$2 = tmp1_unsafeCast;
                  }
                  tmp$ret$3 = tmp$ret$2;
                }
                tmp$ret$4 = charSequenceGet(tmp$ret$3, 0);
              }
              thisChar = tmp$ret$4;
              var tmp$ret$8;
              {
                var tmp1_lowercaseChar = otherChar;
                var tmp$ret$7;
                {
                  var tmp$ret$6;
                  {
                    var tmp$ret$5;
                    {
                      var tmp0_asDynamic_0 = toString_2(tmp1_lowercaseChar);
                      tmp$ret$5 = tmp0_asDynamic_0;
                    }
                    var tmp1_unsafeCast_0 = tmp$ret$5.toLowerCase();
                    tmp$ret$6 = tmp1_unsafeCast_0;
                  }
                  tmp$ret$7 = tmp$ret$6;
                }
                tmp$ret$8 = charSequenceGet(tmp$ret$7, 0);
              }
              otherChar = tmp$ret$8;
              if (!equals_1(new Char_0(thisChar), new Char_0(otherChar))) {
                return Char__compareTo_impl_ypi4mb(thisChar, otherChar);
              }
            }
          }
        }
         while (inductionVariable < min);
      return n1 - n2 | 0;
    } else {
      return compareTo_0(_this__u8e3s4, other);
    }
  }
  function decodeToString(_this__u8e3s4) {
    init_properties_string_kt_z8k4s7();
    return decodeUtf8(_this__u8e3s4, 0, _this__u8e3s4.length, false);
  }
  function lowercase_0(_this__u8e3s4) {
    init_properties_string_kt_z8k4s7();
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0.toLowerCase();
  }
  function nativeReplace(_this__u8e3s4, pattern, replacement) {
    init_properties_string_kt_z8k4s7();
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0.replace(pattern, replacement);
  }
  function nativeStartsWith(_this__u8e3s4, s, position) {
    init_properties_string_kt_z8k4s7();
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0.startsWith(s, position);
  }
  function nativeIndexOf(_this__u8e3s4, str, fromIndex) {
    init_properties_string_kt_z8k4s7();
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0.indexOf(str, fromIndex);
  }
  function sam$kotlin_Comparator$0_1(function_0) {
    this.qk_1 = function_0;
  }
  sam$kotlin_Comparator$0_1.prototype.w = function (a, b) {
    return this.qk_1(a, b);
  };
  sam$kotlin_Comparator$0_1.prototype.compare = function (a, b) {
    return this.w(a, b);
  };
  sam$kotlin_Comparator$0_1.$metadata$ = classMeta('sam$kotlin_Comparator$0', [Comparator]);
  function STRING_CASE_INSENSITIVE_ORDER$lambda() {
    return function (a, b) {
      return compareTo(a, b, true);
    };
  }
  var properties_initialized_string_kt_4g1sj;
  function init_properties_string_kt_z8k4s7() {
    if (properties_initialized_string_kt_4g1sj) {
    } else {
      properties_initialized_string_kt_4g1sj = true;
      var tmp = STRING_CASE_INSENSITIVE_ORDER$lambda();
      STRING_CASE_INSENSITIVE_ORDER = new sam$kotlin_Comparator$0_1(tmp);
    }
  }
  function replace(_this__u8e3s4, oldChar, newChar, ignoreCase) {
    var tmp$ret$1;
    {
      var tmp0_nativeReplace = new RegExp(Companion_getInstance_11().mk(toString_2(oldChar)), ignoreCase ? 'gui' : 'gu');
      var tmp1_nativeReplace = toString_2(newChar);
      var tmp$ret$0;
      {
        tmp$ret$0 = _this__u8e3s4;
      }
      tmp$ret$1 = tmp$ret$0.replace(tmp0_nativeReplace, tmp1_nativeReplace);
    }
    return tmp$ret$1;
  }
  function replace$default(_this__u8e3s4, oldChar, newChar, ignoreCase, $mask0, $handler) {
    if (!(($mask0 & 4) === 0))
      ignoreCase = false;
    return replace(_this__u8e3s4, oldChar, newChar, ignoreCase);
  }
  function regionMatches(_this__u8e3s4, thisOffset, other, otherOffset, length, ignoreCase) {
    return regionMatchesImpl(_this__u8e3s4, thisOffset, other, otherOffset, length, ignoreCase);
  }
  function startsWith_1(_this__u8e3s4, prefix, ignoreCase) {
    if (!ignoreCase) {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          tmp$ret$0 = _this__u8e3s4;
        }
        tmp$ret$1 = tmp$ret$0.startsWith(prefix, 0);
      }
      return tmp$ret$1;
    } else
      return regionMatches(_this__u8e3s4, 0, prefix, 0, prefix.length, ignoreCase);
  }
  function startsWith$default_1(_this__u8e3s4, prefix, ignoreCase, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      ignoreCase = false;
    return startsWith_1(_this__u8e3s4, prefix, ignoreCase);
  }
  function isBlank(_this__u8e3s4) {
    var tmp;
    if (charSequenceLength(_this__u8e3s4) === 0) {
      tmp = true;
    } else {
      var tmp$ret$0;
      $l$block_0: {
        var tmp0_all = get_indices_3(_this__u8e3s4);
        var tmp_0;
        if (isInterface(tmp0_all, Collection)) {
          tmp_0 = tmp0_all.q();
        } else {
          tmp_0 = false;
        }
        if (tmp_0) {
          tmp$ret$0 = true;
          break $l$block_0;
        }
        var inductionVariable = tmp0_all.i9();
        var last = tmp0_all.k9();
        if (inductionVariable <= last)
          do {
            var element = inductionVariable;
            inductionVariable = inductionVariable + 1 | 0;
            var tmp$ret$1;
            {
              tmp$ret$1 = isWhitespace(charSequenceGet(_this__u8e3s4, element));
            }
            if (!tmp$ret$1) {
              tmp$ret$0 = false;
              break $l$block_0;
            }
          }
           while (!(element === last));
        tmp$ret$0 = true;
      }
      tmp = tmp$ret$0;
    }
    return tmp;
  }
  function nativeIndexOf_0(_this__u8e3s4, ch, fromIndex) {
    var tmp$ret$1;
    {
      var tmp0_nativeIndexOf = toString_2(ch);
      var tmp$ret$0;
      {
        tmp$ret$0 = _this__u8e3s4;
      }
      tmp$ret$1 = tmp$ret$0.indexOf(tmp0_nativeIndexOf, fromIndex);
    }
    return tmp$ret$1;
  }
  function equals_0(_this__u8e3s4, other, ignoreCase) {
    if (_this__u8e3s4 == null)
      return other == null;
    if (other == null)
      return false;
    if (!ignoreCase)
      return _this__u8e3s4 == other;
    if (!(_this__u8e3s4.length === other.length))
      return false;
    var inductionVariable = 0;
    var last = _this__u8e3s4.length;
    if (inductionVariable < last)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var thisChar = charSequenceGet(_this__u8e3s4, index);
        var otherChar = charSequenceGet(other, index);
        if (!equals(thisChar, otherChar, ignoreCase)) {
          return false;
        }
      }
       while (inductionVariable < last);
    return true;
  }
  var REPLACEMENT_BYTE_SEQUENCE;
  function decodeUtf8(bytes, startIndex, endIndex, throwOnMalformed) {
    init_properties_utf8Encoding_kt_xjxnfa();
    {
      var tmp0_require = (startIndex >= 0 ? endIndex <= bytes.length : false) ? startIndex <= endIndex : false;
      {
      }
      {
        {
        }
        if (!tmp0_require) {
          var tmp$ret$0;
          {
            tmp$ret$0 = 'Failed requirement.';
          }
          var message = tmp$ret$0;
          throw IllegalArgumentException_init_$Create$_0(toString_4(message));
        }
      }
    }
    var byteIndex = startIndex;
    var stringBuilder = StringBuilder_init_$Create$_0();
    while (byteIndex < endIndex) {
      var tmp0 = byteIndex;
      byteIndex = tmp0 + 1 | 0;
      var byte = bytes[tmp0];
      if (byte >= 0) {
        stringBuilder.ea(numberToChar(byte));
      } else if (byte >> 5 === -2) {
        var code = codePointFrom2(bytes, byte, byteIndex, endIndex, throwOnMalformed);
        if (code <= 0) {
          stringBuilder.ea(_Char___init__impl__6a9atx(65533));
          byteIndex = byteIndex + (-code | 0) | 0;
        } else {
          stringBuilder.ea(numberToChar(code));
          byteIndex = byteIndex + 1 | 0;
        }
      } else if (byte >> 4 === -2) {
        var code_0 = codePointFrom3(bytes, byte, byteIndex, endIndex, throwOnMalformed);
        if (code_0 <= 0) {
          stringBuilder.ea(_Char___init__impl__6a9atx(65533));
          byteIndex = byteIndex + (-code_0 | 0) | 0;
        } else {
          stringBuilder.ea(numberToChar(code_0));
          byteIndex = byteIndex + 2 | 0;
        }
      } else if (byte >> 3 === -2) {
        var code_1 = codePointFrom4(bytes, byte, byteIndex, endIndex, throwOnMalformed);
        if (code_1 <= 0) {
          stringBuilder.ea(_Char___init__impl__6a9atx(65533));
          byteIndex = byteIndex + (-code_1 | 0) | 0;
        } else {
          var high = (code_1 - 65536 | 0) >> 10 | 55296;
          var low = code_1 & 1023 | 56320;
          stringBuilder.ea(numberToChar(high));
          stringBuilder.ea(numberToChar(low));
          byteIndex = byteIndex + 3 | 0;
        }
      } else {
        malformed(0, byteIndex, throwOnMalformed);
        stringBuilder.ea(_Char___init__impl__6a9atx(65533));
      }
    }
    return stringBuilder.toString();
  }
  function codePointFrom2(bytes, byte1, index, endIndex, throwOnMalformed) {
    init_properties_utf8Encoding_kt_xjxnfa();
    if ((byte1 & 30) === 0 ? true : index >= endIndex) {
      return malformed(0, index, throwOnMalformed);
    }
    var byte2 = bytes[index];
    if (!((byte2 & 192) === 128)) {
      return malformed(0, index, throwOnMalformed);
    }
    return byte1 << 6 ^ byte2 ^ 3968;
  }
  function codePointFrom3(bytes, byte1, index, endIndex, throwOnMalformed) {
    init_properties_utf8Encoding_kt_xjxnfa();
    if (index >= endIndex) {
      return malformed(0, index, throwOnMalformed);
    }
    var byte2 = bytes[index];
    if ((byte1 & 15) === 0) {
      if (!((byte2 & 224) === 160)) {
        return malformed(0, index, throwOnMalformed);
      }
    } else if ((byte1 & 15) === 13) {
      if (!((byte2 & 224) === 128)) {
        return malformed(0, index, throwOnMalformed);
      }
    } else if (!((byte2 & 192) === 128)) {
      return malformed(0, index, throwOnMalformed);
    }
    if ((index + 1 | 0) === endIndex) {
      return malformed(1, index, throwOnMalformed);
    }
    var byte3 = bytes[index + 1 | 0];
    if (!((byte3 & 192) === 128)) {
      return malformed(1, index, throwOnMalformed);
    }
    return byte1 << 12 ^ byte2 << 6 ^ byte3 ^ -123008;
  }
  function codePointFrom4(bytes, byte1, index, endIndex, throwOnMalformed) {
    init_properties_utf8Encoding_kt_xjxnfa();
    if (index >= endIndex) {
      malformed(0, index, throwOnMalformed);
    }
    var byte2 = bytes[index];
    if ((byte1 & 15) === 0) {
      if ((byte2 & 240) <= 128) {
        return malformed(0, index, throwOnMalformed);
      }
    } else if ((byte1 & 15) === 4) {
      if (!((byte2 & 240) === 128)) {
        return malformed(0, index, throwOnMalformed);
      }
    } else if ((byte1 & 15) > 4) {
      return malformed(0, index, throwOnMalformed);
    } else if (!((byte2 & 192) === 128)) {
      return malformed(0, index, throwOnMalformed);
    }
    if ((index + 1 | 0) === endIndex) {
      return malformed(1, index, throwOnMalformed);
    }
    var byte3 = bytes[index + 1 | 0];
    if (!((byte3 & 192) === 128)) {
      return malformed(1, index, throwOnMalformed);
    }
    if ((index + 2 | 0) === endIndex) {
      return malformed(2, index, throwOnMalformed);
    }
    var byte4 = bytes[index + 2 | 0];
    if (!((byte4 & 192) === 128)) {
      return malformed(2, index, throwOnMalformed);
    }
    return byte1 << 18 ^ byte2 << 12 ^ byte3 << 6 ^ byte4 ^ 3678080;
  }
  function malformed(size, index, throwOnMalformed) {
    init_properties_utf8Encoding_kt_xjxnfa();
    if (throwOnMalformed)
      throw new CharacterCodingException('Malformed sequence starting at ' + (index - 1 | 0));
    return -size | 0;
  }
  var properties_initialized_utf8Encoding_kt_eee1vq;
  function init_properties_utf8Encoding_kt_xjxnfa() {
    if (properties_initialized_utf8Encoding_kt_eee1vq) {
    } else {
      properties_initialized_utf8Encoding_kt_eee1vq = true;
      var tmp$ret$0;
      {
        var tmp0_byteArrayOf = new Int8Array([-17, -65, -67]);
        tmp$ret$0 = tmp0_byteArrayOf;
      }
      REPLACEMENT_BYTE_SEQUENCE = tmp$ret$0;
    }
  }
  function addSuppressed(_this__u8e3s4, exception) {
    if (!(_this__u8e3s4 === exception)) {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          tmp$ret$0 = _this__u8e3s4;
        }
        var tmp0_unsafeCast = tmp$ret$0._suppressed;
        tmp$ret$1 = tmp0_unsafeCast;
      }
      var suppressed = tmp$ret$1;
      if (suppressed == null) {
        var tmp$ret$2;
        {
          tmp$ret$2 = _this__u8e3s4;
        }
        tmp$ret$2._suppressed = mutableListOf_0([exception]);
      } else {
        suppressed.b(exception);
      }
    }
  }
  function get_durationAssertionsEnabled() {
    return true;
  }
  var DurationUnit_NANOSECONDS_instance;
  var DurationUnit_MICROSECONDS_instance;
  var DurationUnit_MILLISECONDS_instance;
  var DurationUnit_SECONDS_instance;
  var DurationUnit_MINUTES_instance;
  var DurationUnit_HOURS_instance;
  var DurationUnit_DAYS_instance;
  var DurationUnit_entriesInitialized;
  function DurationUnit_initEntries() {
    if (DurationUnit_entriesInitialized)
      return Unit_getInstance();
    DurationUnit_entriesInitialized = true;
    DurationUnit_NANOSECONDS_instance = new DurationUnit('NANOSECONDS', 0, 1.0);
    DurationUnit_MICROSECONDS_instance = new DurationUnit('MICROSECONDS', 1, 1000.0);
    DurationUnit_MILLISECONDS_instance = new DurationUnit('MILLISECONDS', 2, 1000000.0);
    DurationUnit_SECONDS_instance = new DurationUnit('SECONDS', 3, 1.0E9);
    DurationUnit_MINUTES_instance = new DurationUnit('MINUTES', 4, 6.0E10);
    DurationUnit_HOURS_instance = new DurationUnit('HOURS', 5, 3.6E12);
    DurationUnit_DAYS_instance = new DurationUnit('DAYS', 6, 8.64E13);
  }
  function DurationUnit(name, ordinal, scale) {
    Enum.call(this, name, ordinal);
    this.tk_1 = scale;
  }
  DurationUnit.$metadata$ = classMeta('DurationUnit', undefined, undefined, undefined, undefined, Enum.prototype);
  function convertDurationUnit(value, sourceUnit, targetUnit) {
    var sourceCompareTarget = compareTo_0(sourceUnit.tk_1, targetUnit.tk_1);
    return sourceCompareTarget > 0 ? value * (sourceUnit.tk_1 / targetUnit.tk_1) : sourceCompareTarget < 0 ? value / (targetUnit.tk_1 / sourceUnit.tk_1) : value;
  }
  function convertDurationUnit_0(value, sourceUnit, targetUnit) {
    var sourceCompareTarget = compareTo_0(sourceUnit.tk_1, targetUnit.tk_1);
    var tmp;
    if (sourceCompareTarget > 0) {
      var scale = numberToLong(sourceUnit.tk_1 / targetUnit.tk_1);
      var result = value.ja(scale);
      var tmp_0;
      if (result.ia(scale).equals(value)) {
        tmp_0 = result;
      } else if (value.k1(new Long(0, 0)) > 0) {
        Companion_getInstance_14();
        tmp_0 = new Long(-1, 2147483647);
      } else {
        Companion_getInstance_14();
        tmp_0 = new Long(0, -2147483648);
      }
      tmp = tmp_0;
    } else if (sourceCompareTarget < 0) {
      tmp = value.ia(numberToLong(targetUnit.tk_1 / sourceUnit.tk_1));
    } else {
      tmp = value;
    }
    return tmp;
  }
  function convertDurationUnitOverflow(value, sourceUnit, targetUnit) {
    var sourceCompareTarget = compareTo_0(sourceUnit.tk_1, targetUnit.tk_1);
    return sourceCompareTarget > 0 ? value.ja(numberToLong(sourceUnit.tk_1 / targetUnit.tk_1)) : sourceCompareTarget < 0 ? value.ia(numberToLong(targetUnit.tk_1 / sourceUnit.tk_1)) : value;
  }
  function DurationUnit_NANOSECONDS_getInstance() {
    DurationUnit_initEntries();
    return DurationUnit_NANOSECONDS_instance;
  }
  function DurationUnit_MICROSECONDS_getInstance() {
    DurationUnit_initEntries();
    return DurationUnit_MICROSECONDS_instance;
  }
  function DurationUnit_MILLISECONDS_getInstance() {
    DurationUnit_initEntries();
    return DurationUnit_MILLISECONDS_instance;
  }
  function DurationUnit_SECONDS_getInstance() {
    DurationUnit_initEntries();
    return DurationUnit_SECONDS_instance;
  }
  function DurationUnit_MINUTES_getInstance() {
    DurationUnit_initEntries();
    return DurationUnit_MINUTES_instance;
  }
  function DurationUnit_HOURS_getInstance() {
    DurationUnit_initEntries();
    return DurationUnit_HOURS_instance;
  }
  function DurationUnit_DAYS_getInstance() {
    DurationUnit_initEntries();
    return DurationUnit_DAYS_instance;
  }
  function MonotonicTimeSource() {
    MonotonicTimeSource_instance = this;
    var tmp = this;
    var tmp$ret$4;
    {
      {
      }
      var tmp$ret$3;
      {
        var isNode = typeof process !== 'undefined' && process.versions && !!process.versions.node;
        var tmp_0;
        if (isNode) {
          var tmp$ret$0;
          {
            var tmp0_unsafeCast = process;
            tmp$ret$0 = tmp0_unsafeCast;
          }
          tmp_0 = new HrTimeSource(tmp$ret$0);
        } else {
          var tmp$ret$1;
          {
            var tmp1_unsafeCast = typeof self !== 'undefined' ? self : globalThis;
            tmp$ret$1 = tmp1_unsafeCast;
          }
          var tmp0_safe_receiver = tmp$ret$1;
          var tmp1_safe_receiver = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.performance;
          var tmp_1;
          if (tmp1_safe_receiver == null) {
            tmp_1 = null;
          } else {
            var tmp$ret$2;
            {
              {
              }
              tmp$ret$2 = new PerformanceTimeSource(tmp1_safe_receiver);
            }
            tmp_1 = tmp$ret$2;
          }
          var tmp2_elvis_lhs = tmp_1;
          tmp_0 = tmp2_elvis_lhs == null ? DateNowTimeSource_getInstance() : tmp2_elvis_lhs;
        }
        tmp$ret$3 = tmp_0;
      }
      tmp$ret$4 = tmp$ret$3;
    }
    tmp.ub_1 = tmp$ret$4;
  }
  MonotonicTimeSource.prototype.yb = function () {
    return this.ub_1.yb();
  };
  MonotonicTimeSource.prototype.uk = function () {
    return new ValueTimeMark(this.yb());
  };
  MonotonicTimeSource.prototype.vb = function (timeMark) {
    return this.ub_1.vb(timeMark);
  };
  MonotonicTimeSource.$metadata$ = objectMeta('MonotonicTimeSource', [DefaultTimeSource, TimeSource]);
  var MonotonicTimeSource_instance;
  function MonotonicTimeSource_getInstance() {
    if (MonotonicTimeSource_instance == null)
      new MonotonicTimeSource();
    return MonotonicTimeSource_instance;
  }
  function DefaultTimeSource() {
  }
  DefaultTimeSource.$metadata$ = interfaceMeta('DefaultTimeSource', [TimeSource]);
  function HrTimeSource(process) {
    this.vk_1 = process;
  }
  HrTimeSource.prototype.yb = function () {
    return _ValueTimeMark___init__impl__uyfl2m(this.vk_1.hrtime());
  };
  HrTimeSource.prototype.uk = function () {
    return new ValueTimeMark(this.yb());
  };
  HrTimeSource.prototype.vb = function (timeMark) {
    var tmp$ret$3;
    {
      var tmp = _ValueTimeMark___get_reading__impl__5qz8rd(timeMark);
      var tmp0_let = this.vk_1.hrtime(isArray(tmp) ? tmp : THROW_CCE());
      {
      }
      var tmp$ret$2;
      {
        var tmp$ret$0;
        {
          tmp$ret$0 = tmp0_let[0];
        }
        var seconds = tmp$ret$0;
        var tmp$ret$1;
        {
          tmp$ret$1 = tmp0_let[1];
        }
        var nanos = tmp$ret$1;
        tmp$ret$2 = Duration__plus_impl_yu9v8f(toDuration_0(seconds, DurationUnit_SECONDS_getInstance()), toDuration_0(nanos, DurationUnit_NANOSECONDS_getInstance()));
      }
      tmp$ret$3 = tmp$ret$2;
    }
    return tmp$ret$3;
  };
  HrTimeSource.prototype.toString = function () {
    return 'TimeSource(process.hrtime())';
  };
  HrTimeSource.$metadata$ = classMeta('HrTimeSource', [DefaultTimeSource]);
  function read($this) {
    return $this.wk_1.now();
  }
  function PerformanceTimeSource(performance) {
    this.wk_1 = performance;
  }
  PerformanceTimeSource.prototype.yb = function () {
    return _ValueTimeMark___init__impl__uyfl2m(read(this));
  };
  PerformanceTimeSource.prototype.uk = function () {
    return new ValueTimeMark(this.yb());
  };
  PerformanceTimeSource.prototype.vb = function (timeMark) {
    var tmp$ret$0;
    {
      var tmp0__get_milliseconds__kazo1t = Companion_getInstance_7();
      var tmp = read(this);
      var tmp_0 = _ValueTimeMark___get_reading__impl__5qz8rd(timeMark);
      var tmp1__get_milliseconds__r2e6ua = tmp - (typeof tmp_0 === 'number' ? tmp_0 : THROW_CCE());
      tmp$ret$0 = toDuration_0(tmp1__get_milliseconds__r2e6ua, DurationUnit_MILLISECONDS_getInstance());
    }
    return tmp$ret$0;
  };
  PerformanceTimeSource.prototype.toString = function () {
    return 'TimeSource(self.performance.now())';
  };
  PerformanceTimeSource.$metadata$ = classMeta('PerformanceTimeSource', [DefaultTimeSource]);
  function read_0($this) {
    return Date.now();
  }
  function DateNowTimeSource() {
    DateNowTimeSource_instance = this;
  }
  DateNowTimeSource.prototype.yb = function () {
    return _ValueTimeMark___init__impl__uyfl2m(read_0(this));
  };
  DateNowTimeSource.prototype.uk = function () {
    return new ValueTimeMark(this.yb());
  };
  DateNowTimeSource.prototype.vb = function (timeMark) {
    var tmp$ret$0;
    {
      var tmp0__get_milliseconds__kazo1t = Companion_getInstance_7();
      var tmp = read_0(this);
      var tmp_0 = _ValueTimeMark___get_reading__impl__5qz8rd(timeMark);
      var tmp1__get_milliseconds__r2e6ua = tmp - (typeof tmp_0 === 'number' ? tmp_0 : THROW_CCE());
      tmp$ret$0 = toDuration_0(tmp1__get_milliseconds__r2e6ua, DurationUnit_MILLISECONDS_getInstance());
    }
    return tmp$ret$0;
  };
  DateNowTimeSource.prototype.toString = function () {
    return 'TimeSource(Date.now())';
  };
  DateNowTimeSource.$metadata$ = objectMeta('DateNowTimeSource', [DefaultTimeSource]);
  var DateNowTimeSource_instance;
  function DateNowTimeSource_getInstance() {
    if (DateNowTimeSource_instance == null)
      new DateNowTimeSource();
    return DateNowTimeSource_instance;
  }
  function get_2(_this__u8e3s4, index) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0[index];
  }
  function set_0(_this__u8e3s4, index, value) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    tmp$ret$0[index] = value;
  }
  function get_3(_this__u8e3s4, index) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0[index];
  }
  function set_1(_this__u8e3s4, index, value) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    tmp$ret$0[index] = value;
  }
  function get_4(_this__u8e3s4, index) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0[index];
  }
  function set_2(_this__u8e3s4, index, value) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    tmp$ret$0[index] = value;
  }
  function get_5(_this__u8e3s4, index) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0[index];
  }
  function set_3(_this__u8e3s4, index, value) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    tmp$ret$0[index] = value;
  }
  function set_4(_this__u8e3s4, key, value) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    tmp$ret$0[key] = value;
  }
  function get_6(_this__u8e3s4, key) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0[key];
  }
  function get_7(_this__u8e3s4, index) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0[index];
  }
  function get_ARRAYBUFFER(_this__u8e3s4) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = 'arraybuffer';
      }
      var tmp0_unsafeCast = tmp$ret$0;
      tmp$ret$1 = tmp0_unsafeCast;
    }
    return tmp$ret$1;
  }
  function _Char___init__impl__6a9atx(value) {
    return value;
  }
  function _get_value__a43j40_0($this) {
    return $this;
  }
  function _Char___init__impl__6a9atx_0(code) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _UShort___get_data__impl__g0245(code) & 65535;
    }
    var tmp = _Char___init__impl__6a9atx(tmp$ret$0);
    return tmp;
  }
  function Char__compareTo_impl_ypi4mb($this, other) {
    return _get_value__a43j40_0($this) - _get_value__a43j40_0(other) | 0;
  }
  function Char__compareTo_impl_ypi4mb_0($this, other) {
    var tmp = $this.n1_1;
    return Char__compareTo_impl_ypi4mb(tmp, other instanceof Char_0 ? other.n1_1 : THROW_CCE());
  }
  function Char__plus_impl_qi7pgj($this, other) {
    return numberToChar(_get_value__a43j40_0($this) + other | 0);
  }
  function Char__minus_impl_a2frrh($this, other) {
    return _get_value__a43j40_0($this) - _get_value__a43j40_0(other) | 0;
  }
  function Char__rangeTo_impl_tkncvp($this, other) {
    return new CharRange($this, other);
  }
  function Char__toInt_impl_vasixd($this) {
    return _get_value__a43j40_0($this);
  }
  function Char__equals_impl_x6719k($this, other) {
    if (!(other instanceof Char_0))
      return false;
    return _get_value__a43j40_0($this) === _get_value__a43j40_0(other.n1_1);
  }
  function Char__hashCode_impl_otmys($this) {
    return _get_value__a43j40_0($this);
  }
  function toString_2($this) {
    var tmp$ret$0;
    {
      var tmp0_unsafeCast = String.fromCharCode(_get_value__a43j40_0($this));
      tmp$ret$0 = tmp0_unsafeCast;
    }
    return tmp$ret$0;
  }
  function Companion_12() {
    Companion_instance_12 = this;
    this.xk_1 = _Char___init__impl__6a9atx(0);
    this.yk_1 = _Char___init__impl__6a9atx(65535);
    this.zk_1 = _Char___init__impl__6a9atx(55296);
    this.al_1 = _Char___init__impl__6a9atx(56319);
    this.bl_1 = _Char___init__impl__6a9atx(56320);
    this.cl_1 = _Char___init__impl__6a9atx(57343);
    this.dl_1 = _Char___init__impl__6a9atx(55296);
    this.el_1 = _Char___init__impl__6a9atx(57343);
    this.fl_1 = 2;
    this.gl_1 = 16;
  }
  Companion_12.$metadata$ = objectMeta('Companion');
  var Companion_instance_12;
  function Companion_getInstance_12() {
    if (Companion_instance_12 == null)
      new Companion_12();
    return Companion_instance_12;
  }
  function Char_0(value) {
    Companion_getInstance_12();
    this.n1_1 = value;
  }
  Char_0.prototype.hl = function (other) {
    return Char__compareTo_impl_ypi4mb(this.n1_1, other);
  };
  Char_0.prototype.sb = function (other) {
    return Char__compareTo_impl_ypi4mb_0(this, other);
  };
  Char_0.prototype.equals = function (other) {
    return Char__equals_impl_x6719k(this.n1_1, other);
  };
  Char_0.prototype.hashCode = function () {
    return Char__hashCode_impl_otmys(this.n1_1);
  };
  Char_0.prototype.toString = function () {
    return toString_2(this.n1_1);
  };
  Char_0.$metadata$ = classMeta('Char', [Comparable]);
  function Iterable_0() {
  }
  Iterable_0.$metadata$ = interfaceMeta('Iterable');
  function Entry() {
  }
  Entry.$metadata$ = interfaceMeta('Entry');
  function Map() {
  }
  Map.$metadata$ = interfaceMeta('Map');
  function List_0() {
  }
  List_0.$metadata$ = interfaceMeta('List', [Collection]);
  function Collection() {
  }
  Collection.$metadata$ = interfaceMeta('Collection', [Iterable_0]);
  function MutableEntry() {
  }
  MutableEntry.$metadata$ = interfaceMeta('MutableEntry', [Entry]);
  function MutableMap() {
  }
  MutableMap.$metadata$ = interfaceMeta('MutableMap', [Map]);
  function MutableList_0() {
  }
  MutableList_0.$metadata$ = interfaceMeta('MutableList', [List_0, MutableCollection]);
  function MutableSet() {
  }
  MutableSet.$metadata$ = interfaceMeta('MutableSet', [Set, MutableCollection]);
  function Set() {
  }
  Set.$metadata$ = interfaceMeta('Set', [Collection]);
  function MutableCollection() {
  }
  MutableCollection.$metadata$ = interfaceMeta('MutableCollection', [Collection, MutableIterable]);
  function MutableIterable() {
  }
  MutableIterable.$metadata$ = interfaceMeta('MutableIterable', [Iterable_0]);
  function Companion_13() {
    Companion_instance_13 = this;
  }
  Companion_13.$metadata$ = objectMeta('Companion');
  var Companion_instance_13;
  function Companion_getInstance_13() {
    if (Companion_instance_13 == null)
      new Companion_13();
    return Companion_instance_13;
  }
  function Enum(name, ordinal) {
    Companion_getInstance_13();
    this.u1_1 = name;
    this.v1_1 = ordinal;
  }
  Enum.prototype.il = function () {
    return this.u1_1;
  };
  Enum.prototype.w1 = function () {
    return this.v1_1;
  };
  Enum.prototype.z1 = function (other) {
    return compareTo_0(this.v1_1, other.v1_1);
  };
  Enum.prototype.sb = function (other) {
    return this.z1(other instanceof Enum ? other : THROW_CCE());
  };
  Enum.prototype.equals = function (other) {
    return this === other;
  };
  Enum.prototype.hashCode = function () {
    return identityHashCode(this);
  };
  Enum.prototype.toString = function () {
    return this.u1_1;
  };
  Enum.$metadata$ = classMeta('Enum', [Comparable]);
  function byteArrayOf(elements) {
    return elements;
  }
  function arrayOf(elements) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = elements;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1;
  }
  function toString_3(_this__u8e3s4) {
    var tmp0_safe_receiver = _this__u8e3s4;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : toString_4(tmp0_safe_receiver);
    return tmp1_elvis_lhs == null ? 'null' : tmp1_elvis_lhs;
  }
  function charArrayOf(elements) {
    return elements;
  }
  function intArrayOf(elements) {
    return elements;
  }
  function plus_2(_this__u8e3s4, other) {
    var tmp2_safe_receiver = _this__u8e3s4;
    var tmp3_elvis_lhs = tmp2_safe_receiver == null ? null : toString_4(tmp2_safe_receiver);
    var tmp = tmp3_elvis_lhs == null ? 'null' : tmp3_elvis_lhs;
    var tmp0_safe_receiver = other;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : toString_4(tmp0_safe_receiver);
    return tmp + (tmp1_elvis_lhs == null ? 'null' : tmp1_elvis_lhs);
  }
  function fillArrayVal(array, initValue) {
    var inductionVariable = 0;
    var last = array.length - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        array[i] = initValue;
      }
       while (!(i === last));
    return array;
  }
  function arrayIterator(array) {
    return new arrayIterator$1(array);
  }
  function booleanArrayIterator(array) {
    return new booleanArrayIterator$1(array);
  }
  function intArrayIterator(array) {
    return new intArrayIterator$1(array);
  }
  function booleanArray(size) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_withType = fillArrayVal(Array(size), false);
        tmp0_withType.$type$ = 'BooleanArray';
        tmp$ret$0 = tmp0_withType;
      }
      var tmp1_unsafeCast = tmp$ret$0;
      tmp$ret$1 = tmp1_unsafeCast;
    }
    return tmp$ret$1;
  }
  function charArray(size) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_withType = new Uint16Array(size);
        tmp0_withType.$type$ = 'CharArray';
        tmp$ret$0 = tmp0_withType;
      }
      var tmp1_unsafeCast = tmp$ret$0;
      tmp$ret$1 = tmp1_unsafeCast;
    }
    return tmp$ret$1;
  }
  function longArray(size) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_withType = fillArrayVal(Array(size), new Long(0, 0));
        tmp0_withType.$type$ = 'LongArray';
        tmp$ret$0 = tmp0_withType;
      }
      var tmp1_unsafeCast = tmp$ret$0;
      tmp$ret$1 = tmp1_unsafeCast;
    }
    return tmp$ret$1;
  }
  function charArrayOf_0(arr) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        var tmp0_withType = new Uint16Array(arr);
        tmp0_withType.$type$ = 'CharArray';
        tmp$ret$0 = tmp0_withType;
      }
      var tmp1_unsafeCast = tmp$ret$0;
      tmp$ret$1 = tmp1_unsafeCast;
    }
    return tmp$ret$1;
  }
  function arrayIterator$1($array) {
    this.kl_1 = $array;
    this.jl_1 = 0;
  }
  arrayIterator$1.prototype.n = function () {
    return !(this.jl_1 === this.kl_1.length);
  };
  arrayIterator$1.prototype.o = function () {
    var tmp;
    if (!(this.jl_1 === this.kl_1.length)) {
      var tmp0_this = this;
      var tmp1 = tmp0_this.jl_1;
      tmp0_this.jl_1 = tmp1 + 1 | 0;
      tmp = this.kl_1[tmp1];
    } else {
      throw NoSuchElementException_init_$Create$_0('' + this.jl_1);
    }
    return tmp;
  };
  arrayIterator$1.$metadata$ = classMeta(undefined, [Iterator]);
  function booleanArrayIterator$1($array) {
    this.ml_1 = $array;
    BooleanIterator.call(this);
    this.ll_1 = 0;
  }
  booleanArrayIterator$1.prototype.n = function () {
    return !(this.ll_1 === this.ml_1.length);
  };
  booleanArrayIterator$1.prototype.j4 = function () {
    var tmp;
    if (!(this.ll_1 === this.ml_1.length)) {
      var tmp0_this = this;
      var tmp1 = tmp0_this.ll_1;
      tmp0_this.ll_1 = tmp1 + 1 | 0;
      tmp = this.ml_1[tmp1];
    } else {
      throw NoSuchElementException_init_$Create$_0('' + this.ll_1);
    }
    return tmp;
  };
  booleanArrayIterator$1.$metadata$ = classMeta(undefined, undefined, undefined, undefined, undefined, BooleanIterator.prototype);
  function intArrayIterator$1($array) {
    this.ol_1 = $array;
    IntIterator.call(this);
    this.nl_1 = 0;
  }
  intArrayIterator$1.prototype.n = function () {
    return !(this.nl_1 === this.ol_1.length);
  };
  intArrayIterator$1.prototype.g4 = function () {
    var tmp;
    if (!(this.nl_1 === this.ol_1.length)) {
      var tmp0_this = this;
      var tmp1 = tmp0_this.nl_1;
      tmp0_this.nl_1 = tmp1 + 1 | 0;
      tmp = this.ol_1[tmp1];
    } else {
      throw NoSuchElementException_init_$Create$_0('' + this.nl_1);
    }
    return tmp;
  };
  intArrayIterator$1.$metadata$ = classMeta(undefined, undefined, undefined, undefined, undefined, IntIterator.prototype);
  function get_buf() {
    init_properties_bitUtils_kt_cxtw9i();
    return buf;
  }
  var buf;
  function get_bufFloat64() {
    init_properties_bitUtils_kt_cxtw9i();
    return bufFloat64;
  }
  var bufFloat64;
  var bufFloat32;
  function get_bufInt32() {
    init_properties_bitUtils_kt_cxtw9i();
    return bufInt32;
  }
  var bufInt32;
  function get_lowIndex() {
    init_properties_bitUtils_kt_cxtw9i();
    return lowIndex;
  }
  var lowIndex;
  function get_highIndex() {
    init_properties_bitUtils_kt_cxtw9i();
    return highIndex;
  }
  var highIndex;
  function getNumberHashCode(obj) {
    init_properties_bitUtils_kt_cxtw9i();
    var tmp$ret$1;
    {
      var tmp0_unsafeCast = jsBitwiseOr(obj, 0);
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_unsafeCast;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    if (tmp$ret$1 === obj) {
      return numberToInt(obj);
    }
    get_bufFloat64()[0] = obj;
    return imul(get_bufInt32()[get_highIndex()], 31) + get_bufInt32()[get_lowIndex()] | 0;
  }
  var properties_initialized_bitUtils_kt_i2bo3e;
  function init_properties_bitUtils_kt_cxtw9i() {
    if (properties_initialized_bitUtils_kt_i2bo3e) {
    } else {
      properties_initialized_bitUtils_kt_i2bo3e = true;
      buf = new ArrayBuffer(8);
      var tmp$ret$1;
      {
        var tmp0_unsafeCast = new Float64Array(get_buf());
        var tmp$ret$0;
        {
          tmp$ret$0 = tmp0_unsafeCast;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      bufFloat64 = tmp$ret$1;
      var tmp$ret$1_0;
      {
        var tmp0_unsafeCast_0 = new Float32Array(get_buf());
        var tmp$ret$0_0;
        {
          tmp$ret$0_0 = tmp0_unsafeCast_0;
        }
        tmp$ret$1_0 = tmp$ret$0_0;
      }
      bufFloat32 = tmp$ret$1_0;
      var tmp$ret$1_1;
      {
        var tmp0_unsafeCast_1 = new Int32Array(get_buf());
        var tmp$ret$0_1;
        {
          tmp$ret$0_1 = tmp0_unsafeCast_1;
        }
        tmp$ret$1_1 = tmp$ret$0_1;
      }
      bufInt32 = tmp$ret$1_1;
      var tmp$ret$1_2;
      {
        {
        }
        var tmp$ret$0_2;
        {
          get_bufFloat64()[0] = -1.0;
          tmp$ret$0_2 = !(get_bufInt32()[0] === 0) ? 1 : 0;
        }
        tmp$ret$1_2 = tmp$ret$0_2;
      }
      lowIndex = tmp$ret$1_2;
      highIndex = 1 - get_lowIndex() | 0;
    }
  }
  function charSequenceGet(a, index) {
    var tmp;
    if (isString(a)) {
      var tmp$ret$4;
      {
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            tmp$ret$0 = a;
          }
          var tmp0_unsafeCast = tmp$ret$0.charCodeAt(index);
          tmp$ret$1 = tmp0_unsafeCast;
        }
        var tmp1_Char = tmp$ret$1;
        var tmp_0;
        var tmp$ret$2;
        {
          Companion_getInstance_12();
          var tmp0__get_code__88qj9g = _Char___init__impl__6a9atx(0);
          tmp$ret$2 = Char__toInt_impl_vasixd(tmp0__get_code__88qj9g);
        }
        if (tmp1_Char < tmp$ret$2) {
          tmp_0 = true;
        } else {
          var tmp$ret$3;
          {
            Companion_getInstance_12();
            var tmp1__get_code__adl84j = _Char___init__impl__6a9atx(65535);
            tmp$ret$3 = Char__toInt_impl_vasixd(tmp1__get_code__adl84j);
          }
          tmp_0 = tmp1_Char > tmp$ret$3;
        }
        if (tmp_0) {
          throw IllegalArgumentException_init_$Create$_0('Invalid Char code: ' + tmp1_Char);
        }
        tmp$ret$4 = numberToChar(tmp1_Char);
      }
      tmp = tmp$ret$4;
    } else {
      tmp = a.ld(index);
    }
    return tmp;
  }
  function isString(a) {
    return typeof a === 'string';
  }
  function charSequenceLength(a) {
    var tmp;
    if (isString(a)) {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          tmp$ret$0 = a;
        }
        var tmp0_unsafeCast = tmp$ret$0.length;
        tmp$ret$1 = tmp0_unsafeCast;
      }
      tmp = tmp$ret$1;
    } else {
      tmp = a.kd();
    }
    return tmp;
  }
  function charSequenceSubSequence(a, startIndex, endIndex) {
    var tmp;
    if (isString(a)) {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          tmp$ret$0 = a;
        }
        var tmp0_unsafeCast = tmp$ret$0.substring(startIndex, endIndex);
        tmp$ret$1 = tmp0_unsafeCast;
      }
      tmp = tmp$ret$1;
    } else {
      tmp = a.md(startIndex, endIndex);
    }
    return tmp;
  }
  function contentEqualsInternal(_this__u8e3s4, other) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    var a = tmp$ret$0;
    var tmp$ret$1;
    {
      tmp$ret$1 = other;
    }
    var b = tmp$ret$1;
    if (a === b)
      return true;
    if (((a == null ? true : b == null) ? true : !isArrayish(b)) ? true : a.length != b.length)
      return false;
    var inductionVariable = 0;
    var last = a.length;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if (!equals_1(a[i], b[i])) {
          return false;
        }
      }
       while (inductionVariable < last);
    return true;
  }
  function contentHashCodeInternal(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    var a = tmp$ret$0;
    if (a == null)
      return 0;
    var result = 1;
    var inductionVariable = 0;
    var last = a.length;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        result = imul(result, 31) + hashCode_0(a[i]) | 0;
      }
       while (inductionVariable < last);
    return result;
  }
  function arrayToString(array) {
    return joinToString$default(array, ', ', '[', ']', 0, null, arrayToString$lambda(), 24, null);
  }
  function arrayToString$lambda() {
    return function (it) {
      return toString_4(it);
    };
  }
  function compareTo_0(a, b) {
    var tmp0_subject = typeof a;
    var tmp;
    switch (tmp0_subject) {
      case 'number':
        var tmp_0;
        if (typeof b === 'number') {
          tmp_0 = doubleCompareTo(a, b);
        } else {
          if (b instanceof Long) {
            tmp_0 = doubleCompareTo(a, b.bi());
          } else {
            tmp_0 = primitiveCompareTo(a, b);
          }
        }

        tmp = tmp_0;
        break;
      case 'string':
      case 'boolean':
        tmp = primitiveCompareTo(a, b);
        break;
      default:
        tmp = compareToDoNotIntrinsicify(a, b);
        break;
    }
    return tmp;
  }
  function doubleCompareTo(a, b) {
    var tmp;
    if (a < b) {
      tmp = -1;
    } else if (a > b) {
      tmp = 1;
    } else if (a === b) {
      var tmp_0;
      if (a !== 0) {
        tmp_0 = 0;
      } else {
        var tmp$ret$0;
        {
          tmp$ret$0 = 1;
        }
        var ia = tmp$ret$0 / a;
        var tmp_1;
        var tmp$ret$1;
        {
          tmp$ret$1 = 1;
        }
        if (ia === tmp$ret$1 / b) {
          tmp_1 = 0;
        } else {
          if (ia < 0) {
            tmp_1 = -1;
          } else {
            tmp_1 = 1;
          }
        }
        tmp_0 = tmp_1;
      }
      tmp = tmp_0;
    } else if (a !== a) {
      tmp = b !== b ? 0 : 1;
    } else {
      tmp = -1;
    }
    return tmp;
  }
  function primitiveCompareTo(a, b) {
    return a < b ? -1 : a > b ? 1 : 0;
  }
  function compareToDoNotIntrinsicify(a, b) {
    return a.sb(b);
  }
  function identityHashCode(obj) {
    return getObjectHashCode(obj);
  }
  function getObjectHashCode(obj) {
    if (!jsIn('kotlinHashCodeValue$', obj)) {
      var hash = jsBitwiseOr(Math.random() * 4.294967296E9, 0);
      var descriptor = new Object();
      descriptor.value = hash;
      descriptor.enumerable = false;
      Object.defineProperty(obj, 'kotlinHashCodeValue$', descriptor);
    }
    var tmp$ret$0;
    {
      var tmp0_unsafeCast = obj['kotlinHashCodeValue$'];
      tmp$ret$0 = tmp0_unsafeCast;
    }
    return tmp$ret$0;
  }
  function equals_1(obj1, obj2) {
    if (obj1 == null) {
      return obj2 == null;
    }
    if (obj2 == null) {
      return false;
    }
    if (typeof obj1 === 'object' ? typeof obj1.equals === 'function' : false) {
      return obj1.equals(obj2);
    }
    if (obj1 !== obj1) {
      return obj2 !== obj2;
    }
    if (typeof obj1 === 'number' ? typeof obj2 === 'number' : false) {
      var tmp;
      if (obj1 === obj2) {
        var tmp_0;
        if (obj1 !== 0) {
          tmp_0 = true;
        } else {
          var tmp$ret$0;
          {
            tmp$ret$0 = 1;
          }
          var tmp_1 = tmp$ret$0 / obj1;
          var tmp$ret$1;
          {
            tmp$ret$1 = 1;
          }
          tmp_0 = tmp_1 === tmp$ret$1 / obj2;
        }
        tmp = tmp_0;
      } else {
        tmp = false;
      }
      return tmp;
    }
    return obj1 === obj2;
  }
  function hashCode_0(obj) {
    if (obj == null)
      return 0;
    var tmp0_subject = typeof obj;
    var tmp;
    switch (tmp0_subject) {
      case 'object':
        tmp = 'function' === typeof obj.hashCode ? obj.hashCode() : getObjectHashCode(obj);
        break;
      case 'function':
        tmp = getObjectHashCode(obj);
        break;
      case 'number':
        tmp = getNumberHashCode(obj);
        break;
      case 'boolean':
        var tmp_0;
        var tmp$ret$0;
        {
          tmp$ret$0 = obj;
        }

        if (tmp$ret$0) {
          tmp_0 = 1;
        } else {
          tmp_0 = 0;
        }

        tmp = tmp_0;
        break;
      default:
        tmp = getStringHashCode(String(obj));
        break;
    }
    return tmp;
  }
  function toString_4(o) {
    var tmp;
    if (o == null) {
      tmp = 'null';
    } else if (isArrayish(o)) {
      tmp = '[...]';
    } else {
      var tmp$ret$0;
      {
        var tmp0_unsafeCast = o.toString();
        tmp$ret$0 = tmp0_unsafeCast;
      }
      tmp = tmp$ret$0;
    }
    return tmp;
  }
  function getStringHashCode(str) {
    var hash = 0;
    var length = str.length;
    var inductionVariable = 0;
    var last = length - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tmp$ret$0;
        {
          tmp$ret$0 = str;
        }
        var code = tmp$ret$0.charCodeAt(i);
        hash = imul(hash, 31) + code | 0;
      }
       while (!(i === last));
    return hash;
  }
  function anyToString(o) {
    return Object.prototype.toString.call(o);
  }
  function boxIntrinsic(x) {
    throw IllegalStateException_init_$Create$_0('Should be lowered');
  }
  function unboxIntrinsic(x) {
    throw IllegalStateException_init_$Create$_0('Should be lowered');
  }
  function captureStack(instance, constructorFunction) {
    if (Error.captureStackTrace != null) {
      Error.captureStackTrace(instance, constructorFunction);
    } else {
      var tmp$ret$0;
      {
        tmp$ret$0 = instance;
      }
      tmp$ret$0.stack = (new Error()).stack;
    }
  }
  function extendThrowable(this_, message, cause) {
    Error.call(this_);
    setPropertiesToThrowableInstance(this_, message, cause);
  }
  function setPropertiesToThrowableInstance(this_, message, cause) {
    if (!hasOwnPrototypeProperty(this_, 'message')) {
      var tmp;
      if (message == null) {
        var tmp_0;
        if (!(message === null)) {
          var tmp0_safe_receiver = cause;
          var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.toString();
          tmp_0 = tmp1_elvis_lhs == null ? undefined : tmp1_elvis_lhs;
        } else {
          tmp_0 = undefined;
        }
        tmp = tmp_0;
      } else {
        tmp = message;
      }
      this_.message = tmp;
    }
    if (!hasOwnPrototypeProperty(this_, 'cause')) {
      this_.cause = cause;
    }
    this_.name = Object.getPrototypeOf(this_).constructor.name;
  }
  function hasOwnPrototypeProperty(o, name) {
    var tmp$ret$0;
    {
      var tmp0_unsafeCast = Object.getPrototypeOf(o).hasOwnProperty(name);
      tmp$ret$0 = tmp0_unsafeCast;
    }
    return tmp$ret$0;
  }
  function returnIfSuspended(argument, $cont) {
    return (argument == null ? true : isObject(argument)) ? argument : THROW_CCE();
  }
  function ensureNotNull(v) {
    var tmp;
    if (v == null) {
      THROW_NPE();
    } else {
      tmp = v;
    }
    return tmp;
  }
  function THROW_NPE() {
    throw NullPointerException_init_$Create$();
  }
  function noWhenBranchMatchedException() {
    throw NoWhenBranchMatchedException_init_$Create$();
  }
  function THROW_CCE() {
    throw ClassCastException_init_$Create$();
  }
  function throwUninitializedPropertyAccessException(name) {
    throw UninitializedPropertyAccessException_init_$Create$('lateinit property ' + name + ' has not been initialized');
  }
  function throwKotlinNothingValueException() {
    throw KotlinNothingValueException_init_$Create$();
  }
  function THROW_ISE() {
    throw IllegalStateException_init_$Create$();
  }
  function lazy(mode, initializer) {
    return new UnsafeLazyImpl(initializer);
  }
  function lazy_0(initializer) {
    return new UnsafeLazyImpl(initializer);
  }
  function fillFrom(src, dst) {
    var srcLen = src.length;
    var dstLen = dst.length;
    var index = 0;
    var tmp$ret$0;
    {
      tmp$ret$0 = dst;
    }
    var arr = tmp$ret$0;
    while (index < srcLen ? index < dstLen : false) {
      var tmp = index;
      var tmp0 = index;
      index = tmp0 + 1 | 0;
      arr[tmp] = src[tmp0];
    }
    return dst;
  }
  function arrayCopyResize(source, newSize, defaultValue) {
    var tmp$ret$0;
    {
      var tmp0_unsafeCast = source.slice(0, newSize);
      tmp$ret$0 = tmp0_unsafeCast;
    }
    var result = tmp$ret$0;
    {
      if (source.$type$ !== undefined) {
        result.$type$ = source.$type$;
      }
    }
    var index = source.length;
    if (newSize > index) {
      var tmp$ret$1;
      {
        tmp$ret$1 = result;
      }
      tmp$ret$1.length = newSize;
      while (index < newSize) {
        var tmp0 = index;
        index = tmp0 + 1 | 0;
        result[tmp0] = defaultValue;
      }
    }
    return result;
  }
  function copyArrayType(from, to) {
    if (from.$type$ !== undefined) {
      to.$type$ = from.$type$;
    }
  }
  function emptyArray() {
    return [];
  }
  function enumValueOfIntrinsic(name) {
    throw IllegalStateException_init_$Create$_0('Should be replaced by compiler');
  }
  function Companion_14() {
    Companion_instance_14 = this;
    this.pl_1 = new Long(0, -2147483648);
    this.ql_1 = new Long(-1, 2147483647);
    this.rl_1 = 8;
    this.sl_1 = 64;
  }
  Companion_14.prototype.sd = function () {
    return this.ql_1;
  };
  Companion_14.$metadata$ = objectMeta('Companion');
  var Companion_instance_14;
  function Companion_getInstance_14() {
    if (Companion_instance_14 == null)
      new Companion_14();
    return Companion_instance_14;
  }
  function Long(low, high) {
    Companion_getInstance_14();
    Number_0.call(this);
    this.i1_1 = low;
    this.j1_1 = high;
  }
  Long.prototype.k1 = function (other) {
    return compare(this, other);
  };
  Long.prototype.sb = function (other) {
    return this.k1(other instanceof Long ? other : THROW_CCE());
  };
  Long.prototype.tl = function (other) {
    return this.ka(toLong_0(other));
  };
  Long.prototype.ka = function (other) {
    return add(this, other);
  };
  Long.prototype.ul = function (other) {
    return this.la(toLong_0(other));
  };
  Long.prototype.la = function (other) {
    return subtract(this, other);
  };
  Long.prototype.vl = function (other) {
    return this.ja(toLong_0(other));
  };
  Long.prototype.ja = function (other) {
    return multiply(this, other);
  };
  Long.prototype.wl = function (other) {
    return this.ia(toLong_0(other));
  };
  Long.prototype.ia = function (other) {
    return divide(this, other);
  };
  Long.prototype.xl = function (other) {
    return this.nb(toLong_0(other));
  };
  Long.prototype.nb = function (other) {
    return modulo(this, other);
  };
  Long.prototype.yl = function () {
    return this.ka(new Long(1, 0));
  };
  Long.prototype.zl = function () {
    return this.la(new Long(1, 0));
  };
  Long.prototype.ha = function () {
    return this.am().ka(new Long(1, 0));
  };
  Long.prototype.tb = function (bitCount) {
    return shiftLeft(this, bitCount);
  };
  Long.prototype.eb = function (bitCount) {
    return shiftRight(this, bitCount);
  };
  Long.prototype.jd = function (bitCount) {
    return shiftRightUnsigned(this, bitCount);
  };
  Long.prototype.bd = function (other) {
    return new Long(this.i1_1 & other.i1_1, this.j1_1 & other.j1_1);
  };
  Long.prototype.bm = function (other) {
    return new Long(this.i1_1 | other.i1_1, this.j1_1 | other.j1_1);
  };
  Long.prototype.lb = function (other) {
    return new Long(this.i1_1 ^ other.i1_1, this.j1_1 ^ other.j1_1);
  };
  Long.prototype.am = function () {
    return new Long(~this.i1_1, ~this.j1_1);
  };
  Long.prototype.cm = function () {
    return toByte(this.i1_1);
  };
  Long.prototype.dm = function () {
    return toShort(this.i1_1);
  };
  Long.prototype.fb = function () {
    return this.i1_1;
  };
  Long.prototype.bi = function () {
    return toNumber(this);
  };
  Long.prototype.valueOf = function () {
    return this.bi();
  };
  Long.prototype.equals = function (other) {
    var tmp;
    if (other instanceof Long) {
      tmp = equalsLong(this, other);
    } else {
      tmp = false;
    }
    return tmp;
  };
  Long.prototype.hashCode = function () {
    return hashCode_1(this);
  };
  Long.prototype.toString = function () {
    return toStringImpl(this, 10);
  };
  Long.$metadata$ = classMeta('Long', [Comparable], undefined, undefined, undefined, Number_0.prototype);
  function get_ZERO() {
    init_properties_longjs_kt_ttk8rv();
    return ZERO;
  }
  var ZERO;
  function get_ONE() {
    init_properties_longjs_kt_ttk8rv();
    return ONE;
  }
  var ONE;
  function get_NEG_ONE() {
    init_properties_longjs_kt_ttk8rv();
    return NEG_ONE;
  }
  var NEG_ONE;
  function get_MAX_VALUE() {
    init_properties_longjs_kt_ttk8rv();
    return MAX_VALUE;
  }
  var MAX_VALUE;
  function get_MIN_VALUE() {
    init_properties_longjs_kt_ttk8rv();
    return MIN_VALUE;
  }
  var MIN_VALUE;
  function get_TWO_PWR_24_() {
    init_properties_longjs_kt_ttk8rv();
    return TWO_PWR_24_;
  }
  var TWO_PWR_24_;
  function compare(_this__u8e3s4, other) {
    init_properties_longjs_kt_ttk8rv();
    if (equalsLong(_this__u8e3s4, other)) {
      return 0;
    }
    var thisNeg = isNegative(_this__u8e3s4);
    var otherNeg = isNegative(other);
    return (thisNeg ? !otherNeg : false) ? -1 : (!thisNeg ? otherNeg : false) ? 1 : isNegative(subtract(_this__u8e3s4, other)) ? -1 : 1;
  }
  function add(_this__u8e3s4, other) {
    init_properties_longjs_kt_ttk8rv();
    var a48 = _this__u8e3s4.j1_1 >>> 16 | 0;
    var a32 = _this__u8e3s4.j1_1 & 65535;
    var a16 = _this__u8e3s4.i1_1 >>> 16 | 0;
    var a00 = _this__u8e3s4.i1_1 & 65535;
    var b48 = other.j1_1 >>> 16 | 0;
    var b32 = other.j1_1 & 65535;
    var b16 = other.i1_1 >>> 16 | 0;
    var b00 = other.i1_1 & 65535;
    var c48 = 0;
    var c32 = 0;
    var c16 = 0;
    var c00 = 0;
    c00 = c00 + (a00 + b00 | 0) | 0;
    c16 = c16 + (c00 >>> 16 | 0) | 0;
    c00 = c00 & 65535;
    c16 = c16 + (a16 + b16 | 0) | 0;
    c32 = c32 + (c16 >>> 16 | 0) | 0;
    c16 = c16 & 65535;
    c32 = c32 + (a32 + b32 | 0) | 0;
    c48 = c48 + (c32 >>> 16 | 0) | 0;
    c32 = c32 & 65535;
    c48 = c48 + (a48 + b48 | 0) | 0;
    c48 = c48 & 65535;
    return new Long(c16 << 16 | c00, c48 << 16 | c32);
  }
  function subtract(_this__u8e3s4, other) {
    init_properties_longjs_kt_ttk8rv();
    return add(_this__u8e3s4, other.ha());
  }
  function multiply(_this__u8e3s4, other) {
    init_properties_longjs_kt_ttk8rv();
    if (isZero(_this__u8e3s4)) {
      return get_ZERO();
    } else if (isZero(other)) {
      return get_ZERO();
    }
    if (equalsLong(_this__u8e3s4, get_MIN_VALUE())) {
      return isOdd(other) ? get_MIN_VALUE() : get_ZERO();
    } else if (equalsLong(other, get_MIN_VALUE())) {
      return isOdd(_this__u8e3s4) ? get_MIN_VALUE() : get_ZERO();
    }
    if (isNegative(_this__u8e3s4)) {
      var tmp;
      if (isNegative(other)) {
        tmp = multiply(negate(_this__u8e3s4), negate(other));
      } else {
        tmp = negate(multiply(negate(_this__u8e3s4), other));
      }
      return tmp;
    } else if (isNegative(other)) {
      return negate(multiply(_this__u8e3s4, negate(other)));
    }
    if (lessThan(_this__u8e3s4, get_TWO_PWR_24_()) ? lessThan(other, get_TWO_PWR_24_()) : false) {
      return fromNumber(toNumber(_this__u8e3s4) * toNumber(other));
    }
    var a48 = _this__u8e3s4.j1_1 >>> 16 | 0;
    var a32 = _this__u8e3s4.j1_1 & 65535;
    var a16 = _this__u8e3s4.i1_1 >>> 16 | 0;
    var a00 = _this__u8e3s4.i1_1 & 65535;
    var b48 = other.j1_1 >>> 16 | 0;
    var b32 = other.j1_1 & 65535;
    var b16 = other.i1_1 >>> 16 | 0;
    var b00 = other.i1_1 & 65535;
    var c48 = 0;
    var c32 = 0;
    var c16 = 0;
    var c00 = 0;
    c00 = c00 + imul(a00, b00) | 0;
    c16 = c16 + (c00 >>> 16 | 0) | 0;
    c00 = c00 & 65535;
    c16 = c16 + imul(a16, b00) | 0;
    c32 = c32 + (c16 >>> 16 | 0) | 0;
    c16 = c16 & 65535;
    c16 = c16 + imul(a00, b16) | 0;
    c32 = c32 + (c16 >>> 16 | 0) | 0;
    c16 = c16 & 65535;
    c32 = c32 + imul(a32, b00) | 0;
    c48 = c48 + (c32 >>> 16 | 0) | 0;
    c32 = c32 & 65535;
    c32 = c32 + imul(a16, b16) | 0;
    c48 = c48 + (c32 >>> 16 | 0) | 0;
    c32 = c32 & 65535;
    c32 = c32 + imul(a00, b32) | 0;
    c48 = c48 + (c32 >>> 16 | 0) | 0;
    c32 = c32 & 65535;
    c48 = c48 + (((imul(a48, b00) + imul(a32, b16) | 0) + imul(a16, b32) | 0) + imul(a00, b48) | 0) | 0;
    c48 = c48 & 65535;
    return new Long(c16 << 16 | c00, c48 << 16 | c32);
  }
  function divide(_this__u8e3s4, other) {
    init_properties_longjs_kt_ttk8rv();
    if (isZero(other)) {
      throw Exception_init_$Create$('division by zero');
    } else if (isZero(_this__u8e3s4)) {
      return get_ZERO();
    }
    if (equalsLong(_this__u8e3s4, get_MIN_VALUE())) {
      if (equalsLong(other, get_ONE()) ? true : equalsLong(other, get_NEG_ONE())) {
        return get_MIN_VALUE();
      } else if (equalsLong(other, get_MIN_VALUE())) {
        return get_ONE();
      } else {
        var halfThis = shiftRight(_this__u8e3s4, 1);
        var approx = shiftLeft(halfThis.ia(other), 1);
        if (equalsLong(approx, get_ZERO())) {
          return isNegative(other) ? get_ONE() : get_NEG_ONE();
        } else {
          var rem = subtract(_this__u8e3s4, multiply(other, approx));
          return add(approx, rem.ia(other));
        }
      }
    } else if (equalsLong(other, get_MIN_VALUE())) {
      return get_ZERO();
    }
    if (isNegative(_this__u8e3s4)) {
      var tmp;
      if (isNegative(other)) {
        tmp = negate(_this__u8e3s4).ia(negate(other));
      } else {
        tmp = negate(negate(_this__u8e3s4).ia(other));
      }
      return tmp;
    } else if (isNegative(other)) {
      return negate(_this__u8e3s4.ia(negate(other)));
    }
    var res = get_ZERO();
    var rem_0 = _this__u8e3s4;
    while (greaterThanOrEqual(rem_0, other)) {
      var approxDouble = toNumber(rem_0) / toNumber(other);
      var approx2 = Math.max(1.0, Math.floor(approxDouble));
      var log2 = Math.ceil(Math.log(approx2) / Math.LN2);
      var delta = log2 <= 48.0 ? 1.0 : Math.pow(2.0, log2 - 48);
      var approxRes = fromNumber(approx2);
      var approxRem = multiply(approxRes, other);
      while (isNegative(approxRem) ? true : greaterThan(approxRem, rem_0)) {
        approx2 = approx2 - delta;
        approxRes = fromNumber(approx2);
        approxRem = multiply(approxRes, other);
      }
      if (isZero(approxRes)) {
        approxRes = get_ONE();
      }
      res = add(res, approxRes);
      rem_0 = subtract(rem_0, approxRem);
    }
    return res;
  }
  function modulo(_this__u8e3s4, other) {
    init_properties_longjs_kt_ttk8rv();
    return subtract(_this__u8e3s4, multiply(_this__u8e3s4.ia(other), other));
  }
  function shiftLeft(_this__u8e3s4, numBits) {
    init_properties_longjs_kt_ttk8rv();
    var numBits_0 = numBits & 63;
    if (numBits_0 === 0) {
      return _this__u8e3s4;
    } else {
      if (numBits_0 < 32) {
        return new Long(_this__u8e3s4.i1_1 << numBits_0, _this__u8e3s4.j1_1 << numBits_0 | (_this__u8e3s4.i1_1 >>> (32 - numBits_0 | 0) | 0));
      } else {
        return new Long(0, _this__u8e3s4.i1_1 << (numBits_0 - 32 | 0));
      }
    }
  }
  function shiftRight(_this__u8e3s4, numBits) {
    init_properties_longjs_kt_ttk8rv();
    var numBits_0 = numBits & 63;
    if (numBits_0 === 0) {
      return _this__u8e3s4;
    } else {
      if (numBits_0 < 32) {
        return new Long(_this__u8e3s4.i1_1 >>> numBits_0 | 0 | _this__u8e3s4.j1_1 << (32 - numBits_0 | 0), _this__u8e3s4.j1_1 >> numBits_0);
      } else {
        return new Long(_this__u8e3s4.j1_1 >> (numBits_0 - 32 | 0), _this__u8e3s4.j1_1 >= 0 ? 0 : -1);
      }
    }
  }
  function shiftRightUnsigned(_this__u8e3s4, numBits) {
    init_properties_longjs_kt_ttk8rv();
    var numBits_0 = numBits & 63;
    if (numBits_0 === 0) {
      return _this__u8e3s4;
    } else {
      if (numBits_0 < 32) {
        return new Long(_this__u8e3s4.i1_1 >>> numBits_0 | 0 | _this__u8e3s4.j1_1 << (32 - numBits_0 | 0), _this__u8e3s4.j1_1 >>> numBits_0 | 0);
      } else {
        var tmp;
        if (numBits_0 === 32) {
          tmp = new Long(_this__u8e3s4.j1_1, 0);
        } else {
          tmp = new Long(_this__u8e3s4.j1_1 >>> (numBits_0 - 32 | 0) | 0, 0);
        }
        return tmp;
      }
    }
  }
  function toNumber(_this__u8e3s4) {
    init_properties_longjs_kt_ttk8rv();
    return _this__u8e3s4.j1_1 * 4.294967296E9 + getLowBitsUnsigned(_this__u8e3s4);
  }
  function equalsLong(_this__u8e3s4, other) {
    init_properties_longjs_kt_ttk8rv();
    return _this__u8e3s4.j1_1 === other.j1_1 ? _this__u8e3s4.i1_1 === other.i1_1 : false;
  }
  function hashCode_1(l) {
    init_properties_longjs_kt_ttk8rv();
    return l.i1_1 ^ l.j1_1;
  }
  function toStringImpl(_this__u8e3s4, radix) {
    init_properties_longjs_kt_ttk8rv();
    if (radix < 2 ? true : 36 < radix) {
      throw Exception_init_$Create$('radix out of range: ' + radix);
    }
    if (isZero(_this__u8e3s4)) {
      return '0';
    }
    if (isNegative(_this__u8e3s4)) {
      if (equalsLong(_this__u8e3s4, get_MIN_VALUE())) {
        var radixLong = fromInt(radix);
        var div = _this__u8e3s4.ia(radixLong);
        var rem = subtract(multiply(div, radixLong), _this__u8e3s4).fb();
        var tmp = toStringImpl(div, radix);
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            tmp$ret$0 = rem;
          }
          var tmp0_unsafeCast = tmp$ret$0.toString(radix);
          tmp$ret$1 = tmp0_unsafeCast;
        }
        return tmp + tmp$ret$1;
      } else {
        return '-' + toStringImpl(negate(_this__u8e3s4), radix);
      }
    }
    var digitsPerTime = radix === 2 ? 31 : radix <= 10 ? 9 : radix <= 21 ? 7 : radix <= 35 ? 6 : 5;
    var radixToPower = fromNumber(Math.pow(radix, digitsPerTime));
    var rem_0 = _this__u8e3s4;
    var result = '';
    while (true) {
      var remDiv = rem_0.ia(radixToPower);
      var intval = subtract(rem_0, multiply(remDiv, radixToPower)).fb();
      var tmp$ret$3;
      {
        var tmp$ret$2;
        {
          tmp$ret$2 = intval;
        }
        var tmp1_unsafeCast = tmp$ret$2.toString(radix);
        tmp$ret$3 = tmp1_unsafeCast;
      }
      var digits = tmp$ret$3;
      rem_0 = remDiv;
      if (isZero(rem_0)) {
        return digits + result;
      } else {
        while (digits.length < digitsPerTime) {
          digits = '0' + digits;
        }
        result = digits + result;
      }
    }
  }
  function fromInt(value) {
    init_properties_longjs_kt_ttk8rv();
    return new Long(value, value < 0 ? -1 : 0);
  }
  function isNegative(_this__u8e3s4) {
    init_properties_longjs_kt_ttk8rv();
    return _this__u8e3s4.j1_1 < 0;
  }
  function isZero(_this__u8e3s4) {
    init_properties_longjs_kt_ttk8rv();
    return _this__u8e3s4.j1_1 === 0 ? _this__u8e3s4.i1_1 === 0 : false;
  }
  function isOdd(_this__u8e3s4) {
    init_properties_longjs_kt_ttk8rv();
    return (_this__u8e3s4.i1_1 & 1) === 1;
  }
  function negate(_this__u8e3s4) {
    init_properties_longjs_kt_ttk8rv();
    return _this__u8e3s4.ha();
  }
  function lessThan(_this__u8e3s4, other) {
    init_properties_longjs_kt_ttk8rv();
    return compare(_this__u8e3s4, other) < 0;
  }
  function fromNumber(value) {
    init_properties_longjs_kt_ttk8rv();
    if (isNaN_0(value)) {
      return get_ZERO();
    } else if (value <= -9.223372036854776E18) {
      return get_MIN_VALUE();
    } else if (value + 1 >= 9.223372036854776E18) {
      return get_MAX_VALUE();
    } else if (value < 0.0) {
      return negate(fromNumber(-value));
    } else {
      var twoPwr32 = 4.294967296E9;
      return new Long(jsBitwiseOr(value % twoPwr32, 0), jsBitwiseOr(value / twoPwr32, 0));
    }
  }
  function greaterThan(_this__u8e3s4, other) {
    init_properties_longjs_kt_ttk8rv();
    return compare(_this__u8e3s4, other) > 0;
  }
  function greaterThanOrEqual(_this__u8e3s4, other) {
    init_properties_longjs_kt_ttk8rv();
    return compare(_this__u8e3s4, other) >= 0;
  }
  function getLowBitsUnsigned(_this__u8e3s4) {
    init_properties_longjs_kt_ttk8rv();
    return _this__u8e3s4.i1_1 >= 0 ? _this__u8e3s4.i1_1 : 4.294967296E9 + _this__u8e3s4.i1_1;
  }
  var properties_initialized_longjs_kt_5aju7t;
  function init_properties_longjs_kt_ttk8rv() {
    if (properties_initialized_longjs_kt_5aju7t) {
    } else {
      properties_initialized_longjs_kt_5aju7t = true;
      ZERO = fromInt(0);
      ONE = fromInt(1);
      NEG_ONE = fromInt(-1);
      MAX_VALUE = new Long(-1, 2147483647);
      MIN_VALUE = new Long(0, -2147483648);
      TWO_PWR_24_ = fromInt(16777216);
    }
  }
  function withType(type, array) {
    array.$type$ = type;
    return array;
  }
  function toByte(a) {
    var tmp$ret$0;
    {
      var tmp0_unsafeCast = a << 24 >> 24;
      tmp$ret$0 = tmp0_unsafeCast;
    }
    return tmp$ret$0;
  }
  function numberToInt(a) {
    var tmp;
    if (a instanceof Long) {
      tmp = a.fb();
    } else {
      tmp = doubleToInt(a);
    }
    return tmp;
  }
  function doubleToInt(a) {
    return a > 2.147483647E9 ? 2147483647 : a < -2.147483648E9 ? -2147483648 : jsBitwiseOr(a, 0);
  }
  function toShort(a) {
    var tmp$ret$0;
    {
      var tmp0_unsafeCast = a << 16 >> 16;
      tmp$ret$0 = tmp0_unsafeCast;
    }
    return tmp$ret$0;
  }
  function numberToLong(a) {
    var tmp;
    if (a instanceof Long) {
      tmp = a;
    } else {
      tmp = fromNumber(a);
    }
    return tmp;
  }
  function numberToChar(a) {
    var tmp$ret$0;
    {
      var tmp0_toUShort = numberToInt(a);
      tmp$ret$0 = _UShort___init__impl__jigrne(toShort(tmp0_toUShort));
    }
    return _Char___init__impl__6a9atx_0(tmp$ret$0);
  }
  function toLong_0(a) {
    return fromInt(a);
  }
  function numberRangeToNumber(start, endInclusive) {
    return new IntRange(start, endInclusive);
  }
  function get_propertyRefClassMetadataCache() {
    init_properties_reflectRuntime_kt_yf9l8h();
    return propertyRefClassMetadataCache;
  }
  var propertyRefClassMetadataCache;
  function metadataObject() {
    init_properties_reflectRuntime_kt_yf9l8h();
    var undef = undefined;
    return classMeta(undef, undef, undef, undef, undef, undef);
  }
  function getPropertyCallableRef(name, paramCount, type, getter, setter) {
    init_properties_reflectRuntime_kt_yf9l8h();
    getter.get = getter;
    getter.set = setter;
    getter.callableName = name;
    var tmp$ret$0;
    {
      var tmp0_unsafeCast = getPropertyRefClass(getter, getKPropMetadata(paramCount, setter, type));
      tmp$ret$0 = tmp0_unsafeCast;
    }
    return tmp$ret$0;
  }
  function getPropertyRefClass(obj, metadata) {
    init_properties_reflectRuntime_kt_yf9l8h();
    obj.$metadata$ = metadata;
    obj.constructor = obj;
    return obj;
  }
  function getKPropMetadata(paramCount, setter, type) {
    init_properties_reflectRuntime_kt_yf9l8h();
    var mdata = get_propertyRefClassMetadataCache()[paramCount][setter == null ? 0 : 1];
    if (mdata.interfaces.length === 0) {
      var tmp$ret$0;
      {
        var tmp0_asDynamic = mdata.interfaces;
        tmp$ret$0 = tmp0_asDynamic;
      }
      tmp$ret$0.push(type);
      if (mdata.interfacesCache == null) {
        mdata.interfacesCache = generateInterfaceCache();
      } else {
        ensureNotNull(mdata.interfacesCache).isComplete = false;
      }
      extendCacheWithSingle(ensureNotNull(mdata.interfacesCache), type);
    }
    return mdata;
  }
  var properties_initialized_reflectRuntime_kt_inkhwd;
  function init_properties_reflectRuntime_kt_yf9l8h() {
    if (properties_initialized_reflectRuntime_kt_inkhwd) {
    } else {
      properties_initialized_reflectRuntime_kt_inkhwd = true;
      var tmp$ret$11;
      {
        var tmp$ret$2;
        {
          var tmp0_arrayOf = [metadataObject(), metadataObject()];
          var tmp$ret$1;
          {
            var tmp$ret$0;
            {
              tmp$ret$0 = tmp0_arrayOf;
            }
            tmp$ret$1 = tmp$ret$0;
          }
          tmp$ret$2 = tmp$ret$1;
        }
        var tmp = tmp$ret$2;
        var tmp$ret$5;
        {
          var tmp1_arrayOf = [metadataObject(), metadataObject()];
          var tmp$ret$4;
          {
            var tmp$ret$3;
            {
              tmp$ret$3 = tmp1_arrayOf;
            }
            tmp$ret$4 = tmp$ret$3;
          }
          tmp$ret$5 = tmp$ret$4;
        }
        var tmp_0 = tmp$ret$5;
        var tmp$ret$8;
        {
          var tmp2_arrayOf = [metadataObject(), metadataObject()];
          var tmp$ret$7;
          {
            var tmp$ret$6;
            {
              tmp$ret$6 = tmp2_arrayOf;
            }
            tmp$ret$7 = tmp$ret$6;
          }
          tmp$ret$8 = tmp$ret$7;
        }
        var tmp3_arrayOf = [tmp, tmp_0, tmp$ret$8];
        var tmp$ret$10;
        {
          var tmp$ret$9;
          {
            tmp$ret$9 = tmp3_arrayOf;
          }
          tmp$ret$10 = tmp$ret$9;
        }
        tmp$ret$11 = tmp$ret$10;
      }
      propertyRefClassMetadataCache = tmp$ret$11;
    }
  }
  var interfacesCounter;
  function classMeta(name, interfaces, associatedObjectKey, associatedObjects, suspendArity, fastPrototype) {
    return createMetadata('class', name, interfaces, associatedObjectKey, associatedObjects, suspendArity, fastPrototype);
  }
  function createMetadata(kind, name, interfaces, associatedObjectKey, associatedObjects, suspendArity, fastPrototype) {
    return {kind: kind, simpleName: name, interfaceId: kind === 'interface' ? -1 : undefined, interfaces: interfaces || [], associatedObjectKey: associatedObjectKey, associatedObjects: associatedObjects, suspendArity: suspendArity, fastPrototype: fastPrototype, $kClass$: undefined, interfacesCache: {isComplete: fastPrototype === undefined && (interfaces === undefined || interfaces.length === 0), implementInterfaceMemo: {}}};
  }
  function isArrayish(o) {
    return isJsArray(o) ? true : isView(o);
  }
  function isJsArray(obj) {
    var tmp$ret$0;
    {
      var tmp0_unsafeCast = Array.isArray(obj);
      tmp$ret$0 = tmp0_unsafeCast;
    }
    return tmp$ret$0;
  }
  function isInterface(obj, iface) {
    var tmp0_elvis_lhs = obj.constructor;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return false;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var ctor = tmp;
    return isInterfaceImpl(ctor, iface);
  }
  function isInterfaceImpl(ctor, iface) {
    if (ctor === iface) {
      return true;
    }
    var metadata = ctor.$metadata$;
    if (!(metadata == null) ? metadata.interfacesCache == null : false) {
      metadata.interfacesCache = generateInterfaceCache();
    }
    var tmp0_safe_receiver = metadata;
    var interfacesCache = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.interfacesCache;
    var tmp;
    if (!(interfacesCache == null)) {
      if (!interfacesCache.isComplete) {
        completeInterfaceCache(ctor);
      }
      var tmp1_safe_receiver = iface.$metadata$;
      var tmp2_elvis_lhs = tmp1_safe_receiver == null ? null : tmp1_safe_receiver.interfaceId;
      var tmp_0;
      if (tmp2_elvis_lhs == null) {
        return false;
      } else {
        tmp_0 = tmp2_elvis_lhs;
      }
      var interfaceId = tmp_0;
      tmp = !!interfacesCache.implementInterfaceMemo[interfaceId];
    } else {
      var tmp3_safe_receiver = fastGetPrototype(ctor);
      var tmp4_elvis_lhs = tmp3_safe_receiver == null ? null : tmp3_safe_receiver.constructor;
      var tmp_1;
      if (tmp4_elvis_lhs == null) {
        return false;
      } else {
        tmp_1 = tmp4_elvis_lhs;
      }
      var constructor = tmp_1;
      tmp = isInterfaceImpl(constructor, iface);
    }
    return tmp;
  }
  function generateInterfaceCache() {
    return {isComplete: false, implementInterfaceMemo: {}};
  }
  function completeInterfaceCache(ctor) {
    var metadata = ctor.$metadata$;
    if (!(metadata == null) ? metadata.interfacesCache == null : false) {
      metadata.interfacesCache = generateInterfaceCache();
    }
    var tmp0_safe_receiver = metadata;
    var interfacesCache = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.interfacesCache;
    if (!(interfacesCache == null)) {
      if (interfacesCache.isComplete === true) {
        return interfacesCache;
      }
      var indexedObject = metadata.interfaces;
      var inductionVariable = 0;
      var last = indexedObject.length;
      while (inductionVariable < last) {
        var i = indexedObject[inductionVariable];
        inductionVariable = inductionVariable + 1 | 0;
        extendCacheWithSingle(interfacesCache, i);
        extendCacheWith(interfacesCache, completeInterfaceCache(i));
      }
    }
    var tmp2_safe_receiver = fastGetPrototype(ctor);
    var tmp3_safe_receiver = tmp2_safe_receiver == null ? null : tmp2_safe_receiver.constructor;
    var tmp;
    if (tmp3_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$0;
      {
        {
        }
        tmp$ret$0 = completeInterfaceCache(tmp3_safe_receiver);
      }
      tmp = tmp$ret$0;
    }
    var parentInterfacesCache = tmp;
    var tmp4_safe_receiver = interfacesCache;
    var tmp_0;
    if (tmp4_safe_receiver == null) {
      tmp_0 = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        {
          extendCacheWith(tmp4_safe_receiver, parentInterfacesCache);
          tmp4_safe_receiver.isComplete = true;
        }
        tmp$ret$1 = tmp4_safe_receiver;
      }
      tmp_0 = tmp$ret$1;
    }
    var tmp5_elvis_lhs = tmp_0;
    return tmp5_elvis_lhs == null ? parentInterfacesCache : tmp5_elvis_lhs;
  }
  function fastGetPrototype(ctor) {
    var tmp0_safe_receiver = ctor.$metadata$;
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        var tmp$ret$0;
        {
          if (tmp0_safe_receiver.fastPrototype == null) {
            tmp0_safe_receiver.fastPrototype = getPrototype(ctor);
          }
          tmp$ret$0 = tmp0_safe_receiver.fastPrototype;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp = tmp$ret$1;
    }
    var tmp1_elvis_lhs = tmp;
    return tmp1_elvis_lhs == null ? getPrototype(ctor) : tmp1_elvis_lhs;
  }
  function extendCacheWithSingle(_this__u8e3s4, intr) {
    _this__u8e3s4.implementInterfaceMemo[getOrDefineInterfaceId(intr)] = true;
  }
  function extendCacheWith(_this__u8e3s4, cache) {
    var tmp0_safe_receiver = cache;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.implementInterfaceMemo;
    var tmp;
    if (tmp1_elvis_lhs == null) {
      return Unit_getInstance();
    } else {
      tmp = tmp1_elvis_lhs;
    }
    var anotherInterfaceMemo = tmp;
    Object.assign(_this__u8e3s4.implementInterfaceMemo, anotherInterfaceMemo);
  }
  function getPrototype(_this__u8e3s4) {
    var tmp0_safe_receiver = _this__u8e3s4.prototype;
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$2;
      {
        {
        }
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            var tmp0_unsafeCast = Object.getPrototypeOf(tmp0_safe_receiver);
            tmp$ret$0 = tmp0_unsafeCast;
          }
          tmp$ret$1 = tmp$ret$0;
        }
        tmp$ret$2 = tmp$ret$1;
      }
      tmp = tmp$ret$2;
    }
    return tmp;
  }
  function getOrDefineInterfaceId(_this__u8e3s4) {
    var tmp$ret$1;
    {
      var tmp0_unsafeCast = _this__u8e3s4.$metadata$;
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_unsafeCast;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    var metadata = tmp$ret$1;
    var tmp0_elvis_lhs = metadata.interfaceId;
    var interfaceId = tmp0_elvis_lhs == null ? -1 : tmp0_elvis_lhs;
    var tmp;
    if (!equals_1(interfaceId, -1)) {
      tmp = interfaceId;
    } else {
      var tmp1 = interfacesCounter;
      interfacesCounter = tmp1 + 1 | 0;
      var result = tmp1;
      metadata.interfaceId = result;
      tmp = result;
    }
    return tmp;
  }
  function isArray(obj) {
    var tmp;
    if (isJsArray(obj)) {
      var tmp$ret$0;
      {
        tmp$ret$0 = obj;
      }
      tmp = !tmp$ret$0.$type$;
    } else {
      tmp = false;
    }
    return tmp;
  }
  function isObject(obj) {
    var objTypeOf = typeof obj;
    var tmp0_subject = objTypeOf;
    switch (tmp0_subject) {
      case 'string':
        return true;
      case 'number':
        return true;
      case 'boolean':
        return true;
      case 'function':
        return true;
      default:
        return jsInstanceOf(obj, Object);
    }
  }
  function isSuspendFunction(obj, arity) {
    if (typeof obj === 'function') {
      var tmp$ret$0;
      {
        var tmp0_unsafeCast = obj.$arity;
        tmp$ret$0 = tmp0_unsafeCast;
      }
      return tmp$ret$0 === arity;
    }
    if (typeof obj === 'object' ? jsIn('$metadata$', obj.constructor) : false) {
      var tmp$ret$1;
      {
        var tmp1_unsafeCast = obj.constructor;
        tmp$ret$1 = tmp1_unsafeCast;
      }
      var tmp0_safe_receiver = tmp$ret$1.$metadata$;
      var tmp1_safe_receiver = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.suspendArity;
      var tmp;
      if (tmp1_safe_receiver == null) {
        tmp = null;
      } else {
        var tmp$ret$2;
        {
          {
          }
          var result = false;
          var tmp0_iterator = arrayIterator(tmp1_safe_receiver);
          $l$loop: while (tmp0_iterator.n()) {
            var item = tmp0_iterator.o();
            if (arity === item) {
              result = true;
              break $l$loop;
            }
          }
          return result;
        }
        tmp = tmp$ret$2;
      }
      var tmp2_elvis_lhs = tmp;
      return tmp2_elvis_lhs == null ? false : tmp2_elvis_lhs;
    }
    return false;
  }
  function isNumber(a) {
    var tmp;
    if (typeof a === 'number') {
      tmp = true;
    } else {
      tmp = a instanceof Long;
    }
    return tmp;
  }
  function isComparable(value) {
    var type = typeof value;
    return ((type === 'string' ? true : type === 'boolean') ? true : isNumber(value)) ? true : isInterface(value, get_js(getKClass(Comparable)));
  }
  function isCharSequence(value) {
    return typeof value === 'string' ? true : isInterface(value, get_js(getKClass(CharSequence)));
  }
  function isBooleanArray(a) {
    return isJsArray(a) ? a.$type$ === 'BooleanArray' : false;
  }
  function isByteArray(a) {
    return jsInstanceOf(a, Int8Array);
  }
  function isShortArray(a) {
    return jsInstanceOf(a, Int16Array);
  }
  function isCharArray(a) {
    return jsInstanceOf(a, Uint16Array) ? a.$type$ === 'CharArray' : false;
  }
  function isIntArray(a) {
    return jsInstanceOf(a, Int32Array);
  }
  function isFloatArray(a) {
    return jsInstanceOf(a, Float32Array);
  }
  function isLongArray(a) {
    return isJsArray(a) ? a.$type$ === 'LongArray' : false;
  }
  function isDoubleArray(a) {
    return jsInstanceOf(a, Float64Array);
  }
  function interfaceMeta(name, interfaces, associatedObjectKey, associatedObjects, suspendArity) {
    return createMetadata('interface', name, interfaces, associatedObjectKey, associatedObjects, suspendArity, undefined);
  }
  function objectMeta(name, interfaces, associatedObjectKey, associatedObjects, suspendArity, fastPrototype) {
    return createMetadata('object', name, interfaces, associatedObjectKey, associatedObjects, suspendArity, fastPrototype);
  }
  function copyOf(_this__u8e3s4, newSize) {
    {
      var tmp0_require = newSize >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Invalid new array size: ' + newSize + '.';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message));
      }
    }
    var tmp$ret$1;
    {
      var tmp1_withType = fillFrom(_this__u8e3s4, charArray(newSize));
      tmp1_withType.$type$ = 'CharArray';
      tmp$ret$1 = tmp1_withType;
    }
    return tmp$ret$1;
  }
  function copyOf_0(_this__u8e3s4, newSize) {
    {
      var tmp0_require = newSize >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Invalid new array size: ' + newSize + '.';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message));
      }
    }
    return fillFrom(_this__u8e3s4, new Float64Array(newSize));
  }
  function copyOf_1(_this__u8e3s4, newSize) {
    {
      var tmp0_require = newSize >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Invalid new array size: ' + newSize + '.';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message));
      }
    }
    return fillFrom(_this__u8e3s4, new Float32Array(newSize));
  }
  function copyOf_2(_this__u8e3s4, newSize) {
    {
      var tmp0_require = newSize >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Invalid new array size: ' + newSize + '.';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message));
      }
    }
    var tmp$ret$1;
    {
      var tmp1_withType = arrayCopyResize(_this__u8e3s4, newSize, new Long(0, 0));
      tmp1_withType.$type$ = 'LongArray';
      tmp$ret$1 = tmp1_withType;
    }
    return tmp$ret$1;
  }
  function copyOf_3(_this__u8e3s4, newSize) {
    {
      var tmp0_require = newSize >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Invalid new array size: ' + newSize + '.';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message));
      }
    }
    return fillFrom(_this__u8e3s4, new Int32Array(newSize));
  }
  function copyOf_4(_this__u8e3s4, newSize) {
    {
      var tmp0_require = newSize >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Invalid new array size: ' + newSize + '.';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message));
      }
    }
    return fillFrom(_this__u8e3s4, new Int16Array(newSize));
  }
  function copyOf_5(_this__u8e3s4, newSize) {
    {
      var tmp0_require = newSize >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Invalid new array size: ' + newSize + '.';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message));
      }
    }
    return fillFrom(_this__u8e3s4, new Int8Array(newSize));
  }
  function copyOf_6(_this__u8e3s4, newSize) {
    {
      var tmp0_require = newSize >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Invalid new array size: ' + newSize + '.';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message));
      }
    }
    var tmp$ret$1;
    {
      var tmp1_withType = arrayCopyResize(_this__u8e3s4, newSize, false);
      tmp1_withType.$type$ = 'BooleanArray';
      tmp$ret$1 = tmp1_withType;
    }
    return tmp$ret$1;
  }
  function asList(_this__u8e3s4) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = _this__u8e3s4;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return new ArrayList(tmp$ret$1);
  }
  function contentEquals(_this__u8e3s4, other) {
    return contentEqualsInternal(_this__u8e3s4, other);
  }
  function contentHashCode(_this__u8e3s4) {
    return contentHashCodeInternal(_this__u8e3s4);
  }
  function copyInto(_this__u8e3s4, destination, destinationOffset, startIndex, endIndex) {
    arrayCopy(_this__u8e3s4, destination, destinationOffset, startIndex, endIndex);
    return destination;
  }
  function plus_3(_this__u8e3s4, elements) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0.concat(elements);
  }
  function sortWith_0(_this__u8e3s4, comparator) {
    if (_this__u8e3s4.length > 1)
      sortArrayWith(_this__u8e3s4, comparator);
  }
  function copyOf_7(_this__u8e3s4, newSize) {
    {
      var tmp0_require = newSize >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Invalid new array size: ' + newSize + '.';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$_0(toString_4(message));
      }
    }
    return arrayCopyResize(_this__u8e3s4, newSize, null);
  }
  function fill(_this__u8e3s4, element, fromIndex, toIndex) {
    Companion_getInstance().e2(fromIndex, toIndex, _this__u8e3s4.length);
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = _this__u8e3s4;
      }
      tmp$ret$0.fill(element, fromIndex, toIndex);
    }
  }
  function fill$default(_this__u8e3s4, element, fromIndex, toIndex, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      fromIndex = 0;
    if (!(($mask0 & 4) === 0))
      toIndex = _this__u8e3s4.length;
    return fill(_this__u8e3s4, element, fromIndex, toIndex);
  }
  function contentHashCode_0(_this__u8e3s4) {
    return contentHashCodeInternal(_this__u8e3s4);
  }
  function contentEquals_0(_this__u8e3s4, other) {
    return contentEqualsInternal(_this__u8e3s4, other);
  }
  function sort(_this__u8e3s4) {
    if (_this__u8e3s4.length > 1)
      sortArray(_this__u8e3s4);
  }
  function toTypedArray_0(_this__u8e3s4) {
    return [].slice.call(_this__u8e3s4);
  }
  function decodeVarLenBase64(base64, fromBase64, resultLength) {
    var result = new Int32Array(resultLength);
    var index = 0;
    var int = 0;
    var shift = 0;
    var indexedObject = base64;
    var inductionVariable = 0;
    var last = indexedObject.length;
    while (inductionVariable < last) {
      var char = charSequenceGet(indexedObject, inductionVariable);
      inductionVariable = inductionVariable + 1 | 0;
      var tmp$ret$0;
      {
        tmp$ret$0 = Char__toInt_impl_vasixd(char);
      }
      var sixBit = fromBase64[tmp$ret$0];
      int = int | (sixBit & 31) << shift;
      if (sixBit < 32) {
        var tmp1 = index;
        index = tmp1 + 1 | 0;
        result[tmp1] = int;
        int = 0;
        shift = 0;
      } else {
        shift = shift + 5 | 0;
      }
    }
    return result;
  }
  function reverse(_this__u8e3s4) {
    var midPoint = (_this__u8e3s4.m() / 2 | 0) - 1 | 0;
    if (midPoint < 0)
      return Unit_getInstance();
    var reverseIndex = get_lastIndex_3(_this__u8e3s4);
    var inductionVariable = 0;
    if (inductionVariable <= midPoint)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tmp = _this__u8e3s4.r(index);
        _this__u8e3s4.t(index, _this__u8e3s4.r(reverseIndex));
        _this__u8e3s4.t(reverseIndex, tmp);
        var tmp1 = reverseIndex;
        reverseIndex = tmp1 - 1 | 0;
      }
       while (!(index === midPoint));
  }
  function minOf(a, b) {
    return Math.min(a, b);
  }
  function maxOf_0(a, b) {
    return Math.max(a, b);
  }
  function maxOf_1(a, b) {
    return Math.max(a, b);
  }
  function digitToIntImpl(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = Char__toInt_impl_vasixd(_this__u8e3s4);
    }
    var ch = tmp$ret$0;
    var index = binarySearchRange(Digit_getInstance().em_1, ch);
    var diff = ch - Digit_getInstance().em_1[index] | 0;
    return diff < 10 ? diff : -1;
  }
  function binarySearchRange(array, needle) {
    var bottom = 0;
    var top = array.length - 1 | 0;
    var middle = -1;
    var value = 0;
    while (bottom <= top) {
      middle = (bottom + top | 0) / 2 | 0;
      value = array[middle];
      if (needle > value)
        bottom = middle + 1 | 0;
      else if (needle === value)
        return middle;
      else
        top = middle - 1 | 0;
    }
    return middle - (needle < value ? 1 : 0) | 0;
  }
  function Digit() {
    Digit_instance = this;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = new Int32Array([48, 1632, 1776, 1984, 2406, 2534, 2662, 2790, 2918, 3046, 3174, 3302, 3430, 3558, 3664, 3792, 3872, 4160, 4240, 6112, 6160, 6470, 6608, 6784, 6800, 6992, 7088, 7232, 7248, 42528, 43216, 43264, 43472, 43504, 43600, 44016, 65296]);
    }
    tmp.em_1 = tmp$ret$0;
  }
  Digit.$metadata$ = objectMeta('Digit');
  var Digit_instance;
  function Digit_getInstance() {
    if (Digit_instance == null)
      new Digit();
    return Digit_instance;
  }
  function isLowerCaseImpl(_this__u8e3s4) {
    var tmp;
    if (getLetterType(_this__u8e3s4) === 1) {
      tmp = true;
    } else {
      var tmp$ret$0;
      {
        tmp$ret$0 = Char__toInt_impl_vasixd(_this__u8e3s4);
      }
      tmp = isOtherLowercase(tmp$ret$0);
    }
    return tmp;
  }
  function getLetterType(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = Char__toInt_impl_vasixd(_this__u8e3s4);
    }
    var ch = tmp$ret$0;
    var index = binarySearchRange(Letter_getInstance().fm_1, ch);
    var rangeStart = Letter_getInstance().fm_1[index];
    var rangeEnd = (rangeStart + Letter_getInstance().gm_1[index] | 0) - 1 | 0;
    var code = Letter_getInstance().hm_1[index];
    if (ch > rangeEnd) {
      return 0;
    }
    var lastTwoBits = code & 3;
    if (lastTwoBits === 0) {
      var shift = 2;
      var threshold = rangeStart;
      var inductionVariable = 0;
      if (inductionVariable <= 1)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          threshold = threshold + (code >> shift & 127) | 0;
          if (threshold > ch) {
            return 3;
          }
          shift = shift + 7 | 0;
          threshold = threshold + (code >> shift & 127) | 0;
          if (threshold > ch) {
            return 0;
          }
          shift = shift + 7 | 0;
        }
         while (inductionVariable <= 1);
      return 3;
    }
    if (code <= 7) {
      return lastTwoBits;
    }
    var distance = ch - rangeStart | 0;
    var shift_0 = code <= 31 ? distance % 2 | 0 : distance;
    return code >> imul(2, shift_0) & 3;
  }
  function Letter() {
    Letter_instance = this;
    var toBase64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
    var fromBase64 = new Int32Array(128);
    var inductionVariable = 0;
    var last = charSequenceLength(toBase64) - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tmp$ret$0;
        {
          var tmp0__get_code__88qj9g = charSequenceGet(toBase64, i);
          tmp$ret$0 = Char__toInt_impl_vasixd(tmp0__get_code__88qj9g);
        }
        fromBase64[tmp$ret$0] = i;
      }
       while (inductionVariable <= last);
    var rangeStartDiff = 'hCgBpCQGYHZH5BRpBPPPPPPRMP5BPPlCPP6BkEPPPPcPXPzBvBrB3BOiDoBHwD+E3DauCnFmBmB2D6E1BlBTiBmBlBP5BhBiBrBvBjBqBnBPRtBiCmCtBlB0BmB5BiB7BmBgEmChBZgCoEoGVpBSfRhBPqKQ2BwBYoFgB4CJuTiEvBuCuDrF5DgEgFlJ1DgFmBQtBsBRGsB+BPiBlD1EIjDPRPPPQPPPPPGQSQS/DxENVNU+B9zCwBwBPPCkDPNnBPqDYY1R8B7FkFgTgwGgwUwmBgKwBuBScmEP/BPPPPPPrBP8B7F1B/ErBqC6B7BiBmBfQsBUwCw/KwqIwLwETPcPjQgJxFgBlBsD';
    var diff = decodeVarLenBase64(rangeStartDiff, fromBase64, 222);
    var start = new Int32Array(diff.length);
    var inductionVariable_0 = 0;
    var last_0 = diff.length - 1 | 0;
    if (inductionVariable_0 <= last_0)
      do {
        var i_0 = inductionVariable_0;
        inductionVariable_0 = inductionVariable_0 + 1 | 0;
        if (i_0 === 0)
          start[i_0] = diff[i_0];
        else
          start[i_0] = start[i_0 - 1 | 0] + diff[i_0] | 0;
      }
       while (inductionVariable_0 <= last_0);
    this.fm_1 = start;
    var rangeLength = 'aaMBXHYH5BRpBPPPPPPRMP5BPPlCPPzBDOOPPcPXPzBvBjB3BOhDmBBpB7DoDYxB+EiBP1DoExBkBQhBekBPmBgBhBctBiBMWOOXhCsBpBkBUV3Ba4BkB0DlCgBXgBtD4FSdBfPhBPpKP0BvBXjEQ2CGsT8DhBtCqDpFvD1D3E0IrD2EkBJrBDOBsB+BPiBlB1EIjDPPPPPPPPPPPGPPMNLsBNPNPKCvBvBPPCkDPBmBPhDXXgD4B6FzEgDguG9vUtkB9JcuBSckEP/BPPPPPPBPf4FrBjEhBpC3B5BKaWPrBOwCk/KsCuLqDHPbPxPsFtEaaqDL';
    this.gm_1 = decodeVarLenBase64(rangeLength, fromBase64, 222);
    var rangeCategory = 'GFjgggUHGGFFZZZmzpz5qB6s6020B60ptltB6smt2sB60mz22B1+vv+8BZZ5s2850BW5q1ymtB506smzBF3q1q1qB1q1q1+Bgii4wDTm74g3KiggxqM60q1q1Bq1o1q1BF1qlrqrBZ2q5wprBGFZWWZGHFsjiooLowgmOowjkwCkgoiIk7ligGogiioBkwkiYkzj2oNoi+sbkwj04DghhkQ8wgiYkgoioDsgnkwC4gikQ//v+85BkwvoIsgoyI4yguI0whiwEowri4CoghsJowgqYowgm4DkwgsY/nwnzPowhmYkg6wI8yggZswikwHgxgmIoxgqYkwgk4DkxgmIkgoioBsgssoBgzgyI8g9gL8g9kI0wgwJoxgkoC0wgioFkw/wI0w53iF4gioYowjmgBHGq1qkgwBF1q1q8qBHwghuIwghyKk0goQkwgoQk3goQHGFHkyg0pBgxj6IoinkxDswno7Ikwhz9Bo0gioB8z48Rwli0xN0mpjoX8w78pDwltoqKHFGGwwgsIHFH3q1q16BFHWFZ1q10q1B2qlwq1B1q10q1B2q1yq1B6q1gq1Biq1qhxBir1qp1Bqt1q1qB1g1q1+B//3q16B///q1qBH/qlqq9Bholqq9B1i00a1q10qD1op1HkwmigEigiy6Cptogq1Bixo1kDq7/j00B2qgoBWGFm1lz50B6s5q1+BGWhggzhwBFFhgk4//Bo2jigE8wguI8wguI8wgugUog1qoB4qjmIwwi2KgkYHHH4lBgiFWkgIWoghssMmz5smrBZ3q1y50B5sm7gzBtz1smzB5smz50BqzqtmzB5sgzqzBF2/9//5BowgoIwmnkzPkwgk4C8ys65BkgoqI0wgy6FghquZo2giY0ghiIsgh24B4ghsQ8QF/v1q1OFs0O8iCHHF1qggz/B8wg6Iznv+//B08QgohsjK0QGFk7hsQ4gB';
    this.hm_1 = decodeVarLenBase64(rangeCategory, fromBase64, 222);
  }
  Letter.$metadata$ = objectMeta('Letter');
  var Letter_instance;
  function Letter_getInstance() {
    if (Letter_instance == null)
      new Letter();
    return Letter_instance;
  }
  function isOtherLowercase(_this__u8e3s4) {
    var index = binarySearchRange(OtherLowercase_getInstance().im_1, _this__u8e3s4);
    return index >= 0 ? _this__u8e3s4 < (OtherLowercase_getInstance().im_1[index] + OtherLowercase_getInstance().jm_1[index] | 0) : false;
  }
  function OtherLowercase() {
    OtherLowercase_instance = this;
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = new Int32Array([170, 186, 688, 704, 736, 837, 890, 7468, 7544, 7579, 8305, 8319, 8336, 8560, 9424, 11388, 42652, 42864, 43000, 43868]);
    }
    tmp.im_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = new Int32Array([1, 1, 9, 2, 5, 1, 1, 63, 1, 37, 1, 1, 13, 16, 26, 2, 2, 1, 2, 4]);
    }
    tmp_0.jm_1 = tmp$ret$1;
  }
  OtherLowercase.$metadata$ = objectMeta('OtherLowercase');
  var OtherLowercase_instance;
  function OtherLowercase_getInstance() {
    if (OtherLowercase_instance == null)
      new OtherLowercase();
    return OtherLowercase_instance;
  }
  function titlecaseCharImpl(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = Char__toInt_impl_vasixd(_this__u8e3s4);
    }
    var code = tmp$ret$0;
    if ((452 <= code ? code <= 460 : false) ? true : 497 <= code ? code <= 499 : false) {
      return numberToChar(imul(3, (code + 1 | 0) / 3 | 0));
    }
    if ((4304 <= code ? code <= 4346 : false) ? true : 4349 <= code ? code <= 4351 : false) {
      return _this__u8e3s4;
    }
    return uppercaseChar(_this__u8e3s4);
  }
  function isWhitespaceImpl(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = Char__toInt_impl_vasixd(_this__u8e3s4);
    }
    var ch = tmp$ret$0;
    return (((9 <= ch ? ch <= 13 : false) ? true : 28 <= ch ? ch <= 32 : false) ? true : ch === 160) ? true : ch > 4096 ? (((((ch === 5760 ? true : 8192 <= ch ? ch <= 8202 : false) ? true : ch === 8232) ? true : ch === 8233) ? true : ch === 8239) ? true : ch === 8287) ? true : ch === 12288 : false;
  }
  function releaseIntercepted($this) {
    var intercepted = $this.q7_1;
    if (!(intercepted == null) ? !(intercepted === $this) : false) {
      ensureNotNull($this.s4().f8(Key_getInstance())).e8(intercepted);
    }
    $this.q7_1 = CompletedContinuation_getInstance();
  }
  function CoroutineImpl(resultContinuation) {
    this.j7_1 = resultContinuation;
    this.k7_1 = 0;
    this.l7_1 = 0;
    this.m7_1 = null;
    this.n7_1 = null;
    this.o7_1 = null;
    var tmp = this;
    var tmp0_safe_receiver = this.j7_1;
    tmp.p7_1 = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.s4();
    this.q7_1 = null;
  }
  CoroutineImpl.prototype.km = function () {
    return this.n7_1;
  };
  CoroutineImpl.prototype.s4 = function () {
    return ensureNotNull(this.p7_1);
  };
  CoroutineImpl.prototype.u7 = function () {
    var tmp2_elvis_lhs = this.q7_1;
    var tmp;
    if (tmp2_elvis_lhs == null) {
      var tmp$ret$0;
      {
        var tmp0_safe_receiver = this.s4().f8(Key_getInstance());
        var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.d8(this);
        var tmp0_also = tmp1_elvis_lhs == null ? this : tmp1_elvis_lhs;
        {
        }
        {
          this.q7_1 = tmp0_also;
        }
        tmp$ret$0 = tmp0_also;
      }
      tmp = tmp$ret$0;
    } else {
      tmp = tmp2_elvis_lhs;
    }
    return tmp;
  };
  CoroutineImpl.prototype.v7 = function (result) {
    var current = this;
    var tmp$ret$0;
    {
      var tmp;
      if (_Result___get_isFailure__impl__jpiriv(result)) {
        tmp = null;
      } else {
        var tmp_0 = _Result___get_value__impl__bjfvqg(result);
        tmp = (tmp_0 == null ? true : isObject(tmp_0)) ? tmp_0 : THROW_CCE();
      }
      tmp$ret$0 = tmp;
    }
    var currentResult = tmp$ret$0;
    var currentException = Result__exceptionOrNull_impl_p6xea9(result);
    while (true) {
      var tmp$ret$6;
      {
        var tmp0_with = current;
        {
        }
        if (currentException == null) {
          tmp0_with.m7_1 = currentResult;
        } else {
          tmp0_with.k7_1 = tmp0_with.l7_1;
          tmp0_with.n7_1 = currentException;
        }
        try {
          var outcome = tmp0_with.r7();
          if (outcome === get_COROUTINE_SUSPENDED())
            return Unit_getInstance();
          currentResult = outcome;
          currentException = null;
        } catch ($p) {
          currentResult = null;
          var tmp$ret$1;
          {
            tmp$ret$1 = $p;
          }
          currentException = tmp$ret$1;
        }
        releaseIntercepted(tmp0_with);
        var completion = ensureNotNull(tmp0_with.j7_1);
        var tmp_1;
        if (completion instanceof CoroutineImpl) {
          current = completion;
          tmp_1 = Unit_getInstance();
        } else {
          if (!(currentException == null)) {
            var tmp$ret$3;
            {
              var tmp0_resumeWithException = ensureNotNull(currentException);
              var tmp$ret$2;
              {
                var tmp0_failure = Companion_getInstance_8();
                tmp$ret$2 = _Result___init__impl__xyqfz8(createFailure(tmp0_resumeWithException));
              }
              tmp$ret$3 = completion.q4(tmp$ret$2);
            }
          } else {
            var tmp$ret$5;
            {
              var tmp1_resume = currentResult;
              var tmp$ret$4;
              {
                var tmp0_success = Companion_getInstance_8();
                tmp$ret$4 = _Result___init__impl__xyqfz8(tmp1_resume);
              }
              tmp$ret$5 = completion.q4(tmp$ret$4);
            }
          }
          return Unit_getInstance();
        }
        tmp$ret$6 = tmp_1;
      }
    }
  };
  CoroutineImpl.prototype.q4 = function (result) {
    return this.v7(result);
  };
  CoroutineImpl.$metadata$ = classMeta('CoroutineImpl', [Continuation]);
  function CompletedContinuation() {
    CompletedContinuation_instance = this;
  }
  CompletedContinuation.prototype.s4 = function () {
    throw IllegalStateException_init_$Create$_0('This continuation is already complete');
  };
  CompletedContinuation.prototype.v7 = function (result) {
    {
      throw IllegalStateException_init_$Create$_0('This continuation is already complete');
    }
  };
  CompletedContinuation.prototype.q4 = function (result) {
    return this.v7(result);
  };
  CompletedContinuation.prototype.toString = function () {
    return 'This continuation is already complete';
  };
  CompletedContinuation.$metadata$ = objectMeta('CompletedContinuation', [Continuation]);
  var CompletedContinuation_instance;
  function CompletedContinuation_getInstance() {
    if (CompletedContinuation_instance == null)
      new CompletedContinuation();
    return CompletedContinuation_instance;
  }
  function intercepted(_this__u8e3s4) {
    var tmp0_safe_receiver = _this__u8e3s4 instanceof CoroutineImpl ? _this__u8e3s4 : null;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.u7();
    return tmp1_elvis_lhs == null ? _this__u8e3s4 : tmp1_elvis_lhs;
  }
  function createCoroutineUnintercepted(_this__u8e3s4, receiver, completion) {
    var tmp$ret$0;
    {
      tmp$ret$0 = new _no_name_provided__qut3iv_11(completion, _this__u8e3s4, receiver);
    }
    return tmp$ret$0;
  }
  function startCoroutineUninterceptedOrReturn(_this__u8e3s4, receiver, completion) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    var a = tmp$ret$0;
    return typeof a === 'function' ? a(receiver, completion) : _this__u8e3s4.s7(receiver, completion);
  }
  function createCoroutineFromSuspendFunction(completion, block) {
    return new _no_name_provided__qut3iv_12(completion, block);
  }
  function invokeSuspendSuperTypeWithReceiver(_this__u8e3s4, receiver, completion) {
    throw new NotImplementedError('It is intrinsic method');
  }
  function startCoroutineUninterceptedOrReturn_0(_this__u8e3s4, receiver, param, completion) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    var a = tmp$ret$0;
    return typeof a === 'function' ? a(receiver, param, completion) : _this__u8e3s4.kc(receiver, param, completion);
  }
  function invokeSuspendSuperTypeWithReceiverAndParam(_this__u8e3s4, receiver, param, completion) {
    throw new NotImplementedError('It is intrinsic method');
  }
  function _no_name_provided__qut3iv_11($completion, $this_createCoroutineUnintercepted, $receiver) {
    this.tm_1 = $completion;
    this.um_1 = $this_createCoroutineUnintercepted;
    this.vm_1 = $receiver;
    CoroutineImpl.call(this, isInterface($completion, Continuation) ? $completion : THROW_CCE());
  }
  _no_name_provided__qut3iv_11.prototype.r7 = function () {
    if (this.km() != null)
      throw this.km();
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = this.um_1;
      }
      var a = tmp$ret$0;
      tmp$ret$1 = typeof a === 'function' ? a(this.vm_1, this.tm_1) : this.um_1.s7(this.vm_1, this.tm_1);
    }
    return tmp$ret$1;
  };
  _no_name_provided__qut3iv_11.$metadata$ = classMeta(undefined, undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function _no_name_provided__qut3iv_12($completion, $block) {
    this.en_1 = $block;
    CoroutineImpl.call(this, isInterface($completion, Continuation) ? $completion : THROW_CCE());
  }
  _no_name_provided__qut3iv_12.prototype.r7 = function () {
    if (this.km() != null)
      throw this.km();
    return this.en_1();
  };
  _no_name_provided__qut3iv_12.$metadata$ = classMeta(undefined, undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function Exception_init_$Init$($this) {
    extendThrowable($this, void 1, void 1);
    Exception.call($this);
    return $this;
  }
  function Exception_init_$Init$_0(message, $this) {
    extendThrowable($this, message, void 1);
    Exception.call($this);
    return $this;
  }
  function Exception_init_$Create$(message) {
    var tmp = Exception_init_$Init$_0(message, Object.create(Exception.prototype));
    captureStack(tmp, Exception_init_$Create$);
    return tmp;
  }
  function Exception_init_$Init$_1(message, cause, $this) {
    extendThrowable($this, message, cause);
    Exception.call($this);
    return $this;
  }
  function Exception() {
    captureStack(this, Exception);
  }
  Exception.$metadata$ = classMeta('Exception', undefined, undefined, undefined, undefined, Error.prototype);
  function Error_init_$Init$(message, $this) {
    extendThrowable($this, message, void 1);
    Error_0.call($this);
    return $this;
  }
  function Error_init_$Create$(message) {
    var tmp = Error_init_$Init$(message, Object.create(Error_0.prototype));
    captureStack(tmp, Error_init_$Create$);
    return tmp;
  }
  function Error_init_$Init$_0(message, cause, $this) {
    extendThrowable($this, message, cause);
    Error_0.call($this);
    return $this;
  }
  function Error_0() {
    captureStack(this, Error_0);
  }
  Error_0.$metadata$ = classMeta('Error', undefined, undefined, undefined, undefined, Error.prototype);
  function IllegalArgumentException_init_$Init$($this) {
    RuntimeException_init_$Init$($this);
    IllegalArgumentException.call($this);
    return $this;
  }
  function IllegalArgumentException_init_$Create$() {
    var tmp = IllegalArgumentException_init_$Init$(Object.create(IllegalArgumentException.prototype));
    captureStack(tmp, IllegalArgumentException_init_$Create$);
    return tmp;
  }
  function IllegalArgumentException_init_$Init$_0(message, $this) {
    RuntimeException_init_$Init$_0(message, $this);
    IllegalArgumentException.call($this);
    return $this;
  }
  function IllegalArgumentException_init_$Create$_0(message) {
    var tmp = IllegalArgumentException_init_$Init$_0(message, Object.create(IllegalArgumentException.prototype));
    captureStack(tmp, IllegalArgumentException_init_$Create$_0);
    return tmp;
  }
  function IllegalArgumentException_init_$Init$_1(message, cause, $this) {
    RuntimeException_init_$Init$_1(message, cause, $this);
    IllegalArgumentException.call($this);
    return $this;
  }
  function IllegalArgumentException_init_$Create$_1(message, cause) {
    var tmp = IllegalArgumentException_init_$Init$_1(message, cause, Object.create(IllegalArgumentException.prototype));
    captureStack(tmp, IllegalArgumentException_init_$Create$_1);
    return tmp;
  }
  function IllegalArgumentException() {
    captureStack(this, IllegalArgumentException);
  }
  IllegalArgumentException.$metadata$ = classMeta('IllegalArgumentException', undefined, undefined, undefined, undefined, RuntimeException.prototype);
  function IllegalStateException_init_$Init$($this) {
    RuntimeException_init_$Init$($this);
    IllegalStateException.call($this);
    return $this;
  }
  function IllegalStateException_init_$Create$() {
    var tmp = IllegalStateException_init_$Init$(Object.create(IllegalStateException.prototype));
    captureStack(tmp, IllegalStateException_init_$Create$);
    return tmp;
  }
  function IllegalStateException_init_$Init$_0(message, $this) {
    RuntimeException_init_$Init$_0(message, $this);
    IllegalStateException.call($this);
    return $this;
  }
  function IllegalStateException_init_$Create$_0(message) {
    var tmp = IllegalStateException_init_$Init$_0(message, Object.create(IllegalStateException.prototype));
    captureStack(tmp, IllegalStateException_init_$Create$_0);
    return tmp;
  }
  function IllegalStateException_init_$Init$_1(message, cause, $this) {
    RuntimeException_init_$Init$_1(message, cause, $this);
    IllegalStateException.call($this);
    return $this;
  }
  function IllegalStateException_init_$Create$_1(message, cause) {
    var tmp = IllegalStateException_init_$Init$_1(message, cause, Object.create(IllegalStateException.prototype));
    captureStack(tmp, IllegalStateException_init_$Create$_1);
    return tmp;
  }
  function IllegalStateException() {
    captureStack(this, IllegalStateException);
  }
  IllegalStateException.$metadata$ = classMeta('IllegalStateException', undefined, undefined, undefined, undefined, RuntimeException.prototype);
  function NoSuchElementException_init_$Init$($this) {
    RuntimeException_init_$Init$($this);
    NoSuchElementException.call($this);
    return $this;
  }
  function NoSuchElementException_init_$Create$() {
    var tmp = NoSuchElementException_init_$Init$(Object.create(NoSuchElementException.prototype));
    captureStack(tmp, NoSuchElementException_init_$Create$);
    return tmp;
  }
  function NoSuchElementException_init_$Init$_0(message, $this) {
    RuntimeException_init_$Init$_0(message, $this);
    NoSuchElementException.call($this);
    return $this;
  }
  function NoSuchElementException_init_$Create$_0(message) {
    var tmp = NoSuchElementException_init_$Init$_0(message, Object.create(NoSuchElementException.prototype));
    captureStack(tmp, NoSuchElementException_init_$Create$_0);
    return tmp;
  }
  function NoSuchElementException() {
    captureStack(this, NoSuchElementException);
  }
  NoSuchElementException.$metadata$ = classMeta('NoSuchElementException', undefined, undefined, undefined, undefined, RuntimeException.prototype);
  function RuntimeException_init_$Init$($this) {
    Exception_init_$Init$($this);
    RuntimeException.call($this);
    return $this;
  }
  function RuntimeException_init_$Init$_0(message, $this) {
    Exception_init_$Init$_0(message, $this);
    RuntimeException.call($this);
    return $this;
  }
  function RuntimeException_init_$Init$_1(message, cause, $this) {
    Exception_init_$Init$_1(message, cause, $this);
    RuntimeException.call($this);
    return $this;
  }
  function RuntimeException_init_$Create$(message, cause) {
    var tmp = RuntimeException_init_$Init$_1(message, cause, Object.create(RuntimeException.prototype));
    captureStack(tmp, RuntimeException_init_$Create$);
    return tmp;
  }
  function RuntimeException() {
    captureStack(this, RuntimeException);
  }
  RuntimeException.$metadata$ = classMeta('RuntimeException', undefined, undefined, undefined, undefined, Exception.prototype);
  function IndexOutOfBoundsException_init_$Init$(message, $this) {
    RuntimeException_init_$Init$_0(message, $this);
    IndexOutOfBoundsException.call($this);
    return $this;
  }
  function IndexOutOfBoundsException_init_$Create$(message) {
    var tmp = IndexOutOfBoundsException_init_$Init$(message, Object.create(IndexOutOfBoundsException.prototype));
    captureStack(tmp, IndexOutOfBoundsException_init_$Create$);
    return tmp;
  }
  function IndexOutOfBoundsException() {
    captureStack(this, IndexOutOfBoundsException);
  }
  IndexOutOfBoundsException.$metadata$ = classMeta('IndexOutOfBoundsException', undefined, undefined, undefined, undefined, RuntimeException.prototype);
  function UnsupportedOperationException_init_$Init$($this) {
    RuntimeException_init_$Init$($this);
    UnsupportedOperationException.call($this);
    return $this;
  }
  function UnsupportedOperationException_init_$Create$() {
    var tmp = UnsupportedOperationException_init_$Init$(Object.create(UnsupportedOperationException.prototype));
    captureStack(tmp, UnsupportedOperationException_init_$Create$);
    return tmp;
  }
  function UnsupportedOperationException_init_$Init$_0(message, $this) {
    RuntimeException_init_$Init$_0(message, $this);
    UnsupportedOperationException.call($this);
    return $this;
  }
  function UnsupportedOperationException_init_$Create$_0(message) {
    var tmp = UnsupportedOperationException_init_$Init$_0(message, Object.create(UnsupportedOperationException.prototype));
    captureStack(tmp, UnsupportedOperationException_init_$Create$_0);
    return tmp;
  }
  function UnsupportedOperationException() {
    captureStack(this, UnsupportedOperationException);
  }
  UnsupportedOperationException.$metadata$ = classMeta('UnsupportedOperationException', undefined, undefined, undefined, undefined, RuntimeException.prototype);
  function AssertionError_init_$Init$(message, $this) {
    Error_init_$Init$(message, $this);
    AssertionError.call($this);
    return $this;
  }
  function AssertionError_init_$Create$(message) {
    var tmp = AssertionError_init_$Init$(message, Object.create(AssertionError.prototype));
    captureStack(tmp, AssertionError_init_$Create$);
    return tmp;
  }
  function AssertionError() {
    captureStack(this, AssertionError);
  }
  AssertionError.$metadata$ = classMeta('AssertionError', undefined, undefined, undefined, undefined, Error_0.prototype);
  function NullPointerException_init_$Init$($this) {
    RuntimeException_init_$Init$($this);
    NullPointerException.call($this);
    return $this;
  }
  function NullPointerException_init_$Create$() {
    var tmp = NullPointerException_init_$Init$(Object.create(NullPointerException.prototype));
    captureStack(tmp, NullPointerException_init_$Create$);
    return tmp;
  }
  function NullPointerException_init_$Init$_0(message, $this) {
    RuntimeException_init_$Init$_0(message, $this);
    NullPointerException.call($this);
    return $this;
  }
  function NullPointerException_init_$Create$_0(message) {
    var tmp = NullPointerException_init_$Init$_0(message, Object.create(NullPointerException.prototype));
    captureStack(tmp, NullPointerException_init_$Create$_0);
    return tmp;
  }
  function NullPointerException() {
    captureStack(this, NullPointerException);
  }
  NullPointerException.$metadata$ = classMeta('NullPointerException', undefined, undefined, undefined, undefined, RuntimeException.prototype);
  function ArithmeticException_init_$Init$(message, $this) {
    RuntimeException_init_$Init$_0(message, $this);
    ArithmeticException.call($this);
    return $this;
  }
  function ArithmeticException_init_$Create$(message) {
    var tmp = ArithmeticException_init_$Init$(message, Object.create(ArithmeticException.prototype));
    captureStack(tmp, ArithmeticException_init_$Create$);
    return tmp;
  }
  function ArithmeticException() {
    captureStack(this, ArithmeticException);
  }
  ArithmeticException.$metadata$ = classMeta('ArithmeticException', undefined, undefined, undefined, undefined, RuntimeException.prototype);
  function NumberFormatException_init_$Init$(message, $this) {
    IllegalArgumentException_init_$Init$_0(message, $this);
    NumberFormatException.call($this);
    return $this;
  }
  function NumberFormatException_init_$Create$(message) {
    var tmp = NumberFormatException_init_$Init$(message, Object.create(NumberFormatException.prototype));
    captureStack(tmp, NumberFormatException_init_$Create$);
    return tmp;
  }
  function NumberFormatException() {
    captureStack(this, NumberFormatException);
  }
  NumberFormatException.$metadata$ = classMeta('NumberFormatException', undefined, undefined, undefined, undefined, IllegalArgumentException.prototype);
  function NoWhenBranchMatchedException_init_$Init$($this) {
    RuntimeException_init_$Init$($this);
    NoWhenBranchMatchedException.call($this);
    return $this;
  }
  function NoWhenBranchMatchedException_init_$Create$() {
    var tmp = NoWhenBranchMatchedException_init_$Init$(Object.create(NoWhenBranchMatchedException.prototype));
    captureStack(tmp, NoWhenBranchMatchedException_init_$Create$);
    return tmp;
  }
  function NoWhenBranchMatchedException() {
    captureStack(this, NoWhenBranchMatchedException);
  }
  NoWhenBranchMatchedException.$metadata$ = classMeta('NoWhenBranchMatchedException', undefined, undefined, undefined, undefined, RuntimeException.prototype);
  function ClassCastException_init_$Init$($this) {
    RuntimeException_init_$Init$($this);
    ClassCastException.call($this);
    return $this;
  }
  function ClassCastException_init_$Create$() {
    var tmp = ClassCastException_init_$Init$(Object.create(ClassCastException.prototype));
    captureStack(tmp, ClassCastException_init_$Create$);
    return tmp;
  }
  function ClassCastException() {
    captureStack(this, ClassCastException);
  }
  ClassCastException.$metadata$ = classMeta('ClassCastException', undefined, undefined, undefined, undefined, RuntimeException.prototype);
  function UninitializedPropertyAccessException_init_$Init$(message, $this) {
    RuntimeException_init_$Init$_0(message, $this);
    UninitializedPropertyAccessException.call($this);
    return $this;
  }
  function UninitializedPropertyAccessException_init_$Create$(message) {
    var tmp = UninitializedPropertyAccessException_init_$Init$(message, Object.create(UninitializedPropertyAccessException.prototype));
    captureStack(tmp, UninitializedPropertyAccessException_init_$Create$);
    return tmp;
  }
  function UninitializedPropertyAccessException() {
    captureStack(this, UninitializedPropertyAccessException);
  }
  UninitializedPropertyAccessException.$metadata$ = classMeta('UninitializedPropertyAccessException', undefined, undefined, undefined, undefined, RuntimeException.prototype);
  function jsIn(lhs_hack, rhs_hack) {
    var tmp$ret$0;
    {
      var tmp0_unsafeCast = lhs_hack in rhs_hack;
      tmp$ret$0 = tmp0_unsafeCast;
    }
    return tmp$ret$0;
  }
  function jsBitwiseOr(lhs_hack, rhs_hack) {
    var tmp$ret$0;
    {
      var tmp0_unsafeCast = lhs_hack | rhs_hack;
      tmp$ret$0 = tmp0_unsafeCast;
    }
    return tmp$ret$0;
  }
  function jsTypeOf(value_hack) {
    var tmp$ret$0;
    {
      var tmp0_unsafeCast = typeof value_hack;
      tmp$ret$0 = tmp0_unsafeCast;
    }
    return tmp$ret$0;
  }
  function jsDeleteProperty(obj_hack, property_hack) {
    delete obj_hack[property_hack];
  }
  function jsInstanceOf(obj_hack, jsClass_hack) {
    var tmp$ret$0;
    {
      var tmp0_unsafeCast = obj_hack instanceof jsClass_hack;
      tmp$ret$0 = tmp0_unsafeCast;
    }
    return tmp$ret$0;
  }
  function findAssociatedObject(_this__u8e3s4, annotationClass) {
    var tmp;
    var tmp_0;
    if (_this__u8e3s4 instanceof KClassImpl) {
      tmp_0 = annotationClass instanceof KClassImpl;
    } else {
      tmp_0 = false;
    }
    if (tmp_0) {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          var tmp0_asDynamic = annotationClass.di();
          tmp$ret$0 = tmp0_asDynamic;
        }
        var tmp1_unsafeCast = tmp$ret$0;
        tmp$ret$1 = tmp1_unsafeCast;
      }
      var tmp0_safe_receiver = tmp$ret$1.$metadata$;
      var tmp1_safe_receiver = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.associatedObjectKey;
      var tmp_1;
      if (tmp1_safe_receiver == null) {
        tmp_1 = null;
      } else {
        var tmp$ret$3;
        {
          var tmp$ret$2;
          {
            tmp$ret$2 = tmp1_safe_receiver;
          }
          tmp$ret$3 = tmp$ret$2;
        }
        tmp_1 = tmp$ret$3;
      }
      var tmp2_elvis_lhs = tmp_1;
      var tmp_2;
      if (tmp2_elvis_lhs == null) {
        return null;
      } else {
        tmp_2 = tmp2_elvis_lhs;
      }
      var key = tmp_2;
      var tmp$ret$5;
      {
        var tmp$ret$4;
        {
          var tmp2_asDynamic = _this__u8e3s4.di();
          tmp$ret$4 = tmp2_asDynamic;
        }
        var tmp3_unsafeCast = tmp$ret$4;
        tmp$ret$5 = tmp3_unsafeCast;
      }
      var tmp3_safe_receiver = tmp$ret$5.$metadata$;
      var tmp4_elvis_lhs = tmp3_safe_receiver == null ? null : tmp3_safe_receiver.associatedObjects;
      var tmp_3;
      if (tmp4_elvis_lhs == null) {
        return null;
      } else {
        tmp_3 = tmp4_elvis_lhs;
      }
      var map = tmp_3;
      var tmp5_elvis_lhs = map[key];
      var tmp_4;
      if (tmp5_elvis_lhs == null) {
        return null;
      } else {
        tmp_4 = tmp5_elvis_lhs;
      }
      var factory = tmp_4;
      return factory();
    } else {
      tmp = null;
    }
    return tmp;
  }
  function toString_5(_this__u8e3s4, radix) {
    return toStringImpl(_this__u8e3s4, checkRadix(radix));
  }
  function Function1() {
  }
  Function1.$metadata$ = interfaceMeta('Function1');
  function Function0() {
  }
  Function0.$metadata$ = interfaceMeta('Function0');
  function SuspendFunction1() {
  }
  SuspendFunction1.$metadata$ = interfaceMeta('SuspendFunction1');
  function SuspendFunction2() {
  }
  SuspendFunction2.$metadata$ = interfaceMeta('SuspendFunction2');
  //region block: post-declaration
  CombinedContext.prototype.m8 = plus;
  AbstractCoroutineContextElement.prototype.f8 = get;
  AbstractCoroutineContextElement.prototype.l8 = fold;
  AbstractCoroutineContextElement.prototype.k8 = minusKey;
  AbstractCoroutineContextElement.prototype.m8 = plus;
  InternalHashCodeMap.prototype.xg = createJsMap;
  //endregion
  //region block: init
  PI = 3.141592653589793;
  _stableSortingIsSupported = null;
  interfacesCounter = 0;
  //endregion
  //region block: exports
  _.$_$ = _.$_$ || {};
  _.$_$.a = createKType;
  _.$_$.b = findAssociatedObject;
  _.$_$.c = getKClassFromExpression;
  _.$_$.d = getKClass;
  _.$_$.e = LazyThreadSafetyMode_PUBLICATION_getInstance;
  _.$_$.f = returnIfSuspended;
  _.$_$.g = fill$default;
  _.$_$.h = joinToString$default_0;
  _.$_$.i = joinToString$default;
  _.$_$.j = joinTo$default;
  _.$_$.k = joinToString$default_1;
  _.$_$.l = contains$default;
  _.$_$.m = indexOf$default;
  _.$_$.n = lastIndexOf$default;
  _.$_$.o = replace$default;
  _.$_$.p = split$default;
  _.$_$.q = startsWith$default_1;
  _.$_$.r = NotImplementedError_init_$Create$;
  _.$_$.s = ArrayList_init_$Create$_0;
  _.$_$.t = ArrayList_init_$Create$;
  _.$_$.u = ArrayList_init_$Create$_1;
  _.$_$.v = HashMap_init_$Create$_1;
  _.$_$.w = HashMap_init_$Create$;
  _.$_$.x = HashMap_init_$Create$_2;
  _.$_$.y = HashSet_init_$Create$_1;
  _.$_$.z = HashSet_init_$Create$;
  _.$_$.a1 = HashSet_init_$Create$_0;
  _.$_$.b1 = LinkedHashMap_init_$Create$_1;
  _.$_$.c1 = LinkedHashMap_init_$Create$;
  _.$_$.d1 = LinkedHashMap_init_$Create$_2;
  _.$_$.e1 = LinkedHashSet_init_$Create$;
  _.$_$.f1 = LinkedHashSet_init_$Create$_0;
  _.$_$.g1 = CancellationException_init_$Create$;
  _.$_$.h1 = CancellationException_init_$Init$_0;
  _.$_$.i1 = Regex_init_$Create$;
  _.$_$.j1 = StringBuilder_init_$Create$_0;
  _.$_$.k1 = AssertionError_init_$Create$;
  _.$_$.l1 = Error_init_$Create$;
  _.$_$.m1 = Error_init_$Init$_0;
  _.$_$.n1 = Exception_init_$Init$_1;
  _.$_$.o1 = IllegalArgumentException_init_$Create$;
  _.$_$.p1 = IllegalArgumentException_init_$Init$_0;
  _.$_$.q1 = IllegalArgumentException_init_$Create$_0;
  _.$_$.r1 = IllegalArgumentException_init_$Init$_1;
  _.$_$.s1 = IllegalStateException_init_$Create$;
  _.$_$.t1 = IllegalStateException_init_$Init$_0;
  _.$_$.u1 = IllegalStateException_init_$Create$_0;
  _.$_$.v1 = IllegalStateException_init_$Create$_1;
  _.$_$.w1 = IndexOutOfBoundsException_init_$Create$;
  _.$_$.x1 = NoSuchElementException_init_$Create$;
  _.$_$.y1 = NoSuchElementException_init_$Init$_0;
  _.$_$.z1 = NoSuchElementException_init_$Create$_0;
  _.$_$.a2 = NullPointerException_init_$Create$_0;
  _.$_$.b2 = RuntimeException_init_$Init$_1;
  _.$_$.c2 = RuntimeException_init_$Create$;
  _.$_$.d2 = UnsupportedOperationException_init_$Create$;
  _.$_$.e2 = UnsupportedOperationException_init_$Create$_0;
  _.$_$.f2 = ValueTimeMark__elapsedNow_impl_eonqvs;
  _.$_$.g2 = _Char___init__impl__6a9atx;
  _.$_$.h2 = Char__minus_impl_a2frrh;
  _.$_$.i2 = Char__plus_impl_qi7pgj;
  _.$_$.j2 = Char__toInt_impl_vasixd;
  _.$_$.k2 = toString_2;
  _.$_$.l2 = _Result___init__impl__xyqfz8;
  _.$_$.m2 = Result__exceptionOrNull_impl_p6xea9;
  _.$_$.n2 = _Result___get_isFailure__impl__jpiriv;
  _.$_$.o2 = _Result___get_value__impl__bjfvqg;
  _.$_$.p2 = _UInt___init__impl__l7qpdl;
  _.$_$.q2 = _UInt___get_data__impl__f0vqqw;
  _.$_$.r2 = _ULong___init__impl__c78o9k;
  _.$_$.s2 = _ULong___get_data__impl__fggpzb;
  _.$_$.t2 = ULong__hashCode_impl_6hv2lb;
  _.$_$.u2 = Key_getInstance;
  _.$_$.v2 = EmptyCoroutineContext_getInstance;
  _.$_$.w2 = BooleanCompanionObject_getInstance;
  _.$_$.x2 = ByteCompanionObject_getInstance;
  _.$_$.y2 = DoubleCompanionObject_getInstance;
  _.$_$.z2 = FloatCompanionObject_getInstance;
  _.$_$.a3 = IntCompanionObject_getInstance;
  _.$_$.b3 = ShortCompanionObject_getInstance;
  _.$_$.c3 = StringCompanionObject_getInstance;
  _.$_$.d3 = Default_getInstance;
  _.$_$.e3 = PrimitiveClasses_getInstance;
  _.$_$.f3 = Companion_getInstance_7;
  _.$_$.g3 = Monotonic_getInstance;
  _.$_$.h3 = Companion_getInstance_12;
  _.$_$.i3 = Companion_getInstance_14;
  _.$_$.j3 = Companion_getInstance_8;
  _.$_$.k3 = Unit_getInstance;
  _.$_$.l3 = ArrayList;
  _.$_$.m3 = Collection;
  _.$_$.n3 = HashMap;
  _.$_$.o3 = HashSet;
  _.$_$.p3 = Iterable_0;
  _.$_$.q3 = Iterator;
  _.$_$.r3 = LinkedHashMap;
  _.$_$.s3 = LinkedHashSet;
  _.$_$.t3 = List_0;
  _.$_$.u3 = Entry;
  _.$_$.v3 = Map;
  _.$_$.w3 = MutableListIterator;
  _.$_$.x3 = MutableList_0;
  _.$_$.y3 = MutableEntry;
  _.$_$.z3 = MutableMap;
  _.$_$.a4 = MutableSet;
  _.$_$.b4 = Set;
  _.$_$.c4 = addAll;
  _.$_$.d4 = addAll_0;
  _.$_$.e4 = arrayCopy;
  _.$_$.f4 = arrayListOf_0;
  _.$_$.g4 = asIterable_0;
  _.$_$.h4 = asIterable;
  _.$_$.i4 = asList;
  _.$_$.j4 = asSequence_1;
  _.$_$.k4 = asSequence_0;
  _.$_$.l4 = asSequence_2;
  _.$_$.m4 = asSequence;
  _.$_$.n4 = checkIndexOverflow;
  _.$_$.o4 = collectionSizeOrDefault;
  _.$_$.p4 = contains_1;
  _.$_$.q4 = contains_0;
  _.$_$.r4 = contentEquals;
  _.$_$.s4 = contentEquals_0;
  _.$_$.t4 = contentHashCode_0;
  _.$_$.u4 = contentHashCode;
  _.$_$.v4 = copyOf_4;
  _.$_$.w4 = copyOf_2;
  _.$_$.x4 = copyOf_6;
  _.$_$.y4 = copyOf;
  _.$_$.z4 = copyOf_5;
  _.$_$.a5 = copyOf_0;
  _.$_$.b5 = copyOf_1;
  _.$_$.c5 = copyOf_7;
  _.$_$.d5 = copyOf_3;
  _.$_$.e5 = copyToArray;
  _.$_$.f5 = distinct;
  _.$_$.g5 = distinct_0;
  _.$_$.h5 = emptyList;
  _.$_$.i5 = emptyMap;
  _.$_$.j5 = emptySet;
  _.$_$.k5 = fill;
  _.$_$.l5 = first;
  _.$_$.m5 = flatten;
  _.$_$.n5 = getValue;
  _.$_$.o5 = get_indices_0;
  _.$_$.p5 = get_indices_1;
  _.$_$.q5 = get_indices;
  _.$_$.r5 = get_indices_2;
  _.$_$.s5 = get_lastIndex_1;
  _.$_$.t5 = get_lastIndex_2;
  _.$_$.u5 = get_lastIndex_3;
  _.$_$.v5 = get_lastIndex;
  _.$_$.w5 = lastOrNull;
  _.$_$.x5 = last;
  _.$_$.y5 = listOf_0;
  _.$_$.z5 = listOf;
  _.$_$.a6 = mapCapacity;
  _.$_$.b6 = mapOf;
  _.$_$.c6 = minus;
  _.$_$.d6 = mutableListOf_0;
  _.$_$.e6 = mutableMapOf_0;
  _.$_$.f6 = mutableSetOf_0;
  _.$_$.g6 = plus_0;
  _.$_$.h6 = removeAll;
  _.$_$.i6 = removeAll_0;
  _.$_$.j6 = removeAll_1;
  _.$_$.k6 = removeLastOrNull;
  _.$_$.l6 = removeLast;
  _.$_$.m6 = retainAll;
  _.$_$.n6 = reversed;
  _.$_$.o6 = reversed_0;
  _.$_$.p6 = setOf_0;
  _.$_$.q6 = setOf;
  _.$_$.r6 = shuffled;
  _.$_$.s6 = singleOrNull;
  _.$_$.t6 = sortWith;
  _.$_$.u6 = sortedWith;
  _.$_$.v6 = sorted;
  _.$_$.w6 = sum_1;
  _.$_$.x6 = sum_0;
  _.$_$.y6 = sum;
  _.$_$.z6 = toBooleanArray;
  _.$_$.a7 = toHashSet;
  _.$_$.b7 = toIntArray;
  _.$_$.c7 = toList_0;
  _.$_$.d7 = toList;
  _.$_$.e7 = toMap;
  _.$_$.f7 = toMutableList_2;
  _.$_$.g7 = toMutableList_1;
  _.$_$.h7 = toSet_0;
  _.$_$.i7 = withIndex;
  _.$_$.j7 = compareValues;
  _.$_$.k7 = CancellationException;
  _.$_$.l7 = get_COROUTINE_SUSPENDED;
  _.$_$.m7 = createCoroutineUnintercepted;
  _.$_$.n7 = intercepted;
  _.$_$.o7 = AbstractCoroutineContextElement;
  _.$_$.p7 = AbstractCoroutineContextKey;
  _.$_$.q7 = get_0;
  _.$_$.r7 = minusKey_0;
  _.$_$.s7 = ContinuationInterceptor;
  _.$_$.t7 = Continuation;
  _.$_$.u7 = fold;
  _.$_$.v7 = get;
  _.$_$.w7 = minusKey;
  _.$_$.x7 = Element;
  _.$_$.y7 = Key_0;
  _.$_$.z7 = plus;
  _.$_$.a8 = CoroutineImpl;
  _.$_$.b8 = SuspendFunction1;
  _.$_$.c8 = SuspendFunction2;
  _.$_$.d8 = startCoroutine;
  _.$_$.e8 = getProgressionLastElement;
  _.$_$.f8 = println;
  _.$_$.g8 = anyToString;
  _.$_$.h8 = arrayIterator;
  _.$_$.i8 = booleanArray;
  _.$_$.j8 = captureStack;
  _.$_$.k8 = charArrayOf_0;
  _.$_$.l8 = charArray;
  _.$_$.m8 = charSequenceGet;
  _.$_$.n8 = charSequenceLength;
  _.$_$.o8 = charSequenceSubSequence;
  _.$_$.p8 = classMeta;
  _.$_$.q8 = compareTo_0;
  _.$_$.r8 = equals_1;
  _.$_$.s8 = fillArrayVal;
  _.$_$.t8 = getNumberHashCode;
  _.$_$.u8 = getPropertyCallableRef;
  _.$_$.v8 = getStringHashCode;
  _.$_$.w8 = hashCode_0;
  _.$_$.x8 = intArrayIterator;
  _.$_$.y8 = interfaceMeta;
  _.$_$.z8 = isArray;
  _.$_$.a9 = isBooleanArray;
  _.$_$.b9 = isByteArray;
  _.$_$.c9 = isCharArray;
  _.$_$.d9 = isComparable;
  _.$_$.e9 = isDoubleArray;
  _.$_$.f9 = isFloatArray;
  _.$_$.g9 = isIntArray;
  _.$_$.h9 = isInterface;
  _.$_$.i9 = isLongArray;
  _.$_$.j9 = isObject;
  _.$_$.k9 = isShortArray;
  _.$_$.l9 = isSuspendFunction;
  _.$_$.m9 = get_js;
  _.$_$.n9 = longArray;
  _.$_$.o9 = numberRangeToNumber;
  _.$_$.p9 = numberToChar;
  _.$_$.q9 = numberToInt;
  _.$_$.r9 = objectMeta;
  _.$_$.s9 = toByte;
  _.$_$.t9 = toLong_0;
  _.$_$.u9 = toShort;
  _.$_$.v9 = toString_4;
  _.$_$.w9 = get_PI;
  _.$_$.x9 = abs;
  _.$_$.y9 = log;
  _.$_$.z9 = roundToInt;
  _.$_$.aa = round_0;
  _.$_$.ba = ReadWriteProperty;
  _.$_$.ca = Random_0;
  _.$_$.da = coerceAtLeast;
  _.$_$.ea = coerceAtMost;
  _.$_$.fa = coerceIn;
  _.$_$.ga = reversed_1;
  _.$_$.ha = step;
  _.$_$.ia = until;
  _.$_$.ja = KClass;
  _.$_$.ka = KMutableProperty0;
  _.$_$.la = KMutableProperty1;
  _.$_$.ma = KProperty1;
  _.$_$.na = KTypeParameter;
  _.$_$.oa = SequenceScope;
  _.$_$.pa = Sequence;
  _.$_$.qa = asIterable_1;
  _.$_$.ra = asSequence_3;
  _.$_$.sa = chunked;
  _.$_$.ta = emptySequence;
  _.$_$.ua = filter_0;
  _.$_$.va = flatMap_0;
  _.$_$.wa = generateSequence;
  _.$_$.xa = indexOf_2;
  _.$_$.ya = iterator_1;
  _.$_$.za = map_2;
  _.$_$.ab = sequenceOf;
  _.$_$.bb = sequence;
  _.$_$.cb = toList_1;
  _.$_$.db = StringBuilder;
  _.$_$.eb = decodeToString;
  _.$_$.fb = equals_0;
  _.$_$.gb = isBlank;
  _.$_$.hb = isLowerCase;
  _.$_$.ib = lineSequence;
  _.$_$.jb = lines;
  _.$_$.kb = padEnd;
  _.$_$.lb = padStart;
  _.$_$.mb = prependIndent;
  _.$_$.nb = removePrefix;
  _.$_$.ob = single_2;
  _.$_$.pb = startsWith_1;
  _.$_$.qb = substring_1;
  _.$_$.rb = titlecase;
  _.$_$.sb = toBoolean;
  _.$_$.tb = toDouble;
  _.$_$.ub = toIntOrNull;
  _.$_$.vb = toInt;
  _.$_$.wb = toInt_0;
  _.$_$.xb = toLongOrNull;
  _.$_$.yb = toLong;
  _.$_$.zb = toString_1;
  _.$_$.ac = trimIndent;
  _.$_$.bc = uppercaseChar;
  _.$_$.cc = Duration;
  _.$_$.dc = TimedValue;
  _.$_$.ec = Annotation;
  _.$_$.fc = Char_0;
  _.$_$.gc = Comparator;
  _.$_$.hc = DeepRecursiveFunction;
  _.$_$.ic = DeepRecursiveScope;
  _.$_$.jc = Enum;
  _.$_$.kc = Error_0;
  _.$_$.lc = Exception;
  _.$_$.mc = IllegalArgumentException;
  _.$_$.nc = IllegalStateException;
  _.$_$.oc = Long;
  _.$_$.pc = NoSuchElementException;
  _.$_$.qc = NotImplementedError;
  _.$_$.rc = NumberFormatException;
  _.$_$.sc = Pair;
  _.$_$.tc = RuntimeException;
  _.$_$.uc = THROW_CCE;
  _.$_$.vc = THROW_ISE;
  _.$_$.wc = Triple;
  _.$_$.xc = UInt;
  _.$_$.yc = Unit;
  _.$_$.zc = UnsupportedOperationException;
  _.$_$.ad = addSuppressed;
  _.$_$.bd = arrayOf;
  _.$_$.cd = countTrailingZeroBits;
  _.$_$.dd = createFailure;
  _.$_$.ed = ensureNotNull;
  _.$_$.fd = invoke;
  _.$_$.gd = isFinite;
  _.$_$.hd = isFinite_0;
  _.$_$.id = isInfinite;
  _.$_$.jd = isNaN_1;
  _.$_$.kd = isNaN_0;
  _.$_$.ld = lazy;
  _.$_$.md = lazy_0;
  _.$_$.nd = noWhenBranchMatchedException;
  _.$_$.od = plus_2;
  _.$_$.pd = throwUninitializedPropertyAccessException;
  _.$_$.qd = toString_3;
  _.$_$.rd = to;
  _.$_$.sd = uintCompare;
  //endregion
  return _;
}));



/***/ }),

/***/ "./kotlin/kotlin_org_mifek_wfc_WFC_Kotlin.js":
/*!***************************************************!*\
  !*** ./kotlin/kotlin_org_mifek_wfc_WFC_Kotlin.js ***!
  \***************************************************/
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
  if (true)
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(/*! ./kotlin-kotlin-stdlib-js-ir.js */ "./kotlin/kotlin-kotlin-stdlib-js-ir.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  else {}
}(this, function (_, kotlin_kotlin) {
  'use strict';
  //region block: imports
  var imul = Math.imul;
  var classMeta = kotlin_kotlin.$_$.p8;
  var CoroutineImpl = kotlin_kotlin.$_$.a8;
  var Unit_getInstance = kotlin_kotlin.$_$.k3;
  var THROW_CCE = kotlin_kotlin.$_$.uc;
  var SequenceScope = kotlin_kotlin.$_$.oa;
  var arrayIterator = kotlin_kotlin.$_$.h8;
  var asSequence = kotlin_kotlin.$_$.j4;
  var get_COROUTINE_SUSPENDED = kotlin_kotlin.$_$.l7;
  var get_indices = kotlin_kotlin.$_$.q5;
  var get_lastIndex = kotlin_kotlin.$_$.v5;
  var iterator = kotlin_kotlin.$_$.ya;
  var Iterable = kotlin_kotlin.$_$.p3;
  var SuspendFunction1 = kotlin_kotlin.$_$.b8;
  var fillArrayVal = kotlin_kotlin.$_$.s8;
  var booleanArray = kotlin_kotlin.$_$.i8;
  var map = kotlin_kotlin.$_$.za;
  var Triple = kotlin_kotlin.$_$.wc;
  var Pair = kotlin_kotlin.$_$.sc;
  var indexOf = kotlin_kotlin.$_$.xa;
  var contains = kotlin_kotlin.$_$.q4;
  var Random = kotlin_kotlin.$_$.ca;
  var Default_getInstance = kotlin_kotlin.$_$.d3;
  var get_lastIndex_0 = kotlin_kotlin.$_$.s5;
  var get_indices_0 = kotlin_kotlin.$_$.p5;
  var intArrayIterator = kotlin_kotlin.$_$.x8;
  var until = kotlin_kotlin.$_$.ia;
  var asSequence_0 = kotlin_kotlin.$_$.ra;
  var toList = kotlin_kotlin.$_$.cb;
  var MutableListIterator = kotlin_kotlin.$_$.w3;
  var contentHashCode = kotlin_kotlin.$_$.t4;
  var ArrayList_init_$Create$ = kotlin_kotlin.$_$.t;
  var LinkedHashMap_init_$Create$ = kotlin_kotlin.$_$.c1;
  var Map = kotlin_kotlin.$_$.v3;
  var isInterface = kotlin_kotlin.$_$.h9;
  var ensureNotNull = kotlin_kotlin.$_$.ed;
  var Collection = kotlin_kotlin.$_$.m3;
  var contentEquals = kotlin_kotlin.$_$.s4;
  var isIntArray = kotlin_kotlin.$_$.g9;
  var NoSuchElementException_init_$Create$ = kotlin_kotlin.$_$.z1;
  var arrayListOf = kotlin_kotlin.$_$.f4;
  var NotImplementedError = kotlin_kotlin.$_$.qc;
  var MutableList = kotlin_kotlin.$_$.x3;
  var Error_init_$Create$ = kotlin_kotlin.$_$.l1;
  var objectMeta = kotlin_kotlin.$_$.r9;
  var Enum = kotlin_kotlin.$_$.jc;
  var log = kotlin_kotlin.$_$.y9;
  var sum = kotlin_kotlin.$_$.x6;
  var DoubleCompanionObject_getInstance = kotlin_kotlin.$_$.y2;
  var interfaceMeta = kotlin_kotlin.$_$.y8;
  var collectionSizeOrDefault = kotlin_kotlin.$_$.o4;
  var ArrayList_init_$Create$_0 = kotlin_kotlin.$_$.s;
  var distinct = kotlin_kotlin.$_$.f5;
  var flatten = kotlin_kotlin.$_$.m5;
  var addAll = kotlin_kotlin.$_$.c4;
  var toMutableList = kotlin_kotlin.$_$.g7;
  var minus = kotlin_kotlin.$_$.c6;
  var asIterable = kotlin_kotlin.$_$.qa;
  var println = kotlin_kotlin.$_$.f8;
  var noWhenBranchMatchedException = kotlin_kotlin.$_$.nd;
  var IntCompanionObject_getInstance = kotlin_kotlin.$_$.a3;
  var hashCode = kotlin_kotlin.$_$.w8;
  var equals = kotlin_kotlin.$_$.r8;
  var asSequence_1 = kotlin_kotlin.$_$.k4;
  var emptySequence = kotlin_kotlin.$_$.ta;
  var getNumberHashCode = kotlin_kotlin.$_$.t8;
  var sum_0 = kotlin_kotlin.$_$.w6;
  var copyToArray = kotlin_kotlin.$_$.e5;
  var distinct_0 = kotlin_kotlin.$_$.g5;
  var checkIndexOverflow = kotlin_kotlin.$_$.n4;
  var toIntArray = kotlin_kotlin.$_$.b7;
  var mapOf = kotlin_kotlin.$_$.b6;
  var numberRangeToNumber = kotlin_kotlin.$_$.o9;
  var mutableListOf = kotlin_kotlin.$_$.d6;
  var sequenceOf = kotlin_kotlin.$_$.ab;
  var addAll_0 = kotlin_kotlin.$_$.d4;
  var sequence = kotlin_kotlin.$_$.bb;
  var reversed = kotlin_kotlin.$_$.n6;
  var asIterable_0 = kotlin_kotlin.$_$.g4;
  //endregion
  //region block: pre-declaration
  Cartesian2DWfcAlgorithm.prototype = Object.create(WfcAlgorithm.prototype);
  Cartesian2DWfcAlgorithm.prototype.constructor = Cartesian2DWfcAlgorithm;
  Waves$iterator$slambda.prototype = Object.create(CoroutineImpl.prototype);
  Waves$iterator$slambda.prototype.constructor = Waves$iterator$slambda;
  IntArray2D$rows$o$iterator$slambda.prototype = Object.create(CoroutineImpl.prototype);
  IntArray2D$rows$o$iterator$slambda.prototype.constructor = IntArray2D$rows$o$iterator$slambda;
  IntArray2D$columns$o$iterator$slambda.prototype = Object.create(CoroutineImpl.prototype);
  IntArray2D$columns$o$iterator$slambda.prototype.constructor = IntArray2D$columns$o$iterator$slambda;
  Direction2D.prototype = Object.create(Enum.prototype);
  Direction2D.prototype.constructor = Direction2D;
  Pixels$iterator$slambda.prototype = Object.create(CoroutineImpl.prototype);
  Pixels$iterator$slambda.prototype.constructor = Pixels$iterator$slambda;
  Cartesian2DTopology$neighbourIterator$slambda.prototype = Object.create(CoroutineImpl.prototype);
  Cartesian2DTopology$neighbourIterator$slambda.prototype.constructor = Cartesian2DTopology$neighbourIterator$slambda;
  //endregion
  function Cartesian2DWfcAlgorithm(topology2D, weights, propagator, patterns, pixels) {
    WfcAlgorithm.call(this, topology2D, weights, propagator, new LowestEntropyHeuristic(patterns.t5x_1, topology2D.c5y(), weights));
    this.h5z_1 = topology2D;
    this.i5z_1 = patterns;
    this.j5z_1 = pixels;
  }
  Cartesian2DWfcAlgorithm.prototype.k5z = function (wave, patterns) {
    {
      var tmp0_iterator = patterns.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          if (this.p60(wave, element) == null)
            return false;
        }
      }
    }
    return this.r60() ? true : this.q60();
  };
  Cartesian2DWfcAlgorithm.$metadata$ = classMeta('Cartesian2DWfcAlgorithm', undefined, undefined, undefined, undefined, WfcAlgorithm.prototype);
  function Waves$iterator$slambda(this$0, resultContinuation) {
    this.n61_1 = this$0;
    CoroutineImpl.call(this, resultContinuation);
  }
  Waves$iterator$slambda.prototype.r61 = function ($this$iterator, $cont) {
    var tmp = this.s61($this$iterator, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  Waves$iterator$slambda.prototype.s7 = function (p1, $cont) {
    return this.r61(p1 instanceof SequenceScope ? p1 : THROW_CCE(), $cont);
  };
  Waves$iterator$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 4;
            this.p61_1 = arrayIterator(this.n61_1.t61_1);
            this.k7_1 = 1;
            continue $sm;
          case 1:
            if (!this.p61_1.n()) {
              this.k7_1 = 3;
              continue $sm;
            }

            this.q61_1 = this.p61_1.o();
            this.k7_1 = 2;
            suspendResult = this.o61_1.k4(asSequence(this.q61_1), this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 2:
            this.k7_1 = 1;
            continue $sm;
          case 3:
            return Unit_getInstance();
          case 4:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 4) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  Waves$iterator$slambda.prototype.s61 = function ($this$iterator, completion) {
    var i = new Waves$iterator$slambda(this.n61_1, completion);
    i.o61_1 = $this$iterator;
    return i;
  };
  Waves$iterator$slambda.$metadata$ = classMeta('Waves$iterator$slambda', undefined, undefined, undefined, [1], CoroutineImpl.prototype);
  function Waves$iterator$slambda_0(this$0, resultContinuation) {
    var i = new Waves$iterator$slambda(this$0, resultContinuation);
    var l = function ($this$iterator, $cont) {
      return i.r61($this$iterator, $cont);
    };
    l.$arity = 1;
    return l;
  }
  function Waves(waves) {
    this.t61_1 = waves;
    this.u61_1 = this.t61_1.length;
    this.v61_1 = get_indices(this.t61_1);
    this.w61_1 = get_lastIndex(this.t61_1);
  }
  Waves.prototype.n2d = function (waveIndex, patternIndex) {
    return this.t61_1[waveIndex][patternIndex];
  };
  Waves.prototype.r = function (waveIndex) {
    return asSequence(this.t61_1[waveIndex]);
  };
  Waves.prototype.h = function () {
    return iterator(Waves$iterator$slambda_0(this, null));
  };
  Waves.$metadata$ = classMeta('Waves', [Iterable]);
  function WfcAlgorithm$warmup$lambda() {
    return function (it) {
      return it.x3_1;
    };
  }
  function WfcAlgorithm(topology, weights, propagator, heuristic) {
    this.l5z_1 = topology;
    this.m5z_1 = weights;
    this.n5z_1 = propagator;
    this.o5z_1 = heuristic;
    this.p5z_1 = false;
    this.q5z_1 = this.m5z_1.length;
    var tmp = this;
    var tmp_0 = 0;
    var tmp_1 = this.l5z_1.c5y();
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_1), null);
    }
    var tmp_2 = tmp$ret$0;
    while (tmp_0 < tmp_1) {
      var tmp_3 = tmp_0;
      var tmp$ret$1;
      {
        tmp$ret$1 = booleanArray(this.q5z_1);
      }
      tmp_2[tmp_3] = tmp$ret$1;
      tmp_0 = tmp_0 + 1 | 0;
    }
    tmp.r5z_1 = tmp_2;
    var tmp_4 = this;
    var tmp_5 = 0;
    var tmp_6 = this.l5z_1.c5y();
    var tmp_7 = new Int32Array(tmp_6);
    while (tmp_5 < tmp_6) {
      var tmp_8 = tmp_5;
      var tmp$ret$2;
      {
        tmp$ret$2 = this.q5z_1;
      }
      tmp_7[tmp_8] = tmp$ret$2;
      tmp_5 = tmp_5 + 1 | 0;
    }
    tmp_4.s5z_1 = tmp_7;
    this.t5z_1 = false;
    this.u5z_1 = new Waves(this.r5z_1);
    var tmp_9 = this;
    var tmp_10 = 0;
    var tmp_11 = this.r5z_1.length;
    var tmp$ret$3;
    {
      tmp$ret$3 = fillArrayVal(Array(tmp_11), null);
    }
    var tmp_12 = tmp$ret$3;
    while (tmp_10 < tmp_11) {
      var tmp_13 = tmp_10;
      var tmp$ret$6;
      {
        var tmp_14 = 0;
        var tmp_15 = this.q5z_1;
        var tmp$ret$4;
        {
          tmp$ret$4 = fillArrayVal(Array(tmp_15), null);
        }
        var tmp_16 = tmp$ret$4;
        while (tmp_14 < tmp_15) {
          var tmp_17 = tmp_14;
          var tmp$ret$5;
          {
            tmp$ret$5 = new Int32Array(this.l5z_1.x61());
          }
          tmp_16[tmp_17] = tmp$ret$5;
          tmp_14 = tmp_14 + 1 | 0;
        }
        tmp$ret$6 = tmp_16;
      }
      tmp_12[tmp_13] = tmp$ret$6;
      tmp_10 = tmp_10 + 1 | 0;
    }
    tmp_9.v5z_1 = tmp_12;
    this.w5z_1 = 0;
    var tmp_18 = this;
    var tmp$ret$7;
    {
      var tmp0_arrayOfNulls = imul(this.r5z_1.length, this.q5z_1);
      tmp$ret$7 = fillArrayVal(Array(tmp0_arrayOfNulls), null);
    }
    tmp_18.x5z_1 = tmp$ret$7;
    this.y5z_1 = new EventHandler();
    this.z5z_1 = new EventHandler();
    this.a60_1 = new EventHandler();
    this.b60_1 = new EventHandler();
    this.c60_1 = new EventHandler();
    this.d60_1 = new EventHandler();
    this.e60_1 = new EventHandler();
    this.f60_1 = new EventHandler();
    this.g60_1 = new EventHandler();
    this.h60_1 = new EventHandler();
    this.i60_1 = new EventHandler();
    this.j60_1 = new EventHandler();
    this.k60_1 = new EventHandler();
    this.l60_1 = new EventHandler();
    this.m60_1 = new EventHandler();
    this.n60_1 = new EventHandler();
    this.o60_1 = new EventHandler();
  }
  WfcAlgorithm.prototype.s60 = function () {
    return this.l5z_1;
  };
  WfcAlgorithm.prototype.t60 = function () {
    return this.p5z_1;
  };
  WfcAlgorithm.prototype.u60 = function () {
    return this.q5z_1;
  };
  WfcAlgorithm.prototype.v60 = function (value) {
    this.t5z_1 = value;
    if (!value) {
      this.q60();
    }
  };
  WfcAlgorithm.prototype.r60 = function () {
    return this.t5z_1;
  };
  WfcAlgorithm.prototype.w60 = function () {
    return this.u5z_1;
  };
  WfcAlgorithm.prototype.x60 = function () {
    return this.y5z_1;
  };
  WfcAlgorithm.prototype.y60 = function () {
    return this.h60_1;
  };
  WfcAlgorithm.prototype.t7 = function () {
    this.z5z_1.z61(this);
    this.p5z_1 = false;
    var inductionVariable = 0;
    var last = this.r5z_1.length - 1 | 0;
    if (inductionVariable <= last)
      do {
        var w = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var inductionVariable_0 = 0;
        var last_0 = this.q5z_1;
        if (inductionVariable_0 < last_0)
          do {
            var p = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            this.r5z_1[w][p] = true;
            var inductionVariable_1 = 0;
            var last_1 = this.l5z_1.x61();
            if (inductionVariable_1 < last_1)
              do {
                var n = inductionVariable_1;
                inductionVariable_1 = inductionVariable_1 + 1 | 0;
                this.v5z_1[w][p][n] = this.n5z_1[(n + (this.l5z_1.x61() / 2 | 0) | 0) % this.l5z_1.x61() | 0][p].length;
              }
               while (inductionVariable_1 < last_1);
          }
           while (inductionVariable_0 < last_0);
        this.s5z_1[w] = this.q5z_1;
      }
       while (inductionVariable <= last);
    this.a60_1.z61(this);
  };
  WfcAlgorithm.prototype.z60 = function () {
    this.b60_1.z61(this);
    this.p5z_1 = true;
    var inductionVariable = 0;
    var last = this.r5z_1.length - 1 | 0;
    if (inductionVariable <= last)
      do {
        var w = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tmp = this.l5z_1.a62(w);
        var neighbourDirections = map(tmp, WfcAlgorithm$warmup$lambda());
        var inductionVariable_0 = 0;
        var last_0 = this.q5z_1;
        if (inductionVariable_0 < last_0)
          do {
            var p = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            var tmp2_iterator = neighbourDirections.h();
            $l$loop: while (tmp2_iterator.n()) {
              var d = tmp2_iterator.o();
              var tmp$ret$0;
              {
                var tmp0_isEmpty = this.n5z_1[d][p];
                tmp$ret$0 = tmp0_isEmpty.length === 0;
              }
              if (tmp$ret$0) {
                if (this.p60(w, p) == null) {
                  this.h60_1.z61(this);
                  return false;
                }
                break $l$loop;
              }
            }
          }
           while (inductionVariable_0 < last_0);
      }
       while (inductionVariable <= last);
    var result = this.q60();
    this.c60_1.z61(this);
    return result;
  };
  WfcAlgorithm.prototype.p60 = function (wave, pattern) {
    if (!this.r5z_1[wave][pattern])
      return false;
    this.f60_1.z61(new Triple(this, wave, pattern));
    this.r5z_1[wave][pattern] = false;
    var tmp0_array = this.s5z_1;
    var tmp1_index0 = wave;
    var tmp2 = tmp0_array[tmp1_index0];
    tmp0_array[tmp1_index0] = tmp2 - 1 | 0;
    var compatiblePatterns = this.v5z_1[wave][pattern];
    var inductionVariable = 0;
    var last = this.l5z_1.x61();
    if (inductionVariable < last)
      do {
        var neighbour = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        compatiblePatterns[neighbour] = 0;
      }
       while (inductionVariable < last);
    if (this.w5z_1 === this.x5z_1.length)
      return null;
    var tmp4_this = this;
    var tmp5 = tmp4_this.w5z_1;
    tmp4_this.w5z_1 = tmp5 + 1 | 0;
    this.x5z_1[tmp5] = new Pair(wave, pattern);
    this.g60_1.z61(new Triple(this, wave, pattern));
    if (this.s5z_1[wave] === 0) {
      return null;
    } else if (this.s5z_1[wave] === 1) {
      this.o60_1.z61(new Triple(this, wave, indexOf(this.u5z_1.r(wave), true)));
    }
    return true;
  };
  WfcAlgorithm.prototype.a61 = function (patterns, random) {
    var tmp = 0;
    var tmp_0 = this.q5z_1;
    var tmp_1 = new Float64Array(tmp_0);
    while (tmp < tmp_0) {
      var tmp_2 = tmp;
      var tmp$ret$0;
      {
        tmp$ret$0 = patterns[tmp_2] ? this.m5z_1[tmp_2] : 0.0;
      }
      tmp_1[tmp_2] = tmp$ret$0;
      tmp = tmp + 1 | 0;
    }
    var distribution = tmp_1;
    return randomIndex(distribution, random);
  };
  WfcAlgorithm.prototype.b61 = function (random) {
    this.d60_1.z61(this);
    var selectedWave = this.o5z_1.b62();
    if (selectedWave == null) {
      this.h60_1.z61(this);
      return false;
    } else if (selectedWave === -1) {
      return true;
    }
    var wavePatterns = this.r5z_1[selectedWave];
    var observedPattern = this.a61(wavePatterns, random);
    var inductionVariable = 0;
    var last = this.q5z_1;
    if (inductionVariable < last)
      do {
        var patternIndex = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if (!(wavePatterns[patternIndex] === (patternIndex === observedPattern))) {
          if (this.p60(selectedWave, patternIndex) == null) {
            this.e60_1.z61(new Triple(this, selectedWave, observedPattern));
            this.h60_1.z61(this);
            return false;
          }
        }
      }
       while (inductionVariable < last);
    this.e60_1.z61(new Triple(this, selectedWave, observedPattern));
    return null;
  };
  WfcAlgorithm.prototype.q60 = function () {
    this.i60_1.z61(this);
    var original = this.w5z_1;
    $l$loop: while (this.w5z_1 > 0) {
      var tmp0_this = this;
      var tmp1 = tmp0_this.w5z_1;
      tmp0_this.w5z_1 = tmp1 - 1 | 0;
      var tmp2 = original;
      original = tmp2 - 1 | 0;
      var tmp3_elvis_lhs = this.x5z_1[this.w5z_1];
      var tmp;
      if (tmp3_elvis_lhs == null) {
        continue $l$loop;
      } else {
        tmp = tmp3_elvis_lhs;
      }
      var actual = tmp;
      var tmp4_container = actual;
      var waveIndex = tmp4_container.z3();
      var patternIndex = tmp4_container.a4();
      var tmp5_iterator = this.l5z_1.a62(waveIndex).h();
      while (tmp5_iterator.n()) {
        var neighbour = tmp5_iterator.o();
        var direction = neighbour.x3_1;
        var neighbourIndex = neighbour.y3_1;
        var neighbourPatterns = this.n5z_1[direction][patternIndex];
        var compatibles = this.v5z_1[neighbourIndex];
        var inductionVariable = 0;
        var last = this.q5z_1;
        if (inductionVariable < last)
          $l$loop_0: do {
            var neighbourPatternIndex = inductionVariable;
            inductionVariable = inductionVariable + 1 | 0;
            if ((!(compatibles[neighbourPatternIndex][direction] === 0) ? true : !this.r5z_1[neighbourIndex][neighbourPatternIndex]) ? !contains(neighbourPatterns, neighbourPatternIndex) : false) {
              continue $l$loop_0;
            }
            var optionCompatible = compatibles[neighbourPatternIndex];
            if (optionCompatible[direction] > 0) {
              var tmp7_array = optionCompatible;
              var tmp8_index0 = direction;
              var tmp9 = tmp7_array[tmp8_index0];
              tmp7_array[tmp8_index0] = tmp9 - 1 | 0;
            }
            if (optionCompatible[direction] === 0) {
              if (this.p60(neighbourIndex, neighbourPatternIndex) == null) {
                this.k60_1.z61(this);
                this.h60_1.z61(this);
                return false;
              }
            }
          }
           while (inductionVariable < last);
      }
      if (original === 0) {
        original = this.w5z_1;
        this.j60_1.z61(this);
      }
    }
    this.k60_1.z61(this);
    return true;
  };
  WfcAlgorithm.prototype.c61 = function (random) {
    this.l60_1.z61(this);
    var result = this.b61(random);
    if (!(result == null)) {
      this.m60_1.z61(this);
      return result;
    }
    if (!this.q60()) {
      this.m60_1.z61(this);
      return false;
    }
    this.m60_1.z61(this);
    return null;
  };
  WfcAlgorithm.prototype.d61 = function (seed, limit, backtrackLimit) {
    var random = Random(seed);
    this.o5z_1.c62(this, random);
    this.t7();
    this.y5z_1.z61(this);
    if (!this.z60()) {
      this.n60_1.z61(this);
      return false;
    }
    if (!(limit === 0)) {
      var l = 0;
      while (l < limit) {
        var result = this.c61(random);
        if (!(result == null)) {
          this.n60_1.z61(this);
          return result;
        }
        var tmp0 = l;
        l = tmp0 + 1 | 0;
      }
    } else {
      while (true) {
        var result_0 = this.c61(random);
        if (!(result_0 == null)) {
          this.n60_1.z61(this);
          return result_0;
        }
      }
    }
    this.n60_1.z61(this);
    return true;
  };
  WfcAlgorithm.prototype.e61 = function (seed, limit, backtrackLimit, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      seed = Default_getInstance().g4();
    if (!(($mask0 & 2) === 0))
      limit = 0;
    if (!(($mask0 & 4) === 0))
      backtrackLimit = 0;
    return $handler == null ? this.d61(seed, limit, backtrackLimit) : $handler(seed, limit, backtrackLimit);
  };
  WfcAlgorithm.$metadata$ = classMeta('WfcAlgorithm');
  function IntArray2D$rows$o$iterator$slambda($rows, this$0, resultContinuation) {
    this.l62_1 = $rows;
    this.m62_1 = this$0;
    CoroutineImpl.call(this, resultContinuation);
  }
  IntArray2D$rows$o$iterator$slambda.prototype.q62 = function ($this$iterator, $cont) {
    var tmp = this.r62($this$iterator, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  IntArray2D$rows$o$iterator$slambda.prototype.s7 = function (p1, $cont) {
    return this.q62(p1 instanceof SequenceScope ? p1 : THROW_CCE(), $cont);
  };
  IntArray2D$rows$o$iterator$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 4;
            this.o62_1 = this.l62_1.h();
            this.k7_1 = 1;
            continue $sm;
          case 1:
            if (!this.o62_1.n()) {
              this.k7_1 = 3;
              continue $sm;
            }

            this.p62_1 = this.o62_1.o();
            this.k7_1 = 2;
            suspendResult = this.n62_1.k4(this.m62_1.y62(this.p62_1), this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 2:
            this.k7_1 = 1;
            continue $sm;
          case 3:
            return Unit_getInstance();
          case 4:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 4) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  IntArray2D$rows$o$iterator$slambda.prototype.r62 = function ($this$iterator, completion) {
    var i = new IntArray2D$rows$o$iterator$slambda(this.l62_1, this.m62_1, completion);
    i.n62_1 = $this$iterator;
    return i;
  };
  IntArray2D$rows$o$iterator$slambda.$metadata$ = classMeta('IntArray2D$rows$o$iterator$slambda', undefined, undefined, undefined, [1], CoroutineImpl.prototype);
  function IntArray2D$rows$o$iterator$slambda_0($rows, this$0, resultContinuation) {
    var i = new IntArray2D$rows$o$iterator$slambda($rows, this$0, resultContinuation);
    var l = function ($this$iterator, $cont) {
      return i.q62($this$iterator, $cont);
    };
    l.$arity = 1;
    return l;
  }
  function IntArray2D$columns$o$iterator$slambda($columns, this$0, resultContinuation) {
    this.h63_1 = $columns;
    this.i63_1 = this$0;
    CoroutineImpl.call(this, resultContinuation);
  }
  IntArray2D$columns$o$iterator$slambda.prototype.q62 = function ($this$iterator, $cont) {
    var tmp = this.r62($this$iterator, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  IntArray2D$columns$o$iterator$slambda.prototype.s7 = function (p1, $cont) {
    return this.q62(p1 instanceof SequenceScope ? p1 : THROW_CCE(), $cont);
  };
  IntArray2D$columns$o$iterator$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 4;
            this.k63_1 = this.h63_1.h();
            this.k7_1 = 1;
            continue $sm;
          case 1:
            if (!this.k63_1.n()) {
              this.k7_1 = 3;
              continue $sm;
            }

            this.l63_1 = this.k63_1.o();
            this.k7_1 = 2;
            suspendResult = this.j63_1.k4(this.i63_1.m63(this.l63_1), this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 2:
            this.k7_1 = 1;
            continue $sm;
          case 3:
            return Unit_getInstance();
          case 4:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 4) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  IntArray2D$columns$o$iterator$slambda.prototype.r62 = function ($this$iterator, completion) {
    var i = new IntArray2D$columns$o$iterator$slambda(this.h63_1, this.i63_1, completion);
    i.j63_1 = $this$iterator;
    return i;
  };
  IntArray2D$columns$o$iterator$slambda.$metadata$ = classMeta('IntArray2D$columns$o$iterator$slambda', undefined, undefined, undefined, [1], CoroutineImpl.prototype);
  function IntArray2D$columns$o$iterator$slambda_0($columns, this$0, resultContinuation) {
    var i = new IntArray2D$columns$o$iterator$slambda($columns, this$0, resultContinuation);
    var l = function ($this$iterator, $cont) {
      return i.q62($this$iterator, $cont);
    };
    l.$arity = 1;
    return l;
  }
  function IntArray2D_init_$Init$(width, height, init, $mask0, $marker, $this) {
    if (!(($mask0 & 4) === 0)) {
      init = IntArray2D$_init_$lambda_mxcb7z();
    }
    IntArray2D.call($this, width, height, init);
    return $this;
  }
  function IntArray2D_init_$Create$(width, height, init, $mask0, $marker) {
    return IntArray2D_init_$Init$(width, height, init, $mask0, $marker, Object.create(IntArray2D.prototype));
  }
  function IntArray2D$_init_$lambda_mxcb7z() {
    return function (it) {
      return 0;
    };
  }
  function _no_name_provided__qut3iv($rows, this$0) {
    this.n63_1 = $rows;
    this.o63_1 = this$0;
  }
  _no_name_provided__qut3iv.prototype.h = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = iterator(IntArray2D$rows$o$iterator$slambda_0(this.n63_1, this.o63_1, null));
    }
    return tmp$ret$0;
  };
  _no_name_provided__qut3iv.$metadata$ = classMeta(undefined, [Iterable]);
  function _no_name_provided__qut3iv_0($columns, this$0) {
    this.p63_1 = $columns;
    this.q63_1 = this$0;
  }
  _no_name_provided__qut3iv_0.prototype.h = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = iterator(IntArray2D$columns$o$iterator$slambda_0(this.p63_1, this.q63_1, null));
    }
    return tmp$ret$0;
  };
  _no_name_provided__qut3iv_0.$metadata$ = classMeta(undefined, [Iterable]);
  function IntArray2D(width, height, init) {
    this.s62_1 = width;
    this.t62_1 = height;
    var tmp = this;
    var tmp_0 = 0;
    var tmp_1 = imul(this.s62_1, this.t62_1);
    var tmp_2 = new Int32Array(tmp_1);
    var tmp0 = init;
    while (tmp_0 < tmp_1) {
      var tmp_3 = tmp_0;
      tmp_2[tmp_3] = tmp0(tmp_3);
      tmp_0 = tmp_0 + 1 | 0;
    }
    tmp.u62_1 = tmp_2;
    this.v62_1 = this.u62_1.length;
    this.w62_1 = get_lastIndex_0(this.u62_1);
    this.x62_1 = get_indices_0(this.u62_1);
  }
  IntArray2D.prototype.s4y = function () {
    return this.u62_1;
  };
  IntArray2D.prototype.h = function () {
    return intArrayIterator(this.u62_1);
  };
  IntArray2D.prototype.r = function (index) {
    return this.u62_1[index];
  };
  IntArray2D.prototype.r63 = function (index, value) {
    this.u62_1[index] = value;
  };
  IntArray2D.prototype.n2d = function (x, y) {
    return this.u62_1[imul(y, this.s62_1) + x | 0];
  };
  IntArray2D.prototype.s63 = function (x, y, value) {
    this.u62_1[imul(y, this.s62_1) + x | 0] = value;
  };
  IntArray2D.prototype.t63 = function () {
    return this.u62_1;
  };
  IntArray2D.prototype.u63 = function (startIndex, xRange, yRange) {
    var tmp0_elvis_lhs = xRange;
    var xRange2 = toList(asSequence_0((tmp0_elvis_lhs == null ? until(0, this.s62_1) : tmp0_elvis_lhs).h()));
    var tmp1_elvis_lhs = yRange;
    var yRange2 = toList(asSequence_0((tmp1_elvis_lhs == null ? until(0, this.t62_1) : tmp1_elvis_lhs).h()));
    var tmp = xRange2.m();
    var tmp_0 = yRange2.m();
    var slice = IntArray2D_init_$Create$(tmp, tmp_0, null, 4, null);
    var sliceIndex = 0;
    var tmp2_iterator = yRange2.h();
    while (tmp2_iterator.n()) {
      var y = tmp2_iterator.o();
      var postIndex = (startIndex + imul(y, this.s62_1) | 0) % this.v62_1 | 0;
      var tmp3_iterator = xRange2.h();
      while (tmp3_iterator.n()) {
        var x = tmp3_iterator.o();
        var height = postIndex / this.s62_1 | 0;
        var position = ((postIndex % this.s62_1 | 0) + x | 0) % this.s62_1 | 0;
        slice.r63(sliceIndex, this.u62_1[imul(height, this.s62_1) + position | 0]);
        var tmp4 = sliceIndex;
        sliceIndex = tmp4 + 1 | 0;
      }
    }
    return slice;
  };
  IntArray2D.prototype.m63 = function (column) {
    var tmp = 0;
    var tmp_0 = this.t62_1;
    var tmp_1 = new Int32Array(tmp_0);
    while (tmp < tmp_0) {
      var tmp_2 = tmp;
      var tmp$ret$0;
      {
        tmp$ret$0 = this.r(imul(tmp_2, this.s62_1) + column | 0);
      }
      tmp_1[tmp_2] = tmp$ret$0;
      tmp = tmp + 1 | 0;
    }
    return tmp_1;
  };
  IntArray2D.prototype.y62 = function (row) {
    var tmp = 0;
    var tmp_0 = this.s62_1;
    var tmp_1 = new Int32Array(tmp_0);
    while (tmp < tmp_0) {
      var tmp_2 = tmp;
      var tmp$ret$0;
      {
        tmp$ret$0 = this.r(tmp_2 + imul(row, this.s62_1) | 0);
      }
      tmp_1[tmp_2] = tmp$ret$0;
      tmp = tmp + 1 | 0;
    }
    return tmp_1;
  };
  IntArray2D.prototype.v63 = function (rows) {
    var tmp$ret$0;
    {
      tmp$ret$0 = new _no_name_provided__qut3iv(rows, this);
    }
    return tmp$ret$0;
  };
  IntArray2D.prototype.w63 = function (columns) {
    var tmp$ret$0;
    {
      tmp$ret$0 = new _no_name_provided__qut3iv_0(columns, this);
    }
    return tmp$ret$0;
  };
  IntArray2D.prototype.x63 = function (positive) {
    var res = IntArray2D_init_$Create$(this.t62_1, this.s62_1, null, 4, null);
    var inductionVariable = 0;
    var last = res.t62_1;
    if (inductionVariable < last)
      do {
        var y = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var inductionVariable_0 = 0;
        var last_0 = res.s62_1;
        if (inductionVariable_0 < last_0)
          do {
            var x = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            res.s63(x, y, this.n2d(positive ? y : (this.t62_1 - 1 | 0) - y | 0, positive ? (this.s62_1 - 1 | 0) - x | 0 : x));
          }
           while (inductionVariable_0 < last_0);
      }
       while (inductionVariable < last);
    return res;
  };
  IntArray2D.prototype.y63 = function (positive, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      positive = true;
    return this.x63(positive);
  };
  IntArray2D.prototype.z63 = function () {
    var res = IntArray2D_init_$Create$(this.s62_1, this.t62_1, null, 4, null);
    var inductionVariable = 0;
    var last = res.t62_1;
    if (inductionVariable < last)
      do {
        var y = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var inductionVariable_0 = 0;
        var last_0 = res.s62_1;
        if (inductionVariable_0 < last_0)
          do {
            var x = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            res.s63(x, y, this.n2d((this.s62_1 - x | 0) - 1 | 0, y));
          }
           while (inductionVariable_0 < last_0);
      }
       while (inductionVariable < last);
    return res;
  };
  IntArray2D.prototype.a64 = function () {
    var res = IntArray2D_init_$Create$(this.s62_1, this.t62_1, null, 4, null);
    var inductionVariable = 0;
    var last = res.t62_1;
    if (inductionVariable < last)
      do {
        var y = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var inductionVariable_0 = 0;
        var last_0 = res.s62_1;
        if (inductionVariable_0 < last_0)
          do {
            var x = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            res.s63(x, y, this.n2d(x, (this.t62_1 - y | 0) - 1 | 0));
          }
           while (inductionVariable_0 < last_0);
      }
       while (inductionVariable < last);
    return res;
  };
  IntArray2D.$metadata$ = classMeta('IntArray2D', [Iterable]);
  function IntHolder(item) {
    this.b64_1 = item;
  }
  IntHolder.prototype.c64 = function () {
    return this.b64_1;
  };
  IntHolder.prototype.toString = function () {
    return 'IntHolder(item=' + this.b64_1 + ')';
  };
  IntHolder.prototype.hashCode = function () {
    return this.b64_1;
  };
  IntHolder.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof IntHolder))
      return false;
    var tmp0_other_with_cast = other instanceof IntHolder ? other : THROW_CCE();
    if (!(this.b64_1 === tmp0_other_with_cast.b64_1))
      return false;
    return true;
  };
  IntHolder.$metadata$ = classMeta('IntHolder');
  function PabIterator(pab, index) {
    this.d64_1 = pab;
    this.e64_1 = index;
    this.f64_1 = this.d64_1.g64_1.ef();
  }
  PabIterator.prototype.n = function () {
    return this.f64_1.n();
  };
  PabIterator.prototype.o = function () {
    return this.f64_1.o().x3_1;
  };
  PabIterator.prototype.e4 = function () {
    this.f64_1.e4();
  };
  PabIterator.$metadata$ = classMeta('PabIterator', [MutableListIterator]);
  function hash($this, element) {
    return contentHashCode(element);
  }
  function PatternsArrayBuilder() {
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$();
    }
    tmp.g64_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = LinkedHashMap_init_$Create$();
    }
    tmp_0.h64_1 = tmp$ret$1;
  }
  PatternsArrayBuilder.prototype.i64 = function () {
    return this.g64_1;
  };
  PatternsArrayBuilder.prototype.m = function () {
    return this.g64_1.m();
  };
  PatternsArrayBuilder.prototype.j64 = function (element) {
    var hash_0 = hash(this, element);
    var tmp$ret$1;
    {
      var tmp0_contains = this.h64_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = (isInterface(tmp0_contains, Map) ? tmp0_contains : THROW_CCE()).t2(hash_0);
      }
      tmp$ret$1 = tmp$ret$0;
    }
    if (!tmp$ret$1)
      return false;
    var tmp$ret$2;
    $l$block_0: {
      var tmp1_any = ensureNotNull(this.h64_1.z2(hash_0));
      var tmp;
      if (isInterface(tmp1_any, Collection)) {
        tmp = tmp1_any.q();
      } else {
        tmp = false;
      }
      if (tmp) {
        tmp$ret$2 = false;
        break $l$block_0;
      }
      var tmp0_iterator = tmp1_any.h();
      while (tmp0_iterator.n()) {
        var element_0 = tmp0_iterator.o();
        var tmp$ret$3;
        {
          tmp$ret$3 = contentEquals(this.g64_1.r(element_0).x3_1, element);
        }
        if (tmp$ret$3) {
          tmp$ret$2 = true;
          break $l$block_0;
        }
      }
      tmp$ret$2 = false;
    }
    return tmp$ret$2;
  };
  PatternsArrayBuilder.prototype.p = function (element) {
    if (!(!(element == null) ? isIntArray(element) : false))
      return false;
    return this.j64((!(element == null) ? isIntArray(element) : false) ? element : THROW_CCE());
  };
  PatternsArrayBuilder.prototype.k64 = function (elements) {
    var tmp$ret$0;
    $l$block_0: {
      var tmp;
      if (isInterface(elements, Collection)) {
        tmp = elements.q();
      } else {
        tmp = false;
      }
      if (tmp) {
        tmp$ret$0 = true;
        break $l$block_0;
      }
      var tmp0_iterator = elements.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$1;
        {
          tmp$ret$1 = this.j64(element);
        }
        if (!tmp$ret$1) {
          tmp$ret$0 = false;
          break $l$block_0;
        }
      }
      tmp$ret$0 = true;
    }
    return tmp$ret$0;
  };
  PatternsArrayBuilder.prototype.q1 = function (elements) {
    return this.k64(elements);
  };
  PatternsArrayBuilder.prototype.r = function (index) {
    return this.g64_1.r(index).x3_1;
  };
  PatternsArrayBuilder.prototype.l64 = function (element) {
    var hash_0 = hash(this, element);
    var tmp$ret$1;
    {
      var tmp0_contains = this.h64_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = (isInterface(tmp0_contains, Map) ? tmp0_contains : THROW_CCE()).t2(hash_0);
      }
      tmp$ret$1 = tmp$ret$0;
    }
    if (!tmp$ret$1)
      return -1;
    var tmp$ret$3;
    $l$block: {
      var tmp1_first = ensureNotNull(this.h64_1.z2(hash_0));
      var tmp0_iterator = tmp1_first.h();
      while (tmp0_iterator.n()) {
        var element_0 = tmp0_iterator.o();
        var tmp$ret$2;
        {
          tmp$ret$2 = contentEquals(this.g64_1.r(element_0).x3_1, element);
        }
        if (tmp$ret$2) {
          tmp$ret$3 = element_0;
          break $l$block;
        }
      }
      throw NoSuchElementException_init_$Create$('Collection contains no element matching the predicate.');
    }
    return tmp$ret$3;
  };
  PatternsArrayBuilder.prototype.u = function (element) {
    if (!(!(element == null) ? isIntArray(element) : false))
      return -1;
    return this.l64((!(element == null) ? isIntArray(element) : false) ? element : THROW_CCE());
  };
  PatternsArrayBuilder.prototype.q = function () {
    return this.m() === 0;
  };
  PatternsArrayBuilder.prototype.h = function () {
    return new PabIterator(this, 0);
  };
  PatternsArrayBuilder.prototype.ef = function () {
    return new PabIterator(this, 0);
  };
  PatternsArrayBuilder.prototype.m64 = function (element) {
    var hash_0 = hash(this, element);
    if (this.h64_1.t2(hash_0)) {
      var tmp$ret$2;
      {
        var tmp0_find = ensureNotNull(this.h64_1.z2(hash_0));
        var tmp$ret$1;
        $l$block: {
          var tmp0_iterator = tmp0_find.h();
          while (tmp0_iterator.n()) {
            var element_0 = tmp0_iterator.o();
            var tmp$ret$0;
            {
              tmp$ret$0 = contentEquals(this.g64_1.r(element_0).x3_1, element);
            }
            if (tmp$ret$0) {
              tmp$ret$1 = element_0;
              break $l$block;
            }
          }
          tmp$ret$1 = null;
        }
        tmp$ret$2 = tmp$ret$1;
      }
      var candidate = tmp$ret$2;
      if (!(candidate == null)) {
        var tmp0_this = this.g64_1.r(candidate).y3_1;
        var tmp1 = tmp0_this.b64_1;
        tmp0_this.b64_1 = tmp1 + 1 | 0;
        return true;
      }
      ensureNotNull(this.h64_1.z2(hash_0)).b(this.g64_1.m());
      this.g64_1.b(new Pair(element, new IntHolder(1)));
      return true;
    }
    {
      var tmp1_set = this.h64_1;
      var tmp2_set = arrayListOf([this.g64_1.m()]);
      tmp1_set.a(hash_0, tmp2_set);
    }
    this.g64_1.b(new Pair(element, new IntHolder(1)));
    return true;
  };
  PatternsArrayBuilder.prototype.b = function (element) {
    return this.m64((!(element == null) ? isIntArray(element) : false) ? element : THROW_CCE());
  };
  PatternsArrayBuilder.prototype.n64 = function (index, element) {
    throw new NotImplementedError('This function is not available yet. Sorry.');
  };
  PatternsArrayBuilder.prototype.cf = function (index, element) {
    return this.n64(index, (!(element == null) ? isIntArray(element) : false) ? element : THROW_CCE());
  };
  PatternsArrayBuilder.prototype.o64 = function (elements) {
    var tmp$ret$0;
    $l$block_0: {
      var tmp;
      if (isInterface(elements, Collection)) {
        tmp = elements.q();
      } else {
        tmp = false;
      }
      if (tmp) {
        tmp$ret$0 = true;
        break $l$block_0;
      }
      var tmp0_iterator = elements.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$1;
        {
          tmp$ret$1 = this.m64(element);
        }
        if (!tmp$ret$1) {
          tmp$ret$0 = false;
          break $l$block_0;
        }
      }
      tmp$ret$0 = true;
    }
    return tmp$ret$0;
  };
  PatternsArrayBuilder.prototype.m1 = function (elements) {
    return this.o64(elements);
  };
  PatternsArrayBuilder.prototype.t7 = function () {
    this.g64_1.t7();
    this.h64_1.t7();
  };
  PatternsArrayBuilder.prototype.p64 = function (element) {
    throw new NotImplementedError('This function is not available yet. Sorry.');
  };
  PatternsArrayBuilder.prototype.c4 = function (element) {
    if (!(!(element == null) ? isIntArray(element) : false))
      return false;
    return this.p64((!(element == null) ? isIntArray(element) : false) ? element : THROW_CCE());
  };
  PatternsArrayBuilder.prototype.q64 = function (elements) {
    var tmp$ret$0;
    $l$block_0: {
      var tmp;
      if (isInterface(elements, Collection)) {
        tmp = elements.q();
      } else {
        tmp = false;
      }
      if (tmp) {
        tmp$ret$0 = true;
        break $l$block_0;
      }
      var tmp0_iterator = elements.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$1;
        {
          tmp$ret$1 = this.p64(element);
        }
        if (!tmp$ret$1) {
          tmp$ret$0 = false;
          break $l$block_0;
        }
      }
      tmp$ret$0 = true;
    }
    return tmp$ret$0;
  };
  PatternsArrayBuilder.prototype.f4 = function (elements) {
    return this.q64(elements);
  };
  PatternsArrayBuilder.prototype.d4 = function (index) {
    throw new NotImplementedError('This function is not available yet. Sorry.');
  };
  PatternsArrayBuilder.prototype.r64 = function (index, element) {
    throw new NotImplementedError('This function is not available yet. Sorry.');
  };
  PatternsArrayBuilder.prototype.t = function (index, element) {
    return this.r64(index, (!(element == null) ? isIntArray(element) : false) ? element : THROW_CCE());
  };
  PatternsArrayBuilder.$metadata$ = classMeta('PatternsArrayBuilder', [MutableList]);
  var Direction2D_NORTH_instance;
  var Direction2D_EAST_instance;
  var Direction2D_SOUTH_instance;
  var Direction2D_WEST_instance;
  function Companion() {
    Companion_instance = this;
  }
  Companion.prototype.s64 = function (value) {
    var tmp0_subject = value;
    var tmp;
    switch (tmp0_subject) {
      case 0:
        tmp = Direction2D_NORTH_getInstance();
        break;
      case 1:
        tmp = Direction2D_EAST_getInstance();
        break;
      case 2:
        tmp = Direction2D_SOUTH_getInstance();
        break;
      case 3:
        tmp = Direction2D_WEST_getInstance();
        break;
      default:
        throw Error_init_$Create$('Wrong value. Accepts 0..3.');
    }
    return tmp;
  };
  Companion.$metadata$ = objectMeta('Companion');
  var Companion_instance;
  function Companion_getInstance() {
    Direction2D_initEntries();
    if (Companion_instance == null)
      new Companion();
    return Companion_instance;
  }
  var Direction2D_entriesInitialized;
  function Direction2D_initEntries() {
    if (Direction2D_entriesInitialized)
      return Unit_getInstance();
    Direction2D_entriesInitialized = true;
    Direction2D_NORTH_instance = new Direction2D('NORTH', 0, 0);
    Direction2D_EAST_instance = new Direction2D('EAST', 1, 1);
    Direction2D_SOUTH_instance = new Direction2D('SOUTH', 2, 2);
    Direction2D_WEST_instance = new Direction2D('WEST', 3, 3);
    Companion_getInstance();
  }
  function Direction2D(name, ordinal, value) {
    Enum.call(this, name, ordinal);
    this.v64_1 = value;
  }
  Direction2D.prototype.fb = function () {
    return this.v64_1;
  };
  Direction2D.$metadata$ = classMeta('Direction2D', undefined, undefined, undefined, undefined, Enum.prototype);
  function Direction2D_NORTH_getInstance() {
    Direction2D_initEntries();
    return Direction2D_NORTH_instance;
  }
  function Direction2D_EAST_getInstance() {
    Direction2D_initEntries();
    return Direction2D_EAST_instance;
  }
  function Direction2D_SOUTH_getInstance() {
    Direction2D_initEntries();
    return Direction2D_SOUTH_instance;
  }
  function Direction2D_WEST_getInstance() {
    Direction2D_initEntries();
    return Direction2D_WEST_instance;
  }
  function onBan($this, wave, pattern) {
    var tmp0_array = $this.b65_1;
    var tmp1_index0 = wave;
    var tmp2 = tmp0_array[tmp1_index0];
    tmp0_array[tmp1_index0] = tmp2 - 1 | 0;
    var tmp3_array = $this.c65_1;
    var tmp4_index0 = wave;
    tmp3_array[tmp4_index0] = tmp3_array[tmp4_index0] - $this.w64_1[pattern];
    var tmp5_array = $this.d65_1;
    var tmp6_index0 = wave;
    tmp5_array[tmp6_index0] = tmp5_array[tmp6_index0] - $this.x64_1[pattern];
    $this.e65_1[wave] = log($this.c65_1[wave], get_LOG_BASE()) - $this.d65_1[wave] / $this.c65_1[wave];
  }
  function onClear($this) {
    var inductionVariable = 0;
    var last = $this.b65_1.length - 1 | 0;
    if (inductionVariable <= last)
      do {
        var w = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        $this.b65_1[w] = $this.w64_1.length;
        $this.c65_1[w] = $this.y64_1;
        $this.d65_1[w] = $this.z64_1;
        $this.e65_1[w] = $this.a65_1;
      }
       while (inductionVariable <= last);
  }
  function LowestEntropyHeuristic$onBanLambda$lambda(this$0) {
    return function (triple) {
      onBan(this$0, triple.uc_1, triple.vc_1);
      return Unit_getInstance();
    };
  }
  function LowestEntropyHeuristic$onClearLambda$lambda(this$0) {
    return function (_anonymous_parameter_0__qggqh8) {
      onClear(this$0);
      return Unit_getInstance();
    };
  }
  function LowestEntropyHeuristic(patternCount, wavesCount, weights) {
    this.w64_1 = weights;
    var tmp = this;
    var tmp_0 = 0;
    var tmp_1 = patternCount;
    var tmp_2 = new Float64Array(tmp_1);
    while (tmp_0 < tmp_1) {
      var tmp_3 = tmp_0;
      var tmp$ret$0;
      {
        tmp$ret$0 = this.w64_1[tmp_3] * log(this.w64_1[tmp_3], get_LOG_BASE());
      }
      tmp_2[tmp_3] = tmp$ret$0;
      tmp_0 = tmp_0 + 1 | 0;
    }
    tmp.x64_1 = tmp_2;
    this.y64_1 = sum(this.w64_1);
    this.z64_1 = sum(this.x64_1);
    this.a65_1 = log(this.y64_1, get_LOG_BASE()) - this.z64_1 / this.y64_1;
    var tmp_4 = this;
    var tmp_5 = 0;
    var tmp_6 = wavesCount;
    var tmp_7 = new Int32Array(tmp_6);
    while (tmp_5 < tmp_6) {
      var tmp_8 = tmp_5;
      var tmp$ret$1;
      {
        tmp$ret$1 = this.w64_1.length;
      }
      tmp_7[tmp_8] = tmp$ret$1;
      tmp_5 = tmp_5 + 1 | 0;
    }
    tmp_4.b65_1 = tmp_7;
    var tmp_9 = this;
    var tmp_10 = 0;
    var tmp_11 = wavesCount;
    var tmp_12 = new Float64Array(tmp_11);
    while (tmp_10 < tmp_11) {
      var tmp_13 = tmp_10;
      var tmp$ret$2;
      {
        tmp$ret$2 = this.y64_1;
      }
      tmp_12[tmp_13] = tmp$ret$2;
      tmp_10 = tmp_10 + 1 | 0;
    }
    tmp_9.c65_1 = tmp_12;
    var tmp_14 = this;
    var tmp_15 = 0;
    var tmp_16 = wavesCount;
    var tmp_17 = new Float64Array(tmp_16);
    while (tmp_15 < tmp_16) {
      var tmp_18 = tmp_15;
      var tmp$ret$3;
      {
        tmp$ret$3 = this.z64_1;
      }
      tmp_17[tmp_18] = tmp$ret$3;
      tmp_15 = tmp_15 + 1 | 0;
    }
    tmp_14.d65_1 = tmp_17;
    var tmp_19 = this;
    var tmp_20 = 0;
    var tmp_21 = wavesCount;
    var tmp_22 = new Float64Array(tmp_21);
    while (tmp_20 < tmp_21) {
      var tmp_23 = tmp_20;
      var tmp$ret$4;
      {
        tmp$ret$4 = this.a65_1;
      }
      tmp_22[tmp_23] = tmp$ret$4;
      tmp_20 = tmp_20 + 1 | 0;
    }
    tmp_19.e65_1 = tmp_22;
    var tmp_24 = this;
    tmp_24.f65_1 = LowestEntropyHeuristic$onBanLambda$lambda(this);
    var tmp_25 = this;
    tmp_25.g65_1 = LowestEntropyHeuristic$onClearLambda$lambda(this);
    this.h65_1 = Default_getInstance();
  }
  LowestEntropyHeuristic.prototype.i65 = function () {
    return this.y64_1;
  };
  LowestEntropyHeuristic.prototype.j65 = function () {
    return this.z64_1;
  };
  LowestEntropyHeuristic.prototype.k65 = function () {
    return this.a65_1;
  };
  LowestEntropyHeuristic.prototype.c62 = function (algorithm, random) {
    this.h65_1 = random;
    if (!algorithm.g60_1.m65(this.f65_1)) {
      var tmp0_this = algorithm;
      tmp0_this.g60_1.l65(this.f65_1);
    }
    if (!algorithm.a60_1.m65(this.g65_1)) {
      var tmp1_this = algorithm;
      tmp1_this.z5z_1.l65(this.g65_1);
    }
  };
  LowestEntropyHeuristic.prototype.b62 = function () {
    DoubleCompanionObject_getInstance();
    var min = 1.7976931348623157E308;
    var argmin = -1;
    var inductionVariable = 0;
    var last = this.b65_1.length - 1 | 0;
    if (inductionVariable <= last)
      do {
        var waveIndex = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var amount = this.b65_1[waveIndex];
        if (amount === 0)
          return null;
        var entropy = this.e65_1[waveIndex];
        if (amount > 1 ? entropy <= min : false) {
          var noise = 1.0E-6 * this.h65_1.w8();
          if (entropy + noise < min) {
            min = entropy + noise;
            argmin = waveIndex;
          }
        }
      }
       while (inductionVariable <= last);
    return argmin;
  };
  LowestEntropyHeuristic.$metadata$ = classMeta('LowestEntropyHeuristic', [SelectionHeuristic]);
  function SelectionHeuristic() {
  }
  SelectionHeuristic.$metadata$ = interfaceMeta('SelectionHeuristic');
  function Model() {
  }
  Model.$metadata$ = interfaceMeta('Model');
  function OverlappingCartesian2DModel_init_$Init$(input, overlap, outputWidth, outputHeight, options, $this) {
    OverlappingCartesian2DModel.call($this, new PatternWeights2D(input, overlap, options), outputWidth, outputHeight);
    return $this;
  }
  function OverlappingCartesian2DModel_init_$Create$(input, overlap, outputWidth, outputHeight, options) {
    return OverlappingCartesian2DModel_init_$Init$(input, overlap, outputWidth, outputHeight, options, Object.create(OverlappingCartesian2DModel.prototype));
  }
  function OverlappingCartesian2DModel$build$lambda(this$0, $algorithm) {
    return function (it) {
      var wasBatchUpdate = it.t5z_1;
      it.v60(true);
      {
        var tmp$ret$0;
        {
          var tmp0_iterator = this$0.d66_1;
          tmp$ret$0 = tmp0_iterator.y().h();
        }
        var tmp0_iterator_0 = tmp$ret$0;
        $l$loop: while (tmp0_iterator_0.n()) {
          var entry = tmp0_iterator_0.o();
          if (!$algorithm.k5z(entry.j2(), entry.l2())) {
            break $l$loop;
          }
        }
      }
      it.v60(wasBatchUpdate);
      return Unit_getInstance();
    };
  }
  function OverlappingCartesian2DModel(storage, outputWidth, outputHeight) {
    this.n65_1 = storage;
    this.o65_1 = outputWidth;
    this.p65_1 = outputHeight;
    this.q65_1 = this.n65_1.f66_1;
    this.r65_1 = this.n65_1.h66_1;
    this.s65_1 = this.n65_1.g66_1;
    this.t65_1 = this.n65_1.p66_1;
    this.u65_1 = this.n65_1.q66_1;
    this.v65_1 = this.n65_1.j66_1;
    this.w65_1 = this.n65_1.i66_1;
    this.x65_1 = this.n65_1.m66_1;
    this.y65_1 = this.n65_1.e66_1;
    this.z65_1 = this.n65_1.o66_1;
    this.a66_1 = this.n65_1.n66_1;
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_intArrayOf = new Int32Array([this.o65_1, this.p65_1]);
      tmp$ret$0 = tmp0_intArrayOf;
    }
    tmp.b66_1 = tmp$ret$0;
    this.c66_1 = new Cartesian2DTopology(this.o65_1 - (this.s65_1.d67_1 ? 0 : this.q65_1) | 0, this.p65_1 - (this.s65_1.d67_1 ? 0 : this.q65_1) | 0, this.s65_1.d67_1);
    var tmp_0 = this;
    var tmp$ret$1;
    {
      tmp$ret$1 = LinkedHashMap_init_$Create$();
    }
    tmp_0.d66_1 = tmp$ret$1;
    if (this.s65_1.u66_1) {
      var tmp$ret$4;
      {
        var tmp0_map = until(0, this.o65_1);
        var tmp$ret$3;
        {
          var tmp0_mapTo = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp0_map, 10));
          var inductionVariable = tmp0_map.i9();
          var last = tmp0_map.k9();
          if (inductionVariable <= last)
            do {
              var item = inductionVariable;
              inductionVariable = inductionVariable + 1 | 0;
              var tmp$ret$2;
              {
                tmp$ret$2 = new Pair(item, this.p65_1 - 1 | 0);
              }
              tmp0_mapTo.b(tmp$ret$2);
            }
             while (!(item === last));
          tmp$ret$3 = tmp0_mapTo;
        }
        tmp$ret$4 = tmp$ret$3;
      }
      this.g67(tmp$ret$4, distinct(this.y65_1.y62(this.y65_1.t62_1 - 1 | 0)));
    }
    if (this.s65_1.v66_1) {
      var tmp$ret$10;
      {
        var tmp1_map = until(0, this.o65_1);
        var tmp$ret$9;
        {
          var tmp0_mapTo_0 = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp1_map, 10));
          var inductionVariable_0 = tmp1_map.i9();
          var last_0 = tmp1_map.k9();
          if (inductionVariable_0 <= last_0)
            do {
              var item_0 = inductionVariable_0;
              inductionVariable_0 = inductionVariable_0 + 1 | 0;
              var tmp$ret$8;
              {
                var tmp$ret$7;
                {
                  var tmp0_map_0 = until(0, (this.p65_1 - 1 | 0) - this.q65_1 | 0);
                  var tmp$ret$6;
                  {
                    var tmp0_mapTo_1 = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp0_map_0, 10));
                    var inductionVariable_1 = tmp0_map_0.i9();
                    var last_1 = tmp0_map_0.k9();
                    if (inductionVariable_1 <= last_1)
                      do {
                        var item_1 = inductionVariable_1;
                        inductionVariable_1 = inductionVariable_1 + 1 | 0;
                        var tmp$ret$5;
                        {
                          tmp$ret$5 = new Pair(item_0, item_1);
                        }
                        tmp0_mapTo_1.b(tmp$ret$5);
                      }
                       while (!(item_1 === last_1));
                    tmp$ret$6 = tmp0_mapTo_1;
                  }
                  tmp$ret$7 = tmp$ret$6;
                }
                tmp$ret$8 = tmp$ret$7;
              }
              tmp0_mapTo_0.b(tmp$ret$8);
            }
             while (!(item_0 === last_0));
          tmp$ret$9 = tmp0_mapTo_0;
        }
        tmp$ret$10 = tmp$ret$9;
      }
      this.h67(flatten(tmp$ret$10), distinct(this.y65_1.y62(this.y65_1.t62_1 - 1 | 0)));
    }
    if (this.s65_1.w66_1) {
      var tmp$ret$13;
      {
        var tmp2_map = until(0, this.o65_1);
        var tmp$ret$12;
        {
          var tmp0_mapTo_2 = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp2_map, 10));
          var inductionVariable_2 = tmp2_map.i9();
          var last_2 = tmp2_map.k9();
          if (inductionVariable_2 <= last_2)
            do {
              var item_2 = inductionVariable_2;
              inductionVariable_2 = inductionVariable_2 + 1 | 0;
              var tmp$ret$11;
              {
                tmp$ret$11 = new Pair(item_2, 0);
              }
              tmp0_mapTo_2.b(tmp$ret$11);
            }
             while (!(item_2 === last_2));
          tmp$ret$12 = tmp0_mapTo_2;
        }
        tmp$ret$13 = tmp$ret$12;
      }
      this.g67(tmp$ret$13, distinct(this.y65_1.y62(0)));
    }
    if (this.s65_1.x66_1) {
      var tmp$ret$19;
      {
        var tmp3_map = until(0, this.o65_1);
        var tmp$ret$18;
        {
          var tmp0_mapTo_3 = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp3_map, 10));
          var inductionVariable_3 = tmp3_map.i9();
          var last_3 = tmp3_map.k9();
          if (inductionVariable_3 <= last_3)
            do {
              var item_3 = inductionVariable_3;
              inductionVariable_3 = inductionVariable_3 + 1 | 0;
              var tmp$ret$17;
              {
                var tmp$ret$16;
                {
                  var tmp0_map_1 = until(1 + this.q65_1 | 0, this.p65_1);
                  var tmp$ret$15;
                  {
                    var tmp0_mapTo_4 = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp0_map_1, 10));
                    var inductionVariable_4 = tmp0_map_1.i9();
                    var last_4 = tmp0_map_1.k9();
                    if (inductionVariable_4 <= last_4)
                      do {
                        var item_4 = inductionVariable_4;
                        inductionVariable_4 = inductionVariable_4 + 1 | 0;
                        var tmp$ret$14;
                        {
                          tmp$ret$14 = new Pair(item_3, item_4);
                        }
                        tmp0_mapTo_4.b(tmp$ret$14);
                      }
                       while (!(item_4 === last_4));
                    tmp$ret$15 = tmp0_mapTo_4;
                  }
                  tmp$ret$16 = tmp$ret$15;
                }
                tmp$ret$17 = tmp$ret$16;
              }
              tmp0_mapTo_3.b(tmp$ret$17);
            }
             while (!(item_3 === last_3));
          tmp$ret$18 = tmp0_mapTo_3;
        }
        tmp$ret$19 = tmp$ret$18;
      }
      this.h67(flatten(tmp$ret$19), distinct(this.y65_1.y62(0)));
    }
    if (this.s65_1.y66_1) {
      var tmp$ret$22;
      {
        var tmp4_map = until(0, this.p65_1);
        var tmp$ret$21;
        {
          var tmp0_mapTo_5 = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp4_map, 10));
          var inductionVariable_5 = tmp4_map.i9();
          var last_5 = tmp4_map.k9();
          if (inductionVariable_5 <= last_5)
            do {
              var item_5 = inductionVariable_5;
              inductionVariable_5 = inductionVariable_5 + 1 | 0;
              var tmp$ret$20;
              {
                tmp$ret$20 = new Pair(0, item_5);
              }
              tmp0_mapTo_5.b(tmp$ret$20);
            }
             while (!(item_5 === last_5));
          tmp$ret$21 = tmp0_mapTo_5;
        }
        tmp$ret$22 = tmp$ret$21;
      }
      this.g67(tmp$ret$22, distinct(this.y65_1.m63(0)));
    }
    if (this.s65_1.z66_1) {
      var tmp$ret$28;
      {
        var tmp5_map = until(1 + this.q65_1 | 0, this.o65_1);
        var tmp$ret$27;
        {
          var tmp0_mapTo_6 = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp5_map, 10));
          var inductionVariable_6 = tmp5_map.i9();
          var last_6 = tmp5_map.k9();
          if (inductionVariable_6 <= last_6)
            do {
              var item_6 = inductionVariable_6;
              inductionVariable_6 = inductionVariable_6 + 1 | 0;
              var tmp$ret$26;
              {
                var tmp$ret$25;
                {
                  var tmp0_map_2 = until(0, this.p65_1);
                  var tmp$ret$24;
                  {
                    var tmp0_mapTo_7 = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp0_map_2, 10));
                    var inductionVariable_7 = tmp0_map_2.i9();
                    var last_7 = tmp0_map_2.k9();
                    if (inductionVariable_7 <= last_7)
                      do {
                        var item_7 = inductionVariable_7;
                        inductionVariable_7 = inductionVariable_7 + 1 | 0;
                        var tmp$ret$23;
                        {
                          tmp$ret$23 = new Pair(item_6, item_7);
                        }
                        tmp0_mapTo_7.b(tmp$ret$23);
                      }
                       while (!(item_7 === last_7));
                    tmp$ret$24 = tmp0_mapTo_7;
                  }
                  tmp$ret$25 = tmp$ret$24;
                }
                tmp$ret$26 = tmp$ret$25;
              }
              tmp0_mapTo_6.b(tmp$ret$26);
            }
             while (!(item_6 === last_6));
          tmp$ret$27 = tmp0_mapTo_6;
        }
        tmp$ret$28 = tmp$ret$27;
      }
      this.h67(flatten(tmp$ret$28), distinct(this.y65_1.m63(0)));
    }
    if (this.s65_1.a67_1) {
      var tmp$ret$31;
      {
        var tmp6_map = until(0, this.p65_1);
        var tmp$ret$30;
        {
          var tmp0_mapTo_8 = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp6_map, 10));
          var inductionVariable_8 = tmp6_map.i9();
          var last_8 = tmp6_map.k9();
          if (inductionVariable_8 <= last_8)
            do {
              var item_8 = inductionVariable_8;
              inductionVariable_8 = inductionVariable_8 + 1 | 0;
              var tmp$ret$29;
              {
                tmp$ret$29 = new Pair(this.o65_1 - 1 | 0, item_8);
              }
              tmp0_mapTo_8.b(tmp$ret$29);
            }
             while (!(item_8 === last_8));
          tmp$ret$30 = tmp0_mapTo_8;
        }
        tmp$ret$31 = tmp$ret$30;
      }
      this.g67(tmp$ret$31, distinct(this.y65_1.m63(this.y65_1.s62_1 - 1 | 0)));
    }
    if (this.s65_1.b67_1) {
      var tmp$ret$37;
      {
        var tmp7_map = until(0, (this.o65_1 - 1 | 0) - this.q65_1 | 0);
        var tmp$ret$36;
        {
          var tmp0_mapTo_9 = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp7_map, 10));
          var inductionVariable_9 = tmp7_map.i9();
          var last_9 = tmp7_map.k9();
          if (inductionVariable_9 <= last_9)
            do {
              var item_9 = inductionVariable_9;
              inductionVariable_9 = inductionVariable_9 + 1 | 0;
              var tmp$ret$35;
              {
                var tmp$ret$34;
                {
                  var tmp0_map_3 = until(0, this.p65_1);
                  var tmp$ret$33;
                  {
                    var tmp0_mapTo_10 = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp0_map_3, 10));
                    var inductionVariable_10 = tmp0_map_3.i9();
                    var last_10 = tmp0_map_3.k9();
                    if (inductionVariable_10 <= last_10)
                      do {
                        var item_10 = inductionVariable_10;
                        inductionVariable_10 = inductionVariable_10 + 1 | 0;
                        var tmp$ret$32;
                        {
                          tmp$ret$32 = new Pair(item_9, item_10);
                        }
                        tmp0_mapTo_10.b(tmp$ret$32);
                      }
                       while (!(item_10 === last_10));
                    tmp$ret$33 = tmp0_mapTo_10;
                  }
                  tmp$ret$34 = tmp$ret$33;
                }
                tmp$ret$35 = tmp$ret$34;
              }
              tmp0_mapTo_9.b(tmp$ret$35);
            }
             while (!(item_9 === last_9));
          tmp$ret$36 = tmp0_mapTo_9;
        }
        tmp$ret$37 = tmp$ret$36;
      }
      this.h67(flatten(tmp$ret$37), distinct(this.y65_1.m63(this.y65_1.s62_1 - 1 | 0)));
    }
  }
  OverlappingCartesian2DModel.prototype.i67 = function () {
    return this.o65_1;
  };
  OverlappingCartesian2DModel.prototype.j67 = function () {
    return this.p65_1;
  };
  OverlappingCartesian2DModel.prototype.k67 = function () {
    return this.q65_1;
  };
  OverlappingCartesian2DModel.prototype.l67 = function () {
    return this.z65_1;
  };
  OverlappingCartesian2DModel.prototype.i64 = function () {
    return this.a66_1;
  };
  OverlappingCartesian2DModel.prototype.m67 = function () {
    return this.d66_1;
  };
  OverlappingCartesian2DModel.prototype.sr = function () {
    var algorithm = new Cartesian2DWfcAlgorithm(this.c66_1, this.t65_1, this.u65_1, this.i64(), this.l67());
    var tmp0_this = algorithm;
    var tmp = tmp0_this.x60();
    tmp.l65(OverlappingCartesian2DModel$build$lambda(this, algorithm));
    return algorithm;
  };
  OverlappingCartesian2DModel.prototype.n67 = function (x, y, patterns) {
    if (x >= (this.o65_1 - (this.s65_1.d67_1 ? 0 : this.q65_1) | 0) ? true : y >= (this.p65_1 - (this.s65_1.d67_1 ? 0 : this.q65_1) | 0)) {
      throw Error_init_$Create$('Output dimensions exceeded [' + x + ', ' + y + ']x[' + (this.o65_1 - (this.s65_1.d67_1 ? 0 : this.q65_1) | 0) + ', ' + (this.p65_1 - (this.s65_1.d67_1 ? 0 : this.q65_1) | 0) + '].');
    }
    var coordinates = this.c66_1.o67(x, y);
    if (!this.d66_1.t2(coordinates)) {
      {
        var tmp0_set = this.d66_1;
        var tmp1_set = toMutableList(patterns);
        tmp0_set.a(coordinates, tmp1_set);
      }
    } else {
      addAll(ensureNotNull(this.d66_1.z2(coordinates)), patterns);
    }
    return this;
  };
  OverlappingCartesian2DModel.prototype.p67 = function (x, y, patterns) {
    this.n67(x, y, minus(get_indices(this.x65_1), patterns));
    return this;
  };
  OverlappingCartesian2DModel.prototype.q67 = function (x, y, pixel) {
    if (this.s65_1.d67_1) {
      this.p67(x, y, asIterable(this.l67().r(pixel)));
      return this;
    }
    var X = x;
    var xShift = 0;
    if (X >= (this.o65_1 - this.q65_1 | 0)) {
      X = (this.o65_1 - this.q65_1 | 0) - 1 | 0;
      xShift = x - X | 0;
    }
    var Y = y;
    var yShift = 0;
    if (Y >= (this.p65_1 - this.q65_1 | 0)) {
      Y = (this.p65_1 - this.q65_1 | 0) - 1 | 0;
      yShift = y - Y | 0;
    }
    var tmp = X;
    var tmp_0 = Y;
    var tmp$ret$2;
    {
      var tmp0_filter = this.i64().u5x_1;
      var tmp$ret$1;
      {
        var tmp0_filterTo = ArrayList_init_$Create$();
        var inductionVariable = tmp0_filter.i9();
        var last = tmp0_filter.k9();
        if (inductionVariable <= last)
          do {
            var element = inductionVariable;
            inductionVariable = inductionVariable + 1 | 0;
            var tmp$ret$0;
            {
              tmp$ret$0 = this.x65_1[element].n2d(xShift, yShift) === pixel;
            }
            if (tmp$ret$0) {
              tmp0_filterTo.b(element);
            }
          }
           while (!(element === last));
        tmp$ret$1 = tmp0_filterTo;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    this.p67(tmp, tmp_0, tmp$ret$2);
    return this;
  };
  OverlappingCartesian2DModel.prototype.w67 = function (x, y, pixel) {
    if (this.s65_1.d67_1) {
      this.n67(x, y, asIterable(this.l67().r(pixel)));
      return this;
    }
    var X = x;
    var xShift = 0;
    if (X >= (this.o65_1 - this.q65_1 | 0)) {
      X = (this.o65_1 - this.q65_1 | 0) - 1 | 0;
      xShift = x - X | 0;
    }
    var Y = y;
    var yShift = 0;
    if (Y >= (this.p65_1 - this.q65_1 | 0)) {
      Y = (this.p65_1 - this.q65_1 | 0) - 1 | 0;
      yShift = y - Y | 0;
    }
    var tmp = X;
    var tmp_0 = Y;
    var tmp$ret$2;
    {
      var tmp0_filter = this.i64().u5x_1;
      var tmp$ret$1;
      {
        var tmp0_filterTo = ArrayList_init_$Create$();
        var inductionVariable = tmp0_filter.i9();
        var last = tmp0_filter.k9();
        if (inductionVariable <= last)
          do {
            var element = inductionVariable;
            inductionVariable = inductionVariable + 1 | 0;
            var tmp$ret$0;
            {
              tmp$ret$0 = this.x65_1[element].n2d(xShift, yShift) === pixel;
            }
            if (tmp$ret$0) {
              tmp0_filterTo.b(element);
            }
          }
           while (!(element === last));
        tmp$ret$1 = tmp0_filterTo;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    this.n67(tmp, tmp_0, tmp$ret$2);
    return this;
  };
  OverlappingCartesian2DModel.prototype.x67 = function (x, y, pixels) {
    {
      var tmp0_iterator = pixels.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          this.q67(x, y, element);
        }
      }
    }
    return this;
  };
  OverlappingCartesian2DModel.prototype.g67 = function (coordinates, pixels) {
    {
      var tmp0_iterator = coordinates.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          this.x67(element.x3_1, element.y3_1, pixels);
        }
      }
    }
    return this;
  };
  OverlappingCartesian2DModel.prototype.y67 = function (x, y, pixels) {
    {
      var tmp0_iterator = pixels.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          this.w67(x, y, element);
        }
      }
    }
    return this;
  };
  OverlappingCartesian2DModel.prototype.h67 = function (coordinates, pixels) {
    {
      var tmp0_iterator = coordinates.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          this.y67(element.x3_1, element.y3_1, pixels);
        }
      }
    }
    return this;
  };
  OverlappingCartesian2DModel.prototype.z67 = function (waveIndex) {
    if ((waveIndex % this.o65_1 | 0) >= (this.o65_1 - this.q65_1 | 0)) {
      return true;
    }
    if (waveIndex >= imul(this.o65_1, this.p65_1 - this.q65_1 | 0)) {
      return true;
    }
    return false;
  };
  OverlappingCartesian2DModel.prototype.a68 = function (wave) {
    var index = wave;
    var shiftX = 0;
    var shiftY = 0;
    if (!this.s65_1.d67_1) {
      if (this.z67(wave)) {
        var coordinates = toCoordinates(wave, this.b66_1);
        if (coordinates[0] >= (this.o65_1 - this.q65_1 | 0)) {
          shiftX = ((coordinates[0] - this.o65_1 | 0) + this.q65_1 | 0) + 1 | 0;
          index = index - shiftX | 0;
        }
        if (coordinates[1] >= (this.p65_1 - this.q65_1 | 0)) {
          shiftY = ((coordinates[1] - this.p65_1 | 0) + this.q65_1 | 0) + 1 | 0;
          index = index - imul(shiftY, this.o65_1) | 0;
        }
      }
      index = index - imul(index / this.o65_1 | 0, this.q65_1) | 0;
    }
    var shift = imul(shiftY, this.q65_1 + 1 | 0) + shiftX | 0;
    return new Pair(index, shift);
  };
  OverlappingCartesian2DModel.prototype.b68 = function (algorithm) {
    if (!algorithm.t60()) {
      println("WARNING: Algorithm hasn't run yet.");
    }
    var tmp = 0;
    var tmp_0 = this.p65_1;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_0), null);
    }
    var tmp_1 = tmp$ret$0;
    while (tmp < tmp_0) {
      var tmp_2 = tmp;
      var tmp$ret$9;
      {
        var tmp_3 = 0;
        var tmp_4 = this.o65_1;
        var tmp$ret$1;
        {
          tmp$ret$1 = fillArrayVal(Array(tmp_4), null);
        }
        var tmp_5 = tmp$ret$1;
        while (tmp_3 < tmp_4) {
          var tmp_6 = tmp_3;
          var tmp$ret$8;
          {
            var tmp$ret$2;
            {
              tmp$ret$2 = new Int32Array([tmp_6, tmp_2]);
            }
            var waveIndex = toIndex(tmp$ret$2, this.b66_1);
            var pair = this.a68(waveIndex);
            var index = pair.x3_1;
            var shift = pair.y3_1;
            var a = 0;
            var b = 1;
            var tmp$ret$4;
            {
              var tmp0_sumOf = algorithm.w60().r(index);
              var sum = 0;
              var tmp0_iterator = tmp0_sumOf.h();
              while (tmp0_iterator.n()) {
                var element = tmp0_iterator.o();
                var tmp_7 = sum;
                var tmp$ret$3;
                {
                  var tmp0_subject = element;
                  var tmp_8;
                  switch (tmp0_subject) {
                    case false:
                      tmp_8 = a;
                      break;
                    case true:
                      tmp_8 = b;
                      break;
                    default:
                      noWhenBranchMatchedException();
                      break;
                  }
                  tmp$ret$3 = tmp_8;
                }
                sum = tmp_7 + tmp$ret$3 | 0;
              }
              tmp$ret$4 = sum;
            }
            var sum_0 = tmp$ret$4;
            var tmp0_subject_0 = sum_0;
            var tmp_9;
            switch (tmp0_subject_0) {
              case 0:
                tmp_9 = IntCompanionObject_getInstance().a1_1;
                break;
              case 1:
                var tmp$ret$7;
                {
                  var tmp1_filter = this.i64().u5x_1;
                  var tmp$ret$6;
                  {
                    var tmp0_filterTo = ArrayList_init_$Create$();
                    var inductionVariable = tmp1_filter.i9();
                    var last = tmp1_filter.k9();
                    if (inductionVariable <= last)
                      do {
                        var element_0 = inductionVariable;
                        inductionVariable = inductionVariable + 1 | 0;
                        var tmp$ret$5;
                        {
                          tmp$ret$5 = algorithm.w60().n2d(index, element_0);
                        }
                        if (tmp$ret$5) {
                          tmp0_filterTo.b(element_0);
                        }
                      }
                       while (!(element_0 === last));
                    tmp$ret$6 = tmp0_filterTo;
                  }
                  tmp$ret$7 = tmp$ret$6;
                }

                tmp_9 = this.x65_1[tmp$ret$7.r(0)].r(shift);
                break;
              default:
                tmp_9 = null;
                break;
            }
            tmp$ret$8 = tmp_9;
          }
          tmp_5[tmp_6] = tmp$ret$8;
          tmp_3 = tmp_3 + 1 | 0;
        }
        tmp$ret$9 = tmp_5;
      }
      tmp_1[tmp_2] = tmp$ret$9;
      tmp = tmp + 1 | 0;
    }
    return tmp_1;
  };
  OverlappingCartesian2DModel.$metadata$ = classMeta('OverlappingCartesian2DModel', [OverlappingModel]);
  function OverlappingModel() {
  }
  OverlappingModel.$metadata$ = interfaceMeta('OverlappingModel', [Model]);
  function Patterns(patterns) {
    this.s5x_1 = patterns;
    this.t5x_1 = this.s5x_1.length;
    this.u5x_1 = get_indices(this.s5x_1);
    this.v5x_1 = get_lastIndex(this.s5x_1);
    var tmp = this;
    var tmp$ret$2;
    {
      var tmp0_map = this.s5x_1;
      var tmp$ret$1;
      {
        var tmp0_mapTo = ArrayList_init_$Create$_0(tmp0_map.length);
        var indexedObject = tmp0_map;
        var inductionVariable = 0;
        var last = indexedObject.length;
        while (inductionVariable < last) {
          var item = indexedObject[inductionVariable];
          inductionVariable = inductionVariable + 1 | 0;
          var tmp$ret$0;
          {
            tmp$ret$0 = item[0];
          }
          tmp0_mapTo.b(tmp$ret$0);
        }
        tmp$ret$1 = tmp0_mapTo;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    tmp.w5x_1 = tmp$ret$2;
  }
  Patterns.prototype.l67 = function () {
    return this.w5x_1;
  };
  Patterns.prototype.h = function () {
    return arrayIterator(this.s5x_1);
  };
  Patterns.$metadata$ = classMeta('Patterns', [Iterable]);
  function Entry(key, value) {
    this.c68_1 = key;
    this.d68_1 = value;
  }
  Entry.prototype.toString = function () {
    return 'Entry(key=' + this.c68_1 + ', value=' + this.d68_1 + ')';
  };
  Entry.prototype.hashCode = function () {
    var result = this.c68_1;
    result = imul(result, 31) + hashCode(this.d68_1) | 0;
    return result;
  };
  Entry.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Entry))
      return false;
    var tmp0_other_with_cast = other instanceof Entry ? other : THROW_CCE();
    if (!(this.c68_1 === tmp0_other_with_cast.c68_1))
      return false;
    if (!equals(this.d68_1, tmp0_other_with_cast.d68_1))
      return false;
    return true;
  };
  Entry.$metadata$ = classMeta('Entry');
  function Pixels$iterator$slambda(this$0, resultContinuation) {
    this.m68_1 = this$0;
    CoroutineImpl.call(this, resultContinuation);
  }
  Pixels$iterator$slambda.prototype.r68 = function ($this$iterator, $cont) {
    var tmp = this.s68($this$iterator, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  Pixels$iterator$slambda.prototype.s7 = function (p1, $cont) {
    return this.r68(p1 instanceof SequenceScope ? p1 : THROW_CCE(), $cont);
  };
  Pixels$iterator$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 4;
            var tmp_0 = this;
            var tmp_1 = this;
            tmp_1.o68_1 = this.m68_1.r67_1;
            tmp_0.p68_1 = this.o68_1.y().h();
            this.k7_1 = 1;
            continue $sm;
          case 1:
            if (!this.p68_1.n()) {
              this.k7_1 = 3;
              continue $sm;
            }

            this.q68_1 = this.p68_1.o();
            this.k7_1 = 2;
            suspendResult = this.n68_1.k4(new Entry(this.q68_1.j2(), asSequence_1(this.q68_1.l2())), this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 2:
            this.k7_1 = 1;
            continue $sm;
          case 3:
            return Unit_getInstance();
          case 4:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 4) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  Pixels$iterator$slambda.prototype.s68 = function ($this$iterator, completion) {
    var i = new Pixels$iterator$slambda(this.m68_1, completion);
    i.n68_1 = $this$iterator;
    return i;
  };
  Pixels$iterator$slambda.$metadata$ = classMeta('Pixels$iterator$slambda', undefined, undefined, undefined, [1], CoroutineImpl.prototype);
  function Pixels$iterator$slambda_0(this$0, resultContinuation) {
    var i = new Pixels$iterator$slambda(this$0, resultContinuation);
    var l = function ($this$iterator, $cont) {
      return i.r68($this$iterator, $cont);
    };
    l.$arity = 1;
    return l;
  }
  function Pixels(pixels) {
    this.r67_1 = pixels;
    this.s67_1 = this.r67_1.m();
    this.t67_1 = this.r67_1.a3();
    this.u67_1 = this.r67_1.y();
    this.v67_1 = this.r67_1.b3();
  }
  Pixels.prototype.r = function (index) {
    var tmp0_safe_receiver = this.r67_1.z2(index);
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : asSequence_1(tmp0_safe_receiver);
    return tmp1_elvis_lhs == null ? emptySequence() : tmp1_elvis_lhs;
  };
  Pixels.prototype.h = function () {
    return iterator(Pixels$iterator$slambda_0(this, null));
  };
  Pixels.$metadata$ = classMeta('Pixels', [Iterable]);
  function Cartesian2DModelOptions_init_$Init$(allowRotations, allowHorizontalFlips, allowVerticalFlips, grounded, banGroundElsewhere, roofed, banRoofElsewhere, leftSided, banLeftSideElsewhere, rightSided, banRightSideElsewhere, banSidesElsewhere, periodicOutput, periodicInput, weightPower, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0))
      allowRotations = false;
    if (!(($mask0 & 2) === 0))
      allowHorizontalFlips = false;
    if (!(($mask0 & 4) === 0))
      allowVerticalFlips = false;
    if (!(($mask0 & 8) === 0))
      grounded = false;
    if (!(($mask0 & 16) === 0))
      banGroundElsewhere = false;
    if (!(($mask0 & 32) === 0))
      roofed = false;
    if (!(($mask0 & 64) === 0))
      banRoofElsewhere = false;
    if (!(($mask0 & 128) === 0))
      leftSided = false;
    if (!(($mask0 & 256) === 0))
      banLeftSideElsewhere = false;
    if (!(($mask0 & 512) === 0))
      rightSided = false;
    if (!(($mask0 & 1024) === 0))
      banRightSideElsewhere = false;
    if (!(($mask0 & 2048) === 0))
      banSidesElsewhere = false;
    if (!(($mask0 & 4096) === 0))
      periodicOutput = false;
    if (!(($mask0 & 8192) === 0))
      periodicInput = false;
    if (!(($mask0 & 16384) === 0))
      weightPower = 1.0;
    Cartesian2DModelOptions.call($this, allowRotations, allowHorizontalFlips, allowVerticalFlips, grounded, banGroundElsewhere, roofed, banRoofElsewhere, leftSided, banLeftSideElsewhere, rightSided, banRightSideElsewhere, banSidesElsewhere, periodicOutput, periodicInput, weightPower);
    return $this;
  }
  function Cartesian2DModelOptions_init_$Create$(allowRotations, allowHorizontalFlips, allowVerticalFlips, grounded, banGroundElsewhere, roofed, banRoofElsewhere, leftSided, banLeftSideElsewhere, rightSided, banRightSideElsewhere, banSidesElsewhere, periodicOutput, periodicInput, weightPower, $mask0, $marker) {
    return Cartesian2DModelOptions_init_$Init$(allowRotations, allowHorizontalFlips, allowVerticalFlips, grounded, banGroundElsewhere, roofed, banRoofElsewhere, leftSided, banLeftSideElsewhere, rightSided, banRightSideElsewhere, banSidesElsewhere, periodicOutput, periodicInput, weightPower, $mask0, $marker, Object.create(Cartesian2DModelOptions.prototype));
  }
  function Cartesian2DModelOptions(allowRotations, allowHorizontalFlips, allowVerticalFlips, grounded, banGroundElsewhere, roofed, banRoofElsewhere, leftSided, banLeftSideElsewhere, rightSided, banRightSideElsewhere, banSidesElsewhere, periodicOutput, periodicInput, weightPower) {
    this.r66_1 = allowRotations;
    this.s66_1 = allowHorizontalFlips;
    this.t66_1 = allowVerticalFlips;
    this.u66_1 = grounded;
    this.v66_1 = banGroundElsewhere;
    this.w66_1 = roofed;
    this.x66_1 = banRoofElsewhere;
    this.y66_1 = leftSided;
    this.z66_1 = banLeftSideElsewhere;
    this.a67_1 = rightSided;
    this.b67_1 = banRightSideElsewhere;
    this.c67_1 = banSidesElsewhere;
    this.d67_1 = periodicOutput;
    this.e67_1 = periodicInput;
    this.f67_1 = weightPower;
  }
  Cartesian2DModelOptions.prototype.t68 = function () {
    return this.f67_1;
  };
  Cartesian2DModelOptions.prototype.toString = function () {
    return 'Cartesian2DModelOptions(allowRotations=' + this.r66_1 + ', allowHorizontalFlips=' + this.s66_1 + ', allowVerticalFlips=' + this.t66_1 + ', grounded=' + this.u66_1 + ', banGroundElsewhere=' + this.v66_1 + ', roofed=' + this.w66_1 + ', banRoofElsewhere=' + this.x66_1 + ', leftSided=' + this.y66_1 + ', banLeftSideElsewhere=' + this.z66_1 + ', rightSided=' + this.a67_1 + ', banRightSideElsewhere=' + this.b67_1 + ', banSidesElsewhere=' + this.c67_1 + ', periodicOutput=' + this.d67_1 + ', periodicInput=' + this.e67_1 + ', weightPower=' + this.f67_1 + ')';
  };
  Cartesian2DModelOptions.prototype.hashCode = function () {
    var result = this.r66_1 | 0;
    result = imul(result, 31) + (this.s66_1 | 0) | 0;
    result = imul(result, 31) + (this.t66_1 | 0) | 0;
    result = imul(result, 31) + (this.u66_1 | 0) | 0;
    result = imul(result, 31) + (this.v66_1 | 0) | 0;
    result = imul(result, 31) + (this.w66_1 | 0) | 0;
    result = imul(result, 31) + (this.x66_1 | 0) | 0;
    result = imul(result, 31) + (this.y66_1 | 0) | 0;
    result = imul(result, 31) + (this.z66_1 | 0) | 0;
    result = imul(result, 31) + (this.a67_1 | 0) | 0;
    result = imul(result, 31) + (this.b67_1 | 0) | 0;
    result = imul(result, 31) + (this.c67_1 | 0) | 0;
    result = imul(result, 31) + (this.d67_1 | 0) | 0;
    result = imul(result, 31) + (this.e67_1 | 0) | 0;
    result = imul(result, 31) + getNumberHashCode(this.f67_1) | 0;
    return result;
  };
  Cartesian2DModelOptions.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof Cartesian2DModelOptions))
      return false;
    var tmp0_other_with_cast = other instanceof Cartesian2DModelOptions ? other : THROW_CCE();
    if (!(this.r66_1 === tmp0_other_with_cast.r66_1))
      return false;
    if (!(this.s66_1 === tmp0_other_with_cast.s66_1))
      return false;
    if (!(this.t66_1 === tmp0_other_with_cast.t66_1))
      return false;
    if (!(this.u66_1 === tmp0_other_with_cast.u66_1))
      return false;
    if (!(this.v66_1 === tmp0_other_with_cast.v66_1))
      return false;
    if (!(this.w66_1 === tmp0_other_with_cast.w66_1))
      return false;
    if (!(this.x66_1 === tmp0_other_with_cast.x66_1))
      return false;
    if (!(this.y66_1 === tmp0_other_with_cast.y66_1))
      return false;
    if (!(this.z66_1 === tmp0_other_with_cast.z66_1))
      return false;
    if (!(this.a67_1 === tmp0_other_with_cast.a67_1))
      return false;
    if (!(this.b67_1 === tmp0_other_with_cast.b67_1))
      return false;
    if (!(this.c67_1 === tmp0_other_with_cast.c67_1))
      return false;
    if (!(this.d67_1 === tmp0_other_with_cast.d67_1))
      return false;
    if (!(this.e67_1 === tmp0_other_with_cast.e67_1))
      return false;
    if (!equals(this.f67_1, tmp0_other_with_cast.f67_1))
      return false;
    return true;
  };
  Cartesian2DModelOptions.$metadata$ = classMeta('Cartesian2DModelOptions', [ModelOptions]);
  function ModelOptions() {
  }
  ModelOptions.$metadata$ = interfaceMeta('ModelOptions');
  function PatternWeights2D$loadPatterns$lambda($item) {
    return function (it) {
      return $item.x3_1[it];
    };
  }
  function PatternWeights2D(input, overlap, options) {
    this.e66_1 = input;
    this.f66_1 = overlap;
    this.g66_1 = options;
    this.h66_1 = this.f66_1 + 1 | 0;
    this.i66_1 = ArrayList_init_$Create$();
    this.j66_1 = ArrayList_init_$Create$();
    this.k66_1 = this.u68(this.e66_1, this.f66_1);
    var tmp = this;
    var tmp$ret$2;
    {
      var tmp0_map = this.k66_1;
      var tmp$ret$1;
      {
        var tmp0_mapTo = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp0_map, 10));
        var tmp0_iterator = tmp0_map.h();
        while (tmp0_iterator.n()) {
          var item = tmp0_iterator.o();
          var tmp$ret$0;
          {
            tmp$ret$0 = item.y3_1.b64_1;
          }
          tmp0_mapTo.b(tmp$ret$0);
        }
        tmp$ret$1 = tmp0_mapTo;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    tmp.l66_1 = sum_0(tmp$ret$2);
    var tmp_0 = this;
    var tmp$ret$6;
    {
      var tmp$ret$5;
      {
        var tmp0_map_0 = this.k66_1;
        var tmp$ret$4;
        {
          var tmp0_mapTo_0 = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp0_map_0, 10));
          var tmp0_iterator_0 = tmp0_map_0.h();
          while (tmp0_iterator_0.n()) {
            var item_0 = tmp0_iterator_0.o();
            var tmp$ret$3;
            {
              tmp$ret$3 = item_0.x3_1;
            }
            tmp0_mapTo_0.b(tmp$ret$3);
          }
          tmp$ret$4 = tmp0_mapTo_0;
        }
        tmp$ret$5 = tmp$ret$4;
      }
      var tmp1_toTypedArray = tmp$ret$5;
      tmp$ret$6 = copyToArray(tmp1_toTypedArray);
    }
    tmp_0.m66_1 = tmp$ret$6;
    var tmp_1 = this;
    var tmp$ret$10;
    {
      var tmp$ret$9;
      {
        var tmp0_map_1 = this.m66_1;
        var tmp$ret$8;
        {
          var tmp0_mapTo_1 = ArrayList_init_$Create$_0(tmp0_map_1.length);
          var indexedObject = tmp0_map_1;
          var inductionVariable = 0;
          var last = indexedObject.length;
          while (inductionVariable < last) {
            var item_1 = indexedObject[inductionVariable];
            inductionVariable = inductionVariable + 1 | 0;
            var tmp$ret$7;
            {
              tmp$ret$7 = item_1.t63();
            }
            tmp0_mapTo_1.b(tmp$ret$7);
          }
          tmp$ret$8 = tmp0_mapTo_1;
        }
        tmp$ret$9 = tmp$ret$8;
      }
      var tmp1_toTypedArray_0 = tmp$ret$9;
      tmp$ret$10 = copyToArray(tmp1_toTypedArray_0);
    }
    tmp_1.n66_1 = new Patterns(tmp$ret$10);
    var tmp_2 = this;
    var tmp$ret$26;
    {
      var tmp$ret$25;
      {
        var tmp$ret$13;
        {
          var tmp0_map_2 = this.n66_1.w5x_1;
          var tmp$ret$12;
          {
            var tmp0_mapTo_2 = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp0_map_2, 10));
            var tmp0_iterator_1 = tmp0_map_2.h();
            while (tmp0_iterator_1.n()) {
              var item_2 = tmp0_iterator_1.o();
              var tmp$ret$11;
              {
                tmp$ret$11 = item_2;
              }
              tmp0_mapTo_2.b(tmp$ret$11);
            }
            tmp$ret$12 = tmp0_mapTo_2;
          }
          tmp$ret$13 = tmp$ret$12;
        }
        var tmp1_map = distinct_0(tmp$ret$13);
        var tmp$ret$24;
        {
          var tmp0_mapTo_3 = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp1_map, 10));
          var tmp0_iterator_2 = tmp1_map.h();
          while (tmp0_iterator_2.n()) {
            var item_3 = tmp0_iterator_2.o();
            var tmp$ret$23;
            {
              var tmp$ret$22;
              {
                var tmp$ret$19;
                {
                  var tmp$ret$16;
                  {
                    var tmp0_mapIndexed = this.n66_1.w5x_1;
                    var tmp$ret$15;
                    {
                      var tmp0_mapIndexedTo = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp0_mapIndexed, 10));
                      var index = 0;
                      var tmp0_iterator_3 = tmp0_mapIndexed.h();
                      while (tmp0_iterator_3.n()) {
                        var item_4 = tmp0_iterator_3.o();
                        var tmp$ret$14;
                        {
                          var tmp1 = index;
                          index = tmp1 + 1 | 0;
                          var tmp1__anonymous__uwfjfc = checkIndexOverflow(tmp1);
                          tmp$ret$14 = new Pair(item_4, tmp1__anonymous__uwfjfc);
                        }
                        tmp0_mapIndexedTo.b(tmp$ret$14);
                      }
                      tmp$ret$15 = tmp0_mapIndexedTo;
                    }
                    tmp$ret$16 = tmp$ret$15;
                  }
                  var tmp2_filter = tmp$ret$16;
                  var tmp$ret$18;
                  {
                    var tmp0_filterTo = ArrayList_init_$Create$();
                    var tmp0_iterator_4 = tmp2_filter.h();
                    while (tmp0_iterator_4.n()) {
                      var element = tmp0_iterator_4.o();
                      var tmp$ret$17;
                      {
                        tmp$ret$17 = element.x3_1 === item_3;
                      }
                      if (tmp$ret$17) {
                        tmp0_filterTo.b(element);
                      }
                    }
                    tmp$ret$18 = tmp0_filterTo;
                  }
                  tmp$ret$19 = tmp$ret$18;
                }
                var tmp3_map = tmp$ret$19;
                var tmp$ret$21;
                {
                  var tmp0_mapTo_4 = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp3_map, 10));
                  var tmp0_iterator_5 = tmp3_map.h();
                  while (tmp0_iterator_5.n()) {
                    var item_5 = tmp0_iterator_5.o();
                    var tmp$ret$20;
                    {
                      tmp$ret$20 = item_5.y3_1;
                    }
                    tmp0_mapTo_4.b(tmp$ret$20);
                  }
                  tmp$ret$21 = tmp0_mapTo_4;
                }
                tmp$ret$22 = tmp$ret$21;
              }
              tmp$ret$23 = new Pair(item_3, toIntArray(tmp$ret$22));
            }
            tmp0_mapTo_3.b(tmp$ret$23);
          }
          tmp$ret$24 = tmp0_mapTo_3;
        }
        tmp$ret$25 = tmp$ret$24;
      }
      var tmp2_toTypedArray = tmp$ret$25;
      tmp$ret$26 = copyToArray(tmp2_toTypedArray);
    }
    tmp_2.o66_1 = new Pixels(mapOf(tmp$ret$26.slice()));
    var tmp_3 = this;
    var tmp_4 = 0;
    var tmp_5 = this.k66_1.m();
    var tmp_6 = new Float64Array(tmp_5);
    while (tmp_4 < tmp_5) {
      var tmp_7 = tmp_4;
      var tmp$ret$28;
      {
        var tmp$ret$27;
        {
          var tmp0_pow = this.k66_1.r(tmp_7).y3_1.b64_1 / this.l66_1;
          var tmp1_pow = this.g66_1.f67_1;
          tmp$ret$27 = Math.pow(tmp0_pow, tmp1_pow);
        }
        tmp$ret$28 = tmp$ret$27;
      }
      tmp_6[tmp_7] = tmp$ret$28;
      tmp_4 = tmp_4 + 1 | 0;
    }
    tmp_3.p66_1 = tmp_6;
    var tmp_8 = this;
    var tmp_9 = 0;
    var tmp_10 = 4;
    var tmp$ret$29;
    {
      tmp$ret$29 = fillArrayVal(Array(tmp_10), null);
    }
    var tmp_11 = tmp$ret$29;
    while (tmp_9 < tmp_10) {
      var tmp_12 = tmp_9;
      var tmp$ret$35;
      {
        var tmp_13 = 0;
        var tmp_14 = this.m66_1.length;
        var tmp$ret$30;
        {
          tmp$ret$30 = fillArrayVal(Array(tmp_14), null);
        }
        var tmp_15 = tmp$ret$30;
        while (tmp_13 < tmp_14) {
          var tmp_16 = tmp_13;
          var tmp$ret$34;
          {
            var d = Companion_getInstance().s64(tmp_12);
            var tmp$ret$33;
            {
              var tmp0_filter = get_indices(this.m66_1);
              var tmp$ret$32;
              {
                var tmp0_filterTo_0 = ArrayList_init_$Create$();
                var inductionVariable_0 = tmp0_filter.i9();
                var last_0 = tmp0_filter.k9();
                if (inductionVariable_0 <= last_0)
                  do {
                    var element_0 = inductionVariable_0;
                    inductionVariable_0 = inductionVariable_0 + 1 | 0;
                    var tmp$ret$31;
                    {
                      tmp$ret$31 = this.v68(this.m66_1[tmp_16], this.m66_1[element_0], d);
                    }
                    if (tmp$ret$31) {
                      tmp0_filterTo_0.b(element_0);
                    }
                  }
                   while (!(element_0 === last_0));
                tmp$ret$32 = tmp0_filterTo_0;
              }
              tmp$ret$33 = tmp$ret$32;
            }
            tmp$ret$34 = toIntArray(tmp$ret$33);
          }
          tmp_15[tmp_16] = tmp$ret$34;
          tmp_13 = tmp_13 + 1 | 0;
        }
        tmp$ret$35 = tmp_15;
      }
      tmp_11[tmp_12] = tmp$ret$35;
      tmp_9 = tmp_9 + 1 | 0;
    }
    tmp_8.q66_1 = tmp_11;
  }
  PatternWeights2D.prototype.w68 = function () {
    return this.g66_1;
  };
  PatternWeights2D.prototype.x68 = function () {
    return this.h66_1;
  };
  PatternWeights2D.prototype.y68 = function () {
    return this.l66_1;
  };
  PatternWeights2D.prototype.z68 = function () {
    return this.m66_1;
  };
  PatternWeights2D.prototype.i64 = function () {
    return this.n66_1;
  };
  PatternWeights2D.prototype.v68 = function (pattern1, pattern2, direction) {
    var tmp0_subject = direction;
    var tmp0 = tmp0_subject.w1();
    var tmp;
    switch (tmp0) {
      case 0:
        tmp = chain(asSequence_0(pattern1.v63(until(0, this.f66_1)).h()), this.f66_1, this.h66_1);
        break;
      case 1:
        tmp = chain(asSequence_0(pattern1.w63(until(this.h66_1 - this.f66_1 | 0, this.h66_1)).h()), this.f66_1, this.h66_1);
        break;
      case 2:
        tmp = chain(asSequence_0(pattern1.v63(until(this.h66_1 - this.f66_1 | 0, this.h66_1)).h()), this.f66_1, this.h66_1);
        break;
      case 3:
        tmp = chain(asSequence_0(pattern1.w63(until(0, this.f66_1)).h()), this.f66_1, this.h66_1);
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    var line1 = tmp;
    var tmp1_subject = direction;
    var tmp0_0 = tmp1_subject.w1();
    var tmp_0;
    switch (tmp0_0) {
      case 0:
        tmp_0 = chain(asSequence_0(pattern2.v63(until(this.h66_1 - this.f66_1 | 0, this.h66_1)).h()), this.f66_1, this.h66_1);
        break;
      case 1:
        tmp_0 = chain(asSequence_0(pattern2.w63(until(0, this.f66_1)).h()), this.f66_1, this.h66_1);
        break;
      case 2:
        tmp_0 = chain(asSequence_0(pattern2.v63(until(0, this.f66_1)).h()), this.f66_1, this.h66_1);
        break;
      case 3:
        tmp_0 = chain(asSequence_0(pattern2.w63(until(this.h66_1 - this.f66_1 | 0, this.h66_1)).h()), this.f66_1, this.h66_1);
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    var line2 = tmp_0;
    return contentEquals(line1, line2);
  };
  PatternWeights2D.prototype.u68 = function (data, overlap) {
    var pab = new PatternsArrayBuilder();
    var yMax = data.t62_1 - (this.g66_1.e67_1 ? 0 : overlap) | 0;
    var xMax = data.s62_1 - (this.g66_1.e67_1 ? 0 : overlap) | 0;
    var inductionVariable = 0;
    if (inductionVariable < yMax)
      do {
        var yOffset = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var preIndex = imul(yOffset, data.s62_1);
        var inductionVariable_0 = 0;
        if (inductionVariable_0 < xMax)
          do {
            var xOffset = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + 1 | 0;
            var index = preIndex + xOffset | 0;
            var pattern = data.u63(index, numberRangeToNumber(0, overlap), numberRangeToNumber(0, overlap));
            var foundPatterns = mutableListOf([pattern]);
            if (this.g66_1.s66_1 ? true : this.g66_1.t66_1) {
              if (this.g66_1.s66_1) {
                var patternH = pattern.z63();
                foundPatterns.b(patternH);
                if (this.g66_1.t66_1) {
                  var patternHV = patternH.a64();
                  foundPatterns.b(patternHV);
                }
              }
              if (this.g66_1.t66_1) {
                var patternV = pattern.a64();
                foundPatterns.b(patternV);
              }
            }
            if (this.g66_1.r66_1) {
              var pattern90 = pattern.y63(false, 1, null);
              var pattern180 = pattern90.y63(false, 1, null);
              var pattern270 = pattern180.y63(false, 1, null);
              addAll_0(foundPatterns, sequenceOf([pattern90, pattern180, pattern270]));
              if (this.g66_1.s66_1 ? true : this.g66_1.t66_1) {
                if (this.g66_1.s66_1) {
                  var pattern90H = pattern90.z63();
                  var pattern180H = pattern180.z63();
                  var pattern270H = pattern270.z63();
                  addAll_0(foundPatterns, sequenceOf([pattern90H, pattern180H, pattern270H]));
                  if (this.g66_1.t66_1) {
                    var pattern90HV = pattern90H.a64();
                    var pattern180HV = pattern180H.a64();
                    var pattern270HV = pattern270H.a64();
                    addAll_0(foundPatterns, sequenceOf([pattern90HV, pattern180HV, pattern270HV]));
                  }
                }
                if (this.g66_1.t66_1) {
                  var pattern90V = pattern90.a64();
                  var pattern180V = pattern180.a64();
                  var pattern270V = pattern270.a64();
                  addAll_0(foundPatterns, sequenceOf([pattern90V, pattern180V, pattern270V]));
                }
              }
            }
            {
              var tmp0_iterator = foundPatterns.h();
              while (tmp0_iterator.n()) {
                var element = tmp0_iterator.o();
                {
                  pab.m64(element.t63());
                }
              }
            }
            if (this.g66_1.w66_1 ? yOffset === 0 : false) {
              var tmp$ret$1;
              $l$block: {
                var index_0 = 0;
                var tmp0_iterator_0 = pab.h();
                while (tmp0_iterator_0.n()) {
                  var item = tmp0_iterator_0.o();
                  var tmp$ret$0;
                  {
                    tmp$ret$0 = contentEquals(item, pattern.u62_1);
                  }
                  if (tmp$ret$0) {
                    tmp$ret$1 = index_0;
                    break $l$block;
                  }
                  var tmp1 = index_0;
                  index_0 = tmp1 + 1 | 0;
                }
                tmp$ret$1 = -1;
              }
              this.i66_1.b(tmp$ret$1);
            }
            if (this.g66_1.u66_1 ? yOffset === ((data.t62_1 - 1 | 0) - overlap | 0) : false) {
              var tmp$ret$3;
              $l$block_0: {
                var index_1 = 0;
                var tmp0_iterator_1 = pab.h();
                while (tmp0_iterator_1.n()) {
                  var item_0 = tmp0_iterator_1.o();
                  var tmp$ret$2;
                  {
                    tmp$ret$2 = contentEquals(item_0, pattern.u62_1);
                  }
                  if (tmp$ret$2) {
                    tmp$ret$3 = index_1;
                    break $l$block_0;
                  }
                  var tmp1_0 = index_1;
                  index_1 = tmp1_0 + 1 | 0;
                }
                tmp$ret$3 = -1;
              }
              this.j66_1.b(tmp$ret$3);
            }
          }
           while (inductionVariable_0 < xMax);
      }
       while (inductionVariable < yMax);
    var tmp$ret$6;
    {
      var tmp0_map = pab.i64();
      var tmp$ret$5;
      {
        var tmp0_mapTo = ArrayList_init_$Create$_0(collectionSizeOrDefault(tmp0_map, 10));
        var tmp0_iterator_2 = tmp0_map.h();
        while (tmp0_iterator_2.n()) {
          var item_1 = tmp0_iterator_2.o();
          var tmp$ret$4;
          {
            tmp$ret$4 = new Pair(new IntArray2D(this.h66_1, this.h66_1, PatternWeights2D$loadPatterns$lambda(item_1)), item_1.y3_1);
          }
          tmp0_mapTo.b(tmp$ret$4);
        }
        tmp$ret$5 = tmp0_mapTo;
      }
      tmp$ret$6 = tmp$ret$5;
    }
    return tmp$ret$6;
  };
  PatternWeights2D.$metadata$ = classMeta('PatternWeights2D');
  function Cartesian2DTopology$neighbourIterator$slambda(this$0, $index, resultContinuation) {
    this.i69_1 = this$0;
    this.j69_1 = $index;
    CoroutineImpl.call(this, resultContinuation);
  }
  Cartesian2DTopology$neighbourIterator$slambda.prototype.l69 = function ($this$sequence, $cont) {
    var tmp = this.m69($this$sequence, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  Cartesian2DTopology$neighbourIterator$slambda.prototype.s7 = function (p1, $cont) {
    return this.l69(p1 instanceof SequenceScope ? p1 : THROW_CCE(), $cont);
  };
  Cartesian2DTopology$neighbourIterator$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 9;
            if (this.i69_1.n69() ? true : this.j69_1 >= this.i69_1.x5x_1 ? this.i69_1.y5x_1 > 1 : false) {
              this.k7_1 = 1;
              suspendResult = this.k69_1.k4(new Pair(Direction2D_NORTH_getInstance().fb(), ((this.j69_1 - this.i69_1.x5x_1 | 0) + this.i69_1.c5y() | 0) % this.i69_1.c5y() | 0), this);
              if (suspendResult === get_COROUTINE_SUSPENDED()) {
                return suspendResult;
              }
              continue $sm;
            } else {
              this.k7_1 = 2;
              continue $sm;
            }

            break;
          case 1:
            this.k7_1 = 2;
            continue $sm;
          case 2:
            if (this.i69_1.n69() ? true : !(((this.j69_1 + 1 | 0) % this.i69_1.x5x_1 | 0) === 0) ? this.i69_1.x5x_1 > 1 : false) {
              this.k7_1 = 3;
              suspendResult = this.k69_1.k4(new Pair(Direction2D_EAST_getInstance().fb(), ((this.j69_1 + 1 | 0) % this.i69_1.x5x_1 | 0) === 0 ? (this.j69_1 + 1 | 0) - this.i69_1.x5x_1 | 0 : this.j69_1 + 1 | 0), this);
              if (suspendResult === get_COROUTINE_SUSPENDED()) {
                return suspendResult;
              }
              continue $sm;
            } else {
              this.k7_1 = 4;
              continue $sm;
            }

            break;
          case 3:
            this.k7_1 = 4;
            continue $sm;
          case 4:
            if (this.i69_1.n69() ? true : this.j69_1 < (this.i69_1.c5y() - this.i69_1.x5x_1 | 0) ? this.i69_1.y5x_1 > 1 : false) {
              this.k7_1 = 5;
              suspendResult = this.k69_1.k4(new Pair(Direction2D_SOUTH_getInstance().fb(), (this.j69_1 + this.i69_1.x5x_1 | 0) % this.i69_1.c5y() | 0), this);
              if (suspendResult === get_COROUTINE_SUSPENDED()) {
                return suspendResult;
              }
              continue $sm;
            } else {
              this.k7_1 = 6;
              continue $sm;
            }

            break;
          case 5:
            this.k7_1 = 6;
            continue $sm;
          case 6:
            if (this.i69_1.n69() ? true : !((this.j69_1 % this.i69_1.x5x_1 | 0) === 0) ? this.i69_1.x5x_1 > 1 : false) {
              this.k7_1 = 7;
              suspendResult = this.k69_1.k4(new Pair(Direction2D_WEST_getInstance().fb(), (this.j69_1 % this.i69_1.x5x_1 | 0) === 0 ? (this.j69_1 - 1 | 0) + this.i69_1.x5x_1 | 0 : this.j69_1 - 1 | 0), this);
              if (suspendResult === get_COROUTINE_SUSPENDED()) {
                return suspendResult;
              }
              continue $sm;
            } else {
              this.k7_1 = 8;
              continue $sm;
            }

            break;
          case 7:
            this.k7_1 = 8;
            continue $sm;
          case 8:
            return Unit_getInstance();
          case 9:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 9) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  Cartesian2DTopology$neighbourIterator$slambda.prototype.m69 = function ($this$sequence, completion) {
    var i = new Cartesian2DTopology$neighbourIterator$slambda(this.i69_1, this.j69_1, completion);
    i.k69_1 = $this$sequence;
    return i;
  };
  Cartesian2DTopology$neighbourIterator$slambda.$metadata$ = classMeta('Cartesian2DTopology$neighbourIterator$slambda', undefined, undefined, undefined, [1], CoroutineImpl.prototype);
  function Cartesian2DTopology$neighbourIterator$slambda_0(this$0, $index, resultContinuation) {
    var i = new Cartesian2DTopology$neighbourIterator$slambda(this$0, $index, resultContinuation);
    var l = function ($this$sequence, $cont) {
      return i.l69($this$sequence, $cont);
    };
    l.$arity = 1;
    return l;
  }
  function Cartesian2DTopology(width, height, periodic) {
    this.x5x_1 = width;
    this.y5x_1 = height;
    this.z5x_1 = periodic;
    this.a5y_1 = imul(this.x5x_1, this.y5x_1);
    this.b5y_1 = 4;
  }
  Cartesian2DTopology.prototype.n69 = function () {
    return this.z5x_1;
  };
  Cartesian2DTopology.prototype.c5y = function () {
    return this.a5y_1;
  };
  Cartesian2DTopology.prototype.x61 = function () {
    return this.b5y_1;
  };
  Cartesian2DTopology.prototype.o67 = function (x, y) {
    return imul(y, this.x5x_1) + x | 0;
  };
  Cartesian2DTopology.prototype.a62 = function (index) {
    return sequence(Cartesian2DTopology$neighbourIterator$slambda_0(this, index, null));
  };
  Cartesian2DTopology.$metadata$ = classMeta('Cartesian2DTopology', [Topology]);
  function Topology() {
  }
  Topology.$metadata$ = interfaceMeta('Topology');
  function get_LOG_BASE() {
    return LOG_BASE;
  }
  var LOG_BASE;
  function EventHandler() {
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$();
    }
    tmp.y61_1 = tmp$ret$0;
  }
  EventHandler.prototype.o69 = function (handler) {
    return this.y61_1.b(handler);
  };
  EventHandler.prototype.l65 = function (handler) {
    this.o69(handler);
  };
  EventHandler.prototype.m65 = function (handler) {
    return this.y61_1.p(handler);
  };
  EventHandler.prototype.z61 = function (data) {
    {
      var tmp0_forEach = this.y61_1;
      var tmp0_iterator = tmp0_forEach.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        {
          element(data);
        }
      }
    }
  };
  EventHandler.$metadata$ = classMeta('EventHandler');
  function toCoordinates(_this__u8e3s4, sizes) {
    var res = new Int32Array(sizes.length);
    var rest = _this__u8e3s4;
    var inductionVariable = 0;
    var last = sizes.length - 1 | 0;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        res[i] = rest % sizes[i] | 0;
        rest = rest / sizes[i] | 0;
      }
       while (inductionVariable < last);
    res[res.length - 1 | 0] = rest;
    return res;
  }
  function toIndex(_this__u8e3s4, sizes) {
    var res = 0;
    var i = _this__u8e3s4.length - 1 | 0;
    var indexedObject = reversed(sizes);
    var inductionVariable = 0;
    var last = indexedObject.m();
    while (inductionVariable < last) {
      var size = indexedObject.r(inductionVariable);
      inductionVariable = inductionVariable + 1 | 0;
      var tmp = imul(res, size);
      var tmp1 = i;
      i = tmp1 - 1 | 0;
      res = tmp + _this__u8e3s4[tmp1] | 0;
    }
    return res;
  }
  function randomIndex(_this__u8e3s4, random) {
    var sum_0 = sum(_this__u8e3s4);
    var rand = random.w8() * sum_0;
    var partialSum = 0.0;
    var inductionVariable = 0;
    var last = _this__u8e3s4.length;
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        partialSum = partialSum + _this__u8e3s4[i];
        if (partialSum > rand) {
          return i;
        }
      }
       while (inductionVariable < last);
    return _this__u8e3s4.length - 1 | 0;
  }
  function chain(_this__u8e3s4, number, size) {
    var tmp$ret$1;
    {
      var tmp0_fold = ArrayList_init_$Create$_0(imul(number, size));
      var accumulator = tmp0_fold;
      var tmp0_iterator = _this__u8e3s4.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$0;
        {
          var tmp1__anonymous__uwfjfc = accumulator;
          addAll(tmp1__anonymous__uwfjfc, asIterable_0(element));
          tmp$ret$0 = tmp1__anonymous__uwfjfc;
        }
        accumulator = tmp$ret$0;
      }
      tmp$ret$1 = accumulator;
    }
    return toIntArray(tmp$ret$1);
  }
  //region block: init
  LOG_BASE = 2.0;
  //endregion
  //region block: exports
  _.$_$ = _.$_$ || {};
  _.$_$.a = Cartesian2DModelOptions_init_$Create$;
  _.$_$.b = OverlappingCartesian2DModel_init_$Create$;
  _.$_$.c = IntArray2D;
  //endregion
  return _;
}));



/***/ }),

/***/ "./kotlin/kotlinx-serialization-kotlinx-serialization-core-js-ir.js":
/*!**************************************************************************!*\
  !*** ./kotlin/kotlinx-serialization-kotlinx-serialization-core-js-ir.js ***!
  \**************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
  if (true)
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(/*! ./kotlin-kotlin-stdlib-js-ir.js */ "./kotlin/kotlin-kotlin-stdlib-js-ir.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  else {}
}(this, function (_, kotlin_kotlin) {
  'use strict';
  //region block: imports
  var imul = Math.imul;
  var interfaceMeta = kotlin_kotlin.$_$.y8;
  var StringCompanionObject_getInstance = kotlin_kotlin.$_$.c3;
  var Unit_getInstance = kotlin_kotlin.$_$.k3;
  var emptyList = kotlin_kotlin.$_$.h5;
  var LazyThreadSafetyMode_PUBLICATION_getInstance = kotlin_kotlin.$_$.e;
  var lazy = kotlin_kotlin.$_$.ld;
  var classMeta = kotlin_kotlin.$_$.p8;
  var KProperty1 = kotlin_kotlin.$_$.ma;
  var getPropertyCallableRef = kotlin_kotlin.$_$.u8;
  var IllegalArgumentException_init_$Init$ = kotlin_kotlin.$_$.p1;
  var captureStack = kotlin_kotlin.$_$.j8;
  var IllegalArgumentException_init_$Init$_0 = kotlin_kotlin.$_$.r1;
  var IllegalArgumentException = kotlin_kotlin.$_$.mc;
  var collectionSizeOrDefault = kotlin_kotlin.$_$.o4;
  var ArrayList_init_$Create$ = kotlin_kotlin.$_$.s;
  var toString = kotlin_kotlin.$_$.v9;
  var IllegalArgumentException_init_$Create$ = kotlin_kotlin.$_$.q1;
  var THROW_CCE = kotlin_kotlin.$_$.uc;
  var isInterface = kotlin_kotlin.$_$.h9;
  var KClass = kotlin_kotlin.$_$.ja;
  var copyToArray = kotlin_kotlin.$_$.e5;
  var Triple = kotlin_kotlin.$_$.wc;
  var getKClass = kotlin_kotlin.$_$.d;
  var Pair = kotlin_kotlin.$_$.sc;
  var Entry = kotlin_kotlin.$_$.u3;
  var LinkedHashMap = kotlin_kotlin.$_$.r3;
  var MutableMap = kotlin_kotlin.$_$.z3;
  var Map = kotlin_kotlin.$_$.v3;
  var HashMap = kotlin_kotlin.$_$.n3;
  var LinkedHashSet = kotlin_kotlin.$_$.s3;
  var MutableSet = kotlin_kotlin.$_$.a4;
  var Set = kotlin_kotlin.$_$.b4;
  var HashSet = kotlin_kotlin.$_$.o3;
  var ArrayList = kotlin_kotlin.$_$.l3;
  var MutableList = kotlin_kotlin.$_$.x3;
  var List = kotlin_kotlin.$_$.t3;
  var Collection = kotlin_kotlin.$_$.m3;
  var equals = kotlin_kotlin.$_$.r8;
  var getStringHashCode = kotlin_kotlin.$_$.v8;
  var Iterator = kotlin_kotlin.$_$.q3;
  var Iterable = kotlin_kotlin.$_$.p3;
  var isBlank = kotlin_kotlin.$_$.gb;
  var toList = kotlin_kotlin.$_$.d7;
  var ArrayList_init_$Create$_0 = kotlin_kotlin.$_$.t;
  var HashSet_init_$Create$ = kotlin_kotlin.$_$.z;
  var toHashSet = kotlin_kotlin.$_$.a7;
  var toBooleanArray = kotlin_kotlin.$_$.z6;
  var withIndex = kotlin_kotlin.$_$.i7;
  var to = kotlin_kotlin.$_$.rd;
  var toMap = kotlin_kotlin.$_$.e7;
  var lazy_0 = kotlin_kotlin.$_$.md;
  var contentEquals = kotlin_kotlin.$_$.r4;
  var until = kotlin_kotlin.$_$.ia;
  var joinToString$default = kotlin_kotlin.$_$.h;
  var objectMeta = kotlin_kotlin.$_$.r9;
  var getKClassFromExpression = kotlin_kotlin.$_$.c;
  var ensureNotNull = kotlin_kotlin.$_$.ed;
  var Long = kotlin_kotlin.$_$.oc;
  var Char = kotlin_kotlin.$_$.fc;
  var isObject = kotlin_kotlin.$_$.j9;
  var Companion_getInstance = kotlin_kotlin.$_$.f3;
  var Duration = kotlin_kotlin.$_$.cc;
  var toIntOrNull = kotlin_kotlin.$_$.ub;
  var hashCode = kotlin_kotlin.$_$.w8;
  var IllegalStateException_init_$Create$ = kotlin_kotlin.$_$.u1;
  var asList = kotlin_kotlin.$_$.i4;
  var ArrayList_init_$Create$_1 = kotlin_kotlin.$_$.u;
  var isArray = kotlin_kotlin.$_$.z8;
  var step = kotlin_kotlin.$_$.ha;
  var getValue = kotlin_kotlin.$_$.n5;
  var HashMap_init_$Create$ = kotlin_kotlin.$_$.w;
  var HashMap_init_$Create$_0 = kotlin_kotlin.$_$.x;
  var LinkedHashMap_init_$Create$ = kotlin_kotlin.$_$.c1;
  var LinkedHashMap_init_$Create$_0 = kotlin_kotlin.$_$.d1;
  var HashSet_init_$Create$_0 = kotlin_kotlin.$_$.a1;
  var LinkedHashSet_init_$Create$ = kotlin_kotlin.$_$.e1;
  var LinkedHashSet_init_$Create$_0 = kotlin_kotlin.$_$.f1;
  var longArray = kotlin_kotlin.$_$.n9;
  var Companion_getInstance_0 = kotlin_kotlin.$_$.i3;
  var get_lastIndex = kotlin_kotlin.$_$.t5;
  var countTrailingZeroBits = kotlin_kotlin.$_$.cd;
  var KTypeParameter = kotlin_kotlin.$_$.na;
  var HashSet_init_$Create$_1 = kotlin_kotlin.$_$.y;
  var contentHashCode = kotlin_kotlin.$_$.u4;
  var arrayIterator = kotlin_kotlin.$_$.h8;
  var fillArrayVal = kotlin_kotlin.$_$.s8;
  var booleanArray = kotlin_kotlin.$_$.i8;
  var emptyMap = kotlin_kotlin.$_$.i5;
  var Companion_getInstance_1 = kotlin_kotlin.$_$.h3;
  var isCharArray = kotlin_kotlin.$_$.c9;
  var charArray = kotlin_kotlin.$_$.l8;
  var DoubleCompanionObject_getInstance = kotlin_kotlin.$_$.y2;
  var isDoubleArray = kotlin_kotlin.$_$.e9;
  var FloatCompanionObject_getInstance = kotlin_kotlin.$_$.z2;
  var isFloatArray = kotlin_kotlin.$_$.f9;
  var isLongArray = kotlin_kotlin.$_$.i9;
  var IntCompanionObject_getInstance = kotlin_kotlin.$_$.a3;
  var isIntArray = kotlin_kotlin.$_$.g9;
  var ShortCompanionObject_getInstance = kotlin_kotlin.$_$.b3;
  var isShortArray = kotlin_kotlin.$_$.k9;
  var ByteCompanionObject_getInstance = kotlin_kotlin.$_$.x2;
  var isByteArray = kotlin_kotlin.$_$.b9;
  var BooleanCompanionObject_getInstance = kotlin_kotlin.$_$.w2;
  var isBooleanArray = kotlin_kotlin.$_$.a9;
  var coerceAtLeast = kotlin_kotlin.$_$.da;
  var copyOf = kotlin_kotlin.$_$.y4;
  var copyOf_0 = kotlin_kotlin.$_$.a5;
  var copyOf_1 = kotlin_kotlin.$_$.b5;
  var copyOf_2 = kotlin_kotlin.$_$.w4;
  var copyOf_3 = kotlin_kotlin.$_$.d5;
  var copyOf_4 = kotlin_kotlin.$_$.v4;
  var copyOf_5 = kotlin_kotlin.$_$.z4;
  var copyOf_6 = kotlin_kotlin.$_$.x4;
  var trimIndent = kotlin_kotlin.$_$.ac;
  var equals_0 = kotlin_kotlin.$_$.fb;
  var charSequenceLength = kotlin_kotlin.$_$.n8;
  var charSequenceGet = kotlin_kotlin.$_$.m8;
  var toString_0 = kotlin_kotlin.$_$.k2;
  var titlecase = kotlin_kotlin.$_$.rb;
  var isLowerCase = kotlin_kotlin.$_$.hb;
  var PrimitiveClasses_getInstance = kotlin_kotlin.$_$.e3;
  var Unit = kotlin_kotlin.$_$.yc;
  var mapOf = kotlin_kotlin.$_$.b6;
  var lastOrNull = kotlin_kotlin.$_$.w5;
  var get_lastIndex_0 = kotlin_kotlin.$_$.u5;
  var Annotation = kotlin_kotlin.$_$.ec;
  var get_indices = kotlin_kotlin.$_$.q5;
  var IndexOutOfBoundsException_init_$Create$ = kotlin_kotlin.$_$.w1;
  var get_indices_0 = kotlin_kotlin.$_$.o5;
  var get_js = kotlin_kotlin.$_$.m9;
  var findAssociatedObject = kotlin_kotlin.$_$.b;
  //endregion
  //region block: pre-declaration
  PolymorphicSerializer.prototype = Object.create(AbstractPolymorphicSerializer.prototype);
  PolymorphicSerializer.prototype.constructor = PolymorphicSerializer;
  SerializationException.prototype = Object.create(IllegalArgumentException.prototype);
  SerializationException.prototype.constructor = SerializationException;
  UnknownFieldException.prototype = Object.create(SerializationException.prototype);
  UnknownFieldException.prototype.constructor = UnknownFieldException;
  MissingFieldException.prototype = Object.create(SerializationException.prototype);
  MissingFieldException.prototype.constructor = MissingFieldException;
  function get_isNullable() {
    return false;
  }
  function get_isInline() {
    return false;
  }
  function get_annotations() {
    return emptyList();
  }
  ENUM.prototype = Object.create(SerialKind.prototype);
  ENUM.prototype.constructor = ENUM;
  CONTEXTUAL.prototype = Object.create(SerialKind.prototype);
  CONTEXTUAL.prototype.constructor = CONTEXTUAL;
  PolymorphicKind.prototype = Object.create(SerialKind.prototype);
  PolymorphicKind.prototype.constructor = PolymorphicKind;
  SEALED.prototype = Object.create(PolymorphicKind.prototype);
  SEALED.prototype.constructor = SEALED;
  OPEN.prototype = Object.create(PolymorphicKind.prototype);
  OPEN.prototype.constructor = OPEN;
  PrimitiveKind.prototype = Object.create(SerialKind.prototype);
  PrimitiveKind.prototype.constructor = PrimitiveKind;
  BOOLEAN.prototype = Object.create(PrimitiveKind.prototype);
  BOOLEAN.prototype.constructor = BOOLEAN;
  BYTE.prototype = Object.create(PrimitiveKind.prototype);
  BYTE.prototype.constructor = BYTE;
  CHAR.prototype = Object.create(PrimitiveKind.prototype);
  CHAR.prototype.constructor = CHAR;
  SHORT.prototype = Object.create(PrimitiveKind.prototype);
  SHORT.prototype.constructor = SHORT;
  INT.prototype = Object.create(PrimitiveKind.prototype);
  INT.prototype.constructor = INT;
  LONG.prototype = Object.create(PrimitiveKind.prototype);
  LONG.prototype.constructor = LONG;
  FLOAT.prototype = Object.create(PrimitiveKind.prototype);
  FLOAT.prototype.constructor = FLOAT;
  DOUBLE.prototype = Object.create(PrimitiveKind.prototype);
  DOUBLE.prototype.constructor = DOUBLE;
  STRING.prototype = Object.create(PrimitiveKind.prototype);
  STRING.prototype.constructor = STRING;
  StructureKind.prototype = Object.create(SerialKind.prototype);
  StructureKind.prototype.constructor = StructureKind;
  CLASS.prototype = Object.create(StructureKind.prototype);
  CLASS.prototype.constructor = CLASS;
  LIST.prototype = Object.create(StructureKind.prototype);
  LIST.prototype.constructor = LIST;
  MAP.prototype = Object.create(StructureKind.prototype);
  MAP.prototype.constructor = MAP;
  OBJECT.prototype = Object.create(StructureKind.prototype);
  OBJECT.prototype.constructor = OBJECT;
  function decodeSerializableValue(deserializer) {
    return deserializer.in(this);
  }
  function decodeSequentially() {
    return false;
  }
  function decodeCollectionSize(descriptor) {
    return -1;
  }
  function decodeSerializableElement$default(descriptor, index, deserializer, previousValue, $mask0, $handler) {
    if (!(($mask0 & 8) === 0))
      previousValue = null;
    return $handler == null ? this.lq(descriptor, index, deserializer, previousValue) : $handler(descriptor, index, deserializer, previousValue);
  }
  PrimitiveArrayDescriptor.prototype = Object.create(ListLikeDescriptor.prototype);
  PrimitiveArrayDescriptor.prototype.constructor = PrimitiveArrayDescriptor;
  ArrayClassDesc.prototype = Object.create(ListLikeDescriptor.prototype);
  ArrayClassDesc.prototype.constructor = ArrayClassDesc;
  HashMapClassDesc.prototype = Object.create(MapLikeDescriptor.prototype);
  HashMapClassDesc.prototype.constructor = HashMapClassDesc;
  LinkedHashMapClassDesc.prototype = Object.create(MapLikeDescriptor.prototype);
  LinkedHashMapClassDesc.prototype.constructor = LinkedHashMapClassDesc;
  ArrayListClassDesc.prototype = Object.create(ListLikeDescriptor.prototype);
  ArrayListClassDesc.prototype.constructor = ArrayListClassDesc;
  HashSetClassDesc.prototype = Object.create(ListLikeDescriptor.prototype);
  HashSetClassDesc.prototype.constructor = HashSetClassDesc;
  LinkedHashSetClassDesc.prototype = Object.create(ListLikeDescriptor.prototype);
  LinkedHashSetClassDesc.prototype.constructor = LinkedHashSetClassDesc;
  CollectionLikeSerializer.prototype = Object.create(AbstractCollectionSerializer.prototype);
  CollectionLikeSerializer.prototype.constructor = CollectionLikeSerializer;
  PrimitiveArraySerializer.prototype = Object.create(CollectionLikeSerializer.prototype);
  PrimitiveArraySerializer.prototype.constructor = PrimitiveArraySerializer;
  CollectionSerializer.prototype = Object.create(CollectionLikeSerializer.prototype);
  CollectionSerializer.prototype.constructor = CollectionSerializer;
  ReferenceArraySerializer.prototype = Object.create(CollectionLikeSerializer.prototype);
  ReferenceArraySerializer.prototype.constructor = ReferenceArraySerializer;
  MapLikeSerializer.prototype = Object.create(AbstractCollectionSerializer.prototype);
  MapLikeSerializer.prototype.constructor = MapLikeSerializer;
  HashMapSerializer.prototype = Object.create(MapLikeSerializer.prototype);
  HashMapSerializer.prototype.constructor = HashMapSerializer;
  LinkedHashMapSerializer.prototype = Object.create(MapLikeSerializer.prototype);
  LinkedHashMapSerializer.prototype.constructor = LinkedHashMapSerializer;
  ArrayListSerializer.prototype = Object.create(CollectionSerializer.prototype);
  ArrayListSerializer.prototype.constructor = ArrayListSerializer;
  HashSetSerializer.prototype = Object.create(CollectionSerializer.prototype);
  HashSetSerializer.prototype.constructor = HashSetSerializer;
  LinkedHashSetSerializer.prototype = Object.create(CollectionSerializer.prototype);
  LinkedHashSetSerializer.prototype.constructor = LinkedHashSetSerializer;
  function typeParametersSerializers() {
    return get_EMPTY_SERIALIZER_ARRAY();
  }
  CharArraySerializer_0.prototype = Object.create(PrimitiveArraySerializer.prototype);
  CharArraySerializer_0.prototype.constructor = CharArraySerializer_0;
  DoubleArraySerializer_0.prototype = Object.create(PrimitiveArraySerializer.prototype);
  DoubleArraySerializer_0.prototype.constructor = DoubleArraySerializer_0;
  FloatArraySerializer_0.prototype = Object.create(PrimitiveArraySerializer.prototype);
  FloatArraySerializer_0.prototype.constructor = FloatArraySerializer_0;
  LongArraySerializer_0.prototype = Object.create(PrimitiveArraySerializer.prototype);
  LongArraySerializer_0.prototype.constructor = LongArraySerializer_0;
  IntArraySerializer_0.prototype = Object.create(PrimitiveArraySerializer.prototype);
  IntArraySerializer_0.prototype.constructor = IntArraySerializer_0;
  ShortArraySerializer_0.prototype = Object.create(PrimitiveArraySerializer.prototype);
  ShortArraySerializer_0.prototype.constructor = ShortArraySerializer_0;
  ByteArraySerializer_0.prototype = Object.create(PrimitiveArraySerializer.prototype);
  ByteArraySerializer_0.prototype.constructor = ByteArraySerializer_0;
  BooleanArraySerializer_0.prototype = Object.create(PrimitiveArraySerializer.prototype);
  BooleanArraySerializer_0.prototype.constructor = BooleanArraySerializer_0;
  CharArrayBuilder.prototype = Object.create(PrimitiveArrayBuilder.prototype);
  CharArrayBuilder.prototype.constructor = CharArrayBuilder;
  DoubleArrayBuilder.prototype = Object.create(PrimitiveArrayBuilder.prototype);
  DoubleArrayBuilder.prototype.constructor = DoubleArrayBuilder;
  FloatArrayBuilder.prototype = Object.create(PrimitiveArrayBuilder.prototype);
  FloatArrayBuilder.prototype.constructor = FloatArrayBuilder;
  LongArrayBuilder.prototype = Object.create(PrimitiveArrayBuilder.prototype);
  LongArrayBuilder.prototype.constructor = LongArrayBuilder;
  IntArrayBuilder.prototype = Object.create(PrimitiveArrayBuilder.prototype);
  IntArrayBuilder.prototype.constructor = IntArrayBuilder;
  ShortArrayBuilder.prototype = Object.create(PrimitiveArrayBuilder.prototype);
  ShortArrayBuilder.prototype.constructor = ShortArrayBuilder;
  ByteArrayBuilder.prototype = Object.create(PrimitiveArrayBuilder.prototype);
  ByteArrayBuilder.prototype.constructor = ByteArrayBuilder;
  BooleanArrayBuilder.prototype = Object.create(PrimitiveArrayBuilder.prototype);
  BooleanArrayBuilder.prototype.constructor = BooleanArrayBuilder;
  NamedValueDecoder.prototype = Object.create(TaggedDecoder.prototype);
  NamedValueDecoder.prototype.constructor = NamedValueDecoder;
  MapEntrySerializer_0.prototype = Object.create(KeyValueSerializer.prototype);
  MapEntrySerializer_0.prototype.constructor = MapEntrySerializer_0;
  PairSerializer_0.prototype = Object.create(KeyValueSerializer.prototype);
  PairSerializer_0.prototype.constructor = PairSerializer_0;
  SerialModuleImpl.prototype = Object.create(SerializersModule.prototype);
  SerialModuleImpl.prototype.constructor = SerialModuleImpl;
  //endregion
  function KSerializer() {
  }
  KSerializer.$metadata$ = interfaceMeta('KSerializer', [SerializationStrategy, DeserializationStrategy]);
  function SerializationStrategy() {
  }
  SerializationStrategy.$metadata$ = interfaceMeta('SerializationStrategy');
  function DeserializationStrategy() {
  }
  DeserializationStrategy.$metadata$ = interfaceMeta('DeserializationStrategy');
  function PolymorphicSerializer$descriptor$delegate$lambda$lambda(this$0) {
    return function ($this$buildSerialDescriptor) {
      var tmp = serializer_1(StringCompanionObject_getInstance()).hn();
      $this$buildSerialDescriptor.rn('type', tmp, null, false, 12, null);
      var tmp_0 = 'kotlinx.serialization.Polymorphic<' + this$0.sn_1.ei() + '>';
      var tmp_1 = CONTEXTUAL_getInstance();
      var tmp_2 = buildSerialDescriptor$default(tmp_0, tmp_1, [], null, 12, null);
      $this$buildSerialDescriptor.rn('value', tmp_2, null, false, 12, null);
      $this$buildSerialDescriptor.ln_1 = this$0.tn_1;
      return Unit_getInstance();
    };
  }
  function PolymorphicSerializer$descriptor$delegate$lambda(this$0) {
    return function () {
      var tmp = OPEN_getInstance();
      return withContext(buildSerialDescriptor$default('kotlinx.serialization.Polymorphic', tmp, [], PolymorphicSerializer$descriptor$delegate$lambda$lambda(this$0), 4, null), this$0.sn_1);
    };
  }
  function PolymorphicSerializer(baseClass) {
    AbstractPolymorphicSerializer.call(this);
    this.sn_1 = baseClass;
    this.tn_1 = emptyList();
    var tmp = this;
    var tmp_0 = LazyThreadSafetyMode_PUBLICATION_getInstance();
    tmp.un_1 = lazy(tmp_0, PolymorphicSerializer$descriptor$delegate$lambda(this));
  }
  PolymorphicSerializer.prototype.vn = function () {
    return this.sn_1;
  };
  PolymorphicSerializer.prototype.hn = function () {
    var tmp$ret$0;
    {
      var tmp0_getValue = descriptor$factory();
      tmp$ret$0 = this.un_1.l2();
    }
    return tmp$ret$0;
  };
  PolymorphicSerializer.prototype.toString = function () {
    return 'kotlinx.serialization.PolymorphicSerializer(baseClass: ' + this.sn_1 + ')';
  };
  PolymorphicSerializer.$metadata$ = classMeta('PolymorphicSerializer', undefined, undefined, undefined, undefined, AbstractPolymorphicSerializer.prototype);
  function findPolymorphicSerializer(_this__u8e3s4, decoder, klassName) {
    var tmp0_elvis_lhs = _this__u8e3s4.wn(decoder, klassName);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      throwSubtypeNotRegistered(klassName, _this__u8e3s4.vn());
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  }
  function descriptor$factory() {
    return getPropertyCallableRef('descriptor', 1, KProperty1, function (receiver) {
      return receiver.hn();
    }, null);
  }
  function StringFormat() {
  }
  StringFormat.$metadata$ = interfaceMeta('StringFormat', [SerialFormat]);
  function SerialFormat() {
  }
  SerialFormat.$metadata$ = interfaceMeta('SerialFormat');
  function SerializationException_init_$Init$(message, $this) {
    IllegalArgumentException_init_$Init$(message, $this);
    SerializationException.call($this);
    return $this;
  }
  function SerializationException_init_$Create$(message) {
    var tmp = SerializationException_init_$Init$(message, Object.create(SerializationException.prototype));
    captureStack(tmp, SerializationException_init_$Create$);
    return tmp;
  }
  function SerializationException_init_$Init$_0(message, cause, $this) {
    IllegalArgumentException_init_$Init$_0(message, cause, $this);
    SerializationException.call($this);
    return $this;
  }
  function SerializationException() {
    captureStack(this, SerializationException);
  }
  SerializationException.$metadata$ = classMeta('SerializationException', undefined, undefined, undefined, undefined, IllegalArgumentException.prototype);
  function UnknownFieldException_init_$Init$(index, $this) {
    UnknownFieldException.call($this, 'An unknown field for index ' + index);
    return $this;
  }
  function UnknownFieldException_init_$Create$(index) {
    var tmp = UnknownFieldException_init_$Init$(index, Object.create(UnknownFieldException.prototype));
    captureStack(tmp, UnknownFieldException_init_$Create$);
    return tmp;
  }
  function UnknownFieldException(message) {
    SerializationException_init_$Init$(message, this);
    captureStack(this, UnknownFieldException);
  }
  UnknownFieldException.$metadata$ = classMeta('UnknownFieldException', undefined, undefined, undefined, undefined, SerializationException.prototype);
  function MissingFieldException_init_$Init$(missingFields, serialName, $this) {
    MissingFieldException.call($this, missingFields, missingFields.m() === 1 ? "Field '" + missingFields.r(0) + "' is required for type with serial name '" + serialName + "', but it was missing" : 'Fields ' + missingFields + " are required for type with serial name '" + serialName + "', but they were missing", null);
    return $this;
  }
  function MissingFieldException_init_$Create$(missingFields, serialName) {
    var tmp = MissingFieldException_init_$Init$(missingFields, serialName, Object.create(MissingFieldException.prototype));
    captureStack(tmp, MissingFieldException_init_$Create$);
    return tmp;
  }
  function MissingFieldException(missingFields, message, cause) {
    SerializationException_init_$Init$_0(message, cause, this);
    this.zn_1 = missingFields;
    captureStack(this, MissingFieldException);
  }
  MissingFieldException.$metadata$ = classMeta('MissingFieldException', undefined, undefined, undefined, undefined, SerializationException.prototype);
  function serializer(type) {
    return serializer_0(EmptySerializersModule_0(), type);
  }
  function serializer_0(_this__u8e3s4, type) {
    var tmp0_elvis_lhs = serializerByKTypeImpl(_this__u8e3s4, type, true);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      platformSpecificSerializerNotRegistered(kclass(type));
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  }
  function serializerByKTypeImpl(_this__u8e3s4, type, failOnMissingTypeArgSerializer) {
    var rootClass = kclass(type);
    var isNullable = type.oi();
    var tmp$ret$4;
    {
      var tmp0_map = type.ni();
      var tmp$ret$3;
      {
        var tmp0_mapTo = ArrayList_init_$Create$(collectionSizeOrDefault(tmp0_map, 10));
        var tmp0_iterator = tmp0_map.h();
        while (tmp0_iterator.n()) {
          var item = tmp0_iterator.o();
          var tmp$ret$2;
          {
            var tmp$ret$1;
            $l$block: {
              var tmp0_requireNotNull = item.bo_1;
              {
              }
              if (tmp0_requireNotNull == null) {
                var tmp$ret$0;
                {
                  tmp$ret$0 = 'Star projections in type arguments are not allowed, but had ' + type;
                }
                var message = tmp$ret$0;
                throw IllegalArgumentException_init_$Create$(toString(message));
              } else {
                tmp$ret$1 = tmp0_requireNotNull;
                break $l$block;
              }
            }
            tmp$ret$2 = tmp$ret$1;
          }
          tmp0_mapTo.b(tmp$ret$2);
        }
        tmp$ret$3 = tmp0_mapTo;
      }
      tmp$ret$4 = tmp$ret$3;
    }
    var typeArguments = tmp$ret$4;
    var tmp;
    if (typeArguments.q()) {
      var tmp0_elvis_lhs = serializerOrNull(rootClass);
      var tmp_0;
      if (tmp0_elvis_lhs == null) {
        tmp_0 = _this__u8e3s4.co(rootClass, null, 2, null);
      } else {
        tmp_0 = tmp0_elvis_lhs;
      }
      tmp = tmp_0;
    } else {
      tmp = builtinSerializer(_this__u8e3s4, typeArguments, rootClass, failOnMissingTypeArgSerializer);
    }
    var tmp1_safe_receiver = tmp;
    var tmp_1;
    if (tmp1_safe_receiver == null) {
      tmp_1 = null;
    } else {
      var tmp$ret$5;
      {
        tmp$ret$5 = (!(tmp1_safe_receiver == null) ? isInterface(tmp1_safe_receiver, KSerializer) : false) ? tmp1_safe_receiver : THROW_CCE();
      }
      tmp_1 = tmp$ret$5;
    }
    var result = tmp_1;
    var tmp2_safe_receiver = result;
    return tmp2_safe_receiver == null ? null : nullable(tmp2_safe_receiver, isNullable);
  }
  function serializerOrNull(_this__u8e3s4) {
    var tmp0_elvis_lhs = compiledSerializerImpl(_this__u8e3s4);
    return tmp0_elvis_lhs == null ? builtinSerializerOrNull(_this__u8e3s4) : tmp0_elvis_lhs;
  }
  function builtinSerializer(_this__u8e3s4, typeArguments, rootClass, failOnMissingTypeArgSerializer) {
    var tmp;
    if (failOnMissingTypeArgSerializer) {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          var tmp0_mapTo = ArrayList_init_$Create$(collectionSizeOrDefault(typeArguments, 10));
          var tmp0_iterator = typeArguments.h();
          while (tmp0_iterator.n()) {
            var item = tmp0_iterator.o();
            tmp0_mapTo.b(serializer_0(_this__u8e3s4, item));
          }
          tmp$ret$0 = tmp0_mapTo;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp = tmp$ret$1;
    } else {
      var tmp$ret$4;
      {
        var tmp$ret$3;
        {
          var tmp0_mapTo_0 = ArrayList_init_$Create$(collectionSizeOrDefault(typeArguments, 10));
          var tmp0_iterator_0 = typeArguments.h();
          while (tmp0_iterator_0.n()) {
            var item_0 = tmp0_iterator_0.o();
            var tmp$ret$2;
            {
              var tmp0_elvis_lhs = serializerOrNull_0(_this__u8e3s4, item_0);
              var tmp_0;
              if (tmp0_elvis_lhs == null) {
                return null;
              } else {
                tmp_0 = tmp0_elvis_lhs;
              }
              tmp$ret$2 = tmp_0;
            }
            tmp0_mapTo_0.b(tmp$ret$2);
          }
          tmp$ret$3 = tmp0_mapTo_0;
        }
        tmp$ret$4 = tmp$ret$3;
      }
      tmp = tmp$ret$4;
    }
    var serializers = tmp;
    var tmp0_subject = rootClass;
    var tmp_1;
    if (((tmp0_subject.equals(getKClass(Collection)) ? true : tmp0_subject.equals(getKClass(List))) ? true : tmp0_subject.equals(getKClass(MutableList))) ? true : tmp0_subject.equals(getKClass(ArrayList))) {
      tmp_1 = new ArrayListSerializer(serializers.r(0));
    } else if (tmp0_subject.equals(getKClass(HashSet))) {
      tmp_1 = new HashSetSerializer(serializers.r(0));
    } else if ((tmp0_subject.equals(getKClass(Set)) ? true : tmp0_subject.equals(getKClass(MutableSet))) ? true : tmp0_subject.equals(getKClass(LinkedHashSet))) {
      tmp_1 = new LinkedHashSetSerializer(serializers.r(0));
    } else if (tmp0_subject.equals(getKClass(HashMap))) {
      tmp_1 = new HashMapSerializer(serializers.r(0), serializers.r(1));
    } else if ((tmp0_subject.equals(getKClass(Map)) ? true : tmp0_subject.equals(getKClass(MutableMap))) ? true : tmp0_subject.equals(getKClass(LinkedHashMap))) {
      tmp_1 = new LinkedHashMapSerializer(serializers.r(0), serializers.r(1));
    } else if (tmp0_subject.equals(getKClass(Entry))) {
      tmp_1 = MapEntrySerializer(serializers.r(0), serializers.r(1));
    } else if (tmp0_subject.equals(getKClass(Pair))) {
      tmp_1 = PairSerializer(serializers.r(0), serializers.r(1));
    } else if (tmp0_subject.equals(getKClass(Triple))) {
      tmp_1 = TripleSerializer(serializers.r(0), serializers.r(1), serializers.r(2));
    } else {
      if (isReferenceArray(rootClass)) {
        var tmp$ret$5;
        {
          var tmp_2 = typeArguments.r(0).mi();
          var tmp0_cast = ArraySerializer((!(tmp_2 == null) ? isInterface(tmp_2, KClass) : false) ? tmp_2 : THROW_CCE(), serializers.r(0));
          tmp$ret$5 = isInterface(tmp0_cast, KSerializer) ? tmp0_cast : THROW_CCE();
        }
        return tmp$ret$5;
      }
      var tmp$ret$6;
      {
        tmp$ret$6 = copyToArray(serializers);
      }
      var args = tmp$ret$6;
      var tmp1_elvis_lhs = constructSerializerForGivenTypeArgs(rootClass, args.slice());
      tmp_1 = tmp1_elvis_lhs == null ? reflectiveOrContextual(_this__u8e3s4, rootClass, serializers) : tmp1_elvis_lhs;
    }
    return tmp_1;
  }
  function nullable(_this__u8e3s4, shouldBeNullable) {
    if (shouldBeNullable)
      return get_nullable(_this__u8e3s4);
    return isInterface(_this__u8e3s4, KSerializer) ? _this__u8e3s4 : THROW_CCE();
  }
  function serializerOrNull_0(_this__u8e3s4, type) {
    return serializerByKTypeImpl(_this__u8e3s4, type, false);
  }
  function reflectiveOrContextual(_this__u8e3s4, kClass, typeArgumentsSerializers) {
    var tmp0_elvis_lhs = serializerOrNull(kClass);
    return tmp0_elvis_lhs == null ? _this__u8e3s4.do(kClass, typeArgumentsSerializers) : tmp0_elvis_lhs;
  }
  function serializer_1(_this__u8e3s4) {
    return StringSerializer_getInstance();
  }
  function serializer_2(_this__u8e3s4) {
    return CharSerializer_getInstance();
  }
  function CharArraySerializer() {
    return CharArraySerializer_getInstance();
  }
  function serializer_3(_this__u8e3s4) {
    return DoubleSerializer_getInstance();
  }
  function DoubleArraySerializer() {
    return DoubleArraySerializer_getInstance();
  }
  function serializer_4(_this__u8e3s4) {
    return FloatSerializer_getInstance();
  }
  function FloatArraySerializer() {
    return FloatArraySerializer_getInstance();
  }
  function serializer_5(_this__u8e3s4) {
    return LongSerializer_getInstance();
  }
  function LongArraySerializer() {
    return LongArraySerializer_getInstance();
  }
  function serializer_6(_this__u8e3s4) {
    return IntSerializer_getInstance();
  }
  function IntArraySerializer() {
    return IntArraySerializer_getInstance();
  }
  function serializer_7(_this__u8e3s4) {
    return ShortSerializer_getInstance();
  }
  function ShortArraySerializer() {
    return ShortArraySerializer_getInstance();
  }
  function serializer_8(_this__u8e3s4) {
    return ByteSerializer_getInstance();
  }
  function ByteArraySerializer() {
    return ByteArraySerializer_getInstance();
  }
  function serializer_9(_this__u8e3s4) {
    return BooleanSerializer_getInstance();
  }
  function BooleanArraySerializer() {
    return BooleanArraySerializer_getInstance();
  }
  function serializer_10(_this__u8e3s4) {
    return UnitSerializer_getInstance();
  }
  function serializer_11(_this__u8e3s4) {
    return DurationSerializer_getInstance();
  }
  function MapEntrySerializer(keySerializer, valueSerializer) {
    return new MapEntrySerializer_0(keySerializer, valueSerializer);
  }
  function PairSerializer(keySerializer, valueSerializer) {
    return new PairSerializer_0(keySerializer, valueSerializer);
  }
  function TripleSerializer(aSerializer, bSerializer, cSerializer) {
    return new TripleSerializer_0(aSerializer, bSerializer, cSerializer);
  }
  function ArraySerializer(kClass, elementSerializer) {
    return new ReferenceArraySerializer(kClass, elementSerializer);
  }
  function get_nullable(_this__u8e3s4) {
    var tmp;
    if (_this__u8e3s4.hn().eo()) {
      tmp = isInterface(_this__u8e3s4, KSerializer) ? _this__u8e3s4 : THROW_CCE();
    } else {
      tmp = new NullableSerializer(_this__u8e3s4);
    }
    return tmp;
  }
  function MapSerializer(keySerializer, valueSerializer) {
    return new LinkedHashMapSerializer(keySerializer, valueSerializer);
  }
  function ListSerializer(elementSerializer) {
    return new ArrayListSerializer(elementSerializer);
  }
  function withContext(_this__u8e3s4, context) {
    return new ContextDescriptor(_this__u8e3s4, context);
  }
  function ContextDescriptor(original, kClass) {
    this.fo_1 = original;
    this.go_1 = kClass;
    this.ho_1 = this.fo_1.io() + '<' + this.go_1.ei() + '>';
  }
  ContextDescriptor.prototype.jo = function () {
    return this.fo_1.jo();
  };
  ContextDescriptor.prototype.ko = function () {
    return this.fo_1.ko();
  };
  ContextDescriptor.prototype.lo = function () {
    return this.fo_1.lo();
  };
  ContextDescriptor.prototype.eo = function () {
    return this.fo_1.eo();
  };
  ContextDescriptor.prototype.mo = function () {
    return this.fo_1.mo();
  };
  ContextDescriptor.prototype.no = function (index) {
    return this.fo_1.no(index);
  };
  ContextDescriptor.prototype.oo = function (index) {
    return this.fo_1.oo(index);
  };
  ContextDescriptor.prototype.po = function (name) {
    return this.fo_1.po(name);
  };
  ContextDescriptor.prototype.qo = function (index) {
    return this.fo_1.qo(index);
  };
  ContextDescriptor.prototype.ro = function (index) {
    return this.fo_1.ro(index);
  };
  ContextDescriptor.prototype.io = function () {
    return this.ho_1;
  };
  ContextDescriptor.prototype.equals = function (other) {
    var tmp0_elvis_lhs = other instanceof ContextDescriptor ? other : null;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return false;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var another = tmp;
    return equals(this.fo_1, another.fo_1) ? another.go_1.equals(this.go_1) : false;
  };
  ContextDescriptor.prototype.hashCode = function () {
    var result = this.go_1.hashCode();
    result = imul(31, result) + getStringHashCode(this.ho_1) | 0;
    return result;
  };
  ContextDescriptor.prototype.toString = function () {
    return 'ContextDescriptor(kClass: ' + this.go_1 + ', original: ' + this.fo_1 + ')';
  };
  ContextDescriptor.$metadata$ = classMeta('ContextDescriptor', [SerialDescriptor]);
  function getContextualDescriptor(_this__u8e3s4, descriptor) {
    var tmp0_safe_receiver = get_capturedKClass(descriptor);
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        var tmp$ret$0;
        {
          var tmp0_safe_receiver_0 = _this__u8e3s4.co(tmp0_safe_receiver, null, 2, null);
          tmp$ret$0 = tmp0_safe_receiver_0 == null ? null : tmp0_safe_receiver_0.hn();
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp = tmp$ret$1;
    }
    return tmp;
  }
  function get_capturedKClass(_this__u8e3s4) {
    var tmp0_subject = _this__u8e3s4;
    var tmp;
    if (tmp0_subject instanceof ContextDescriptor) {
      tmp = _this__u8e3s4.go_1;
    } else {
      if (tmp0_subject instanceof SerialDescriptorForNullable) {
        tmp = get_capturedKClass(_this__u8e3s4.so_1);
      } else {
        tmp = null;
      }
    }
    return tmp;
  }
  function SerialDescriptor() {
  }
  SerialDescriptor.$metadata$ = interfaceMeta('SerialDescriptor');
  function get_elementDescriptors(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = new _no_name_provided__qut3iv(_this__u8e3s4);
    }
    return tmp$ret$0;
  }
  function elementDescriptors$1$1($this_elementDescriptors) {
    this.wo_1 = $this_elementDescriptors;
    this.vo_1 = $this_elementDescriptors.ko();
  }
  elementDescriptors$1$1.prototype.n = function () {
    return this.vo_1 > 0;
  };
  elementDescriptors$1$1.prototype.o = function () {
    var tmp = this.wo_1.ko();
    var tmp0_this = this;
    var tmp1 = tmp0_this.vo_1;
    tmp0_this.vo_1 = tmp1 - 1 | 0;
    return this.wo_1.oo(tmp - tmp1 | 0);
  };
  elementDescriptors$1$1.$metadata$ = classMeta(undefined, [Iterator]);
  function _no_name_provided__qut3iv($this_elementDescriptors) {
    this.xo_1 = $this_elementDescriptors;
  }
  _no_name_provided__qut3iv.prototype.h = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = new elementDescriptors$1$1(this.xo_1);
    }
    return tmp$ret$0;
  };
  _no_name_provided__qut3iv.$metadata$ = classMeta(undefined, [Iterable]);
  function buildSerialDescriptor(serialName, kind, typeParameters, builder) {
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = !isBlank(serialName);
      }
      var tmp0_require = tmp$ret$0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$1;
        {
          tmp$ret$1 = 'Blank serial names are prohibited';
        }
        var message = tmp$ret$1;
        throw IllegalArgumentException_init_$Create$(toString(message));
      }
    }
    {
      var tmp1_require = !equals(kind, CLASS_getInstance());
      {
      }
      if (!tmp1_require) {
        var tmp$ret$2;
        {
          tmp$ret$2 = "For StructureKind.CLASS please use 'buildClassSerialDescriptor' instead";
        }
        var message_0 = tmp$ret$2;
        throw IllegalArgumentException_init_$Create$(toString(message_0));
      }
    }
    var sdBuilder = new ClassSerialDescriptorBuilder(serialName);
    builder(sdBuilder);
    return new SerialDescriptorImpl(serialName, kind, sdBuilder.mn_1.m(), toList(typeParameters), sdBuilder);
  }
  function buildSerialDescriptor$default(serialName, kind, typeParameters, builder, $mask0, $handler) {
    if (!(($mask0 & 8) === 0)) {
      builder = buildSerialDescriptor$lambda();
    }
    return buildSerialDescriptor(serialName, kind, typeParameters, builder);
  }
  function ClassSerialDescriptorBuilder(serialName) {
    this.jn_1 = serialName;
    this.kn_1 = false;
    this.ln_1 = emptyList();
    this.mn_1 = ArrayList_init_$Create$_0();
    this.nn_1 = HashSet_init_$Create$();
    this.on_1 = ArrayList_init_$Create$_0();
    this.pn_1 = ArrayList_init_$Create$_0();
    this.qn_1 = ArrayList_init_$Create$_0();
  }
  ClassSerialDescriptorBuilder.prototype.yo = function (elementName, descriptor, annotations, isOptional) {
    {
      var tmp0_require = this.nn_1.b(elementName);
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = "Element with name '" + elementName + "' is already registered";
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$(toString(message));
      }
    }
    var tmp0_this = this;
    {
      var tmp1_plusAssign = tmp0_this.mn_1;
      tmp1_plusAssign.b(elementName);
    }
    var tmp1_this = this;
    {
      var tmp2_plusAssign = tmp1_this.on_1;
      tmp2_plusAssign.b(descriptor);
    }
    var tmp2_this = this;
    {
      var tmp3_plusAssign = tmp2_this.pn_1;
      tmp3_plusAssign.b(annotations);
    }
    var tmp3_this = this;
    {
      var tmp4_plusAssign = tmp3_this.qn_1;
      tmp4_plusAssign.b(isOptional);
    }
  };
  ClassSerialDescriptorBuilder.prototype.rn = function (elementName, descriptor, annotations, isOptional, $mask0, $handler) {
    if (!(($mask0 & 4) === 0))
      annotations = emptyList();
    if (!(($mask0 & 8) === 0))
      isOptional = false;
    return this.yo(elementName, descriptor, annotations, isOptional);
  };
  ClassSerialDescriptorBuilder.$metadata$ = classMeta('ClassSerialDescriptorBuilder');
  function _get__hashCode__tgwhef($this) {
    var tmp$ret$0;
    {
      var tmp0_getValue = _hashCode$factory();
      tmp$ret$0 = $this.kp_1.l2();
    }
    return tmp$ret$0;
  }
  function SerialDescriptorImpl$_hashCode$delegate$lambda(this$0) {
    return function () {
      return hashCodeImpl(this$0, this$0.jp_1);
    };
  }
  function SerialDescriptorImpl$toString$lambda(this$0) {
    return function (it) {
      return this$0.qo(it) + ': ' + this$0.oo(it).io();
    };
  }
  function SerialDescriptorImpl(serialName, kind, elementsCount, typeParameters, builder) {
    this.zo_1 = serialName;
    this.ap_1 = kind;
    this.bp_1 = elementsCount;
    this.cp_1 = builder.ln_1;
    this.dp_1 = toHashSet(builder.mn_1);
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0_toTypedArray = builder.mn_1;
      tmp$ret$0 = copyToArray(tmp0_toTypedArray);
    }
    tmp.ep_1 = tmp$ret$0;
    this.fp_1 = compactArray(builder.on_1);
    var tmp_0 = this;
    var tmp$ret$1;
    {
      var tmp0_toTypedArray_0 = builder.pn_1;
      tmp$ret$1 = copyToArray(tmp0_toTypedArray_0);
    }
    tmp_0.gp_1 = tmp$ret$1;
    this.hp_1 = toBooleanArray(builder.qn_1);
    var tmp_1 = this;
    var tmp$ret$4;
    {
      var tmp0_map = withIndex(this.ep_1);
      var tmp$ret$3;
      {
        var tmp0_mapTo = ArrayList_init_$Create$(collectionSizeOrDefault(tmp0_map, 10));
        var tmp0_iterator = tmp0_map.h();
        while (tmp0_iterator.n()) {
          var item = tmp0_iterator.o();
          var tmp$ret$2;
          {
            tmp$ret$2 = to(item.n3_1, item.m3_1);
          }
          tmp0_mapTo.b(tmp$ret$2);
        }
        tmp$ret$3 = tmp0_mapTo;
      }
      tmp$ret$4 = tmp$ret$3;
    }
    tmp_1.ip_1 = toMap(tmp$ret$4);
    this.jp_1 = compactArray(typeParameters);
    var tmp_2 = this;
    tmp_2.kp_1 = lazy_0(SerialDescriptorImpl$_hashCode$delegate$lambda(this));
  }
  SerialDescriptorImpl.prototype.io = function () {
    return this.zo_1;
  };
  SerialDescriptorImpl.prototype.mo = function () {
    return this.ap_1;
  };
  SerialDescriptorImpl.prototype.ko = function () {
    return this.bp_1;
  };
  SerialDescriptorImpl.prototype.jo = function () {
    return this.cp_1;
  };
  SerialDescriptorImpl.prototype.lp = function () {
    return this.dp_1;
  };
  SerialDescriptorImpl.prototype.qo = function (index) {
    return getChecked(this.ep_1, index);
  };
  SerialDescriptorImpl.prototype.po = function (name) {
    var tmp0_elvis_lhs = this.ip_1.z2(name);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      Companion_getInstance_2();
      tmp = -3;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  };
  SerialDescriptorImpl.prototype.no = function (index) {
    return getChecked(this.gp_1, index);
  };
  SerialDescriptorImpl.prototype.oo = function (index) {
    return getChecked(this.fp_1, index);
  };
  SerialDescriptorImpl.prototype.ro = function (index) {
    return getChecked_0(this.hp_1, index);
  };
  SerialDescriptorImpl.prototype.equals = function (other) {
    var tmp$ret$0;
    $l$block_5: {
      if (this === other) {
        tmp$ret$0 = true;
        break $l$block_5;
      }
      if (!(other instanceof SerialDescriptorImpl)) {
        tmp$ret$0 = false;
        break $l$block_5;
      }
      if (!(this.io() === other.io())) {
        tmp$ret$0 = false;
        break $l$block_5;
      }
      var tmp$ret$1;
      {
        var tmp0__anonymous__q1qw7t = other;
        tmp$ret$1 = contentEquals(this.jp_1, tmp0__anonymous__q1qw7t.jp_1);
      }
      if (!tmp$ret$1) {
        tmp$ret$0 = false;
        break $l$block_5;
      }
      if (!(this.ko() === other.ko())) {
        tmp$ret$0 = false;
        break $l$block_5;
      }
      var inductionVariable = 0;
      var last = this.ko();
      if (inductionVariable < last)
        do {
          var index = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          if (!(this.oo(index).io() === other.oo(index).io())) {
            tmp$ret$0 = false;
            break $l$block_5;
          }
          if (!equals(this.oo(index).mo(), other.oo(index).mo())) {
            tmp$ret$0 = false;
            break $l$block_5;
          }
        }
         while (inductionVariable < last);
      tmp$ret$0 = true;
    }
    return tmp$ret$0;
  };
  SerialDescriptorImpl.prototype.hashCode = function () {
    return _get__hashCode__tgwhef(this);
  };
  SerialDescriptorImpl.prototype.toString = function () {
    var tmp = until(0, this.bp_1);
    var tmp_0 = this.zo_1 + '(';
    return joinToString$default(tmp, ', ', tmp_0, ')', 0, null, SerialDescriptorImpl$toString$lambda(this), 24, null);
  };
  SerialDescriptorImpl.$metadata$ = classMeta('SerialDescriptorImpl', [SerialDescriptor, CachedNames]);
  function buildClassSerialDescriptor(serialName, typeParameters, builderAction) {
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = !isBlank(serialName);
      }
      var tmp0_require = tmp$ret$0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$1;
        {
          tmp$ret$1 = 'Blank serial names are prohibited';
        }
        var message = tmp$ret$1;
        throw IllegalArgumentException_init_$Create$(toString(message));
      }
    }
    var sdBuilder = new ClassSerialDescriptorBuilder(serialName);
    builderAction(sdBuilder);
    return new SerialDescriptorImpl(serialName, CLASS_getInstance(), sdBuilder.mn_1.m(), toList(typeParameters), sdBuilder);
  }
  function buildClassSerialDescriptor$default(serialName, typeParameters, builderAction, $mask0, $handler) {
    if (!(($mask0 & 4) === 0)) {
      builderAction = buildClassSerialDescriptor$lambda();
    }
    return buildClassSerialDescriptor(serialName, typeParameters, builderAction);
  }
  function PrimitiveSerialDescriptor(serialName, kind) {
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = !isBlank(serialName);
      }
      var tmp0_require = tmp$ret$0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$1;
        {
          tmp$ret$1 = 'Blank serial names are prohibited';
        }
        var message = tmp$ret$1;
        throw IllegalArgumentException_init_$Create$(toString(message));
      }
    }
    return PrimitiveDescriptorSafe(serialName, kind);
  }
  function buildSerialDescriptor$lambda() {
    return function ($this$null) {
      return Unit_getInstance();
    };
  }
  function buildClassSerialDescriptor$lambda() {
    return function ($this$null) {
      return Unit_getInstance();
    };
  }
  function _hashCode$factory() {
    return getPropertyCallableRef('_hashCode', 1, KProperty1, function (receiver) {
      return _get__hashCode__tgwhef(receiver);
    }, null);
  }
  function ENUM() {
    ENUM_instance = this;
    SerialKind.call(this);
  }
  ENUM.$metadata$ = objectMeta('ENUM', undefined, undefined, undefined, undefined, SerialKind.prototype);
  var ENUM_instance;
  function ENUM_getInstance() {
    if (ENUM_instance == null)
      new ENUM();
    return ENUM_instance;
  }
  function CONTEXTUAL() {
    CONTEXTUAL_instance = this;
    SerialKind.call(this);
  }
  CONTEXTUAL.$metadata$ = objectMeta('CONTEXTUAL', undefined, undefined, undefined, undefined, SerialKind.prototype);
  var CONTEXTUAL_instance;
  function CONTEXTUAL_getInstance() {
    if (CONTEXTUAL_instance == null)
      new CONTEXTUAL();
    return CONTEXTUAL_instance;
  }
  function SerialKind() {
  }
  SerialKind.prototype.toString = function () {
    return ensureNotNull(getKClassFromExpression(this).ei());
  };
  SerialKind.prototype.hashCode = function () {
    return getStringHashCode(this.toString());
  };
  SerialKind.$metadata$ = classMeta('SerialKind');
  function SEALED() {
    SEALED_instance = this;
    PolymorphicKind.call(this);
  }
  SEALED.$metadata$ = objectMeta('SEALED', undefined, undefined, undefined, undefined, PolymorphicKind.prototype);
  var SEALED_instance;
  function SEALED_getInstance() {
    if (SEALED_instance == null)
      new SEALED();
    return SEALED_instance;
  }
  function OPEN() {
    OPEN_instance = this;
    PolymorphicKind.call(this);
  }
  OPEN.$metadata$ = objectMeta('OPEN', undefined, undefined, undefined, undefined, PolymorphicKind.prototype);
  var OPEN_instance;
  function OPEN_getInstance() {
    if (OPEN_instance == null)
      new OPEN();
    return OPEN_instance;
  }
  function PolymorphicKind() {
    SerialKind.call(this);
  }
  PolymorphicKind.$metadata$ = classMeta('PolymorphicKind', undefined, undefined, undefined, undefined, SerialKind.prototype);
  function BOOLEAN() {
    BOOLEAN_instance = this;
    PrimitiveKind.call(this);
  }
  BOOLEAN.$metadata$ = objectMeta('BOOLEAN', undefined, undefined, undefined, undefined, PrimitiveKind.prototype);
  var BOOLEAN_instance;
  function BOOLEAN_getInstance() {
    if (BOOLEAN_instance == null)
      new BOOLEAN();
    return BOOLEAN_instance;
  }
  function BYTE() {
    BYTE_instance = this;
    PrimitiveKind.call(this);
  }
  BYTE.$metadata$ = objectMeta('BYTE', undefined, undefined, undefined, undefined, PrimitiveKind.prototype);
  var BYTE_instance;
  function BYTE_getInstance() {
    if (BYTE_instance == null)
      new BYTE();
    return BYTE_instance;
  }
  function CHAR() {
    CHAR_instance = this;
    PrimitiveKind.call(this);
  }
  CHAR.$metadata$ = objectMeta('CHAR', undefined, undefined, undefined, undefined, PrimitiveKind.prototype);
  var CHAR_instance;
  function CHAR_getInstance() {
    if (CHAR_instance == null)
      new CHAR();
    return CHAR_instance;
  }
  function SHORT() {
    SHORT_instance = this;
    PrimitiveKind.call(this);
  }
  SHORT.$metadata$ = objectMeta('SHORT', undefined, undefined, undefined, undefined, PrimitiveKind.prototype);
  var SHORT_instance;
  function SHORT_getInstance() {
    if (SHORT_instance == null)
      new SHORT();
    return SHORT_instance;
  }
  function INT() {
    INT_instance = this;
    PrimitiveKind.call(this);
  }
  INT.$metadata$ = objectMeta('INT', undefined, undefined, undefined, undefined, PrimitiveKind.prototype);
  var INT_instance;
  function INT_getInstance() {
    if (INT_instance == null)
      new INT();
    return INT_instance;
  }
  function LONG() {
    LONG_instance = this;
    PrimitiveKind.call(this);
  }
  LONG.$metadata$ = objectMeta('LONG', undefined, undefined, undefined, undefined, PrimitiveKind.prototype);
  var LONG_instance;
  function LONG_getInstance() {
    if (LONG_instance == null)
      new LONG();
    return LONG_instance;
  }
  function FLOAT() {
    FLOAT_instance = this;
    PrimitiveKind.call(this);
  }
  FLOAT.$metadata$ = objectMeta('FLOAT', undefined, undefined, undefined, undefined, PrimitiveKind.prototype);
  var FLOAT_instance;
  function FLOAT_getInstance() {
    if (FLOAT_instance == null)
      new FLOAT();
    return FLOAT_instance;
  }
  function DOUBLE() {
    DOUBLE_instance = this;
    PrimitiveKind.call(this);
  }
  DOUBLE.$metadata$ = objectMeta('DOUBLE', undefined, undefined, undefined, undefined, PrimitiveKind.prototype);
  var DOUBLE_instance;
  function DOUBLE_getInstance() {
    if (DOUBLE_instance == null)
      new DOUBLE();
    return DOUBLE_instance;
  }
  function STRING() {
    STRING_instance = this;
    PrimitiveKind.call(this);
  }
  STRING.$metadata$ = objectMeta('STRING', undefined, undefined, undefined, undefined, PrimitiveKind.prototype);
  var STRING_instance;
  function STRING_getInstance() {
    if (STRING_instance == null)
      new STRING();
    return STRING_instance;
  }
  function PrimitiveKind() {
    SerialKind.call(this);
  }
  PrimitiveKind.$metadata$ = classMeta('PrimitiveKind', undefined, undefined, undefined, undefined, SerialKind.prototype);
  function CLASS() {
    CLASS_instance = this;
    StructureKind.call(this);
  }
  CLASS.$metadata$ = objectMeta('CLASS', undefined, undefined, undefined, undefined, StructureKind.prototype);
  var CLASS_instance;
  function CLASS_getInstance() {
    if (CLASS_instance == null)
      new CLASS();
    return CLASS_instance;
  }
  function LIST() {
    LIST_instance = this;
    StructureKind.call(this);
  }
  LIST.$metadata$ = objectMeta('LIST', undefined, undefined, undefined, undefined, StructureKind.prototype);
  var LIST_instance;
  function LIST_getInstance() {
    if (LIST_instance == null)
      new LIST();
    return LIST_instance;
  }
  function MAP() {
    MAP_instance = this;
    StructureKind.call(this);
  }
  MAP.$metadata$ = objectMeta('MAP', undefined, undefined, undefined, undefined, StructureKind.prototype);
  var MAP_instance;
  function MAP_getInstance() {
    if (MAP_instance == null)
      new MAP();
    return MAP_instance;
  }
  function OBJECT() {
    OBJECT_instance = this;
    StructureKind.call(this);
  }
  OBJECT.$metadata$ = objectMeta('OBJECT', undefined, undefined, undefined, undefined, StructureKind.prototype);
  var OBJECT_instance;
  function OBJECT_getInstance() {
    if (OBJECT_instance == null)
      new OBJECT();
    return OBJECT_instance;
  }
  function StructureKind() {
    SerialKind.call(this);
  }
  StructureKind.$metadata$ = classMeta('StructureKind', undefined, undefined, undefined, undefined, SerialKind.prototype);
  function AbstractDecoder() {
  }
  AbstractDecoder.prototype.mp = function () {
    throw SerializationException_init_$Create$('' + getKClassFromExpression(this) + " can't retrieve untyped values");
  };
  AbstractDecoder.prototype.np = function () {
    return true;
  };
  AbstractDecoder.prototype.op = function () {
    return null;
  };
  AbstractDecoder.prototype.pp = function () {
    var tmp = this.mp();
    return typeof tmp === 'boolean' ? tmp : THROW_CCE();
  };
  AbstractDecoder.prototype.qp = function () {
    var tmp = this.mp();
    return typeof tmp === 'number' ? tmp : THROW_CCE();
  };
  AbstractDecoder.prototype.rp = function () {
    var tmp = this.mp();
    return typeof tmp === 'number' ? tmp : THROW_CCE();
  };
  AbstractDecoder.prototype.sp = function () {
    var tmp = this.mp();
    return typeof tmp === 'number' ? tmp : THROW_CCE();
  };
  AbstractDecoder.prototype.tp = function () {
    var tmp = this.mp();
    return tmp instanceof Long ? tmp : THROW_CCE();
  };
  AbstractDecoder.prototype.up = function () {
    var tmp = this.mp();
    return typeof tmp === 'number' ? tmp : THROW_CCE();
  };
  AbstractDecoder.prototype.vp = function () {
    var tmp = this.mp();
    return typeof tmp === 'number' ? tmp : THROW_CCE();
  };
  AbstractDecoder.prototype.wp = function () {
    var tmp = this.mp();
    return tmp instanceof Char ? tmp.n1_1 : THROW_CCE();
  };
  AbstractDecoder.prototype.xp = function () {
    var tmp = this.mp();
    return typeof tmp === 'string' ? tmp : THROW_CCE();
  };
  AbstractDecoder.prototype.yp = function (deserializer, previousValue) {
    return this.zp(deserializer);
  };
  AbstractDecoder.prototype.aq = function (descriptor) {
    return this;
  };
  AbstractDecoder.prototype.bq = function (descriptor) {
  };
  AbstractDecoder.prototype.cq = function (descriptor, index) {
    return this.pp();
  };
  AbstractDecoder.prototype.dq = function (descriptor, index) {
    return this.qp();
  };
  AbstractDecoder.prototype.eq = function (descriptor, index) {
    return this.rp();
  };
  AbstractDecoder.prototype.fq = function (descriptor, index) {
    return this.sp();
  };
  AbstractDecoder.prototype.gq = function (descriptor, index) {
    return this.tp();
  };
  AbstractDecoder.prototype.hq = function (descriptor, index) {
    return this.up();
  };
  AbstractDecoder.prototype.iq = function (descriptor, index) {
    return this.vp();
  };
  AbstractDecoder.prototype.jq = function (descriptor, index) {
    return this.wp();
  };
  AbstractDecoder.prototype.kq = function (descriptor, index) {
    return this.xp();
  };
  AbstractDecoder.prototype.lq = function (descriptor, index, deserializer, previousValue) {
    return this.yp(deserializer, previousValue);
  };
  AbstractDecoder.$metadata$ = classMeta('AbstractDecoder', [Decoder, CompositeDecoder]);
  function Decoder() {
  }
  Decoder.$metadata$ = interfaceMeta('Decoder');
  function Companion() {
    Companion_instance = this;
    this.qq_1 = -1;
    this.rq_1 = -3;
  }
  Companion.prototype.sq = function () {
    return this.qq_1;
  };
  Companion.$metadata$ = objectMeta('Companion');
  var Companion_instance;
  function Companion_getInstance_2() {
    if (Companion_instance == null)
      new Companion();
    return Companion_instance;
  }
  function CompositeDecoder() {
  }
  CompositeDecoder.$metadata$ = interfaceMeta('CompositeDecoder');
  function decodeStructure(_this__u8e3s4, descriptor, block) {
    var composite = _this__u8e3s4.aq(descriptor);
    var result = block(composite);
    composite.bq(descriptor);
    return result;
  }
  function decodeSequentially_0($this, compositeDecoder) {
    var klassName = compositeDecoder.kq($this.hn(), 0);
    var serializer = findPolymorphicSerializer($this, compositeDecoder, klassName);
    var tmp = $this.hn();
    return compositeDecoder.mq(tmp, 1, serializer, null, 8, null);
  }
  function AbstractPolymorphicSerializer() {
  }
  AbstractPolymorphicSerializer.prototype.in = function (decoder) {
    var tmp$ret$5;
    {
      var tmp0_decodeStructure = this.hn();
      var composite = decoder.aq(tmp0_decodeStructure);
      var tmp$ret$0;
      $l$block: {
        var klassName = null;
        var value = null;
        if (composite.nq()) {
          tmp$ret$0 = decodeSequentially_0(this, composite);
          break $l$block;
        }
        mainLoop: while (true) {
          var index = composite.oq(this.hn());
          Companion_getInstance_2();
          if (index === -1) {
            break mainLoop;
          } else {
            if (index === 0) {
              klassName = composite.kq(this.hn(), index);
            } else {
              if (index === 1) {
                var tmp$ret$2;
                $l$block_0: {
                  var tmp0_requireNotNull = klassName;
                  {
                  }
                  if (tmp0_requireNotNull == null) {
                    var tmp$ret$1;
                    {
                      tmp$ret$1 = 'Cannot read polymorphic value before its type token';
                    }
                    var message = tmp$ret$1;
                    throw IllegalArgumentException_init_$Create$(toString(message));
                  } else {
                    tmp$ret$2 = tmp0_requireNotNull;
                    break $l$block_0;
                  }
                }
                klassName = tmp$ret$2;
                var serializer = findPolymorphicSerializer(this, composite, klassName);
                var tmp = this.hn();
                value = composite.mq(tmp, index, serializer, null, 8, null);
              } else {
                var tmp0_elvis_lhs = klassName;
                throw SerializationException_init_$Create$('Invalid index in polymorphic deserialization of ' + (tmp0_elvis_lhs == null ? 'unknown class' : tmp0_elvis_lhs) + ('\n Expected 0, 1 or DECODE_DONE(-1), but found ' + index));
              }
            }
          }
        }
        var tmp$ret$4;
        $l$block_1: {
          var tmp1_requireNotNull = value;
          {
          }
          if (tmp1_requireNotNull == null) {
            var tmp$ret$3;
            {
              tmp$ret$3 = 'Polymorphic value has not been read for class ' + klassName;
            }
            var message_0 = tmp$ret$3;
            throw IllegalArgumentException_init_$Create$(toString(message_0));
          } else {
            tmp$ret$4 = tmp1_requireNotNull;
            break $l$block_1;
          }
        }
        var tmp_0 = tmp$ret$4;
        tmp$ret$0 = isObject(tmp_0) ? tmp_0 : THROW_CCE();
      }
      var result = tmp$ret$0;
      composite.bq(tmp0_decodeStructure);
      tmp$ret$5 = result;
    }
    return tmp$ret$5;
  };
  AbstractPolymorphicSerializer.prototype.wn = function (decoder, klassName) {
    return decoder.yn().tq(this.vn(), klassName);
  };
  AbstractPolymorphicSerializer.$metadata$ = classMeta('AbstractPolymorphicSerializer', [KSerializer]);
  function throwSubtypeNotRegistered(subClassName, baseClass) {
    var scope = "in the scope of '" + baseClass.ei() + "'";
    throw SerializationException_init_$Create$(subClassName == null ? 'Class discriminator was missing and no default polymorphic serializers were registered ' + scope : "Class '" + subClassName + "' is not registered for polymorphic serialization " + scope + '.\n' + "Mark the base class as 'sealed' or register the serializer explicitly.");
  }
  function DurationSerializer() {
    DurationSerializer_instance = this;
    this.uq_1 = new PrimitiveSerialDescriptor_0('kotlin.time.Duration', STRING_getInstance());
  }
  DurationSerializer.prototype.hn = function () {
    return this.uq_1;
  };
  DurationSerializer.prototype.vq = function (decoder) {
    return Companion_getInstance().kb(decoder.xp());
  };
  DurationSerializer.prototype.in = function (decoder) {
    return new Duration(this.vq(decoder));
  };
  DurationSerializer.$metadata$ = objectMeta('DurationSerializer', [KSerializer]);
  var DurationSerializer_instance;
  function DurationSerializer_getInstance() {
    if (DurationSerializer_instance == null)
      new DurationSerializer();
    return DurationSerializer_instance;
  }
  function CachedNames() {
  }
  CachedNames.$metadata$ = interfaceMeta('CachedNames');
  function PrimitiveArrayDescriptor(primitive) {
    ListLikeDescriptor.call(this, primitive);
    this.yq_1 = primitive.io() + 'Array';
  }
  PrimitiveArrayDescriptor.prototype.io = function () {
    return this.yq_1;
  };
  PrimitiveArrayDescriptor.$metadata$ = classMeta('PrimitiveArrayDescriptor', undefined, undefined, undefined, undefined, ListLikeDescriptor.prototype);
  function ArrayClassDesc(elementDesc) {
    ListLikeDescriptor.call(this, elementDesc);
  }
  ArrayClassDesc.prototype.io = function () {
    return 'kotlin.Array';
  };
  ArrayClassDesc.$metadata$ = classMeta('ArrayClassDesc', undefined, undefined, undefined, undefined, ListLikeDescriptor.prototype);
  function HashMapClassDesc(keyDesc, valueDesc) {
    MapLikeDescriptor.call(this, 'kotlin.collections.HashMap', keyDesc, valueDesc);
  }
  HashMapClassDesc.$metadata$ = classMeta('HashMapClassDesc', undefined, undefined, undefined, undefined, MapLikeDescriptor.prototype);
  function LinkedHashMapClassDesc(keyDesc, valueDesc) {
    MapLikeDescriptor.call(this, 'kotlin.collections.LinkedHashMap', keyDesc, valueDesc);
  }
  LinkedHashMapClassDesc.$metadata$ = classMeta('LinkedHashMapClassDesc', undefined, undefined, undefined, undefined, MapLikeDescriptor.prototype);
  function ListLikeDescriptor(elementDescriptor) {
    this.zq_1 = elementDescriptor;
    this.ar_1 = 1;
  }
  ListLikeDescriptor.prototype.mo = function () {
    return LIST_getInstance();
  };
  ListLikeDescriptor.prototype.ko = function () {
    return this.ar_1;
  };
  ListLikeDescriptor.prototype.qo = function (index) {
    return index.toString();
  };
  ListLikeDescriptor.prototype.po = function (name) {
    var tmp0_elvis_lhs = toIntOrNull(name);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      throw IllegalArgumentException_init_$Create$(name + ' is not a valid list index');
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  };
  ListLikeDescriptor.prototype.ro = function (index) {
    {
      var tmp0_require = index >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Illegal index ' + index + ', ' + this.io() + ' expects only non-negative indices';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$(toString(message));
      }
    }
    return false;
  };
  ListLikeDescriptor.prototype.no = function (index) {
    {
      var tmp0_require = index >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Illegal index ' + index + ', ' + this.io() + ' expects only non-negative indices';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$(toString(message));
      }
    }
    return emptyList();
  };
  ListLikeDescriptor.prototype.oo = function (index) {
    {
      var tmp0_require = index >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Illegal index ' + index + ', ' + this.io() + ' expects only non-negative indices';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$(toString(message));
      }
    }
    return this.zq_1;
  };
  ListLikeDescriptor.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof ListLikeDescriptor))
      return false;
    if (equals(this.zq_1, other.zq_1) ? this.io() === other.io() : false)
      return true;
    return false;
  };
  ListLikeDescriptor.prototype.hashCode = function () {
    return imul(hashCode(this.zq_1), 31) + getStringHashCode(this.io()) | 0;
  };
  ListLikeDescriptor.prototype.toString = function () {
    return this.io() + '(' + this.zq_1 + ')';
  };
  ListLikeDescriptor.$metadata$ = classMeta('ListLikeDescriptor', [SerialDescriptor]);
  function MapLikeDescriptor(serialName, keyDescriptor, valueDescriptor) {
    this.dr_1 = serialName;
    this.er_1 = keyDescriptor;
    this.fr_1 = valueDescriptor;
    this.gr_1 = 2;
  }
  MapLikeDescriptor.prototype.io = function () {
    return this.dr_1;
  };
  MapLikeDescriptor.prototype.mo = function () {
    return MAP_getInstance();
  };
  MapLikeDescriptor.prototype.ko = function () {
    return this.gr_1;
  };
  MapLikeDescriptor.prototype.qo = function (index) {
    return index.toString();
  };
  MapLikeDescriptor.prototype.po = function (name) {
    var tmp0_elvis_lhs = toIntOrNull(name);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      throw IllegalArgumentException_init_$Create$(name + ' is not a valid map index');
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  };
  MapLikeDescriptor.prototype.ro = function (index) {
    {
      var tmp0_require = index >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Illegal index ' + index + ', ' + this.io() + ' expects only non-negative indices';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$(toString(message));
      }
    }
    return false;
  };
  MapLikeDescriptor.prototype.no = function (index) {
    {
      var tmp0_require = index >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Illegal index ' + index + ', ' + this.io() + ' expects only non-negative indices';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$(toString(message));
      }
    }
    return emptyList();
  };
  MapLikeDescriptor.prototype.oo = function (index) {
    {
      var tmp0_require = index >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Illegal index ' + index + ', ' + this.io() + ' expects only non-negative indices';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$(toString(message));
      }
    }
    var tmp0_subject = index % 2 | 0;
    var tmp;
    switch (tmp0_subject) {
      case 0:
        tmp = this.er_1;
        break;
      case 1:
        tmp = this.fr_1;
        break;
      default:
        throw IllegalStateException_init_$Create$('Unreached');
    }
    return tmp;
  };
  MapLikeDescriptor.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof MapLikeDescriptor))
      return false;
    if (!(this.io() === other.io()))
      return false;
    if (!equals(this.er_1, other.er_1))
      return false;
    if (!equals(this.fr_1, other.fr_1))
      return false;
    return true;
  };
  MapLikeDescriptor.prototype.hashCode = function () {
    var result = getStringHashCode(this.io());
    result = imul(31, result) + hashCode(this.er_1) | 0;
    result = imul(31, result) + hashCode(this.fr_1) | 0;
    return result;
  };
  MapLikeDescriptor.prototype.toString = function () {
    return this.io() + '(' + this.er_1 + ', ' + this.fr_1 + ')';
  };
  MapLikeDescriptor.$metadata$ = classMeta('MapLikeDescriptor', [SerialDescriptor]);
  function ArrayListClassDesc(elementDesc) {
    ListLikeDescriptor.call(this, elementDesc);
  }
  ArrayListClassDesc.prototype.io = function () {
    return 'kotlin.collections.ArrayList';
  };
  ArrayListClassDesc.$metadata$ = classMeta('ArrayListClassDesc', undefined, undefined, undefined, undefined, ListLikeDescriptor.prototype);
  function HashSetClassDesc(elementDesc) {
    ListLikeDescriptor.call(this, elementDesc);
  }
  HashSetClassDesc.prototype.io = function () {
    return 'kotlin.collections.HashSet';
  };
  HashSetClassDesc.$metadata$ = classMeta('HashSetClassDesc', undefined, undefined, undefined, undefined, ListLikeDescriptor.prototype);
  function LinkedHashSetClassDesc(elementDesc) {
    ListLikeDescriptor.call(this, elementDesc);
  }
  LinkedHashSetClassDesc.prototype.io = function () {
    return 'kotlin.collections.LinkedHashSet';
  };
  LinkedHashSetClassDesc.$metadata$ = classMeta('LinkedHashSetClassDesc', undefined, undefined, undefined, undefined, ListLikeDescriptor.prototype);
  function PrimitiveArraySerializer(primitiveSerializer) {
    CollectionLikeSerializer.call(this, primitiveSerializer);
    this.or_1 = new PrimitiveArrayDescriptor(primitiveSerializer.hn());
  }
  PrimitiveArraySerializer.prototype.hn = function () {
    return this.or_1;
  };
  PrimitiveArraySerializer.prototype.pr = function (_this__u8e3s4) {
    return _this__u8e3s4.qr();
  };
  PrimitiveArraySerializer.prototype.rr = function (_this__u8e3s4) {
    return _this__u8e3s4.sr();
  };
  PrimitiveArraySerializer.prototype.tr = function (_this__u8e3s4, size) {
    return _this__u8e3s4.wf(size);
  };
  PrimitiveArraySerializer.prototype.ur = function (_this__u8e3s4, index, element) {
    throw IllegalStateException_init_$Create$('This method lead to boxing and must not be used, use Builder.append instead');
  };
  PrimitiveArraySerializer.prototype.vr = function () {
    return this.xr(this.wr());
  };
  PrimitiveArraySerializer.prototype.in = function (decoder) {
    return this.as(decoder, null);
  };
  PrimitiveArraySerializer.$metadata$ = classMeta('PrimitiveArraySerializer', undefined, undefined, undefined, undefined, CollectionLikeSerializer.prototype);
  function PrimitiveArrayBuilder() {
  }
  PrimitiveArrayBuilder.prototype.ds = function (requiredCapacity, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      requiredCapacity = this.qr() + 1 | 0;
    return $handler == null ? this.wf(requiredCapacity) : $handler(requiredCapacity);
  };
  PrimitiveArrayBuilder.$metadata$ = classMeta('PrimitiveArrayBuilder');
  function CollectionLikeSerializer(elementSerializer) {
    AbstractCollectionSerializer.call(this);
    this.bs_1 = elementSerializer;
  }
  CollectionLikeSerializer.prototype.cs = function (decoder, builder, startIndex, size) {
    {
      var tmp0_require = size >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Size must be known in advance when using READ_ALL';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$(toString(message));
      }
    }
    var inductionVariable = 0;
    if (inductionVariable < size)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        this.yr(decoder, startIndex + index | 0, builder, false);
      }
       while (inductionVariable < size);
  };
  CollectionLikeSerializer.prototype.yr = function (decoder, index, builder, checkIndex) {
    var tmp = this.hn();
    this.ur(builder, index, decoder.mq(tmp, index, this.bs_1, null, 8, null));
  };
  CollectionLikeSerializer.$metadata$ = classMeta('CollectionLikeSerializer', undefined, undefined, undefined, undefined, AbstractCollectionSerializer.prototype);
  function readSize($this, decoder, builder) {
    var size = decoder.pq($this.hn());
    $this.tr(builder, size);
    return size;
  }
  function AbstractCollectionSerializer() {
  }
  AbstractCollectionSerializer.prototype.as = function (decoder, previous) {
    var tmp0_safe_receiver = previous;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : this.xr(tmp0_safe_receiver);
    var builder = tmp1_elvis_lhs == null ? this.vr() : tmp1_elvis_lhs;
    var startIndex = this.pr(builder);
    var compositeDecoder = decoder.aq(this.hn());
    if (compositeDecoder.nq()) {
      this.cs(compositeDecoder, builder, startIndex, readSize(this, compositeDecoder, builder));
    } else {
      $l$loop: while (true) {
        var index = compositeDecoder.oq(this.hn());
        Companion_getInstance_2();
        if (index === -1)
          break $l$loop;
        var tmp = startIndex + index | 0;
        this.zr(compositeDecoder, tmp, builder, false, 8, null);
      }
    }
    compositeDecoder.bq(this.hn());
    return this.rr(builder);
  };
  AbstractCollectionSerializer.prototype.in = function (decoder) {
    return this.as(decoder, null);
  };
  AbstractCollectionSerializer.prototype.zr = function (decoder, index, builder, checkIndex, $mask0, $handler) {
    if (!(($mask0 & 8) === 0))
      checkIndex = true;
    return $handler == null ? this.yr(decoder, index, builder, checkIndex) : $handler(decoder, index, builder, checkIndex);
  };
  AbstractCollectionSerializer.$metadata$ = classMeta('AbstractCollectionSerializer', [KSerializer]);
  function CollectionSerializer(element) {
    CollectionLikeSerializer.call(this, element);
  }
  CollectionSerializer.$metadata$ = classMeta('CollectionSerializer', undefined, undefined, undefined, undefined, CollectionLikeSerializer.prototype);
  function ReferenceArraySerializer(kClass, eSerializer) {
    CollectionLikeSerializer.call(this, eSerializer);
    this.fs_1 = kClass;
    this.gs_1 = new ArrayClassDesc(eSerializer.hn());
  }
  ReferenceArraySerializer.prototype.hn = function () {
    return this.gs_1;
  };
  ReferenceArraySerializer.prototype.vr = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    return tmp$ret$0;
  };
  ReferenceArraySerializer.prototype.hs = function (_this__u8e3s4) {
    return _this__u8e3s4.m();
  };
  ReferenceArraySerializer.prototype.pr = function (_this__u8e3s4) {
    return this.hs(_this__u8e3s4 instanceof ArrayList ? _this__u8e3s4 : THROW_CCE());
  };
  ReferenceArraySerializer.prototype.is = function (_this__u8e3s4) {
    return toNativeArrayImpl(_this__u8e3s4, this.fs_1);
  };
  ReferenceArraySerializer.prototype.rr = function (_this__u8e3s4) {
    return this.is(_this__u8e3s4 instanceof ArrayList ? _this__u8e3s4 : THROW_CCE());
  };
  ReferenceArraySerializer.prototype.js = function (_this__u8e3s4) {
    return ArrayList_init_$Create$_1(asList(_this__u8e3s4));
  };
  ReferenceArraySerializer.prototype.xr = function (_this__u8e3s4) {
    return this.js((!(_this__u8e3s4 == null) ? isArray(_this__u8e3s4) : false) ? _this__u8e3s4 : THROW_CCE());
  };
  ReferenceArraySerializer.prototype.ks = function (_this__u8e3s4, size) {
    return _this__u8e3s4.wf(size);
  };
  ReferenceArraySerializer.prototype.tr = function (_this__u8e3s4, size) {
    return this.ks(_this__u8e3s4 instanceof ArrayList ? _this__u8e3s4 : THROW_CCE(), size);
  };
  ReferenceArraySerializer.prototype.ls = function (_this__u8e3s4, index, element) {
    _this__u8e3s4.cf(index, element);
  };
  ReferenceArraySerializer.prototype.ur = function (_this__u8e3s4, index, element) {
    var tmp = _this__u8e3s4 instanceof ArrayList ? _this__u8e3s4 : THROW_CCE();
    return this.ls(tmp, index, (element == null ? true : isObject(element)) ? element : THROW_CCE());
  };
  ReferenceArraySerializer.$metadata$ = classMeta('ReferenceArraySerializer', undefined, undefined, undefined, undefined, CollectionLikeSerializer.prototype);
  function MapLikeSerializer(keySerializer, valueSerializer) {
    AbstractCollectionSerializer.call(this);
    this.ms_1 = keySerializer;
    this.ns_1 = valueSerializer;
  }
  MapLikeSerializer.prototype.cs = function (decoder, builder, startIndex, size) {
    {
      var tmp0_require = size >= 0;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Size must be known in advance when using READ_ALL';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$(toString(message));
      }
    }
    var progression = step(until(0, imul(size, 2)), 2);
    var inductionVariable = progression.e1_1;
    var last = progression.f1_1;
    var step_0 = progression.g1_1;
    if ((step_0 > 0 ? inductionVariable <= last : false) ? true : step_0 < 0 ? last <= inductionVariable : false)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + step_0 | 0;
        this.yr(decoder, startIndex + index | 0, builder, false);
      }
       while (!(index === last));
  };
  MapLikeSerializer.prototype.yr = function (decoder, index, builder, checkIndex) {
    var tmp = this.hn();
    var key = decoder.mq(tmp, index, this.ms_1, null, 8, null);
    var tmp_0;
    if (checkIndex) {
      var tmp$ret$1;
      {
        var tmp0_also = decoder.oq(this.hn());
        {
        }
        {
          {
            var tmp0_require = tmp0_also === (index + 1 | 0);
            {
            }
            if (!tmp0_require) {
              var tmp$ret$0;
              {
                tmp$ret$0 = 'Value must follow key in a map, index for key: ' + index + ', returned index for value: ' + tmp0_also;
              }
              var message = tmp$ret$0;
              throw IllegalArgumentException_init_$Create$(toString(message));
            }
          }
        }
        tmp$ret$1 = tmp0_also;
      }
      tmp_0 = tmp$ret$1;
    } else {
      tmp_0 = index + 1 | 0;
    }
    var vIndex = tmp_0;
    var tmp_1;
    var tmp_2;
    if (builder.t2(key)) {
      var tmp_3 = this.ns_1.hn().mo();
      tmp_2 = !(tmp_3 instanceof PrimitiveKind);
    } else {
      tmp_2 = false;
    }
    if (tmp_2) {
      tmp_1 = decoder.lq(this.hn(), vIndex, this.ns_1, getValue(builder, key));
    } else {
      var tmp_4 = this.hn();
      tmp_1 = decoder.mq(tmp_4, vIndex, this.ns_1, null, 8, null);
    }
    var value = tmp_1;
    {
      builder.a(key, value);
    }
  };
  MapLikeSerializer.$metadata$ = classMeta('MapLikeSerializer', undefined, undefined, undefined, undefined, AbstractCollectionSerializer.prototype);
  function HashMapSerializer(kSerializer, vSerializer) {
    MapLikeSerializer.call(this, kSerializer, vSerializer);
    this.qs_1 = new HashMapClassDesc(kSerializer.hn(), vSerializer.hn());
  }
  HashMapSerializer.prototype.hn = function () {
    return this.qs_1;
  };
  HashMapSerializer.prototype.vr = function () {
    return HashMap_init_$Create$();
  };
  HashMapSerializer.prototype.rs = function (_this__u8e3s4) {
    return imul(_this__u8e3s4.m(), 2);
  };
  HashMapSerializer.prototype.pr = function (_this__u8e3s4) {
    return this.rs(_this__u8e3s4 instanceof HashMap ? _this__u8e3s4 : THROW_CCE());
  };
  HashMapSerializer.prototype.ss = function (_this__u8e3s4) {
    return _this__u8e3s4;
  };
  HashMapSerializer.prototype.rr = function (_this__u8e3s4) {
    return this.ss(_this__u8e3s4 instanceof HashMap ? _this__u8e3s4 : THROW_CCE());
  };
  HashMapSerializer.prototype.ts = function (_this__u8e3s4) {
    var tmp0_elvis_lhs = _this__u8e3s4 instanceof HashMap ? _this__u8e3s4 : null;
    return tmp0_elvis_lhs == null ? HashMap_init_$Create$_0(_this__u8e3s4) : tmp0_elvis_lhs;
  };
  HashMapSerializer.prototype.xr = function (_this__u8e3s4) {
    return this.ts((!(_this__u8e3s4 == null) ? isInterface(_this__u8e3s4, Map) : false) ? _this__u8e3s4 : THROW_CCE());
  };
  HashMapSerializer.prototype.us = function (_this__u8e3s4, size) {
  };
  HashMapSerializer.prototype.tr = function (_this__u8e3s4, size) {
    return this.us(_this__u8e3s4 instanceof HashMap ? _this__u8e3s4 : THROW_CCE(), size);
  };
  HashMapSerializer.$metadata$ = classMeta('HashMapSerializer', undefined, undefined, undefined, undefined, MapLikeSerializer.prototype);
  function LinkedHashMapSerializer(kSerializer, vSerializer) {
    MapLikeSerializer.call(this, kSerializer, vSerializer);
    this.xs_1 = new LinkedHashMapClassDesc(kSerializer.hn(), vSerializer.hn());
  }
  LinkedHashMapSerializer.prototype.hn = function () {
    return this.xs_1;
  };
  LinkedHashMapSerializer.prototype.vr = function () {
    return LinkedHashMap_init_$Create$();
  };
  LinkedHashMapSerializer.prototype.ys = function (_this__u8e3s4) {
    return imul(_this__u8e3s4.m(), 2);
  };
  LinkedHashMapSerializer.prototype.pr = function (_this__u8e3s4) {
    return this.ys(_this__u8e3s4 instanceof LinkedHashMap ? _this__u8e3s4 : THROW_CCE());
  };
  LinkedHashMapSerializer.prototype.zs = function (_this__u8e3s4) {
    return _this__u8e3s4;
  };
  LinkedHashMapSerializer.prototype.rr = function (_this__u8e3s4) {
    return this.zs(_this__u8e3s4 instanceof LinkedHashMap ? _this__u8e3s4 : THROW_CCE());
  };
  LinkedHashMapSerializer.prototype.ts = function (_this__u8e3s4) {
    var tmp0_elvis_lhs = _this__u8e3s4 instanceof LinkedHashMap ? _this__u8e3s4 : null;
    return tmp0_elvis_lhs == null ? LinkedHashMap_init_$Create$_0(_this__u8e3s4) : tmp0_elvis_lhs;
  };
  LinkedHashMapSerializer.prototype.xr = function (_this__u8e3s4) {
    return this.ts((!(_this__u8e3s4 == null) ? isInterface(_this__u8e3s4, Map) : false) ? _this__u8e3s4 : THROW_CCE());
  };
  LinkedHashMapSerializer.prototype.at = function (_this__u8e3s4, size) {
  };
  LinkedHashMapSerializer.prototype.tr = function (_this__u8e3s4, size) {
    return this.at(_this__u8e3s4 instanceof LinkedHashMap ? _this__u8e3s4 : THROW_CCE(), size);
  };
  LinkedHashMapSerializer.$metadata$ = classMeta('LinkedHashMapSerializer', undefined, undefined, undefined, undefined, MapLikeSerializer.prototype);
  function ArrayListSerializer(element) {
    CollectionSerializer.call(this, element);
    this.ct_1 = new ArrayListClassDesc(element.hn());
  }
  ArrayListSerializer.prototype.hn = function () {
    return this.ct_1;
  };
  ArrayListSerializer.prototype.vr = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    return tmp$ret$0;
  };
  ArrayListSerializer.prototype.dt = function (_this__u8e3s4) {
    return _this__u8e3s4.m();
  };
  ArrayListSerializer.prototype.pr = function (_this__u8e3s4) {
    return this.dt(_this__u8e3s4 instanceof ArrayList ? _this__u8e3s4 : THROW_CCE());
  };
  ArrayListSerializer.prototype.et = function (_this__u8e3s4) {
    return _this__u8e3s4;
  };
  ArrayListSerializer.prototype.rr = function (_this__u8e3s4) {
    return this.et(_this__u8e3s4 instanceof ArrayList ? _this__u8e3s4 : THROW_CCE());
  };
  ArrayListSerializer.prototype.ft = function (_this__u8e3s4) {
    var tmp0_elvis_lhs = _this__u8e3s4 instanceof ArrayList ? _this__u8e3s4 : null;
    return tmp0_elvis_lhs == null ? ArrayList_init_$Create$_1(_this__u8e3s4) : tmp0_elvis_lhs;
  };
  ArrayListSerializer.prototype.xr = function (_this__u8e3s4) {
    return this.ft((!(_this__u8e3s4 == null) ? isInterface(_this__u8e3s4, List) : false) ? _this__u8e3s4 : THROW_CCE());
  };
  ArrayListSerializer.prototype.gt = function (_this__u8e3s4, size) {
    return _this__u8e3s4.wf(size);
  };
  ArrayListSerializer.prototype.tr = function (_this__u8e3s4, size) {
    return this.gt(_this__u8e3s4 instanceof ArrayList ? _this__u8e3s4 : THROW_CCE(), size);
  };
  ArrayListSerializer.prototype.ht = function (_this__u8e3s4, index, element) {
    _this__u8e3s4.cf(index, element);
  };
  ArrayListSerializer.prototype.ur = function (_this__u8e3s4, index, element) {
    var tmp = _this__u8e3s4 instanceof ArrayList ? _this__u8e3s4 : THROW_CCE();
    return this.ht(tmp, index, (element == null ? true : isObject(element)) ? element : THROW_CCE());
  };
  ArrayListSerializer.$metadata$ = classMeta('ArrayListSerializer', undefined, undefined, undefined, undefined, CollectionSerializer.prototype);
  function HashSetSerializer(eSerializer) {
    CollectionSerializer.call(this, eSerializer);
    this.jt_1 = new HashSetClassDesc(eSerializer.hn());
  }
  HashSetSerializer.prototype.hn = function () {
    return this.jt_1;
  };
  HashSetSerializer.prototype.vr = function () {
    return HashSet_init_$Create$();
  };
  HashSetSerializer.prototype.kt = function (_this__u8e3s4) {
    return _this__u8e3s4.m();
  };
  HashSetSerializer.prototype.pr = function (_this__u8e3s4) {
    return this.kt(_this__u8e3s4 instanceof HashSet ? _this__u8e3s4 : THROW_CCE());
  };
  HashSetSerializer.prototype.lt = function (_this__u8e3s4) {
    return _this__u8e3s4;
  };
  HashSetSerializer.prototype.rr = function (_this__u8e3s4) {
    return this.lt(_this__u8e3s4 instanceof HashSet ? _this__u8e3s4 : THROW_CCE());
  };
  HashSetSerializer.prototype.mt = function (_this__u8e3s4) {
    var tmp0_elvis_lhs = _this__u8e3s4 instanceof HashSet ? _this__u8e3s4 : null;
    return tmp0_elvis_lhs == null ? HashSet_init_$Create$_0(_this__u8e3s4) : tmp0_elvis_lhs;
  };
  HashSetSerializer.prototype.xr = function (_this__u8e3s4) {
    return this.mt((!(_this__u8e3s4 == null) ? isInterface(_this__u8e3s4, Set) : false) ? _this__u8e3s4 : THROW_CCE());
  };
  HashSetSerializer.prototype.nt = function (_this__u8e3s4, size) {
  };
  HashSetSerializer.prototype.tr = function (_this__u8e3s4, size) {
    return this.nt(_this__u8e3s4 instanceof HashSet ? _this__u8e3s4 : THROW_CCE(), size);
  };
  HashSetSerializer.prototype.ot = function (_this__u8e3s4, index, element) {
    _this__u8e3s4.b(element);
  };
  HashSetSerializer.prototype.ur = function (_this__u8e3s4, index, element) {
    var tmp = _this__u8e3s4 instanceof HashSet ? _this__u8e3s4 : THROW_CCE();
    return this.ot(tmp, index, (element == null ? true : isObject(element)) ? element : THROW_CCE());
  };
  HashSetSerializer.$metadata$ = classMeta('HashSetSerializer', undefined, undefined, undefined, undefined, CollectionSerializer.prototype);
  function LinkedHashSetSerializer(eSerializer) {
    CollectionSerializer.call(this, eSerializer);
    this.qt_1 = new LinkedHashSetClassDesc(eSerializer.hn());
  }
  LinkedHashSetSerializer.prototype.hn = function () {
    return this.qt_1;
  };
  LinkedHashSetSerializer.prototype.vr = function () {
    var tmp$ret$0;
    {
      tmp$ret$0 = LinkedHashSet_init_$Create$();
    }
    return tmp$ret$0;
  };
  LinkedHashSetSerializer.prototype.rt = function (_this__u8e3s4) {
    return _this__u8e3s4.m();
  };
  LinkedHashSetSerializer.prototype.pr = function (_this__u8e3s4) {
    return this.rt(_this__u8e3s4 instanceof LinkedHashSet ? _this__u8e3s4 : THROW_CCE());
  };
  LinkedHashSetSerializer.prototype.st = function (_this__u8e3s4) {
    return _this__u8e3s4;
  };
  LinkedHashSetSerializer.prototype.rr = function (_this__u8e3s4) {
    return this.st(_this__u8e3s4 instanceof LinkedHashSet ? _this__u8e3s4 : THROW_CCE());
  };
  LinkedHashSetSerializer.prototype.mt = function (_this__u8e3s4) {
    var tmp0_elvis_lhs = _this__u8e3s4 instanceof LinkedHashSet ? _this__u8e3s4 : null;
    return tmp0_elvis_lhs == null ? LinkedHashSet_init_$Create$_0(_this__u8e3s4) : tmp0_elvis_lhs;
  };
  LinkedHashSetSerializer.prototype.xr = function (_this__u8e3s4) {
    return this.mt((!(_this__u8e3s4 == null) ? isInterface(_this__u8e3s4, Set) : false) ? _this__u8e3s4 : THROW_CCE());
  };
  LinkedHashSetSerializer.prototype.tt = function (_this__u8e3s4, size) {
  };
  LinkedHashSetSerializer.prototype.tr = function (_this__u8e3s4, size) {
    return this.tt(_this__u8e3s4 instanceof LinkedHashSet ? _this__u8e3s4 : THROW_CCE(), size);
  };
  LinkedHashSetSerializer.prototype.ut = function (_this__u8e3s4, index, element) {
    _this__u8e3s4.b(element);
  };
  LinkedHashSetSerializer.prototype.ur = function (_this__u8e3s4, index, element) {
    var tmp = _this__u8e3s4 instanceof LinkedHashSet ? _this__u8e3s4 : THROW_CCE();
    return this.ut(tmp, index, (element == null ? true : isObject(element)) ? element : THROW_CCE());
  };
  LinkedHashSetSerializer.$metadata$ = classMeta('LinkedHashSetSerializer', undefined, undefined, undefined, undefined, CollectionSerializer.prototype);
  function Companion_0() {
    Companion_instance_0 = this;
    this.vt_1 = longArray(0);
  }
  Companion_0.$metadata$ = objectMeta('Companion');
  var Companion_instance_0;
  function Companion_getInstance_3() {
    if (Companion_instance_0 == null)
      new Companion_0();
    return Companion_instance_0;
  }
  function prepareHighMarksArray($this, elementsCount) {
    var slotsCount = (elementsCount - 1 | 0) >>> 6 | 0;
    Companion_getInstance_0();
    var elementsInLastSlot = elementsCount & (64 - 1 | 0);
    var highMarks = longArray(slotsCount);
    if (!(elementsInLastSlot === 0)) {
      highMarks[get_lastIndex(highMarks)] = (new Long(-1, -1)).tb(elementsCount);
    }
    return highMarks;
  }
  function markHigh($this, index) {
    var slot = (index >>> 6 | 0) - 1 | 0;
    Companion_getInstance_0();
    var offsetInSlot = index & (64 - 1 | 0);
    $this.zt_1[slot] = $this.zt_1[slot].bm((new Long(1, 0)).tb(offsetInSlot));
  }
  function nextUnmarkedHighIndex($this) {
    var inductionVariable = 0;
    var last = $this.zt_1.length - 1 | 0;
    if (inductionVariable <= last)
      do {
        var slot = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tmp = slot + 1 | 0;
        Companion_getInstance_0();
        var slotOffset = imul(tmp, 64);
        var slotMarks = $this.zt_1[slot];
        while (!slotMarks.equals(new Long(-1, -1))) {
          var indexInSlot = countTrailingZeroBits(slotMarks.am());
          slotMarks = slotMarks.bm((new Long(1, 0)).tb(indexInSlot));
          var index = slotOffset + indexInSlot | 0;
          if ($this.xt_1($this.wt_1, index)) {
            $this.zt_1[slot] = slotMarks;
            return index;
          }
        }
        $this.zt_1[slot] = slotMarks;
      }
       while (inductionVariable <= last);
    Companion_getInstance_2();
    return -1;
  }
  function ElementMarker(descriptor, readIfAbsent) {
    Companion_getInstance_3();
    this.wt_1 = descriptor;
    this.xt_1 = readIfAbsent;
    var elementsCount = this.wt_1.ko();
    Companion_getInstance_0();
    if (elementsCount <= 64) {
      var tmp = this;
      var tmp_0;
      Companion_getInstance_0();
      if (elementsCount === 64) {
        tmp_0 = new Long(0, 0);
      } else {
        tmp_0 = (new Long(-1, -1)).tb(elementsCount);
      }
      tmp.yt_1 = tmp_0;
      this.zt_1 = Companion_getInstance_3().vt_1;
    } else {
      this.yt_1 = new Long(0, 0);
      this.zt_1 = prepareHighMarksArray(this, elementsCount);
    }
  }
  ElementMarker.prototype.au = function (index) {
    Companion_getInstance_0();
    if (index < 64) {
      this.yt_1 = this.yt_1.bm((new Long(1, 0)).tb(index));
    } else {
      markHigh(this, index);
    }
  };
  ElementMarker.prototype.bu = function () {
    var elementsCount = this.wt_1.ko();
    while (!this.yt_1.equals(new Long(-1, -1))) {
      var index = countTrailingZeroBits(this.yt_1.am());
      this.yt_1 = this.yt_1.bm((new Long(1, 0)).tb(index));
      if (this.xt_1(this.wt_1, index)) {
        return index;
      }
    }
    Companion_getInstance_0();
    if (elementsCount > 64) {
      return nextUnmarkedHighIndex(this);
    }
    Companion_getInstance_2();
    return -1;
  };
  ElementMarker.$metadata$ = classMeta('ElementMarker');
  function jsonCachedSerialNames(_this__u8e3s4) {
    return cachedSerialNames(_this__u8e3s4);
  }
  function NullableSerializer(serializer) {
    this.cu_1 = serializer;
    this.du_1 = new SerialDescriptorForNullable(this.cu_1.hn());
  }
  NullableSerializer.prototype.hn = function () {
    return this.du_1;
  };
  NullableSerializer.prototype.in = function (decoder) {
    return decoder.np() ? decoder.zp(this.cu_1) : decoder.op();
  };
  NullableSerializer.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (other == null ? true : !getKClassFromExpression(this).equals(getKClassFromExpression(other)))
      return false;
    if (other instanceof NullableSerializer)
      other;
    else
      THROW_CCE();
    if (!equals(this.cu_1, other.cu_1))
      return false;
    return true;
  };
  NullableSerializer.prototype.hashCode = function () {
    return hashCode(this.cu_1);
  };
  NullableSerializer.$metadata$ = classMeta('NullableSerializer', [KSerializer]);
  function SerialDescriptorForNullable(original) {
    this.so_1 = original;
    this.to_1 = this.so_1.io() + '?';
    this.uo_1 = cachedSerialNames(this.so_1);
  }
  SerialDescriptorForNullable.prototype.jo = function () {
    return this.so_1.jo();
  };
  SerialDescriptorForNullable.prototype.ko = function () {
    return this.so_1.ko();
  };
  SerialDescriptorForNullable.prototype.lo = function () {
    return this.so_1.lo();
  };
  SerialDescriptorForNullable.prototype.mo = function () {
    return this.so_1.mo();
  };
  SerialDescriptorForNullable.prototype.no = function (index) {
    return this.so_1.no(index);
  };
  SerialDescriptorForNullable.prototype.oo = function (index) {
    return this.so_1.oo(index);
  };
  SerialDescriptorForNullable.prototype.po = function (name) {
    return this.so_1.po(name);
  };
  SerialDescriptorForNullable.prototype.qo = function (index) {
    return this.so_1.qo(index);
  };
  SerialDescriptorForNullable.prototype.ro = function (index) {
    return this.so_1.ro(index);
  };
  SerialDescriptorForNullable.prototype.io = function () {
    return this.to_1;
  };
  SerialDescriptorForNullable.prototype.lp = function () {
    return this.uo_1;
  };
  SerialDescriptorForNullable.prototype.eo = function () {
    return true;
  };
  SerialDescriptorForNullable.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof SerialDescriptorForNullable))
      return false;
    if (!equals(this.so_1, other.so_1))
      return false;
    return true;
  };
  SerialDescriptorForNullable.prototype.toString = function () {
    return '' + this.so_1 + '?';
  };
  SerialDescriptorForNullable.prototype.hashCode = function () {
    return imul(hashCode(this.so_1), 31);
  };
  SerialDescriptorForNullable.$metadata$ = classMeta('SerialDescriptorForNullable', [SerialDescriptor, CachedNames]);
  function ObjectSerializer$descriptor$delegate$lambda$lambda(this$0) {
    return function ($this$buildSerialDescriptor) {
      $this$buildSerialDescriptor.ln_1 = this$0.fu_1;
      return Unit_getInstance();
    };
  }
  function ObjectSerializer$descriptor$delegate$lambda($serialName, this$0) {
    return function () {
      var tmp = OBJECT_getInstance();
      return buildSerialDescriptor$default($serialName, tmp, [], ObjectSerializer$descriptor$delegate$lambda$lambda(this$0), 4, null);
    };
  }
  function ObjectSerializer(serialName, objectInstance) {
    this.eu_1 = objectInstance;
    this.fu_1 = emptyList();
    var tmp = this;
    var tmp_0 = LazyThreadSafetyMode_PUBLICATION_getInstance();
    tmp.gu_1 = lazy(tmp_0, ObjectSerializer$descriptor$delegate$lambda(serialName, this));
  }
  ObjectSerializer.prototype.hn = function () {
    var tmp$ret$0;
    {
      var tmp0_getValue = descriptor$factory_0();
      tmp$ret$0 = this.gu_1.l2();
    }
    return tmp$ret$0;
  };
  ObjectSerializer.prototype.in = function (decoder) {
    var tmp$ret$1;
    {
      var tmp0_decodeStructure = this.hn();
      var composite = decoder.aq(tmp0_decodeStructure);
      var tmp$ret$0;
      $l$block: {
        var index = composite.oq(this.hn());
        Companion_getInstance_2();
        if (index === -1) {
          tmp$ret$0 = Unit_getInstance();
          break $l$block;
        } else {
          throw SerializationException_init_$Create$('Unexpected index ' + index);
        }
      }
      var result = tmp$ret$0;
      composite.bq(tmp0_decodeStructure);
      tmp$ret$1 = result;
    }
    return this.eu_1;
  };
  ObjectSerializer.$metadata$ = classMeta('ObjectSerializer', [KSerializer]);
  function descriptor$factory_0() {
    return getPropertyCallableRef('descriptor', 1, KProperty1, function (receiver) {
      return receiver.hn();
    }, null);
  }
  function get_EMPTY_DESCRIPTOR_ARRAY() {
    init_properties_Platform_common_kt_9ujmfm();
    return EMPTY_DESCRIPTOR_ARRAY;
  }
  var EMPTY_DESCRIPTOR_ARRAY;
  function cast(_this__u8e3s4) {
    init_properties_Platform_common_kt_9ujmfm();
    return isInterface(_this__u8e3s4, KSerializer) ? _this__u8e3s4 : THROW_CCE();
  }
  function compactArray(_this__u8e3s4) {
    init_properties_Platform_common_kt_9ujmfm();
    var tmp$ret$2;
    {
      {
      }
      var tmp;
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          {
          }
          tmp$ret$0 = _this__u8e3s4 == null ? true : _this__u8e3s4.q();
        }
        tmp$ret$1 = tmp$ret$0;
      }
      if (!tmp$ret$1) {
        tmp = _this__u8e3s4;
      } else {
        tmp = null;
      }
      tmp$ret$2 = tmp;
    }
    var tmp0_safe_receiver = tmp$ret$2;
    var tmp_0;
    if (tmp0_safe_receiver == null) {
      tmp_0 = null;
    } else {
      var tmp$ret$3;
      {
        tmp$ret$3 = copyToArray(tmp0_safe_receiver);
      }
      tmp_0 = tmp$ret$3;
    }
    var tmp1_elvis_lhs = tmp_0;
    return tmp1_elvis_lhs == null ? get_EMPTY_DESCRIPTOR_ARRAY() : tmp1_elvis_lhs;
  }
  function elementsHashCodeBy(_this__u8e3s4, selector) {
    init_properties_Platform_common_kt_9ujmfm();
    var tmp$ret$2;
    {
      var accumulator = 1;
      var tmp0_iterator = _this__u8e3s4.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$1;
        {
          var tmp0__anonymous__q1qw7t = accumulator;
          var tmp = imul(31, tmp0__anonymous__q1qw7t);
          var tmp$ret$0;
          {
            var tmp0_hashCode = selector(element);
            var tmp0_safe_receiver = tmp0_hashCode;
            var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : hashCode(tmp0_safe_receiver);
            tmp$ret$0 = tmp1_elvis_lhs == null ? 0 : tmp1_elvis_lhs;
          }
          tmp$ret$1 = tmp + tmp$ret$0 | 0;
        }
        accumulator = tmp$ret$1;
      }
      tmp$ret$2 = accumulator;
    }
    return tmp$ret$2;
  }
  function kclass(_this__u8e3s4) {
    init_properties_Platform_common_kt_9ujmfm();
    var t = _this__u8e3s4.mi();
    var tmp;
    if (!(t == null) ? isInterface(t, KClass) : false) {
      tmp = t;
    } else {
      if (!(t == null) ? isInterface(t, KTypeParameter) : false) {
        var tmp0_error = 'Captured type paramerer ' + t + ' from generic non-reified function. ' + ('Such functionality cannot be supported as ' + t + ' is erased, either specify serializer explicitly or make ') + ('calling function inline with reified ' + t);
        throw IllegalStateException_init_$Create$(toString(tmp0_error));
      } else {
        var tmp1_error = 'Only KClass supported as classifier, got ' + t;
        throw IllegalStateException_init_$Create$(toString(tmp1_error));
      }
    }
    var tmp_0 = tmp;
    return isInterface(tmp_0, KClass) ? tmp_0 : THROW_CCE();
  }
  function cachedSerialNames(_this__u8e3s4) {
    init_properties_Platform_common_kt_9ujmfm();
    if (isInterface(_this__u8e3s4, CachedNames))
      return _this__u8e3s4.lp();
    var result = HashSet_init_$Create$_1(_this__u8e3s4.ko());
    var inductionVariable = 0;
    var last = _this__u8e3s4.ko();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        {
          var tmp0_plusAssign = _this__u8e3s4.qo(i);
          result.b(tmp0_plusAssign);
        }
      }
       while (inductionVariable < last);
    return result;
  }
  var properties_initialized_Platform_common_kt_i7q4ty;
  function init_properties_Platform_common_kt_9ujmfm() {
    if (properties_initialized_Platform_common_kt_i7q4ty) {
    } else {
      properties_initialized_Platform_common_kt_i7q4ty = true;
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            tmp$ret$0 = [];
          }
          tmp$ret$1 = tmp$ret$0;
        }
        tmp$ret$2 = tmp$ret$1;
      }
      EMPTY_DESCRIPTOR_ARRAY = tmp$ret$2;
    }
  }
  function throwMissingFieldException(seen, goldenMask, descriptor) {
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    var missingFields = tmp$ret$0;
    var missingFieldsBits = goldenMask & ~seen;
    var inductionVariable = 0;
    if (inductionVariable < 32)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if (!((missingFieldsBits & 1) === 0)) {
          {
            var tmp0_plusAssign = descriptor.qo(i);
            missingFields.b(tmp0_plusAssign);
          }
        }
        missingFieldsBits = missingFieldsBits >>> 1 | 0;
      }
       while (inductionVariable < 32);
    throw MissingFieldException_init_$Create$(missingFields, descriptor.io());
  }
  function hashCodeImpl(_this__u8e3s4, typeParams) {
    var result = getStringHashCode(_this__u8e3s4.io());
    result = imul(31, result) + contentHashCode(typeParams) | 0;
    var elementDescriptors = get_elementDescriptors(_this__u8e3s4);
    var tmp$ret$4;
    {
      var tmp$ret$3;
      {
        var accumulator = 1;
        var tmp0_iterator = elementDescriptors.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$2;
          {
            var tmp0__anonymous__q1qw7t = accumulator;
            var tmp = imul(31, tmp0__anonymous__q1qw7t);
            var tmp$ret$1;
            {
              var tmp$ret$0;
              {
                tmp$ret$0 = element.io();
              }
              var tmp0_hashCode = tmp$ret$0;
              var tmp0_safe_receiver = tmp0_hashCode;
              var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : hashCode(tmp0_safe_receiver);
              tmp$ret$1 = tmp1_elvis_lhs == null ? 0 : tmp1_elvis_lhs;
            }
            tmp$ret$2 = tmp + tmp$ret$1 | 0;
          }
          accumulator = tmp$ret$2;
        }
        tmp$ret$3 = accumulator;
      }
      tmp$ret$4 = tmp$ret$3;
    }
    var namesHash = tmp$ret$4;
    var tmp$ret$9;
    {
      var tmp$ret$8;
      {
        var accumulator_0 = 1;
        var tmp0_iterator_0 = elementDescriptors.h();
        while (tmp0_iterator_0.n()) {
          var element_0 = tmp0_iterator_0.o();
          var tmp$ret$7;
          {
            var tmp0__anonymous__q1qw7t_0 = accumulator_0;
            var tmp_0 = imul(31, tmp0__anonymous__q1qw7t_0);
            var tmp$ret$6;
            {
              var tmp$ret$5;
              {
                tmp$ret$5 = element_0.mo();
              }
              var tmp0_hashCode_0 = tmp$ret$5;
              var tmp0_safe_receiver_0 = tmp0_hashCode_0;
              var tmp1_elvis_lhs_0 = tmp0_safe_receiver_0 == null ? null : hashCode(tmp0_safe_receiver_0);
              tmp$ret$6 = tmp1_elvis_lhs_0 == null ? 0 : tmp1_elvis_lhs_0;
            }
            tmp$ret$7 = tmp_0 + tmp$ret$6 | 0;
          }
          accumulator_0 = tmp$ret$7;
        }
        tmp$ret$8 = accumulator_0;
      }
      tmp$ret$9 = tmp$ret$8;
    }
    var kindHash = tmp$ret$9;
    result = imul(31, result) + namesHash | 0;
    result = imul(31, result) + kindHash | 0;
    return result;
  }
  function _get_childSerializers__7vnyfa($this) {
    var tmp$ret$0;
    {
      var tmp0_getValue = childSerializers$factory();
      tmp$ret$0 = $this.qu_1.l2();
    }
    return tmp$ret$0;
  }
  function _get__hashCode__tgwhef_0($this) {
    var tmp$ret$0;
    {
      var tmp0_getValue = _hashCode$factory_0();
      tmp$ret$0 = $this.su_1.l2();
    }
    return tmp$ret$0;
  }
  function buildIndices($this) {
    var indices = HashMap_init_$Create$();
    var inductionVariable = 0;
    var last = $this.lu_1.length - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        {
          var tmp0_set = $this.lu_1[i];
          indices.a(tmp0_set, i);
        }
      }
       while (inductionVariable <= last);
    return indices;
  }
  function PluginGeneratedSerialDescriptor$childSerializers$delegate$lambda(this$0) {
    return function () {
      var tmp0_safe_receiver = this$0.iu_1;
      var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.tu();
      return tmp1_elvis_lhs == null ? get_EMPTY_SERIALIZER_ARRAY() : tmp1_elvis_lhs;
    };
  }
  function PluginGeneratedSerialDescriptor$typeParameterDescriptors$delegate$lambda(this$0) {
    return function () {
      var tmp0_safe_receiver = this$0.iu_1;
      var tmp1_safe_receiver = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.uu();
      var tmp;
      if (tmp1_safe_receiver == null) {
        tmp = null;
      } else {
        var tmp$ret$2;
        {
          var tmp$ret$1;
          {
            var tmp0_mapTo = ArrayList_init_$Create$(tmp1_safe_receiver.length);
            var tmp0_iterator = arrayIterator(tmp1_safe_receiver);
            while (tmp0_iterator.n()) {
              var item = tmp0_iterator.o();
              var tmp$ret$0;
              {
                tmp$ret$0 = item.hn();
              }
              tmp0_mapTo.b(tmp$ret$0);
            }
            tmp$ret$1 = tmp0_mapTo;
          }
          tmp$ret$2 = tmp$ret$1;
        }
        tmp = tmp$ret$2;
      }
      return compactArray(tmp);
    };
  }
  function PluginGeneratedSerialDescriptor$_hashCode$delegate$lambda(this$0) {
    return function () {
      return hashCodeImpl(this$0, this$0.vu());
    };
  }
  function PluginGeneratedSerialDescriptor$toString$lambda(this$0) {
    return function (i) {
      return this$0.qo(i) + ': ' + this$0.oo(i).io();
    };
  }
  function PluginGeneratedSerialDescriptor(serialName, generatedSerializer, elementsCount) {
    this.hu_1 = serialName;
    this.iu_1 = generatedSerializer;
    this.ju_1 = elementsCount;
    this.ku_1 = -1;
    var tmp = this;
    var tmp_0 = 0;
    var tmp_1 = this.ju_1;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(tmp_1), null);
    }
    var tmp_2 = tmp$ret$0;
    while (tmp_0 < tmp_1) {
      var tmp_3 = tmp_0;
      var tmp$ret$1;
      {
        tmp$ret$1 = '[UNINITIALIZED]';
      }
      tmp_2[tmp_3] = tmp$ret$1;
      tmp_0 = tmp_0 + 1 | 0;
    }
    tmp.lu_1 = tmp_2;
    var tmp_4 = this;
    var tmp$ret$2;
    {
      var tmp0_arrayOfNulls = this.ju_1;
      tmp$ret$2 = fillArrayVal(Array(tmp0_arrayOfNulls), null);
    }
    tmp_4.mu_1 = tmp$ret$2;
    this.nu_1 = null;
    this.ou_1 = booleanArray(this.ju_1);
    this.pu_1 = emptyMap();
    var tmp_5 = this;
    var tmp_6 = LazyThreadSafetyMode_PUBLICATION_getInstance();
    tmp_5.qu_1 = lazy(tmp_6, PluginGeneratedSerialDescriptor$childSerializers$delegate$lambda(this));
    var tmp_7 = this;
    var tmp_8 = LazyThreadSafetyMode_PUBLICATION_getInstance();
    tmp_7.ru_1 = lazy(tmp_8, PluginGeneratedSerialDescriptor$typeParameterDescriptors$delegate$lambda(this));
    var tmp_9 = this;
    var tmp_10 = LazyThreadSafetyMode_PUBLICATION_getInstance();
    tmp_9.su_1 = lazy(tmp_10, PluginGeneratedSerialDescriptor$_hashCode$delegate$lambda(this));
  }
  PluginGeneratedSerialDescriptor.prototype.io = function () {
    return this.hu_1;
  };
  PluginGeneratedSerialDescriptor.prototype.ko = function () {
    return this.ju_1;
  };
  PluginGeneratedSerialDescriptor.prototype.mo = function () {
    return CLASS_getInstance();
  };
  PluginGeneratedSerialDescriptor.prototype.jo = function () {
    var tmp0_elvis_lhs = this.nu_1;
    return tmp0_elvis_lhs == null ? emptyList() : tmp0_elvis_lhs;
  };
  PluginGeneratedSerialDescriptor.prototype.lp = function () {
    return this.pu_1.a3();
  };
  PluginGeneratedSerialDescriptor.prototype.vu = function () {
    var tmp$ret$0;
    {
      var tmp0_getValue = typeParameterDescriptors$factory();
      tmp$ret$0 = this.ru_1.l2();
    }
    return tmp$ret$0;
  };
  PluginGeneratedSerialDescriptor.prototype.wu = function (name, isOptional) {
    var tmp0_this = this;
    tmp0_this.ku_1 = tmp0_this.ku_1 + 1 | 0;
    this.lu_1[tmp0_this.ku_1] = name;
    this.ou_1[this.ku_1] = isOptional;
    this.mu_1[this.ku_1] = null;
    if (this.ku_1 === (this.ju_1 - 1 | 0)) {
      this.pu_1 = buildIndices(this);
    }
  };
  PluginGeneratedSerialDescriptor.prototype.oo = function (index) {
    return getChecked(_get_childSerializers__7vnyfa(this), index).hn();
  };
  PluginGeneratedSerialDescriptor.prototype.ro = function (index) {
    return getChecked_0(this.ou_1, index);
  };
  PluginGeneratedSerialDescriptor.prototype.no = function (index) {
    var tmp0_elvis_lhs = getChecked(this.mu_1, index);
    return tmp0_elvis_lhs == null ? emptyList() : tmp0_elvis_lhs;
  };
  PluginGeneratedSerialDescriptor.prototype.qo = function (index) {
    return getChecked(this.lu_1, index);
  };
  PluginGeneratedSerialDescriptor.prototype.po = function (name) {
    var tmp0_elvis_lhs = this.pu_1.z2(name);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      Companion_getInstance_2();
      tmp = -3;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  };
  PluginGeneratedSerialDescriptor.prototype.equals = function (other) {
    var tmp$ret$0;
    $l$block_5: {
      if (this === other) {
        tmp$ret$0 = true;
        break $l$block_5;
      }
      if (!(other instanceof PluginGeneratedSerialDescriptor)) {
        tmp$ret$0 = false;
        break $l$block_5;
      }
      if (!(this.io() === other.io())) {
        tmp$ret$0 = false;
        break $l$block_5;
      }
      var tmp$ret$1;
      {
        var tmp0__anonymous__q1qw7t = other;
        tmp$ret$1 = contentEquals(this.vu(), tmp0__anonymous__q1qw7t.vu());
      }
      if (!tmp$ret$1) {
        tmp$ret$0 = false;
        break $l$block_5;
      }
      if (!(this.ko() === other.ko())) {
        tmp$ret$0 = false;
        break $l$block_5;
      }
      var inductionVariable = 0;
      var last = this.ko();
      if (inductionVariable < last)
        do {
          var index = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          if (!(this.oo(index).io() === other.oo(index).io())) {
            tmp$ret$0 = false;
            break $l$block_5;
          }
          if (!equals(this.oo(index).mo(), other.oo(index).mo())) {
            tmp$ret$0 = false;
            break $l$block_5;
          }
        }
         while (inductionVariable < last);
      tmp$ret$0 = true;
    }
    return tmp$ret$0;
  };
  PluginGeneratedSerialDescriptor.prototype.hashCode = function () {
    return _get__hashCode__tgwhef_0(this);
  };
  PluginGeneratedSerialDescriptor.prototype.toString = function () {
    var tmp = until(0, this.ju_1);
    var tmp_0 = this.io() + '(';
    return joinToString$default(tmp, ', ', tmp_0, ')', 0, null, PluginGeneratedSerialDescriptor$toString$lambda(this), 24, null);
  };
  PluginGeneratedSerialDescriptor.$metadata$ = classMeta('PluginGeneratedSerialDescriptor', [SerialDescriptor, CachedNames]);
  function childSerializers$factory() {
    return getPropertyCallableRef('childSerializers', 1, KProperty1, function (receiver) {
      return _get_childSerializers__7vnyfa(receiver);
    }, null);
  }
  function typeParameterDescriptors$factory() {
    return getPropertyCallableRef('typeParameterDescriptors', 1, KProperty1, function (receiver) {
      return receiver.vu();
    }, null);
  }
  function _hashCode$factory_0() {
    return getPropertyCallableRef('_hashCode', 1, KProperty1, function (receiver) {
      return _get__hashCode__tgwhef_0(receiver);
    }, null);
  }
  function get_EMPTY_SERIALIZER_ARRAY() {
    init_properties_PluginHelperInterfaces_kt_tblf27();
    return EMPTY_SERIALIZER_ARRAY;
  }
  var EMPTY_SERIALIZER_ARRAY;
  function GeneratedSerializer() {
  }
  GeneratedSerializer.$metadata$ = interfaceMeta('GeneratedSerializer', [KSerializer]);
  function SerializerFactory() {
  }
  SerializerFactory.$metadata$ = interfaceMeta('SerializerFactory');
  var properties_initialized_PluginHelperInterfaces_kt_ap8in1;
  function init_properties_PluginHelperInterfaces_kt_tblf27() {
    if (properties_initialized_PluginHelperInterfaces_kt_ap8in1) {
    } else {
      properties_initialized_PluginHelperInterfaces_kt_ap8in1 = true;
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            tmp$ret$0 = [];
          }
          tmp$ret$1 = tmp$ret$0;
        }
        tmp$ret$2 = tmp$ret$1;
      }
      EMPTY_SERIALIZER_ARRAY = tmp$ret$2;
    }
  }
  function CharArraySerializer_0() {
    CharArraySerializer_instance = this;
    PrimitiveArraySerializer.call(this, serializer_2(Companion_getInstance_1()));
  }
  CharArraySerializer_0.prototype.av = function (_this__u8e3s4) {
    return new CharArrayBuilder(_this__u8e3s4);
  };
  CharArraySerializer_0.prototype.xr = function (_this__u8e3s4) {
    return this.av((!(_this__u8e3s4 == null) ? isCharArray(_this__u8e3s4) : false) ? _this__u8e3s4 : THROW_CCE());
  };
  CharArraySerializer_0.prototype.wr = function () {
    return charArray(0);
  };
  CharArraySerializer_0.prototype.bv = function (decoder, index, builder, checkIndex) {
    builder.ev(decoder.jq(this.hn(), index));
  };
  CharArraySerializer_0.prototype.yr = function (decoder, index, builder, checkIndex) {
    return this.bv(decoder, index, builder instanceof CharArrayBuilder ? builder : THROW_CCE(), checkIndex);
  };
  CharArraySerializer_0.$metadata$ = objectMeta('CharArraySerializer', [KSerializer], undefined, undefined, undefined, PrimitiveArraySerializer.prototype);
  var CharArraySerializer_instance;
  function CharArraySerializer_getInstance() {
    if (CharArraySerializer_instance == null)
      new CharArraySerializer_0();
    return CharArraySerializer_instance;
  }
  function DoubleArraySerializer_0() {
    DoubleArraySerializer_instance = this;
    PrimitiveArraySerializer.call(this, serializer_3(DoubleCompanionObject_getInstance()));
  }
  DoubleArraySerializer_0.prototype.hv = function (_this__u8e3s4) {
    return new DoubleArrayBuilder(_this__u8e3s4);
  };
  DoubleArraySerializer_0.prototype.xr = function (_this__u8e3s4) {
    return this.hv((!(_this__u8e3s4 == null) ? isDoubleArray(_this__u8e3s4) : false) ? _this__u8e3s4 : THROW_CCE());
  };
  DoubleArraySerializer_0.prototype.wr = function () {
    return new Float64Array(0);
  };
  DoubleArraySerializer_0.prototype.iv = function (decoder, index, builder, checkIndex) {
    builder.lv(decoder.iq(this.hn(), index));
  };
  DoubleArraySerializer_0.prototype.yr = function (decoder, index, builder, checkIndex) {
    return this.iv(decoder, index, builder instanceof DoubleArrayBuilder ? builder : THROW_CCE(), checkIndex);
  };
  DoubleArraySerializer_0.$metadata$ = objectMeta('DoubleArraySerializer', [KSerializer], undefined, undefined, undefined, PrimitiveArraySerializer.prototype);
  var DoubleArraySerializer_instance;
  function DoubleArraySerializer_getInstance() {
    if (DoubleArraySerializer_instance == null)
      new DoubleArraySerializer_0();
    return DoubleArraySerializer_instance;
  }
  function FloatArraySerializer_0() {
    FloatArraySerializer_instance = this;
    PrimitiveArraySerializer.call(this, serializer_4(FloatCompanionObject_getInstance()));
  }
  FloatArraySerializer_0.prototype.ov = function (_this__u8e3s4) {
    return new FloatArrayBuilder(_this__u8e3s4);
  };
  FloatArraySerializer_0.prototype.xr = function (_this__u8e3s4) {
    return this.ov((!(_this__u8e3s4 == null) ? isFloatArray(_this__u8e3s4) : false) ? _this__u8e3s4 : THROW_CCE());
  };
  FloatArraySerializer_0.prototype.wr = function () {
    return new Float32Array(0);
  };
  FloatArraySerializer_0.prototype.pv = function (decoder, index, builder, checkIndex) {
    builder.sv(decoder.hq(this.hn(), index));
  };
  FloatArraySerializer_0.prototype.yr = function (decoder, index, builder, checkIndex) {
    return this.pv(decoder, index, builder instanceof FloatArrayBuilder ? builder : THROW_CCE(), checkIndex);
  };
  FloatArraySerializer_0.$metadata$ = objectMeta('FloatArraySerializer', [KSerializer], undefined, undefined, undefined, PrimitiveArraySerializer.prototype);
  var FloatArraySerializer_instance;
  function FloatArraySerializer_getInstance() {
    if (FloatArraySerializer_instance == null)
      new FloatArraySerializer_0();
    return FloatArraySerializer_instance;
  }
  function LongArraySerializer_0() {
    LongArraySerializer_instance = this;
    PrimitiveArraySerializer.call(this, serializer_5(Companion_getInstance_0()));
  }
  LongArraySerializer_0.prototype.vv = function (_this__u8e3s4) {
    return new LongArrayBuilder(_this__u8e3s4);
  };
  LongArraySerializer_0.prototype.xr = function (_this__u8e3s4) {
    return this.vv((!(_this__u8e3s4 == null) ? isLongArray(_this__u8e3s4) : false) ? _this__u8e3s4 : THROW_CCE());
  };
  LongArraySerializer_0.prototype.wr = function () {
    return longArray(0);
  };
  LongArraySerializer_0.prototype.wv = function (decoder, index, builder, checkIndex) {
    builder.zv(decoder.gq(this.hn(), index));
  };
  LongArraySerializer_0.prototype.yr = function (decoder, index, builder, checkIndex) {
    return this.wv(decoder, index, builder instanceof LongArrayBuilder ? builder : THROW_CCE(), checkIndex);
  };
  LongArraySerializer_0.$metadata$ = objectMeta('LongArraySerializer', [KSerializer], undefined, undefined, undefined, PrimitiveArraySerializer.prototype);
  var LongArraySerializer_instance;
  function LongArraySerializer_getInstance() {
    if (LongArraySerializer_instance == null)
      new LongArraySerializer_0();
    return LongArraySerializer_instance;
  }
  function IntArraySerializer_0() {
    IntArraySerializer_instance = this;
    PrimitiveArraySerializer.call(this, serializer_6(IntCompanionObject_getInstance()));
  }
  IntArraySerializer_0.prototype.cw = function (_this__u8e3s4) {
    return new IntArrayBuilder(_this__u8e3s4);
  };
  IntArraySerializer_0.prototype.xr = function (_this__u8e3s4) {
    return this.cw((!(_this__u8e3s4 == null) ? isIntArray(_this__u8e3s4) : false) ? _this__u8e3s4 : THROW_CCE());
  };
  IntArraySerializer_0.prototype.wr = function () {
    return new Int32Array(0);
  };
  IntArraySerializer_0.prototype.dw = function (decoder, index, builder, checkIndex) {
    builder.gw(decoder.fq(this.hn(), index));
  };
  IntArraySerializer_0.prototype.yr = function (decoder, index, builder, checkIndex) {
    return this.dw(decoder, index, builder instanceof IntArrayBuilder ? builder : THROW_CCE(), checkIndex);
  };
  IntArraySerializer_0.$metadata$ = objectMeta('IntArraySerializer', [KSerializer], undefined, undefined, undefined, PrimitiveArraySerializer.prototype);
  var IntArraySerializer_instance;
  function IntArraySerializer_getInstance() {
    if (IntArraySerializer_instance == null)
      new IntArraySerializer_0();
    return IntArraySerializer_instance;
  }
  function ShortArraySerializer_0() {
    ShortArraySerializer_instance = this;
    PrimitiveArraySerializer.call(this, serializer_7(ShortCompanionObject_getInstance()));
  }
  ShortArraySerializer_0.prototype.jw = function (_this__u8e3s4) {
    return new ShortArrayBuilder(_this__u8e3s4);
  };
  ShortArraySerializer_0.prototype.xr = function (_this__u8e3s4) {
    return this.jw((!(_this__u8e3s4 == null) ? isShortArray(_this__u8e3s4) : false) ? _this__u8e3s4 : THROW_CCE());
  };
  ShortArraySerializer_0.prototype.wr = function () {
    return new Int16Array(0);
  };
  ShortArraySerializer_0.prototype.kw = function (decoder, index, builder, checkIndex) {
    builder.nw(decoder.eq(this.hn(), index));
  };
  ShortArraySerializer_0.prototype.yr = function (decoder, index, builder, checkIndex) {
    return this.kw(decoder, index, builder instanceof ShortArrayBuilder ? builder : THROW_CCE(), checkIndex);
  };
  ShortArraySerializer_0.$metadata$ = objectMeta('ShortArraySerializer', [KSerializer], undefined, undefined, undefined, PrimitiveArraySerializer.prototype);
  var ShortArraySerializer_instance;
  function ShortArraySerializer_getInstance() {
    if (ShortArraySerializer_instance == null)
      new ShortArraySerializer_0();
    return ShortArraySerializer_instance;
  }
  function ByteArraySerializer_0() {
    ByteArraySerializer_instance = this;
    PrimitiveArraySerializer.call(this, serializer_8(ByteCompanionObject_getInstance()));
  }
  ByteArraySerializer_0.prototype.qw = function (_this__u8e3s4) {
    return new ByteArrayBuilder(_this__u8e3s4);
  };
  ByteArraySerializer_0.prototype.xr = function (_this__u8e3s4) {
    return this.qw((!(_this__u8e3s4 == null) ? isByteArray(_this__u8e3s4) : false) ? _this__u8e3s4 : THROW_CCE());
  };
  ByteArraySerializer_0.prototype.wr = function () {
    return new Int8Array(0);
  };
  ByteArraySerializer_0.prototype.rw = function (decoder, index, builder, checkIndex) {
    builder.uw(decoder.dq(this.hn(), index));
  };
  ByteArraySerializer_0.prototype.yr = function (decoder, index, builder, checkIndex) {
    return this.rw(decoder, index, builder instanceof ByteArrayBuilder ? builder : THROW_CCE(), checkIndex);
  };
  ByteArraySerializer_0.$metadata$ = objectMeta('ByteArraySerializer', [KSerializer], undefined, undefined, undefined, PrimitiveArraySerializer.prototype);
  var ByteArraySerializer_instance;
  function ByteArraySerializer_getInstance() {
    if (ByteArraySerializer_instance == null)
      new ByteArraySerializer_0();
    return ByteArraySerializer_instance;
  }
  function BooleanArraySerializer_0() {
    BooleanArraySerializer_instance = this;
    PrimitiveArraySerializer.call(this, serializer_9(BooleanCompanionObject_getInstance()));
  }
  BooleanArraySerializer_0.prototype.xw = function (_this__u8e3s4) {
    return new BooleanArrayBuilder(_this__u8e3s4);
  };
  BooleanArraySerializer_0.prototype.xr = function (_this__u8e3s4) {
    return this.xw((!(_this__u8e3s4 == null) ? isBooleanArray(_this__u8e3s4) : false) ? _this__u8e3s4 : THROW_CCE());
  };
  BooleanArraySerializer_0.prototype.wr = function () {
    return booleanArray(0);
  };
  BooleanArraySerializer_0.prototype.yw = function (decoder, index, builder, checkIndex) {
    builder.bx(decoder.cq(this.hn(), index));
  };
  BooleanArraySerializer_0.prototype.yr = function (decoder, index, builder, checkIndex) {
    return this.yw(decoder, index, builder instanceof BooleanArrayBuilder ? builder : THROW_CCE(), checkIndex);
  };
  BooleanArraySerializer_0.$metadata$ = objectMeta('BooleanArraySerializer', [KSerializer], undefined, undefined, undefined, PrimitiveArraySerializer.prototype);
  var BooleanArraySerializer_instance;
  function BooleanArraySerializer_getInstance() {
    if (BooleanArraySerializer_instance == null)
      new BooleanArraySerializer_0();
    return BooleanArraySerializer_instance;
  }
  function CharArrayBuilder(bufferWithData) {
    PrimitiveArrayBuilder.call(this);
    this.cv_1 = bufferWithData;
    this.dv_1 = bufferWithData.length;
    this.wf(10);
  }
  CharArrayBuilder.prototype.qr = function () {
    return this.dv_1;
  };
  CharArrayBuilder.prototype.wf = function (requiredCapacity) {
    if (this.cv_1.length < requiredCapacity)
      this.cv_1 = copyOf(this.cv_1, coerceAtLeast(requiredCapacity, imul(this.cv_1.length, 2)));
  };
  CharArrayBuilder.prototype.ev = function (c) {
    this.ds(0, 1, null);
    var tmp = this.cv_1;
    var tmp0_this = this;
    var tmp1 = tmp0_this.dv_1;
    tmp0_this.dv_1 = tmp1 + 1 | 0;
    tmp[tmp1] = c;
  };
  CharArrayBuilder.prototype.sr = function () {
    return copyOf(this.cv_1, this.dv_1);
  };
  CharArrayBuilder.$metadata$ = classMeta('CharArrayBuilder', undefined, undefined, undefined, undefined, PrimitiveArrayBuilder.prototype);
  function DoubleArrayBuilder(bufferWithData) {
    PrimitiveArrayBuilder.call(this);
    this.jv_1 = bufferWithData;
    this.kv_1 = bufferWithData.length;
    this.wf(10);
  }
  DoubleArrayBuilder.prototype.qr = function () {
    return this.kv_1;
  };
  DoubleArrayBuilder.prototype.wf = function (requiredCapacity) {
    if (this.jv_1.length < requiredCapacity)
      this.jv_1 = copyOf_0(this.jv_1, coerceAtLeast(requiredCapacity, imul(this.jv_1.length, 2)));
  };
  DoubleArrayBuilder.prototype.lv = function (c) {
    this.ds(0, 1, null);
    var tmp = this.jv_1;
    var tmp0_this = this;
    var tmp1 = tmp0_this.kv_1;
    tmp0_this.kv_1 = tmp1 + 1 | 0;
    tmp[tmp1] = c;
  };
  DoubleArrayBuilder.prototype.sr = function () {
    return copyOf_0(this.jv_1, this.kv_1);
  };
  DoubleArrayBuilder.$metadata$ = classMeta('DoubleArrayBuilder', undefined, undefined, undefined, undefined, PrimitiveArrayBuilder.prototype);
  function FloatArrayBuilder(bufferWithData) {
    PrimitiveArrayBuilder.call(this);
    this.qv_1 = bufferWithData;
    this.rv_1 = bufferWithData.length;
    this.wf(10);
  }
  FloatArrayBuilder.prototype.qr = function () {
    return this.rv_1;
  };
  FloatArrayBuilder.prototype.wf = function (requiredCapacity) {
    if (this.qv_1.length < requiredCapacity)
      this.qv_1 = copyOf_1(this.qv_1, coerceAtLeast(requiredCapacity, imul(this.qv_1.length, 2)));
  };
  FloatArrayBuilder.prototype.sv = function (c) {
    this.ds(0, 1, null);
    var tmp = this.qv_1;
    var tmp0_this = this;
    var tmp1 = tmp0_this.rv_1;
    tmp0_this.rv_1 = tmp1 + 1 | 0;
    tmp[tmp1] = c;
  };
  FloatArrayBuilder.prototype.sr = function () {
    return copyOf_1(this.qv_1, this.rv_1);
  };
  FloatArrayBuilder.$metadata$ = classMeta('FloatArrayBuilder', undefined, undefined, undefined, undefined, PrimitiveArrayBuilder.prototype);
  function LongArrayBuilder(bufferWithData) {
    PrimitiveArrayBuilder.call(this);
    this.xv_1 = bufferWithData;
    this.yv_1 = bufferWithData.length;
    this.wf(10);
  }
  LongArrayBuilder.prototype.qr = function () {
    return this.yv_1;
  };
  LongArrayBuilder.prototype.wf = function (requiredCapacity) {
    if (this.xv_1.length < requiredCapacity)
      this.xv_1 = copyOf_2(this.xv_1, coerceAtLeast(requiredCapacity, imul(this.xv_1.length, 2)));
  };
  LongArrayBuilder.prototype.zv = function (c) {
    this.ds(0, 1, null);
    var tmp = this.xv_1;
    var tmp0_this = this;
    var tmp1 = tmp0_this.yv_1;
    tmp0_this.yv_1 = tmp1 + 1 | 0;
    tmp[tmp1] = c;
  };
  LongArrayBuilder.prototype.sr = function () {
    return copyOf_2(this.xv_1, this.yv_1);
  };
  LongArrayBuilder.$metadata$ = classMeta('LongArrayBuilder', undefined, undefined, undefined, undefined, PrimitiveArrayBuilder.prototype);
  function IntArrayBuilder(bufferWithData) {
    PrimitiveArrayBuilder.call(this);
    this.ew_1 = bufferWithData;
    this.fw_1 = bufferWithData.length;
    this.wf(10);
  }
  IntArrayBuilder.prototype.qr = function () {
    return this.fw_1;
  };
  IntArrayBuilder.prototype.wf = function (requiredCapacity) {
    if (this.ew_1.length < requiredCapacity)
      this.ew_1 = copyOf_3(this.ew_1, coerceAtLeast(requiredCapacity, imul(this.ew_1.length, 2)));
  };
  IntArrayBuilder.prototype.gw = function (c) {
    this.ds(0, 1, null);
    var tmp = this.ew_1;
    var tmp0_this = this;
    var tmp1 = tmp0_this.fw_1;
    tmp0_this.fw_1 = tmp1 + 1 | 0;
    tmp[tmp1] = c;
  };
  IntArrayBuilder.prototype.sr = function () {
    return copyOf_3(this.ew_1, this.fw_1);
  };
  IntArrayBuilder.$metadata$ = classMeta('IntArrayBuilder', undefined, undefined, undefined, undefined, PrimitiveArrayBuilder.prototype);
  function ShortArrayBuilder(bufferWithData) {
    PrimitiveArrayBuilder.call(this);
    this.lw_1 = bufferWithData;
    this.mw_1 = bufferWithData.length;
    this.wf(10);
  }
  ShortArrayBuilder.prototype.qr = function () {
    return this.mw_1;
  };
  ShortArrayBuilder.prototype.wf = function (requiredCapacity) {
    if (this.lw_1.length < requiredCapacity)
      this.lw_1 = copyOf_4(this.lw_1, coerceAtLeast(requiredCapacity, imul(this.lw_1.length, 2)));
  };
  ShortArrayBuilder.prototype.nw = function (c) {
    this.ds(0, 1, null);
    var tmp = this.lw_1;
    var tmp0_this = this;
    var tmp1 = tmp0_this.mw_1;
    tmp0_this.mw_1 = tmp1 + 1 | 0;
    tmp[tmp1] = c;
  };
  ShortArrayBuilder.prototype.sr = function () {
    return copyOf_4(this.lw_1, this.mw_1);
  };
  ShortArrayBuilder.$metadata$ = classMeta('ShortArrayBuilder', undefined, undefined, undefined, undefined, PrimitiveArrayBuilder.prototype);
  function ByteArrayBuilder(bufferWithData) {
    PrimitiveArrayBuilder.call(this);
    this.sw_1 = bufferWithData;
    this.tw_1 = bufferWithData.length;
    this.wf(10);
  }
  ByteArrayBuilder.prototype.qr = function () {
    return this.tw_1;
  };
  ByteArrayBuilder.prototype.wf = function (requiredCapacity) {
    if (this.sw_1.length < requiredCapacity)
      this.sw_1 = copyOf_5(this.sw_1, coerceAtLeast(requiredCapacity, imul(this.sw_1.length, 2)));
  };
  ByteArrayBuilder.prototype.uw = function (c) {
    this.ds(0, 1, null);
    var tmp = this.sw_1;
    var tmp0_this = this;
    var tmp1 = tmp0_this.tw_1;
    tmp0_this.tw_1 = tmp1 + 1 | 0;
    tmp[tmp1] = c;
  };
  ByteArrayBuilder.prototype.sr = function () {
    return copyOf_5(this.sw_1, this.tw_1);
  };
  ByteArrayBuilder.$metadata$ = classMeta('ByteArrayBuilder', undefined, undefined, undefined, undefined, PrimitiveArrayBuilder.prototype);
  function BooleanArrayBuilder(bufferWithData) {
    PrimitiveArrayBuilder.call(this);
    this.zw_1 = bufferWithData;
    this.ax_1 = bufferWithData.length;
    this.wf(10);
  }
  BooleanArrayBuilder.prototype.qr = function () {
    return this.ax_1;
  };
  BooleanArrayBuilder.prototype.wf = function (requiredCapacity) {
    if (this.zw_1.length < requiredCapacity)
      this.zw_1 = copyOf_6(this.zw_1, coerceAtLeast(requiredCapacity, imul(this.zw_1.length, 2)));
  };
  BooleanArrayBuilder.prototype.bx = function (c) {
    this.ds(0, 1, null);
    var tmp = this.zw_1;
    var tmp0_this = this;
    var tmp1 = tmp0_this.ax_1;
    tmp0_this.ax_1 = tmp1 + 1 | 0;
    tmp[tmp1] = c;
  };
  BooleanArrayBuilder.prototype.sr = function () {
    return copyOf_6(this.zw_1, this.ax_1);
  };
  BooleanArrayBuilder.$metadata$ = classMeta('BooleanArrayBuilder', undefined, undefined, undefined, undefined, PrimitiveArrayBuilder.prototype);
  function get_BUILTIN_SERIALIZERS() {
    init_properties_Primitives_kt_u7dn2q();
    return BUILTIN_SERIALIZERS;
  }
  var BUILTIN_SERIALIZERS;
  function StringSerializer() {
    StringSerializer_instance = this;
    this.cx_1 = new PrimitiveSerialDescriptor_0('kotlin.String', STRING_getInstance());
  }
  StringSerializer.prototype.hn = function () {
    return this.cx_1;
  };
  StringSerializer.prototype.in = function (decoder) {
    return decoder.xp();
  };
  StringSerializer.$metadata$ = objectMeta('StringSerializer', [KSerializer]);
  var StringSerializer_instance;
  function StringSerializer_getInstance() {
    if (StringSerializer_instance == null)
      new StringSerializer();
    return StringSerializer_instance;
  }
  function CharSerializer() {
    CharSerializer_instance = this;
    this.dx_1 = new PrimitiveSerialDescriptor_0('kotlin.Char', CHAR_getInstance());
  }
  CharSerializer.prototype.hn = function () {
    return this.dx_1;
  };
  CharSerializer.prototype.ex = function (decoder) {
    return decoder.wp();
  };
  CharSerializer.prototype.in = function (decoder) {
    return new Char(this.ex(decoder));
  };
  CharSerializer.$metadata$ = objectMeta('CharSerializer', [KSerializer]);
  var CharSerializer_instance;
  function CharSerializer_getInstance() {
    if (CharSerializer_instance == null)
      new CharSerializer();
    return CharSerializer_instance;
  }
  function DoubleSerializer() {
    DoubleSerializer_instance = this;
    this.fx_1 = new PrimitiveSerialDescriptor_0('kotlin.Double', DOUBLE_getInstance());
  }
  DoubleSerializer.prototype.hn = function () {
    return this.fx_1;
  };
  DoubleSerializer.prototype.in = function (decoder) {
    return decoder.vp();
  };
  DoubleSerializer.$metadata$ = objectMeta('DoubleSerializer', [KSerializer]);
  var DoubleSerializer_instance;
  function DoubleSerializer_getInstance() {
    if (DoubleSerializer_instance == null)
      new DoubleSerializer();
    return DoubleSerializer_instance;
  }
  function FloatSerializer() {
    FloatSerializer_instance = this;
    this.gx_1 = new PrimitiveSerialDescriptor_0('kotlin.Float', FLOAT_getInstance());
  }
  FloatSerializer.prototype.hn = function () {
    return this.gx_1;
  };
  FloatSerializer.prototype.in = function (decoder) {
    return decoder.up();
  };
  FloatSerializer.$metadata$ = objectMeta('FloatSerializer', [KSerializer]);
  var FloatSerializer_instance;
  function FloatSerializer_getInstance() {
    if (FloatSerializer_instance == null)
      new FloatSerializer();
    return FloatSerializer_instance;
  }
  function LongSerializer() {
    LongSerializer_instance = this;
    this.hx_1 = new PrimitiveSerialDescriptor_0('kotlin.Long', LONG_getInstance());
  }
  LongSerializer.prototype.hn = function () {
    return this.hx_1;
  };
  LongSerializer.prototype.in = function (decoder) {
    return decoder.tp();
  };
  LongSerializer.$metadata$ = objectMeta('LongSerializer', [KSerializer]);
  var LongSerializer_instance;
  function LongSerializer_getInstance() {
    if (LongSerializer_instance == null)
      new LongSerializer();
    return LongSerializer_instance;
  }
  function IntSerializer() {
    IntSerializer_instance = this;
    this.ix_1 = new PrimitiveSerialDescriptor_0('kotlin.Int', INT_getInstance());
  }
  IntSerializer.prototype.hn = function () {
    return this.ix_1;
  };
  IntSerializer.prototype.in = function (decoder) {
    return decoder.sp();
  };
  IntSerializer.$metadata$ = objectMeta('IntSerializer', [KSerializer]);
  var IntSerializer_instance;
  function IntSerializer_getInstance() {
    if (IntSerializer_instance == null)
      new IntSerializer();
    return IntSerializer_instance;
  }
  function ShortSerializer() {
    ShortSerializer_instance = this;
    this.jx_1 = new PrimitiveSerialDescriptor_0('kotlin.Short', SHORT_getInstance());
  }
  ShortSerializer.prototype.hn = function () {
    return this.jx_1;
  };
  ShortSerializer.prototype.in = function (decoder) {
    return decoder.rp();
  };
  ShortSerializer.$metadata$ = objectMeta('ShortSerializer', [KSerializer]);
  var ShortSerializer_instance;
  function ShortSerializer_getInstance() {
    if (ShortSerializer_instance == null)
      new ShortSerializer();
    return ShortSerializer_instance;
  }
  function ByteSerializer() {
    ByteSerializer_instance = this;
    this.kx_1 = new PrimitiveSerialDescriptor_0('kotlin.Byte', BYTE_getInstance());
  }
  ByteSerializer.prototype.hn = function () {
    return this.kx_1;
  };
  ByteSerializer.prototype.in = function (decoder) {
    return decoder.qp();
  };
  ByteSerializer.$metadata$ = objectMeta('ByteSerializer', [KSerializer]);
  var ByteSerializer_instance;
  function ByteSerializer_getInstance() {
    if (ByteSerializer_instance == null)
      new ByteSerializer();
    return ByteSerializer_instance;
  }
  function BooleanSerializer() {
    BooleanSerializer_instance = this;
    this.lx_1 = new PrimitiveSerialDescriptor_0('kotlin.Boolean', BOOLEAN_getInstance());
  }
  BooleanSerializer.prototype.hn = function () {
    return this.lx_1;
  };
  BooleanSerializer.prototype.in = function (decoder) {
    return decoder.pp();
  };
  BooleanSerializer.$metadata$ = objectMeta('BooleanSerializer', [KSerializer]);
  var BooleanSerializer_instance;
  function BooleanSerializer_getInstance() {
    if (BooleanSerializer_instance == null)
      new BooleanSerializer();
    return BooleanSerializer_instance;
  }
  function UnitSerializer() {
    UnitSerializer_instance = this;
    this.mx_1 = new ObjectSerializer('kotlin.Unit', Unit_getInstance());
  }
  UnitSerializer.prototype.hn = function () {
    return this.mx_1.hn();
  };
  UnitSerializer.prototype.nx = function (decoder) {
    this.mx_1.in(decoder);
  };
  UnitSerializer.prototype.in = function (decoder) {
    this.nx(decoder);
    return Unit_getInstance();
  };
  UnitSerializer.$metadata$ = objectMeta('UnitSerializer', [KSerializer]);
  var UnitSerializer_instance;
  function UnitSerializer_getInstance() {
    if (UnitSerializer_instance == null)
      new UnitSerializer();
    return UnitSerializer_instance;
  }
  function error($this) {
    throw IllegalStateException_init_$Create$('Primitive descriptor does not have elements');
  }
  function PrimitiveSerialDescriptor_0(serialName, kind) {
    this.ox_1 = serialName;
    this.px_1 = kind;
  }
  PrimitiveSerialDescriptor_0.prototype.io = function () {
    return this.ox_1;
  };
  PrimitiveSerialDescriptor_0.prototype.mo = function () {
    return this.px_1;
  };
  PrimitiveSerialDescriptor_0.prototype.ko = function () {
    return 0;
  };
  PrimitiveSerialDescriptor_0.prototype.qo = function (index) {
    error(this);
  };
  PrimitiveSerialDescriptor_0.prototype.po = function (name) {
    error(this);
  };
  PrimitiveSerialDescriptor_0.prototype.ro = function (index) {
    error(this);
  };
  PrimitiveSerialDescriptor_0.prototype.oo = function (index) {
    error(this);
  };
  PrimitiveSerialDescriptor_0.prototype.no = function (index) {
    error(this);
  };
  PrimitiveSerialDescriptor_0.prototype.toString = function () {
    return 'PrimitiveDescriptor(' + this.ox_1 + ')';
  };
  PrimitiveSerialDescriptor_0.$metadata$ = classMeta('PrimitiveSerialDescriptor', [SerialDescriptor]);
  function builtinSerializerOrNull(_this__u8e3s4) {
    init_properties_Primitives_kt_u7dn2q();
    var tmp = get_BUILTIN_SERIALIZERS().z2(_this__u8e3s4);
    return (tmp == null ? true : isInterface(tmp, KSerializer)) ? tmp : THROW_CCE();
  }
  function PrimitiveDescriptorSafe(serialName, kind) {
    init_properties_Primitives_kt_u7dn2q();
    checkName(serialName);
    return new PrimitiveSerialDescriptor_0(serialName, kind);
  }
  function checkName(serialName) {
    init_properties_Primitives_kt_u7dn2q();
    var keys = get_BUILTIN_SERIALIZERS().a3();
    var tmp0_iterator = keys.h();
    while (tmp0_iterator.n()) {
      var primitive = tmp0_iterator.o();
      var simpleName = capitalize(ensureNotNull(primitive.ei()));
      var qualifiedName = 'kotlin.' + simpleName;
      if (equals_0(serialName, qualifiedName, true) ? true : equals_0(serialName, simpleName, true)) {
        throw IllegalArgumentException_init_$Create$(trimIndent('\n                The name of serial descriptor should uniquely identify associated serializer.\n                For serial name ' + serialName + ' there already exist ' + capitalize(simpleName) + 'Serializer.\n                Please refer to SerialDescriptor documentation for additional information.\n            '));
      }
    }
  }
  function capitalize(_this__u8e3s4) {
    init_properties_Primitives_kt_u7dn2q();
    var tmp$ret$4;
    {
      var tmp;
      var tmp$ret$0;
      {
        tmp$ret$0 = charSequenceLength(_this__u8e3s4) > 0;
      }
      if (tmp$ret$0) {
        var tmp$ret$1;
        {
          var tmp0__anonymous__q1qw7t = charSequenceGet(_this__u8e3s4, 0);
          tmp$ret$1 = isLowerCase(tmp0__anonymous__q1qw7t) ? titlecase(tmp0__anonymous__q1qw7t) : toString_0(tmp0__anonymous__q1qw7t);
        }
        var tmp_0 = toString(tmp$ret$1);
        var tmp$ret$3;
        {
          var tmp$ret$2;
          {
            tmp$ret$2 = _this__u8e3s4;
          }
          tmp$ret$3 = tmp$ret$2.substring(1);
        }
        tmp = tmp_0 + tmp$ret$3;
      } else {
        tmp = _this__u8e3s4;
      }
      tmp$ret$4 = tmp;
    }
    return tmp$ret$4;
  }
  var properties_initialized_Primitives_kt_6dpii6;
  function init_properties_Primitives_kt_u7dn2q() {
    if (properties_initialized_Primitives_kt_6dpii6) {
    } else {
      properties_initialized_Primitives_kt_6dpii6 = true;
      BUILTIN_SERIALIZERS = mapOf([to(PrimitiveClasses_getInstance().wj(), serializer_1(StringCompanionObject_getInstance())), to(getKClass(Char), serializer_2(Companion_getInstance_1())), to(PrimitiveClasses_getInstance().zj(), CharArraySerializer()), to(PrimitiveClasses_getInstance().uj(), serializer_3(DoubleCompanionObject_getInstance())), to(PrimitiveClasses_getInstance().fk(), DoubleArraySerializer()), to(PrimitiveClasses_getInstance().tj(), serializer_4(FloatCompanionObject_getInstance())), to(PrimitiveClasses_getInstance().ek(), FloatArraySerializer()), to(getKClass(Long), serializer_5(Companion_getInstance_0())), to(PrimitiveClasses_getInstance().dk(), LongArraySerializer()), to(PrimitiveClasses_getInstance().sj(), serializer_6(IntCompanionObject_getInstance())), to(PrimitiveClasses_getInstance().ck(), IntArraySerializer()), to(PrimitiveClasses_getInstance().rj(), serializer_7(ShortCompanionObject_getInstance())), to(PrimitiveClasses_getInstance().bk(), ShortArraySerializer()), to(PrimitiveClasses_getInstance().qj(), serializer_8(ByteCompanionObject_getInstance())), to(PrimitiveClasses_getInstance().ak(), ByteArraySerializer()), to(PrimitiveClasses_getInstance().pj(), serializer_9(BooleanCompanionObject_getInstance())), to(PrimitiveClasses_getInstance().yj(), BooleanArraySerializer()), to(getKClass(Unit), serializer_10(Unit_getInstance())), to(getKClass(Duration), serializer_11(Companion_getInstance()))]);
    }
  }
  function NamedValueDecoder() {
    TaggedDecoder.call(this);
  }
  NamedValueDecoder.prototype.sx = function (_this__u8e3s4, index) {
    return this.ux(this.tx(_this__u8e3s4, index));
  };
  NamedValueDecoder.prototype.ux = function (nestedName) {
    var tmp0_elvis_lhs = this.xx();
    return this.yx(tmp0_elvis_lhs == null ? '' : tmp0_elvis_lhs, nestedName);
  };
  NamedValueDecoder.prototype.tx = function (desc, index) {
    return desc.qo(index);
  };
  NamedValueDecoder.prototype.yx = function (parentName, childName) {
    var tmp;
    var tmp$ret$0;
    {
      tmp$ret$0 = charSequenceLength(parentName) === 0;
    }
    if (tmp$ret$0) {
      tmp = childName;
    } else {
      tmp = parentName + '.' + childName;
    }
    return tmp;
  };
  NamedValueDecoder.$metadata$ = classMeta('NamedValueDecoder', undefined, undefined, undefined, undefined, TaggedDecoder.prototype);
  function tagBlock($this, tag, block) {
    $this.ky(tag);
    var r = block();
    if (!$this.wx_1) {
      $this.ly();
    }
    $this.wx_1 = false;
    return r;
  }
  function TaggedDecoder$decodeSerializableElement$lambda(this$0, $deserializer, $previousValue) {
    return function () {
      return this$0.yp($deserializer, $previousValue);
    };
  }
  function TaggedDecoder() {
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$_0();
    }
    tmp.vx_1 = tmp$ret$0;
    this.wx_1 = false;
  }
  TaggedDecoder.prototype.yn = function () {
    return EmptySerializersModule_0();
  };
  TaggedDecoder.prototype.zx = function (tag) {
    throw SerializationException_init_$Create$('' + getKClassFromExpression(this) + " can't retrieve untyped values");
  };
  TaggedDecoder.prototype.ay = function (tag) {
    return true;
  };
  TaggedDecoder.prototype.by = function (tag) {
    var tmp = this.zx(tag);
    return typeof tmp === 'boolean' ? tmp : THROW_CCE();
  };
  TaggedDecoder.prototype.cy = function (tag) {
    var tmp = this.zx(tag);
    return typeof tmp === 'number' ? tmp : THROW_CCE();
  };
  TaggedDecoder.prototype.dy = function (tag) {
    var tmp = this.zx(tag);
    return typeof tmp === 'number' ? tmp : THROW_CCE();
  };
  TaggedDecoder.prototype.ey = function (tag) {
    var tmp = this.zx(tag);
    return typeof tmp === 'number' ? tmp : THROW_CCE();
  };
  TaggedDecoder.prototype.fy = function (tag) {
    var tmp = this.zx(tag);
    return tmp instanceof Long ? tmp : THROW_CCE();
  };
  TaggedDecoder.prototype.gy = function (tag) {
    var tmp = this.zx(tag);
    return typeof tmp === 'number' ? tmp : THROW_CCE();
  };
  TaggedDecoder.prototype.hy = function (tag) {
    var tmp = this.zx(tag);
    return typeof tmp === 'number' ? tmp : THROW_CCE();
  };
  TaggedDecoder.prototype.iy = function (tag) {
    var tmp = this.zx(tag);
    return tmp instanceof Char ? tmp.n1_1 : THROW_CCE();
  };
  TaggedDecoder.prototype.jy = function (tag) {
    var tmp = this.zx(tag);
    return typeof tmp === 'string' ? tmp : THROW_CCE();
  };
  TaggedDecoder.prototype.yp = function (deserializer, previousValue) {
    return this.zp(deserializer);
  };
  TaggedDecoder.prototype.np = function () {
    var tmp0_elvis_lhs = this.xx();
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return false;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var currentTag = tmp;
    return this.ay(currentTag);
  };
  TaggedDecoder.prototype.op = function () {
    return null;
  };
  TaggedDecoder.prototype.pp = function () {
    return this.by(this.ly());
  };
  TaggedDecoder.prototype.qp = function () {
    return this.cy(this.ly());
  };
  TaggedDecoder.prototype.rp = function () {
    return this.dy(this.ly());
  };
  TaggedDecoder.prototype.sp = function () {
    return this.ey(this.ly());
  };
  TaggedDecoder.prototype.tp = function () {
    return this.fy(this.ly());
  };
  TaggedDecoder.prototype.up = function () {
    return this.gy(this.ly());
  };
  TaggedDecoder.prototype.vp = function () {
    return this.hy(this.ly());
  };
  TaggedDecoder.prototype.wp = function () {
    return this.iy(this.ly());
  };
  TaggedDecoder.prototype.xp = function () {
    return this.jy(this.ly());
  };
  TaggedDecoder.prototype.aq = function (descriptor) {
    return this;
  };
  TaggedDecoder.prototype.bq = function (descriptor) {
  };
  TaggedDecoder.prototype.cq = function (descriptor, index) {
    return this.by(this.sx(descriptor, index));
  };
  TaggedDecoder.prototype.dq = function (descriptor, index) {
    return this.cy(this.sx(descriptor, index));
  };
  TaggedDecoder.prototype.eq = function (descriptor, index) {
    return this.dy(this.sx(descriptor, index));
  };
  TaggedDecoder.prototype.fq = function (descriptor, index) {
    return this.ey(this.sx(descriptor, index));
  };
  TaggedDecoder.prototype.gq = function (descriptor, index) {
    return this.fy(this.sx(descriptor, index));
  };
  TaggedDecoder.prototype.hq = function (descriptor, index) {
    return this.gy(this.sx(descriptor, index));
  };
  TaggedDecoder.prototype.iq = function (descriptor, index) {
    return this.hy(this.sx(descriptor, index));
  };
  TaggedDecoder.prototype.jq = function (descriptor, index) {
    return this.iy(this.sx(descriptor, index));
  };
  TaggedDecoder.prototype.kq = function (descriptor, index) {
    return this.jy(this.sx(descriptor, index));
  };
  TaggedDecoder.prototype.lq = function (descriptor, index, deserializer, previousValue) {
    var tmp = this.sx(descriptor, index);
    return tagBlock(this, tmp, TaggedDecoder$decodeSerializableElement$lambda(this, deserializer, previousValue));
  };
  TaggedDecoder.prototype.xx = function () {
    return lastOrNull(this.vx_1);
  };
  TaggedDecoder.prototype.ky = function (name) {
    this.vx_1.b(name);
  };
  TaggedDecoder.prototype.ly = function () {
    var r = this.vx_1.d4(get_lastIndex_0(this.vx_1));
    this.wx_1 = true;
    return r;
  };
  TaggedDecoder.$metadata$ = classMeta('TaggedDecoder', [Decoder, CompositeDecoder]);
  function get_NULL() {
    init_properties_Tuples_kt_v8bvox();
    return NULL;
  }
  var NULL;
  function MapEntry(key, value) {
    this.my_1 = key;
    this.ny_1 = value;
  }
  MapEntry.prototype.j2 = function () {
    return this.my_1;
  };
  MapEntry.prototype.l2 = function () {
    return this.ny_1;
  };
  MapEntry.prototype.toString = function () {
    return 'MapEntry(key=' + this.my_1 + ', value=' + this.ny_1 + ')';
  };
  MapEntry.prototype.hashCode = function () {
    var result = this.my_1 == null ? 0 : hashCode(this.my_1);
    result = imul(result, 31) + (this.ny_1 == null ? 0 : hashCode(this.ny_1)) | 0;
    return result;
  };
  MapEntry.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof MapEntry))
      return false;
    var tmp0_other_with_cast = other instanceof MapEntry ? other : THROW_CCE();
    if (!equals(this.my_1, tmp0_other_with_cast.my_1))
      return false;
    if (!equals(this.ny_1, tmp0_other_with_cast.ny_1))
      return false;
    return true;
  };
  MapEntry.$metadata$ = classMeta('MapEntry', [Entry]);
  function MapEntrySerializer$descriptor$lambda($keySerializer, $valueSerializer) {
    return function ($this$buildSerialDescriptor) {
      var tmp = $keySerializer.hn();
      $this$buildSerialDescriptor.rn('key', tmp, null, false, 12, null);
      var tmp_0 = $valueSerializer.hn();
      $this$buildSerialDescriptor.rn('value', tmp_0, null, false, 12, null);
      return Unit_getInstance();
    };
  }
  function MapEntrySerializer_0(keySerializer, valueSerializer) {
    KeyValueSerializer.call(this, keySerializer, valueSerializer);
    var tmp = this;
    var tmp_0 = MAP_getInstance();
    tmp.qy_1 = buildSerialDescriptor$default('kotlin.collections.Map.Entry', tmp_0, [], MapEntrySerializer$descriptor$lambda(keySerializer, valueSerializer), 4, null);
  }
  MapEntrySerializer_0.prototype.hn = function () {
    return this.qy_1;
  };
  MapEntrySerializer_0.prototype.ry = function (key, value) {
    return new MapEntry(key, value);
  };
  MapEntrySerializer_0.$metadata$ = classMeta('MapEntrySerializer', undefined, undefined, undefined, undefined, KeyValueSerializer.prototype);
  function PairSerializer$descriptor$lambda($keySerializer, $valueSerializer) {
    return function ($this$buildClassSerialDescriptor) {
      var tmp = $keySerializer.hn();
      $this$buildClassSerialDescriptor.rn('first', tmp, null, false, 12, null);
      var tmp_0 = $valueSerializer.hn();
      $this$buildClassSerialDescriptor.rn('second', tmp_0, null, false, 12, null);
      return Unit_getInstance();
    };
  }
  function PairSerializer_0(keySerializer, valueSerializer) {
    KeyValueSerializer.call(this, keySerializer, valueSerializer);
    var tmp = this;
    tmp.wy_1 = buildClassSerialDescriptor$default('kotlin.Pair', [], PairSerializer$descriptor$lambda(keySerializer, valueSerializer), 2, null);
  }
  PairSerializer_0.prototype.hn = function () {
    return this.wy_1;
  };
  PairSerializer_0.prototype.ry = function (key, value) {
    return to(key, value);
  };
  PairSerializer_0.$metadata$ = classMeta('PairSerializer', undefined, undefined, undefined, undefined, KeyValueSerializer.prototype);
  function decodeSequentially_1($this, composite) {
    var a = composite.mq($this.az_1, 0, $this.xy_1, null, 8, null);
    var b = composite.mq($this.az_1, 1, $this.yy_1, null, 8, null);
    var c = composite.mq($this.az_1, 2, $this.zy_1, null, 8, null);
    composite.bq($this.az_1);
    return new Triple(a, b, c);
  }
  function decodeStructure_0($this, composite) {
    var a = get_NULL();
    var b = get_NULL();
    var c = get_NULL();
    mainLoop: while (true) {
      var index = composite.oq($this.az_1);
      Companion_getInstance_2();
      if (index === -1) {
        break mainLoop;
      } else {
        if (index === 0) {
          a = composite.mq($this.az_1, 0, $this.xy_1, null, 8, null);
        } else {
          if (index === 1) {
            b = composite.mq($this.az_1, 1, $this.yy_1, null, 8, null);
          } else {
            if (index === 2) {
              c = composite.mq($this.az_1, 2, $this.zy_1, null, 8, null);
            } else {
              throw SerializationException_init_$Create$('Unexpected index ' + index);
            }
          }
        }
      }
    }
    composite.bq($this.az_1);
    if (a === get_NULL())
      throw SerializationException_init_$Create$("Element 'first' is missing");
    if (b === get_NULL())
      throw SerializationException_init_$Create$("Element 'second' is missing");
    if (c === get_NULL())
      throw SerializationException_init_$Create$("Element 'third' is missing");
    var tmp = (a == null ? true : isObject(a)) ? a : THROW_CCE();
    var tmp_0 = (b == null ? true : isObject(b)) ? b : THROW_CCE();
    return new Triple(tmp, tmp_0, (c == null ? true : isObject(c)) ? c : THROW_CCE());
  }
  function TripleSerializer$descriptor$lambda(this$0) {
    return function ($this$buildClassSerialDescriptor) {
      var tmp = this$0.xy_1.hn();
      $this$buildClassSerialDescriptor.rn('first', tmp, null, false, 12, null);
      var tmp_0 = this$0.yy_1.hn();
      $this$buildClassSerialDescriptor.rn('second', tmp_0, null, false, 12, null);
      var tmp_1 = this$0.zy_1.hn();
      $this$buildClassSerialDescriptor.rn('third', tmp_1, null, false, 12, null);
      return Unit_getInstance();
    };
  }
  function TripleSerializer_0(aSerializer, bSerializer, cSerializer) {
    this.xy_1 = aSerializer;
    this.yy_1 = bSerializer;
    this.zy_1 = cSerializer;
    var tmp = this;
    tmp.az_1 = buildClassSerialDescriptor$default('kotlin.Triple', [], TripleSerializer$descriptor$lambda(this), 2, null);
  }
  TripleSerializer_0.prototype.hn = function () {
    return this.az_1;
  };
  TripleSerializer_0.prototype.in = function (decoder) {
    var composite = decoder.aq(this.az_1);
    if (composite.nq()) {
      return decodeSequentially_1(this, composite);
    }
    return decodeStructure_0(this, composite);
  };
  TripleSerializer_0.$metadata$ = classMeta('TripleSerializer', [KSerializer]);
  function KeyValueSerializer(keySerializer, valueSerializer) {
    this.sy_1 = keySerializer;
    this.ty_1 = valueSerializer;
  }
  KeyValueSerializer.prototype.in = function (decoder) {
    var composite = decoder.aq(this.hn());
    if (composite.nq()) {
      var tmp = this.hn();
      var key = composite.mq(tmp, 0, this.sy_1, null, 8, null);
      var tmp_0 = this.hn();
      var value = composite.mq(tmp_0, 1, this.ty_1, null, 8, null);
      return this.ry(key, value);
    }
    var key_0 = get_NULL();
    var value_0 = get_NULL();
    mainLoop: while (true) {
      var idx = composite.oq(this.hn());
      Companion_getInstance_2();
      if (idx === -1) {
        break mainLoop;
      } else {
        if (idx === 0) {
          var tmp_1 = this.hn();
          key_0 = composite.mq(tmp_1, 0, this.sy_1, null, 8, null);
        } else {
          if (idx === 1) {
            var tmp_2 = this.hn();
            value_0 = composite.mq(tmp_2, 1, this.ty_1, null, 8, null);
          } else {
            throw SerializationException_init_$Create$('Invalid index: ' + idx);
          }
        }
      }
    }
    composite.bq(this.hn());
    if (key_0 === get_NULL())
      throw SerializationException_init_$Create$("Element 'key' is missing");
    if (value_0 === get_NULL())
      throw SerializationException_init_$Create$("Element 'value' is missing");
    var tmp_3 = (key_0 == null ? true : isObject(key_0)) ? key_0 : THROW_CCE();
    return this.ry(tmp_3, (value_0 == null ? true : isObject(value_0)) ? value_0 : THROW_CCE());
  };
  KeyValueSerializer.$metadata$ = classMeta('KeyValueSerializer', [KSerializer]);
  var properties_initialized_Tuples_kt_3vs7ar;
  function init_properties_Tuples_kt_v8bvox() {
    if (properties_initialized_Tuples_kt_3vs7ar) {
    } else {
      properties_initialized_Tuples_kt_3vs7ar = true;
      NULL = new Object();
    }
  }
  function get_EmptySerializersModuleLegacyJs() {
    init_properties_SerializersModule_kt_swldyf();
    return EmptySerializersModule;
  }
  var EmptySerializersModule;
  function SerializersModule() {
  }
  SerializersModule.prototype.co = function (kClass, typeArgumentsSerializers, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      typeArgumentsSerializers = emptyList();
    return $handler == null ? this.do(kClass, typeArgumentsSerializers) : $handler(kClass, typeArgumentsSerializers);
  };
  SerializersModule.$metadata$ = classMeta('SerializersModule');
  function SerialModuleImpl(class2ContextualFactory, polyBase2Serializers, polyBase2DefaultSerializerProvider, polyBase2NamedSerializers, polyBase2DefaultDeserializerProvider) {
    SerializersModule.call(this);
    this.bz_1 = class2ContextualFactory;
    this.cz_1 = polyBase2Serializers;
    this.dz_1 = polyBase2DefaultSerializerProvider;
    this.ez_1 = polyBase2NamedSerializers;
    this.fz_1 = polyBase2DefaultDeserializerProvider;
  }
  SerialModuleImpl.prototype.tq = function (baseClass, serializedClassName) {
    var tmp0_safe_receiver = this.ez_1.z2(baseClass);
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$0;
      {
        tmp$ret$0 = ((!(tmp0_safe_receiver == null) ? isInterface(tmp0_safe_receiver, Map) : false) ? tmp0_safe_receiver : THROW_CCE()).z2(serializedClassName);
      }
      tmp = tmp$ret$0;
    }
    var tmp_0 = tmp;
    var registered = (!(tmp_0 == null) ? isInterface(tmp_0, KSerializer) : false) ? tmp_0 : null;
    if (!(registered == null))
      return registered;
    var tmp_1 = this.fz_1.z2(baseClass);
    var tmp1_safe_receiver = (!(tmp_1 == null) ? typeof tmp_1 === 'function' : false) ? tmp_1 : null;
    return tmp1_safe_receiver == null ? null : tmp1_safe_receiver(serializedClassName);
  };
  SerialModuleImpl.prototype.do = function (kClass, typeArgumentsSerializers) {
    var tmp0_safe_receiver = this.bz_1.z2(kClass);
    var tmp = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.gz(typeArgumentsSerializers);
    return (tmp == null ? true : isInterface(tmp, KSerializer)) ? tmp : null;
  };
  SerialModuleImpl.$metadata$ = classMeta('SerialModuleImpl', undefined, undefined, undefined, undefined, SerializersModule.prototype);
  var properties_initialized_SerializersModule_kt_fjigjn;
  function init_properties_SerializersModule_kt_swldyf() {
    if (properties_initialized_SerializersModule_kt_fjigjn) {
    } else {
      properties_initialized_SerializersModule_kt_fjigjn = true;
      EmptySerializersModule = new SerialModuleImpl(emptyMap(), emptyMap(), emptyMap(), emptyMap(), emptyMap());
    }
  }
  function EmptySerializersModule_0() {
    return get_EmptySerializersModuleLegacyJs();
  }
  function SerializableWith(serializer) {
    this.hz_1 = serializer;
  }
  SerializableWith.prototype.equals = function (other) {
    if (!(other instanceof SerializableWith))
      return false;
    var tmp0_other_with_cast = other instanceof SerializableWith ? other : THROW_CCE();
    if (!this.hz_1.equals(tmp0_other_with_cast.hz_1))
      return false;
    return true;
  };
  SerializableWith.prototype.hashCode = function () {
    return imul(getStringHashCode('serializer'), 127) ^ this.hz_1.hashCode();
  };
  SerializableWith.prototype.toString = function () {
    return '@kotlinx.serialization.SerializableWith(serializer=' + this.hz_1 + ')';
  };
  SerializableWith.$metadata$ = classMeta('SerializableWith', [Annotation], 0);
  function toNativeArrayImpl(_this__u8e3s4, eClass) {
    var tmp$ret$0;
    {
      tmp$ret$0 = copyToArray(_this__u8e3s4);
    }
    return tmp$ret$0;
  }
  function getChecked(_this__u8e3s4, index) {
    if (!(0 <= index ? index <= (_this__u8e3s4.length - 1 | 0) : false))
      throw IndexOutOfBoundsException_init_$Create$('Index ' + index + ' out of bounds ' + get_indices(_this__u8e3s4));
    return _this__u8e3s4[index];
  }
  function getChecked_0(_this__u8e3s4, index) {
    if (!(0 <= index ? index <= (_this__u8e3s4.length - 1 | 0) : false))
      throw IndexOutOfBoundsException_init_$Create$('Index ' + index + ' out of bounds ' + get_indices_0(_this__u8e3s4));
    return _this__u8e3s4[index];
  }
  function platformSpecificSerializerNotRegistered(_this__u8e3s4) {
    throw SerializationException_init_$Create$("Serializer for class '" + _this__u8e3s4.ei() + "' is not found.\n" + 'Mark the class as @Serializable or provide the serializer explicitly.\n' + 'On Kotlin/JS explicitly declared serializer should be used for interfaces and enums without @Serializable annotation');
  }
  function compiledSerializerImpl(_this__u8e3s4) {
    var tmp1_elvis_lhs = constructSerializerForGivenTypeArgs(_this__u8e3s4, []);
    var tmp;
    if (tmp1_elvis_lhs == null) {
      var tmp$ret$0;
      {
        var tmp0_asDynamic = get_js(_this__u8e3s4);
        tmp$ret$0 = tmp0_asDynamic;
      }
      var tmp0_safe_receiver = tmp$ret$0.Companion;
      var tmp_0 = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.serializer();
      tmp = (!(tmp_0 == null) ? isInterface(tmp_0, KSerializer) : false) ? tmp_0 : null;
    } else {
      tmp = tmp1_elvis_lhs;
    }
    return tmp;
  }
  function isReferenceArray(rootClass) {
    return rootClass.equals(PrimitiveClasses_getInstance().vj());
  }
  function constructSerializerForGivenTypeArgs(_this__u8e3s4, args) {
    var tmp;
    try {
      var tmp$ret$0;
      {
        tmp$ret$0 = findAssociatedObject(_this__u8e3s4, getKClass(SerializableWith));
      }
      var assocObject = tmp$ret$0;
      var tmp_0;
      if (!(assocObject == null) ? isInterface(assocObject, KSerializer) : false) {
        tmp_0 = (!(assocObject == null) ? isInterface(assocObject, KSerializer) : false) ? assocObject : THROW_CCE();
      } else {
        if (!(assocObject == null) ? isInterface(assocObject, SerializerFactory) : false) {
          var tmp_1 = assocObject.xu(args.slice());
          tmp_0 = isInterface(tmp_1, KSerializer) ? tmp_1 : THROW_CCE();
        } else {
          if (get_isInterface(_this__u8e3s4)) {
            tmp_0 = new PolymorphicSerializer(_this__u8e3s4);
          } else {
            tmp_0 = null;
          }
        }
      }
      tmp = tmp_0;
    } catch ($p) {
      var tmp_2;
      {
        tmp_2 = null;
      }
      tmp = tmp_2;
    }
    return tmp;
  }
  function get_isInterface(_this__u8e3s4) {
    var tmp$ret$0;
    {
      var tmp0_asDynamic = get_js(_this__u8e3s4);
      tmp$ret$0 = tmp0_asDynamic;
    }
    var tmp0_safe_receiver = tmp$ret$0.$metadata$;
    return (tmp0_safe_receiver == null ? null : tmp0_safe_receiver.kind) == 'interface';
  }
  //region block: post-declaration
  SerialDescriptorImpl.prototype.eo = get_isNullable;
  SerialDescriptorImpl.prototype.lo = get_isInline;
  AbstractDecoder.prototype.mq = decodeSerializableElement$default;
  AbstractDecoder.prototype.zp = decodeSerializableValue;
  AbstractDecoder.prototype.nq = decodeSequentially;
  AbstractDecoder.prototype.pq = decodeCollectionSize;
  ListLikeDescriptor.prototype.eo = get_isNullable;
  ListLikeDescriptor.prototype.lo = get_isInline;
  ListLikeDescriptor.prototype.jo = get_annotations;
  PrimitiveArrayDescriptor.prototype.eo = get_isNullable;
  PrimitiveArrayDescriptor.prototype.lo = get_isInline;
  PrimitiveArrayDescriptor.prototype.jo = get_annotations;
  ArrayClassDesc.prototype.eo = get_isNullable;
  ArrayClassDesc.prototype.lo = get_isInline;
  ArrayClassDesc.prototype.jo = get_annotations;
  MapLikeDescriptor.prototype.eo = get_isNullable;
  MapLikeDescriptor.prototype.lo = get_isInline;
  MapLikeDescriptor.prototype.jo = get_annotations;
  HashMapClassDesc.prototype.eo = get_isNullable;
  HashMapClassDesc.prototype.lo = get_isInline;
  HashMapClassDesc.prototype.jo = get_annotations;
  LinkedHashMapClassDesc.prototype.eo = get_isNullable;
  LinkedHashMapClassDesc.prototype.lo = get_isInline;
  LinkedHashMapClassDesc.prototype.jo = get_annotations;
  ArrayListClassDesc.prototype.eo = get_isNullable;
  ArrayListClassDesc.prototype.lo = get_isInline;
  ArrayListClassDesc.prototype.jo = get_annotations;
  HashSetClassDesc.prototype.eo = get_isNullable;
  HashSetClassDesc.prototype.lo = get_isInline;
  HashSetClassDesc.prototype.jo = get_annotations;
  LinkedHashSetClassDesc.prototype.eo = get_isNullable;
  LinkedHashSetClassDesc.prototype.lo = get_isInline;
  LinkedHashSetClassDesc.prototype.jo = get_annotations;
  PluginGeneratedSerialDescriptor.prototype.eo = get_isNullable;
  PluginGeneratedSerialDescriptor.prototype.lo = get_isInline;
  PrimitiveSerialDescriptor_0.prototype.eo = get_isNullable;
  PrimitiveSerialDescriptor_0.prototype.lo = get_isInline;
  PrimitiveSerialDescriptor_0.prototype.jo = get_annotations;
  TaggedDecoder.prototype.mq = decodeSerializableElement$default;
  TaggedDecoder.prototype.zp = decodeSerializableValue;
  TaggedDecoder.prototype.nq = decodeSequentially;
  TaggedDecoder.prototype.pq = decodeCollectionSize;
  NamedValueDecoder.prototype.zp = decodeSerializableValue;
  NamedValueDecoder.prototype.mq = decodeSerializableElement$default;
  NamedValueDecoder.prototype.nq = decodeSequentially;
  NamedValueDecoder.prototype.pq = decodeCollectionSize;
  //endregion
  //region block: exports
  _.$_$ = _.$_$ || {};
  _.$_$.a = buildSerialDescriptor$default;
  _.$_$.b = decodeSerializableElement$default;
  _.$_$.c = SerializationException_init_$Init$;
  _.$_$.d = UnknownFieldException_init_$Create$;
  _.$_$.e = SEALED_getInstance;
  _.$_$.f = STRING_getInstance;
  _.$_$.g = CONTEXTUAL_getInstance;
  _.$_$.h = ENUM_getInstance;
  _.$_$.i = LIST_getInstance;
  _.$_$.j = MAP_getInstance;
  _.$_$.k = Companion_getInstance_2;
  _.$_$.l = IntSerializer_getInstance;
  _.$_$.m = ListSerializer;
  _.$_$.n = MapSerializer;
  _.$_$.o = serializer_1;
  _.$_$.p = PolymorphicKind;
  _.$_$.q = PrimitiveKind;
  _.$_$.r = PrimitiveSerialDescriptor;
  _.$_$.s = get_annotations;
  _.$_$.t = get_isInline;
  _.$_$.u = get_isNullable;
  _.$_$.v = SerialDescriptor;
  _.$_$.w = getContextualDescriptor;
  _.$_$.x = AbstractDecoder;
  _.$_$.y = decodeCollectionSize;
  _.$_$.z = decodeSequentially;
  _.$_$.a1 = CompositeDecoder;
  _.$_$.b1 = Decoder;
  _.$_$.c1 = AbstractPolymorphicSerializer;
  _.$_$.d1 = ElementMarker;
  _.$_$.e1 = typeParametersSerializers;
  _.$_$.f1 = GeneratedSerializer;
  _.$_$.g1 = NamedValueDecoder;
  _.$_$.h1 = PluginGeneratedSerialDescriptor;
  _.$_$.i1 = SerializerFactory;
  _.$_$.j1 = jsonCachedSerialNames;
  _.$_$.k1 = throwMissingFieldException;
  _.$_$.l1 = EmptySerializersModule_0;
  _.$_$.m1 = DeserializationStrategy;
  _.$_$.n1 = KSerializer;
  _.$_$.o1 = MissingFieldException;
  _.$_$.p1 = SerializationException;
  _.$_$.q1 = StringFormat;
  _.$_$.r1 = serializer;
  _.$_$.s1 = serializer_0;
  //endregion
  return _;
}));



/***/ }),

/***/ "./kotlin/kotlinx-serialization-kotlinx-serialization-json-js-ir.js":
/*!**************************************************************************!*\
  !*** ./kotlin/kotlinx-serialization-kotlinx-serialization-json-js-ir.js ***!
  \**************************************************************************/
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
  if (true)
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(/*! ./kotlinx-serialization-kotlinx-serialization-core-js-ir.js */ "./kotlin/kotlinx-serialization-kotlinx-serialization-core-js-ir.js"), __webpack_require__(/*! ./kotlin-kotlin-stdlib-js-ir.js */ "./kotlin/kotlin-kotlin-stdlib-js-ir.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  else {}
}(this, function (_, kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core, kotlin_kotlin) {
  'use strict';
  //region block: imports
  var imul = Math.imul;
  var EmptySerializersModule = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.l1;
  var objectMeta = kotlin_kotlin.$_$.r9;
  var StringFormat = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.q1;
  var classMeta = kotlin_kotlin.$_$.p8;
  var Annotation = kotlin_kotlin.$_$.ec;
  var Decoder = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.b1;
  var CompositeDecoder = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.a1;
  var interfaceMeta = kotlin_kotlin.$_$.y8;
  var Unit_getInstance = kotlin_kotlin.$_$.k3;
  var StringBuilder_init_$Create$ = kotlin_kotlin.$_$.j1;
  var _Char___init__impl__6a9atx = kotlin_kotlin.$_$.g2;
  var THROW_CCE = kotlin_kotlin.$_$.uc;
  var equals = kotlin_kotlin.$_$.r8;
  var hashCode = kotlin_kotlin.$_$.w8;
  var joinToString$default = kotlin_kotlin.$_$.h;
  var Map = kotlin_kotlin.$_$.v3;
  var toInt = kotlin_kotlin.$_$.vb;
  var List = kotlin_kotlin.$_$.t3;
  var toString = kotlin_kotlin.$_$.v9;
  var getKClassFromExpression = kotlin_kotlin.$_$.c;
  var getStringHashCode = kotlin_kotlin.$_$.v8;
  var LazyThreadSafetyMode_PUBLICATION_getInstance = kotlin_kotlin.$_$.e;
  var lazy = kotlin_kotlin.$_$.ld;
  var SerializerFactory = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.i1;
  var IllegalArgumentException_init_$Create$ = kotlin_kotlin.$_$.q1;
  var toLong = kotlin_kotlin.$_$.yb;
  var toDouble = kotlin_kotlin.$_$.tb;
  var StringCompanionObject_getInstance = kotlin_kotlin.$_$.c3;
  var serializer = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.o;
  var MapSerializer = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.n;
  var SerialDescriptor = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.v;
  var KSerializer = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.n1;
  var SEALED_getInstance = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.e;
  var buildSerialDescriptor$default = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.a;
  var STRING_getInstance = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.f;
  var ListSerializer = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.m;
  var ENUM_getInstance = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.h;
  var PrimitiveSerialDescriptor = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.r;
  var isInterface = kotlin_kotlin.$_$.h9;
  var IllegalStateException_init_$Create$ = kotlin_kotlin.$_$.u1;
  var lazy_0 = kotlin_kotlin.$_$.md;
  var get_isNullable = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.u;
  var get_isInline = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.t;
  var get_annotations = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.s;
  var KProperty1 = kotlin_kotlin.$_$.ma;
  var getPropertyCallableRef = kotlin_kotlin.$_$.u8;
  var ElementMarker = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.d1;
  var captureStack = kotlin_kotlin.$_$.j8;
  var SerializationException = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.p1;
  var SerializationException_init_$Init$ = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.c;
  var charSequenceLength = kotlin_kotlin.$_$.n8;
  var charSequenceSubSequence = kotlin_kotlin.$_$.o8;
  var coerceAtLeast = kotlin_kotlin.$_$.da;
  var coerceAtMost = kotlin_kotlin.$_$.ea;
  var Companion_getInstance = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.k;
  var ArrayList_init_$Create$ = kotlin_kotlin.$_$.t;
  var singleOrNull = kotlin_kotlin.$_$.s6;
  var arrayIterator = kotlin_kotlin.$_$.h8;
  var ensureNotNull = kotlin_kotlin.$_$.ed;
  var emptyMap = kotlin_kotlin.$_$.i5;
  var getValue = kotlin_kotlin.$_$.n5;
  var copyOf = kotlin_kotlin.$_$.c5;
  var copyOf_0 = kotlin_kotlin.$_$.d5;
  var fillArrayVal = kotlin_kotlin.$_$.s8;
  var LIST_getInstance = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.i;
  var LinkedHashMap_init_$Create$ = kotlin_kotlin.$_$.c1;
  var DeepRecursiveFunction = kotlin_kotlin.$_$.hc;
  var invoke = kotlin_kotlin.$_$.fd;
  var CoroutineImpl = kotlin_kotlin.$_$.a8;
  var DeepRecursiveScope = kotlin_kotlin.$_$.ic;
  var Unit = kotlin_kotlin.$_$.yc;
  var get_COROUTINE_SUSPENDED = kotlin_kotlin.$_$.l7;
  var SuspendFunction2 = kotlin_kotlin.$_$.c8;
  var AbstractPolymorphicSerializer = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.c1;
  var getKClass = kotlin_kotlin.$_$.d;
  var DeserializationStrategy = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.m1;
  var isObject = kotlin_kotlin.$_$.j9;
  var AbstractDecoder = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.x;
  var plus = kotlin_kotlin.$_$.od;
  var MissingFieldException = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.o1;
  var decodeSerializableElement$default = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.b;
  var toLong_0 = kotlin_kotlin.$_$.t9;
  var IllegalArgumentException = kotlin_kotlin.$_$.mc;
  var isFinite = kotlin_kotlin.$_$.hd;
  var isFinite_0 = kotlin_kotlin.$_$.gd;
  var charSequenceGet = kotlin_kotlin.$_$.m8;
  var decodeSequentially = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.z;
  var decodeCollectionSize = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.y;
  var numberToChar = kotlin_kotlin.$_$.p9;
  var Char__toInt_impl_vasixd = kotlin_kotlin.$_$.j2;
  var equals_0 = kotlin_kotlin.$_$.fb;
  var Char = kotlin_kotlin.$_$.fc;
  var toByte = kotlin_kotlin.$_$.s9;
  var NamedValueDecoder = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.g1;
  var PolymorphicKind = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.p;
  var PrimitiveKind = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.q;
  var MAP_getInstance = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.j;
  var IllegalArgumentException_init_$Create$_0 = kotlin_kotlin.$_$.o1;
  var ByteCompanionObject_getInstance = kotlin_kotlin.$_$.x2;
  var ShortCompanionObject_getInstance = kotlin_kotlin.$_$.b3;
  var toShort = kotlin_kotlin.$_$.u9;
  var single = kotlin_kotlin.$_$.ob;
  var jsonCachedSerialNames = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.j1;
  var emptySet = kotlin_kotlin.$_$.j5;
  var plus_0 = kotlin_kotlin.$_$.g6;
  var toList = kotlin_kotlin.$_$.c7;
  var Enum = kotlin_kotlin.$_$.jc;
  var getContextualDescriptor = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.w;
  var CONTEXTUAL_getInstance = kotlin_org_jetbrains_kotlinx_kotlinx_serialization_core.$_$.g;
  var toString_0 = kotlin_kotlin.$_$.k2;
  var last = kotlin_kotlin.$_$.x5;
  var removeLast = kotlin_kotlin.$_$.l6;
  var lastIndexOf$default = kotlin_kotlin.$_$.n;
  var Long = kotlin_kotlin.$_$.oc;
  var Char__minus_impl_a2frrh = kotlin_kotlin.$_$.h2;
  var Companion_getInstance_0 = kotlin_kotlin.$_$.i3;
  var charArray = kotlin_kotlin.$_$.l8;
  var indexOf$default = kotlin_kotlin.$_$.m;
  var HashMap_init_$Create$ = kotlin_kotlin.$_$.v;
  //endregion
  //region block: pre-declaration
  Default.prototype = Object.create(Json.prototype);
  Default.prototype.constructor = Default;
  JsonObject.prototype = Object.create(JsonElement.prototype);
  JsonObject.prototype.constructor = JsonObject;
  JsonPrimitive.prototype = Object.create(JsonElement.prototype);
  JsonPrimitive.prototype.constructor = JsonPrimitive;
  JsonArray.prototype = Object.create(JsonElement.prototype);
  JsonArray.prototype.constructor = JsonArray;
  JsonLiteral.prototype = Object.create(JsonPrimitive.prototype);
  JsonLiteral.prototype.constructor = JsonLiteral;
  JsonNull.prototype = Object.create(JsonPrimitive.prototype);
  JsonNull.prototype.constructor = JsonNull;
  JsonException.prototype = Object.create(SerializationException.prototype);
  JsonException.prototype.constructor = JsonException;
  JsonDecodingException.prototype = Object.create(JsonException.prototype);
  JsonDecodingException.prototype.constructor = JsonDecodingException;
  JsonEncodingException.prototype = Object.create(JsonException.prototype);
  JsonEncodingException.prototype.constructor = JsonEncodingException;
  JsonTreeReader$readDeepRecursive$slambda.prototype = Object.create(CoroutineImpl.prototype);
  JsonTreeReader$readDeepRecursive$slambda.prototype.constructor = JsonTreeReader$readDeepRecursive$slambda;
  $readObjectCOROUTINE$0.prototype = Object.create(CoroutineImpl.prototype);
  $readObjectCOROUTINE$0.prototype.constructor = $readObjectCOROUTINE$0;
  StreamingJsonDecoder.prototype = Object.create(AbstractDecoder.prototype);
  StreamingJsonDecoder.prototype.constructor = StreamingJsonDecoder;
  AbstractJsonTreeDecoder.prototype = Object.create(NamedValueDecoder.prototype);
  AbstractJsonTreeDecoder.prototype.constructor = AbstractJsonTreeDecoder;
  JsonTreeDecoder.prototype = Object.create(AbstractJsonTreeDecoder.prototype);
  JsonTreeDecoder.prototype.constructor = JsonTreeDecoder;
  JsonTreeListDecoder.prototype = Object.create(AbstractJsonTreeDecoder.prototype);
  JsonTreeListDecoder.prototype.constructor = JsonTreeListDecoder;
  JsonTreeMapDecoder.prototype = Object.create(JsonTreeDecoder.prototype);
  JsonTreeMapDecoder.prototype.constructor = JsonTreeMapDecoder;
  WriteMode.prototype = Object.create(Enum.prototype);
  WriteMode.prototype.constructor = WriteMode;
  StringJsonLexer.prototype = Object.create(AbstractJsonLexer.prototype);
  StringJsonLexer.prototype.constructor = StringJsonLexer;
  //endregion
  function Default() {
    Default_instance = this;
    Json.call(this, JsonConfiguration_init_$Create$(false, false, false, false, false, false, null, false, false, null, false, false, 4095, null), EmptySerializersModule());
  }
  Default.$metadata$ = objectMeta('Default', undefined, undefined, undefined, undefined, Json.prototype);
  var Default_instance;
  function Default_getInstance() {
    if (Default_instance == null)
      new Default();
    return Default_instance;
  }
  function Json(configuration, serializersModule) {
    Default_getInstance();
    this.iz_1 = configuration;
    this.jz_1 = serializersModule;
    this.kz_1 = new DescriptorSchemaCache();
  }
  Json.prototype.yn = function () {
    return this.jz_1;
  };
  Json.prototype.xn = function (deserializer, string) {
    var lexer = new StringJsonLexer(string);
    var input = new StreamingJsonDecoder(this, WriteMode_OBJ_getInstance(), lexer, deserializer.hn(), null);
    var result = input.zp(deserializer);
    lexer.xz();
    return result;
  };
  Json.$metadata$ = classMeta('Json', [StringFormat]);
  function JsonClassDiscriminator() {
  }
  JsonClassDiscriminator.$metadata$ = classMeta('JsonClassDiscriminator', [Annotation]);
  function JsonNames() {
  }
  JsonNames.$metadata$ = classMeta('JsonNames', [Annotation]);
  function JsonConfiguration_init_$Init$(encodeDefaults, ignoreUnknownKeys, isLenient, allowStructuredMapKeys, prettyPrint, explicitNulls, prettyPrintIndent, coerceInputValues, useArrayPolymorphism, classDiscriminator, allowSpecialFloatingPointValues, useAlternativeNames, $mask0, $marker, $this) {
    if (!(($mask0 & 1) === 0))
      encodeDefaults = false;
    if (!(($mask0 & 2) === 0))
      ignoreUnknownKeys = false;
    if (!(($mask0 & 4) === 0))
      isLenient = false;
    if (!(($mask0 & 8) === 0))
      allowStructuredMapKeys = false;
    if (!(($mask0 & 16) === 0))
      prettyPrint = false;
    if (!(($mask0 & 32) === 0))
      explicitNulls = true;
    if (!(($mask0 & 64) === 0))
      prettyPrintIndent = '    ';
    if (!(($mask0 & 128) === 0))
      coerceInputValues = false;
    if (!(($mask0 & 256) === 0))
      useArrayPolymorphism = false;
    if (!(($mask0 & 512) === 0))
      classDiscriminator = 'type';
    if (!(($mask0 & 1024) === 0))
      allowSpecialFloatingPointValues = false;
    if (!(($mask0 & 2048) === 0))
      useAlternativeNames = true;
    JsonConfiguration.call($this, encodeDefaults, ignoreUnknownKeys, isLenient, allowStructuredMapKeys, prettyPrint, explicitNulls, prettyPrintIndent, coerceInputValues, useArrayPolymorphism, classDiscriminator, allowSpecialFloatingPointValues, useAlternativeNames);
    return $this;
  }
  function JsonConfiguration_init_$Create$(encodeDefaults, ignoreUnknownKeys, isLenient, allowStructuredMapKeys, prettyPrint, explicitNulls, prettyPrintIndent, coerceInputValues, useArrayPolymorphism, classDiscriminator, allowSpecialFloatingPointValues, useAlternativeNames, $mask0, $marker) {
    return JsonConfiguration_init_$Init$(encodeDefaults, ignoreUnknownKeys, isLenient, allowStructuredMapKeys, prettyPrint, explicitNulls, prettyPrintIndent, coerceInputValues, useArrayPolymorphism, classDiscriminator, allowSpecialFloatingPointValues, useAlternativeNames, $mask0, $marker, Object.create(JsonConfiguration.prototype));
  }
  function JsonConfiguration(encodeDefaults, ignoreUnknownKeys, isLenient, allowStructuredMapKeys, prettyPrint, explicitNulls, prettyPrintIndent, coerceInputValues, useArrayPolymorphism, classDiscriminator, allowSpecialFloatingPointValues, useAlternativeNames) {
    this.yz_1 = encodeDefaults;
    this.zz_1 = ignoreUnknownKeys;
    this.a10_1 = isLenient;
    this.b10_1 = allowStructuredMapKeys;
    this.c10_1 = prettyPrint;
    this.d10_1 = explicitNulls;
    this.e10_1 = prettyPrintIndent;
    this.f10_1 = coerceInputValues;
    this.g10_1 = useArrayPolymorphism;
    this.h10_1 = classDiscriminator;
    this.i10_1 = allowSpecialFloatingPointValues;
    this.j10_1 = useAlternativeNames;
  }
  JsonConfiguration.prototype.k10 = function () {
    return this.a10_1;
  };
  JsonConfiguration.prototype.toString = function () {
    return 'JsonConfiguration(encodeDefaults=' + this.yz_1 + ', ignoreUnknownKeys=' + this.zz_1 + ', isLenient=' + this.a10_1 + ', ' + ('allowStructuredMapKeys=' + this.b10_1 + ', prettyPrint=' + this.c10_1 + ', explicitNulls=' + this.d10_1 + ', ') + ("prettyPrintIndent='" + this.e10_1 + "', coerceInputValues=" + this.f10_1 + ', useArrayPolymorphism=' + this.g10_1 + ', ') + ("classDiscriminator='" + this.h10_1 + "', allowSpecialFloatingPointValues=" + this.i10_1 + ')');
  };
  JsonConfiguration.$metadata$ = classMeta('JsonConfiguration');
  function JsonDecoder() {
  }
  JsonDecoder.$metadata$ = interfaceMeta('JsonDecoder', [Decoder, CompositeDecoder]);
  function Companion() {
    Companion_instance = this;
  }
  Companion.$metadata$ = objectMeta('Companion');
  var Companion_instance;
  function Companion_getInstance_1() {
    if (Companion_instance == null)
      new Companion();
    return Companion_instance;
  }
  function JsonObject$toString$lambda() {
    return function (_name_for_destructuring_parameter_0__wldtmu) {
      var tmp$ret$0;
      {
        tmp$ret$0 = _name_for_destructuring_parameter_0__wldtmu.j2();
      }
      var k = tmp$ret$0;
      var tmp$ret$1;
      {
        tmp$ret$1 = _name_for_destructuring_parameter_0__wldtmu.l2();
      }
      var v = tmp$ret$1;
      var tmp$ret$3;
      {
        {
        }
        var tmp$ret$2;
        {
          var tmp0_apply = StringBuilder_init_$Create$();
          {
          }
          {
            printQuoted(tmp0_apply, k);
            tmp0_apply.ea(_Char___init__impl__6a9atx(58));
            tmp0_apply.ob(v);
          }
          tmp$ret$2 = tmp0_apply;
        }
        tmp$ret$3 = tmp$ret$2.toString();
      }
      return tmp$ret$3;
    };
  }
  function JsonObject(content) {
    Companion_getInstance_1();
    JsonElement.call(this);
    this.n10_1 = content;
  }
  JsonObject.prototype.y = function () {
    return this.n10_1.y();
  };
  JsonObject.prototype.a3 = function () {
    return this.n10_1.a3();
  };
  JsonObject.prototype.m = function () {
    return this.n10_1.m();
  };
  JsonObject.prototype.b3 = function () {
    return this.n10_1.b3();
  };
  JsonObject.prototype.o10 = function (key) {
    return this.n10_1.t2(key);
  };
  JsonObject.prototype.t2 = function (key) {
    if (!(!(key == null) ? typeof key === 'string' : false))
      return false;
    return this.o10((!(key == null) ? typeof key === 'string' : false) ? key : THROW_CCE());
  };
  JsonObject.prototype.p10 = function (key) {
    return this.n10_1.z2(key);
  };
  JsonObject.prototype.z2 = function (key) {
    if (!(!(key == null) ? typeof key === 'string' : false))
      return null;
    return this.p10((!(key == null) ? typeof key === 'string' : false) ? key : THROW_CCE());
  };
  JsonObject.prototype.q = function () {
    return this.n10_1.q();
  };
  JsonObject.prototype.equals = function (other) {
    return equals(this.n10_1, other);
  };
  JsonObject.prototype.hashCode = function () {
    return hashCode(this.n10_1);
  };
  JsonObject.prototype.toString = function () {
    var tmp = this.n10_1.y();
    return joinToString$default(tmp, ',', '{', '}', 0, null, JsonObject$toString$lambda(), 24, null);
  };
  JsonObject.$metadata$ = classMeta('JsonObject', [Map], undefined, {0: JsonObjectSerializer_getInstance}, undefined, JsonElement.prototype);
  function Companion_0() {
    Companion_instance_0 = this;
  }
  Companion_0.$metadata$ = objectMeta('Companion');
  var Companion_instance_0;
  function Companion_getInstance_2() {
    if (Companion_instance_0 == null)
      new Companion_0();
    return Companion_instance_0;
  }
  function JsonElement() {
    Companion_getInstance_2();
  }
  JsonElement.$metadata$ = classMeta('JsonElement', undefined, undefined, {0: JsonElementSerializer_getInstance});
  function get_int(_this__u8e3s4) {
    return toInt(_this__u8e3s4.q10());
  }
  function Companion_1() {
    Companion_instance_1 = this;
  }
  Companion_1.$metadata$ = objectMeta('Companion');
  var Companion_instance_1;
  function Companion_getInstance_3() {
    if (Companion_instance_1 == null)
      new Companion_1();
    return Companion_instance_1;
  }
  function JsonPrimitive() {
    Companion_getInstance_3();
    JsonElement.call(this);
  }
  JsonPrimitive.prototype.toString = function () {
    return this.q10();
  };
  JsonPrimitive.$metadata$ = classMeta('JsonPrimitive', undefined, undefined, {0: JsonPrimitiveSerializer_getInstance}, undefined, JsonElement.prototype);
  function get_jsonPrimitive(_this__u8e3s4) {
    var tmp0_elvis_lhs = _this__u8e3s4 instanceof JsonPrimitive ? _this__u8e3s4 : null;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      error(_this__u8e3s4, 'JsonPrimitive');
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  }
  function Companion_2() {
    Companion_instance_2 = this;
  }
  Companion_2.$metadata$ = objectMeta('Companion');
  var Companion_instance_2;
  function Companion_getInstance_4() {
    if (Companion_instance_2 == null)
      new Companion_2();
    return Companion_instance_2;
  }
  function JsonArray(content) {
    Companion_getInstance_4();
    JsonElement.call(this);
    this.r10_1 = content;
  }
  JsonArray.prototype.m = function () {
    return this.r10_1.m();
  };
  JsonArray.prototype.s10 = function (element) {
    return this.r10_1.p(element);
  };
  JsonArray.prototype.p = function (element) {
    if (!(element instanceof JsonElement))
      return false;
    return this.s10(element instanceof JsonElement ? element : THROW_CCE());
  };
  JsonArray.prototype.t10 = function (elements) {
    return this.r10_1.q1(elements);
  };
  JsonArray.prototype.q1 = function (elements) {
    return this.t10(elements);
  };
  JsonArray.prototype.r = function (index) {
    return this.r10_1.r(index);
  };
  JsonArray.prototype.u10 = function (element) {
    return this.r10_1.u(element);
  };
  JsonArray.prototype.u = function (element) {
    if (!(element instanceof JsonElement))
      return -1;
    return this.u10(element instanceof JsonElement ? element : THROW_CCE());
  };
  JsonArray.prototype.q = function () {
    return this.r10_1.q();
  };
  JsonArray.prototype.h = function () {
    return this.r10_1.h();
  };
  JsonArray.prototype.equals = function (other) {
    return equals(this.r10_1, other);
  };
  JsonArray.prototype.hashCode = function () {
    return hashCode(this.r10_1);
  };
  JsonArray.prototype.toString = function () {
    return joinToString$default(this.r10_1, ',', '[', ']', 0, null, null, 56, null);
  };
  JsonArray.$metadata$ = classMeta('JsonArray', [List], undefined, {0: JsonArraySerializer_getInstance}, undefined, JsonElement.prototype);
  function JsonLiteral(body, isString) {
    JsonPrimitive.call(this);
    this.v10_1 = isString;
    this.w10_1 = toString(body);
  }
  JsonLiteral.prototype.q10 = function () {
    return this.w10_1;
  };
  JsonLiteral.prototype.toString = function () {
    var tmp;
    if (this.v10_1) {
      var tmp$ret$1;
      {
        {
        }
        var tmp$ret$0;
        {
          var tmp0_apply = StringBuilder_init_$Create$();
          {
          }
          {
            printQuoted(tmp0_apply, this.w10_1);
          }
          tmp$ret$0 = tmp0_apply;
        }
        tmp$ret$1 = tmp$ret$0.toString();
      }
      tmp = tmp$ret$1;
    } else {
      tmp = this.w10_1;
    }
    return tmp;
  };
  JsonLiteral.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (other == null ? true : !getKClassFromExpression(this).equals(getKClassFromExpression(other)))
      return false;
    if (other instanceof JsonLiteral)
      other;
    else
      THROW_CCE();
    if (!(this.v10_1 === other.v10_1))
      return false;
    if (!(this.w10_1 === other.w10_1))
      return false;
    return true;
  };
  JsonLiteral.prototype.hashCode = function () {
    var result = this.v10_1 | 0;
    result = imul(31, result) + getStringHashCode(this.w10_1) | 0;
    return result;
  };
  JsonLiteral.$metadata$ = classMeta('JsonLiteral', undefined, undefined, undefined, undefined, JsonPrimitive.prototype);
  function JsonNull$$cachedSerializer$delegate$_anonymous__7w2ks1() {
    return function () {
      return JsonNullSerializer_getInstance();
    };
  }
  function JsonNull() {
    JsonNull_instance = this;
    JsonPrimitive.call(this);
    this.x10_1 = 'null';
    var tmp = this;
    var tmp_0 = LazyThreadSafetyMode_PUBLICATION_getInstance();
    tmp.y10_1 = lazy(tmp_0, JsonNull$$cachedSerializer$delegate$_anonymous__7w2ks1());
  }
  JsonNull.prototype.q10 = function () {
    return this.x10_1;
  };
  JsonNull.prototype.z10 = function () {
    return this.y10_1.l2();
  };
  JsonNull.prototype.xu = function (typeParamsSerializers) {
    return this.z10();
  };
  JsonNull.$metadata$ = objectMeta('JsonNull', [SerializerFactory], undefined, {0: JsonNullSerializer_getInstance}, undefined, JsonPrimitive.prototype);
  var JsonNull_instance;
  function JsonNull_getInstance() {
    if (JsonNull_instance == null)
      new JsonNull();
    return JsonNull_instance;
  }
  function error(_this__u8e3s4, element) {
    throw IllegalArgumentException_init_$Create$('Element ' + getKClassFromExpression(_this__u8e3s4) + ' is not a ' + element);
  }
  function get_booleanOrNull(_this__u8e3s4) {
    return toBooleanStrictOrNull(_this__u8e3s4.q10());
  }
  function JsonPrimitive_0(value) {
    if (value == null)
      return JsonNull_getInstance();
    return new JsonLiteral(value, true);
  }
  function get_long(_this__u8e3s4) {
    return toLong(_this__u8e3s4.q10());
  }
  function get_float(_this__u8e3s4) {
    var tmp$ret$2;
    {
      var tmp0_toFloat = _this__u8e3s4.q10();
      var tmp$ret$1;
      {
        var tmp0_unsafeCast = toDouble(tmp0_toFloat);
        var tmp$ret$0;
        {
          tmp$ret$0 = tmp0_unsafeCast;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    return tmp$ret$2;
  }
  function get_double(_this__u8e3s4) {
    return toDouble(_this__u8e3s4.q10());
  }
  function get_contentOrNull(_this__u8e3s4) {
    var tmp;
    if (_this__u8e3s4 instanceof JsonNull) {
      tmp = null;
    } else {
      tmp = _this__u8e3s4.q10();
    }
    return tmp;
  }
  function JsonObjectDescriptor() {
    JsonObjectDescriptor_instance = this;
    this.a11_1 = MapSerializer(serializer(StringCompanionObject_getInstance()), JsonElementSerializer_getInstance()).hn();
    this.b11_1 = 'kotlinx.serialization.json.JsonObject';
  }
  JsonObjectDescriptor.prototype.jo = function () {
    return this.a11_1.jo();
  };
  JsonObjectDescriptor.prototype.ko = function () {
    return this.a11_1.ko();
  };
  JsonObjectDescriptor.prototype.lo = function () {
    return this.a11_1.lo();
  };
  JsonObjectDescriptor.prototype.eo = function () {
    return this.a11_1.eo();
  };
  JsonObjectDescriptor.prototype.mo = function () {
    return this.a11_1.mo();
  };
  JsonObjectDescriptor.prototype.no = function (index) {
    return this.a11_1.no(index);
  };
  JsonObjectDescriptor.prototype.oo = function (index) {
    return this.a11_1.oo(index);
  };
  JsonObjectDescriptor.prototype.po = function (name) {
    return this.a11_1.po(name);
  };
  JsonObjectDescriptor.prototype.qo = function (index) {
    return this.a11_1.qo(index);
  };
  JsonObjectDescriptor.prototype.ro = function (index) {
    return this.a11_1.ro(index);
  };
  JsonObjectDescriptor.prototype.io = function () {
    return this.b11_1;
  };
  JsonObjectDescriptor.$metadata$ = objectMeta('JsonObjectDescriptor', [SerialDescriptor]);
  var JsonObjectDescriptor_instance;
  function JsonObjectDescriptor_getInstance() {
    if (JsonObjectDescriptor_instance == null)
      new JsonObjectDescriptor();
    return JsonObjectDescriptor_instance;
  }
  function JsonObjectSerializer() {
    JsonObjectSerializer_instance = this;
    this.c11_1 = JsonObjectDescriptor_getInstance();
  }
  JsonObjectSerializer.prototype.hn = function () {
    return this.c11_1;
  };
  JsonObjectSerializer.prototype.in = function (decoder) {
    verify(decoder);
    return new JsonObject(MapSerializer(serializer(StringCompanionObject_getInstance()), JsonElementSerializer_getInstance()).in(decoder));
  };
  JsonObjectSerializer.$metadata$ = objectMeta('JsonObjectSerializer', [KSerializer]);
  var JsonObjectSerializer_instance;
  function JsonObjectSerializer_getInstance() {
    if (JsonObjectSerializer_instance == null)
      new JsonObjectSerializer();
    return JsonObjectSerializer_instance;
  }
  function JsonElementSerializer$descriptor$lambda$lambda() {
    return function () {
      return JsonPrimitiveSerializer_getInstance().d11_1;
    };
  }
  function JsonElementSerializer$descriptor$lambda$lambda_0() {
    return function () {
      return JsonNullSerializer_getInstance().e11_1;
    };
  }
  function JsonElementSerializer$descriptor$lambda$lambda_1() {
    return function () {
      return JsonLiteralSerializer_getInstance().f11_1;
    };
  }
  function JsonElementSerializer$descriptor$lambda$lambda_2() {
    return function () {
      return JsonObjectSerializer_getInstance().c11_1;
    };
  }
  function JsonElementSerializer$descriptor$lambda$lambda_3() {
    return function () {
      return JsonArraySerializer_getInstance().g11_1;
    };
  }
  function JsonElementSerializer$descriptor$lambda() {
    return function ($this$buildSerialDescriptor) {
      var tmp = defer(JsonElementSerializer$descriptor$lambda$lambda());
      $this$buildSerialDescriptor.rn('JsonPrimitive', tmp, null, false, 12, null);
      var tmp_0 = defer(JsonElementSerializer$descriptor$lambda$lambda_0());
      $this$buildSerialDescriptor.rn('JsonNull', tmp_0, null, false, 12, null);
      var tmp_1 = defer(JsonElementSerializer$descriptor$lambda$lambda_1());
      $this$buildSerialDescriptor.rn('JsonLiteral', tmp_1, null, false, 12, null);
      var tmp_2 = defer(JsonElementSerializer$descriptor$lambda$lambda_2());
      $this$buildSerialDescriptor.rn('JsonObject', tmp_2, null, false, 12, null);
      var tmp_3 = defer(JsonElementSerializer$descriptor$lambda$lambda_3());
      $this$buildSerialDescriptor.rn('JsonArray', tmp_3, null, false, 12, null);
      return Unit_getInstance();
    };
  }
  function JsonElementSerializer() {
    JsonElementSerializer_instance = this;
    var tmp = this;
    var tmp_0 = SEALED_getInstance();
    tmp.h11_1 = buildSerialDescriptor$default('kotlinx.serialization.json.JsonElement', tmp_0, [], JsonElementSerializer$descriptor$lambda(), 4, null);
  }
  JsonElementSerializer.prototype.hn = function () {
    return this.h11_1;
  };
  JsonElementSerializer.prototype.in = function (decoder) {
    var input = asJsonDecoder(decoder);
    return input.m10();
  };
  JsonElementSerializer.$metadata$ = objectMeta('JsonElementSerializer', [KSerializer]);
  var JsonElementSerializer_instance;
  function JsonElementSerializer_getInstance() {
    if (JsonElementSerializer_instance == null)
      new JsonElementSerializer();
    return JsonElementSerializer_instance;
  }
  function JsonPrimitiveSerializer() {
    JsonPrimitiveSerializer_instance = this;
    var tmp = this;
    var tmp_0 = STRING_getInstance();
    tmp.d11_1 = buildSerialDescriptor$default('kotlinx.serialization.json.JsonPrimitive', tmp_0, [], null, 12, null);
  }
  JsonPrimitiveSerializer.prototype.hn = function () {
    return this.d11_1;
  };
  JsonPrimitiveSerializer.prototype.in = function (decoder) {
    var result = asJsonDecoder(decoder).m10();
    if (!(result instanceof JsonPrimitive))
      throw JsonDecodingException_0(-1, 'Unexpected JSON element, expected JsonPrimitive, had ' + getKClassFromExpression(result), toString(result));
    return result;
  };
  JsonPrimitiveSerializer.$metadata$ = objectMeta('JsonPrimitiveSerializer', [KSerializer]);
  var JsonPrimitiveSerializer_instance;
  function JsonPrimitiveSerializer_getInstance() {
    if (JsonPrimitiveSerializer_instance == null)
      new JsonPrimitiveSerializer();
    return JsonPrimitiveSerializer_instance;
  }
  function JsonArrayDescriptor() {
    JsonArrayDescriptor_instance = this;
    this.i11_1 = ListSerializer(JsonElementSerializer_getInstance()).hn();
    this.j11_1 = 'kotlinx.serialization.json.JsonArray';
  }
  JsonArrayDescriptor.prototype.jo = function () {
    return this.i11_1.jo();
  };
  JsonArrayDescriptor.prototype.ko = function () {
    return this.i11_1.ko();
  };
  JsonArrayDescriptor.prototype.lo = function () {
    return this.i11_1.lo();
  };
  JsonArrayDescriptor.prototype.eo = function () {
    return this.i11_1.eo();
  };
  JsonArrayDescriptor.prototype.mo = function () {
    return this.i11_1.mo();
  };
  JsonArrayDescriptor.prototype.no = function (index) {
    return this.i11_1.no(index);
  };
  JsonArrayDescriptor.prototype.oo = function (index) {
    return this.i11_1.oo(index);
  };
  JsonArrayDescriptor.prototype.po = function (name) {
    return this.i11_1.po(name);
  };
  JsonArrayDescriptor.prototype.qo = function (index) {
    return this.i11_1.qo(index);
  };
  JsonArrayDescriptor.prototype.ro = function (index) {
    return this.i11_1.ro(index);
  };
  JsonArrayDescriptor.prototype.io = function () {
    return this.j11_1;
  };
  JsonArrayDescriptor.$metadata$ = objectMeta('JsonArrayDescriptor', [SerialDescriptor]);
  var JsonArrayDescriptor_instance;
  function JsonArrayDescriptor_getInstance() {
    if (JsonArrayDescriptor_instance == null)
      new JsonArrayDescriptor();
    return JsonArrayDescriptor_instance;
  }
  function JsonArraySerializer() {
    JsonArraySerializer_instance = this;
    this.g11_1 = JsonArrayDescriptor_getInstance();
  }
  JsonArraySerializer.prototype.hn = function () {
    return this.g11_1;
  };
  JsonArraySerializer.prototype.in = function (decoder) {
    verify(decoder);
    return new JsonArray(ListSerializer(JsonElementSerializer_getInstance()).in(decoder));
  };
  JsonArraySerializer.$metadata$ = objectMeta('JsonArraySerializer', [KSerializer]);
  var JsonArraySerializer_instance;
  function JsonArraySerializer_getInstance() {
    if (JsonArraySerializer_instance == null)
      new JsonArraySerializer();
    return JsonArraySerializer_instance;
  }
  function JsonNullSerializer() {
    JsonNullSerializer_instance = this;
    var tmp = this;
    var tmp_0 = ENUM_getInstance();
    tmp.e11_1 = buildSerialDescriptor$default('kotlinx.serialization.json.JsonNull', tmp_0, [], null, 12, null);
  }
  JsonNullSerializer.prototype.hn = function () {
    return this.e11_1;
  };
  JsonNullSerializer.prototype.in = function (decoder) {
    verify(decoder);
    if (decoder.np()) {
      throw new JsonDecodingException("Expected 'null' literal");
    }
    decoder.op();
    return JsonNull_getInstance();
  };
  JsonNullSerializer.$metadata$ = objectMeta('JsonNullSerializer', [KSerializer]);
  var JsonNullSerializer_instance;
  function JsonNullSerializer_getInstance() {
    if (JsonNullSerializer_instance == null)
      new JsonNullSerializer();
    return JsonNullSerializer_instance;
  }
  function verify(decoder) {
    asJsonDecoder(decoder);
  }
  function defer(deferred) {
    return new defer$1(deferred);
  }
  function JsonLiteralSerializer() {
    JsonLiteralSerializer_instance = this;
    this.f11_1 = PrimitiveSerialDescriptor('kotlinx.serialization.json.JsonLiteral', STRING_getInstance());
  }
  JsonLiteralSerializer.prototype.hn = function () {
    return this.f11_1;
  };
  JsonLiteralSerializer.prototype.in = function (decoder) {
    var result = asJsonDecoder(decoder).m10();
    if (!(result instanceof JsonLiteral))
      throw JsonDecodingException_0(-1, 'Unexpected JSON element, expected JsonLiteral, had ' + getKClassFromExpression(result), toString(result));
    return result;
  };
  JsonLiteralSerializer.$metadata$ = objectMeta('JsonLiteralSerializer', [KSerializer]);
  var JsonLiteralSerializer_instance;
  function JsonLiteralSerializer_getInstance() {
    if (JsonLiteralSerializer_instance == null)
      new JsonLiteralSerializer();
    return JsonLiteralSerializer_instance;
  }
  function asJsonDecoder(_this__u8e3s4) {
    var tmp0_elvis_lhs = isInterface(_this__u8e3s4, JsonDecoder) ? _this__u8e3s4 : null;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      throw IllegalStateException_init_$Create$('This serializer can be used only with Json format.' + ('Expected Decoder to be JsonDecoder, got ' + getKClassFromExpression(_this__u8e3s4)));
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  }
  function _get_original__l7ku1m($this) {
    var tmp$ret$0;
    {
      var tmp0_getValue = original$factory();
      tmp$ret$0 = $this.k11_1.l2();
    }
    return tmp$ret$0;
  }
  function defer$1($deferred) {
    this.k11_1 = lazy_0($deferred);
  }
  defer$1.prototype.io = function () {
    return _get_original__l7ku1m(this).io();
  };
  defer$1.prototype.mo = function () {
    return _get_original__l7ku1m(this).mo();
  };
  defer$1.prototype.ko = function () {
    return _get_original__l7ku1m(this).ko();
  };
  defer$1.prototype.qo = function (index) {
    return _get_original__l7ku1m(this).qo(index);
  };
  defer$1.prototype.po = function (name) {
    return _get_original__l7ku1m(this).po(name);
  };
  defer$1.prototype.no = function (index) {
    return _get_original__l7ku1m(this).no(index);
  };
  defer$1.prototype.oo = function (index) {
    return _get_original__l7ku1m(this).oo(index);
  };
  defer$1.prototype.ro = function (index) {
    return _get_original__l7ku1m(this).ro(index);
  };
  defer$1.$metadata$ = classMeta(undefined, [SerialDescriptor]);
  function original$factory() {
    return getPropertyCallableRef('original', 1, KProperty1, function (receiver) {
      return _get_original__l7ku1m(receiver);
    }, null);
  }
  function readIfAbsent($this, descriptor, index) {
    $this.m11_1 = !descriptor.ro(index) ? descriptor.oo(index).eo() : false;
    return $this.m11_1;
  }
  function JsonElementMarker$readIfAbsent$ref($boundThis) {
    var l = function (p0, p1) {
      return readIfAbsent($boundThis, p0, p1);
    };
    l.callableName = 'readIfAbsent';
    return l;
  }
  function JsonElementMarker(descriptor) {
    var tmp = this;
    tmp.l11_1 = new ElementMarker(descriptor, JsonElementMarker$readIfAbsent$ref(this));
    this.m11_1 = false;
  }
  JsonElementMarker.prototype.au = function (index) {
    this.l11_1.au(index);
  };
  JsonElementMarker.prototype.bu = function () {
    return this.l11_1.bu();
  };
  JsonElementMarker.$metadata$ = classMeta('JsonElementMarker');
  function JsonDecodingException(message) {
    JsonException.call(this, message);
    captureStack(this, JsonDecodingException);
  }
  JsonDecodingException.$metadata$ = classMeta('JsonDecodingException', undefined, undefined, undefined, undefined, JsonException.prototype);
  function JsonDecodingException_0(offset, message, input) {
    return JsonDecodingException_1(offset, message + '\nJSON input: ' + minify(input, offset));
  }
  function throwInvalidFloatingPointDecoded(_this__u8e3s4, result) {
    var tmp = 'Unexpected special floating-point value ' + toString(result) + '. By default, ' + 'non-finite floating point values are prohibited because they do not conform JSON specification';
    _this__u8e3s4.n11(tmp, 0, get_specialFlowingValuesHint(), 2, null);
  }
  function JsonEncodingException(message) {
    JsonException.call(this, message);
    captureStack(this, JsonEncodingException);
  }
  JsonEncodingException.$metadata$ = classMeta('JsonEncodingException', undefined, undefined, undefined, undefined, JsonException.prototype);
  function InvalidKeyKindException(keyDescriptor) {
    return new JsonEncodingException("Value of type '" + keyDescriptor.io() + "' can't be used in JSON as a key in the map. " + ("It should have either primitive or enum kind, but its kind is '" + keyDescriptor.mo() + "'.\n") + get_allowStructuredMapKeysHint());
  }
  function InvalidFloatingPointDecoded(value, key, output) {
    return JsonDecodingException_1(-1, unexpectedFpErrorMessage(value, key, output));
  }
  function JsonDecodingException_1(offset, message) {
    return new JsonDecodingException(offset >= 0 ? 'Unexpected JSON token at offset ' + offset + ': ' + message : message);
  }
  function UnknownKeyException(key, input) {
    var tmp = "Encountered unknown key '" + key + "'.\n" + (get_ignoreUnknownKeysHint() + '\n');
    return JsonDecodingException_1(-1, tmp + ('Current input: ' + minify$default(input, 0, 1, null)));
  }
  function JsonException(message) {
    SerializationException_init_$Init$(message, this);
    captureStack(this, JsonException);
  }
  JsonException.$metadata$ = classMeta('JsonException', undefined, undefined, undefined, undefined, SerializationException.prototype);
  function minify(_this__u8e3s4, offset) {
    if (charSequenceLength(_this__u8e3s4) < 200)
      return _this__u8e3s4;
    if (offset === -1) {
      var start = charSequenceLength(_this__u8e3s4) - 60 | 0;
      if (start <= 0)
        return _this__u8e3s4;
      var tmp$ret$0;
      {
        var tmp0_substring = charSequenceLength(_this__u8e3s4);
        tmp$ret$0 = toString(charSequenceSubSequence(_this__u8e3s4, start, tmp0_substring));
      }
      return '.....' + tmp$ret$0;
    }
    var start_0 = offset - 30 | 0;
    var end = offset + 30 | 0;
    var prefix = start_0 <= 0 ? '' : '.....';
    var suffix = end >= charSequenceLength(_this__u8e3s4) ? '' : '.....';
    var tmp$ret$1;
    {
      var tmp1_substring = coerceAtLeast(start_0, 0);
      var tmp2_substring = coerceAtMost(end, charSequenceLength(_this__u8e3s4));
      tmp$ret$1 = toString(charSequenceSubSequence(_this__u8e3s4, tmp1_substring, tmp2_substring));
    }
    return prefix + tmp$ret$1 + suffix;
  }
  function minify$default(_this__u8e3s4, offset, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      offset = -1;
    return minify(_this__u8e3s4, offset);
  }
  function unexpectedFpErrorMessage(value, key, output) {
    var tmp = 'Unexpected special floating-point value ' + toString(value) + ' with key ' + key + '. By default, ' + 'non-finite floating point values are prohibited because they do not conform JSON specification. ' + (get_specialFlowingValuesHint() + '\n');
    return tmp + ('Current output: ' + minify$default(output, 0, 1, null));
  }
  function get_JsonAlternativeNamesKey() {
    init_properties_JsonNamesMap_kt_1j2xk2();
    return JsonAlternativeNamesKey;
  }
  var JsonAlternativeNamesKey;
  function tryCoerceValue(_this__u8e3s4, elementDescriptor, peekNull, peekString, onEnumCoercing) {
    init_properties_JsonNamesMap_kt_1j2xk2();
    if (!elementDescriptor.eo() ? peekNull() : false)
      return true;
    if (equals(elementDescriptor.mo(), ENUM_getInstance())) {
      var tmp0_elvis_lhs = peekString();
      var tmp;
      if (tmp0_elvis_lhs == null) {
        return false;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var enumValue = tmp;
      var enumIndex = getJsonNameIndex(elementDescriptor, _this__u8e3s4, enumValue);
      Companion_getInstance();
      if (enumIndex === -3) {
        onEnumCoercing();
        return true;
      }
    }
    return false;
  }
  function getJsonNameIndex(_this__u8e3s4, json, name) {
    init_properties_JsonNamesMap_kt_1j2xk2();
    var index = _this__u8e3s4.po(name);
    Companion_getInstance();
    if (!(index === -3))
      return index;
    if (!json.iz_1.j10_1)
      return index;
    var tmp = get_schemaCache(json);
    var tmp_0 = get_JsonAlternativeNamesKey();
    var alternativeNamesMap = tmp.p11(_this__u8e3s4, tmp_0, buildAlternativeNamesMap$ref(_this__u8e3s4));
    var tmp0_elvis_lhs = alternativeNamesMap.z2(name);
    var tmp_1;
    if (tmp0_elvis_lhs == null) {
      Companion_getInstance();
      tmp_1 = -3;
    } else {
      tmp_1 = tmp0_elvis_lhs;
    }
    return tmp_1;
  }
  function buildAlternativeNamesMap(_this__u8e3s4) {
    init_properties_JsonNamesMap_kt_1j2xk2();
    var builder = null;
    var inductionVariable = 0;
    var last = _this__u8e3s4.ko();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tmp$ret$1;
        {
          var tmp0_filterIsInstance = _this__u8e3s4.no(i);
          var tmp$ret$0;
          {
            var tmp0_filterIsInstanceTo = ArrayList_init_$Create$();
            var tmp0_iterator = tmp0_filterIsInstance.h();
            while (tmp0_iterator.n()) {
              var element = tmp0_iterator.o();
              if (element instanceof JsonNames) {
                tmp0_filterIsInstanceTo.b(element);
              }
            }
            tmp$ret$0 = tmp0_filterIsInstanceTo;
          }
          tmp$ret$1 = tmp$ret$0;
        }
        var tmp1_safe_receiver = singleOrNull(tmp$ret$1);
        var tmp2_safe_receiver = tmp1_safe_receiver == null ? null : tmp1_safe_receiver.q11_1;
        if (tmp2_safe_receiver == null)
          null;
        else {
          {
            var tmp0_iterator_0 = arrayIterator(tmp2_safe_receiver);
            while (tmp0_iterator_0.n()) {
              var element_0 = tmp0_iterator_0.o();
              {
                if (builder == null)
                  builder = createMapForCache(_this__u8e3s4.ko());
                buildAlternativeNamesMap$putOrThrow(ensureNotNull(builder), _this__u8e3s4, element_0, i);
              }
            }
          }
        }
      }
       while (inductionVariable < last);
    var tmp3_elvis_lhs = builder;
    return tmp3_elvis_lhs == null ? emptyMap() : tmp3_elvis_lhs;
  }
  function buildAlternativeNamesMap$putOrThrow(_this__u8e3s4, $this_buildAlternativeNamesMap, name, index) {
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        tmp$ret$0 = (isInterface(_this__u8e3s4, Map) ? _this__u8e3s4 : THROW_CCE()).t2(name);
      }
      tmp$ret$1 = tmp$ret$0;
    }
    if (tmp$ret$1) {
      throw new JsonException("The suggested name '" + name + "' for property " + $this_buildAlternativeNamesMap.qo(index) + ' is already one of the names for property ' + ($this_buildAlternativeNamesMap.qo(getValue(_this__u8e3s4, name)) + ' in ' + $this_buildAlternativeNamesMap));
    }
    {
      _this__u8e3s4.a(name, index);
    }
  }
  function buildAlternativeNamesMap$ref($boundThis) {
    var l = function () {
      return buildAlternativeNamesMap($boundThis);
    };
    l.callableName = 'buildAlternativeNamesMap';
    return l;
  }
  var properties_initialized_JsonNamesMap_kt_ljpf42;
  function init_properties_JsonNamesMap_kt_1j2xk2() {
    if (properties_initialized_JsonNamesMap_kt_ljpf42) {
    } else {
      properties_initialized_JsonNamesMap_kt_ljpf42 = true;
      JsonAlternativeNamesKey = new Key();
    }
  }
  function Tombstone() {
    Tombstone_instance = this;
  }
  Tombstone.$metadata$ = objectMeta('Tombstone');
  var Tombstone_instance;
  function Tombstone_getInstance() {
    if (Tombstone_instance == null)
      new Tombstone();
    return Tombstone_instance;
  }
  function resize($this) {
    var newSize = imul($this.t11_1, 2);
    $this.r11_1 = copyOf($this.r11_1, newSize);
    $this.s11_1 = copyOf_0($this.s11_1, newSize);
  }
  function JsonPath() {
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(8), null);
    }
    tmp.r11_1 = tmp$ret$0;
    var tmp_0 = this;
    var tmp_1 = 0;
    var tmp_2 = 8;
    var tmp_3 = new Int32Array(tmp_2);
    while (tmp_1 < tmp_2) {
      var tmp_4 = tmp_1;
      var tmp$ret$1;
      {
        tmp$ret$1 = -1;
      }
      tmp_3[tmp_4] = tmp$ret$1;
      tmp_1 = tmp_1 + 1 | 0;
    }
    tmp_0.s11_1 = tmp_3;
    this.t11_1 = -1;
  }
  JsonPath.prototype.u11 = function (sd) {
    var tmp0_this = this;
    tmp0_this.t11_1 = tmp0_this.t11_1 + 1 | 0;
    var depth = tmp0_this.t11_1;
    if (depth === this.r11_1.length) {
      resize(this);
    }
    this.r11_1[depth] = sd;
  };
  JsonPath.prototype.v11 = function (index) {
    this.s11_1[this.t11_1] = index;
  };
  JsonPath.prototype.w11 = function (key) {
    var tmp;
    if (!(this.s11_1[this.t11_1] === -2)) {
      var tmp0_this = this;
      tmp0_this.t11_1 = tmp0_this.t11_1 + 1 | 0;
      tmp = tmp0_this.t11_1 === this.r11_1.length;
    } else {
      tmp = false;
    }
    if (tmp) {
      resize(this);
    }
    this.r11_1[this.t11_1] = key;
    this.s11_1[this.t11_1] = -2;
  };
  JsonPath.prototype.x11 = function () {
    if (this.s11_1[this.t11_1] === -2) {
      this.r11_1[this.t11_1] = Tombstone_getInstance();
    }
  };
  JsonPath.prototype.y11 = function () {
    var depth = this.t11_1;
    if (this.s11_1[depth] === -2) {
      this.s11_1[depth] = -1;
      var tmp0_this = this;
      var tmp1 = tmp0_this.t11_1;
      tmp0_this.t11_1 = tmp1 - 1 | 0;
    }
    if (!(this.t11_1 === -1)) {
      var tmp2_this = this;
      var tmp3 = tmp2_this.t11_1;
      tmp2_this.t11_1 = tmp3 - 1 | 0;
    }
  };
  JsonPath.prototype.z11 = function () {
    var tmp$ret$1;
    {
      {
      }
      var tmp$ret$0;
      {
        var tmp0_apply = StringBuilder_init_$Create$();
        {
        }
        {
          tmp0_apply.ga('$');
          {
            var tmp0_repeat = this.t11_1 + 1 | 0;
            {
            }
            var inductionVariable = 0;
            if (inductionVariable < tmp0_repeat)
              do {
                var index = inductionVariable;
                inductionVariable = inductionVariable + 1 | 0;
                {
                  var element = this.r11_1[index];
                  if (!(element == null) ? isInterface(element, SerialDescriptor) : false) {
                    if (equals(element.mo(), LIST_getInstance())) {
                      if (!(this.s11_1[index] === -1)) {
                        tmp0_apply.ga('[');
                        tmp0_apply.ob(this.s11_1[index]);
                        tmp0_apply.ga(']');
                      }
                    } else {
                      var idx = this.s11_1[index];
                      if (idx >= 0) {
                        tmp0_apply.ga('.');
                        tmp0_apply.ga(element.qo(idx));
                      }
                    }
                  } else {
                    if (!(element === Tombstone_getInstance())) {
                      tmp0_apply.ga('[');
                      tmp0_apply.ga("'");
                      tmp0_apply.ob(element);
                      tmp0_apply.ga("'");
                      tmp0_apply.ga(']');
                    }
                  }
                }
              }
               while (inductionVariable < tmp0_repeat);
          }
        }
        tmp$ret$0 = tmp0_apply;
      }
      tmp$ret$1 = tmp$ret$0.toString();
    }
    return tmp$ret$1;
  };
  JsonPath.prototype.toString = function () {
    return this.z11();
  };
  JsonPath.$metadata$ = classMeta('JsonPath');
  function readObject($this) {
    var tmp$ret$2;
    {
      var lastToken = $this.a12_1.d12(get_TC_BEGIN_OBJ());
      if ($this.a12_1.e12() === get_TC_COMMA()) {
        $this.a12_1.n11('Unexpected leading comma', 0, null, 6, null);
      }
      var tmp$ret$0;
      {
        tmp$ret$0 = LinkedHashMap_init_$Create$();
      }
      var result = tmp$ret$0;
      $l$loop: while ($this.a12_1.f12()) {
        var key = $this.b12_1 ? $this.a12_1.h12() : $this.a12_1.g12();
        $this.a12_1.d12(get_TC_COLON());
        var tmp$ret$1;
        {
          tmp$ret$1 = $this.i12();
        }
        var element = tmp$ret$1;
        {
          result.a(key, element);
        }
        lastToken = $this.a12_1.j12();
        var tmp0_subject = lastToken;
        if (tmp0_subject === get_TC_COMMA())
        ;
        else if (tmp0_subject === get_TC_END_OBJ())
          break $l$loop;
        else {
          $this.a12_1.n11('Expected end of the object or comma', 0, null, 6, null);
        }
      }
      if (lastToken === get_TC_BEGIN_OBJ()) {
        $this.a12_1.d12(get_TC_END_OBJ());
      } else if (lastToken === get_TC_COMMA()) {
        $this.a12_1.n11('Unexpected trailing comma', 0, null, 6, null);
      }
      tmp$ret$2 = new JsonObject(result);
    }
    return tmp$ret$2;
  }
  function readObject_0(_this__u8e3s4, $this, $cont) {
    var tmp = new $readObjectCOROUTINE$0($this, _this__u8e3s4, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  }
  function readArray($this) {
    var lastToken = $this.a12_1.j12();
    if ($this.a12_1.e12() === get_TC_COMMA()) {
      $this.a12_1.n11('Unexpected leading comma', 0, null, 6, null);
    }
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$();
    }
    var result = tmp$ret$0;
    while ($this.a12_1.f12()) {
      var element = $this.i12();
      result.b(element);
      lastToken = $this.a12_1.j12();
      if (!(lastToken === get_TC_COMMA())) {
        {
          var tmp0_require = $this.a12_1;
          var tmp1_require = lastToken === get_TC_END_LIST();
          var tmp2_require = tmp0_require.tz_1;
          if (!tmp1_require) {
            var tmp$ret$1;
            {
              tmp$ret$1 = 'Expected end of the array or comma';
            }
            var tmp = tmp$ret$1;
            tmp0_require.n11(tmp, tmp2_require, null, 4, null);
          }
        }
      }
    }
    if (lastToken === get_TC_BEGIN_LIST()) {
      $this.a12_1.d12(get_TC_END_LIST());
    } else if (lastToken === get_TC_COMMA()) {
      $this.a12_1.n11('Unexpected trailing comma', 0, null, 6, null);
    }
    return new JsonArray(result);
  }
  function readValue($this, isString) {
    var tmp;
    if ($this.b12_1 ? true : !isString) {
      tmp = $this.a12_1.h12();
    } else {
      tmp = $this.a12_1.g12();
    }
    var string = tmp;
    if (!isString ? string === get_NULL() : false)
      return JsonNull_getInstance();
    return new JsonLiteral(string, isString);
  }
  function readDeepRecursive($this) {
    return invoke(new DeepRecursiveFunction(JsonTreeReader$readDeepRecursive$slambda_0($this, null)), Unit_getInstance());
  }
  function JsonTreeReader$readDeepRecursive$slambda(this$0, resultContinuation) {
    this.f13_1 = this$0;
    CoroutineImpl.call(this, resultContinuation);
  }
  JsonTreeReader$readDeepRecursive$slambda.prototype.k13 = function ($this$$receiver, it, $cont) {
    var tmp = this.l13($this$$receiver, it, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  JsonTreeReader$readDeepRecursive$slambda.prototype.kc = function (p1, p2, $cont) {
    var tmp = p1 instanceof DeepRecursiveScope ? p1 : THROW_CCE();
    return this.k13(tmp, p2 instanceof Unit ? p2 : THROW_CCE(), $cont);
  };
  JsonTreeReader$readDeepRecursive$slambda.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 3;
            this.i13_1 = this.f13_1.a12_1.e12();
            if (this.i13_1 === get_TC_STRING()) {
              this.j13_1 = readValue(this.f13_1, true);
              this.k7_1 = 2;
              continue $sm;
            } else {
              if (this.i13_1 === get_TC_OTHER()) {
                this.j13_1 = readValue(this.f13_1, false);
                this.k7_1 = 2;
                continue $sm;
              } else {
                if (this.i13_1 === get_TC_BEGIN_OBJ()) {
                  this.k7_1 = 1;
                  suspendResult = readObject_0(this.g13_1, this.f13_1, this);
                  if (suspendResult === get_COROUTINE_SUSPENDED()) {
                    return suspendResult;
                  }
                  continue $sm;
                } else {
                  if (this.i13_1 === get_TC_BEGIN_LIST()) {
                    this.j13_1 = readArray(this.f13_1);
                    this.k7_1 = 2;
                    continue $sm;
                  } else {
                    var tmp_0 = this;
                    this.f13_1.a12_1.n11("Can't begin reading element, unexpected token", 0, null, 6, null);
                  }
                }
              }
            }

            break;
          case 1:
            this.j13_1 = suspendResult;
            this.k7_1 = 2;
            continue $sm;
          case 2:
            return this.j13_1;
          case 3:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 3) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  JsonTreeReader$readDeepRecursive$slambda.prototype.l13 = function ($this$$receiver, it, completion) {
    var i = new JsonTreeReader$readDeepRecursive$slambda(this.f13_1, completion);
    i.g13_1 = $this$$receiver;
    i.h13_1 = it;
    return i;
  };
  JsonTreeReader$readDeepRecursive$slambda.$metadata$ = classMeta('JsonTreeReader$readDeepRecursive$slambda', undefined, undefined, undefined, [2], CoroutineImpl.prototype);
  function JsonTreeReader$readDeepRecursive$slambda_0(this$0, resultContinuation) {
    var i = new JsonTreeReader$readDeepRecursive$slambda(this$0, resultContinuation);
    var l = function ($this$$receiver, it, $cont) {
      return i.k13($this$$receiver, it, $cont);
    };
    l.$arity = 2;
    return l;
  }
  function $readObjectCOROUTINE$0(_this__u8e3s4, _this__u8e3s4_0, resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
    this.s12_1 = _this__u8e3s4;
    this.t12_1 = _this__u8e3s4_0;
  }
  $readObjectCOROUTINE$0.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 5;
            this.u12_1 = this.s12_1.a12_1.d12(get_TC_BEGIN_OBJ());
            if (this.s12_1.a12_1.e12() === get_TC_COMMA()) {
              this.s12_1.a12_1.n11('Unexpected leading comma', 0, null, 6, null);
            }

            var tmp_0 = this;
            tmp_0.v12_1 = LinkedHashMap_init_$Create$();
            this.k7_1 = 1;
            continue $sm;
          case 1:
            if (!this.s12_1.a12_1.f12()) {
              this.k7_1 = 4;
              continue $sm;
            }

            this.w12_1 = this.s12_1.b12_1 ? this.s12_1.a12_1.h12() : this.s12_1.a12_1.g12();
            this.s12_1.a12_1.d12(get_TC_COLON());
            ;
            this.k7_1 = 2;
            suspendResult = this.t12_1.cc(Unit_getInstance(), this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 2:
            var element = suspendResult;
            this.v12_1.a(this.w12_1, element);
            ;
            this.u12_1 = this.s12_1.a12_1.j12();
            var tmp0_subject = this.u12_1;
            if (tmp0_subject === get_TC_COMMA()) {
              this.k7_1 = 3;
              continue $sm;
            } else {
              if (tmp0_subject === get_TC_END_OBJ()) {
                this.k7_1 = 4;
                continue $sm;
              } else {
                this.s12_1.a12_1.n11('Expected end of the object or comma', 0, null, 6, null);
              }
            }

            break;
          case 3:
            this.k7_1 = 1;
            continue $sm;
          case 4:
            if (this.u12_1 === get_TC_BEGIN_OBJ()) {
              this.s12_1.a12_1.d12(get_TC_END_OBJ());
            } else if (this.u12_1 === get_TC_COMMA()) {
              this.s12_1.a12_1.n11('Unexpected trailing comma', 0, null, 6, null);
            }

            return new JsonObject(this.v12_1);
          case 5:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 5) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  $readObjectCOROUTINE$0.$metadata$ = classMeta('$readObjectCOROUTINE$0', undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function JsonTreeReader(configuration, lexer) {
    this.a12_1 = lexer;
    this.b12_1 = configuration.a10_1;
    this.c12_1 = 0;
  }
  JsonTreeReader.prototype.i12 = function () {
    var token = this.a12_1.e12();
    var tmp;
    if (token === get_TC_STRING()) {
      tmp = readValue(this, true);
    } else if (token === get_TC_OTHER()) {
      tmp = readValue(this, false);
    } else if (token === get_TC_BEGIN_OBJ()) {
      var tmp_0;
      var tmp0_this = this;
      tmp0_this.c12_1 = tmp0_this.c12_1 + 1 | 0;
      if (tmp0_this.c12_1 === 200) {
        tmp_0 = readDeepRecursive(this);
      } else {
        tmp_0 = readObject(this);
      }
      var result = tmp_0;
      var tmp1_this = this;
      tmp1_this.c12_1 = tmp1_this.c12_1 - 1 | 0;
      tmp = result;
    } else if (token === get_TC_BEGIN_LIST()) {
      tmp = readArray(this);
    } else {
      var tmp_1 = 'Cannot begin reading element, unexpected token: ' + token;
      this.a12_1.n11(tmp_1, 0, null, 6, null);
    }
    return tmp;
  };
  JsonTreeReader.$metadata$ = classMeta('JsonTreeReader');
  function classDiscriminator(_this__u8e3s4, json) {
    var tmp0_iterator = _this__u8e3s4.jo().h();
    while (tmp0_iterator.n()) {
      var annotation = tmp0_iterator.o();
      if (annotation instanceof JsonClassDiscriminator)
        return annotation.m13_1;
    }
    return json.iz_1.h10_1;
  }
  function decodeSerializableValuePolymorphic(_this__u8e3s4, deserializer) {
    var tmp;
    if (!(deserializer instanceof AbstractPolymorphicSerializer)) {
      tmp = true;
    } else {
      tmp = _this__u8e3s4.l10().iz_1.g10_1;
    }
    if (tmp) {
      return deserializer.in(_this__u8e3s4);
    }
    var discriminator = classDiscriminator(deserializer.hn(), _this__u8e3s4.l10());
    var tmp$ret$0;
    {
      var tmp0_cast = _this__u8e3s4.m10();
      var tmp1_cast = deserializer.hn();
      if (!(tmp0_cast instanceof JsonObject)) {
        throw JsonDecodingException_1(-1, 'Expected ' + getKClass(JsonObject) + ' as the serialized body of ' + tmp1_cast.io() + ', but had ' + getKClassFromExpression(tmp0_cast));
      }
      tmp$ret$0 = tmp0_cast;
    }
    var jsonTree = tmp$ret$0;
    var tmp0_safe_receiver = jsonTree.p10(discriminator);
    var tmp1_safe_receiver = tmp0_safe_receiver == null ? null : get_jsonPrimitive(tmp0_safe_receiver);
    var type = tmp1_safe_receiver == null ? null : tmp1_safe_receiver.q10();
    var tmp2_elvis_lhs = deserializer.wn(_this__u8e3s4, type);
    var tmp_0;
    if (tmp2_elvis_lhs == null) {
      throwSerializerNotFound(type, jsonTree);
    } else {
      tmp_0 = tmp2_elvis_lhs;
    }
    var actualSerializer = tmp_0;
    var tmp_1 = _this__u8e3s4.l10();
    return readPolymorphicJson(tmp_1, discriminator, jsonTree, isInterface(actualSerializer, DeserializationStrategy) ? actualSerializer : THROW_CCE());
  }
  function throwSerializerNotFound(type, jsonTree) {
    var suffix = type == null ? "missing class discriminator ('null')" : "class discriminator '" + type + "'";
    throw JsonDecodingException_0(-1, 'Polymorphic serializer was not found for ' + suffix, jsonTree.toString());
  }
  function Key() {
  }
  Key.$metadata$ = classMeta('Key');
  function DescriptorSchemaCache() {
    this.o11_1 = createMapForCache(1);
  }
  DescriptorSchemaCache.prototype.n13 = function (descriptor, key, value) {
    {
      var tmp$ret$1;
      {
        var tmp0_getOrPut = this.o11_1;
        var value_0 = tmp0_getOrPut.z2(descriptor);
        var tmp;
        if (value_0 == null) {
          var tmp$ret$0;
          {
            tmp$ret$0 = createMapForCache(1);
          }
          var answer = tmp$ret$0;
          tmp0_getOrPut.a(descriptor, answer);
          tmp = answer;
        } else {
          tmp = value_0;
        }
        tmp$ret$1 = tmp;
      }
      var tmp1_set = tmp$ret$1;
      var tmp2_set = key instanceof Key ? key : THROW_CCE();
      var tmp3_set = isObject(value) ? value : THROW_CCE();
      tmp1_set.a(tmp2_set, tmp3_set);
    }
  };
  DescriptorSchemaCache.prototype.p11 = function (descriptor, key, defaultValue) {
    var tmp0_safe_receiver = this.o13(descriptor, key);
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        return tmp0_safe_receiver;
      }
    }
    var value = defaultValue();
    this.n13(descriptor, key, value);
    return value;
  };
  DescriptorSchemaCache.prototype.o13 = function (descriptor, key) {
    var tmp0_safe_receiver = this.o11_1.z2(descriptor);
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      tmp = tmp0_safe_receiver.z2(key instanceof Key ? key : THROW_CCE());
    }
    var tmp_0 = tmp;
    return isObject(tmp_0) ? tmp_0 : null;
  };
  DescriptorSchemaCache.$metadata$ = classMeta('DescriptorSchemaCache');
  function DiscriminatorHolder(discriminatorToSkip) {
    this.p13_1 = discriminatorToSkip;
  }
  DiscriminatorHolder.$metadata$ = classMeta('DiscriminatorHolder');
  function trySkip(_this__u8e3s4, $this, unknownKey) {
    if (_this__u8e3s4 == null)
      return false;
    if (_this__u8e3s4.p13_1 === unknownKey) {
      _this__u8e3s4.p13_1 = null;
      return true;
    }
    return false;
  }
  function skipLeftoverElements($this, descriptor) {
    $l$loop: while (true) {
      var tmp = $this.oq(descriptor);
      Companion_getInstance();
      if (!!(tmp === -1)) {
        break $l$loop;
      }
    }
  }
  function checkLeadingComma($this) {
    if ($this.nz_1.e12() === get_TC_COMMA()) {
      $this.nz_1.n11('Unexpected leading comma', 0, null, 6, null);
    }
  }
  function decodeMapIndex($this) {
    var hasComma = false;
    var decodingKey = !(($this.pz_1 % 2 | 0) === 0);
    if (decodingKey) {
      if (!($this.pz_1 === -1)) {
        hasComma = $this.nz_1.r13();
      }
    } else {
      $this.nz_1.q13(get_COLON());
    }
    var tmp;
    if ($this.nz_1.f12()) {
      if (decodingKey) {
        if ($this.pz_1 === -1) {
          var tmp0_require = $this.nz_1;
          var tmp1_require = !hasComma;
          var tmp2_require = tmp0_require.tz_1;
          if (!tmp1_require) {
            var tmp$ret$0;
            {
              tmp$ret$0 = 'Unexpected trailing comma';
            }
            var tmp_0 = tmp$ret$0;
            tmp0_require.n11(tmp_0, tmp2_require, null, 4, null);
          }
        } else {
          var tmp3_require = $this.nz_1;
          var tmp4_require = hasComma;
          var tmp5_require = tmp3_require.tz_1;
          if (!tmp4_require) {
            var tmp$ret$1;
            {
              tmp$ret$1 = 'Expected comma after the key-value pair';
            }
            var tmp_1 = tmp$ret$1;
            tmp3_require.n11(tmp_1, tmp5_require, null, 4, null);
          }
        }
      }
      var tmp0_this = $this;
      tmp0_this.pz_1 = tmp0_this.pz_1 + 1 | 0;
      tmp = tmp0_this.pz_1;
    } else {
      if (hasComma) {
        $this.nz_1.n11("Expected '}', but had ',' instead", 0, null, 6, null);
      }
      Companion_getInstance();
      tmp = -1;
    }
    return tmp;
  }
  function coerceInputValue($this, descriptor, index) {
    var tmp$ret$1;
    $l$block_1: {
      var tmp0_tryCoerceValue = $this.lz_1;
      var tmp1_tryCoerceValue = descriptor.oo(index);
      var tmp;
      if (!tmp1_tryCoerceValue.eo()) {
        var tmp$ret$0;
        {
          tmp$ret$0 = !$this.nz_1.s13();
        }
        tmp = tmp$ret$0;
      } else {
        tmp = false;
      }
      if (tmp) {
        tmp$ret$1 = true;
        break $l$block_1;
      }
      if (equals(tmp1_tryCoerceValue.mo(), ENUM_getInstance())) {
        var tmp$ret$2;
        {
          tmp$ret$2 = $this.nz_1.t13($this.rz_1.a10_1);
        }
        var tmp0_elvis_lhs = tmp$ret$2;
        var tmp_0;
        if (tmp0_elvis_lhs == null) {
          tmp$ret$1 = false;
          break $l$block_1;
        } else {
          tmp_0 = tmp0_elvis_lhs;
        }
        var enumValue = tmp_0;
        var enumIndex = getJsonNameIndex(tmp1_tryCoerceValue, tmp0_tryCoerceValue, enumValue);
        Companion_getInstance();
        if (enumIndex === -3) {
          {
            $this.nz_1.g12();
          }
          tmp$ret$1 = true;
          break $l$block_1;
        }
      }
      tmp$ret$1 = false;
    }
    return tmp$ret$1;
  }
  function decodeObjectIndex($this, descriptor) {
    var hasComma = $this.nz_1.r13();
    while ($this.nz_1.f12()) {
      hasComma = false;
      var key = decodeStringKey($this);
      $this.nz_1.q13(get_COLON());
      var index = getJsonNameIndex(descriptor, $this.lz_1, key);
      var tmp;
      Companion_getInstance();
      if (!(index === -3)) {
        var tmp_0;
        if ($this.rz_1.f10_1 ? coerceInputValue($this, descriptor, index) : false) {
          hasComma = $this.nz_1.r13();
          tmp_0 = false;
        } else {
          var tmp0_safe_receiver = $this.sz_1;
          if (tmp0_safe_receiver == null)
            null;
          else {
            tmp0_safe_receiver.au(index);
          }
          return index;
        }
        tmp = tmp_0;
      } else {
        tmp = true;
      }
      var isUnknown = tmp;
      if (isUnknown) {
        hasComma = handleUnknown($this, key);
      }
    }
    if (hasComma) {
      $this.nz_1.n11('Unexpected trailing comma', 0, null, 6, null);
    }
    var tmp1_safe_receiver = $this.sz_1;
    var tmp2_elvis_lhs = tmp1_safe_receiver == null ? null : tmp1_safe_receiver.bu();
    var tmp_1;
    if (tmp2_elvis_lhs == null) {
      Companion_getInstance();
      tmp_1 = -1;
    } else {
      tmp_1 = tmp2_elvis_lhs;
    }
    return tmp_1;
  }
  function handleUnknown($this, key) {
    if ($this.rz_1.zz_1 ? true : trySkip($this.qz_1, $this, key)) {
      $this.nz_1.v13($this.rz_1.a10_1);
    } else {
      $this.nz_1.u13(key);
    }
    return $this.nz_1.r13();
  }
  function decodeListIndex($this) {
    var hasComma = $this.nz_1.r13();
    var tmp;
    if ($this.nz_1.f12()) {
      if (!($this.pz_1 === -1) ? !hasComma : false) {
        $this.nz_1.n11('Expected end of the array or comma', 0, null, 6, null);
      }
      var tmp0_this = $this;
      tmp0_this.pz_1 = tmp0_this.pz_1 + 1 | 0;
      tmp = tmp0_this.pz_1;
    } else {
      if (hasComma) {
        $this.nz_1.n11('Unexpected trailing comma', 0, null, 6, null);
      }
      Companion_getInstance();
      tmp = -1;
    }
    return tmp;
  }
  function decodeStringKey($this) {
    var tmp;
    if ($this.rz_1.a10_1) {
      tmp = $this.nz_1.x13();
    } else {
      tmp = $this.nz_1.w13();
    }
    return tmp;
  }
  function StreamingJsonDecoder(json, mode, lexer, descriptor, discriminatorHolder) {
    AbstractDecoder.call(this);
    this.lz_1 = json;
    this.mz_1 = mode;
    this.nz_1 = lexer;
    this.oz_1 = this.lz_1.yn();
    this.pz_1 = -1;
    this.qz_1 = discriminatorHolder;
    this.rz_1 = this.lz_1.iz_1;
    this.sz_1 = this.rz_1.d10_1 ? null : new JsonElementMarker(descriptor);
  }
  StreamingJsonDecoder.prototype.l10 = function () {
    return this.lz_1;
  };
  StreamingJsonDecoder.prototype.y13 = function () {
    return this.nz_1;
  };
  StreamingJsonDecoder.prototype.yn = function () {
    return this.oz_1;
  };
  StreamingJsonDecoder.prototype.m10 = function () {
    return (new JsonTreeReader(this.lz_1.iz_1, this.nz_1)).i12();
  };
  StreamingJsonDecoder.prototype.zp = function (deserializer) {
    try {
      var tmp;
      if (!(deserializer instanceof AbstractPolymorphicSerializer)) {
        tmp = true;
      } else {
        tmp = this.lz_1.iz_1.g10_1;
      }
      if (tmp) {
        return deserializer.in(this);
      }
      var discriminator = classDiscriminator(deserializer.hn(), this.lz_1);
      var type = this.nz_1.z13(discriminator, this.rz_1.a10_1);
      var actualSerializer = null;
      if (!(type == null)) {
        actualSerializer = deserializer.wn(this, type);
      }
      if (actualSerializer == null) {
        return decodeSerializableValuePolymorphic(this, isInterface(deserializer, DeserializationStrategy) ? deserializer : THROW_CCE());
      }
      this.qz_1 = new DiscriminatorHolder(discriminator);
      var tmp_0 = actualSerializer.in(this);
      var result = isObject(tmp_0) ? tmp_0 : THROW_CCE();
      return result;
    } catch ($p) {
      if ($p instanceof MissingFieldException) {
        throw new MissingFieldException($p.zn_1, plus($p.message, ' at path: ') + this.nz_1.uz_1.z11(), $p);
      } else {
        throw $p;
      }
    }
  };
  StreamingJsonDecoder.prototype.aq = function (descriptor) {
    var newMode = switchMode(this.lz_1, descriptor);
    this.nz_1.uz_1.u11(descriptor);
    this.nz_1.q13(newMode.c14_1);
    checkLeadingComma(this);
    var tmp0_subject = newMode;
    var tmp0 = tmp0_subject.w1();
    var tmp;
    switch (tmp0) {
      case 1:
      case 2:
      case 3:
        tmp = new StreamingJsonDecoder(this.lz_1, newMode, this.nz_1, descriptor, this.qz_1);
        break;
      default:
        var tmp_0;
        if (this.mz_1.equals(newMode) ? this.lz_1.iz_1.d10_1 : false) {
          tmp_0 = this;
        } else {
          tmp_0 = new StreamingJsonDecoder(this.lz_1, newMode, this.nz_1, descriptor, this.qz_1);
        }

        tmp = tmp_0;
        break;
    }
    return tmp;
  };
  StreamingJsonDecoder.prototype.bq = function (descriptor) {
    if (this.lz_1.iz_1.zz_1 ? descriptor.ko() === 0 : false) {
      skipLeftoverElements(this, descriptor);
    }
    this.nz_1.q13(this.mz_1.d14_1);
    this.nz_1.uz_1.y11();
  };
  StreamingJsonDecoder.prototype.np = function () {
    var tmp;
    var tmp0_safe_receiver = this.sz_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.m11_1;
    if (!(tmp1_elvis_lhs == null ? false : tmp1_elvis_lhs)) {
      tmp = this.nz_1.s13();
    } else {
      tmp = false;
    }
    return tmp;
  };
  StreamingJsonDecoder.prototype.op = function () {
    return null;
  };
  StreamingJsonDecoder.prototype.lq = function (descriptor, index, deserializer, previousValue) {
    var isMapKey = this.mz_1.equals(WriteMode_MAP_getInstance()) ? (index & 1) === 0 : false;
    if (isMapKey) {
      this.nz_1.uz_1.x11();
    }
    var value = AbstractDecoder.prototype.lq.call(this, descriptor, index, deserializer, previousValue);
    if (isMapKey) {
      this.nz_1.uz_1.w11(value);
    }
    return value;
  };
  StreamingJsonDecoder.prototype.oq = function (descriptor) {
    var tmp0_subject = this.mz_1;
    var tmp0 = tmp0_subject.w1();
    {
      var index;
      switch (tmp0) {
        case 0:
          index = decodeObjectIndex(this, descriptor);
          break;
        case 2:
          index = decodeMapIndex(this);
          break;
        default:
          index = decodeListIndex(this);
          break;
      }
    }
    if (!this.mz_1.equals(WriteMode_MAP_getInstance())) {
      this.nz_1.uz_1.v11(index);
    }
    return index;
  };
  StreamingJsonDecoder.prototype.pp = function () {
    var tmp;
    if (this.rz_1.a10_1) {
      tmp = this.nz_1.f14();
    } else {
      tmp = this.nz_1.e14();
    }
    return tmp;
  };
  StreamingJsonDecoder.prototype.qp = function () {
    var value = this.nz_1.g14();
    if (!value.equals(toLong_0(value.cm()))) {
      var tmp = "Failed to parse byte for input '" + toString(value) + "'";
      this.nz_1.n11(tmp, 0, null, 6, null);
    }
    return value.cm();
  };
  StreamingJsonDecoder.prototype.rp = function () {
    var value = this.nz_1.g14();
    if (!value.equals(toLong_0(value.dm()))) {
      var tmp = "Failed to parse short for input '" + toString(value) + "'";
      this.nz_1.n11(tmp, 0, null, 6, null);
    }
    return value.dm();
  };
  StreamingJsonDecoder.prototype.sp = function () {
    var value = this.nz_1.g14();
    if (!value.equals(toLong_0(value.fb()))) {
      var tmp = "Failed to parse int for input '" + toString(value) + "'";
      this.nz_1.n11(tmp, 0, null, 6, null);
    }
    return value.fb();
  };
  StreamingJsonDecoder.prototype.tp = function () {
    return this.nz_1.g14();
  };
  StreamingJsonDecoder.prototype.up = function () {
    var tmp$ret$4;
    $l$block: {
      var tmp0_parseString = this.nz_1;
      var input = tmp0_parseString.h12();
      try {
        var tmp$ret$3;
        {
          var tmp$ret$2;
          {
            var tmp$ret$1;
            {
              var tmp0_unsafeCast = toDouble(input);
              var tmp$ret$0;
              {
                tmp$ret$0 = tmp0_unsafeCast;
              }
              tmp$ret$1 = tmp$ret$0;
            }
            tmp$ret$2 = tmp$ret$1;
          }
          tmp$ret$3 = tmp$ret$2;
        }
        tmp$ret$4 = tmp$ret$3;
        break $l$block;
      } catch ($p) {
        if ($p instanceof IllegalArgumentException) {
          var tmp = "Failed to parse type 'float' for input '" + input + "'";
          tmp0_parseString.n11(tmp, 0, null, 6, null);
        } else {
          throw $p;
        }
      }
    }
    var result = tmp$ret$4;
    var specialFp = this.lz_1.iz_1.i10_1;
    if (specialFp ? true : isFinite(result))
      return result;
    throwInvalidFloatingPointDecoded(this.nz_1, result);
  };
  StreamingJsonDecoder.prototype.vp = function () {
    var tmp$ret$1;
    $l$block: {
      var tmp0_parseString = this.nz_1;
      var input = tmp0_parseString.h12();
      try {
        var tmp$ret$0;
        {
          tmp$ret$0 = toDouble(input);
        }
        tmp$ret$1 = tmp$ret$0;
        break $l$block;
      } catch ($p) {
        if ($p instanceof IllegalArgumentException) {
          var tmp = "Failed to parse type 'double' for input '" + input + "'";
          tmp0_parseString.n11(tmp, 0, null, 6, null);
        } else {
          throw $p;
        }
      }
    }
    var result = tmp$ret$1;
    var specialFp = this.lz_1.iz_1.i10_1;
    if (specialFp ? true : isFinite_0(result))
      return result;
    throwInvalidFloatingPointDecoded(this.nz_1, result);
  };
  StreamingJsonDecoder.prototype.wp = function () {
    var string = this.nz_1.h12();
    if (!(string.length === 1)) {
      var tmp = "Expected single char, but got '" + string + "'";
      this.nz_1.n11(tmp, 0, null, 6, null);
    }
    return charSequenceGet(string, 0);
  };
  StreamingJsonDecoder.prototype.xp = function () {
    var tmp;
    if (this.rz_1.a10_1) {
      tmp = this.nz_1.x13();
    } else {
      tmp = this.nz_1.g12();
    }
    return tmp;
  };
  StreamingJsonDecoder.$metadata$ = classMeta('StreamingJsonDecoder', [JsonDecoder], undefined, undefined, undefined, AbstractDecoder.prototype);
  function parseString(_this__u8e3s4, expectedType, block) {
    var input = _this__u8e3s4.h12();
    try {
      return block(input);
    } catch ($p) {
      if ($p instanceof IllegalArgumentException) {
        var tmp = "Failed to parse type '" + expectedType + "' for input '" + input + "'";
        _this__u8e3s4.n11(tmp, 0, null, 6, null);
      } else {
        throw $p;
      }
    }
  }
  function get_ESCAPE_STRINGS() {
    init_properties_StringOps_kt_g67jhv();
    return ESCAPE_STRINGS;
  }
  var ESCAPE_STRINGS;
  var ESCAPE_MARKERS;
  function toHexChar(i) {
    init_properties_StringOps_kt_g67jhv();
    var d = i & 15;
    var tmp;
    if (d < 10) {
      var tmp$ret$0;
      {
        tmp$ret$0 = 48;
      }
      tmp = numberToChar(d + tmp$ret$0 | 0);
    } else {
      var tmp_0 = d - 10 | 0;
      var tmp$ret$1;
      {
        tmp$ret$1 = 97;
      }
      tmp = numberToChar(tmp_0 + tmp$ret$1 | 0);
    }
    return tmp;
  }
  function printQuoted(_this__u8e3s4, value) {
    init_properties_StringOps_kt_g67jhv();
    _this__u8e3s4.ea(get_STRING());
    var lastPos = 0;
    var inductionVariable = 0;
    var last = charSequenceLength(value) - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tmp$ret$0;
        {
          var tmp0__get_code__88qj9g = charSequenceGet(value, i);
          tmp$ret$0 = Char__toInt_impl_vasixd(tmp0__get_code__88qj9g);
        }
        var c = tmp$ret$0;
        if (c < get_ESCAPE_STRINGS().length ? !(get_ESCAPE_STRINGS()[c] == null) : false) {
          _this__u8e3s4.hk(value, lastPos, i);
          _this__u8e3s4.ga(get_ESCAPE_STRINGS()[c]);
          lastPos = i + 1 | 0;
        }
      }
       while (inductionVariable <= last);
    if (!(lastPos === 0)) {
      _this__u8e3s4.hk(value, lastPos, value.length);
    } else {
      _this__u8e3s4.ga(value);
    }
    _this__u8e3s4.ea(get_STRING());
  }
  function toBooleanStrictOrNull(_this__u8e3s4) {
    init_properties_StringOps_kt_g67jhv();
    return equals_0(_this__u8e3s4, 'true', true) ? true : equals_0(_this__u8e3s4, 'false', true) ? false : null;
  }
  var properties_initialized_StringOps_kt_wzaea7;
  function init_properties_StringOps_kt_g67jhv() {
    if (properties_initialized_StringOps_kt_wzaea7) {
    } else {
      properties_initialized_StringOps_kt_wzaea7 = true;
      var tmp$ret$7;
      {
        var tmp$ret$0;
        {
          tmp$ret$0 = fillArrayVal(Array(93), null);
        }
        var tmp0_apply = tmp$ret$0;
        {
        }
        {
          var inductionVariable = 0;
          if (inductionVariable <= 31)
            do {
              var c = inductionVariable;
              inductionVariable = inductionVariable + 1 | 0;
              var c1 = toHexChar(c >> 12);
              var c2 = toHexChar(c >> 8);
              var c3 = toHexChar(c >> 4);
              var c4 = toHexChar(c);
              tmp0_apply[c] = '\\u' + new Char(c1) + new Char(c2) + new Char(c3) + new Char(c4);
            }
             while (inductionVariable <= 31);
          var tmp$ret$1;
          {
            tmp$ret$1 = 34;
          }
          tmp0_apply[tmp$ret$1] = '\\"';
          var tmp$ret$2;
          {
            tmp$ret$2 = 92;
          }
          tmp0_apply[tmp$ret$2] = '\\\\';
          var tmp$ret$3;
          {
            tmp$ret$3 = 9;
          }
          tmp0_apply[tmp$ret$3] = '\\t';
          var tmp$ret$4;
          {
            tmp$ret$4 = 8;
          }
          tmp0_apply[tmp$ret$4] = '\\b';
          var tmp$ret$5;
          {
            tmp$ret$5 = 10;
          }
          tmp0_apply[tmp$ret$5] = '\\n';
          var tmp$ret$6;
          {
            tmp$ret$6 = 13;
          }
          tmp0_apply[tmp$ret$6] = '\\r';
          tmp0_apply[12] = '\\f';
        }
        tmp$ret$7 = tmp0_apply;
      }
      ESCAPE_STRINGS = tmp$ret$7;
      var tmp$ret$13;
      {
        var tmp0_apply_0 = new Int8Array(93);
        {
        }
        {
          var inductionVariable_0 = 0;
          if (inductionVariable_0 <= 31)
            do {
              var c_0 = inductionVariable_0;
              inductionVariable_0 = inductionVariable_0 + 1 | 0;
              tmp0_apply_0[c_0] = 1;
            }
             while (inductionVariable_0 <= 31);
          var tmp$ret$0_0;
          {
            tmp$ret$0_0 = 34;
          }
          var tmp = tmp$ret$0_0;
          var tmp$ret$1_0;
          {
            tmp$ret$1_0 = 34;
          }
          tmp0_apply_0[tmp] = toByte(tmp$ret$1_0);
          var tmp$ret$2_0;
          {
            tmp$ret$2_0 = 92;
          }
          var tmp_0 = tmp$ret$2_0;
          var tmp$ret$3_0;
          {
            tmp$ret$3_0 = 92;
          }
          tmp0_apply_0[tmp_0] = toByte(tmp$ret$3_0);
          var tmp$ret$4_0;
          {
            tmp$ret$4_0 = 9;
          }
          var tmp_1 = tmp$ret$4_0;
          var tmp$ret$5_0;
          {
            tmp$ret$5_0 = 116;
          }
          tmp0_apply_0[tmp_1] = toByte(tmp$ret$5_0);
          var tmp$ret$6_0;
          {
            tmp$ret$6_0 = 8;
          }
          var tmp_2 = tmp$ret$6_0;
          var tmp$ret$7_0;
          {
            tmp$ret$7_0 = 98;
          }
          tmp0_apply_0[tmp_2] = toByte(tmp$ret$7_0);
          var tmp$ret$8;
          {
            tmp$ret$8 = 10;
          }
          var tmp_3 = tmp$ret$8;
          var tmp$ret$9;
          {
            tmp$ret$9 = 110;
          }
          tmp0_apply_0[tmp_3] = toByte(tmp$ret$9);
          var tmp$ret$10;
          {
            tmp$ret$10 = 13;
          }
          var tmp_4 = tmp$ret$10;
          var tmp$ret$11;
          {
            tmp$ret$11 = 114;
          }
          tmp0_apply_0[tmp_4] = toByte(tmp$ret$11);
          var tmp$ret$12;
          {
            tmp$ret$12 = 102;
          }
          tmp0_apply_0[12] = toByte(tmp$ret$12);
        }
        tmp$ret$13 = tmp0_apply_0;
      }
      ESCAPE_MARKERS = tmp$ret$13;
    }
  }
  function currentObject($this) {
    var tmp0_safe_receiver = $this.xx();
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        var tmp$ret$0;
        {
          tmp$ret$0 = $this.m14(tmp0_safe_receiver);
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp = tmp$ret$1;
    }
    var tmp1_elvis_lhs = tmp;
    return tmp1_elvis_lhs == null ? $this.l2() : tmp1_elvis_lhs;
  }
  function unparsedPrimitive($this, primitive) {
    throw JsonDecodingException_0(-1, "Failed to parse '" + primitive + "'", toString(currentObject($this)));
  }
  function asLiteral(_this__u8e3s4, $this, type) {
    var tmp0_elvis_lhs = _this__u8e3s4 instanceof JsonLiteral ? _this__u8e3s4 : null;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      throw JsonDecodingException_1(-1, "Unexpected 'null' when " + type + ' was expected');
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  }
  function AbstractJsonTreeDecoder(json, value) {
    NamedValueDecoder.call(this);
    this.j14_1 = json;
    this.k14_1 = value;
    this.l14_1 = this.l10().iz_1;
  }
  AbstractJsonTreeDecoder.prototype.l10 = function () {
    return this.j14_1;
  };
  AbstractJsonTreeDecoder.prototype.l2 = function () {
    return this.k14_1;
  };
  AbstractJsonTreeDecoder.prototype.yn = function () {
    return this.l10().yn();
  };
  AbstractJsonTreeDecoder.prototype.n14 = function () {
    return this.l14_1;
  };
  AbstractJsonTreeDecoder.prototype.m10 = function () {
    return currentObject(this);
  };
  AbstractJsonTreeDecoder.prototype.zp = function (deserializer) {
    return decodeSerializableValuePolymorphic(this, deserializer);
  };
  AbstractJsonTreeDecoder.prototype.yx = function (parentName, childName) {
    return childName;
  };
  AbstractJsonTreeDecoder.prototype.aq = function (descriptor) {
    var currentObject_0 = currentObject(this);
    var tmp0_subject = descriptor.mo();
    var tmp;
    var tmp_0;
    if (equals(tmp0_subject, LIST_getInstance())) {
      tmp_0 = true;
    } else {
      tmp_0 = tmp0_subject instanceof PolymorphicKind;
    }
    if (tmp_0) {
      var tmp_1 = this.l10();
      var tmp$ret$0;
      {
        if (!(currentObject_0 instanceof JsonArray)) {
          throw JsonDecodingException_1(-1, 'Expected ' + getKClass(JsonArray) + ' as the serialized body of ' + descriptor.io() + ', but had ' + getKClassFromExpression(currentObject_0));
        }
        tmp$ret$0 = currentObject_0;
      }
      tmp = new JsonTreeListDecoder(tmp_1, tmp$ret$0);
    } else {
      if (equals(tmp0_subject, MAP_getInstance())) {
        var tmp$ret$5;
        {
          var tmp0_selectMapMode = this.l10();
          var keyDescriptor = carrierDescriptor(descriptor.oo(0), tmp0_selectMapMode.yn());
          var keyKind = keyDescriptor.mo();
          var tmp_2;
          var tmp_3;
          if (keyKind instanceof PrimitiveKind) {
            tmp_3 = true;
          } else {
            tmp_3 = equals(keyKind, ENUM_getInstance());
          }
          if (tmp_3) {
            var tmp$ret$2;
            {
              var tmp_4 = this.l10();
              var tmp$ret$1;
              {
                if (!(currentObject_0 instanceof JsonObject)) {
                  throw JsonDecodingException_1(-1, 'Expected ' + getKClass(JsonObject) + ' as the serialized body of ' + descriptor.io() + ', but had ' + getKClassFromExpression(currentObject_0));
                }
                tmp$ret$1 = currentObject_0;
              }
              tmp$ret$2 = new JsonTreeMapDecoder(tmp_4, tmp$ret$1);
            }
            tmp_2 = tmp$ret$2;
          } else {
            if (tmp0_selectMapMode.iz_1.b10_1) {
              var tmp$ret$4;
              {
                var tmp_5 = this.l10();
                var tmp$ret$3;
                {
                  if (!(currentObject_0 instanceof JsonArray)) {
                    throw JsonDecodingException_1(-1, 'Expected ' + getKClass(JsonArray) + ' as the serialized body of ' + descriptor.io() + ', but had ' + getKClassFromExpression(currentObject_0));
                  }
                  tmp$ret$3 = currentObject_0;
                }
                tmp$ret$4 = new JsonTreeListDecoder(tmp_5, tmp$ret$3);
              }
              tmp_2 = tmp$ret$4;
            } else {
              throw InvalidKeyKindException(keyDescriptor);
            }
          }
          tmp$ret$5 = tmp_2;
        }
        tmp = tmp$ret$5;
      } else {
        var tmp_6 = this.l10();
        var tmp$ret$6;
        {
          if (!(currentObject_0 instanceof JsonObject)) {
            throw JsonDecodingException_1(-1, 'Expected ' + getKClass(JsonObject) + ' as the serialized body of ' + descriptor.io() + ', but had ' + getKClassFromExpression(currentObject_0));
          }
          tmp$ret$6 = currentObject_0;
        }
        var tmp_7 = tmp$ret$6;
        tmp = JsonTreeDecoder_init_$Create$(tmp_6, tmp_7, null, null, 12, null);
      }
    }
    return tmp;
  };
  AbstractJsonTreeDecoder.prototype.bq = function (descriptor) {
  };
  AbstractJsonTreeDecoder.prototype.np = function () {
    var tmp = currentObject(this);
    return !(tmp instanceof JsonNull);
  };
  AbstractJsonTreeDecoder.prototype.o14 = function (tag) {
    var currentElement = this.m14(tag);
    var tmp0_elvis_lhs = currentElement instanceof JsonPrimitive ? currentElement : null;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      throw JsonDecodingException_0(-1, 'Expected JsonPrimitive at ' + tag + ', found ' + currentElement, toString(currentObject(this)));
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  };
  AbstractJsonTreeDecoder.prototype.p14 = function (tag) {
    return !(this.m14(tag) === JsonNull_getInstance());
  };
  AbstractJsonTreeDecoder.prototype.ay = function (tag) {
    return this.p14((!(tag == null) ? typeof tag === 'string' : false) ? tag : THROW_CCE());
  };
  AbstractJsonTreeDecoder.prototype.q14 = function (tag) {
    var value = this.o14(tag);
    if (!this.l10().iz_1.a10_1) {
      var literal = asLiteral(value, this, 'boolean');
      if (literal.v10_1)
        throw JsonDecodingException_0(-1, "Boolean literal for key '" + tag + "' should be unquoted.\n" + get_lenientHint(), toString(currentObject(this)));
    }
    var tmp$ret$1;
    $l$block: {
      try {
        var tmp$ret$0;
        {
          var tmp0_elvis_lhs = get_booleanOrNull(value);
          var tmp;
          if (tmp0_elvis_lhs == null) {
            throw IllegalArgumentException_init_$Create$_0();
          } else {
            tmp = tmp0_elvis_lhs;
          }
          tmp$ret$0 = tmp;
        }
        var tmp0_elvis_lhs_0 = tmp$ret$0;
        var tmp_0;
        if (tmp0_elvis_lhs_0 == null) {
          unparsedPrimitive(this, 'boolean');
        } else {
          tmp_0 = tmp0_elvis_lhs_0;
        }
        tmp$ret$1 = tmp_0;
        break $l$block;
      } catch ($p) {
        if ($p instanceof IllegalArgumentException) {
          unparsedPrimitive(this, 'boolean');
        } else {
          throw $p;
        }
      }
    }
    return tmp$ret$1;
  };
  AbstractJsonTreeDecoder.prototype.by = function (tag) {
    return this.q14((!(tag == null) ? typeof tag === 'string' : false) ? tag : THROW_CCE());
  };
  AbstractJsonTreeDecoder.prototype.r14 = function (tag) {
    var tmp$ret$1;
    $l$block: {
      var tmp0_primitive = this.o14(tag);
      try {
        var tmp$ret$0;
        {
          var result = get_int(tmp0_primitive);
          var tmp;
          var containsLower = ByteCompanionObject_getInstance().nd_1;
          if (result <= ByteCompanionObject_getInstance().od_1 ? containsLower <= result : false) {
            tmp = toByte(result);
          } else {
            tmp = null;
          }
          tmp$ret$0 = tmp;
        }
        var tmp0_elvis_lhs = tmp$ret$0;
        var tmp_0;
        if (tmp0_elvis_lhs == null) {
          unparsedPrimitive(this, 'byte');
        } else {
          tmp_0 = tmp0_elvis_lhs;
        }
        tmp$ret$1 = tmp_0;
        break $l$block;
      } catch ($p) {
        if ($p instanceof IllegalArgumentException) {
          unparsedPrimitive(this, 'byte');
        } else {
          throw $p;
        }
      }
    }
    return tmp$ret$1;
  };
  AbstractJsonTreeDecoder.prototype.cy = function (tag) {
    return this.r14((!(tag == null) ? typeof tag === 'string' : false) ? tag : THROW_CCE());
  };
  AbstractJsonTreeDecoder.prototype.s14 = function (tag) {
    var tmp$ret$1;
    $l$block: {
      var tmp0_primitive = this.o14(tag);
      try {
        var tmp$ret$0;
        {
          var result = get_int(tmp0_primitive);
          var tmp;
          var containsLower = ShortCompanionObject_getInstance().vd_1;
          if (result <= ShortCompanionObject_getInstance().wd_1 ? containsLower <= result : false) {
            tmp = toShort(result);
          } else {
            tmp = null;
          }
          tmp$ret$0 = tmp;
        }
        var tmp0_elvis_lhs = tmp$ret$0;
        var tmp_0;
        if (tmp0_elvis_lhs == null) {
          unparsedPrimitive(this, 'short');
        } else {
          tmp_0 = tmp0_elvis_lhs;
        }
        tmp$ret$1 = tmp_0;
        break $l$block;
      } catch ($p) {
        if ($p instanceof IllegalArgumentException) {
          unparsedPrimitive(this, 'short');
        } else {
          throw $p;
        }
      }
    }
    return tmp$ret$1;
  };
  AbstractJsonTreeDecoder.prototype.dy = function (tag) {
    return this.s14((!(tag == null) ? typeof tag === 'string' : false) ? tag : THROW_CCE());
  };
  AbstractJsonTreeDecoder.prototype.t14 = function (tag) {
    var tmp$ret$1;
    $l$block: {
      var tmp0_primitive = this.o14(tag);
      try {
        var tmp$ret$0;
        {
          tmp$ret$0 = get_int(tmp0_primitive);
        }
        var tmp0_elvis_lhs = tmp$ret$0;
        var tmp;
        if (tmp0_elvis_lhs == null) {
          unparsedPrimitive(this, 'int');
        } else {
          tmp = tmp0_elvis_lhs;
        }
        tmp$ret$1 = tmp;
        break $l$block;
      } catch ($p) {
        if ($p instanceof IllegalArgumentException) {
          unparsedPrimitive(this, 'int');
        } else {
          throw $p;
        }
      }
    }
    return tmp$ret$1;
  };
  AbstractJsonTreeDecoder.prototype.ey = function (tag) {
    return this.t14((!(tag == null) ? typeof tag === 'string' : false) ? tag : THROW_CCE());
  };
  AbstractJsonTreeDecoder.prototype.u14 = function (tag) {
    var tmp$ret$1;
    $l$block: {
      var tmp0_primitive = this.o14(tag);
      try {
        var tmp$ret$0;
        {
          tmp$ret$0 = get_long(tmp0_primitive);
        }
        var tmp0_elvis_lhs = tmp$ret$0;
        var tmp;
        if (tmp0_elvis_lhs == null) {
          unparsedPrimitive(this, 'long');
        } else {
          tmp = tmp0_elvis_lhs;
        }
        tmp$ret$1 = tmp;
        break $l$block;
      } catch ($p) {
        if ($p instanceof IllegalArgumentException) {
          unparsedPrimitive(this, 'long');
        } else {
          throw $p;
        }
      }
    }
    return tmp$ret$1;
  };
  AbstractJsonTreeDecoder.prototype.fy = function (tag) {
    return this.u14((!(tag == null) ? typeof tag === 'string' : false) ? tag : THROW_CCE());
  };
  AbstractJsonTreeDecoder.prototype.v14 = function (tag) {
    var tmp$ret$1;
    $l$block: {
      var tmp0_primitive = this.o14(tag);
      try {
        var tmp$ret$0;
        {
          tmp$ret$0 = get_float(tmp0_primitive);
        }
        var tmp0_elvis_lhs = tmp$ret$0;
        var tmp;
        if (tmp0_elvis_lhs == null) {
          unparsedPrimitive(this, 'float');
        } else {
          tmp = tmp0_elvis_lhs;
        }
        tmp$ret$1 = tmp;
        break $l$block;
      } catch ($p) {
        if ($p instanceof IllegalArgumentException) {
          unparsedPrimitive(this, 'float');
        } else {
          throw $p;
        }
      }
    }
    var result = tmp$ret$1;
    var specialFp = this.l10().iz_1.i10_1;
    if (specialFp ? true : isFinite(result))
      return result;
    throw InvalidFloatingPointDecoded(result, tag, toString(currentObject(this)));
  };
  AbstractJsonTreeDecoder.prototype.gy = function (tag) {
    return this.v14((!(tag == null) ? typeof tag === 'string' : false) ? tag : THROW_CCE());
  };
  AbstractJsonTreeDecoder.prototype.w14 = function (tag) {
    var tmp$ret$1;
    $l$block: {
      var tmp0_primitive = this.o14(tag);
      try {
        var tmp$ret$0;
        {
          tmp$ret$0 = get_double(tmp0_primitive);
        }
        var tmp0_elvis_lhs = tmp$ret$0;
        var tmp;
        if (tmp0_elvis_lhs == null) {
          unparsedPrimitive(this, 'double');
        } else {
          tmp = tmp0_elvis_lhs;
        }
        tmp$ret$1 = tmp;
        break $l$block;
      } catch ($p) {
        if ($p instanceof IllegalArgumentException) {
          unparsedPrimitive(this, 'double');
        } else {
          throw $p;
        }
      }
    }
    var result = tmp$ret$1;
    var specialFp = this.l10().iz_1.i10_1;
    if (specialFp ? true : isFinite_0(result))
      return result;
    throw InvalidFloatingPointDecoded(result, tag, toString(currentObject(this)));
  };
  AbstractJsonTreeDecoder.prototype.hy = function (tag) {
    return this.w14((!(tag == null) ? typeof tag === 'string' : false) ? tag : THROW_CCE());
  };
  AbstractJsonTreeDecoder.prototype.x14 = function (tag) {
    var tmp$ret$1;
    $l$block: {
      var tmp0_primitive = this.o14(tag);
      try {
        var tmp$ret$0;
        {
          tmp$ret$0 = single(tmp0_primitive.q10());
        }
        var tmp0_elvis_lhs = tmp$ret$0;
        var tmp;
        var tmp_0 = tmp0_elvis_lhs;
        if ((tmp_0 == null ? null : new Char(tmp_0)) == null) {
          unparsedPrimitive(this, 'char');
        } else {
          tmp = tmp0_elvis_lhs;
        }
        tmp$ret$1 = tmp;
        break $l$block;
      } catch ($p) {
        if ($p instanceof IllegalArgumentException) {
          unparsedPrimitive(this, 'char');
        } else {
          throw $p;
        }
      }
    }
    return tmp$ret$1;
  };
  AbstractJsonTreeDecoder.prototype.iy = function (tag) {
    return this.x14((!(tag == null) ? typeof tag === 'string' : false) ? tag : THROW_CCE());
  };
  AbstractJsonTreeDecoder.prototype.y14 = function (tag) {
    var value = this.o14(tag);
    if (!this.l10().iz_1.a10_1) {
      var literal = asLiteral(value, this, 'string');
      if (!literal.v10_1)
        throw JsonDecodingException_0(-1, "String literal for key '" + tag + "' should be quoted.\n" + get_lenientHint(), toString(currentObject(this)));
    }
    if (value instanceof JsonNull)
      throw JsonDecodingException_0(-1, "Unexpected 'null' value instead of string literal", toString(currentObject(this)));
    return value.q10();
  };
  AbstractJsonTreeDecoder.prototype.jy = function (tag) {
    return this.y14((!(tag == null) ? typeof tag === 'string' : false) ? tag : THROW_CCE());
  };
  AbstractJsonTreeDecoder.$metadata$ = classMeta('AbstractJsonTreeDecoder', [JsonDecoder], undefined, undefined, undefined, NamedValueDecoder.prototype);
  function JsonTreeDecoder_init_$Init$(json, value, polyDiscriminator, polyDescriptor, $mask0, $marker, $this) {
    if (!(($mask0 & 4) === 0))
      polyDiscriminator = null;
    if (!(($mask0 & 8) === 0))
      polyDescriptor = null;
    JsonTreeDecoder.call($this, json, value, polyDiscriminator, polyDescriptor);
    return $this;
  }
  function JsonTreeDecoder_init_$Create$(json, value, polyDiscriminator, polyDescriptor, $mask0, $marker) {
    return JsonTreeDecoder_init_$Init$(json, value, polyDiscriminator, polyDescriptor, $mask0, $marker, Object.create(JsonTreeDecoder.prototype));
  }
  function coerceInputValue_0($this, descriptor, index, tag) {
    var tmp$ret$1;
    $l$block_1: {
      var tmp0_tryCoerceValue = $this.l10();
      var tmp1_tryCoerceValue = descriptor.oo(index);
      var tmp;
      if (!tmp1_tryCoerceValue.eo()) {
        var tmp$ret$0;
        {
          var tmp_0 = $this.m14(tag);
          tmp$ret$0 = tmp_0 instanceof JsonNull;
        }
        tmp = tmp$ret$0;
      } else {
        tmp = false;
      }
      if (tmp) {
        tmp$ret$1 = true;
        break $l$block_1;
      }
      if (equals(tmp1_tryCoerceValue.mo(), ENUM_getInstance())) {
        var tmp$ret$2;
        {
          var tmp_1 = $this.m14(tag);
          var tmp0_safe_receiver = tmp_1 instanceof JsonPrimitive ? tmp_1 : null;
          tmp$ret$2 = tmp0_safe_receiver == null ? null : get_contentOrNull(tmp0_safe_receiver);
        }
        var tmp0_elvis_lhs = tmp$ret$2;
        var tmp_2;
        if (tmp0_elvis_lhs == null) {
          tmp$ret$1 = false;
          break $l$block_1;
        } else {
          tmp_2 = tmp0_elvis_lhs;
        }
        var enumValue = tmp_2;
        var enumIndex = getJsonNameIndex(tmp1_tryCoerceValue, tmp0_tryCoerceValue, enumValue);
        Companion_getInstance();
        if (enumIndex === -3) {
          var tmp$ret$3;
          {
            tmp$ret$3 = Unit_getInstance();
          }
          tmp$ret$1 = true;
          break $l$block_1;
        }
      }
      tmp$ret$1 = false;
    }
    return tmp$ret$1;
  }
  function absenceIsNull($this, descriptor, index) {
    $this.i15_1 = (!$this.l10().iz_1.d10_1 ? !descriptor.ro(index) : false) ? descriptor.oo(index).eo() : false;
    return $this.i15_1;
  }
  function buildAlternativeNamesMap$ref_0($boundThis) {
    var l = function () {
      return buildAlternativeNamesMap($boundThis);
    };
    l.callableName = 'buildAlternativeNamesMap';
    return l;
  }
  function JsonTreeDecoder(json, value, polyDiscriminator, polyDescriptor) {
    AbstractJsonTreeDecoder.call(this, json, value);
    this.e15_1 = value;
    this.f15_1 = polyDiscriminator;
    this.g15_1 = polyDescriptor;
    this.h15_1 = 0;
    this.i15_1 = false;
  }
  JsonTreeDecoder.prototype.l2 = function () {
    return this.e15_1;
  };
  JsonTreeDecoder.prototype.oq = function (descriptor) {
    while (this.h15_1 < descriptor.ko()) {
      var tmp0_this = this;
      var tmp1 = tmp0_this.h15_1;
      tmp0_this.h15_1 = tmp1 + 1 | 0;
      var name = this.sx(descriptor, tmp1);
      var index = this.h15_1 - 1 | 0;
      this.i15_1 = false;
      var tmp;
      var tmp_0;
      var tmp$ret$1;
      {
        var tmp0_contains = this.l2();
        var tmp$ret$0;
        {
          tmp$ret$0 = (isInterface(tmp0_contains, Map) ? tmp0_contains : THROW_CCE()).t2(name);
        }
        tmp$ret$1 = tmp$ret$0;
      }
      if (tmp$ret$1) {
        tmp_0 = true;
      } else {
        tmp_0 = absenceIsNull(this, descriptor, index);
      }
      if (tmp_0) {
        tmp = !this.n14().f10_1 ? true : !coerceInputValue_0(this, descriptor, index, name);
      } else {
        tmp = false;
      }
      if (tmp) {
        return index;
      }
    }
    Companion_getInstance();
    return -1;
  };
  JsonTreeDecoder.prototype.np = function () {
    return !this.i15_1 ? AbstractJsonTreeDecoder.prototype.np.call(this) : false;
  };
  JsonTreeDecoder.prototype.tx = function (desc, index) {
    var mainName = desc.qo(index);
    if (!this.n14().j10_1)
      return mainName;
    if (this.l2().a3().p(mainName))
      return mainName;
    var tmp = get_schemaCache(this.l10());
    var tmp_0 = get_JsonAlternativeNamesKey();
    var alternativeNamesMap = tmp.p11(desc, tmp_0, buildAlternativeNamesMap$ref_0(desc));
    var tmp$ret$2;
    {
      var tmp0_find = this.l2().a3();
      var tmp$ret$1;
      $l$block: {
        var tmp0_iterator = tmp0_find.h();
        while (tmp0_iterator.n()) {
          var element = tmp0_iterator.o();
          var tmp$ret$0;
          {
            tmp$ret$0 = alternativeNamesMap.z2(element) === index;
          }
          if (tmp$ret$0) {
            tmp$ret$1 = element;
            break $l$block;
          }
        }
        tmp$ret$1 = null;
      }
      tmp$ret$2 = tmp$ret$1;
    }
    var nameInObject = tmp$ret$2;
    var tmp0_elvis_lhs = nameInObject;
    return tmp0_elvis_lhs == null ? mainName : tmp0_elvis_lhs;
  };
  JsonTreeDecoder.prototype.m14 = function (tag) {
    return getValue(this.l2(), tag);
  };
  JsonTreeDecoder.prototype.aq = function (descriptor) {
    if (descriptor === this.g15_1)
      return this;
    return AbstractJsonTreeDecoder.prototype.aq.call(this, descriptor);
  };
  JsonTreeDecoder.prototype.bq = function (descriptor) {
    var tmp;
    if (this.n14().zz_1) {
      tmp = true;
    } else {
      var tmp_0 = descriptor.mo();
      tmp = tmp_0 instanceof PolymorphicKind;
    }
    if (tmp)
      return Unit_getInstance();
    var tmp_1;
    if (!this.n14().j10_1) {
      tmp_1 = jsonCachedSerialNames(descriptor);
    } else {
      var tmp_2 = jsonCachedSerialNames(descriptor);
      var tmp$ret$0;
      {
        var tmp0_safe_receiver = get_schemaCache(this.l10()).o13(descriptor, get_JsonAlternativeNamesKey());
        var tmp0_orEmpty = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.a3();
        var tmp0_elvis_lhs = tmp0_orEmpty;
        tmp$ret$0 = tmp0_elvis_lhs == null ? emptySet() : tmp0_elvis_lhs;
      }
      tmp_1 = plus_0(tmp_2, tmp$ret$0);
    }
    var names = tmp_1;
    var tmp1_iterator = this.l2().a3().h();
    while (tmp1_iterator.n()) {
      var key = tmp1_iterator.o();
      if (!names.p(key) ? !(key === this.f15_1) : false) {
        throw UnknownKeyException(key, this.l2().toString());
      }
    }
  };
  JsonTreeDecoder.$metadata$ = classMeta('JsonTreeDecoder', undefined, undefined, undefined, undefined, AbstractJsonTreeDecoder.prototype);
  function JsonTreeListDecoder(json, value) {
    AbstractJsonTreeDecoder.call(this, json, value);
    this.o15_1 = value;
    this.p15_1 = this.o15_1.m();
    this.q15_1 = -1;
  }
  JsonTreeListDecoder.prototype.l2 = function () {
    return this.o15_1;
  };
  JsonTreeListDecoder.prototype.tx = function (desc, index) {
    return index.toString();
  };
  JsonTreeListDecoder.prototype.m14 = function (tag) {
    return this.o15_1.r(toInt(tag));
  };
  JsonTreeListDecoder.prototype.oq = function (descriptor) {
    while (this.q15_1 < (this.p15_1 - 1 | 0)) {
      var tmp0_this = this;
      var tmp1 = tmp0_this.q15_1;
      tmp0_this.q15_1 = tmp1 + 1 | 0;
      return this.q15_1;
    }
    Companion_getInstance();
    return -1;
  };
  JsonTreeListDecoder.$metadata$ = classMeta('JsonTreeListDecoder', undefined, undefined, undefined, undefined, AbstractJsonTreeDecoder.prototype);
  function JsonTreeMapDecoder(json, value) {
    JsonTreeDecoder_init_$Init$(json, value, null, null, 12, null, this);
    this.b16_1 = value;
    this.c16_1 = toList(this.b16_1.a3());
    this.d16_1 = imul(this.c16_1.m(), 2);
    this.e16_1 = -1;
  }
  JsonTreeMapDecoder.prototype.l2 = function () {
    return this.b16_1;
  };
  JsonTreeMapDecoder.prototype.tx = function (desc, index) {
    var i = index / 2 | 0;
    return this.c16_1.r(i);
  };
  JsonTreeMapDecoder.prototype.oq = function (descriptor) {
    while (this.e16_1 < (this.d16_1 - 1 | 0)) {
      var tmp0_this = this;
      var tmp1 = tmp0_this.e16_1;
      tmp0_this.e16_1 = tmp1 + 1 | 0;
      return this.e16_1;
    }
    Companion_getInstance();
    return -1;
  };
  JsonTreeMapDecoder.prototype.m14 = function (tag) {
    return (this.e16_1 % 2 | 0) === 0 ? JsonPrimitive_0(tag) : getValue(this.b16_1, tag);
  };
  JsonTreeMapDecoder.prototype.bq = function (descriptor) {
  };
  JsonTreeMapDecoder.$metadata$ = classMeta('JsonTreeMapDecoder', undefined, undefined, undefined, undefined, JsonTreeDecoder.prototype);
  function readPolymorphicJson(_this__u8e3s4, discriminator, element, deserializer) {
    return (new JsonTreeDecoder(_this__u8e3s4, element, discriminator, deserializer.hn())).zp(deserializer);
  }
  var WriteMode_OBJ_instance;
  var WriteMode_LIST_instance;
  var WriteMode_MAP_instance;
  var WriteMode_POLY_OBJ_instance;
  var WriteMode_entriesInitialized;
  function WriteMode_initEntries() {
    if (WriteMode_entriesInitialized)
      return Unit_getInstance();
    WriteMode_entriesInitialized = true;
    WriteMode_OBJ_instance = new WriteMode('OBJ', 0, get_BEGIN_OBJ(), get_END_OBJ());
    WriteMode_LIST_instance = new WriteMode('LIST', 1, get_BEGIN_LIST(), get_END_LIST());
    WriteMode_MAP_instance = new WriteMode('MAP', 2, get_BEGIN_OBJ(), get_END_OBJ());
    WriteMode_POLY_OBJ_instance = new WriteMode('POLY_OBJ', 3, get_BEGIN_LIST(), get_END_LIST());
  }
  function WriteMode(name, ordinal, begin, end) {
    Enum.call(this, name, ordinal);
    this.c14_1 = begin;
    this.d14_1 = end;
  }
  WriteMode.$metadata$ = classMeta('WriteMode', undefined, undefined, undefined, undefined, Enum.prototype);
  function switchMode(_this__u8e3s4, desc) {
    var tmp0_subject = desc.mo();
    var tmp;
    if (tmp0_subject instanceof PolymorphicKind) {
      tmp = WriteMode_POLY_OBJ_getInstance();
    } else {
      if (equals(tmp0_subject, LIST_getInstance())) {
        tmp = WriteMode_LIST_getInstance();
      } else {
        if (equals(tmp0_subject, MAP_getInstance())) {
          var tmp$ret$2;
          {
            var keyDescriptor = carrierDescriptor(desc.oo(0), _this__u8e3s4.yn());
            var keyKind = keyDescriptor.mo();
            var tmp_0;
            var tmp_1;
            if (keyKind instanceof PrimitiveKind) {
              tmp_1 = true;
            } else {
              tmp_1 = equals(keyKind, ENUM_getInstance());
            }
            if (tmp_1) {
              var tmp$ret$0;
              {
                tmp$ret$0 = WriteMode_MAP_getInstance();
              }
              tmp_0 = tmp$ret$0;
            } else {
              if (_this__u8e3s4.iz_1.b10_1) {
                var tmp$ret$1;
                {
                  tmp$ret$1 = WriteMode_LIST_getInstance();
                }
                tmp_0 = tmp$ret$1;
              } else {
                throw InvalidKeyKindException(keyDescriptor);
              }
            }
            tmp$ret$2 = tmp_0;
          }
          tmp = tmp$ret$2;
        } else {
          tmp = WriteMode_OBJ_getInstance();
        }
      }
    }
    return tmp;
  }
  function selectMapMode(_this__u8e3s4, mapDescriptor, ifMap, ifList) {
    var keyDescriptor = carrierDescriptor(mapDescriptor.oo(0), _this__u8e3s4.yn());
    var keyKind = keyDescriptor.mo();
    var tmp;
    var tmp_0;
    if (keyKind instanceof PrimitiveKind) {
      tmp_0 = true;
    } else {
      tmp_0 = equals(keyKind, ENUM_getInstance());
    }
    if (tmp_0) {
      tmp = ifMap();
    } else {
      if (_this__u8e3s4.iz_1.b10_1) {
        tmp = ifList();
      } else {
        throw InvalidKeyKindException(keyDescriptor);
      }
    }
    return tmp;
  }
  function carrierDescriptor(_this__u8e3s4, module_0) {
    var tmp;
    if (equals(_this__u8e3s4.mo(), CONTEXTUAL_getInstance())) {
      var tmp0_safe_receiver = getContextualDescriptor(module_0, _this__u8e3s4);
      var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : carrierDescriptor(tmp0_safe_receiver, module_0);
      tmp = tmp1_elvis_lhs == null ? _this__u8e3s4 : tmp1_elvis_lhs;
    } else if (_this__u8e3s4.lo()) {
      tmp = carrierDescriptor(_this__u8e3s4.oo(0), module_0);
    } else {
      tmp = _this__u8e3s4;
    }
    return tmp;
  }
  function WriteMode_OBJ_getInstance() {
    WriteMode_initEntries();
    return WriteMode_OBJ_instance;
  }
  function WriteMode_LIST_getInstance() {
    WriteMode_initEntries();
    return WriteMode_LIST_instance;
  }
  function WriteMode_MAP_getInstance() {
    WriteMode_initEntries();
    return WriteMode_MAP_instance;
  }
  function WriteMode_POLY_OBJ_getInstance() {
    WriteMode_initEntries();
    return WriteMode_POLY_OBJ_instance;
  }
  function get_STRING() {
    return STRING;
  }
  var STRING;
  function appendEscape($this, lastPosition, current) {
    $this.f16(lastPosition, current);
    return appendEsc($this, current + 1 | 0);
  }
  function decodedString($this, lastPosition, currentPosition) {
    $this.f16(lastPosition, currentPosition);
    var result = $this.wz_1.toString();
    $this.wz_1.ik(0);
    return result;
  }
  function takePeeked($this) {
    var tmp$ret$0;
    {
      var tmp0_also = ensureNotNull($this.vz_1);
      {
      }
      {
        $this.vz_1 = null;
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  }
  function wasUnquotedString($this) {
    return !equals(new Char(charSequenceGet($this.g16(), $this.tz_1 - 1 | 0)), new Char(_Char___init__impl__6a9atx(34)));
  }
  function appendEsc($this, startPosition) {
    var currentPosition = startPosition;
    currentPosition = $this.h16(currentPosition);
    if (currentPosition === -1) {
      $this.n11('Expected escape sequence to continue, got EOF', 0, null, 6, null);
    }
    var tmp = $this.g16();
    var tmp0 = currentPosition;
    currentPosition = tmp0 + 1 | 0;
    var currentChar = charSequenceGet(tmp, tmp0);
    if (equals(new Char(currentChar), new Char(_Char___init__impl__6a9atx(117)))) {
      return appendHex($this, $this.g16(), currentPosition);
    }
    var tmp$ret$0;
    {
      tmp$ret$0 = Char__toInt_impl_vasixd(currentChar);
    }
    var c = escapeToChar(tmp$ret$0);
    if (equals(new Char(c), new Char(_Char___init__impl__6a9atx(0)))) {
      var tmp_0 = "Invalid escaped char '" + new Char(currentChar) + "'";
      $this.n11(tmp_0, 0, null, 6, null);
    }
    $this.wz_1.ea(c);
    return currentPosition;
  }
  function appendHex($this, source, startPos) {
    if ((startPos + 4 | 0) >= charSequenceLength(source)) {
      $this.tz_1 = startPos;
      $this.i16();
      if (($this.tz_1 + 4 | 0) >= charSequenceLength(source)) {
        $this.n11('Unexpected EOF during unicode escape', 0, null, 6, null);
      }
      return appendHex($this, source, $this.tz_1);
    }
    $this.wz_1.ea(numberToChar((((fromHexChar($this, source, startPos) << 12) + (fromHexChar($this, source, startPos + 1 | 0) << 8) | 0) + (fromHexChar($this, source, startPos + 2 | 0) << 4) | 0) + fromHexChar($this, source, startPos + 3 | 0) | 0));
    return startPos + 4 | 0;
  }
  function fromHexChar($this, source, currentPosition) {
    var character = charSequenceGet(source, currentPosition);
    var tmp;
    if (_Char___init__impl__6a9atx(48) <= character ? character <= _Char___init__impl__6a9atx(57) : false) {
      var tmp$ret$0;
      {
        tmp$ret$0 = Char__toInt_impl_vasixd(character);
      }
      var tmp_0 = tmp$ret$0;
      var tmp$ret$1;
      {
        tmp$ret$1 = 48;
      }
      tmp = tmp_0 - tmp$ret$1 | 0;
    } else if (_Char___init__impl__6a9atx(97) <= character ? character <= _Char___init__impl__6a9atx(102) : false) {
      var tmp$ret$2;
      {
        tmp$ret$2 = Char__toInt_impl_vasixd(character);
      }
      var tmp_1 = tmp$ret$2;
      var tmp$ret$3;
      {
        tmp$ret$3 = 97;
      }
      tmp = (tmp_1 - tmp$ret$3 | 0) + 10 | 0;
    } else if (_Char___init__impl__6a9atx(65) <= character ? character <= _Char___init__impl__6a9atx(70) : false) {
      var tmp$ret$4;
      {
        tmp$ret$4 = Char__toInt_impl_vasixd(character);
      }
      var tmp_2 = tmp$ret$4;
      var tmp$ret$5;
      {
        tmp$ret$5 = 65;
      }
      tmp = (tmp_2 - tmp$ret$5 | 0) + 10 | 0;
    } else {
      var tmp_3 = "Invalid toHexChar char '" + new Char(character) + "' in unicode escape";
      $this.n11(tmp_3, 0, null, 6, null);
    }
    return tmp;
  }
  function consumeBoolean($this, start) {
    var current = $this.h16(start);
    if (current >= charSequenceLength($this.g16()) ? true : current === -1) {
      $this.n11('EOF', 0, null, 6, null);
    }
    var tmp$ret$0;
    {
      var tmp = $this.g16();
      var tmp0 = current;
      current = tmp0 + 1 | 0;
      var tmp0__get_code__88qj9g = charSequenceGet(tmp, tmp0);
      tmp$ret$0 = Char__toInt_impl_vasixd(tmp0__get_code__88qj9g);
    }
    var tmp1_subject = tmp$ret$0 | 32;
    var tmp_0;
    var tmp$ret$1;
    {
      tmp$ret$1 = 116;
    }
    if (tmp1_subject === tmp$ret$1) {
      consumeBooleanLiteral($this, 'rue', current);
      tmp_0 = true;
    } else {
      var tmp$ret$2;
      {
        tmp$ret$2 = 102;
      }
      if (tmp1_subject === tmp$ret$2) {
        consumeBooleanLiteral($this, 'alse', current);
        tmp_0 = false;
      } else {
        var tmp_1 = "Expected valid boolean literal prefix, but had '" + $this.h12() + "'";
        $this.n11(tmp_1, 0, null, 6, null);
      }
    }
    return tmp_0;
  }
  function consumeBooleanLiteral($this, literalSuffix, current) {
    if ((charSequenceLength($this.g16()) - current | 0) < literalSuffix.length) {
      $this.n11('Unexpected end of boolean literal', 0, null, 6, null);
    }
    var inductionVariable = 0;
    var last = charSequenceLength(literalSuffix) - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var expected = charSequenceGet(literalSuffix, i);
        var actual = charSequenceGet($this.g16(), current + i | 0);
        var tmp$ret$0;
        {
          tmp$ret$0 = Char__toInt_impl_vasixd(expected);
        }
        var tmp = tmp$ret$0;
        var tmp$ret$1;
        {
          tmp$ret$1 = Char__toInt_impl_vasixd(actual);
        }
        if (!(tmp === (tmp$ret$1 | 32))) {
          var tmp_0 = "Expected valid boolean literal prefix, but had '" + $this.h12() + "'";
          $this.n11(tmp_0, 0, null, 6, null);
        }
      }
       while (inductionVariable <= last);
    $this.tz_1 = current + literalSuffix.length | 0;
  }
  function AbstractJsonLexer() {
    this.tz_1 = 0;
    this.uz_1 = new JsonPath();
    this.vz_1 = null;
    this.wz_1 = StringBuilder_init_$Create$();
  }
  AbstractJsonLexer.prototype.j16 = function (_set____db54di) {
    this.tz_1 = _set____db54di;
  };
  AbstractJsonLexer.prototype.k16 = function () {
    return this.tz_1;
  };
  AbstractJsonLexer.prototype.i16 = function () {
  };
  AbstractJsonLexer.prototype.l16 = function (c) {
    var tmp0_subject = c;
    return (((equals(new Char(tmp0_subject), new Char(_Char___init__impl__6a9atx(125))) ? true : equals(new Char(tmp0_subject), new Char(_Char___init__impl__6a9atx(93)))) ? true : equals(new Char(tmp0_subject), new Char(_Char___init__impl__6a9atx(58)))) ? true : equals(new Char(tmp0_subject), new Char(_Char___init__impl__6a9atx(44)))) ? false : true;
  };
  AbstractJsonLexer.prototype.xz = function () {
    var nextToken = this.j12();
    if (!(nextToken === 10)) {
      var tmp = 'Expected EOF after parsing, but had ' + new Char(charSequenceGet(this.g16(), this.tz_1 - 1 | 0)) + ' instead';
      this.n11(tmp, 0, null, 6, null);
    }
  };
  AbstractJsonLexer.prototype.d12 = function (expected) {
    var token = this.j12();
    if (!(token === expected)) {
      this.m16(expected);
    }
    return token;
  };
  AbstractJsonLexer.prototype.q13 = function (expected) {
    this.i16();
    var source = this.g16();
    var cpos = this.tz_1;
    $l$loop_0: while (true) {
      cpos = this.h16(cpos);
      if (cpos === -1)
        break $l$loop_0;
      var tmp0 = cpos;
      cpos = tmp0 + 1 | 0;
      var c = charSequenceGet(source, tmp0);
      if (((equals(new Char(c), new Char(_Char___init__impl__6a9atx(32))) ? true : equals(new Char(c), new Char(_Char___init__impl__6a9atx(10)))) ? true : equals(new Char(c), new Char(_Char___init__impl__6a9atx(13)))) ? true : equals(new Char(c), new Char(_Char___init__impl__6a9atx(9))))
        continue $l$loop_0;
      this.tz_1 = cpos;
      if (equals(new Char(c), new Char(expected)))
        return Unit_getInstance();
      this.n16(expected);
    }
    this.tz_1 = cpos;
    this.n16(expected);
  };
  AbstractJsonLexer.prototype.n16 = function (expected) {
    var tmp0_this = this;
    tmp0_this.tz_1 = tmp0_this.tz_1 - 1 | 0;
    if ((this.tz_1 >= 0 ? equals(new Char(expected), new Char(_Char___init__impl__6a9atx(34))) : false) ? this.h12() === 'null' : false) {
      this.o16("Expected string literal but 'null' literal was found", this.tz_1 - 4 | 0, "Use 'coerceInputValues = true' in 'Json {}` builder to coerce nulls to default values.");
    }
    this.m16(charToTokenClass(expected));
  };
  AbstractJsonLexer.prototype.m16 = function (expectedToken) {
    var tmp0_subject = expectedToken;
    var expected = tmp0_subject === 1 ? "quotation mark '\"'" : tmp0_subject === 4 ? "comma ','" : tmp0_subject === 5 ? "colon ':'" : tmp0_subject === 6 ? "start of the object '{'" : tmp0_subject === 7 ? "end of the object '}'" : tmp0_subject === 8 ? "start of the array '['" : tmp0_subject === 9 ? "end of the array ']'" : 'valid token';
    var s = (this.tz_1 === charSequenceLength(this.g16()) ? true : this.tz_1 <= 0) ? 'EOF' : toString_0(charSequenceGet(this.g16(), this.tz_1 - 1 | 0));
    var tmp = 'Expected ' + expected + ", but had '" + s + "' instead";
    var tmp_0 = this.tz_1 - 1 | 0;
    this.n11(tmp, tmp_0, null, 4, null);
  };
  AbstractJsonLexer.prototype.e12 = function () {
    var source = this.g16();
    var cpos = this.tz_1;
    $l$loop_0: while (true) {
      cpos = this.h16(cpos);
      if (cpos === -1)
        break $l$loop_0;
      var ch = charSequenceGet(source, cpos);
      if (((equals(new Char(ch), new Char(_Char___init__impl__6a9atx(32))) ? true : equals(new Char(ch), new Char(_Char___init__impl__6a9atx(10)))) ? true : equals(new Char(ch), new Char(_Char___init__impl__6a9atx(13)))) ? true : equals(new Char(ch), new Char(_Char___init__impl__6a9atx(9)))) {
        cpos = cpos + 1 | 0;
        continue $l$loop_0;
      }
      this.tz_1 = cpos;
      return charToTokenClass(ch);
    }
    this.tz_1 = cpos;
    return 10;
  };
  AbstractJsonLexer.prototype.s13 = function () {
    var current = this.p16();
    current = this.h16(current);
    var len = charSequenceLength(this.g16()) - current | 0;
    if (len < 4 ? true : current === -1)
      return true;
    var inductionVariable = 0;
    if (inductionVariable <= 3)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if (!equals(new Char(charSequenceGet('null', i)), new Char(charSequenceGet(this.g16(), current + i | 0))))
          return true;
      }
       while (inductionVariable <= 3);
    if (len > 4 ? charToTokenClass(charSequenceGet(this.g16(), current + 4 | 0)) === 0 : false)
      return true;
    this.tz_1 = current + 4 | 0;
    return false;
  };
  AbstractJsonLexer.prototype.p16 = function () {
    var current = this.tz_1;
    $l$loop_0: while (true) {
      current = this.h16(current);
      if (current === -1)
        break $l$loop_0;
      var c = charSequenceGet(this.g16(), current);
      if (((equals(new Char(c), new Char(_Char___init__impl__6a9atx(32))) ? true : equals(new Char(c), new Char(_Char___init__impl__6a9atx(10)))) ? true : equals(new Char(c), new Char(_Char___init__impl__6a9atx(13)))) ? true : equals(new Char(c), new Char(_Char___init__impl__6a9atx(9)))) {
        current = current + 1 | 0;
      } else {
        break $l$loop_0;
      }
    }
    this.tz_1 = current;
    return current;
  };
  AbstractJsonLexer.prototype.t13 = function (isLenient) {
    var token = this.e12();
    var tmp;
    if (isLenient) {
      if (!(token === 1) ? !(token === 0) : false)
        return null;
      tmp = this.h12();
    } else {
      if (!(token === 1))
        return null;
      tmp = this.g12();
    }
    var string = tmp;
    this.vz_1 = string;
    return string;
  };
  AbstractJsonLexer.prototype.q16 = function (startPos, endPos) {
    var tmp$ret$0;
    {
      var tmp0_substring = this.g16();
      tmp$ret$0 = toString(charSequenceSubSequence(tmp0_substring, startPos, endPos));
    }
    return tmp$ret$0;
  };
  AbstractJsonLexer.prototype.g12 = function () {
    if (!(this.vz_1 == null)) {
      return takePeeked(this);
    }
    return this.w13();
  };
  AbstractJsonLexer.prototype.consumeString2 = function (source, startPosition, current) {
    var currentPosition = current;
    var lastPosition = startPosition;
    var char = charSequenceGet(source, currentPosition);
    var usedAppend = false;
    while (!equals(new Char(char), new Char(_Char___init__impl__6a9atx(34)))) {
      if (equals(new Char(char), new Char(_Char___init__impl__6a9atx(92)))) {
        usedAppend = true;
        currentPosition = this.h16(appendEscape(this, lastPosition, currentPosition));
        if (currentPosition === -1) {
          var tmp = currentPosition;
          this.n11('EOF', tmp, null, 4, null);
        }
        lastPosition = currentPosition;
      } else {
        currentPosition = currentPosition + 1 | 0;
        if (currentPosition >= charSequenceLength(source)) {
          usedAppend = true;
          this.f16(lastPosition, currentPosition);
          currentPosition = this.h16(currentPosition);
          if (currentPosition === -1) {
            var tmp_0 = currentPosition;
            this.n11('EOF', tmp_0, null, 4, null);
          }
          lastPosition = currentPosition;
        }
      }
      char = charSequenceGet(source, currentPosition);
    }
    var tmp_1;
    if (!usedAppend) {
      tmp_1 = this.q16(lastPosition, currentPosition);
    } else {
      tmp_1 = decodedString(this, lastPosition, currentPosition);
    }
    var string = tmp_1;
    this.tz_1 = currentPosition + 1 | 0;
    return string;
  };
  AbstractJsonLexer.prototype.x13 = function () {
    var result = this.h12();
    if (result === 'null' ? wasUnquotedString(this) : false) {
      this.n11("Unexpected 'null' value instead of string literal", 0, null, 6, null);
    }
    return result;
  };
  AbstractJsonLexer.prototype.h12 = function () {
    if (!(this.vz_1 == null)) {
      return takePeeked(this);
    }
    var current = this.p16();
    if (current >= charSequenceLength(this.g16()) ? true : current === -1) {
      var tmp = current;
      this.n11('EOF', tmp, null, 4, null);
    }
    var token = charToTokenClass(charSequenceGet(this.g16(), current));
    if (token === 1) {
      return this.g12();
    }
    if (!(token === 0)) {
      var tmp_0 = 'Expected beginning of the string, but got ' + new Char(charSequenceGet(this.g16(), current));
      this.n11(tmp_0, 0, null, 6, null);
    }
    var usedAppend = false;
    while (charToTokenClass(charSequenceGet(this.g16(), current)) === 0) {
      current = current + 1 | 0;
      if (current >= charSequenceLength(this.g16())) {
        usedAppend = true;
        this.f16(this.tz_1, current);
        var eof = this.h16(current);
        if (eof === -1) {
          this.tz_1 = current;
          return decodedString(this, 0, 0);
        } else {
          current = eof;
        }
      }
    }
    var tmp_1;
    if (!usedAppend) {
      tmp_1 = this.q16(this.tz_1, current);
    } else {
      tmp_1 = decodedString(this, this.tz_1, current);
    }
    var result = tmp_1;
    this.tz_1 = current;
    return result;
  };
  AbstractJsonLexer.prototype.f16 = function (fromIndex, toIndex) {
    this.wz_1.hk(this.g16(), fromIndex, toIndex);
  };
  AbstractJsonLexer.prototype.r16 = function (condition, position, message) {
    if (!condition) {
      var tmp = message();
      this.n11(tmp, position, null, 4, null);
    }
  };
  AbstractJsonLexer.prototype.v13 = function (allowLenientStrings) {
    var tmp$ret$0;
    {
      tmp$ret$0 = ArrayList_init_$Create$();
    }
    var tokenStack = tmp$ret$0;
    var lastToken = this.e12();
    if (!(lastToken === 8) ? !(lastToken === 6) : false) {
      this.h12();
      return Unit_getInstance();
    }
    $l$loop: while (true) {
      lastToken = this.e12();
      if (lastToken === 1) {
        if (allowLenientStrings) {
          this.h12();
        } else {
          this.w13();
        }
        continue $l$loop;
      }
      var tmp0_subject = lastToken;
      if (tmp0_subject === 8 ? true : tmp0_subject === 6) {
        tokenStack.b(lastToken);
      } else if (tmp0_subject === 9) {
        if (!(last(tokenStack) === 8))
          throw JsonDecodingException_0(this.tz_1, 'found ] instead of } at path: ' + this.uz_1, this.g16());
        removeLast(tokenStack);
      } else if (tmp0_subject === 7) {
        if (!(last(tokenStack) === 6))
          throw JsonDecodingException_0(this.tz_1, 'found } instead of ] at path: ' + this.uz_1, this.g16());
        removeLast(tokenStack);
      } else if (tmp0_subject === 10) {
        this.n11('Unexpected end of input due to malformed JSON during ignoring unknown keys', 0, null, 6, null);
      }
      this.j12();
      if (tokenStack.m() === 0)
        return Unit_getInstance();
    }
  };
  AbstractJsonLexer.prototype.toString = function () {
    return "JsonReader(source='" + this.g16() + "', currentPosition=" + this.tz_1 + ')';
  };
  AbstractJsonLexer.prototype.u13 = function (key) {
    var processed = this.q16(0, this.tz_1);
    var lastIndexOf = lastIndexOf$default(processed, key, 0, false, 6, null);
    this.o16("Encountered an unknown key '" + key + "'", lastIndexOf, "Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.");
  };
  AbstractJsonLexer.prototype.o16 = function (message, position, hint) {
    var tmp;
    var tmp$ret$0;
    {
      tmp$ret$0 = charSequenceLength(hint) === 0;
    }
    if (tmp$ret$0) {
      tmp = '';
    } else {
      tmp = '\n' + hint;
    }
    var hintMessage = tmp;
    throw JsonDecodingException_0(position, message + ' at path: ' + this.uz_1.z11() + hintMessage, this.g16());
  };
  AbstractJsonLexer.prototype.n11 = function (message, position, hint, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      position = this.tz_1;
    if (!(($mask0 & 4) === 0))
      hint = '';
    return this.o16(message, position, hint);
  };
  AbstractJsonLexer.prototype.g14 = function () {
    var current = this.p16();
    current = this.h16(current);
    if (current >= charSequenceLength(this.g16()) ? true : current === -1) {
      this.n11('EOF', 0, null, 6, null);
    }
    var tmp;
    if (equals(new Char(charSequenceGet(this.g16(), current)), new Char(_Char___init__impl__6a9atx(34)))) {
      current = current + 1 | 0;
      if (current === charSequenceLength(this.g16())) {
        this.n11('EOF', 0, null, 6, null);
      }
      tmp = true;
    } else {
      tmp = false;
    }
    var hasQuotation = tmp;
    var accumulator = new Long(0, 0);
    var isNegative = false;
    var start = current;
    var hasChars = true;
    $l$loop_0: while (hasChars) {
      var ch = charSequenceGet(this.g16(), current);
      if (equals(new Char(ch), new Char(_Char___init__impl__6a9atx(45)))) {
        if (!(current === start)) {
          this.n11("Unexpected symbol '-' in numeric literal", 0, null, 6, null);
        }
        isNegative = true;
        current = current + 1 | 0;
        continue $l$loop_0;
      }
      var token = charToTokenClass(ch);
      if (!(token === 0))
        break $l$loop_0;
      current = current + 1 | 0;
      hasChars = !(current === charSequenceLength(this.g16()));
      var digit = Char__minus_impl_a2frrh(ch, _Char___init__impl__6a9atx(48));
      if (!(0 <= digit ? digit <= 9 : false)) {
        var tmp_0 = "Unexpected symbol '" + new Char(ch) + "' in numeric literal";
        this.n11(tmp_0, 0, null, 6, null);
      }
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          var tmp0_times = accumulator;
          tmp$ret$0 = tmp0_times.ja(new Long(10, 0));
        }
        var tmp1_minus = tmp$ret$0;
        tmp$ret$1 = tmp1_minus.la(toLong_0(digit));
      }
      accumulator = tmp$ret$1;
      if (accumulator.k1(new Long(0, 0)) > 0) {
        this.n11('Numeric value overflow', 0, null, 6, null);
      }
    }
    if (start === current ? true : isNegative ? start === (current - 1 | 0) : false) {
      this.n11('Expected numeric literal', 0, null, 6, null);
    }
    if (hasQuotation) {
      if (!hasChars) {
        this.n11('EOF', 0, null, 6, null);
      }
      if (!equals(new Char(charSequenceGet(this.g16(), current)), new Char(_Char___init__impl__6a9atx(34)))) {
        this.n11('Expected closing quotation mark', 0, null, 6, null);
      }
      current = current + 1 | 0;
    }
    this.tz_1 = current;
    var tmp_1;
    if (isNegative) {
      tmp_1 = accumulator;
    } else {
      var tmp_2 = accumulator;
      Companion_getInstance_0();
      if (!tmp_2.equals(new Long(0, -2147483648))) {
        tmp_1 = accumulator.ha();
      } else {
        this.n11('Numeric value overflow', 0, null, 6, null);
      }
    }
    return tmp_1;
  };
  AbstractJsonLexer.prototype.e14 = function () {
    return consumeBoolean(this, this.p16());
  };
  AbstractJsonLexer.prototype.f14 = function () {
    var current = this.p16();
    if (current === charSequenceLength(this.g16())) {
      this.n11('EOF', 0, null, 6, null);
    }
    var tmp;
    if (equals(new Char(charSequenceGet(this.g16(), current)), new Char(_Char___init__impl__6a9atx(34)))) {
      current = current + 1 | 0;
      tmp = true;
    } else {
      tmp = false;
    }
    var hasQuotation = tmp;
    var result = consumeBoolean(this, current);
    if (hasQuotation) {
      if (this.tz_1 === charSequenceLength(this.g16())) {
        this.n11('EOF', 0, null, 6, null);
      }
      if (!equals(new Char(charSequenceGet(this.g16(), this.tz_1)), new Char(_Char___init__impl__6a9atx(34)))) {
        this.n11('Expected closing quotation mark', 0, null, 6, null);
      }
      var tmp0_this = this;
      tmp0_this.tz_1 = tmp0_this.tz_1 + 1 | 0;
    }
    return result;
  };
  AbstractJsonLexer.$metadata$ = classMeta('AbstractJsonLexer');
  function charToTokenClass(c) {
    var tmp;
    var tmp$ret$0;
    {
      tmp$ret$0 = Char__toInt_impl_vasixd(c);
    }
    if (tmp$ret$0 < 126) {
      var tmp_0 = CharMappings_getInstance().t16_1;
      var tmp$ret$1;
      {
        tmp$ret$1 = Char__toInt_impl_vasixd(c);
      }
      tmp = tmp_0[tmp$ret$1];
    } else {
      tmp = 0;
    }
    return tmp;
  }
  function get_TC_WHITESPACE() {
    return TC_WHITESPACE;
  }
  var TC_WHITESPACE;
  function get_TC_EOF() {
    return TC_EOF;
  }
  var TC_EOF;
  function get_TC_STRING() {
    return TC_STRING;
  }
  var TC_STRING;
  function get_STRING_ESC() {
    return STRING_ESC;
  }
  var STRING_ESC;
  function get_TC_BEGIN_OBJ() {
    return TC_BEGIN_OBJ;
  }
  var TC_BEGIN_OBJ;
  function get_TC_COLON() {
    return TC_COLON;
  }
  var TC_COLON;
  function get_TC_COMMA() {
    return TC_COMMA;
  }
  var TC_COMMA;
  function get_COLON() {
    return COLON;
  }
  var COLON;
  function get_BEGIN_OBJ() {
    return BEGIN_OBJ;
  }
  var BEGIN_OBJ;
  function get_END_OBJ() {
    return END_OBJ;
  }
  var END_OBJ;
  function get_BEGIN_LIST() {
    return BEGIN_LIST;
  }
  var BEGIN_LIST;
  function get_END_LIST() {
    return END_LIST;
  }
  var END_LIST;
  function get_lenientHint() {
    return lenientHint;
  }
  var lenientHint;
  function get_NULL() {
    return NULL;
  }
  var NULL;
  function get_TC_END_OBJ() {
    return TC_END_OBJ;
  }
  var TC_END_OBJ;
  function get_TC_BEGIN_LIST() {
    return TC_BEGIN_LIST;
  }
  var TC_BEGIN_LIST;
  function get_TC_END_LIST() {
    return TC_END_LIST;
  }
  var TC_END_LIST;
  function get_TC_OTHER() {
    return TC_OTHER;
  }
  var TC_OTHER;
  function escapeToChar(c) {
    return c < 117 ? CharMappings_getInstance().s16_1[c] : _Char___init__impl__6a9atx(0);
  }
  function get_ignoreUnknownKeysHint() {
    return ignoreUnknownKeysHint;
  }
  var ignoreUnknownKeysHint;
  function initEscape($this) {
    var inductionVariable = 0;
    if (inductionVariable <= 31)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        initC2ESC($this, i, _Char___init__impl__6a9atx(117));
      }
       while (inductionVariable <= 31);
    initC2ESC($this, 8, _Char___init__impl__6a9atx(98));
    initC2ESC($this, 9, _Char___init__impl__6a9atx(116));
    initC2ESC($this, 10, _Char___init__impl__6a9atx(110));
    initC2ESC($this, 12, _Char___init__impl__6a9atx(102));
    initC2ESC($this, 13, _Char___init__impl__6a9atx(114));
    initC2ESC_0($this, _Char___init__impl__6a9atx(47), _Char___init__impl__6a9atx(47));
    initC2ESC_0($this, _Char___init__impl__6a9atx(34), _Char___init__impl__6a9atx(34));
    initC2ESC_0($this, _Char___init__impl__6a9atx(92), _Char___init__impl__6a9atx(92));
  }
  function initCharToToken($this) {
    var inductionVariable = 0;
    if (inductionVariable <= 32)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        initC2TC($this, i, 127);
      }
       while (inductionVariable <= 32);
    initC2TC($this, 9, 3);
    initC2TC($this, 10, 3);
    initC2TC($this, 13, 3);
    initC2TC($this, 32, 3);
    initC2TC_0($this, _Char___init__impl__6a9atx(44), 4);
    initC2TC_0($this, _Char___init__impl__6a9atx(58), 5);
    initC2TC_0($this, _Char___init__impl__6a9atx(123), 6);
    initC2TC_0($this, _Char___init__impl__6a9atx(125), 7);
    initC2TC_0($this, _Char___init__impl__6a9atx(91), 8);
    initC2TC_0($this, _Char___init__impl__6a9atx(93), 9);
    initC2TC_0($this, _Char___init__impl__6a9atx(34), 1);
    initC2TC_0($this, _Char___init__impl__6a9atx(92), 2);
  }
  function initC2ESC($this, c, esc) {
    if (!equals(new Char(esc), new Char(_Char___init__impl__6a9atx(117)))) {
      var tmp$ret$0;
      {
        tmp$ret$0 = Char__toInt_impl_vasixd(esc);
      }
      $this.s16_1[tmp$ret$0] = numberToChar(c);
    }
  }
  function initC2ESC_0($this, c, esc) {
    var tmp$ret$0;
    {
      tmp$ret$0 = Char__toInt_impl_vasixd(c);
    }
    return initC2ESC($this, tmp$ret$0, esc);
  }
  function initC2TC($this, c, cl) {
    $this.t16_1[c] = cl;
  }
  function initC2TC_0($this, c, cl) {
    var tmp$ret$0;
    {
      tmp$ret$0 = Char__toInt_impl_vasixd(c);
    }
    return initC2TC($this, tmp$ret$0, cl);
  }
  function CharMappings() {
    CharMappings_instance = this;
    this.s16_1 = charArray(117);
    this.t16_1 = new Int8Array(126);
    initEscape(this);
    initCharToToken(this);
  }
  CharMappings.$metadata$ = objectMeta('CharMappings');
  var CharMappings_instance;
  function CharMappings_getInstance() {
    if (CharMappings_instance == null)
      new CharMappings();
    return CharMappings_instance;
  }
  function get_specialFlowingValuesHint() {
    return specialFlowingValuesHint;
  }
  var specialFlowingValuesHint;
  function get_allowStructuredMapKeysHint() {
    return allowStructuredMapKeysHint;
  }
  var allowStructuredMapKeysHint;
  function StringJsonLexer(source) {
    AbstractJsonLexer.call(this);
    this.y16_1 = source;
  }
  StringJsonLexer.prototype.g16 = function () {
    return this.y16_1;
  };
  StringJsonLexer.prototype.h16 = function (position) {
    return position < this.y16_1.length ? position : -1;
  };
  StringJsonLexer.prototype.j12 = function () {
    var source = this.y16_1;
    $l$loop: while (!(this.k16() === -1) ? this.k16() < source.length : false) {
      var tmp0_this = this;
      var tmp1 = tmp0_this.k16();
      tmp0_this.j16(tmp1 + 1 | 0);
      var ch = charSequenceGet(source, tmp1);
      var tc = charToTokenClass(ch);
      var tmp;
      if (tc === get_TC_WHITESPACE()) {
        continue $l$loop;
      } else {
        tmp = tc;
      }
      return tmp;
    }
    return get_TC_EOF();
  };
  StringJsonLexer.prototype.r13 = function () {
    var current = this.p16();
    if (current === this.y16_1.length ? true : current === -1)
      return false;
    if (equals(new Char(charSequenceGet(this.y16_1, current)), new Char(_Char___init__impl__6a9atx(44)))) {
      var tmp0_this = this;
      tmp0_this.j16(tmp0_this.k16() + 1 | 0);
      tmp0_this.k16();
      return true;
    }
    return false;
  };
  StringJsonLexer.prototype.f12 = function () {
    var current = this.k16();
    if (current === -1)
      return false;
    $l$loop: while (current < this.y16_1.length) {
      var c = charSequenceGet(this.y16_1, current);
      if (((equals(new Char(c), new Char(_Char___init__impl__6a9atx(32))) ? true : equals(new Char(c), new Char(_Char___init__impl__6a9atx(10)))) ? true : equals(new Char(c), new Char(_Char___init__impl__6a9atx(13)))) ? true : equals(new Char(c), new Char(_Char___init__impl__6a9atx(9)))) {
        current = current + 1 | 0;
        continue $l$loop;
      }
      this.j16(current);
      return this.l16(c);
    }
    this.j16(current);
    return false;
  };
  StringJsonLexer.prototype.p16 = function () {
    var current = this.k16();
    if (current === -1)
      return current;
    $l$loop: while (current < this.y16_1.length) {
      var c = charSequenceGet(this.y16_1, current);
      if (((equals(new Char(c), new Char(_Char___init__impl__6a9atx(32))) ? true : equals(new Char(c), new Char(_Char___init__impl__6a9atx(10)))) ? true : equals(new Char(c), new Char(_Char___init__impl__6a9atx(13)))) ? true : equals(new Char(c), new Char(_Char___init__impl__6a9atx(9)))) {
        current = current + 1 | 0;
      } else {
        break $l$loop;
      }
    }
    this.j16(current);
    return current;
  };
  StringJsonLexer.prototype.q13 = function (expected) {
    if (this.k16() === -1)
      this.n16(expected);
    var source = this.y16_1;
    $l$loop: while (this.k16() < source.length) {
      var tmp0_this = this;
      var tmp1 = tmp0_this.k16();
      tmp0_this.j16(tmp1 + 1 | 0);
      var c = charSequenceGet(source, tmp1);
      if (((equals(new Char(c), new Char(_Char___init__impl__6a9atx(32))) ? true : equals(new Char(c), new Char(_Char___init__impl__6a9atx(10)))) ? true : equals(new Char(c), new Char(_Char___init__impl__6a9atx(13)))) ? true : equals(new Char(c), new Char(_Char___init__impl__6a9atx(9))))
        continue $l$loop;
      if (equals(new Char(c), new Char(expected)))
        return Unit_getInstance();
      this.n16(expected);
    }
    this.n16(expected);
  };
  StringJsonLexer.prototype.w13 = function () {
    this.q13(get_STRING());
    var current = this.k16();
    var tmp = _Char___init__impl__6a9atx(34);
    var closingQuote = indexOf$default(this.y16_1, tmp, current, false, 4, null);
    if (closingQuote === -1) {
      this.m16(get_TC_STRING());
    }
    var inductionVariable = current;
    if (inductionVariable < closingQuote)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        if (equals(new Char(charSequenceGet(this.y16_1, i)), new Char(get_STRING_ESC()))) {
          return this.consumeString2(this.y16_1, this.k16(), i);
        }
      }
       while (inductionVariable < closingQuote);
    this.j16(closingQuote + 1 | 0);
    var tmp$ret$1;
    {
      var tmp0_substring = this.y16_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0_substring;
      }
      tmp$ret$1 = tmp$ret$0.substring(current, closingQuote);
    }
    return tmp$ret$1;
  };
  StringJsonLexer.prototype.z13 = function (keyToMatch, isLenient) {
    var positionSnapshot = this.k16();
    try {
      if (!(this.j12() === get_TC_BEGIN_OBJ()))
        return null;
      var firstKey = isLenient ? this.w13() : this.x13();
      if (firstKey === keyToMatch) {
        if (!(this.j12() === get_TC_COLON()))
          return null;
        var result = isLenient ? this.g12() : this.x13();
        return result;
      }
      return null;
    }finally {
      this.j16(positionSnapshot);
    }
  };
  StringJsonLexer.$metadata$ = classMeta('StringJsonLexer', undefined, undefined, undefined, undefined, AbstractJsonLexer.prototype);
  function get_schemaCache(_this__u8e3s4) {
    return _this__u8e3s4.kz_1;
  }
  function createMapForCache(initialCapacity) {
    return HashMap_init_$Create$(initialCapacity);
  }
  //region block: post-declaration
  defer$1.prototype.eo = get_isNullable;
  defer$1.prototype.lo = get_isInline;
  defer$1.prototype.jo = get_annotations;
  StreamingJsonDecoder.prototype.mq = decodeSerializableElement$default;
  StreamingJsonDecoder.prototype.nq = decodeSequentially;
  StreamingJsonDecoder.prototype.pq = decodeCollectionSize;
  AbstractJsonTreeDecoder.prototype.mq = decodeSerializableElement$default;
  AbstractJsonTreeDecoder.prototype.nq = decodeSequentially;
  AbstractJsonTreeDecoder.prototype.pq = decodeCollectionSize;
  JsonTreeDecoder.prototype.mq = decodeSerializableElement$default;
  JsonTreeDecoder.prototype.nq = decodeSequentially;
  JsonTreeDecoder.prototype.pq = decodeCollectionSize;
  JsonTreeListDecoder.prototype.mq = decodeSerializableElement$default;
  JsonTreeListDecoder.prototype.nq = decodeSequentially;
  JsonTreeListDecoder.prototype.pq = decodeCollectionSize;
  JsonTreeMapDecoder.prototype.mq = decodeSerializableElement$default;
  JsonTreeMapDecoder.prototype.nq = decodeSequentially;
  JsonTreeMapDecoder.prototype.pq = decodeCollectionSize;
  //endregion
  //region block: init
  STRING = _Char___init__impl__6a9atx(34);
  TC_WHITESPACE = 3;
  TC_EOF = 10;
  TC_STRING = 1;
  STRING_ESC = _Char___init__impl__6a9atx(92);
  TC_BEGIN_OBJ = 6;
  TC_COLON = 5;
  TC_COMMA = 4;
  COLON = _Char___init__impl__6a9atx(58);
  BEGIN_OBJ = _Char___init__impl__6a9atx(123);
  END_OBJ = _Char___init__impl__6a9atx(125);
  BEGIN_LIST = _Char___init__impl__6a9atx(91);
  END_LIST = _Char___init__impl__6a9atx(93);
  lenientHint = "Use 'isLenient = true' in 'Json {}` builder to accept non-compliant JSON.";
  NULL = 'null';
  TC_END_OBJ = 7;
  TC_BEGIN_LIST = 8;
  TC_END_LIST = 9;
  TC_OTHER = 0;
  ignoreUnknownKeysHint = "Use 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.";
  specialFlowingValuesHint = "It is possible to deserialize them using 'JsonBuilder.allowSpecialFloatingPointValues = true'";
  allowStructuredMapKeysHint = "Use 'allowStructuredMapKeys = true' in 'Json {}' builder to convert such maps to [key1, value1, key2, value2,...] arrays.";
  //endregion
  //region block: exports
  _.$_$ = _.$_$ || {};
  _.$_$.a = Default_getInstance;
  _.$_$.b = JsonArray;
  _.$_$.c = JsonObject;
  _.$_$.d = JsonPrimitive;
  _.$_$.e = get_int;
  _.$_$.f = get_jsonPrimitive;
  //endregion
  return _;
}));



/***/ }),

/***/ "./kotlin/kotlinx.coroutines-kotlinx-coroutines-core-js-ir.js":
/*!********************************************************************!*\
  !*** ./kotlin/kotlinx.coroutines-kotlinx-coroutines-core-js-ir.js ***!
  \********************************************************************/
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
  if (true)
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(/*! ./kotlin-kotlin-stdlib-js-ir.js */ "./kotlin/kotlin-kotlin-stdlib-js-ir.js"), __webpack_require__(/*! ./88b0986a7186d029-atomicfu-js-ir.js */ "./kotlin/88b0986a7186d029-atomicfu-js-ir.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  else {}
}(this, function (_, kotlin_kotlin, kotlin_org_jetbrains_kotlinx_atomicfu) {
  'use strict';
  //region block: imports
  var imul = Math.imul;
  var THROW_CCE = kotlin_kotlin.$_$.uc;
  var isObject = kotlin_kotlin.$_$.j9;
  var Unit_getInstance = kotlin_kotlin.$_$.k3;
  var plus = kotlin_kotlin.$_$.z7;
  var get = kotlin_kotlin.$_$.v7;
  var fold = kotlin_kotlin.$_$.u7;
  var minusKey = kotlin_kotlin.$_$.w7;
  var Continuation = kotlin_kotlin.$_$.t7;
  var classMeta = kotlin_kotlin.$_$.p8;
  var EmptyCoroutineContext_getInstance = kotlin_kotlin.$_$.v2;
  var createCoroutineUnintercepted = kotlin_kotlin.$_$.m7;
  var interfaceMeta = kotlin_kotlin.$_$.y8;
  var isInterface = kotlin_kotlin.$_$.h9;
  var IllegalStateException_init_$Create$ = kotlin_kotlin.$_$.u1;
  var toString = kotlin_kotlin.$_$.qd;
  var toString_0 = kotlin_kotlin.$_$.v9;
  var atomic$int$1 = kotlin_org_jetbrains_kotlinx_atomicfu.$_$.d;
  var atomic$ref$1 = kotlin_org_jetbrains_kotlinx_atomicfu.$_$.c;
  var get_COROUTINE_SUSPENDED = kotlin_kotlin.$_$.l7;
  var objectMeta = kotlin_kotlin.$_$.r9;
  var hashCode = kotlin_kotlin.$_$.w8;
  var equals = kotlin_kotlin.$_$.r8;
  var CoroutineImpl = kotlin_kotlin.$_$.a8;
  var atomic$boolean$1 = kotlin_org_jetbrains_kotlinx_atomicfu.$_$.a;
  var CancellationException_init_$Create$ = kotlin_kotlin.$_$.g1;
  var Result__exceptionOrNull_impl_p6xea9 = kotlin_kotlin.$_$.m2;
  var _Result___get_value__impl__bjfvqg = kotlin_kotlin.$_$.o2;
  var AbstractCoroutineContextKey = kotlin_kotlin.$_$.p7;
  var Key_getInstance = kotlin_kotlin.$_$.u2;
  var AbstractCoroutineContextElement = kotlin_kotlin.$_$.o7;
  var get_0 = kotlin_kotlin.$_$.q7;
  var minusKey_0 = kotlin_kotlin.$_$.r7;
  var ContinuationInterceptor = kotlin_kotlin.$_$.s7;
  var Key = kotlin_kotlin.$_$.y7;
  var RuntimeException_init_$Create$ = kotlin_kotlin.$_$.c2;
  var Enum = kotlin_kotlin.$_$.jc;
  var startCoroutine = kotlin_kotlin.$_$.d8;
  var noWhenBranchMatchedException = kotlin_kotlin.$_$.nd;
  var Long = kotlin_kotlin.$_$.oc;
  var intercepted = kotlin_kotlin.$_$.n7;
  var Companion_getInstance = kotlin_kotlin.$_$.i3;
  var RuntimeException = kotlin_kotlin.$_$.tc;
  var RuntimeException_init_$Init$ = kotlin_kotlin.$_$.b2;
  var captureStack = kotlin_kotlin.$_$.j8;
  var Error_0 = kotlin_kotlin.$_$.kc;
  var Error_init_$Init$ = kotlin_kotlin.$_$.m1;
  var Element = kotlin_kotlin.$_$.x7;
  var StringBuilder_init_$Create$ = kotlin_kotlin.$_$.j1;
  var anyToString = kotlin_kotlin.$_$.g8;
  var throwUninitializedPropertyAccessException = kotlin_kotlin.$_$.pd;
  var ArrayList_init_$Create$ = kotlin_kotlin.$_$.s;
  var CancellationException = kotlin_kotlin.$_$.k7;
  var ArrayList = kotlin_kotlin.$_$.l3;
  var IllegalStateException_init_$Create$_0 = kotlin_kotlin.$_$.v1;
  var Companion_getInstance_0 = kotlin_kotlin.$_$.j3;
  var _Result___init__impl__xyqfz8 = kotlin_kotlin.$_$.l2;
  var createFailure = kotlin_kotlin.$_$.dd;
  var UnsupportedOperationException = kotlin_kotlin.$_$.zc;
  var UnsupportedOperationException_init_$Create$ = kotlin_kotlin.$_$.e2;
  var isSuspendFunction = kotlin_kotlin.$_$.l9;
  var addSuppressed = kotlin_kotlin.$_$.ad;
  var fillArrayVal = kotlin_kotlin.$_$.s8;
  var fill = kotlin_kotlin.$_$.k5;
  var IllegalArgumentException_init_$Create$ = kotlin_kotlin.$_$.q1;
  var fill$default = kotlin_kotlin.$_$.g;
  var ensureNotNull = kotlin_kotlin.$_$.ed;
  var NoSuchElementException = kotlin_kotlin.$_$.pc;
  var NoSuchElementException_init_$Init$ = kotlin_kotlin.$_$.y1;
  var IllegalStateException = kotlin_kotlin.$_$.nc;
  var IllegalStateException_init_$Init$ = kotlin_kotlin.$_$.t1;
  var arrayCopy = kotlin_kotlin.$_$.e4;
  var toLong = kotlin_kotlin.$_$.t9;
  var toLongOrNull = kotlin_kotlin.$_$.xb;
  var atomic$long$1 = kotlin_org_jetbrains_kotlinx_atomicfu.$_$.b;
  var _Result___get_isFailure__impl__jpiriv = kotlin_kotlin.$_$.n2;
  var getKClassFromExpression = kotlin_kotlin.$_$.c;
  var CancellationException_init_$Init$ = kotlin_kotlin.$_$.h1;
  var getStringHashCode = kotlin_kotlin.$_$.v8;
  var coerceIn = kotlin_kotlin.$_$.fa;
  var HashSet_init_$Create$ = kotlin_kotlin.$_$.y;
  var UnsupportedOperationException_init_$Create$_0 = kotlin_kotlin.$_$.d2;
  //endregion
  //region block: pre-declaration
  function cancel$default(cause, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      cause = null;
    return $handler == null ? this.u18(cause) : $handler(cause);
  }
  function invokeOnCompletion$default(onCancelling, invokeImmediately, handler, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      onCancelling = false;
    if (!(($mask0 & 2) === 0))
      invokeImmediately = true;
    return $handler == null ? this.q18(onCancelling, invokeImmediately, handler) : $handler(onCancelling, invokeImmediately, handler);
  }
  AbstractCoroutine.prototype = Object.create(JobSupport.prototype);
  AbstractCoroutine.prototype.constructor = AbstractCoroutine;
  DeferredCoroutine.prototype = Object.create(AbstractCoroutine.prototype);
  DeferredCoroutine.prototype.constructor = DeferredCoroutine;
  LazyDeferredCoroutine.prototype = Object.create(DeferredCoroutine.prototype);
  LazyDeferredCoroutine.prototype.constructor = LazyDeferredCoroutine;
  StandaloneCoroutine.prototype = Object.create(AbstractCoroutine.prototype);
  StandaloneCoroutine.prototype.constructor = StandaloneCoroutine;
  LazyStandaloneCoroutine.prototype = Object.create(StandaloneCoroutine.prototype);
  LazyStandaloneCoroutine.prototype.constructor = LazyStandaloneCoroutine;
  function tryResume$default(value, idempotent, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      idempotent = null;
    return $handler == null ? this.d1a(value, idempotent) : $handler(value, idempotent);
  }
  CancelHandler.prototype = Object.create(CancelHandlerBase.prototype);
  CancelHandler.prototype.constructor = CancelHandler;
  DisposeOnCancel.prototype = Object.create(CancelHandler.prototype);
  DisposeOnCancel.prototype.constructor = DisposeOnCancel;
  BeforeResumeCancelHandler.prototype = Object.create(CancelHandler.prototype);
  BeforeResumeCancelHandler.prototype.constructor = BeforeResumeCancelHandler;
  RemoveOnCancel.prototype = Object.create(BeforeResumeCancelHandler.prototype);
  RemoveOnCancel.prototype.constructor = RemoveOnCancel;
  DispatchedTask.prototype = Object.create(SchedulerTask.prototype);
  DispatchedTask.prototype.constructor = DispatchedTask;
  CancellableContinuationImpl.prototype = Object.create(DispatchedTask.prototype);
  CancellableContinuationImpl.prototype.constructor = CancellableContinuationImpl;
  InvokeOnCancel.prototype = Object.create(CancelHandler.prototype);
  InvokeOnCancel.prototype.constructor = InvokeOnCancel;
  $awaitCOROUTINE$1.prototype = Object.create(CoroutineImpl.prototype);
  $awaitCOROUTINE$1.prototype.constructor = $awaitCOROUTINE$1;
  CompletableDeferredImpl.prototype = Object.create(JobSupport.prototype);
  CompletableDeferredImpl.prototype.constructor = CompletableDeferredImpl;
  CancelledContinuation.prototype = Object.create(CompletedExceptionally.prototype);
  CancelledContinuation.prototype.constructor = CancelledContinuation;
  Key_0.prototype = Object.create(AbstractCoroutineContextKey.prototype);
  Key_0.prototype.constructor = Key_0;
  CoroutineDispatcher.prototype = Object.create(AbstractCoroutineContextElement.prototype);
  CoroutineDispatcher.prototype.constructor = CoroutineDispatcher;
  CoroutineStart.prototype = Object.create(Enum.prototype);
  CoroutineStart.prototype.constructor = CoroutineStart;
  EventLoop.prototype = Object.create(CoroutineDispatcher.prototype);
  EventLoop.prototype.constructor = EventLoop;
  CompletionHandlerException.prototype = Object.create(RuntimeException.prototype);
  CompletionHandlerException.prototype.constructor = CompletionHandlerException;
  CoroutinesInternalError.prototype = Object.create(Error_0.prototype);
  CoroutinesInternalError.prototype.constructor = CoroutinesInternalError;
  LinkedListHead.prototype = Object.create(LinkedListNode.prototype);
  LinkedListHead.prototype.constructor = LinkedListHead;
  NodeList.prototype = Object.create(LinkedListHead.prototype);
  NodeList.prototype.constructor = NodeList;
  CompletionHandlerBase.prototype = Object.create(LinkedListNode.prototype);
  CompletionHandlerBase.prototype.constructor = CompletionHandlerBase;
  JobNode.prototype = Object.create(CompletionHandlerBase.prototype);
  JobNode.prototype.constructor = JobNode;
  ChildCompletion.prototype = Object.create(JobNode.prototype);
  ChildCompletion.prototype.constructor = ChildCompletion;
  AwaitContinuation.prototype = Object.create(CancellableContinuationImpl.prototype);
  AwaitContinuation.prototype.constructor = AwaitContinuation;
  JobCancellingNode.prototype = Object.create(JobNode.prototype);
  JobCancellingNode.prototype.constructor = JobCancellingNode;
  ChildHandleNode.prototype = Object.create(JobCancellingNode.prototype);
  ChildHandleNode.prototype.constructor = ChildHandleNode;
  InvokeOnCancelling.prototype = Object.create(JobCancellingNode.prototype);
  InvokeOnCancelling.prototype.constructor = InvokeOnCancelling;
  InvokeOnCompletion.prototype = Object.create(JobNode.prototype);
  InvokeOnCompletion.prototype.constructor = InvokeOnCompletion;
  ResumeAwaitOnCompletion.prototype = Object.create(JobNode.prototype);
  ResumeAwaitOnCompletion.prototype.constructor = ResumeAwaitOnCompletion;
  SelectAwaitOnCompletion.prototype = Object.create(JobNode.prototype);
  SelectAwaitOnCompletion.prototype.constructor = SelectAwaitOnCompletion;
  ChildContinuation.prototype = Object.create(JobCancellingNode.prototype);
  ChildContinuation.prototype.constructor = ChildContinuation;
  JobImpl.prototype = Object.create(JobSupport.prototype);
  JobImpl.prototype.constructor = JobImpl;
  MainCoroutineDispatcher.prototype = Object.create(CoroutineDispatcher.prototype);
  MainCoroutineDispatcher.prototype.constructor = MainCoroutineDispatcher;
  TimeoutCancellationException.prototype = Object.create(CancellationException.prototype);
  TimeoutCancellationException.prototype.constructor = TimeoutCancellationException;
  Unconfined.prototype = Object.create(CoroutineDispatcher.prototype);
  Unconfined.prototype.constructor = Unconfined;
  AbstractAtomicDesc.prototype = Object.create(AtomicDesc.prototype);
  AbstractAtomicDesc.prototype.constructor = AbstractAtomicDesc;
  RemoveFirstDesc.prototype = Object.create(AbstractAtomicDesc.prototype);
  RemoveFirstDesc.prototype.constructor = RemoveFirstDesc;
  TryPollDesc.prototype = Object.create(RemoveFirstDesc.prototype);
  TryPollDesc.prototype.constructor = TryPollDesc;
  RemoveReceiveOnCancel.prototype = Object.create(BeforeResumeCancelHandler.prototype);
  RemoveReceiveOnCancel.prototype.constructor = RemoveReceiveOnCancel;
  Receive.prototype = Object.create(LinkedListNode.prototype);
  Receive.prototype.constructor = Receive;
  ReceiveHasNext.prototype = Object.create(Receive.prototype);
  ReceiveHasNext.prototype.constructor = ReceiveHasNext;
  ReceiveSelect.prototype = Object.create(Receive.prototype);
  ReceiveSelect.prototype.constructor = ReceiveSelect;
  AbstractChannel.prototype = Object.create(AbstractSendChannel.prototype);
  AbstractChannel.prototype.constructor = AbstractChannel;
  Send.prototype = Object.create(LinkedListNode.prototype);
  Send.prototype.constructor = Send;
  SendBuffered.prototype = Object.create(Send.prototype);
  SendBuffered.prototype.constructor = SendBuffered;
  Closed.prototype = Object.create(Send.prototype);
  Closed.prototype.constructor = Closed;
  SendElement.prototype = Object.create(Send.prototype);
  SendElement.prototype.constructor = SendElement;
  SendElementWithUndeliveredHandler.prototype = Object.create(SendElement.prototype);
  SendElementWithUndeliveredHandler.prototype.constructor = SendElementWithUndeliveredHandler;
  ArrayChannel.prototype = Object.create(AbstractChannel.prototype);
  ArrayChannel.prototype.constructor = ArrayChannel;
  BufferOverflow.prototype = Object.create(Enum.prototype);
  BufferOverflow.prototype.constructor = BufferOverflow;
  Closed_0.prototype = Object.create(Failed.prototype);
  Closed_0.prototype.constructor = Closed_0;
  ClosedReceiveChannelException.prototype = Object.create(NoSuchElementException.prototype);
  ClosedReceiveChannelException.prototype.constructor = ClosedReceiveChannelException;
  ClosedSendChannelException.prototype = Object.create(IllegalStateException.prototype);
  ClosedSendChannelException.prototype.constructor = ClosedSendChannelException;
  ConflatedChannel.prototype = Object.create(AbstractChannel.prototype);
  ConflatedChannel.prototype.constructor = ConflatedChannel;
  LinkedListChannel.prototype = Object.create(AbstractChannel.prototype);
  LinkedListChannel.prototype.constructor = LinkedListChannel;
  RendezvousChannel.prototype = Object.create(AbstractChannel.prototype);
  RendezvousChannel.prototype.constructor = RendezvousChannel;
  AtomicOp.prototype = Object.create(OpDescriptor.prototype);
  AtomicOp.prototype.constructor = AtomicOp;
  DispatchedContinuation.prototype = Object.create(DispatchedTask.prototype);
  DispatchedContinuation.prototype.constructor = DispatchedContinuation;
  UndeliveredElementException.prototype = Object.create(RuntimeException.prototype);
  UndeliveredElementException.prototype.constructor = UndeliveredElementException;
  SelectOnCancelling.prototype = Object.create(JobCancellingNode.prototype);
  SelectOnCancelling.prototype.constructor = SelectOnCancelling;
  PairSelectOp.prototype = Object.create(OpDescriptor.prototype);
  PairSelectOp.prototype.constructor = PairSelectOp;
  AtomicSelectOp.prototype = Object.create(AtomicOp.prototype);
  AtomicSelectOp.prototype.constructor = AtomicSelectOp;
  DisposeNode.prototype = Object.create(LinkedListNode.prototype);
  DisposeNode.prototype.constructor = DisposeNode;
  SelectBuilderImpl.prototype = Object.create(LinkedListHead.prototype);
  SelectBuilderImpl.prototype.constructor = SelectBuilderImpl;
  JsMainDispatcher.prototype = Object.create(MainCoroutineDispatcher.prototype);
  JsMainDispatcher.prototype.constructor = JsMainDispatcher;
  UnconfinedEventLoop.prototype = Object.create(EventLoop.prototype);
  UnconfinedEventLoop.prototype.constructor = UnconfinedEventLoop;
  JobCancellationException.prototype = Object.create(CancellationException.prototype);
  JobCancellationException.prototype.constructor = JobCancellationException;
  SetTimeoutBasedDispatcher.prototype = Object.create(CoroutineDispatcher.prototype);
  SetTimeoutBasedDispatcher.prototype.constructor = SetTimeoutBasedDispatcher;
  NodeDispatcher.prototype = Object.create(SetTimeoutBasedDispatcher.prototype);
  NodeDispatcher.prototype.constructor = NodeDispatcher;
  SetTimeoutDispatcher.prototype = Object.create(SetTimeoutBasedDispatcher.prototype);
  SetTimeoutDispatcher.prototype.constructor = SetTimeoutDispatcher;
  MessageQueue.prototype = Object.create(ArrayQueue.prototype);
  MessageQueue.prototype.constructor = MessageQueue;
  ScheduledMessageQueue.prototype = Object.create(MessageQueue.prototype);
  ScheduledMessageQueue.prototype.constructor = ScheduledMessageQueue;
  ClearTimeout.prototype = Object.create(CancelHandler.prototype);
  ClearTimeout.prototype.constructor = ClearTimeout;
  WindowDispatcher.prototype = Object.create(CoroutineDispatcher.prototype);
  WindowDispatcher.prototype.constructor = WindowDispatcher;
  WindowMessageQueue.prototype = Object.create(MessageQueue.prototype);
  WindowMessageQueue.prototype.constructor = WindowMessageQueue;
  PrepareOp.prototype = Object.create(OpDescriptor.prototype);
  PrepareOp.prototype.constructor = PrepareOp;
  //endregion
  function AbstractCoroutine(parentContext, initParentJob, active) {
    JobSupport.call(this, active);
    if (initParentJob)
      this.k17(parentContext.f8(Key_getInstance_2()));
    this.n17_1 = parentContext.m8(this);
  }
  AbstractCoroutine.prototype.s4 = function () {
    return this.n17_1;
  };
  AbstractCoroutine.prototype.o17 = function () {
    return this.n17_1;
  };
  AbstractCoroutine.prototype.p17 = function () {
    return JobSupport.prototype.p17.call(this);
  };
  AbstractCoroutine.prototype.q17 = function (value) {
  };
  AbstractCoroutine.prototype.r17 = function (cause, handled) {
  };
  AbstractCoroutine.prototype.s17 = function () {
    return get_classSimpleName(this) + ' was cancelled';
  };
  AbstractCoroutine.prototype.t17 = function (state) {
    if (state instanceof CompletedExceptionally)
      this.r17(state.u17_1, state.w17());
    else {
      this.q17((state == null ? true : isObject(state)) ? state : THROW_CCE());
    }
  };
  AbstractCoroutine.prototype.q4 = function (result) {
    var state = this.x17(toState$default(result, null, 1, null));
    if (state === get_COMPLETING_WAITING_CHILDREN())
      return Unit_getInstance();
    this.y17(state);
  };
  AbstractCoroutine.prototype.y17 = function (state) {
    return this.z17(state);
  };
  AbstractCoroutine.prototype.a18 = function (exception) {
    handleCoroutineException(this.n17_1, exception);
  };
  AbstractCoroutine.prototype.b18 = function () {
    var tmp0_elvis_lhs = get_coroutineName(this.n17_1);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return JobSupport.prototype.b18.call(this);
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var coroutineName = tmp;
    return '"' + coroutineName + '":' + JobSupport.prototype.b18.call(this);
  };
  AbstractCoroutine.prototype.c18 = function (start, receiver, block) {
    start.f18(block, receiver, this);
  };
  AbstractCoroutine.$metadata$ = classMeta('AbstractCoroutine', [Job, Continuation, CoroutineScope], undefined, undefined, undefined, JobSupport.prototype);
  function async(_this__u8e3s4, context, start, block) {
    var newContext = newCoroutineContext(_this__u8e3s4, context);
    var coroutine = start.j19() ? new LazyDeferredCoroutine(newContext, block) : new DeferredCoroutine(newContext, true);
    coroutine.c18(start, coroutine, block);
    return coroutine;
  }
  function async$default(_this__u8e3s4, context, start, block, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      context = EmptyCoroutineContext_getInstance();
    if (!(($mask0 & 2) === 0))
      start = CoroutineStart_DEFAULT_getInstance();
    return async(_this__u8e3s4, context, start, block);
  }
  function launch(_this__u8e3s4, context, start, block) {
    var newContext = newCoroutineContext(_this__u8e3s4, context);
    var coroutine = start.j19() ? new LazyStandaloneCoroutine(newContext, block) : new StandaloneCoroutine(newContext, true);
    coroutine.c18(start, coroutine, block);
    return coroutine;
  }
  function launch$default(_this__u8e3s4, context, start, block, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      context = EmptyCoroutineContext_getInstance();
    if (!(($mask0 & 2) === 0))
      start = CoroutineStart_DEFAULT_getInstance();
    return launch(_this__u8e3s4, context, start, block);
  }
  function DeferredCoroutine(parentContext, active) {
    AbstractCoroutine.call(this, parentContext, true, active);
  }
  DeferredCoroutine.prototype.n19 = function () {
    var tmp = this.o19();
    return (tmp == null ? true : isObject(tmp)) ? tmp : THROW_CCE();
  };
  DeferredCoroutine.prototype.p19 = function (select, block) {
    return this.q19(select, block);
  };
  DeferredCoroutine.prototype.r19 = function (select, block) {
    return this.p19(select, block);
  };
  DeferredCoroutine.$metadata$ = classMeta('DeferredCoroutine', [Deferred, SelectClause1], undefined, undefined, undefined, AbstractCoroutine.prototype);
  function LazyDeferredCoroutine(parentContext, block) {
    DeferredCoroutine.call(this, parentContext, false);
    this.v19_1 = createCoroutineUnintercepted(block, this, this);
  }
  LazyDeferredCoroutine.prototype.l18 = function () {
    startCoroutineCancellable_0(this.v19_1, this);
  };
  LazyDeferredCoroutine.$metadata$ = classMeta('LazyDeferredCoroutine', undefined, undefined, undefined, undefined, DeferredCoroutine.prototype);
  function StandaloneCoroutine(parentContext, active) {
    AbstractCoroutine.call(this, parentContext, true, active);
  }
  StandaloneCoroutine.prototype.g19 = function (exception) {
    handleCoroutineException(this.s4(), exception);
    return true;
  };
  StandaloneCoroutine.$metadata$ = classMeta('StandaloneCoroutine', undefined, undefined, undefined, undefined, AbstractCoroutine.prototype);
  function LazyStandaloneCoroutine(parentContext, block) {
    StandaloneCoroutine.call(this, parentContext, false);
    this.c1a_1 = createCoroutineUnintercepted(block, this, this);
  }
  LazyStandaloneCoroutine.prototype.l18 = function () {
    startCoroutineCancellable_0(this.c1a_1, this);
  };
  LazyStandaloneCoroutine.$metadata$ = classMeta('LazyStandaloneCoroutine', undefined, undefined, undefined, undefined, StandaloneCoroutine.prototype);
  function CancellableContinuation() {
  }
  CancellableContinuation.$metadata$ = interfaceMeta('CancellableContinuation', [Continuation]);
  function disposeOnCancellation(_this__u8e3s4, handle) {
    var tmp$ret$1;
    {
      var tmp0__get_asHandler__gq3rkj = new DisposeOnCancel(handle);
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0__get_asHandler__gq3rkj;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return _this__u8e3s4.i1a(tmp$ret$1);
  }
  function DisposeOnCancel(handle) {
    CancelHandler.call(this);
    this.l1a_1 = handle;
  }
  DisposeOnCancel.prototype.m1a = function (cause) {
    return this.l1a_1.n1a();
  };
  DisposeOnCancel.prototype.invoke = function (cause) {
    return this.m1a(cause);
  };
  DisposeOnCancel.prototype.toString = function () {
    return 'DisposeOnCancel[' + this.l1a_1 + ']';
  };
  DisposeOnCancel.$metadata$ = classMeta('DisposeOnCancel', undefined, undefined, undefined, undefined, CancelHandler.prototype);
  function removeOnCancellation(_this__u8e3s4, node) {
    var tmp$ret$1;
    {
      var tmp0__get_asHandler__gq3rkj = new RemoveOnCancel(node);
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0__get_asHandler__gq3rkj;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return _this__u8e3s4.i1a(tmp$ret$1);
  }
  function getOrCreateCancellableContinuation(delegate) {
    if (!(delegate instanceof DispatchedContinuation)) {
      return new CancellableContinuationImpl(delegate, get_MODE_CANCELLABLE());
    }
    var tmp0_safe_receiver = delegate.u1a();
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        var tmp_0;
        var tmp$ret$0;
        {
          tmp$ret$0 = tmp0_safe_receiver.b1b();
        }
        if (tmp$ret$0) {
          tmp_0 = tmp0_safe_receiver;
        } else {
          tmp_0 = null;
        }
        tmp$ret$1 = tmp_0;
      }
      tmp = tmp$ret$1;
    }
    var tmp1_elvis_lhs = tmp;
    var tmp_1;
    if (tmp1_elvis_lhs == null) {
      return new CancellableContinuationImpl(delegate, get_MODE_CANCELLABLE_REUSABLE());
    } else {
      tmp_1 = tmp1_elvis_lhs;
    }
    return tmp_1;
  }
  function RemoveOnCancel(node) {
    BeforeResumeCancelHandler.call(this);
    this.c1b_1 = node;
  }
  RemoveOnCancel.prototype.m1a = function (cause) {
    this.c1b_1.g1b();
  };
  RemoveOnCancel.prototype.invoke = function (cause) {
    return this.m1a(cause);
  };
  RemoveOnCancel.prototype.toString = function () {
    return 'RemoveOnCancel[' + this.c1b_1 + ']';
  };
  RemoveOnCancel.$metadata$ = classMeta('RemoveOnCancel', undefined, undefined, undefined, undefined, BeforeResumeCancelHandler.prototype);
  function get_RESUME_TOKEN() {
    init_properties_CancellableContinuationImpl_kt_jcze1b();
    return RESUME_TOKEN;
  }
  var RESUME_TOKEN;
  function _get_stateDebugRepresentation__bf18u4($this) {
    var tmp0_subject = $this.i18();
    var tmp;
    if (!(tmp0_subject == null) ? isInterface(tmp0_subject, NotCompleted) : false) {
      tmp = 'Active';
    } else {
      if (tmp0_subject instanceof CancelledContinuation) {
        tmp = 'Cancelled';
      } else {
        tmp = 'Completed';
      }
    }
    return tmp;
  }
  function isReusable($this) {
    var tmp;
    if (get_isReusableMode($this.j1b())) {
      var tmp_0 = $this.w1a_1;
      tmp = (tmp_0 instanceof DispatchedContinuation ? tmp_0 : THROW_CCE()).h1b();
    } else {
      tmp = false;
    }
    return tmp;
  }
  function cancelLater($this, cause) {
    if (!isReusable($this))
      return false;
    var tmp = $this.w1a_1;
    var dispatched = tmp instanceof DispatchedContinuation ? tmp : THROW_CCE();
    return dispatched.k1b(cause);
  }
  function callCancelHandler($this, handler, cause) {
    var tmp;
    try {
      tmp = invokeIt(handler, cause);
    } catch ($p) {
      var tmp_0;
      if ($p instanceof Error) {
        tmp_0 = handleCoroutineException($this.s4(), new CompletionHandlerException('Exception in invokeOnCancellation handler for ' + $this, $p));
      } else {
        throw $p;
      }
      tmp = tmp_0;
    }
    return tmp;
  }
  function trySuspend($this) {
    {
      var tmp0_loop = $this.y1a_1;
      while (true) {
        {
          var tmp1__anonymous__uwfjfc = tmp0_loop.a17_1;
          var tmp0_subject = tmp1__anonymous__uwfjfc;
          switch (tmp0_subject) {
            case 0:
              if ($this.y1a_1.atomicfu$compareAndSet(0, 1))
                return true;
              break;
            case 2:
              return false;
            default:
              throw IllegalStateException_init_$Create$('Already suspended');
          }
        }
      }
    }
  }
  function tryResume($this) {
    {
      var tmp0_loop = $this.y1a_1;
      while (true) {
        {
          var tmp1__anonymous__uwfjfc = tmp0_loop.a17_1;
          var tmp0_subject = tmp1__anonymous__uwfjfc;
          switch (tmp0_subject) {
            case 0:
              if ($this.y1a_1.atomicfu$compareAndSet(0, 2))
                return true;
              break;
            case 1:
              return false;
            default:
              throw IllegalStateException_init_$Create$('Already resumed');
          }
        }
      }
    }
  }
  function installParentHandle($this) {
    var tmp0_elvis_lhs = $this.s4().f8(Key_getInstance_2());
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return null;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var parent = tmp;
    var tmp$ret$1;
    {
      var tmp0__get_asHandler__gq3rkj = new ChildContinuation($this);
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0__get_asHandler__gq3rkj;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    var handle = parent.r18(true, false, tmp$ret$1, 2, null);
    $this.a1b_1 = handle;
    return handle;
  }
  function releaseClaimedReusableContinuation($this) {
    var tmp = $this.w1a_1;
    var tmp0_safe_receiver = tmp instanceof DispatchedContinuation ? tmp : null;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.l1b($this);
    var tmp_0;
    if (tmp1_elvis_lhs == null) {
      return Unit_getInstance();
    } else {
      tmp_0 = tmp1_elvis_lhs;
    }
    var cancellationCause = tmp_0;
    $this.m1b();
    $this.n1b(cancellationCause);
  }
  function multipleHandlersError($this, handler, state) {
    {
      var tmp0_error = "It's prohibited to register multiple handlers, tried to register " + handler + ', already has ' + toString(state);
      throw IllegalStateException_init_$Create$(toString_0(tmp0_error));
    }
  }
  function makeCancelHandler($this, handler) {
    var tmp;
    if (handler instanceof CancelHandler) {
      tmp = handler;
    } else {
      tmp = new InvokeOnCancel(handler);
    }
    return tmp;
  }
  function dispatchResume($this, mode) {
    if (tryResume($this))
      return Unit_getInstance();
    dispatch($this, mode);
  }
  function resumedState($this, state, proposedUpdate, resumeMode, onCancellation, idempotent) {
    var tmp;
    if (proposedUpdate instanceof CompletedExceptionally) {
      {
      }
      {
      }
      tmp = proposedUpdate;
    } else {
      if (!get_isCancellableMode(resumeMode) ? idempotent == null : false) {
        tmp = proposedUpdate;
      } else {
        var tmp_0;
        var tmp_1;
        if (!(onCancellation == null)) {
          tmp_1 = true;
        } else {
          var tmp_2;
          if (state instanceof CancelHandler) {
            tmp_2 = !(state instanceof BeforeResumeCancelHandler);
          } else {
            tmp_2 = false;
          }
          tmp_1 = tmp_2;
        }
        if (tmp_1) {
          tmp_0 = true;
        } else {
          tmp_0 = !(idempotent == null);
        }
        if (tmp_0) {
          var tmp_3 = state instanceof CancelHandler ? state : null;
          tmp = CompletedContinuation_init_$Create$(proposedUpdate, tmp_3, onCancellation, idempotent, null, 16, null);
        } else {
          tmp = proposedUpdate;
        }
      }
    }
    return tmp;
  }
  function resumeImpl($this, proposedUpdate, resumeMode, onCancellation) {
    {
      var tmp0_loop = $this.z1a_1;
      while (true) {
        var tmp$ret$0;
        $l$block: {
          var tmp1__anonymous__uwfjfc = tmp0_loop.z16_1;
          var tmp0_subject = tmp1__anonymous__uwfjfc;
          if (!(tmp0_subject == null) ? isInterface(tmp0_subject, NotCompleted) : false) {
            var update = resumedState($this, tmp1__anonymous__uwfjfc, proposedUpdate, resumeMode, onCancellation, null);
            if (!$this.z1a_1.atomicfu$compareAndSet(tmp1__anonymous__uwfjfc, update)) {
              tmp$ret$0 = Unit_getInstance();
              break $l$block;
            }
            detachChildIfNonResuable($this);
            dispatchResume($this, resumeMode);
            return Unit_getInstance();
          } else {
            if (tmp0_subject instanceof CancelledContinuation) {
              if (tmp1__anonymous__uwfjfc.s1b()) {
                var tmp1_safe_receiver = onCancellation;
                if (tmp1_safe_receiver == null)
                  null;
                else {
                  var tmp$ret$1;
                  {
                    {
                    }
                    tmp$ret$1 = $this.o1b(tmp1_safe_receiver, tmp1__anonymous__uwfjfc.p1());
                  }
                }
                return Unit_getInstance();
              }
            }
          }
          alreadyResumedError($this, proposedUpdate);
        }
      }
    }
  }
  function resumeImpl$default($this, proposedUpdate, resumeMode, onCancellation, $mask0, $handler) {
    if (!(($mask0 & 8) === 0))
      onCancellation = null;
    return resumeImpl($this, proposedUpdate, resumeMode, onCancellation);
  }
  function tryResumeImpl($this, proposedUpdate, idempotent, onCancellation) {
    {
      var tmp0_loop = $this.z1a_1;
      while (true) {
        var tmp$ret$0;
        $l$block: {
          var tmp1__anonymous__uwfjfc = tmp0_loop.z16_1;
          var tmp0_subject = tmp1__anonymous__uwfjfc;
          if (!(tmp0_subject == null) ? isInterface(tmp0_subject, NotCompleted) : false) {
            var update = resumedState($this, tmp1__anonymous__uwfjfc, proposedUpdate, $this.j1b(), onCancellation, idempotent);
            if (!$this.z1a_1.atomicfu$compareAndSet(tmp1__anonymous__uwfjfc, update)) {
              tmp$ret$0 = Unit_getInstance();
              break $l$block;
            }
            detachChildIfNonResuable($this);
            return get_RESUME_TOKEN();
          } else {
            if (tmp0_subject instanceof CompletedContinuation) {
              var tmp;
              if (!(idempotent == null) ? tmp1__anonymous__uwfjfc.w1b_1 === idempotent : false) {
                {
                }
                tmp = get_RESUME_TOKEN();
              } else {
                tmp = null;
              }
              return tmp;
            } else {
              return null;
            }
          }
        }
      }
    }
  }
  function alreadyResumedError($this, proposedUpdate) {
    {
      var tmp0_error = 'Already resumed, but proposed with update ' + toString(proposedUpdate);
      throw IllegalStateException_init_$Create$(toString_0(tmp0_error));
    }
  }
  function detachChildIfNonResuable($this) {
    if (!isReusable($this))
      $this.m1b();
  }
  function CancellableContinuationImpl(delegate, resumeMode) {
    DispatchedTask.call(this, resumeMode);
    this.w1a_1 = delegate;
    {
    }
    this.x1a_1 = this.w1a_1.s4();
    this.y1a_1 = atomic$int$1(0);
    this.z1a_1 = atomic$ref$1(Active_getInstance());
    this.a1b_1 = null;
  }
  CancellableContinuationImpl.prototype.y1b = function () {
    return this.w1a_1;
  };
  CancellableContinuationImpl.prototype.s4 = function () {
    return this.x1a_1;
  };
  CancellableContinuationImpl.prototype.i18 = function () {
    return this.z1a_1.z16_1;
  };
  CancellableContinuationImpl.prototype.j18 = function () {
    var tmp = this.i18();
    return !(!(tmp == null) ? isInterface(tmp, NotCompleted) : false);
  };
  CancellableContinuationImpl.prototype.z1b = function () {
    var tmp0_elvis_lhs = installParentHandle(this);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return Unit_getInstance();
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var handle = tmp;
    if (this.j18()) {
      handle.n1a();
      this.a1b_1 = NonDisposableHandle_getInstance();
    }
  };
  CancellableContinuationImpl.prototype.b1b = function () {
    {
    }
    {
    }
    var state = this.z1a_1.z16_1;
    {
    }
    var tmp;
    if (state instanceof CompletedContinuation) {
      tmp = !(state.w1b_1 == null);
    } else {
      tmp = false;
    }
    if (tmp) {
      this.m1b();
      return false;
    }
    this.y1a_1.a17_1 = 0;
    this.z1a_1.z16_1 = Active_getInstance();
    return true;
  };
  CancellableContinuationImpl.prototype.a1c = function () {
    return this.i18();
  };
  CancellableContinuationImpl.prototype.b1c = function (takenState, cause) {
    var tmp0_loop = this.z1a_1;
    while (true) {
      {
        var tmp1__anonymous__uwfjfc = tmp0_loop.z16_1;
        var tmp0_subject = tmp1__anonymous__uwfjfc;
        if (!(tmp0_subject == null) ? isInterface(tmp0_subject, NotCompleted) : false) {
          throw IllegalStateException_init_$Create$('Not completed');
        } else {
          if (tmp0_subject instanceof CompletedExceptionally)
            return Unit_getInstance();
          else {
            if (tmp0_subject instanceof CompletedContinuation) {
              {
                var tmp0_check = !tmp1__anonymous__uwfjfc.c1c();
                {
                }
                if (!tmp0_check) {
                  var tmp$ret$0;
                  {
                    tmp$ret$0 = 'Must be called at most once';
                  }
                  var message = tmp$ret$0;
                  throw IllegalStateException_init_$Create$(toString_0(message));
                }
              }
              var update = tmp1__anonymous__uwfjfc.d1c(null, null, null, null, cause, 15, null);
              if (this.z1a_1.atomicfu$compareAndSet(tmp1__anonymous__uwfjfc, update)) {
                tmp1__anonymous__uwfjfc.e1c(this, cause);
                return Unit_getInstance();
              }
            } else {
              if (this.z1a_1.atomicfu$compareAndSet(tmp1__anonymous__uwfjfc, CompletedContinuation_init_$Create$(tmp1__anonymous__uwfjfc, null, null, null, cause, 14, null))) {
                return Unit_getInstance();
              }
            }
          }
        }
      }
    }
    return Unit_getInstance();
  };
  CancellableContinuationImpl.prototype.n1b = function (cause) {
    {
      var tmp0_loop = this.z1a_1;
      while (true) {
        var tmp$ret$0;
        $l$block: {
          var tmp1__anonymous__uwfjfc = tmp0_loop.z16_1;
          if (!(!(tmp1__anonymous__uwfjfc == null) ? isInterface(tmp1__anonymous__uwfjfc, NotCompleted) : false))
            return false;
          var update = new CancelledContinuation(this, cause, tmp1__anonymous__uwfjfc instanceof CancelHandler);
          if (!this.z1a_1.atomicfu$compareAndSet(tmp1__anonymous__uwfjfc, update)) {
            tmp$ret$0 = Unit_getInstance();
            break $l$block;
          }
          var tmp0_safe_receiver = tmp1__anonymous__uwfjfc instanceof CancelHandler ? tmp1__anonymous__uwfjfc : null;
          if (tmp0_safe_receiver == null)
            null;
          else {
            var tmp$ret$1;
            {
              {
              }
              tmp$ret$1 = this.f1c(tmp0_safe_receiver, cause);
            }
          }
          detachChildIfNonResuable(this);
          dispatchResume(this, this.j1b());
          return true;
        }
      }
    }
  };
  CancellableContinuationImpl.prototype.g1c = function (cause) {
    if (cancelLater(this, cause))
      return Unit_getInstance();
    this.n1b(cause);
    detachChildIfNonResuable(this);
  };
  CancellableContinuationImpl.prototype.f1c = function (handler, cause) {
    var tmp;
    try {
      tmp = handler.invoke(cause);
    } catch ($p) {
      var tmp_0;
      if ($p instanceof Error) {
        tmp_0 = handleCoroutineException(this.s4(), new CompletionHandlerException('Exception in invokeOnCancellation handler for ' + this, $p));
      } else {
        throw $p;
      }
      tmp = tmp_0;
    }
    return tmp;
  };
  CancellableContinuationImpl.prototype.o1b = function (onCancellation, cause) {
    try {
      onCancellation(cause);
    } catch ($p) {
      if ($p instanceof Error) {
        handleCoroutineException(this.s4(), new CompletionHandlerException('Exception in resume onCancellation handler for ' + this, $p));
      } else {
        throw $p;
      }
    }
  };
  CancellableContinuationImpl.prototype.h1c = function (parent) {
    return parent.m18();
  };
  CancellableContinuationImpl.prototype.i1c = function () {
    var isReusable_0 = isReusable(this);
    if (trySuspend(this)) {
      if (this.a1b_1 == null) {
        installParentHandle(this);
      }
      if (isReusable_0) {
        releaseClaimedReusableContinuation(this);
      }
      return get_COROUTINE_SUSPENDED();
    }
    if (isReusable_0) {
      releaseClaimedReusableContinuation(this);
    }
    var state = this.i18();
    if (state instanceof CompletedExceptionally)
      throw recoverStackTrace(state.u17_1, this);
    if (get_isCancellableMode(this.j1b())) {
      var job = this.s4().f8(Key_getInstance_2());
      if (!(job == null) ? !job.p17() : false) {
        var cause = job.m18();
        this.b1c(state, cause);
        throw recoverStackTrace(cause, this);
      }
    }
    return this.j1c(state);
  };
  CancellableContinuationImpl.prototype.q4 = function (result) {
    var tmp = toState(result, this);
    var tmp_0 = this.j1b();
    return resumeImpl$default(this, tmp, tmp_0, null, 8, null);
  };
  CancellableContinuationImpl.prototype.k1a = function (value, onCancellation) {
    return resumeImpl(this, value, this.j1b(), onCancellation);
  };
  CancellableContinuationImpl.prototype.i1a = function (handler) {
    var cancelHandler = makeCancelHandler(this, handler);
    {
      var tmp0_loop = this.z1a_1;
      while (true) {
        {
          var tmp1__anonymous__uwfjfc = tmp0_loop.z16_1;
          var tmp0_subject = tmp1__anonymous__uwfjfc;
          if (tmp0_subject instanceof Active) {
            if (this.z1a_1.atomicfu$compareAndSet(tmp1__anonymous__uwfjfc, cancelHandler))
              return Unit_getInstance();
          } else {
            if (tmp0_subject instanceof CancelHandler)
              multipleHandlersError(this, handler, tmp1__anonymous__uwfjfc);
            else {
              if (tmp0_subject instanceof CompletedExceptionally) {
                if (!tmp1__anonymous__uwfjfc.k1c())
                  multipleHandlersError(this, handler, tmp1__anonymous__uwfjfc);
                if (tmp1__anonymous__uwfjfc instanceof CancelledContinuation) {
                  var tmp1_safe_receiver = tmp1__anonymous__uwfjfc instanceof CompletedExceptionally ? tmp1__anonymous__uwfjfc : null;
                  callCancelHandler(this, handler, tmp1_safe_receiver == null ? null : tmp1_safe_receiver.u17_1);
                }
                return Unit_getInstance();
              } else {
                if (tmp0_subject instanceof CompletedContinuation) {
                  if (!(tmp1__anonymous__uwfjfc.u1b_1 == null))
                    multipleHandlersError(this, handler, tmp1__anonymous__uwfjfc);
                  if (cancelHandler instanceof BeforeResumeCancelHandler)
                    return Unit_getInstance();
                  if (tmp1__anonymous__uwfjfc.c1c()) {
                    callCancelHandler(this, handler, tmp1__anonymous__uwfjfc.x1b_1);
                    return Unit_getInstance();
                  }
                  var update = tmp1__anonymous__uwfjfc.d1c(null, cancelHandler, null, null, null, 29, null);
                  if (this.z1a_1.atomicfu$compareAndSet(tmp1__anonymous__uwfjfc, update))
                    return Unit_getInstance();
                } else {
                  if (cancelHandler instanceof BeforeResumeCancelHandler)
                    return Unit_getInstance();
                  var update_0 = CompletedContinuation_init_$Create$(tmp1__anonymous__uwfjfc, cancelHandler, null, null, null, 28, null);
                  if (this.z1a_1.atomicfu$compareAndSet(tmp1__anonymous__uwfjfc, update_0))
                    return Unit_getInstance();
                }
              }
            }
          }
        }
      }
    }
  };
  CancellableContinuationImpl.prototype.m1b = function () {
    var tmp0_elvis_lhs = this.a1b_1;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return Unit_getInstance();
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var handle = tmp;
    handle.n1a();
    this.a1b_1 = NonDisposableHandle_getInstance();
  };
  CancellableContinuationImpl.prototype.d1a = function (value, idempotent) {
    return tryResumeImpl(this, value, idempotent, null);
  };
  CancellableContinuationImpl.prototype.f1a = function (value, idempotent, onCancellation) {
    return tryResumeImpl(this, value, idempotent, onCancellation);
  };
  CancellableContinuationImpl.prototype.g1a = function (exception) {
    return tryResumeImpl(this, CompletedExceptionally_init_$Create$(exception, false, 2, null), null, null);
  };
  CancellableContinuationImpl.prototype.h1a = function (token) {
    {
    }
    dispatchResume(this, this.j1b());
  };
  CancellableContinuationImpl.prototype.j1a = function (_this__u8e3s4, value) {
    var tmp = this.w1a_1;
    var dc = tmp instanceof DispatchedContinuation ? tmp : null;
    var tmp_0;
    var tmp0_safe_receiver = dc;
    if ((tmp0_safe_receiver == null ? null : tmp0_safe_receiver.p1a_1) === _this__u8e3s4) {
      tmp_0 = get_MODE_UNDISPATCHED();
    } else {
      tmp_0 = this.j1b();
    }
    var tmp_1 = tmp_0;
    resumeImpl$default(this, value, tmp_1, null, 8, null);
  };
  CancellableContinuationImpl.prototype.j1c = function (state) {
    var tmp0_subject = state;
    var tmp;
    if (tmp0_subject instanceof CompletedContinuation) {
      var tmp_0 = state.t1b_1;
      tmp = (tmp_0 == null ? true : isObject(tmp_0)) ? tmp_0 : THROW_CCE();
    } else {
      tmp = (state == null ? true : isObject(state)) ? state : THROW_CCE();
    }
    return tmp;
  };
  CancellableContinuationImpl.prototype.l1c = function (state) {
    var tmp0_safe_receiver = DispatchedTask.prototype.l1c.call(this, state);
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        var tmp$ret$0;
        {
          tmp$ret$0 = recoverStackTrace(tmp0_safe_receiver, this.w1a_1);
        }
        tmp$ret$1 = tmp$ret$0;
      }
      tmp = tmp$ret$1;
    }
    return tmp;
  };
  CancellableContinuationImpl.prototype.toString = function () {
    return this.b18() + '(' + toDebugString(this.w1a_1) + '){' + _get_stateDebugRepresentation__bf18u4(this) + '}@' + get_hexAddress(this);
  };
  CancellableContinuationImpl.prototype.b18 = function () {
    return 'CancellableContinuation';
  };
  CancellableContinuationImpl.$metadata$ = classMeta('CancellableContinuationImpl', [CancellableContinuation, CoroutineStackFrame], undefined, undefined, undefined, DispatchedTask.prototype);
  function CancelHandler() {
    CancelHandlerBase.call(this);
  }
  CancelHandler.$metadata$ = classMeta('CancelHandler', [NotCompleted], undefined, undefined, undefined, CancelHandlerBase.prototype);
  function get_UNDECIDED() {
    return UNDECIDED;
  }
  var UNDECIDED;
  function Active() {
    Active_instance = this;
  }
  Active.prototype.toString = function () {
    return 'Active';
  };
  Active.$metadata$ = objectMeta('Active', [NotCompleted]);
  var Active_instance;
  function Active_getInstance() {
    if (Active_instance == null)
      new Active();
    return Active_instance;
  }
  function NotCompleted() {
  }
  NotCompleted.$metadata$ = interfaceMeta('NotCompleted');
  function CompletedContinuation_init_$Init$(result, cancelHandler, onCancellation, idempotentResume, cancelCause, $mask0, $marker, $this) {
    if (!(($mask0 & 2) === 0))
      cancelHandler = null;
    if (!(($mask0 & 4) === 0))
      onCancellation = null;
    if (!(($mask0 & 8) === 0))
      idempotentResume = null;
    if (!(($mask0 & 16) === 0))
      cancelCause = null;
    CompletedContinuation.call($this, result, cancelHandler, onCancellation, idempotentResume, cancelCause);
    return $this;
  }
  function CompletedContinuation_init_$Create$(result, cancelHandler, onCancellation, idempotentResume, cancelCause, $mask0, $marker) {
    return CompletedContinuation_init_$Init$(result, cancelHandler, onCancellation, idempotentResume, cancelCause, $mask0, $marker, Object.create(CompletedContinuation.prototype));
  }
  function CompletedContinuation(result, cancelHandler, onCancellation, idempotentResume, cancelCause) {
    this.t1b_1 = result;
    this.u1b_1 = cancelHandler;
    this.v1b_1 = onCancellation;
    this.w1b_1 = idempotentResume;
    this.x1b_1 = cancelCause;
  }
  CompletedContinuation.prototype.o1c = function () {
    return this.u1b_1;
  };
  CompletedContinuation.prototype.p1c = function () {
    return this.w1b_1;
  };
  CompletedContinuation.prototype.q1c = function () {
    return this.x1b_1;
  };
  CompletedContinuation.prototype.c1c = function () {
    return !(this.x1b_1 == null);
  };
  CompletedContinuation.prototype.e1c = function (cont, cause) {
    var tmp0_safe_receiver = this.u1b_1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        tmp$ret$0 = cont.f1c(tmp0_safe_receiver, cause);
      }
    }
    var tmp1_safe_receiver = this.v1b_1;
    if (tmp1_safe_receiver == null)
      null;
    else {
      var tmp$ret$1;
      {
        {
        }
        tmp$ret$1 = cont.o1b(tmp1_safe_receiver, cause);
      }
    }
  };
  CompletedContinuation.prototype.r1c = function (result, cancelHandler, onCancellation, idempotentResume, cancelCause) {
    return new CompletedContinuation(result, cancelHandler, onCancellation, idempotentResume, cancelCause);
  };
  CompletedContinuation.prototype.d1c = function (result, cancelHandler, onCancellation, idempotentResume, cancelCause, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      result = this.t1b_1;
    if (!(($mask0 & 2) === 0))
      cancelHandler = this.u1b_1;
    if (!(($mask0 & 4) === 0))
      onCancellation = this.v1b_1;
    if (!(($mask0 & 8) === 0))
      idempotentResume = this.w1b_1;
    if (!(($mask0 & 16) === 0))
      cancelCause = this.x1b_1;
    return this.r1c(result, cancelHandler, onCancellation, idempotentResume, cancelCause);
  };
  CompletedContinuation.prototype.toString = function () {
    return 'CompletedContinuation(result=' + toString(this.t1b_1) + ', cancelHandler=' + this.u1b_1 + ', onCancellation=' + this.v1b_1 + ', idempotentResume=' + toString(this.w1b_1) + ', cancelCause=' + this.x1b_1 + ')';
  };
  CompletedContinuation.prototype.hashCode = function () {
    var result = this.t1b_1 == null ? 0 : hashCode(this.t1b_1);
    result = imul(result, 31) + (this.u1b_1 == null ? 0 : hashCode(this.u1b_1)) | 0;
    result = imul(result, 31) + (this.v1b_1 == null ? 0 : hashCode(this.v1b_1)) | 0;
    result = imul(result, 31) + (this.w1b_1 == null ? 0 : hashCode(this.w1b_1)) | 0;
    result = imul(result, 31) + (this.x1b_1 == null ? 0 : hashCode(this.x1b_1)) | 0;
    return result;
  };
  CompletedContinuation.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof CompletedContinuation))
      return false;
    var tmp0_other_with_cast = other instanceof CompletedContinuation ? other : THROW_CCE();
    if (!equals(this.t1b_1, tmp0_other_with_cast.t1b_1))
      return false;
    if (!equals(this.u1b_1, tmp0_other_with_cast.u1b_1))
      return false;
    if (!equals(this.v1b_1, tmp0_other_with_cast.v1b_1))
      return false;
    if (!equals(this.w1b_1, tmp0_other_with_cast.w1b_1))
      return false;
    if (!equals(this.x1b_1, tmp0_other_with_cast.x1b_1))
      return false;
    return true;
  };
  CompletedContinuation.$metadata$ = classMeta('CompletedContinuation');
  function get_SUSPENDED() {
    return SUSPENDED;
  }
  var SUSPENDED;
  function get_RESUMED() {
    return RESUMED;
  }
  var RESUMED;
  function BeforeResumeCancelHandler() {
    CancelHandler.call(this);
  }
  BeforeResumeCancelHandler.$metadata$ = classMeta('BeforeResumeCancelHandler', undefined, undefined, undefined, undefined, CancelHandler.prototype);
  function InvokeOnCancel(handler) {
    CancelHandler.call(this);
    this.s1c_1 = handler;
  }
  InvokeOnCancel.prototype.m1a = function (cause) {
    this.s1c_1(cause);
  };
  InvokeOnCancel.prototype.invoke = function (cause) {
    return this.m1a(cause);
  };
  InvokeOnCancel.prototype.toString = function () {
    return 'InvokeOnCancel[' + get_classSimpleName(this.s1c_1) + '@' + get_hexAddress(this) + ']';
  };
  InvokeOnCancel.$metadata$ = classMeta('InvokeOnCancel', undefined, undefined, undefined, undefined, CancelHandler.prototype);
  var properties_initialized_CancellableContinuationImpl_kt_xtzb03;
  function init_properties_CancellableContinuationImpl_kt_jcze1b() {
    if (properties_initialized_CancellableContinuationImpl_kt_xtzb03) {
    } else {
      properties_initialized_CancellableContinuationImpl_kt_xtzb03 = true;
      RESUME_TOKEN = new Symbol('RESUME_TOKEN');
    }
  }
  function CompletableDeferred() {
  }
  CompletableDeferred.$metadata$ = interfaceMeta('CompletableDeferred', [Deferred]);
  function CompletableDeferred_0(parent) {
    return new CompletableDeferredImpl(parent);
  }
  function CompletableDeferred$default(parent, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      parent = null;
    return CompletableDeferred_0(parent);
  }
  function $awaitCOROUTINE$1(_this__u8e3s4, resultContinuation) {
    CoroutineImpl.call(this, resultContinuation);
    this.e1d_1 = _this__u8e3s4;
  }
  $awaitCOROUTINE$1.prototype.r7 = function () {
    var suspendResult = this.m7_1;
    $sm: do
      try {
        var tmp = this.k7_1;
        switch (tmp) {
          case 0:
            this.l7_1 = 2;
            this.k7_1 = 1;
            suspendResult = this.e1d_1.f1d(this);
            if (suspendResult === get_COROUTINE_SUSPENDED()) {
              return suspendResult;
            }

            continue $sm;
          case 1:
            return (suspendResult == null ? true : isObject(suspendResult)) ? suspendResult : THROW_CCE();
          case 2:
            throw this.n7_1;
        }
      } catch ($p) {
        if (this.l7_1 === 2) {
          throw $p;
        } else {
          this.k7_1 = this.l7_1;
          this.n7_1 = $p;
        }
      }
     while (true);
  };
  $awaitCOROUTINE$1.$metadata$ = classMeta('$awaitCOROUTINE$1', undefined, undefined, undefined, undefined, CoroutineImpl.prototype);
  function CompletableDeferredImpl(parent) {
    JobSupport.call(this, true);
    this.k17(parent);
  }
  CompletableDeferredImpl.prototype.t18 = function () {
    return true;
  };
  CompletableDeferredImpl.prototype.n19 = function () {
    var tmp = this.o19();
    return (tmp == null ? true : isObject(tmp)) ? tmp : THROW_CCE();
  };
  CompletableDeferredImpl.prototype.v1c = function ($cont) {
    var tmp = new $awaitCOROUTINE$1(this, $cont);
    tmp.m7_1 = Unit_getInstance();
    tmp.n7_1 = null;
    return tmp.r7();
  };
  CompletableDeferredImpl.prototype.p19 = function (select, block) {
    return this.q19(select, block);
  };
  CompletableDeferredImpl.prototype.r19 = function (select, block) {
    return this.p19(select, block);
  };
  CompletableDeferredImpl.prototype.t1c = function (value) {
    return this.i1d(value);
  };
  CompletableDeferredImpl.prototype.u1c = function (exception) {
    return this.i1d(CompletedExceptionally_init_$Create$(exception, false, 2, null));
  };
  CompletableDeferredImpl.$metadata$ = classMeta('CompletableDeferredImpl', [CompletableDeferred, SelectClause1], undefined, undefined, undefined, JobSupport.prototype);
  function CompletableJob() {
  }
  CompletableJob.$metadata$ = interfaceMeta('CompletableJob', [Job]);
  function CompletedExceptionally_init_$Init$(cause, handled, $mask0, $marker, $this) {
    if (!(($mask0 & 2) === 0))
      handled = false;
    CompletedExceptionally.call($this, cause, handled);
    return $this;
  }
  function CompletedExceptionally_init_$Create$(cause, handled, $mask0, $marker) {
    return CompletedExceptionally_init_$Init$(cause, handled, $mask0, $marker, Object.create(CompletedExceptionally.prototype));
  }
  function CompletedExceptionally(cause, handled) {
    this.u17_1 = cause;
    this.v17_1 = atomic$boolean$1(handled);
  }
  CompletedExceptionally.prototype.p1 = function () {
    return this.u17_1;
  };
  CompletedExceptionally.prototype.w17 = function () {
    return this.v17_1.d17_1;
  };
  CompletedExceptionally.prototype.k1c = function () {
    return this.v17_1.atomicfu$compareAndSet(false, true);
  };
  CompletedExceptionally.prototype.toString = function () {
    return get_classSimpleName(this) + '[' + this.u17_1 + ']';
  };
  CompletedExceptionally.$metadata$ = classMeta('CompletedExceptionally');
  function CancelledContinuation(continuation, cause, handled) {
    var tmp0_elvis_lhs = cause;
    CompletedExceptionally.call(this, tmp0_elvis_lhs == null ? CancellationException_init_$Create$('Continuation ' + continuation + ' was cancelled normally') : tmp0_elvis_lhs, handled);
    this.r1b_1 = atomic$boolean$1(false);
  }
  CancelledContinuation.prototype.s1b = function () {
    return this.r1b_1.atomicfu$compareAndSet(false, true);
  };
  CancelledContinuation.$metadata$ = classMeta('CancelledContinuation', undefined, undefined, undefined, undefined, CompletedExceptionally.prototype);
  function toState(_this__u8e3s4, caller) {
    var tmp$ret$2;
    {
      {
      }
      var exception = Result__exceptionOrNull_impl_p6xea9(_this__u8e3s4);
      var tmp;
      if (exception == null) {
        var tmp$ret$0;
        {
          var tmp_0 = _Result___get_value__impl__bjfvqg(_this__u8e3s4);
          var tmp0__anonymous__q1qw7t = (tmp_0 == null ? true : isObject(tmp_0)) ? tmp_0 : THROW_CCE();
          tmp$ret$0 = tmp0__anonymous__q1qw7t;
        }
        tmp = tmp$ret$0;
      } else {
        var tmp$ret$1;
        {
          var tmp_1 = recoverStackTrace(exception, caller);
          tmp$ret$1 = CompletedExceptionally_init_$Create$(tmp_1, false, 2, null);
        }
        tmp = tmp$ret$1;
      }
      tmp$ret$2 = tmp;
    }
    return tmp$ret$2;
  }
  function toState_0(_this__u8e3s4, onCancellation) {
    var tmp$ret$2;
    {
      {
      }
      var exception = Result__exceptionOrNull_impl_p6xea9(_this__u8e3s4);
      var tmp;
      if (exception == null) {
        var tmp$ret$0;
        {
          var tmp_0 = _Result___get_value__impl__bjfvqg(_this__u8e3s4);
          var tmp0__anonymous__q1qw7t = (tmp_0 == null ? true : isObject(tmp_0)) ? tmp_0 : THROW_CCE();
          tmp$ret$0 = !(onCancellation == null) ? new CompletedWithCancellation(tmp0__anonymous__q1qw7t, onCancellation) : tmp0__anonymous__q1qw7t;
        }
        tmp = tmp$ret$0;
      } else {
        var tmp$ret$1;
        {
          tmp$ret$1 = CompletedExceptionally_init_$Create$(exception, false, 2, null);
        }
        tmp = tmp$ret$1;
      }
      tmp$ret$2 = tmp;
    }
    return tmp$ret$2;
  }
  function toState$default(_this__u8e3s4, onCancellation, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      onCancellation = null;
    return toState_0(_this__u8e3s4, onCancellation);
  }
  function CompletedWithCancellation(result, onCancellation) {
    this.j1d_1 = result;
    this.k1d_1 = onCancellation;
  }
  CompletedWithCancellation.prototype.toString = function () {
    return 'CompletedWithCancellation(result=' + toString(this.j1d_1) + ', onCancellation=' + this.k1d_1 + ')';
  };
  CompletedWithCancellation.prototype.hashCode = function () {
    var result = this.j1d_1 == null ? 0 : hashCode(this.j1d_1);
    result = imul(result, 31) + hashCode(this.k1d_1) | 0;
    return result;
  };
  CompletedWithCancellation.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!(other instanceof CompletedWithCancellation))
      return false;
    var tmp0_other_with_cast = other instanceof CompletedWithCancellation ? other : THROW_CCE();
    if (!equals(this.j1d_1, tmp0_other_with_cast.j1d_1))
      return false;
    if (!equals(this.k1d_1, tmp0_other_with_cast.k1d_1))
      return false;
    return true;
  };
  CompletedWithCancellation.$metadata$ = classMeta('CompletedWithCancellation');
  function CoroutineDispatcher$Key$_init_$lambda_akl8b5() {
    return function (it) {
      return it instanceof CoroutineDispatcher ? it : null;
    };
  }
  function Key_0() {
    Key_instance = this;
    var tmp = Key_getInstance();
    AbstractCoroutineContextKey.call(this, tmp, CoroutineDispatcher$Key$_init_$lambda_akl8b5());
  }
  Key_0.$metadata$ = objectMeta('Key', undefined, undefined, undefined, undefined, AbstractCoroutineContextKey.prototype);
  var Key_instance;
  function Key_getInstance_0() {
    if (Key_instance == null)
      new Key_0();
    return Key_instance;
  }
  function CoroutineDispatcher() {
    Key_getInstance_0();
    AbstractCoroutineContextElement.call(this, Key_getInstance());
  }
  CoroutineDispatcher.prototype.m1d = function (context) {
    return true;
  };
  CoroutineDispatcher.prototype.d8 = function (continuation) {
    return new DispatchedContinuation(this, continuation);
  };
  CoroutineDispatcher.prototype.e8 = function (continuation) {
    var dispatched = continuation instanceof DispatchedContinuation ? continuation : THROW_CCE();
    dispatched.o1d();
  };
  CoroutineDispatcher.prototype.toString = function () {
    return get_classSimpleName(this) + '@' + get_hexAddress(this);
  };
  CoroutineDispatcher.$metadata$ = classMeta('CoroutineDispatcher', [ContinuationInterceptor], undefined, undefined, undefined, AbstractCoroutineContextElement.prototype);
  function handleCoroutineException(context, exception) {
    try {
      var tmp0_safe_receiver = context.f8(Key_getInstance_1());
      if (tmp0_safe_receiver == null)
        null;
      else {
        var tmp$ret$0;
        {
          {
          }
          tmp0_safe_receiver.p1d(context, exception);
          return Unit_getInstance();
        }
      }
    } catch ($p) {
      if ($p instanceof Error) {
        handleCoroutineExceptionImpl(context, handlerException(exception, $p));
        return Unit_getInstance();
      } else {
        throw $p;
      }
    }
    handleCoroutineExceptionImpl(context, exception);
  }
  function Key_1() {
    Key_instance_0 = this;
  }
  Key_1.$metadata$ = objectMeta('Key', [Key]);
  var Key_instance_0;
  function Key_getInstance_1() {
    if (Key_instance_0 == null)
      new Key_1();
    return Key_instance_0;
  }
  function handlerException(originalException, thrownException) {
    if (originalException === thrownException)
      return originalException;
    var tmp$ret$0;
    {
      var tmp0_apply = RuntimeException_init_$Create$('Exception while trying to handle coroutine exception', thrownException);
      {
      }
      {
        {
        }
      }
      tmp$ret$0 = tmp0_apply;
    }
    return tmp$ret$0;
  }
  function CoroutineScope() {
  }
  CoroutineScope.$metadata$ = interfaceMeta('CoroutineScope');
  function CoroutineScope_0(context) {
    var tmp;
    if (!(context.f8(Key_getInstance_2()) == null)) {
      tmp = context;
    } else {
      tmp = context.m8(Job$default(null, 1, null));
    }
    return new ContextScope(tmp);
  }
  var CoroutineStart_DEFAULT_instance;
  var CoroutineStart_LAZY_instance;
  var CoroutineStart_ATOMIC_instance;
  var CoroutineStart_UNDISPATCHED_instance;
  var CoroutineStart_entriesInitialized;
  function CoroutineStart_initEntries() {
    if (CoroutineStart_entriesInitialized)
      return Unit_getInstance();
    CoroutineStart_entriesInitialized = true;
    CoroutineStart_DEFAULT_instance = new CoroutineStart('DEFAULT', 0);
    CoroutineStart_LAZY_instance = new CoroutineStart('LAZY', 1);
    CoroutineStart_ATOMIC_instance = new CoroutineStart('ATOMIC', 2);
    CoroutineStart_UNDISPATCHED_instance = new CoroutineStart('UNDISPATCHED', 3);
  }
  function CoroutineStart(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  CoroutineStart.prototype.f18 = function (block, receiver, completion) {
    var tmp0_subject = this;
    var tmp0 = tmp0_subject.w1();
    var tmp;
    switch (tmp0) {
      case 0:
        tmp = startCoroutineCancellable$default(block, receiver, completion, null, 4, null);
        break;
      case 2:
        tmp = startCoroutine(block, receiver, completion);
        break;
      case 3:
        tmp = startCoroutineUndispatched(block, receiver, completion);
        break;
      case 1:
        tmp = Unit_getInstance();
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    return tmp;
  };
  CoroutineStart.prototype.j19 = function () {
    return this === CoroutineStart_LAZY_getInstance();
  };
  CoroutineStart.$metadata$ = classMeta('CoroutineStart', undefined, undefined, undefined, undefined, Enum.prototype);
  function CoroutineStart_DEFAULT_getInstance() {
    CoroutineStart_initEntries();
    return CoroutineStart_DEFAULT_instance;
  }
  function CoroutineStart_LAZY_getInstance() {
    CoroutineStart_initEntries();
    return CoroutineStart_LAZY_instance;
  }
  function CopyableThrowable() {
  }
  CopyableThrowable.$metadata$ = interfaceMeta('CopyableThrowable');
  function Deferred() {
  }
  Deferred.$metadata$ = interfaceMeta('Deferred', [Job]);
  function Delay() {
  }
  Delay.$metadata$ = interfaceMeta('Delay');
  function delay(timeMillis, $cont) {
    if (timeMillis.k1(new Long(0, 0)) <= 0)
      return Unit_getInstance();
    var tmp$ret$0;
    {
      var tmp0__anonymous__q1qw7t = $cont;
      var cancellable = new CancellableContinuationImpl(intercepted(tmp0__anonymous__q1qw7t), get_MODE_CANCELLABLE());
      cancellable.z1b();
      {
        Companion_getInstance();
        if (timeMillis.k1(new Long(-1, 2147483647)) < 0) {
          get_delay(cancellable.s4()).q1d(timeMillis, cancellable);
        }
      }
      tmp$ret$0 = cancellable.i1c();
    }
    return tmp$ret$0;
  }
  function get_delay(_this__u8e3s4) {
    var tmp = _this__u8e3s4.f8(Key_getInstance());
    var tmp0_elvis_lhs = (!(tmp == null) ? isInterface(tmp, Delay) : false) ? tmp : null;
    return tmp0_elvis_lhs == null ? get_DefaultDelay() : tmp0_elvis_lhs;
  }
  function delta($this, unconfined) {
    return unconfined ? new Long(0, 1) : new Long(1, 0);
  }
  function EventLoop() {
    CoroutineDispatcher.call(this);
    this.s1d_1 = new Long(0, 0);
    this.t1d_1 = false;
    this.u1d_1 = null;
  }
  EventLoop.prototype.v1d = function () {
    var tmp0_elvis_lhs = this.u1d_1;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return false;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var queue = tmp;
    var tmp1_elvis_lhs = queue.z1d();
    var tmp_0;
    if (tmp1_elvis_lhs == null) {
      return false;
    } else {
      tmp_0 = tmp1_elvis_lhs;
    }
    var task = tmp_0;
    task.m1c();
    return true;
  };
  EventLoop.prototype.a1e = function (task) {
    var tmp0_elvis_lhs = this.u1d_1;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      var tmp$ret$0;
      {
        var tmp0_also = new ArrayQueue();
        {
        }
        {
          this.u1d_1 = tmp0_also;
        }
        tmp$ret$0 = tmp0_also;
      }
      tmp = tmp$ret$0;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var queue = tmp;
    queue.b1e(task);
  };
  EventLoop.prototype.c1e = function () {
    return this.s1d_1.k1(delta(this, true)) >= 0;
  };
  EventLoop.prototype.d1e = function () {
    var tmp0_safe_receiver = this.u1d_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.e1e();
    return tmp1_elvis_lhs == null ? true : tmp1_elvis_lhs;
  };
  EventLoop.prototype.f1e = function (unconfined) {
    var tmp0_this = this;
    tmp0_this.s1d_1 = tmp0_this.s1d_1.ka(delta(this, unconfined));
    if (!unconfined)
      this.t1d_1 = true;
  };
  EventLoop.prototype.g1e = function (unconfined) {
    var tmp0_this = this;
    tmp0_this.s1d_1 = tmp0_this.s1d_1.la(delta(this, unconfined));
    if (this.s1d_1.k1(new Long(0, 0)) > 0)
      return Unit_getInstance();
    {
    }
    if (this.t1d_1) {
      this.h1e();
    }
  };
  EventLoop.prototype.h1e = function () {
  };
  EventLoop.$metadata$ = classMeta('EventLoop', undefined, undefined, undefined, undefined, CoroutineDispatcher.prototype);
  function ThreadLocalEventLoop() {
    ThreadLocalEventLoop_instance = this;
    this.i1e_1 = new CommonThreadLocal();
  }
  ThreadLocalEventLoop.prototype.j1e = function () {
    var tmp0_elvis_lhs = this.i1e_1.l1e();
    var tmp;
    if (tmp0_elvis_lhs == null) {
      var tmp$ret$0;
      {
        var tmp0_also = createEventLoop();
        {
        }
        {
          ThreadLocalEventLoop_getInstance().i1e_1.m1e(tmp0_also);
        }
        tmp$ret$0 = tmp0_also;
      }
      tmp = tmp$ret$0;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  };
  ThreadLocalEventLoop.$metadata$ = objectMeta('ThreadLocalEventLoop');
  var ThreadLocalEventLoop_instance;
  function ThreadLocalEventLoop_getInstance() {
    if (ThreadLocalEventLoop_instance == null)
      new ThreadLocalEventLoop();
    return ThreadLocalEventLoop_instance;
  }
  function CompletionHandlerException(message, cause) {
    RuntimeException_init_$Init$(message, cause, this);
    captureStack(this, CompletionHandlerException);
  }
  CompletionHandlerException.$metadata$ = classMeta('CompletionHandlerException', undefined, undefined, undefined, undefined, RuntimeException.prototype);
  function CoroutinesInternalError(message, cause) {
    Error_init_$Init$(message, cause, this);
    captureStack(this, CoroutinesInternalError);
  }
  CoroutinesInternalError.$metadata$ = classMeta('CoroutinesInternalError', undefined, undefined, undefined, undefined, Error_0.prototype);
  function DisposableHandle() {
  }
  DisposableHandle.$metadata$ = interfaceMeta('DisposableHandle');
  function Key_2() {
    Key_instance_1 = this;
  }
  Key_2.$metadata$ = objectMeta('Key', [Key]);
  var Key_instance_1;
  function Key_getInstance_2() {
    if (Key_instance_1 == null)
      new Key_2();
    return Key_instance_1;
  }
  function Job() {
  }
  Job.$metadata$ = interfaceMeta('Job', [Element]);
  function ChildJob() {
  }
  ChildJob.$metadata$ = interfaceMeta('ChildJob', [Job]);
  function ParentJob() {
  }
  ParentJob.$metadata$ = interfaceMeta('ParentJob', [Job]);
  function ChildHandle() {
  }
  ChildHandle.$metadata$ = interfaceMeta('ChildHandle', [DisposableHandle]);
  function NonDisposableHandle() {
    NonDisposableHandle_instance = this;
  }
  NonDisposableHandle.prototype.n1a = function () {
  };
  NonDisposableHandle.prototype.y18 = function (cause) {
    return false;
  };
  NonDisposableHandle.prototype.toString = function () {
    return 'NonDisposableHandle';
  };
  NonDisposableHandle.$metadata$ = objectMeta('NonDisposableHandle', [DisposableHandle, ChildHandle]);
  var NonDisposableHandle_instance;
  function NonDisposableHandle_getInstance() {
    if (NonDisposableHandle_instance == null)
      new NonDisposableHandle();
    return NonDisposableHandle_instance;
  }
  function Job_0(parent) {
    return new JobImpl(parent);
  }
  function Job$default(parent, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      parent = null;
    return Job_0(parent);
  }
  function get_COMPLETING_ALREADY() {
    init_properties_JobSupport_kt_iaxwag();
    return COMPLETING_ALREADY;
  }
  var COMPLETING_ALREADY;
  function get_COMPLETING_WAITING_CHILDREN() {
    init_properties_JobSupport_kt_iaxwag();
    return COMPLETING_WAITING_CHILDREN;
  }
  var COMPLETING_WAITING_CHILDREN;
  function get_COMPLETING_RETRY() {
    init_properties_JobSupport_kt_iaxwag();
    return COMPLETING_RETRY;
  }
  var COMPLETING_RETRY;
  function get_TOO_LATE_TO_CANCEL() {
    init_properties_JobSupport_kt_iaxwag();
    return TOO_LATE_TO_CANCEL;
  }
  var TOO_LATE_TO_CANCEL;
  function get_SEALED() {
    init_properties_JobSupport_kt_iaxwag();
    return SEALED;
  }
  var SEALED;
  function get_EMPTY_NEW() {
    init_properties_JobSupport_kt_iaxwag();
    return EMPTY_NEW;
  }
  var EMPTY_NEW;
  function get_EMPTY_ACTIVE() {
    init_properties_JobSupport_kt_iaxwag();
    return EMPTY_ACTIVE;
  }
  var EMPTY_ACTIVE;
  function Empty(isActive) {
    this.n1e_1 = isActive;
  }
  Empty.prototype.p17 = function () {
    return this.n1e_1;
  };
  Empty.prototype.o1e = function () {
    return null;
  };
  Empty.prototype.toString = function () {
    return 'Empty{' + (this.n1e_1 ? 'Active' : 'New') + '}';
  };
  Empty.$metadata$ = classMeta('Empty', [Incomplete]);
  function Incomplete() {
  }
  Incomplete.$metadata$ = interfaceMeta('Incomplete');
  function NodeList() {
    LinkedListHead.call(this);
  }
  NodeList.prototype.p17 = function () {
    return true;
  };
  NodeList.prototype.o1e = function () {
    return this;
  };
  NodeList.prototype.s1e = function (state) {
    var tmp$ret$1;
    {
      {
      }
      var tmp$ret$0;
      {
        var tmp0_apply = StringBuilder_init_$Create$();
        {
        }
        {
          tmp0_apply.ga('List{');
          tmp0_apply.ga(state);
          tmp0_apply.ga('}[');
          var first = true;
          {
            var cur = this.t1e();
            while (!equals(cur, this)) {
              if (cur instanceof JobNode) {
                var tmp0__anonymous__q1qw7t = cur;
                if (first)
                  first = false;
                else {
                  tmp0_apply.ga(', ');
                }
                tmp0_apply.ob(tmp0__anonymous__q1qw7t);
              }
              cur = cur.d1b_1;
            }
          }
          tmp0_apply.ga(']');
        }
        tmp$ret$0 = tmp0_apply;
      }
      tmp$ret$1 = tmp$ret$0.toString();
    }
    return tmp$ret$1;
  };
  NodeList.prototype.toString = function () {
    return get_DEBUG() ? this.s1e('Active') : anyToString(this);
  };
  NodeList.$metadata$ = classMeta('NodeList', [Incomplete], undefined, undefined, undefined, LinkedListHead.prototype);
  function JobNode() {
    CompletionHandlerBase.call(this);
  }
  JobNode.prototype.j1f = function () {
    var tmp = this.i1f_1;
    if (!(tmp == null))
      return tmp;
    else {
      throwUninitializedPropertyAccessException('job');
    }
  };
  JobNode.prototype.p17 = function () {
    return true;
  };
  JobNode.prototype.o1e = function () {
    return null;
  };
  JobNode.prototype.n1a = function () {
    return this.j1f().s18(this);
  };
  JobNode.prototype.toString = function () {
    return get_classSimpleName(this) + '@' + get_hexAddress(this) + '[job@' + get_hexAddress(this.j1f()) + ']';
  };
  JobNode.$metadata$ = classMeta('JobNode', [DisposableHandle, Incomplete], undefined, undefined, undefined, CompletionHandlerBase.prototype);
  function _set_exceptionsHolder__tqm22h($this, value) {
    $this.o1f_1.z16_1 = value;
  }
  function _get_exceptionsHolder__nhszp($this) {
    return $this.o1f_1.z16_1;
  }
  function allocateList($this) {
    return ArrayList_init_$Create$(4);
  }
  function finalizeFinishingState($this, state, proposedUpdate) {
    {
    }
    {
    }
    {
    }
    var tmp0_safe_receiver = proposedUpdate instanceof CompletedExceptionally ? proposedUpdate : null;
    var proposedException = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.u17_1;
    var wasCancelling = false;
    var tmp$ret$1;
    {
      var tmp$ret$0;
      {
        wasCancelling = state.p1f();
        var exceptions = state.q1f(proposedException);
        var finalCause = getFinalRootCause($this, state, exceptions);
        if (!(finalCause == null))
          addSuppressedExceptions($this, finalCause, exceptions);
        tmp$ret$0 = finalCause;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    var finalException = tmp$ret$1;
    var tmp;
    if (finalException == null) {
      tmp = proposedUpdate;
    } else if (finalException === proposedException) {
      tmp = proposedUpdate;
    } else {
      tmp = CompletedExceptionally_init_$Create$(finalException, false, 2, null);
    }
    var finalState = tmp;
    if (!(finalException == null)) {
      var handled = cancelParent($this, finalException) ? true : $this.g19(finalException);
      if (handled) {
        (finalState instanceof CompletedExceptionally ? finalState : THROW_CCE()).k1c();
      }
    }
    if (!wasCancelling)
      $this.d19(finalException);
    $this.t17(finalState);
    var casSuccess = $this.i17_1.atomicfu$compareAndSet(state, boxIncomplete(finalState));
    {
    }
    completeStateFinalization($this, state, finalState);
    return finalState;
  }
  function getFinalRootCause($this, state, exceptions) {
    if (exceptions.q()) {
      if (state.p1f()) {
        var tmp$ret$0;
        {
          var tmp0_elvis_lhs = null;
          tmp$ret$0 = new JobCancellationException(tmp0_elvis_lhs == null ? $this.s17() : tmp0_elvis_lhs, null, $this);
        }
        return tmp$ret$0;
      }
      return null;
    }
    var tmp$ret$2;
    $l$block: {
      var tmp0_iterator = exceptions.h();
      while (tmp0_iterator.n()) {
        var element = tmp0_iterator.o();
        var tmp$ret$1;
        {
          tmp$ret$1 = !(element instanceof CancellationException);
        }
        if (tmp$ret$1) {
          tmp$ret$2 = element;
          break $l$block;
        }
      }
      tmp$ret$2 = null;
    }
    var firstNonCancellation = tmp$ret$2;
    if (!(firstNonCancellation == null))
      return firstNonCancellation;
    var first = exceptions.r(0);
    if (first instanceof TimeoutCancellationException) {
      var tmp$ret$4;
      $l$block_0: {
        var tmp0_iterator_0 = exceptions.h();
        while (tmp0_iterator_0.n()) {
          var element_0 = tmp0_iterator_0.o();
          var tmp$ret$3;
          {
            var tmp;
            if (!(element_0 === first)) {
              tmp = element_0 instanceof TimeoutCancellationException;
            } else {
              tmp = false;
            }
            tmp$ret$3 = tmp;
          }
          if (tmp$ret$3) {
            tmp$ret$4 = element_0;
            break $l$block_0;
          }
        }
        tmp$ret$4 = null;
      }
      var detailedTimeoutException = tmp$ret$4;
      if (!(detailedTimeoutException == null))
        return detailedTimeoutException;
    }
    return first;
  }
  function addSuppressedExceptions($this, rootCause, exceptions) {
    if (exceptions.m() <= 1)
      return Unit_getInstance();
    var seenExceptions = identitySet(exceptions.m());
    var unwrappedCause = unwrap(rootCause);
    var tmp0_iterator = exceptions.h();
    while (tmp0_iterator.n()) {
      var exception = tmp0_iterator.o();
      var unwrapped = unwrap(exception);
      var tmp;
      var tmp_0;
      if (!(unwrapped === rootCause) ? !(unwrapped === unwrappedCause) : false) {
        tmp_0 = !(unwrapped instanceof CancellationException);
      } else {
        tmp_0 = false;
      }
      if (tmp_0) {
        tmp = seenExceptions.b(unwrapped);
      } else {
        tmp = false;
      }
      if (tmp) {
        {
        }
      }
    }
  }
  function tryFinalizeSimpleState($this, state, update) {
    {
    }
    {
    }
    if (!$this.i17_1.atomicfu$compareAndSet(state, boxIncomplete(update)))
      return false;
    $this.d19(null);
    $this.t17(update);
    completeStateFinalization($this, state, update);
    return true;
  }
  function completeStateFinalization($this, state, update) {
    var tmp0_safe_receiver = $this.h18();
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        tmp0_safe_receiver.n1a();
        tmp$ret$0 = $this.g18(NonDisposableHandle_getInstance());
      }
    }
    var tmp1_safe_receiver = update instanceof CompletedExceptionally ? update : null;
    var cause = tmp1_safe_receiver == null ? null : tmp1_safe_receiver.u17_1;
    if (state instanceof JobNode) {
      try {
        state.invoke(cause);
      } catch ($p) {
        if ($p instanceof Error) {
          $this.a18(new CompletionHandlerException('Exception in completion handler ' + state + ' for ' + $this, $p));
        } else {
          throw $p;
        }
      }
    } else {
      var tmp2_safe_receiver = state.o1e();
      if (tmp2_safe_receiver == null)
        null;
      else {
        notifyCompletion(tmp2_safe_receiver, $this, cause);
      }
    }
  }
  function notifyCancelling($this, list, cause) {
    $this.d19(cause);
    {
      var exception = null;
      {
        var cur = list.t1e();
        while (!equals(cur, list)) {
          if (cur instanceof JobCancellingNode) {
            var tmp0__anonymous__q1qw7t = cur;
            try {
              tmp0__anonymous__q1qw7t.invoke(cause);
            } catch ($p) {
              if ($p instanceof Error) {
                var tmp0_safe_receiver = exception;
                var tmp;
                if (tmp0_safe_receiver == null) {
                  tmp = null;
                } else {
                  var tmp$ret$0;
                  {
                    {
                    }
                    {
                      {
                      }
                    }
                    tmp$ret$0 = tmp0_safe_receiver;
                  }
                  tmp = tmp$ret$0;
                }
                var tmp1_elvis_lhs = tmp;
                if (tmp1_elvis_lhs == null) {
                  var tmp$ret$1;
                  {
                    {
                    }
                    exception = new CompletionHandlerException('Exception in completion handler ' + tmp0__anonymous__q1qw7t + ' for ' + $this, $p);
                    tmp$ret$1 = Unit_getInstance();
                  }
                } else
                  tmp1_elvis_lhs;
              } else {
                throw $p;
              }
            }
          }
          cur = cur.d1b_1;
        }
      }
      var tmp0_safe_receiver_0 = exception;
      if (tmp0_safe_receiver_0 == null)
        null;
      else {
        var tmp$ret$2;
        {
          {
          }
          tmp$ret$2 = $this.a18(tmp0_safe_receiver_0);
        }
      }
    }
    cancelParent($this, cause);
  }
  function cancelParent($this, cause) {
    if ($this.e19())
      return true;
    var isCancellation = cause instanceof CancellationException;
    var parent = $this.h18();
    if (parent === null ? true : parent === NonDisposableHandle_getInstance()) {
      return isCancellation;
    }
    return parent.y18(cause) ? true : isCancellation;
  }
  function notifyCompletion(_this__u8e3s4, $this, cause) {
    var exception = null;
    {
      var cur = _this__u8e3s4.t1e();
      while (!equals(cur, _this__u8e3s4)) {
        if (cur instanceof JobNode) {
          var tmp0__anonymous__q1qw7t = cur;
          try {
            tmp0__anonymous__q1qw7t.invoke(cause);
          } catch ($p) {
            if ($p instanceof Error) {
              var tmp0_safe_receiver = exception;
              var tmp;
              if (tmp0_safe_receiver == null) {
                tmp = null;
              } else {
                var tmp$ret$0;
                {
                  {
                  }
                  {
                    {
                    }
                  }
                  tmp$ret$0 = tmp0_safe_receiver;
                }
                tmp = tmp$ret$0;
              }
              var tmp1_elvis_lhs = tmp;
              if (tmp1_elvis_lhs == null) {
                var tmp$ret$1;
                {
                  {
                  }
                  exception = new CompletionHandlerException('Exception in completion handler ' + tmp0__anonymous__q1qw7t + ' for ' + $this, $p);
                  tmp$ret$1 = Unit_getInstance();
                }
              } else
                tmp1_elvis_lhs;
            } else {
              throw $p;
            }
          }
        }
        cur = cur.d1b_1;
      }
    }
    var tmp0_safe_receiver_0 = exception;
    if (tmp0_safe_receiver_0 == null)
      null;
    else {
      var tmp$ret$2;
      {
        {
        }
        tmp$ret$2 = $this.a18(tmp0_safe_receiver_0);
      }
    }
    return Unit_getInstance();
  }
  function startInternal($this, state) {
    var tmp0_subject = state;
    if (tmp0_subject instanceof Empty) {
      if (state.n1e_1)
        return 0;
      if (!$this.i17_1.atomicfu$compareAndSet(state, get_EMPTY_ACTIVE()))
        return -1;
      $this.l18();
      return 1;
    } else {
      if (tmp0_subject instanceof InactiveNodeList) {
        if (!$this.i17_1.atomicfu$compareAndSet(state, state.r1f_1))
          return -1;
        $this.l18();
        return 1;
      } else {
        return 0;
      }
    }
  }
  function makeNode($this, handler, onCancelling) {
    var tmp;
    if (onCancelling) {
      var tmp0_elvis_lhs = handler instanceof JobCancellingNode ? handler : null;
      tmp = tmp0_elvis_lhs == null ? new InvokeOnCancelling(handler) : tmp0_elvis_lhs;
    } else {
      var tmp1_safe_receiver = handler instanceof JobNode ? handler : null;
      var tmp_0;
      if (tmp1_safe_receiver == null) {
        tmp_0 = null;
      } else {
        var tmp$ret$0;
        {
          {
          }
          {
            {
            }
          }
          tmp$ret$0 = tmp1_safe_receiver;
        }
        tmp_0 = tmp$ret$0;
      }
      var tmp2_elvis_lhs = tmp_0;
      tmp = tmp2_elvis_lhs == null ? new InvokeOnCompletion(handler) : tmp2_elvis_lhs;
    }
    var node = tmp;
    node.i1f_1 = $this;
    return node;
  }
  function addLastAtomic($this, expect, list, node) {
    var tmp$ret$1;
    $l$block: {
      var tmp$ret$0;
      {
        tmp$ret$0 = $this.i18() === expect;
      }
      if (!tmp$ret$0) {
        tmp$ret$1 = false;
        break $l$block;
      }
      list.a1f(node);
      tmp$ret$1 = true;
    }
    return tmp$ret$1;
  }
  function promoteEmptyToNodeList($this, state) {
    var list = new NodeList();
    var update = state.n1e_1 ? list : new InactiveNodeList(list);
    $this.i17_1.atomicfu$compareAndSet(state, update);
  }
  function promoteSingleToNodeList($this, state) {
    state.k1f(new NodeList());
    var tmp$ret$0;
    {
      tmp$ret$0 = state.d1b_1;
    }
    var list = tmp$ret$0;
    $this.i17_1.atomicfu$compareAndSet(state, list);
  }
  function cancelMakeCompleting($this, cause) {
    {
      while (true) {
        {
          var tmp0__anonymous__q1qw7t = $this.i18();
          var tmp;
          if (!(!(tmp0__anonymous__q1qw7t == null) ? isInterface(tmp0__anonymous__q1qw7t, Incomplete) : false)) {
            tmp = true;
          } else {
            var tmp_0;
            if (tmp0__anonymous__q1qw7t instanceof Finishing) {
              tmp_0 = tmp0__anonymous__q1qw7t.s1f();
            } else {
              tmp_0 = false;
            }
            tmp = tmp_0;
          }
          if (tmp) {
            return get_COMPLETING_ALREADY();
          }
          var tmp_1 = createCauseException($this, cause);
          var proposedUpdate = CompletedExceptionally_init_$Create$(tmp_1, false, 2, null);
          var finalState = tryMakeCompleting($this, tmp0__anonymous__q1qw7t, proposedUpdate);
          if (!(finalState === get_COMPLETING_RETRY()))
            return finalState;
        }
      }
    }
  }
  function createCauseException($this, cause) {
    var tmp0_subject = cause;
    var tmp;
    if (tmp0_subject == null ? true : tmp0_subject instanceof Error) {
      var tmp1_elvis_lhs = cause;
      var tmp_0;
      if (tmp1_elvis_lhs == null) {
        var tmp$ret$0;
        {
          var tmp0_elvis_lhs = null;
          tmp$ret$0 = new JobCancellationException(tmp0_elvis_lhs == null ? $this.s17() : tmp0_elvis_lhs, null, $this);
        }
        tmp_0 = tmp$ret$0;
      } else {
        tmp_0 = tmp1_elvis_lhs;
      }
      tmp = tmp_0;
    } else {
      tmp = ((!(cause == null) ? isInterface(cause, ParentJob) : false) ? cause : THROW_CCE()).b19();
    }
    return tmp;
  }
  function makeCancelling($this, cause) {
    var causeExceptionCache = null;
    {
      while (true) {
        var tmp$ret$7;
        $l$block: {
          var tmp0__anonymous__q1qw7t = $this.i18();
          var tmp0_subject = tmp0__anonymous__q1qw7t;
          if (tmp0_subject instanceof Finishing) {
            var tmp$ret$4;
            {
              var tmp$ret$3;
              {
                if (tmp0__anonymous__q1qw7t.t1f())
                  return get_TOO_LATE_TO_CANCEL();
                var wasCancelling = tmp0__anonymous__q1qw7t.p1f();
                if (!(cause == null) ? true : !wasCancelling) {
                  var tmp0_elvis_lhs = causeExceptionCache;
                  var tmp;
                  if (tmp0_elvis_lhs == null) {
                    var tmp$ret$0;
                    {
                      var tmp0_also = createCauseException($this, cause);
                      {
                      }
                      {
                        causeExceptionCache = tmp0_also;
                      }
                      tmp$ret$0 = tmp0_also;
                    }
                    tmp = tmp$ret$0;
                  } else {
                    tmp = tmp0_elvis_lhs;
                  }
                  var causeException = tmp;
                  tmp0__anonymous__q1qw7t.u1f(causeException);
                }
                var tmp$ret$2;
                {
                  var tmp1_takeIf = tmp0__anonymous__q1qw7t.v1f();
                  {
                  }
                  var tmp_0;
                  var tmp$ret$1;
                  {
                    tmp$ret$1 = !wasCancelling;
                  }
                  if (tmp$ret$1) {
                    tmp_0 = tmp1_takeIf;
                  } else {
                    tmp_0 = null;
                  }
                  tmp$ret$2 = tmp_0;
                }
                tmp$ret$3 = tmp$ret$2;
              }
              tmp$ret$4 = tmp$ret$3;
            }
            var notifyRootCause = tmp$ret$4;
            var tmp1_safe_receiver = notifyRootCause;
            if (tmp1_safe_receiver == null)
              null;
            else {
              var tmp$ret$5;
              {
                {
                }
                tmp$ret$5 = notifyCancelling($this, tmp0__anonymous__q1qw7t.l1f_1, tmp1_safe_receiver);
              }
            }
            return get_COMPLETING_ALREADY();
          } else {
            if (!(tmp0_subject == null) ? isInterface(tmp0_subject, Incomplete) : false) {
              var tmp2_elvis_lhs = causeExceptionCache;
              var tmp_1;
              if (tmp2_elvis_lhs == null) {
                var tmp$ret$6;
                {
                  var tmp0_also_0 = createCauseException($this, cause);
                  {
                  }
                  {
                    causeExceptionCache = tmp0_also_0;
                  }
                  tmp$ret$6 = tmp0_also_0;
                }
                tmp_1 = tmp$ret$6;
              } else {
                tmp_1 = tmp2_elvis_lhs;
              }
              var causeException_0 = tmp_1;
              if (tmp0__anonymous__q1qw7t.p17()) {
                if (tryMakeCancelling($this, tmp0__anonymous__q1qw7t, causeException_0))
                  return get_COMPLETING_ALREADY();
              } else {
                var finalState = tryMakeCompleting($this, tmp0__anonymous__q1qw7t, CompletedExceptionally_init_$Create$(causeException_0, false, 2, null));
                if (finalState === get_COMPLETING_ALREADY()) {
                  var tmp1_error = 'Cannot happen in ' + toString(tmp0__anonymous__q1qw7t);
                  throw IllegalStateException_init_$Create$(toString_0(tmp1_error));
                } else if (finalState === get_COMPLETING_RETRY()) {
                  tmp$ret$7 = Unit_getInstance();
                  break $l$block;
                } else
                  return finalState;
              }
            } else {
              return get_TOO_LATE_TO_CANCEL();
            }
          }
        }
      }
    }
  }
  function getOrPromoteCancellingList($this, state) {
    var tmp1_elvis_lhs = state.o1e();
    var tmp;
    if (tmp1_elvis_lhs == null) {
      var tmp0_subject = state;
      var tmp_0;
      if (tmp0_subject instanceof Empty) {
        tmp_0 = new NodeList();
      } else {
        if (tmp0_subject instanceof JobNode) {
          promoteSingleToNodeList($this, state);
          tmp_0 = null;
        } else {
          var tmp0_error = 'State should have list: ' + state;
          throw IllegalStateException_init_$Create$(toString_0(tmp0_error));
        }
      }
      tmp = tmp_0;
    } else {
      tmp = tmp1_elvis_lhs;
    }
    return tmp;
  }
  function tryMakeCancelling($this, state, rootCause) {
    {
    }
    {
    }
    var tmp0_elvis_lhs = getOrPromoteCancellingList($this, state);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return false;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var list = tmp;
    var cancelling = new Finishing(list, false, rootCause);
    if (!$this.i17_1.atomicfu$compareAndSet(state, cancelling))
      return false;
    notifyCancelling($this, list, rootCause);
    return true;
  }
  function tryMakeCompleting($this, state, proposedUpdate) {
    if (!(!(state == null) ? isInterface(state, Incomplete) : false))
      return get_COMPLETING_ALREADY();
    var tmp;
    var tmp_0;
    var tmp_1;
    if (state instanceof Empty) {
      tmp_1 = true;
    } else {
      tmp_1 = state instanceof JobNode;
    }
    if (tmp_1) {
      tmp_0 = !(state instanceof ChildHandleNode);
    } else {
      tmp_0 = false;
    }
    if (tmp_0) {
      tmp = !(proposedUpdate instanceof CompletedExceptionally);
    } else {
      tmp = false;
    }
    if (tmp) {
      if (tryFinalizeSimpleState($this, state, proposedUpdate)) {
        return proposedUpdate;
      }
      return get_COMPLETING_RETRY();
    }
    return tryMakeCompletingSlowPath($this, state, proposedUpdate);
  }
  function tryMakeCompletingSlowPath($this, state, proposedUpdate) {
    var tmp0_elvis_lhs = getOrPromoteCancellingList($this, state);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return get_COMPLETING_RETRY();
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var list = tmp;
    var tmp1_elvis_lhs = state instanceof Finishing ? state : null;
    var finishing = tmp1_elvis_lhs == null ? new Finishing(list, false, null) : tmp1_elvis_lhs;
    var notifyRootCause = null;
    var tmp$ret$3;
    {
      if (finishing.s1f())
        return get_COMPLETING_ALREADY();
      finishing.w1f(true);
      if (!(finishing === state)) {
        if (!$this.i17_1.atomicfu$compareAndSet(state, finishing))
          return get_COMPLETING_RETRY();
      }
      {
      }
      var wasCancelling = finishing.p1f();
      var tmp0_safe_receiver = proposedUpdate instanceof CompletedExceptionally ? proposedUpdate : null;
      if (tmp0_safe_receiver == null)
        null;
      else {
        var tmp$ret$0;
        {
          {
          }
          tmp$ret$0 = finishing.u1f(tmp0_safe_receiver.u17_1);
        }
      }
      var tmp$ret$2;
      {
        var tmp0_takeIf = finishing.v1f();
        {
        }
        var tmp_0;
        var tmp$ret$1;
        {
          tmp$ret$1 = !wasCancelling;
        }
        if (tmp$ret$1) {
          tmp_0 = tmp0_takeIf;
        } else {
          tmp_0 = null;
        }
        tmp$ret$2 = tmp_0;
      }
      notifyRootCause = tmp$ret$2;
      tmp$ret$3 = Unit_getInstance();
    }
    var tmp2_safe_receiver = notifyRootCause;
    if (tmp2_safe_receiver == null)
      null;
    else {
      var tmp$ret$4;
      {
        {
        }
        tmp$ret$4 = notifyCancelling($this, list, tmp2_safe_receiver);
      }
    }
    var child = firstChild($this, state);
    if (!(child == null) ? tryWaitForChild($this, finishing, child, proposedUpdate) : false)
      return get_COMPLETING_WAITING_CHILDREN();
    return finalizeFinishingState($this, finishing, proposedUpdate);
  }
  function _get_exceptionOrNull__b3j7js(_this__u8e3s4, $this) {
    var tmp0_safe_receiver = _this__u8e3s4 instanceof CompletedExceptionally ? _this__u8e3s4 : null;
    return tmp0_safe_receiver == null ? null : tmp0_safe_receiver.u17_1;
  }
  function firstChild($this, state) {
    var tmp1_elvis_lhs = state instanceof ChildHandleNode ? state : null;
    var tmp;
    if (tmp1_elvis_lhs == null) {
      var tmp0_safe_receiver = state.o1e();
      tmp = tmp0_safe_receiver == null ? null : nextChild(tmp0_safe_receiver, $this);
    } else {
      tmp = tmp1_elvis_lhs;
    }
    return tmp;
  }
  function tryWaitForChild($this, state, child, proposedUpdate) {
    var $this_0 = $this;
    var state_0 = state;
    var child_0 = child;
    var proposedUpdate_0 = proposedUpdate;
    while (true) {
      var $this_1 = $this_0;
      var state_1 = state_0;
      var child_1 = child_0;
      var proposedUpdate_1 = proposedUpdate_0;
      var tmp$ret$1;
      {
        var tmp0__get_asHandler__gq3rkj = new ChildCompletion($this_1, state_1, child_1, proposedUpdate_1);
        var tmp$ret$0;
        {
          tmp$ret$0 = tmp0__get_asHandler__gq3rkj;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      var handle = child_1.b1g_1.r18(false, false, tmp$ret$1, 1, null);
      if (!(handle === NonDisposableHandle_getInstance()))
        return true;
      var tmp0_elvis_lhs = nextChild(child_1, $this_1);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        return false;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var nextChild_0 = tmp;
      var tmp0 = $this_1;
      var tmp1 = state_1;
      var tmp2 = nextChild_0;
      var tmp3 = proposedUpdate_1;
      $this_0 = tmp0;
      state_0 = tmp1;
      child_0 = tmp2;
      proposedUpdate_0 = tmp3;
      continue;
    }
  }
  function continueCompleting($this, state, lastChild, proposedUpdate) {
    {
    }
    var waitChild = nextChild(lastChild, $this);
    if (!(waitChild == null) ? tryWaitForChild($this, state, waitChild, proposedUpdate) : false)
      return Unit_getInstance();
    var finalState = finalizeFinishingState($this, state, proposedUpdate);
    $this.z17(finalState);
  }
  function nextChild(_this__u8e3s4, $this) {
    var cur = _this__u8e3s4;
    $l$loop: while (true) {
      var tmp$ret$0;
      {
        var tmp0__get_isRemoved__hsfvgr = cur;
        tmp$ret$0 = tmp0__get_isRemoved__hsfvgr.f1b_1;
      }
      if (!tmp$ret$0) {
        break $l$loop;
      }
      var tmp$ret$1;
      {
        var tmp1__get_prevNode__b1i0ed = cur;
        tmp$ret$1 = tmp1__get_prevNode__b1i0ed.e1b_1;
      }
      cur = tmp$ret$1;
    }
    $l$loop_0: while (true) {
      var tmp$ret$2;
      {
        var tmp2__get_nextNode__ek7k4a = cur;
        tmp$ret$2 = tmp2__get_nextNode__ek7k4a.d1b_1;
      }
      cur = tmp$ret$2;
      var tmp$ret$3;
      {
        var tmp3__get_isRemoved__lodk3s = cur;
        tmp$ret$3 = tmp3__get_isRemoved__lodk3s.f1b_1;
      }
      if (tmp$ret$3)
        continue $l$loop_0;
      if (cur instanceof ChildHandleNode)
        return cur;
      if (cur instanceof NodeList)
        return null;
    }
  }
  function stateString($this, state) {
    var tmp0_subject = state;
    var tmp;
    if (tmp0_subject instanceof Finishing) {
      tmp = state.p1f() ? 'Cancelling' : state.s1f() ? 'Completing' : 'Active';
    } else {
      if (!(tmp0_subject == null) ? isInterface(tmp0_subject, Incomplete) : false) {
        tmp = state.p17() ? 'Active' : 'New';
      } else {
        if (tmp0_subject instanceof CompletedExceptionally) {
          tmp = 'Cancelled';
        } else {
          tmp = 'Completed';
        }
      }
    }
    return tmp;
  }
  function Finishing(list, isCompleting, rootCause) {
    this.l1f_1 = list;
    this.m1f_1 = atomic$boolean$1(isCompleting);
    this.n1f_1 = atomic$ref$1(rootCause);
    this.o1f_1 = atomic$ref$1(null);
  }
  Finishing.prototype.o1e = function () {
    return this.l1f_1;
  };
  Finishing.prototype.w1f = function (value) {
    this.m1f_1.d17_1 = value;
  };
  Finishing.prototype.s1f = function () {
    return this.m1f_1.d17_1;
  };
  Finishing.prototype.c1g = function (value) {
    this.n1f_1.z16_1 = value;
  };
  Finishing.prototype.v1f = function () {
    return this.n1f_1.z16_1;
  };
  Finishing.prototype.t1f = function () {
    return _get_exceptionsHolder__nhszp(this) === get_SEALED();
  };
  Finishing.prototype.p1f = function () {
    return !(this.v1f() == null);
  };
  Finishing.prototype.p17 = function () {
    return this.v1f() == null;
  };
  Finishing.prototype.q1f = function (proposedException) {
    var eh = _get_exceptionsHolder__nhszp(this);
    var tmp;
    if (eh == null) {
      tmp = allocateList(this);
    } else {
      if (eh instanceof Error) {
        var tmp$ret$0;
        {
          var tmp0_also = allocateList(this);
          {
          }
          {
            tmp0_also.b(eh);
          }
          tmp$ret$0 = tmp0_also;
        }
        tmp = tmp$ret$0;
      } else {
        if (eh instanceof ArrayList) {
          tmp = eh instanceof ArrayList ? eh : THROW_CCE();
        } else {
          var tmp1_error = 'State is ' + toString(eh);
          throw IllegalStateException_init_$Create$(toString_0(tmp1_error));
        }
      }
    }
    var list = tmp;
    var rootCause = this.v1f();
    var tmp0_safe_receiver = rootCause;
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$1;
      {
        {
        }
        tmp$ret$1 = list.cf(0, tmp0_safe_receiver);
      }
    }
    if (!(proposedException == null) ? !equals(proposedException, rootCause) : false) {
      list.b(proposedException);
    }
    _set_exceptionsHolder__tqm22h(this, get_SEALED());
    return list;
  };
  Finishing.prototype.u1f = function (exception) {
    var rootCause = this.v1f();
    if (rootCause == null) {
      this.c1g(exception);
      return Unit_getInstance();
    }
    if (exception === rootCause)
      return Unit_getInstance();
    var eh = _get_exceptionsHolder__nhszp(this);
    if (eh == null)
      _set_exceptionsHolder__tqm22h(this, exception);
    else {
      if (eh instanceof Error) {
        if (exception === eh)
          return Unit_getInstance();
        var tmp$ret$0;
        {
          var tmp0_apply = allocateList(this);
          {
          }
          {
            tmp0_apply.b(eh);
            tmp0_apply.b(exception);
          }
          tmp$ret$0 = tmp0_apply;
        }
        _set_exceptionsHolder__tqm22h(this, tmp$ret$0);
      } else {
        if (eh instanceof ArrayList) {
          (eh instanceof ArrayList ? eh : THROW_CCE()).b(exception);
        } else {
          var tmp1_error = 'State is ' + toString(eh);
          throw IllegalStateException_init_$Create$(toString_0(tmp1_error));
        }
      }
    }
  };
  Finishing.prototype.toString = function () {
    return 'Finishing[cancelling=' + this.p1f() + ', completing=' + this.s1f() + ', rootCause=' + this.v1f() + ', exceptions=' + toString(_get_exceptionsHolder__nhszp(this)) + ', list=' + this.l1f_1 + ']';
  };
  Finishing.$metadata$ = classMeta('Finishing', [Incomplete]);
  function ChildCompletion(parent, state, child, proposedUpdate) {
    JobNode.call(this);
    this.h1g_1 = parent;
    this.i1g_1 = state;
    this.j1g_1 = child;
    this.k1g_1 = proposedUpdate;
  }
  ChildCompletion.prototype.m1a = function (cause) {
    continueCompleting(this.h1g_1, this.i1g_1, this.j1g_1, this.k1g_1);
  };
  ChildCompletion.prototype.invoke = function (cause) {
    return this.m1a(cause);
  };
  ChildCompletion.$metadata$ = classMeta('ChildCompletion', undefined, undefined, undefined, undefined, JobNode.prototype);
  function AwaitContinuation(delegate, job) {
    CancellableContinuationImpl.call(this, delegate, get_MODE_CANCELLABLE());
    this.r1g_1 = job;
  }
  AwaitContinuation.prototype.h1c = function (parent) {
    var state = this.r1g_1.i18();
    if (state instanceof Finishing) {
      var tmp0_safe_receiver = state.v1f();
      if (tmp0_safe_receiver == null)
        null;
      else {
        var tmp$ret$0;
        {
          {
          }
          return tmp0_safe_receiver;
        }
      }
    }
    if (state instanceof CompletedExceptionally)
      return state.u17_1;
    return parent.m18();
  };
  AwaitContinuation.prototype.b18 = function () {
    return 'AwaitContinuation';
  };
  AwaitContinuation.$metadata$ = classMeta('AwaitContinuation', undefined, undefined, undefined, undefined, CancellableContinuationImpl.prototype);
  function awaitSuspend($this, $cont) {
    var tmp$ret$2;
    {
      var tmp0__anonymous__q1qw7t = $cont;
      var cont = new AwaitContinuation(intercepted(tmp0__anonymous__q1qw7t), $this);
      cont.z1b();
      var tmp$ret$1;
      {
        var tmp0__get_asHandler__gq3rkj = new ResumeAwaitOnCompletion(cont);
        var tmp$ret$0;
        {
          tmp$ret$0 = tmp0__get_asHandler__gq3rkj;
        }
        tmp$ret$1 = tmp$ret$0;
      }
      disposeOnCancellation(cont, $this.p18(tmp$ret$1));
      tmp$ret$2 = cont.i1c();
    }
    return tmp$ret$2;
  }
  function JobSupport(active) {
    this.i17_1 = atomic$ref$1(active ? get_EMPTY_ACTIVE() : get_EMPTY_NEW());
    this.j17_1 = atomic$ref$1(null);
  }
  JobSupport.prototype.j2 = function () {
    return Key_getInstance_2();
  };
  JobSupport.prototype.g18 = function (value) {
    this.j17_1.z16_1 = value;
  };
  JobSupport.prototype.h18 = function () {
    return this.j17_1.z16_1;
  };
  JobSupport.prototype.k17 = function (parent) {
    {
    }
    if (parent == null) {
      this.g18(NonDisposableHandle_getInstance());
      return Unit_getInstance();
    }
    parent.k18();
    var handle = parent.c19(this);
    this.g18(handle);
    if (this.j18()) {
      handle.n1a();
      this.g18(NonDisposableHandle_getInstance());
    }
  };
  JobSupport.prototype.i18 = function () {
    {
      var tmp0_loop = this.i17_1;
      while (true) {
        {
          var tmp1__anonymous__uwfjfc = tmp0_loop.z16_1;
          if (!(tmp1__anonymous__uwfjfc instanceof OpDescriptor))
            return tmp1__anonymous__uwfjfc;
          tmp1__anonymous__uwfjfc.s1g(this);
        }
      }
    }
  };
  JobSupport.prototype.p17 = function () {
    var state = this.i18();
    var tmp;
    if (!(state == null) ? isInterface(state, Incomplete) : false) {
      tmp = state.p17();
    } else {
      tmp = false;
    }
    return tmp;
  };
  JobSupport.prototype.j18 = function () {
    var tmp = this.i18();
    return !(!(tmp == null) ? isInterface(tmp, Incomplete) : false);
  };
  JobSupport.prototype.k18 = function () {
    {
      while (true) {
        {
          var tmp0__anonymous__q1qw7t = this.i18();
          var tmp0_subject = startInternal(this, tmp0__anonymous__q1qw7t);
          if (tmp0_subject === 0)
            return false;
          else if (tmp0_subject === 1)
            return true;
        }
      }
    }
  };
  JobSupport.prototype.l18 = function () {
  };
  JobSupport.prototype.m18 = function () {
    var state = this.i18();
    var tmp;
    if (state instanceof Finishing) {
      var tmp0_safe_receiver = state.v1f();
      var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : this.n18(tmp0_safe_receiver, get_classSimpleName(this) + ' is cancelling');
      var tmp_0;
      if (tmp1_elvis_lhs == null) {
        var tmp0_error = 'Job is still new or active: ' + this;
        throw IllegalStateException_init_$Create$(toString_0(tmp0_error));
      } else {
        tmp_0 = tmp1_elvis_lhs;
      }
      tmp = tmp_0;
    } else {
      if (!(state == null) ? isInterface(state, Incomplete) : false) {
        var tmp1_error = 'Job is still new or active: ' + this;
        throw IllegalStateException_init_$Create$(toString_0(tmp1_error));
      } else {
        if (state instanceof CompletedExceptionally) {
          tmp = this.o18(state.u17_1, null, 1, null);
        } else {
          tmp = new JobCancellationException(get_classSimpleName(this) + ' has completed normally', null, this);
        }
      }
    }
    return tmp;
  };
  JobSupport.prototype.n18 = function (_this__u8e3s4, message) {
    var tmp0_elvis_lhs = _this__u8e3s4 instanceof CancellationException ? _this__u8e3s4 : null;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      var tmp$ret$0;
      {
        var tmp0_elvis_lhs_0 = message;
        tmp$ret$0 = new JobCancellationException(tmp0_elvis_lhs_0 == null ? this.s17() : tmp0_elvis_lhs_0, _this__u8e3s4, this);
      }
      tmp = tmp$ret$0;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  };
  JobSupport.prototype.o18 = function (_this__u8e3s4, message, $mask0, $handler) {
    if (!(($mask0 & 1) === 0))
      message = null;
    return this.n18(_this__u8e3s4, message);
  };
  JobSupport.prototype.p18 = function (handler) {
    return this.q18(false, true, handler);
  };
  JobSupport.prototype.q18 = function (onCancelling, invokeImmediately, handler) {
    var node = makeNode(this, handler, onCancelling);
    {
      while (true) {
        var tmp$ret$1;
        $l$block: {
          var tmp0__anonymous__q1qw7t = this.i18();
          var tmp0_subject = tmp0__anonymous__q1qw7t;
          if (tmp0_subject instanceof Empty) {
            if (tmp0__anonymous__q1qw7t.n1e_1) {
              if (this.i17_1.atomicfu$compareAndSet(tmp0__anonymous__q1qw7t, node))
                return node;
            } else
              promoteEmptyToNodeList(this, tmp0__anonymous__q1qw7t);
          } else {
            if (!(tmp0_subject == null) ? isInterface(tmp0_subject, Incomplete) : false) {
              var list = tmp0__anonymous__q1qw7t.o1e();
              if (list == null) {
                promoteSingleToNodeList(this, tmp0__anonymous__q1qw7t instanceof JobNode ? tmp0__anonymous__q1qw7t : THROW_CCE());
              } else {
                var rootCause = null;
                var handle = NonDisposableHandle_getInstance();
                var tmp;
                if (onCancelling) {
                  tmp = tmp0__anonymous__q1qw7t instanceof Finishing;
                } else {
                  tmp = false;
                }
                if (tmp) {
                  var tmp$ret$2;
                  {
                    rootCause = tmp0__anonymous__q1qw7t.v1f();
                    var tmp_0;
                    var tmp_1;
                    if (rootCause == null) {
                      tmp_1 = true;
                    } else {
                      var tmp_2;
                      var tmp$ret$0;
                      {
                        tmp$ret$0 = handler instanceof ChildHandleNode;
                      }
                      if (tmp$ret$0) {
                        tmp_2 = !tmp0__anonymous__q1qw7t.s1f();
                      } else {
                        tmp_2 = false;
                      }
                      tmp_1 = tmp_2;
                    }
                    if (tmp_1) {
                      if (!addLastAtomic(this, tmp0__anonymous__q1qw7t, list, node)) {
                        tmp$ret$1 = Unit_getInstance();
                        break $l$block;
                      }
                      if (rootCause == null)
                        return node;
                      handle = node;
                      tmp_0 = Unit_getInstance();
                    }
                    tmp$ret$2 = tmp_0;
                  }
                }
                if (!(rootCause == null)) {
                  if (invokeImmediately)
                    invokeIt(handler, rootCause);
                  return handle;
                } else {
                  if (addLastAtomic(this, tmp0__anonymous__q1qw7t, list, node))
                    return node;
                }
              }
            } else {
              if (invokeImmediately) {
                var tmp1_safe_receiver = tmp0__anonymous__q1qw7t instanceof CompletedExceptionally ? tmp0__anonymous__q1qw7t : null;
                invokeIt(handler, tmp1_safe_receiver == null ? null : tmp1_safe_receiver.u17_1);
              }
              return NonDisposableHandle_getInstance();
            }
          }
        }
      }
    }
  };
  JobSupport.prototype.s18 = function (node) {
    {
      while (true) {
        {
          var tmp0__anonymous__q1qw7t = this.i18();
          var tmp0_subject = tmp0__anonymous__q1qw7t;
          if (tmp0_subject instanceof JobNode) {
            if (!(tmp0__anonymous__q1qw7t === node))
              return Unit_getInstance();
            if (this.i17_1.atomicfu$compareAndSet(tmp0__anonymous__q1qw7t, get_EMPTY_ACTIVE()))
              return Unit_getInstance();
          } else {
            if (!(tmp0_subject == null) ? isInterface(tmp0_subject, Incomplete) : false) {
              if (!(tmp0__anonymous__q1qw7t.o1e() == null)) {
                node.g1b();
              }
              return Unit_getInstance();
            } else {
              return Unit_getInstance();
            }
          }
        }
      }
    }
  };
  JobSupport.prototype.t18 = function () {
    return false;
  };
  JobSupport.prototype.u18 = function (cause) {
    var tmp0_elvis_lhs = cause;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      var tmp$ret$0;
      {
        var tmp0_elvis_lhs_0 = null;
        tmp$ret$0 = new JobCancellationException(tmp0_elvis_lhs_0 == null ? this.s17() : tmp0_elvis_lhs_0, null, this);
      }
      tmp = tmp$ret$0;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    this.w18(tmp);
  };
  JobSupport.prototype.s17 = function () {
    return 'Job was cancelled';
  };
  JobSupport.prototype.w18 = function (cause) {
    this.z18(cause);
  };
  JobSupport.prototype.x18 = function (parentJob) {
    this.z18(parentJob);
  };
  JobSupport.prototype.y18 = function (cause) {
    if (cause instanceof CancellationException)
      return true;
    return this.z18(cause) ? this.f19() : false;
  };
  JobSupport.prototype.z18 = function (cause) {
    var finalState = get_COMPLETING_ALREADY();
    if (this.t18()) {
      finalState = cancelMakeCompleting(this, cause);
      if (finalState === get_COMPLETING_WAITING_CHILDREN())
        return true;
    }
    if (finalState === get_COMPLETING_ALREADY()) {
      finalState = makeCancelling(this, cause);
    }
    var tmp;
    if (finalState === get_COMPLETING_ALREADY()) {
      tmp = true;
    } else if (finalState === get_COMPLETING_WAITING_CHILDREN()) {
      tmp = true;
    } else if (finalState === get_TOO_LATE_TO_CANCEL()) {
      tmp = false;
    } else {
      this.z17(finalState);
      tmp = true;
    }
    return tmp;
  };
  JobSupport.prototype.a19 = function (message, cause) {
    var tmp0_elvis_lhs = message;
    return new JobCancellationException(tmp0_elvis_lhs == null ? this.s17() : tmp0_elvis_lhs, cause, this);
  };
  JobSupport.prototype.b19 = function () {
    var state = this.i18();
    var tmp0_subject = state;
    var tmp;
    if (tmp0_subject instanceof Finishing) {
      tmp = state.v1f();
    } else {
      if (tmp0_subject instanceof CompletedExceptionally) {
        tmp = state.u17_1;
      } else {
        if (!(tmp0_subject == null) ? isInterface(tmp0_subject, Incomplete) : false) {
          var tmp0_error = 'Cannot be cancelling child in this state: ' + toString(state);
          throw IllegalStateException_init_$Create$(toString_0(tmp0_error));
        } else {
          tmp = null;
        }
      }
    }
    var rootCause = tmp;
    var tmp1_elvis_lhs = rootCause instanceof CancellationException ? rootCause : null;
    return tmp1_elvis_lhs == null ? new JobCancellationException('Parent job is ' + stateString(this, state), rootCause, this) : tmp1_elvis_lhs;
  };
  JobSupport.prototype.i1d = function (proposedUpdate) {
    {
      while (true) {
        var tmp$ret$0;
        $l$block: {
          var tmp0__anonymous__q1qw7t = this.i18();
          var finalState = tryMakeCompleting(this, tmp0__anonymous__q1qw7t, proposedUpdate);
          if (finalState === get_COMPLETING_ALREADY())
            return false;
          else if (finalState === get_COMPLETING_WAITING_CHILDREN())
            return true;
          else if (finalState === get_COMPLETING_RETRY()) {
            tmp$ret$0 = Unit_getInstance();
            break $l$block;
          } else {
            this.z17(finalState);
            return true;
          }
        }
      }
    }
  };
  JobSupport.prototype.x17 = function (proposedUpdate) {
    {
      while (true) {
        var tmp$ret$0;
        $l$block: {
          var tmp0__anonymous__q1qw7t = this.i18();
          var finalState = tryMakeCompleting(this, tmp0__anonymous__q1qw7t, proposedUpdate);
          if (finalState === get_COMPLETING_ALREADY())
            throw IllegalStateException_init_$Create$_0('Job ' + this + ' is already complete or completing, ' + ('but is being completed with ' + toString(proposedUpdate)), _get_exceptionOrNull__b3j7js(proposedUpdate, this));
          else if (finalState === get_COMPLETING_RETRY()) {
            tmp$ret$0 = Unit_getInstance();
            break $l$block;
          } else
            return finalState;
        }
      }
    }
  };
  JobSupport.prototype.c19 = function (child) {
    var tmp$ret$1;
    {
      var tmp0__get_asHandler__gq3rkj = new ChildHandleNode(child);
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0__get_asHandler__gq3rkj;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    var tmp = this.r18(true, false, tmp$ret$1, 2, null);
    return isInterface(tmp, ChildHandle) ? tmp : THROW_CCE();
  };
  JobSupport.prototype.a18 = function (exception) {
    throw exception;
  };
  JobSupport.prototype.d19 = function (cause) {
  };
  JobSupport.prototype.e19 = function () {
    return false;
  };
  JobSupport.prototype.f19 = function () {
    return true;
  };
  JobSupport.prototype.g19 = function (exception) {
    return false;
  };
  JobSupport.prototype.t17 = function (state) {
  };
  JobSupport.prototype.z17 = function (state) {
  };
  JobSupport.prototype.toString = function () {
    return this.h19() + '@' + get_hexAddress(this);
  };
  JobSupport.prototype.h19 = function () {
    return this.b18() + '{' + stateString(this, this.i18()) + '}';
  };
  JobSupport.prototype.b18 = function () {
    return get_classSimpleName(this);
  };
  JobSupport.prototype.o19 = function () {
    var state = this.i18();
    {
      {
      }
      if (!!(!(state == null) ? isInterface(state, Incomplete) : false)) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'This job has not completed yet';
        }
        var message = tmp$ret$0;
        throw IllegalStateException_init_$Create$(toString_0(message));
      }
    }
    if (state instanceof CompletedExceptionally)
      throw state.u17_1;
    return unboxState(state);
  };
  JobSupport.prototype.f1d = function ($cont) {
    $l$loop: while (true) {
      var state = this.i18();
      if (!(!(state == null) ? isInterface(state, Incomplete) : false)) {
        if (state instanceof CompletedExceptionally) {
          {
            var tmp0_recoverAndThrow = state.u17_1;
            throw tmp0_recoverAndThrow;
          }
        }
        return unboxState(state);
      }
      if (startInternal(this, state) >= 0)
        break $l$loop;
    }
    return awaitSuspend(this, $cont);
  };
  JobSupport.prototype.q19 = function (select, block) {
    {
      while (true) {
        {
          var tmp0__anonymous__q1qw7t = this.i18();
          if (select.t1g())
            return Unit_getInstance();
          if (!(!(tmp0__anonymous__q1qw7t == null) ? isInterface(tmp0__anonymous__q1qw7t, Incomplete) : false)) {
            if (select.w1g()) {
              if (tmp0__anonymous__q1qw7t instanceof CompletedExceptionally) {
                select.v1g(tmp0__anonymous__q1qw7t.u17_1);
              } else {
                var tmp = unboxState(tmp0__anonymous__q1qw7t);
                startCoroutineUnintercepted(block, (tmp == null ? true : isObject(tmp)) ? tmp : THROW_CCE(), select.u1g());
              }
            }
            return Unit_getInstance();
          }
          if (startInternal(this, tmp0__anonymous__q1qw7t) === 0) {
            var tmp$ret$1;
            {
              var tmp0__get_asHandler__gq3rkj = new SelectAwaitOnCompletion(select, block);
              var tmp$ret$0;
              {
                tmp$ret$0 = tmp0__get_asHandler__gq3rkj;
              }
              tmp$ret$1 = tmp$ret$0;
            }
            select.x1g(this.p18(tmp$ret$1));
            return Unit_getInstance();
          }
        }
      }
    }
  };
  JobSupport.prototype.i19 = function (select, block) {
    var state = this.i18();
    if (state instanceof CompletedExceptionally)
      select.v1g(state.u17_1);
    else {
      var tmp = unboxState(state);
      var tmp_0 = (tmp == null ? true : isObject(tmp)) ? tmp : THROW_CCE();
      var tmp_1 = select.u1g();
      startCoroutineCancellable$default(block, tmp_0, tmp_1, null, 4, null);
    }
  };
  JobSupport.$metadata$ = classMeta('JobSupport', [Job, ChildJob, ParentJob, SelectClause0]);
  function boxIncomplete(_this__u8e3s4) {
    init_properties_JobSupport_kt_iaxwag();
    var tmp;
    if (!(_this__u8e3s4 == null) ? isInterface(_this__u8e3s4, Incomplete) : false) {
      tmp = new IncompleteStateBox(_this__u8e3s4);
    } else {
      tmp = _this__u8e3s4;
    }
    return tmp;
  }
  function JobCancellingNode() {
    JobNode.call(this);
  }
  JobCancellingNode.$metadata$ = classMeta('JobCancellingNode', undefined, undefined, undefined, undefined, JobNode.prototype);
  function get_FALSE() {
    return FALSE;
  }
  var FALSE;
  function get_TRUE() {
    return TRUE;
  }
  var TRUE;
  function InactiveNodeList(list) {
    this.r1f_1 = list;
  }
  InactiveNodeList.prototype.o1e = function () {
    return this.r1f_1;
  };
  InactiveNodeList.prototype.p17 = function () {
    return false;
  };
  InactiveNodeList.prototype.toString = function () {
    return get_DEBUG() ? this.r1f_1.s1e('New') : anyToString(this);
  };
  InactiveNodeList.$metadata$ = classMeta('InactiveNodeList', [Incomplete]);
  function ChildHandleNode(childJob) {
    JobCancellingNode.call(this);
    this.b1g_1 = childJob;
  }
  ChildHandleNode.prototype.m1a = function (cause) {
    return this.b1g_1.x18(this.j1f());
  };
  ChildHandleNode.prototype.invoke = function (cause) {
    return this.m1a(cause);
  };
  ChildHandleNode.prototype.y18 = function (cause) {
    return this.j1f().y18(cause);
  };
  ChildHandleNode.$metadata$ = classMeta('ChildHandleNode', [ChildHandle], undefined, undefined, undefined, JobCancellingNode.prototype);
  function InvokeOnCancelling(handler) {
    JobCancellingNode.call(this);
    this.c1h_1 = handler;
    this.d1h_1 = atomic$int$1(0);
  }
  InvokeOnCancelling.prototype.m1a = function (cause) {
    if (this.d1h_1.atomicfu$compareAndSet(0, 1))
      this.c1h_1(cause);
  };
  InvokeOnCancelling.prototype.invoke = function (cause) {
    return this.m1a(cause);
  };
  InvokeOnCancelling.$metadata$ = classMeta('InvokeOnCancelling', undefined, undefined, undefined, undefined, JobCancellingNode.prototype);
  function InvokeOnCompletion(handler) {
    JobNode.call(this);
    this.i1h_1 = handler;
  }
  InvokeOnCompletion.prototype.m1a = function (cause) {
    return this.i1h_1(cause);
  };
  InvokeOnCompletion.prototype.invoke = function (cause) {
    return this.m1a(cause);
  };
  InvokeOnCompletion.$metadata$ = classMeta('InvokeOnCompletion', undefined, undefined, undefined, undefined, JobNode.prototype);
  function unboxState(_this__u8e3s4) {
    init_properties_JobSupport_kt_iaxwag();
    var tmp0_safe_receiver = _this__u8e3s4 instanceof IncompleteStateBox ? _this__u8e3s4 : null;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.j1h_1;
    return tmp1_elvis_lhs == null ? _this__u8e3s4 : tmp1_elvis_lhs;
  }
  function ResumeAwaitOnCompletion(continuation) {
    JobNode.call(this);
    this.o1h_1 = continuation;
  }
  ResumeAwaitOnCompletion.prototype.m1a = function (cause) {
    var state = this.j1f().i18();
    {
    }
    if (state instanceof CompletedExceptionally) {
      var tmp$ret$1;
      {
        var tmp0_resumeWithException = this.o1h_1;
        var tmp1_resumeWithException = state.u17_1;
        var tmp$ret$0;
        {
          var tmp0_failure = Companion_getInstance_0();
          tmp$ret$0 = _Result___init__impl__xyqfz8(createFailure(tmp1_resumeWithException));
        }
        tmp$ret$1 = tmp0_resumeWithException.q4(tmp$ret$0);
      }
    } else {
      var tmp$ret$3;
      {
        var tmp2_resume = this.o1h_1;
        var tmp = unboxState(state);
        var tmp3_resume = (tmp == null ? true : isObject(tmp)) ? tmp : THROW_CCE();
        var tmp$ret$2;
        {
          var tmp0_success = Companion_getInstance_0();
          tmp$ret$2 = _Result___init__impl__xyqfz8(tmp3_resume);
        }
        tmp$ret$3 = tmp2_resume.q4(tmp$ret$2);
      }
    }
  };
  ResumeAwaitOnCompletion.prototype.invoke = function (cause) {
    return this.m1a(cause);
  };
  ResumeAwaitOnCompletion.$metadata$ = classMeta('ResumeAwaitOnCompletion', undefined, undefined, undefined, undefined, JobNode.prototype);
  function SelectAwaitOnCompletion(select, block) {
    JobNode.call(this);
    this.t1h_1 = select;
    this.u1h_1 = block;
  }
  SelectAwaitOnCompletion.prototype.m1a = function (cause) {
    if (this.t1h_1.w1g())
      this.j1f().i19(this.t1h_1, this.u1h_1);
  };
  SelectAwaitOnCompletion.prototype.invoke = function (cause) {
    return this.m1a(cause);
  };
  SelectAwaitOnCompletion.$metadata$ = classMeta('SelectAwaitOnCompletion', undefined, undefined, undefined, undefined, JobNode.prototype);
  function IncompleteStateBox(state) {
    this.j1h_1 = state;
  }
  IncompleteStateBox.$metadata$ = classMeta('IncompleteStateBox');
  function ChildContinuation(child) {
    JobCancellingNode.call(this);
    this.z1h_1 = child;
  }
  ChildContinuation.prototype.m1a = function (cause) {
    this.z1h_1.g1c(this.z1h_1.h1c(this.j1f()));
  };
  ChildContinuation.prototype.invoke = function (cause) {
    return this.m1a(cause);
  };
  ChildContinuation.$metadata$ = classMeta('ChildContinuation', undefined, undefined, undefined, undefined, JobCancellingNode.prototype);
  function handlesException($this) {
    var tmp = $this.h18();
    var tmp0_safe_receiver = tmp instanceof ChildHandleNode ? tmp : null;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.j1f();
    var tmp_0;
    if (tmp1_elvis_lhs == null) {
      return false;
    } else {
      tmp_0 = tmp1_elvis_lhs;
    }
    var parentJob = tmp_0;
    while (true) {
      if (parentJob.f19())
        return true;
      var tmp_1 = parentJob.h18();
      var tmp2_safe_receiver = tmp_1 instanceof ChildHandleNode ? tmp_1 : null;
      var tmp3_elvis_lhs = tmp2_safe_receiver == null ? null : tmp2_safe_receiver.j1f();
      var tmp_2;
      if (tmp3_elvis_lhs == null) {
        return false;
      } else {
        tmp_2 = tmp3_elvis_lhs;
      }
      parentJob = tmp_2;
    }
  }
  function JobImpl(parent) {
    JobSupport.call(this, true);
    this.k17(parent);
    this.c1i_1 = handlesException(this);
  }
  JobImpl.prototype.t18 = function () {
    return true;
  };
  JobImpl.prototype.f19 = function () {
    return this.c1i_1;
  };
  JobImpl.$metadata$ = classMeta('JobImpl', [CompletableJob], undefined, undefined, undefined, JobSupport.prototype);
  var properties_initialized_JobSupport_kt_5iq8a4;
  function init_properties_JobSupport_kt_iaxwag() {
    if (properties_initialized_JobSupport_kt_5iq8a4) {
    } else {
      properties_initialized_JobSupport_kt_5iq8a4 = true;
      COMPLETING_ALREADY = new Symbol('COMPLETING_ALREADY');
      COMPLETING_WAITING_CHILDREN = new Symbol('COMPLETING_WAITING_CHILDREN');
      COMPLETING_RETRY = new Symbol('COMPLETING_RETRY');
      TOO_LATE_TO_CANCEL = new Symbol('TOO_LATE_TO_CANCEL');
      SEALED = new Symbol('SEALED');
      EMPTY_NEW = new Empty(false);
      EMPTY_ACTIVE = new Empty(true);
    }
  }
  function MainCoroutineDispatcher() {
    CoroutineDispatcher.call(this);
  }
  MainCoroutineDispatcher.prototype.toString = function () {
    var tmp0_elvis_lhs = this.f1i();
    return tmp0_elvis_lhs == null ? get_classSimpleName(this) + '@' + get_hexAddress(this) : tmp0_elvis_lhs;
  };
  MainCoroutineDispatcher.prototype.f1i = function () {
    var main = Dispatchers_getInstance().k1i();
    if (this === main)
      return 'Dispatchers.Main';
    var tmp;
    try {
      tmp = main.e1i();
    } catch ($p) {
      var tmp_0;
      if ($p instanceof UnsupportedOperationException) {
        tmp_0 = null;
      } else {
        throw $p;
      }
      tmp = tmp_0;
    }
    var immediate = tmp;
    if (this === immediate)
      return 'Dispatchers.Main.immediate';
    return null;
  };
  MainCoroutineDispatcher.$metadata$ = classMeta('MainCoroutineDispatcher', undefined, undefined, undefined, undefined, CoroutineDispatcher.prototype);
  function TimeoutCancellationException() {
  }
  TimeoutCancellationException.$metadata$ = classMeta('TimeoutCancellationException', [CopyableThrowable], undefined, undefined, undefined, CancellationException.prototype);
  function Unconfined() {
    Unconfined_instance = this;
    CoroutineDispatcher.call(this);
  }
  Unconfined.prototype.m1d = function (context) {
    return false;
  };
  Unconfined.prototype.n1d = function (context, block) {
    var yieldContext = context.f8(Key_getInstance_3());
    if (!(yieldContext == null)) {
      yieldContext.n1i_1 = true;
      return Unit_getInstance();
    }
    throw UnsupportedOperationException_init_$Create$('Dispatchers.Unconfined.dispatch function can only be used by the yield function. If you wrap Unconfined dispatcher in your code, make sure you properly delegate isDispatchNeeded and dispatch calls.');
  };
  Unconfined.prototype.toString = function () {
    return 'Dispatchers.Unconfined';
  };
  Unconfined.$metadata$ = objectMeta('Unconfined', undefined, undefined, undefined, undefined, CoroutineDispatcher.prototype);
  var Unconfined_instance;
  function Unconfined_getInstance() {
    if (Unconfined_instance == null)
      new Unconfined();
    return Unconfined_instance;
  }
  function Key_3() {
    Key_instance_2 = this;
  }
  Key_3.$metadata$ = objectMeta('Key', [Key]);
  var Key_instance_2;
  function Key_getInstance_3() {
    if (Key_instance_2 == null)
      new Key_3();
    return Key_instance_2;
  }
  function get_EMPTY() {
    init_properties_AbstractChannel_kt_mjk5bh();
    return EMPTY;
  }
  var EMPTY;
  function get_OFFER_SUCCESS() {
    init_properties_AbstractChannel_kt_mjk5bh();
    return OFFER_SUCCESS;
  }
  var OFFER_SUCCESS;
  function get_OFFER_FAILED() {
    init_properties_AbstractChannel_kt_mjk5bh();
    return OFFER_FAILED;
  }
  var OFFER_FAILED;
  function get_POLL_FAILED() {
    init_properties_AbstractChannel_kt_mjk5bh();
    return POLL_FAILED;
  }
  var POLL_FAILED;
  function get_ENQUEUE_FAILED() {
    init_properties_AbstractChannel_kt_mjk5bh();
    return ENQUEUE_FAILED;
  }
  var ENQUEUE_FAILED;
  var HANDLER_INVOKED;
  function hasNextResult($this, result) {
    if (result instanceof Closed) {
      if (!(result.r1i_1 == null))
        throw recoverStackTrace_0(result.s1i());
      return false;
    }
    return true;
  }
  function hasNextSuspend($this, $cont) {
    var tmp$ret$5;
    {
      var tmp0__anonymous__q1qw7t = $cont;
      var cancellable = getOrCreateCancellableContinuation(intercepted(tmp0__anonymous__q1qw7t));
      var tmp$ret$0;
      $l$block_1: {
        var receive = new ReceiveHasNext($this, cancellable);
        while (true) {
          if (enqueueReceive($this.t1i_1, receive)) {
            removeReceiveOnCancel($this.t1i_1, cancellable, receive);
            tmp$ret$0 = Unit_getInstance();
            break $l$block_1;
          }
          var result = $this.t1i_1.y1i();
          $this.u1i_1 = result;
          if (result instanceof Closed) {
            if (result.r1i_1 == null) {
              var tmp$ret$2;
              {
                var tmp$ret$1;
                {
                  var tmp0_success = Companion_getInstance_0();
                  tmp$ret$1 = _Result___init__impl__xyqfz8(false);
                }
                tmp$ret$2 = cancellable.q4(tmp$ret$1);
              }
            } else {
              var tmp$ret$4;
              {
                var tmp0_resumeWithException = result.s1i();
                var tmp$ret$3;
                {
                  var tmp0_failure = Companion_getInstance_0();
                  tmp$ret$3 = _Result___init__impl__xyqfz8(createFailure(tmp0_resumeWithException));
                }
                tmp$ret$4 = cancellable.q4(tmp$ret$3);
              }
            }
            tmp$ret$0 = Unit_getInstance();
            break $l$block_1;
          }
          if (!(result === get_POLL_FAILED())) {
            var tmp0_safe_receiver = $this.t1i_1.c1j();
            var tmp;
            if (tmp0_safe_receiver == null) {
              tmp = null;
            } else {
              tmp = bindCancellationFun(tmp0_safe_receiver, (result == null ? true : isObject(result)) ? result : THROW_CCE(), cancellable.s4());
            }
            cancellable.k1a(true, tmp);
            tmp$ret$0 = Unit_getInstance();
            break $l$block_1;
          }
        }
      }
      tmp$ret$5 = cancellable.i1c();
    }
    return tmp$ret$5;
  }
  function enqueueReceive($this, receive) {
    var tmp$ret$0;
    {
      var tmp0_also = $this.d1j(receive);
      {
      }
      {
        if (tmp0_also)
          $this.e1j();
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  }
  function TryPollDesc(queue) {
    RemoveFirstDesc.call(this, queue);
  }
  TryPollDesc.prototype.i1j = function (affected) {
    var tmp0_subject = affected;
    var tmp;
    if (tmp0_subject instanceof Closed) {
      tmp = affected;
    } else {
      if (!(tmp0_subject instanceof Send)) {
        tmp = get_POLL_FAILED();
      } else {
        tmp = null;
      }
    }
    return tmp;
  };
  TryPollDesc.prototype.j1j = function (prepareOp) {
    var tmp = prepareOp.k1j_1;
    var affected = tmp instanceof Send ? tmp : THROW_CCE();
    var tmp0_elvis_lhs = affected.q1j(prepareOp);
    var tmp_0;
    if (tmp0_elvis_lhs == null) {
      return get_REMOVE_PREPARED();
    } else {
      tmp_0 = tmp0_elvis_lhs;
    }
    var token = tmp_0;
    if (token === get_RETRY_ATOMIC())
      return get_RETRY_ATOMIC();
    {
    }
    return null;
  };
  TryPollDesc.$metadata$ = classMeta('TryPollDesc', undefined, undefined, undefined, undefined, RemoveFirstDesc.prototype);
  function registerSelectReceiveMode($this, select, receiveMode, block) {
    while (true) {
      if (select.t1g())
        return Unit_getInstance();
      if ($this.c1k()) {
        if (enqueueReceiveSelect($this, select, block, receiveMode))
          return Unit_getInstance();
      } else {
        var pollResult = $this.b1k(select);
        if (pollResult === get_ALREADY_SELECTED())
          return Unit_getInstance();
        else if (pollResult === get_POLL_FAILED()) {
        } else if (pollResult === get_RETRY_ATOMIC()) {
        } else
          tryStartBlockUnintercepted(block, $this, select, receiveMode, pollResult);
      }
    }
  }
  function tryStartBlockUnintercepted(_this__u8e3s4, $this, select, receiveMode, value) {
    var tmp0_subject = value;
    if (tmp0_subject instanceof Closed) {
      var tmp1_subject = receiveMode;
      if (tmp1_subject === 0) {
        throw recoverStackTrace_0(value.s1i());
      } else if (tmp1_subject === 1) {
        if (!select.w1g())
          return Unit_getInstance();
        startCoroutineUnintercepted(_this__u8e3s4, new ChannelResult(Companion_getInstance_1().f1k(value.r1i_1)), select.u1g());
      }
    } else {
      if (receiveMode === 1) {
        var tmp$ret$0;
        {
          var tmp;
          if (value instanceof Closed) {
            tmp = Companion_getInstance_1().f1k(value.r1i_1);
          } else {
            var tmp_0 = Companion_getInstance_1();
            tmp = tmp_0.e1k((value == null ? true : isObject(value)) ? value : THROW_CCE());
          }
          tmp$ret$0 = tmp;
        }
        startCoroutineUnintercepted(_this__u8e3s4, new ChannelResult(tmp$ret$0), select.u1g());
      } else {
        startCoroutineUnintercepted(_this__u8e3s4, value, select.u1g());
      }
    }
  }
  function enqueueReceiveSelect($this, select, block, receiveMode) {
    var node = new ReceiveSelect($this, select, block, receiveMode);
    var result = enqueueReceive($this, node);
    if (result)
      select.x1g(node);
    return result;
  }
  function removeReceiveOnCancel($this, cont, receive) {
    var tmp$ret$1;
    {
      var tmp0__get_asHandler__gq3rkj = new RemoveReceiveOnCancel($this, receive);
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0__get_asHandler__gq3rkj;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return cont.i1a(tmp$ret$1);
  }
  function RemoveReceiveOnCancel($outer, receive) {
    this.h1k_1 = $outer;
    BeforeResumeCancelHandler.call(this);
    this.g1k_1 = receive;
  }
  RemoveReceiveOnCancel.prototype.m1a = function (cause) {
    if (this.g1k_1.g1b())
      this.h1k_1.i1k();
  };
  RemoveReceiveOnCancel.prototype.invoke = function (cause) {
    return this.m1a(cause);
  };
  RemoveReceiveOnCancel.prototype.toString = function () {
    return 'RemoveReceiveOnCancel[' + this.g1k_1 + ']';
  };
  RemoveReceiveOnCancel.$metadata$ = classMeta('RemoveReceiveOnCancel', undefined, undefined, undefined, undefined, BeforeResumeCancelHandler.prototype);
  function Itr(channel) {
    this.t1i_1 = channel;
    this.u1i_1 = get_POLL_FAILED();
  }
  Itr.prototype.j1k = function () {
    return this.t1i_1;
  };
  Itr.prototype.k1k = function (_set____db54di) {
    this.u1i_1 = _set____db54di;
  };
  Itr.prototype.l1k = function ($cont) {
    if (!(this.u1i_1 === get_POLL_FAILED()))
      return hasNextResult(this, this.u1i_1);
    this.u1i_1 = this.t1i_1.y1i();
    if (!(this.u1i_1 === get_POLL_FAILED()))
      return hasNextResult(this, this.u1i_1);
    return hasNextSuspend(this, $cont);
  };
  Itr.prototype.o = function () {
    var result = this.u1i_1;
    if (result instanceof Closed)
      throw recoverStackTrace_0(result.s1i());
    if (!(result === get_POLL_FAILED())) {
      this.u1i_1 = get_POLL_FAILED();
      return (result == null ? true : isObject(result)) ? result : THROW_CCE();
    }
    throw IllegalStateException_init_$Create$("'hasNext' should be called prior to 'next' invocation");
  };
  Itr.$metadata$ = classMeta('Itr', [ChannelIterator]);
  function ReceiveHasNext(iterator, cont) {
    Receive.call(this);
    this.p1k_1 = iterator;
    this.q1k_1 = cont;
  }
  ReceiveHasNext.prototype.r1k = function (value, otherOp) {
    var tmp0_safe_receiver = otherOp;
    var tmp1_elvis_lhs = this.q1k_1.f1a(true, tmp0_safe_receiver == null ? null : tmp0_safe_receiver.l1j_1, this.s1k(value));
    var tmp;
    if (tmp1_elvis_lhs == null) {
      return null;
    } else {
      tmp = tmp1_elvis_lhs;
    }
    var token = tmp;
    {
    }
    var tmp2_safe_receiver = otherOp;
    if (tmp2_safe_receiver == null)
      null;
    else {
      tmp2_safe_receiver.t1k();
    }
    return get_RESUME_TOKEN();
  };
  ReceiveHasNext.prototype.u1k = function (value) {
    this.p1k_1.u1i_1 = value;
    this.q1k_1.h1a(get_RESUME_TOKEN());
  };
  ReceiveHasNext.prototype.v1k = function (closed) {
    var tmp;
    if (closed.r1i_1 == null) {
      tmp = this.q1k_1.e1a(false, null, 2, null);
    } else {
      tmp = this.q1k_1.g1a(closed.s1i());
    }
    var token = tmp;
    if (!(token == null)) {
      this.p1k_1.u1i_1 = closed;
      this.q1k_1.h1a(token);
    }
  };
  ReceiveHasNext.prototype.s1k = function (value) {
    var tmp0_safe_receiver = this.p1k_1.t1i_1.c1j();
    return tmp0_safe_receiver == null ? null : bindCancellationFun(tmp0_safe_receiver, value, this.q1k_1.s4());
  };
  ReceiveHasNext.prototype.toString = function () {
    return 'ReceiveHasNext@' + get_hexAddress(this);
  };
  ReceiveHasNext.$metadata$ = classMeta('ReceiveHasNext', undefined, undefined, undefined, undefined, Receive.prototype);
  function ReceiveSelect(channel, select, block, receiveMode) {
    Receive.call(this);
    this.e1l_1 = channel;
    this.f1l_1 = select;
    this.g1l_1 = block;
    this.h1l_1 = receiveMode;
  }
  ReceiveSelect.prototype.r1k = function (value, otherOp) {
    var tmp = this.f1l_1.i1l(otherOp);
    return (tmp == null ? true : tmp instanceof Symbol) ? tmp : THROW_CCE();
  };
  ReceiveSelect.prototype.u1k = function (value) {
    startCoroutineCancellable(this.g1l_1, this.h1l_1 === 1 ? new ChannelResult(Companion_getInstance_1().e1k(value)) : value, this.f1l_1.u1g(), this.s1k(value));
  };
  ReceiveSelect.prototype.v1k = function (closed) {
    if (!this.f1l_1.w1g())
      return Unit_getInstance();
    var tmp0_subject = this.h1l_1;
    if (tmp0_subject === 0)
      this.f1l_1.v1g(closed.s1i());
    else if (tmp0_subject === 1) {
      var tmp = new ChannelResult(Companion_getInstance_1().f1k(closed.r1i_1));
      var tmp_0 = this.f1l_1.u1g();
      startCoroutineCancellable$default(this.g1l_1, tmp, tmp_0, null, 4, null);
    }
  };
  ReceiveSelect.prototype.n1a = function () {
    if (this.g1b())
      this.e1l_1.i1k();
  };
  ReceiveSelect.prototype.s1k = function (value) {
    var tmp0_safe_receiver = this.e1l_1.c1j();
    return tmp0_safe_receiver == null ? null : bindCancellationFun(tmp0_safe_receiver, value, this.f1l_1.u1g().s4());
  };
  ReceiveSelect.prototype.toString = function () {
    return 'ReceiveSelect@' + get_hexAddress(this) + '[' + this.f1l_1 + ',receiveMode=' + this.h1l_1 + ']';
  };
  ReceiveSelect.$metadata$ = classMeta('ReceiveSelect', [DisposableHandle], undefined, undefined, undefined, Receive.prototype);
  function AbstractChannel$onReceive$1(this$0) {
    this.j1l_1 = this$0;
  }
  AbstractChannel$onReceive$1.prototype.k1l = function (select, block) {
    registerSelectReceiveMode(this.j1l_1, select, 0, isSuspendFunction(block, 1) ? block : THROW_CCE());
  };
  AbstractChannel$onReceive$1.prototype.r19 = function (select, block) {
    return this.k1l(select, block);
  };
  AbstractChannel$onReceive$1.$metadata$ = classMeta(undefined, [SelectClause1]);
  function AbstractChannel(onUndeliveredElement) {
    AbstractSendChannel.call(this, onUndeliveredElement);
  }
  AbstractChannel.prototype.y1i = function () {
    while (true) {
      var tmp0_elvis_lhs = this.n1l();
      var tmp;
      if (tmp0_elvis_lhs == null) {
        return get_POLL_FAILED();
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var send = tmp;
      var token = send.q1j(null);
      if (!(token == null)) {
        {
        }
        send.o1l();
        return send.p1l();
      }
      send.q1l();
    }
  };
  AbstractChannel.prototype.b1k = function (select) {
    var pollOp = this.r1l();
    var failure = select.s1l(pollOp);
    if (!(failure == null))
      return failure;
    var send = pollOp.u1j();
    send.o1l();
    return pollOp.u1j().p1l();
  };
  AbstractChannel.prototype.c1k = function () {
    var tmp;
    var tmp$ret$0;
    {
      var tmp0__get_nextNode__vg4li4 = this.t1l();
      tmp$ret$0 = tmp0__get_nextNode__vg4li4.d1b_1;
    }
    var tmp_0 = tmp$ret$0;
    if (!(tmp_0 instanceof Send)) {
      tmp = this.m1l();
    } else {
      tmp = false;
    }
    return tmp;
  };
  AbstractChannel.prototype.d1j = function (receive) {
    var tmp;
    if (this.l1l()) {
      var tmp$ret$1;
      $l$block: {
        var tmp0_addLastIfPrev = this.t1l();
        var tmp$ret$0;
        {
          var tmp1__anonymous__uwfjfc = tmp0_addLastIfPrev.e1b_1;
          tmp$ret$0 = !(tmp1__anonymous__uwfjfc instanceof Send);
        }
        if (!tmp$ret$0) {
          tmp$ret$1 = false;
          break $l$block;
        }
        tmp0_addLastIfPrev.a1f(receive);
        tmp$ret$1 = true;
      }
      tmp = tmp$ret$1;
    } else {
      var tmp$ret$3;
      $l$block_1: {
        var tmp2_addLastIfPrevAndIf = this.t1l();
        var tmp$ret$2;
        {
          var tmp3__anonymous__ufb84q = tmp2_addLastIfPrevAndIf.e1b_1;
          tmp$ret$2 = !(tmp3__anonymous__ufb84q instanceof Send);
        }
        if (!tmp$ret$2) {
          tmp$ret$3 = false;
          break $l$block_1;
        }
        var tmp$ret$4;
        {
          tmp$ret$4 = this.m1l();
        }
        if (!tmp$ret$4) {
          tmp$ret$3 = false;
          break $l$block_1;
        }
        tmp2_addLastIfPrevAndIf.a1f(receive);
        tmp$ret$3 = true;
      }
      tmp = tmp$ret$3;
    }
    return tmp;
  };
  AbstractChannel.prototype.h = function () {
    return new Itr(this);
  };
  AbstractChannel.prototype.r1l = function () {
    return new TryPollDesc(this.t1l());
  };
  AbstractChannel.prototype.u1l = function () {
    return new AbstractChannel$onReceive$1(this);
  };
  AbstractChannel.prototype.v1l = function () {
    var tmp$ret$0;
    {
      var tmp0_also = AbstractSendChannel.prototype.v1l.call(this);
      {
      }
      {
        var tmp;
        if (!(tmp0_also == null)) {
          tmp = !(tmp0_also instanceof Closed);
        } else {
          tmp = false;
        }
        if (tmp)
          this.i1k();
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  AbstractChannel.prototype.e1j = function () {
  };
  AbstractChannel.prototype.i1k = function () {
  };
  AbstractChannel.$metadata$ = classMeta('AbstractChannel', [Channel], undefined, undefined, undefined, AbstractSendChannel.prototype);
  function _get_isFullImpl__v905xu($this) {
    var tmp;
    var tmp$ret$0;
    {
      var tmp0__get_nextNode__vg4li4 = $this.a1j_1;
      tmp$ret$0 = tmp0__get_nextNode__vg4li4.d1b_1;
    }
    var tmp_0 = tmp$ret$0;
    if (!isInterface(tmp_0, ReceiveOrClosed)) {
      tmp = $this.x1l();
    } else {
      tmp = false;
    }
    return tmp;
  }
  function sendSuspend($this, element, $cont) {
    var tmp$ret$3;
    {
      var tmp0__anonymous__q1qw7t = $cont;
      var cancellable = getOrCreateCancellableContinuation(intercepted(tmp0__anonymous__q1qw7t));
      var tmp$ret$0;
      $l$block_2: {
        loop: while (true) {
          if (_get_isFullImpl__v905xu($this)) {
            var send = $this.z1i_1 == null ? new SendElement(element, cancellable) : new SendElementWithUndeliveredHandler(element, cancellable, $this.z1i_1);
            var enqueueResult = $this.a1m(send);
            if (enqueueResult == null) {
              removeOnCancellation(cancellable, send);
              tmp$ret$0 = Unit_getInstance();
              break $l$block_2;
            } else {
              if (enqueueResult instanceof Closed) {
                helpCloseAndResumeWithSendException(cancellable, $this, element, enqueueResult);
                tmp$ret$0 = Unit_getInstance();
                break $l$block_2;
              } else {
                if (enqueueResult === get_ENQUEUE_FAILED()) {
                } else {
                  if (enqueueResult instanceof Receive) {
                  } else {
                    var tmp0_error = 'enqueueSend returned ' + toString(enqueueResult);
                    throw IllegalStateException_init_$Create$(toString_0(tmp0_error));
                  }
                }
              }
            }
          }
          var offerResult = $this.y1l(element);
          if (offerResult === get_OFFER_SUCCESS()) {
            var tmp$ret$2;
            {
              var tmp$ret$1;
              {
                var tmp0_success = Companion_getInstance_0();
                tmp$ret$1 = _Result___init__impl__xyqfz8(Unit_getInstance());
              }
              tmp$ret$2 = cancellable.q4(tmp$ret$1);
            }
            tmp$ret$0 = Unit_getInstance();
            break $l$block_2;
          } else {
            if (offerResult === get_OFFER_FAILED())
              continue loop;
            else {
              if (offerResult instanceof Closed) {
                helpCloseAndResumeWithSendException(cancellable, $this, element, offerResult);
                tmp$ret$0 = Unit_getInstance();
                break $l$block_2;
              } else {
                var tmp1_error = 'offerInternal returned ' + toString_0(offerResult);
                throw IllegalStateException_init_$Create$(toString_0(tmp1_error));
              }
            }
          }
        }
      }
      tmp$ret$3 = cancellable.i1c();
    }
    return tmp$ret$3;
  }
  function helpCloseAndResumeWithSendException(_this__u8e3s4, $this, element, closed) {
    helpClose($this, closed);
    var sendException = closed.d1m();
    var tmp0_safe_receiver = $this.z1i_1;
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      tmp = callUndeliveredElementCatchingException$default(tmp0_safe_receiver, element, null, 2, null);
    }
    var tmp1_safe_receiver = tmp;
    if (tmp1_safe_receiver == null)
      null;
    else {
      var tmp$ret$2;
      {
        {
        }
        addSuppressed(tmp1_safe_receiver, sendException);
        var tmp$ret$1;
        {
          var tmp$ret$0;
          {
            var tmp0_failure = Companion_getInstance_0();
            tmp$ret$0 = _Result___init__impl__xyqfz8(createFailure(tmp1_safe_receiver));
          }
          tmp$ret$1 = _this__u8e3s4.q4(tmp$ret$0);
        }
        return Unit_getInstance();
      }
    }
    var tmp$ret$4;
    {
      var tmp$ret$3;
      {
        var tmp0_failure_0 = Companion_getInstance_0();
        tmp$ret$3 = _Result___init__impl__xyqfz8(createFailure(sendException));
      }
      tmp$ret$4 = _this__u8e3s4.q4(tmp$ret$3);
    }
  }
  function helpClose($this, closed) {
    var closedList = _InlineList___init__impl__z8n56_0(null, 1, null);
    $l$loop_0: while (true) {
      var tmp$ret$0;
      {
        tmp$ret$0 = closed.e1b_1;
      }
      var tmp = tmp$ret$0;
      var tmp0_elvis_lhs = tmp instanceof Receive ? tmp : null;
      var tmp_0;
      if (tmp0_elvis_lhs == null) {
        break $l$loop_0;
      } else {
        tmp_0 = tmp0_elvis_lhs;
      }
      var previous = tmp_0;
      if (!previous.g1b()) {
        previous.a1l();
        continue $l$loop_0;
      }
      closedList = InlineList__plus_impl_nuetvo(closedList, previous);
    }
    var tmp$ret$1;
    $l$block: {
      var tmp0_forEachReversed = closedList;
      var tmp0_subject = _get_holder__f6h5pd(tmp0_forEachReversed);
      if (tmp0_subject == null) {
        tmp$ret$1 = Unit_getInstance();
        break $l$block;
      } else {
        if (!(tmp0_subject instanceof ArrayList)) {
          var tmp_1 = _get_holder__f6h5pd(tmp0_forEachReversed);
          var tmp1__anonymous__uwfjfc = (tmp_1 == null ? true : isObject(tmp_1)) ? tmp_1 : THROW_CCE();
          tmp1__anonymous__uwfjfc.v1k(closed);
        } else {
          var tmp_2 = _get_holder__f6h5pd(tmp0_forEachReversed);
          var list = tmp_2 instanceof ArrayList ? tmp_2 : THROW_CCE();
          var inductionVariable = list.m() - 1 | 0;
          if (0 <= inductionVariable)
            do {
              var i = inductionVariable;
              inductionVariable = inductionVariable + -1 | 0;
              {
                var tmp2__anonymous__z9zvc9 = list.r(i);
                tmp2__anonymous__z9zvc9.v1k(closed);
              }
            }
             while (0 <= inductionVariable);
        }
      }
    }
    $this.b1m(closed);
  }
  function _get_queueDebugStateString__k7jj75($this) {
    var tmp$ret$0;
    {
      var tmp0__get_nextNode__vg4li4 = $this.a1j_1;
      tmp$ret$0 = tmp0__get_nextNode__vg4li4.d1b_1;
    }
    var head = tmp$ret$0;
    if (head === $this.a1j_1)
      return 'EmptyQueue';
    var tmp0_subject = head;
    var tmp;
    if (tmp0_subject instanceof Closed) {
      tmp = toString_0(head);
    } else {
      if (tmp0_subject instanceof Receive) {
        tmp = 'ReceiveQueued';
      } else {
        if (tmp0_subject instanceof Send) {
          tmp = 'SendQueued';
        } else {
          tmp = 'UNEXPECTED:' + head;
        }
      }
    }
    var result = tmp;
    var tmp$ret$1;
    {
      var tmp1__get_prevNode__b1i0ed = $this.a1j_1;
      tmp$ret$1 = tmp1__get_prevNode__b1i0ed.e1b_1;
    }
    var tail = tmp$ret$1;
    if (!(tail === head)) {
      result = result + (',queueSize=' + countQueueSize($this));
      if (tail instanceof Closed)
        result = result + (',closedForSend=' + tail);
    }
    return result;
  }
  function countQueueSize($this) {
    var size = 0;
    {
      var tmp0_forEach = $this.a1j_1;
      var cur = tmp0_forEach.t1e();
      while (!equals(cur, tmp0_forEach)) {
        if (cur instanceof LinkedListNode) {
          var tmp1__anonymous__uwfjfc = cur;
          var tmp0 = size;
          size = tmp0 + 1 | 0;
        }
        cur = cur.d1b_1;
      }
    }
    return size;
  }
  function SendBuffered(element) {
    Send.call(this);
    this.h1m_1 = element;
  }
  SendBuffered.prototype.p1l = function () {
    return this.h1m_1;
  };
  SendBuffered.prototype.q1j = function (otherOp) {
    var tmp$ret$0;
    {
      var tmp0_also = get_RESUME_TOKEN();
      {
      }
      {
        var tmp0_safe_receiver = otherOp;
        if (tmp0_safe_receiver == null)
          null;
        else {
          tmp0_safe_receiver.t1k();
        }
      }
      tmp$ret$0 = tmp0_also;
    }
    return tmp$ret$0;
  };
  SendBuffered.prototype.o1l = function () {
  };
  SendBuffered.prototype.toString = function () {
    return 'SendBuffered@' + get_hexAddress(this) + '(' + this.h1m_1 + ')';
  };
  SendBuffered.$metadata$ = classMeta('SendBuffered', undefined, undefined, undefined, undefined, Send.prototype);
  function AbstractSendChannel(onUndeliveredElement) {
    this.z1i_1 = onUndeliveredElement;
    this.a1j_1 = new LinkedListHead();
    this.b1j_1 = atomic$ref$1(null);
  }
  AbstractSendChannel.prototype.c1j = function () {
    return this.z1i_1;
  };
  AbstractSendChannel.prototype.t1l = function () {
    return this.a1j_1;
  };
  AbstractSendChannel.prototype.y1l = function (element) {
    while (true) {
      var tmp0_elvis_lhs = this.v1l();
      var tmp;
      if (tmp0_elvis_lhs == null) {
        return get_OFFER_FAILED();
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var receive = tmp;
      var token = receive.r1k(element, null);
      if (!(token == null)) {
        {
        }
        receive.u1k(element);
        return receive.z1k();
      }
    }
  };
  AbstractSendChannel.prototype.i1m = function () {
    var tmp$ret$0;
    {
      var tmp0__get_prevNode__2ljhpg = this.a1j_1;
      tmp$ret$0 = tmp0__get_prevNode__2ljhpg.e1b_1;
    }
    var tmp = tmp$ret$0;
    var tmp0_safe_receiver = tmp instanceof Closed ? tmp : null;
    var tmp_0;
    if (tmp0_safe_receiver == null) {
      tmp_0 = null;
    } else {
      var tmp$ret$1;
      {
        {
        }
        {
          helpClose(this, tmp0_safe_receiver);
        }
        tmp$ret$1 = tmp0_safe_receiver;
      }
      tmp_0 = tmp$ret$1;
    }
    return tmp_0;
  };
  AbstractSendChannel.prototype.n1l = function () {
    var tmp$ret$0;
    $l$block_1: {
      var tmp1_removeFirstIfIsInstanceOfOrPeekIf = this.a1j_1;
      var next = tmp1_removeFirstIfIsInstanceOfOrPeekIf.d1b_1;
      if (next === tmp1_removeFirstIfIsInstanceOfOrPeekIf) {
        tmp$ret$0 = null;
        break $l$block_1;
      }
      if (!(next instanceof Send)) {
        tmp$ret$0 = null;
        break $l$block_1;
      }
      var tmp$ret$1;
      {
        var tmp2__anonymous__z9zvc9 = next;
        tmp$ret$1 = tmp2__anonymous__z9zvc9 instanceof Closed;
      }
      if (tmp$ret$1) {
        tmp$ret$0 = next;
        break $l$block_1;
      }
      {
        var tmp0_check = next.b1f();
        {
        }
        if (!tmp0_check) {
          var tmp$ret$2;
          {
            tmp$ret$2 = 'Should remove';
          }
          var message = tmp$ret$2;
          throw IllegalStateException_init_$Create$(toString_0(message));
        }
      }
      tmp$ret$0 = next;
    }
    return tmp$ret$0;
  };
  AbstractSendChannel.prototype.j1m = function (element) {
    var tmp$ret$1;
    $l$block: {
      var tmp0_addLastIfPrev = this.a1j_1;
      var tmp1_addLastIfPrev = new SendBuffered(element);
      var tmp$ret$0;
      {
        var tmp2__anonymous__z9zvc9 = tmp0_addLastIfPrev.e1b_1;
        if (isInterface(tmp2__anonymous__z9zvc9, ReceiveOrClosed))
          return tmp2__anonymous__z9zvc9;
        tmp$ret$0 = true;
      }
      if (!tmp$ret$0) {
        tmp$ret$1 = false;
        break $l$block;
      }
      tmp0_addLastIfPrev.a1f(tmp1_addLastIfPrev);
      tmp$ret$1 = true;
    }
    return null;
  };
  AbstractSendChannel.prototype.z1l = function (element, $cont) {
    if (this.y1l(element) === get_OFFER_SUCCESS())
      return Unit_getInstance();
    return sendSuspend(this, element, $cont);
  };
  AbstractSendChannel.prototype.a1m = function (send) {
    if (this.w1l()) {
      var tmp$ret$1;
      $l$block: {
        var tmp0_addLastIfPrev = this.a1j_1;
        var tmp$ret$0;
        {
          var tmp1__anonymous__uwfjfc = tmp0_addLastIfPrev.e1b_1;
          if (isInterface(tmp1__anonymous__uwfjfc, ReceiveOrClosed))
            return tmp1__anonymous__uwfjfc;
          tmp$ret$0 = true;
        }
        if (!tmp$ret$0) {
          tmp$ret$1 = false;
          break $l$block;
        }
        tmp0_addLastIfPrev.a1f(send);
        tmp$ret$1 = true;
      }
    } else {
      var tmp$ret$3;
      $l$block_1: {
        var tmp2_addLastIfPrevAndIf = this.a1j_1;
        var tmp$ret$2;
        {
          var tmp3__anonymous__ufb84q = tmp2_addLastIfPrevAndIf.e1b_1;
          if (isInterface(tmp3__anonymous__ufb84q, ReceiveOrClosed))
            return tmp3__anonymous__ufb84q;
          tmp$ret$2 = true;
        }
        if (!tmp$ret$2) {
          tmp$ret$3 = false;
          break $l$block_1;
        }
        var tmp$ret$4;
        {
          tmp$ret$4 = this.x1l();
        }
        if (!tmp$ret$4) {
          tmp$ret$3 = false;
          break $l$block_1;
        }
        tmp2_addLastIfPrevAndIf.a1f(send);
        tmp$ret$3 = true;
      }
      if (!tmp$ret$3)
        return get_ENQUEUE_FAILED();
    }
    return null;
  };
  AbstractSendChannel.prototype.b1m = function (closed) {
  };
  AbstractSendChannel.prototype.v1l = function () {
    var tmp$ret$0;
    $l$block_1: {
      var tmp1_removeFirstIfIsInstanceOfOrPeekIf = this.a1j_1;
      var next = tmp1_removeFirstIfIsInstanceOfOrPeekIf.d1b_1;
      if (next === tmp1_removeFirstIfIsInstanceOfOrPeekIf) {
        tmp$ret$0 = null;
        break $l$block_1;
      }
      if (!isInterface(next, ReceiveOrClosed)) {
        tmp$ret$0 = null;
        break $l$block_1;
      }
      var tmp$ret$1;
      {
        var tmp2__anonymous__z9zvc9 = next;
        tmp$ret$1 = tmp2__anonymous__z9zvc9 instanceof Closed;
      }
      if (tmp$ret$1) {
        tmp$ret$0 = next;
        break $l$block_1;
      }
      {
        var tmp0_check = next.b1f();
        {
        }
        if (!tmp0_check) {
          var tmp$ret$2;
          {
            tmp$ret$2 = 'Should remove';
          }
          var message = tmp$ret$2;
          throw IllegalStateException_init_$Create$(toString_0(message));
        }
      }
      tmp$ret$0 = next;
    }
    return tmp$ret$0;
  };
  AbstractSendChannel.prototype.toString = function () {
    return get_classSimpleName(this) + '@' + get_hexAddress(this) + '{' + _get_queueDebugStateString__k7jj75(this) + '}' + this.c1m();
  };
  AbstractSendChannel.prototype.c1m = function () {
    return '';
  };
  AbstractSendChannel.$metadata$ = classMeta('AbstractSendChannel', [SendChannel]);
  function Send() {
    LinkedListNode.call(this);
  }
  Send.prototype.q1l = function () {
  };
  Send.$metadata$ = classMeta('Send', undefined, undefined, undefined, undefined, LinkedListNode.prototype);
  function ReceiveOrClosed() {
  }
  ReceiveOrClosed.$metadata$ = interfaceMeta('ReceiveOrClosed');
  function Closed() {
  }
  Closed.prototype.k1m = function () {
    return this.r1i_1;
  };
  Closed.prototype.d1m = function () {
    var tmp0_elvis_lhs = this.r1i_1;
    return tmp0_elvis_lhs == null ? new ClosedSendChannelException(get_DEFAULT_CLOSE_MESSAGE()) : tmp0_elvis_lhs;
  };
  Closed.prototype.s1i = function () {
    var tmp0_elvis_lhs = this.r1i_1;
    return tmp0_elvis_lhs == null ? new ClosedReceiveChannelException(get_DEFAULT_CLOSE_MESSAGE()) : tmp0_elvis_lhs;
  };
  Closed.$metadata$ = classMeta('Closed', [ReceiveOrClosed], undefined, undefined, undefined, Send.prototype);
  function Receive() {
    LinkedListNode.call(this);
  }
  Receive.prototype.z1k = function () {
    return get_OFFER_SUCCESS();
  };
  Receive.$metadata$ = classMeta('Receive', [ReceiveOrClosed], undefined, undefined, undefined, LinkedListNode.prototype);
  function toResult(_this__u8e3s4) {
    init_properties_AbstractChannel_kt_mjk5bh();
    var tmp;
    if (_this__u8e3s4 instanceof Closed) {
      tmp = Companion_getInstance_1().f1k(_this__u8e3s4.r1i_1);
    } else {
      var tmp_0 = Companion_getInstance_1();
      tmp = tmp_0.e1k((_this__u8e3s4 == null ? true : isObject(_this__u8e3s4)) ? _this__u8e3s4 : THROW_CCE());
    }
    return tmp;
  }
  function SendElement(pollResult, cont) {
    Send.call(this);
    this.o1m_1 = pollResult;
    this.p1m_1 = cont;
  }
  SendElement.prototype.p1l = function () {
    return this.o1m_1;
  };
  SendElement.prototype.q1m = function () {
    return this.p1m_1;
  };
  SendElement.prototype.q1j = function (otherOp) {
    var tmp0_safe_receiver = otherOp;
    var tmp1_elvis_lhs = this.p1m_1.d1a(Unit_getInstance(), tmp0_safe_receiver == null ? null : tmp0_safe_receiver.l1j_1);
    var tmp;
    if (tmp1_elvis_lhs == null) {
      return null;
    } else {
      tmp = tmp1_elvis_lhs;
    }
    var token = tmp;
    {
    }
    var tmp2_safe_receiver = otherOp;
    if (tmp2_safe_receiver == null)
      null;
    else {
      tmp2_safe_receiver.t1k();
    }
    return get_RESUME_TOKEN();
  };
  SendElement.prototype.o1l = function () {
    return this.p1m_1.h1a(get_RESUME_TOKEN());
  };
  SendElement.prototype.toString = function () {
    return get_classSimpleName(this) + '@' + get_hexAddress(this) + '(' + this.p1l() + ')';
  };
  SendElement.$metadata$ = classMeta('SendElement', undefined, undefined, undefined, undefined, Send.prototype);
  function SendElementWithUndeliveredHandler(pollResult, cont, onUndeliveredElement) {
    SendElement.call(this, pollResult, cont);
    this.w1m_1 = onUndeliveredElement;
  }
  SendElementWithUndeliveredHandler.prototype.g1b = function () {
    if (!SendElement.prototype.g1b.call(this))
      return false;
    this.q1l();
    return true;
  };
  SendElementWithUndeliveredHandler.prototype.q1l = function () {
    callUndeliveredElement(this.w1m_1, this.p1l(), this.q1m().s4());
  };
  SendElementWithUndeliveredHandler.$metadata$ = classMeta('SendElementWithUndeliveredHandler', undefined, undefined, undefined, undefined, SendElement.prototype);
  var properties_initialized_AbstractChannel_kt_uwqnpt;
  function init_properties_AbstractChannel_kt_mjk5bh() {
    if (properties_initialized_AbstractChannel_kt_uwqnpt) {
    } else {
      properties_initialized_AbstractChannel_kt_uwqnpt = true;
      EMPTY = new Symbol('EMPTY');
      OFFER_SUCCESS = new Symbol('OFFER_SUCCESS');
      OFFER_FAILED = new Symbol('OFFER_FAILED');
      POLL_FAILED = new Symbol('POLL_FAILED');
      ENQUEUE_FAILED = new Symbol('ENQUEUE_FAILED');
      HANDLER_INVOKED = new Symbol('ON_CLOSE_HANDLER_INVOKED');
    }
  }
  function updateBufferSize($this, currentSize) {
    if (currentSize < $this.a1n_1) {
      $this.f1n_1.a17_1 = currentSize + 1 | 0;
      return null;
    }
    var tmp0_subject = $this.b1n_1;
    var tmp0 = tmp0_subject.w1();
    var tmp;
    switch (tmp0) {
      case 0:
        tmp = get_OFFER_FAILED();
        break;
      case 2:
        tmp = get_OFFER_SUCCESS();
        break;
      case 1:
        tmp = null;
        break;
      default:
        noWhenBranchMatchedException();
        break;
    }
    return tmp;
  }
  function enqueueElement($this, currentSize, element) {
    if (currentSize < $this.a1n_1) {
      ensureCapacity($this, currentSize);
      $this.d1n_1[($this.e1n_1 + currentSize | 0) % $this.d1n_1.length | 0] = element;
    } else {
      {
      }
      $this.d1n_1[$this.e1n_1 % $this.d1n_1.length | 0] = null;
      $this.d1n_1[($this.e1n_1 + currentSize | 0) % $this.d1n_1.length | 0] = element;
      $this.e1n_1 = ($this.e1n_1 + 1 | 0) % $this.d1n_1.length | 0;
    }
  }
  function ensureCapacity($this, currentSize) {
    if (currentSize >= $this.d1n_1.length) {
      var tmp$ret$0;
      {
        var tmp0_min = imul($this.d1n_1.length, 2);
        var tmp1_min = $this.a1n_1;
        tmp$ret$0 = Math.min(tmp0_min, tmp1_min);
      }
      var newSize = tmp$ret$0;
      var tmp$ret$1;
      {
        tmp$ret$1 = fillArrayVal(Array(newSize), null);
      }
      var newBuffer = tmp$ret$1;
      var inductionVariable = 0;
      if (inductionVariable < currentSize)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          newBuffer[i] = $this.d1n_1[($this.e1n_1 + i | 0) % $this.d1n_1.length | 0];
        }
         while (inductionVariable < currentSize);
      fill(newBuffer, get_EMPTY(), currentSize, newSize);
      $this.d1n_1 = newBuffer;
      $this.e1n_1 = 0;
    }
  }
  function ArrayChannel(capacity, onBufferOverflow, onUndeliveredElement) {
    AbstractChannel.call(this, onUndeliveredElement);
    this.a1n_1 = capacity;
    this.b1n_1 = onBufferOverflow;
    {
      var tmp0_require = this.a1n_1 >= 1;
      {
      }
      if (!tmp0_require) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'ArrayChannel capacity must be at least 1, but ' + this.a1n_1 + ' was specified';
        }
        var message = tmp$ret$0;
        throw IllegalArgumentException_init_$Create$(toString_0(message));
      }
    }
    this.c1n_1 = new NoOpLock();
    var tmp = this;
    var tmp$ret$3;
    {
      var tmp$ret$2;
      {
        var tmp$ret$1;
        {
          var tmp0_min = this.a1n_1;
          tmp$ret$1 = Math.min(tmp0_min, 8);
        }
        var tmp1_arrayOfNulls = tmp$ret$1;
        tmp$ret$2 = fillArrayVal(Array(tmp1_arrayOfNulls), null);
      }
      var tmp2_apply = tmp$ret$2;
      {
      }
      {
        var tmp_0 = get_EMPTY();
        fill$default(tmp2_apply, tmp_0, 0, 0, 6, null);
      }
      tmp$ret$3 = tmp2_apply;
    }
    tmp.d1n_1 = tmp$ret$3;
    this.e1n_1 = 0;
    this.f1n_1 = atomic$int$1(0);
  }
  ArrayChannel.prototype.l1l = function () {
    return false;
  };
  ArrayChannel.prototype.m1l = function () {
    return this.f1n_1.a17_1 === 0;
  };
  ArrayChannel.prototype.w1l = function () {
    return false;
  };
  ArrayChannel.prototype.x1l = function () {
    return this.f1n_1.a17_1 === this.a1n_1 ? this.b1n_1.equals(BufferOverflow_SUSPEND_getInstance()) : false;
  };
  ArrayChannel.prototype.y1l = function (element) {
    var receive = null;
    var tmp$ret$3;
    {
      var tmp0_withLock = this.c1n_1;
      var tmp$ret$2;
      $l$block: {
        var size = this.f1n_1.a17_1;
        var tmp0_safe_receiver = this.i1m();
        if (tmp0_safe_receiver == null)
          null;
        else {
          var tmp$ret$0;
          {
            {
            }
            return tmp0_safe_receiver;
          }
        }
        var tmp1_safe_receiver = updateBufferSize(this, size);
        if (tmp1_safe_receiver == null)
          null;
        else {
          var tmp$ret$1;
          {
            {
            }
            return tmp1_safe_receiver;
          }
        }
        if (size === 0) {
          loop: while (true) {
            var tmp2_elvis_lhs = this.v1l();
            var tmp;
            if (tmp2_elvis_lhs == null) {
              break loop;
            } else {
              tmp = tmp2_elvis_lhs;
            }
            receive = tmp;
            if (receive instanceof Closed) {
              this.f1n_1.a17_1 = size;
              return ensureNotNull(receive);
            }
            var token = ensureNotNull(receive).r1k(element, null);
            if (!(token == null)) {
              {
              }
              this.f1n_1.a17_1 = size;
              tmp$ret$2 = Unit_getInstance();
              break $l$block;
            }
          }
        }
        enqueueElement(this, size, element);
        return get_OFFER_SUCCESS();
      }
      tmp$ret$3 = tmp$ret$2;
    }
    ensureNotNull(receive).u1k(element);
    return ensureNotNull(receive).z1k();
  };
  ArrayChannel.prototype.a1m = function (send) {
    var tmp$ret$1;
    {
      var tmp0_withLock = this.c1n_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = AbstractChannel.prototype.a1m.call(this, send);
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1;
  };
  ArrayChannel.prototype.y1i = function () {
    var send = null;
    var resumed = false;
    var result = null;
    var tmp$ret$0;
    {
      var tmp0_withLock = this.c1n_1;
      var size = this.f1n_1.a17_1;
      if (size === 0) {
        var tmp0_elvis_lhs = this.i1m();
        return tmp0_elvis_lhs == null ? get_POLL_FAILED() : tmp0_elvis_lhs;
      }
      result = this.d1n_1[this.e1n_1];
      this.d1n_1[this.e1n_1] = null;
      this.f1n_1.a17_1 = size - 1 | 0;
      var replacement = get_POLL_FAILED();
      if (size === this.a1n_1) {
        loop: while (true) {
          var tmp1_elvis_lhs = this.n1l();
          var tmp;
          if (tmp1_elvis_lhs == null) {
            break loop;
          } else {
            tmp = tmp1_elvis_lhs;
          }
          send = tmp;
          var token = ensureNotNull(send).q1j(null);
          if (!(token == null)) {
            {
            }
            resumed = true;
            replacement = ensureNotNull(send).p1l();
            break loop;
          }
          ensureNotNull(send).q1l();
        }
      }
      var tmp_0;
      if (!(replacement === get_POLL_FAILED())) {
        tmp_0 = !(replacement instanceof Closed);
      } else {
        tmp_0 = false;
      }
      if (tmp_0) {
        this.f1n_1.a17_1 = size;
        this.d1n_1[(this.e1n_1 + size | 0) % this.d1n_1.length | 0] = replacement;
      }
      this.e1n_1 = (this.e1n_1 + 1 | 0) % this.d1n_1.length | 0;
      tmp$ret$0 = Unit_getInstance();
    }
    if (resumed)
      ensureNotNull(send).o1l();
    return result;
  };
  ArrayChannel.prototype.b1k = function (select) {
    var send = null;
    var success = false;
    var result = null;
    var tmp$ret$0;
    {
      var tmp0_withLock = this.c1n_1;
      var size = this.f1n_1.a17_1;
      if (size === 0) {
        var tmp0_elvis_lhs = this.i1m();
        return tmp0_elvis_lhs == null ? get_POLL_FAILED() : tmp0_elvis_lhs;
      }
      result = this.d1n_1[this.e1n_1];
      this.d1n_1[this.e1n_1] = null;
      this.f1n_1.a17_1 = size - 1 | 0;
      var replacement = get_POLL_FAILED();
      if (size === this.a1n_1) {
        loop: while (true) {
          var pollOp = this.r1l();
          var failure = select.s1l(pollOp);
          if (failure == null) {
            send = pollOp.u1j();
            success = true;
            replacement = ensureNotNull(send).p1l();
            break loop;
          } else {
            if (failure === get_POLL_FAILED())
              break loop;
            else {
              if (failure === get_RETRY_ATOMIC()) {
              } else {
                if (failure === get_ALREADY_SELECTED()) {
                  this.f1n_1.a17_1 = size;
                  this.d1n_1[this.e1n_1] = result;
                  return failure;
                } else {
                  if (failure instanceof Closed) {
                    send = failure;
                    success = true;
                    replacement = failure;
                    break loop;
                  } else {
                    var tmp0_error = 'performAtomicTrySelect(describeTryOffer) returned ' + toString(failure);
                    throw IllegalStateException_init_$Create$(toString_0(tmp0_error));
                  }
                }
              }
            }
          }
        }
      }
      var tmp;
      if (!(replacement === get_POLL_FAILED())) {
        tmp = !(replacement instanceof Closed);
      } else {
        tmp = false;
      }
      if (tmp) {
        this.f1n_1.a17_1 = size;
        this.d1n_1[(this.e1n_1 + size | 0) % this.d1n_1.length | 0] = replacement;
      } else {
        if (!select.w1g()) {
          this.f1n_1.a17_1 = size;
          this.d1n_1[this.e1n_1] = result;
          return get_ALREADY_SELECTED();
        }
      }
      this.e1n_1 = (this.e1n_1 + 1 | 0) % this.d1n_1.length | 0;
      tmp$ret$0 = Unit_getInstance();
    }
    if (success)
      ensureNotNull(send).o1l();
    return result;
  };
  ArrayChannel.prototype.d1j = function (receive) {
    var tmp$ret$1;
    {
      var tmp0_withLock = this.c1n_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = AbstractChannel.prototype.d1j.call(this, receive);
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1;
  };
  ArrayChannel.prototype.c1m = function () {
    return '(buffer:capacity=' + this.a1n_1 + ',size=' + this.f1n_1.a17_1 + ')';
  };
  ArrayChannel.$metadata$ = classMeta('ArrayChannel', undefined, undefined, undefined, undefined, AbstractChannel.prototype);
  var BufferOverflow_SUSPEND_instance;
  var BufferOverflow_DROP_OLDEST_instance;
  var BufferOverflow_DROP_LATEST_instance;
  var BufferOverflow_entriesInitialized;
  function BufferOverflow_initEntries() {
    if (BufferOverflow_entriesInitialized)
      return Unit_getInstance();
    BufferOverflow_entriesInitialized = true;
    BufferOverflow_SUSPEND_instance = new BufferOverflow('SUSPEND', 0);
    BufferOverflow_DROP_OLDEST_instance = new BufferOverflow('DROP_OLDEST', 1);
    BufferOverflow_DROP_LATEST_instance = new BufferOverflow('DROP_LATEST', 2);
  }
  function BufferOverflow(name, ordinal) {
    Enum.call(this, name, ordinal);
  }
  BufferOverflow.$metadata$ = classMeta('BufferOverflow', undefined, undefined, undefined, undefined, Enum.prototype);
  function BufferOverflow_SUSPEND_getInstance() {
    BufferOverflow_initEntries();
    return BufferOverflow_SUSPEND_instance;
  }
  function BufferOverflow_DROP_OLDEST_getInstance() {
    BufferOverflow_initEntries();
    return BufferOverflow_DROP_OLDEST_instance;
  }
  function Factory() {
    Factory_instance = this;
    this.g1n_1 = 2147483647;
    this.h1n_1 = 0;
    this.i1n_1 = -1;
    this.j1n_1 = -2;
    this.k1n_1 = -3;
    this.l1n_1 = 'kotlinx.coroutines.channels.defaultBuffer';
    this.m1n_1 = systemProp('kotlinx.coroutines.channels.defaultBuffer', 64, 1, 2147483646);
  }
  Factory.$metadata$ = objectMeta('Factory');
  var Factory_instance;
  function Factory_getInstance() {
    if (Factory_instance == null)
      new Factory();
    return Factory_instance;
  }
  function Channel() {
  }
  Channel.$metadata$ = interfaceMeta('Channel', [SendChannel, ReceiveChannel]);
  function Channel_0(capacity, onBufferOverflow, onUndeliveredElement) {
    var tmp0_subject = capacity;
    var tmp;
    Factory_getInstance();
    if (tmp0_subject === 0) {
      tmp = onBufferOverflow.equals(BufferOverflow_SUSPEND_getInstance()) ? new RendezvousChannel(onUndeliveredElement) : new ArrayChannel(1, onBufferOverflow, onUndeliveredElement);
    } else {
      Factory_getInstance();
      if (tmp0_subject === -1) {
        {
          var tmp0_require = onBufferOverflow.equals(BufferOverflow_SUSPEND_getInstance());
          {
          }
          if (!tmp0_require) {
            var tmp$ret$0;
            {
              tmp$ret$0 = 'CONFLATED capacity cannot be used with non-default onBufferOverflow';
            }
            var message = tmp$ret$0;
            throw IllegalArgumentException_init_$Create$(toString_0(message));
          }
        }
        tmp = new ConflatedChannel(onUndeliveredElement);
      } else {
        Factory_getInstance();
        if (tmp0_subject === 2147483647) {
          tmp = new LinkedListChannel(onUndeliveredElement);
        } else {
          Factory_getInstance();
          if (tmp0_subject === -2) {
            tmp = new ArrayChannel(onBufferOverflow.equals(BufferOverflow_SUSPEND_getInstance()) ? Factory_getInstance().m1n_1 : 1, onBufferOverflow, onUndeliveredElement);
          } else {
            tmp = (capacity === 1 ? onBufferOverflow.equals(BufferOverflow_DROP_OLDEST_getInstance()) : false) ? new ConflatedChannel(onUndeliveredElement) : new ArrayChannel(capacity, onBufferOverflow, onUndeliveredElement);
          }
        }
      }
    }
    return tmp;
  }
  function Channel$default(capacity, onBufferOverflow, onUndeliveredElement, $mask0, $handler) {
    if (!(($mask0 & 1) === 0)) {
      Factory_getInstance();
      capacity = 0;
    }
    if (!(($mask0 & 2) === 0))
      onBufferOverflow = BufferOverflow_SUSPEND_getInstance();
    if (!(($mask0 & 4) === 0))
      onUndeliveredElement = null;
    return Channel_0(capacity, onBufferOverflow, onUndeliveredElement);
  }
  function ReceiveChannel() {
  }
  ReceiveChannel.$metadata$ = interfaceMeta('ReceiveChannel');
  function SendChannel() {
  }
  SendChannel.$metadata$ = interfaceMeta('SendChannel');
  function ChannelIterator() {
  }
  ChannelIterator.$metadata$ = interfaceMeta('ChannelIterator');
  function _ChannelResult___init__impl__siwsuf(holder) {
    return holder;
  }
  function _ChannelResult___get_holder__impl__pm9gzw($this) {
    return $this;
  }
  function Failed() {
  }
  Failed.prototype.toString = function () {
    return 'Failed';
  };
  Failed.$metadata$ = classMeta('Failed');
  function Closed_0(cause) {
    Failed.call(this);
    this.n1n_1 = cause;
  }
  Closed_0.prototype.equals = function (other) {
    var tmp;
    if (other instanceof Closed_0) {
      tmp = equals(this.n1n_1, other.n1n_1);
    } else {
      tmp = false;
    }
    return tmp;
  };
  Closed_0.prototype.hashCode = function () {
    var tmp$ret$0;
    {
      var tmp0_hashCode = this.n1n_1;
      var tmp0_safe_receiver = tmp0_hashCode;
      var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : hashCode(tmp0_safe_receiver);
      tmp$ret$0 = tmp1_elvis_lhs == null ? 0 : tmp1_elvis_lhs;
    }
    return tmp$ret$0;
  };
  Closed_0.prototype.toString = function () {
    return 'Closed(' + this.n1n_1 + ')';
  };
  Closed_0.$metadata$ = classMeta('Closed', undefined, undefined, undefined, undefined, Failed.prototype);
  function Companion() {
    Companion_instance = this;
    this.d1k_1 = new Failed();
  }
  Companion.prototype.e1k = function (value) {
    return _ChannelResult___init__impl__siwsuf(value);
  };
  Companion.prototype.f1k = function (cause) {
    return _ChannelResult___init__impl__siwsuf(new Closed_0(cause));
  };
  Companion.$metadata$ = objectMeta('Companion');
  var Companion_instance;
  function Companion_getInstance_1() {
    if (Companion_instance == null)
      new Companion();
    return Companion_instance;
  }
  function ChannelResult__toString_impl_rrcqu7($this) {
    var tmp0_subject = _ChannelResult___get_holder__impl__pm9gzw($this);
    var tmp;
    if (tmp0_subject instanceof Closed_0) {
      tmp = toString_0(_ChannelResult___get_holder__impl__pm9gzw($this));
    } else {
      tmp = 'Value(' + toString(_ChannelResult___get_holder__impl__pm9gzw($this)) + ')';
    }
    return tmp;
  }
  function ChannelResult__hashCode_impl_lilec2($this) {
    return $this == null ? 0 : hashCode($this);
  }
  function ChannelResult__equals_impl_f471ri($this, other) {
    if (!(other instanceof ChannelResult))
      return false;
    var tmp0_other_with_cast = other instanceof ChannelResult ? other.o1n_1 : THROW_CCE();
    if (!equals($this, tmp0_other_with_cast))
      return false;
    return true;
  }
  function ChannelResult(holder) {
    Companion_getInstance_1();
    this.o1n_1 = holder;
  }
  ChannelResult.prototype.toString = function () {
    return ChannelResult__toString_impl_rrcqu7(this.o1n_1);
  };
  ChannelResult.prototype.hashCode = function () {
    return ChannelResult__hashCode_impl_lilec2(this.o1n_1);
  };
  ChannelResult.prototype.equals = function (other) {
    return ChannelResult__equals_impl_f471ri(this.o1n_1, other);
  };
  ChannelResult.$metadata$ = classMeta('ChannelResult');
  function ClosedReceiveChannelException(message) {
    NoSuchElementException_init_$Init$(message, this);
    captureStack(this, ClosedReceiveChannelException);
  }
  ClosedReceiveChannelException.$metadata$ = classMeta('ClosedReceiveChannelException', undefined, undefined, undefined, undefined, NoSuchElementException.prototype);
  function ClosedSendChannelException(message) {
    IllegalStateException_init_$Init$(message, this);
    captureStack(this, ClosedSendChannelException);
  }
  ClosedSendChannelException.$metadata$ = classMeta('ClosedSendChannelException', undefined, undefined, undefined, undefined, IllegalStateException.prototype);
  function get_DEFAULT_CLOSE_MESSAGE() {
    return DEFAULT_CLOSE_MESSAGE;
  }
  var DEFAULT_CLOSE_MESSAGE;
  function updateValueLocked($this, element) {
    var old = $this.t1n_1;
    var tmp;
    if (old === get_EMPTY()) {
      tmp = null;
    } else {
      var tmp0_safe_receiver = $this.c1j();
      var tmp_0;
      if (tmp0_safe_receiver == null) {
        tmp_0 = null;
      } else {
        var tmp_1 = (old == null ? true : isObject(old)) ? old : THROW_CCE();
        tmp_0 = callUndeliveredElementCatchingException$default(tmp0_safe_receiver, tmp_1, null, 2, null);
      }
      tmp = tmp_0;
    }
    var undeliveredElementException = tmp;
    $this.t1n_1 = element;
    return undeliveredElementException;
  }
  function ConflatedChannel(onUndeliveredElement) {
    AbstractChannel.call(this, onUndeliveredElement);
    this.s1n_1 = new NoOpLock();
    this.t1n_1 = get_EMPTY();
  }
  ConflatedChannel.prototype.l1l = function () {
    return false;
  };
  ConflatedChannel.prototype.m1l = function () {
    var tmp$ret$1;
    {
      var tmp0_withLock = this.s1n_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = this.t1n_1 === get_EMPTY();
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1;
  };
  ConflatedChannel.prototype.w1l = function () {
    return false;
  };
  ConflatedChannel.prototype.x1l = function () {
    return false;
  };
  ConflatedChannel.prototype.y1l = function (element) {
    var receive = null;
    var tmp$ret$3;
    {
      var tmp0_withLock = this.s1n_1;
      var tmp$ret$1;
      $l$block: {
        var tmp0_safe_receiver = this.i1m();
        if (tmp0_safe_receiver == null)
          null;
        else {
          var tmp$ret$0;
          {
            {
            }
            return tmp0_safe_receiver;
          }
        }
        if (this.t1n_1 === get_EMPTY()) {
          loop: while (true) {
            var tmp1_elvis_lhs = this.v1l();
            var tmp;
            if (tmp1_elvis_lhs == null) {
              break loop;
            } else {
              tmp = tmp1_elvis_lhs;
            }
            receive = tmp;
            if (receive instanceof Closed) {
              return ensureNotNull(receive);
            }
            var token = ensureNotNull(receive).r1k(element, null);
            if (!(token == null)) {
              {
              }
              tmp$ret$1 = Unit_getInstance();
              break $l$block;
            }
          }
        }
        var tmp2_safe_receiver = updateValueLocked(this, element);
        if (tmp2_safe_receiver == null)
          null;
        else {
          var tmp$ret$2;
          {
            {
            }
            throw tmp2_safe_receiver;
          }
        }
        return get_OFFER_SUCCESS();
      }
      tmp$ret$3 = tmp$ret$1;
    }
    ensureNotNull(receive).u1k(element);
    return ensureNotNull(receive).z1k();
  };
  ConflatedChannel.prototype.y1i = function () {
    var result = null;
    var tmp$ret$0;
    {
      var tmp0_withLock = this.s1n_1;
      if (this.t1n_1 === get_EMPTY()) {
        var tmp0_elvis_lhs = this.i1m();
        return tmp0_elvis_lhs == null ? get_POLL_FAILED() : tmp0_elvis_lhs;
      }
      result = this.t1n_1;
      this.t1n_1 = get_EMPTY();
      tmp$ret$0 = Unit_getInstance();
    }
    return result;
  };
  ConflatedChannel.prototype.b1k = function (select) {
    var result = null;
    var tmp$ret$0;
    {
      var tmp0_withLock = this.s1n_1;
      if (this.t1n_1 === get_EMPTY()) {
        var tmp0_elvis_lhs = this.i1m();
        return tmp0_elvis_lhs == null ? get_POLL_FAILED() : tmp0_elvis_lhs;
      }
      if (!select.w1g())
        return get_ALREADY_SELECTED();
      result = this.t1n_1;
      this.t1n_1 = get_EMPTY();
      tmp$ret$0 = Unit_getInstance();
    }
    return result;
  };
  ConflatedChannel.prototype.d1j = function (receive) {
    var tmp$ret$1;
    {
      var tmp0_withLock = this.s1n_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = AbstractChannel.prototype.d1j.call(this, receive);
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1;
  };
  ConflatedChannel.prototype.c1m = function () {
    var tmp$ret$1;
    {
      var tmp0_withLock = this.s1n_1;
      var tmp$ret$0;
      {
        tmp$ret$0 = '(value=' + toString(this.t1n_1) + ')';
      }
      tmp$ret$1 = tmp$ret$0;
    }
    return tmp$ret$1;
  };
  ConflatedChannel.$metadata$ = classMeta('ConflatedChannel', undefined, undefined, undefined, undefined, AbstractChannel.prototype);
  function LinkedListChannel(onUndeliveredElement) {
    AbstractChannel.call(this, onUndeliveredElement);
  }
  LinkedListChannel.prototype.l1l = function () {
    return true;
  };
  LinkedListChannel.prototype.m1l = function () {
    return true;
  };
  LinkedListChannel.prototype.w1l = function () {
    return false;
  };
  LinkedListChannel.prototype.x1l = function () {
    return false;
  };
  LinkedListChannel.prototype.y1l = function (element) {
    while (true) {
      var result = AbstractChannel.prototype.y1l.call(this, element);
      if (result === get_OFFER_SUCCESS())
        return get_OFFER_SUCCESS();
      else {
        if (result === get_OFFER_FAILED()) {
          var sendResult = this.j1m(element);
          if (sendResult == null)
            return get_OFFER_SUCCESS();
          else {
            if (sendResult instanceof Closed)
              return sendResult;
          }
        } else {
          if (result instanceof Closed)
            return result;
          else {
            var tmp0_error = 'Invalid offerInternal result ' + toString_0(result);
            throw IllegalStateException_init_$Create$(toString_0(tmp0_error));
          }
        }
      }
    }
  };
  LinkedListChannel.$metadata$ = classMeta('LinkedListChannel', undefined, undefined, undefined, undefined, AbstractChannel.prototype);
  function RendezvousChannel(onUndeliveredElement) {
    AbstractChannel.call(this, onUndeliveredElement);
  }
  RendezvousChannel.prototype.l1l = function () {
    return true;
  };
  RendezvousChannel.prototype.m1l = function () {
    return true;
  };
  RendezvousChannel.prototype.w1l = function () {
    return true;
  };
  RendezvousChannel.prototype.x1l = function () {
    return true;
  };
  RendezvousChannel.$metadata$ = classMeta('RendezvousChannel', undefined, undefined, undefined, undefined, AbstractChannel.prototype);
  function ensureCapacity_0($this) {
    var currentSize = $this.w1d_1.length;
    var newCapacity = currentSize << 1;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(newCapacity), null);
    }
    var newElements = tmp$ret$0;
    var tmp$ret$1;
    {
      var tmp0_copyInto = $this.w1d_1;
      var tmp1_copyInto = $this.x1d_1;
      var tmp2_copyInto = tmp0_copyInto.length;
      arrayCopy(tmp0_copyInto, newElements, 0, tmp1_copyInto, tmp2_copyInto);
      tmp$ret$1 = newElements;
    }
    var tmp$ret$2;
    {
      var tmp3_copyInto = $this.w1d_1;
      var tmp4_copyInto = $this.w1d_1.length - $this.x1d_1 | 0;
      var tmp5_copyInto = $this.x1d_1;
      arrayCopy(tmp3_copyInto, newElements, tmp4_copyInto, 0, tmp5_copyInto);
      tmp$ret$2 = newElements;
    }
    $this.w1d_1 = newElements;
    $this.x1d_1 = 0;
    $this.y1d_1 = currentSize;
  }
  function ArrayQueue() {
    var tmp = this;
    var tmp$ret$0;
    {
      tmp$ret$0 = fillArrayVal(Array(16), null);
    }
    tmp.w1d_1 = tmp$ret$0;
    this.x1d_1 = 0;
    this.y1d_1 = 0;
  }
  ArrayQueue.prototype.e1e = function () {
    return this.x1d_1 === this.y1d_1;
  };
  ArrayQueue.prototype.b1e = function (element) {
    this.w1d_1[this.y1d_1] = element;
    this.y1d_1 = (this.y1d_1 + 1 | 0) & (this.w1d_1.length - 1 | 0);
    if (this.y1d_1 === this.x1d_1)
      ensureCapacity_0(this);
  };
  ArrayQueue.prototype.z1d = function () {
    if (this.x1d_1 === this.y1d_1)
      return null;
    var element = this.w1d_1[this.x1d_1];
    this.w1d_1[this.x1d_1] = null;
    this.x1d_1 = (this.x1d_1 + 1 | 0) & (this.w1d_1.length - 1 | 0);
    return isObject(element) ? element : THROW_CCE();
  };
  ArrayQueue.$metadata$ = classMeta('ArrayQueue');
  function get_NO_DECISION() {
    init_properties_Atomic_kt_3h20tt();
    return NO_DECISION;
  }
  var NO_DECISION;
  function get_RETRY_ATOMIC() {
    init_properties_Atomic_kt_3h20tt();
    return RETRY_ATOMIC;
  }
  var RETRY_ATOMIC;
  function OpDescriptor() {
  }
  OpDescriptor.prototype.toString = function () {
    return get_classSimpleName(this) + '@' + get_hexAddress(this);
  };
  OpDescriptor.prototype.b1o = function (that) {
    var tmp0_elvis_lhs = this.a1o();
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return false;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var thisOp = tmp;
    var tmp1_elvis_lhs = that.a1o();
    var tmp_0;
    if (tmp1_elvis_lhs == null) {
      return false;
    } else {
      tmp_0 = tmp1_elvis_lhs;
    }
    var thatOp = tmp_0;
    return thisOp.d1o().k1(thatOp.d1o()) < 0;
  };
  OpDescriptor.$metadata$ = classMeta('OpDescriptor');
  function AtomicOp() {
    OpDescriptor.call(this);
    this.c1o_1 = atomic$ref$1(get_NO_DECISION());
  }
  AtomicOp.prototype.d1o = function () {
    return new Long(0, 0);
  };
  AtomicOp.prototype.a1o = function () {
    return this;
  };
  AtomicOp.prototype.e1o = function (decision) {
    {
    }
    var current = this.c1o_1.z16_1;
    if (!(current === get_NO_DECISION()))
      return current;
    if (this.c1o_1.atomicfu$compareAndSet(get_NO_DECISION(), decision))
      return decision;
    return this.c1o_1.z16_1;
  };
  AtomicOp.prototype.s1g = function (affected) {
    var decision = this.c1o_1.z16_1;
    if (decision === get_NO_DECISION()) {
      decision = this.e1o(this.f1o((affected == null ? true : isObject(affected)) ? affected : THROW_CCE()));
    }
    this.g1o((affected == null ? true : isObject(affected)) ? affected : THROW_CCE(), decision);
    return decision;
  };
  AtomicOp.$metadata$ = classMeta('AtomicOp', undefined, undefined, undefined, undefined, OpDescriptor.prototype);
  function AtomicDesc() {
  }
  AtomicDesc.$metadata$ = classMeta('AtomicDesc');
  var properties_initialized_Atomic_kt_vn225v;
  function init_properties_Atomic_kt_3h20tt() {
    if (properties_initialized_Atomic_kt_vn225v) {
    } else {
      properties_initialized_Atomic_kt_vn225v = true;
      NO_DECISION = new Symbol('NO_DECISION');
      RETRY_ATOMIC = new Symbol('RETRY_ATOMIC');
    }
  }
  function get_UNDEFINED() {
    init_properties_DispatchedContinuation_kt_s7rtw6();
    return UNDEFINED;
  }
  var UNDEFINED;
  function get_REUSABLE_CLAIMED() {
    init_properties_DispatchedContinuation_kt_s7rtw6();
    return REUSABLE_CLAIMED;
  }
  var REUSABLE_CLAIMED;
  function resumeCancellableWith(_this__u8e3s4, result, onCancellation) {
    init_properties_DispatchedContinuation_kt_s7rtw6();
    var tmp0_subject = _this__u8e3s4;
    var tmp;
    if (tmp0_subject instanceof DispatchedContinuation) {
      var tmp1_resumeCancellableWith = _this__u8e3s4;
      var state = toState_0(result, onCancellation);
      var tmp_0;
      if (tmp1_resumeCancellableWith.p1a_1.m1d(tmp1_resumeCancellableWith.s4())) {
        tmp1_resumeCancellableWith.r1a_1 = state;
        tmp1_resumeCancellableWith.i1o(get_MODE_CANCELLABLE());
        tmp_0 = tmp1_resumeCancellableWith.p1a_1.n1d(tmp1_resumeCancellableWith.s4(), tmp1_resumeCancellableWith);
      } else {
        var tmp$ret$0;
        $l$block: {
          var tmp0_executeUnconfined = get_MODE_CANCELLABLE();
          {
          }
          var eventLoop = ThreadLocalEventLoop_getInstance().j1e();
          if (false) {}
          var tmp_1;
          if (eventLoop.c1e()) {
            tmp1_resumeCancellableWith.r1a_1 = state;
            tmp1_resumeCancellableWith.i1o(tmp0_executeUnconfined);
            eventLoop.a1e(tmp1_resumeCancellableWith);
            tmp_1 = true;
          } else {
            {
              eventLoop.f1e(true);
              try {
                {
                  var tmp$ret$3;
                  $l$block_0: {
                    var job = tmp1_resumeCancellableWith.s4().f8(Key_getInstance_2());
                    if (!(job == null) ? !job.p17() : false) {
                      var cause = job.m18();
                      tmp1_resumeCancellableWith.b1c(state, cause);
                      var tmp$ret$2;
                      {
                        var tmp$ret$1;
                        {
                          var tmp0_failure = Companion_getInstance_0();
                          tmp$ret$1 = _Result___init__impl__xyqfz8(createFailure(cause));
                        }
                        tmp$ret$2 = tmp1_resumeCancellableWith.q4(tmp$ret$1);
                      }
                      tmp$ret$3 = true;
                      break $l$block_0;
                    }
                    tmp$ret$3 = false;
                  }
                  if (!tmp$ret$3) {
                    {
                      var tmp$ret$4;
                      {
                        var tmp0_withContinuationContext = tmp1_resumeCancellableWith.q1a_1;
                        var tmp1_withContinuationContext = tmp1_resumeCancellableWith.s1a_1;
                        tmp$ret$4 = tmp1_resumeCancellableWith.q1a_1.q4(result);
                      }
                    }
                  }
                }
                $l$loop: while (true) {
                  if (!eventLoop.v1d())
                    break $l$loop;
                }
              } catch ($p) {
                if ($p instanceof Error) {
                  tmp1_resumeCancellableWith.n1c($p, null);
                } else {
                  throw $p;
                }
              }
              finally {
                eventLoop.g1e(true);
              }
            }
            tmp_1 = false;
          }
          tmp$ret$0 = tmp_1;
        }
        tmp_0 = Unit_getInstance();
      }
      tmp = tmp_0;
    } else {
      tmp = _this__u8e3s4.q4(result);
    }
    return tmp;
  }
  function resumeCancellableWith$default(_this__u8e3s4, result, onCancellation, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      onCancellation = null;
    return resumeCancellableWith(_this__u8e3s4, result, onCancellation);
  }
  function _get_reusableCancellableContinuation__9qex09($this) {
    var tmp = $this.t1a_1.z16_1;
    return tmp instanceof CancellableContinuationImpl ? tmp : null;
  }
  function DispatchedContinuation(dispatcher, continuation) {
    DispatchedTask.call(this, get_MODE_UNINITIALIZED());
    this.p1a_1 = dispatcher;
    this.q1a_1 = continuation;
    this.r1a_1 = get_UNDEFINED();
    this.s1a_1 = threadContextElements(this.s4());
    this.t1a_1 = atomic$ref$1(null);
  }
  DispatchedContinuation.prototype.j1o = function () {
    return this.q1a_1;
  };
  DispatchedContinuation.prototype.s4 = function () {
    return this.q1a_1.s4();
  };
  DispatchedContinuation.prototype.k1o = function () {
    return this.s1a_1;
  };
  DispatchedContinuation.prototype.h1b = function () {
    return !(this.t1a_1.z16_1 == null);
  };
  DispatchedContinuation.prototype.l1o = function () {
    {
      var tmp0_loop = this.t1a_1;
      while (true) {
        {
          var tmp1__anonymous__uwfjfc = tmp0_loop.z16_1;
          if (!(tmp1__anonymous__uwfjfc === get_REUSABLE_CLAIMED()))
            return Unit_getInstance();
        }
      }
    }
  };
  DispatchedContinuation.prototype.o1d = function () {
    this.l1o();
    var tmp0_safe_receiver = _get_reusableCancellableContinuation__9qex09(this);
    if (tmp0_safe_receiver == null)
      null;
    else {
      tmp0_safe_receiver.m1b();
    }
  };
  DispatchedContinuation.prototype.u1a = function () {
    {
      var tmp0_loop = this.t1a_1;
      while (true) {
        {
          var tmp1__anonymous__uwfjfc = tmp0_loop.z16_1;
          if (tmp1__anonymous__uwfjfc === null) {
            this.t1a_1.z16_1 = get_REUSABLE_CLAIMED();
            return null;
          } else {
            if (tmp1__anonymous__uwfjfc instanceof CancellableContinuationImpl) {
              if (this.t1a_1.atomicfu$compareAndSet(tmp1__anonymous__uwfjfc, get_REUSABLE_CLAIMED())) {
                return tmp1__anonymous__uwfjfc instanceof CancellableContinuationImpl ? tmp1__anonymous__uwfjfc : THROW_CCE();
              }
            } else {
              if (tmp1__anonymous__uwfjfc === get_REUSABLE_CLAIMED()) {
              } else {
                if (tmp1__anonymous__uwfjfc instanceof Error) {
                } else {
                  var tmp0_error = 'Inconsistent state ' + toString(tmp1__anonymous__uwfjfc);
                  throw IllegalStateException_init_$Create$(toString_0(tmp0_error));
                }
              }
            }
          }
        }
      }
    }
  };
  DispatchedContinuation.prototype.l1b = function (continuation) {
    {
      var tmp0_loop = this.t1a_1;
      while (true) {
        {
          var tmp1__anonymous__uwfjfc = tmp0_loop.z16_1;
          if (tmp1__anonymous__uwfjfc === get_REUSABLE_CLAIMED()) {
            if (this.t1a_1.atomicfu$compareAndSet(get_REUSABLE_CLAIMED(), continuation))
              return null;
          } else {
            if (tmp1__anonymous__uwfjfc instanceof Error) {
              {
                var tmp0_require = this.t1a_1.atomicfu$compareAndSet(tmp1__anonymous__uwfjfc, null);
                {
                }
                {
                  {
                  }
                  if (!tmp0_require) {
                    var tmp$ret$0;
                    {
                      tmp$ret$0 = 'Failed requirement.';
                    }
                    var message = tmp$ret$0;
                    throw IllegalArgumentException_init_$Create$(toString_0(message));
                  }
                }
              }
              return tmp1__anonymous__uwfjfc;
            } else {
              var tmp1_error = 'Inconsistent state ' + toString(tmp1__anonymous__uwfjfc);
              throw IllegalStateException_init_$Create$(toString_0(tmp1_error));
            }
          }
        }
      }
    }
  };
  DispatchedContinuation.prototype.k1b = function (cause) {
    {
      var tmp0_loop = this.t1a_1;
      while (true) {
        {
          var tmp1__anonymous__uwfjfc = tmp0_loop.z16_1;
          var tmp0_subject = tmp1__anonymous__uwfjfc;
          if (equals(tmp0_subject, get_REUSABLE_CLAIMED())) {
            if (this.t1a_1.atomicfu$compareAndSet(get_REUSABLE_CLAIMED(), cause))
              return true;
          } else {
            if (tmp0_subject instanceof Error)
              return true;
            else {
              if (this.t1a_1.atomicfu$compareAndSet(tmp1__anonymous__uwfjfc, null))
                return false;
            }
          }
        }
      }
    }
  };
  DispatchedContinuation.prototype.a1c = function () {
    var state = this.r1a_1;
    {
    }
    this.r1a_1 = get_UNDEFINED();
    return state;
  };
  DispatchedContinuation.prototype.y1b = function () {
    return this;
  };
  DispatchedContinuation.prototype.q4 = function (result) {
    var context = this.q1a_1.s4();
    var state = toState$default(result, null, 1, null);
    if (this.p1a_1.m1d(context)) {
      this.r1a_1 = state;
      this.i1o(get_MODE_ATOMIC());
      this.p1a_1.n1d(context, this);
    } else {
      var tmp$ret$0;
      $l$block: {
        var tmp0_executeUnconfined = get_MODE_ATOMIC();
        {
        }
        var eventLoop = ThreadLocalEventLoop_getInstance().j1e();
        if (false) {}
        var tmp;
        if (eventLoop.c1e()) {
          this.r1a_1 = state;
          this.i1o(tmp0_executeUnconfined);
          eventLoop.a1e(this);
          tmp = true;
        } else {
          {
            eventLoop.f1e(true);
            try {
              {
                var tmp$ret$1;
                {
                  var tmp0_withCoroutineContext = this.s4();
                  var tmp1_withCoroutineContext = this.s1a_1;
                  tmp$ret$1 = this.q1a_1.q4(result);
                }
              }
              $l$loop: while (true) {
                if (!eventLoop.v1d())
                  break $l$loop;
              }
            } catch ($p) {
              if ($p instanceof Error) {
                this.n1c($p, null);
              } else {
                throw $p;
              }
            }
            finally {
              eventLoop.g1e(true);
            }
          }
          tmp = false;
        }
        tmp$ret$0 = tmp;
      }
    }
  };
  DispatchedContinuation.prototype.b1c = function (takenState, cause) {
    if (takenState instanceof CompletedWithCancellation) {
      takenState.k1d_1(cause);
    }
  };
  DispatchedContinuation.prototype.m1o = function (state) {
    var job = this.s4().f8(Key_getInstance_2());
    if (!(job == null) ? !job.p17() : false) {
      var cause = job.m18();
      this.b1c(state, cause);
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          var tmp0_failure = Companion_getInstance_0();
          tmp$ret$0 = _Result___init__impl__xyqfz8(createFailure(cause));
        }
        tmp$ret$1 = this.q4(tmp$ret$0);
      }
      return true;
    }
    return false;
  };
  DispatchedContinuation.prototype.n1o = function (result) {
    var tmp$ret$0;
    {
      var tmp0_withContinuationContext = this.q1a_1;
      var tmp1_withContinuationContext = this.s1a_1;
      tmp$ret$0 = this.q1a_1.q4(result);
    }
  };
  DispatchedContinuation.prototype.toString = function () {
    return 'DispatchedContinuation[' + this.p1a_1 + ', ' + toDebugString(this.q1a_1) + ']';
  };
  DispatchedContinuation.$metadata$ = classMeta('DispatchedContinuation', [CoroutineStackFrame, Continuation], undefined, undefined, undefined, DispatchedTask.prototype);
  function executeUnconfined(_this__u8e3s4, contState, mode, doYield, block) {
    init_properties_DispatchedContinuation_kt_s7rtw6();
    {
    }
    var eventLoop = ThreadLocalEventLoop_getInstance().j1e();
    if (doYield ? eventLoop.d1e() : false)
      return false;
    var tmp;
    if (eventLoop.c1e()) {
      _this__u8e3s4.r1a_1 = contState;
      _this__u8e3s4.i1o(mode);
      eventLoop.a1e(_this__u8e3s4);
      tmp = true;
    } else {
      {
        eventLoop.f1e(true);
        try {
          block();
          $l$loop: while (true) {
            if (!eventLoop.v1d())
              break $l$loop;
          }
        } catch ($p) {
          if ($p instanceof Error) {
            _this__u8e3s4.n1c($p, null);
          } else {
            throw $p;
          }
        }
        finally {
          eventLoop.g1e(true);
        }
      }
      tmp = false;
    }
    return tmp;
  }
  var properties_initialized_DispatchedContinuation_kt_2siadq;
  function init_properties_DispatchedContinuation_kt_s7rtw6() {
    if (properties_initialized_DispatchedContinuation_kt_2siadq) {
    } else {
      properties_initialized_DispatchedContinuation_kt_2siadq = true;
      UNDEFINED = new Symbol('UNDEFINED');
      REUSABLE_CLAIMED = new Symbol('REUSABLE_CLAIMED');
    }
  }
  function get_MODE_CANCELLABLE() {
    return MODE_CANCELLABLE;
  }
  var MODE_CANCELLABLE;
  function DispatchedTask(resumeMode) {
    SchedulerTask.call(this);
    this.i1b_1 = resumeMode;
  }
  DispatchedTask.prototype.i1o = function (_set____db54di) {
    this.i1b_1 = _set____db54di;
  };
  DispatchedTask.prototype.j1b = function () {
    return this.i1b_1;
  };
  DispatchedTask.prototype.b1c = function (takenState, cause) {
  };
  DispatchedTask.prototype.j1c = function (state) {
    return (state == null ? true : isObject(state)) ? state : THROW_CCE();
  };
  DispatchedTask.prototype.l1c = function (state) {
    var tmp0_safe_receiver = state instanceof CompletedExceptionally ? state : null;
    return tmp0_safe_receiver == null ? null : tmp0_safe_receiver.u17_1;
  };
  DispatchedTask.prototype.m1c = function () {
    {
    }
    var taskContext = get_taskContext(this);
    var fatalException = null;
    try {
      var tmp = this.y1b();
      var delegate = tmp instanceof DispatchedContinuation ? tmp : THROW_CCE();
      var continuation = delegate.q1a_1;
      var tmp$ret$5;
      {
        var tmp0_withContinuationContext = delegate.s1a_1;
        var context = continuation.s4();
        var state = this.a1c();
        var exception = this.l1c(state);
        var job = (exception == null ? get_isCancellableMode(this.i1b_1) : false) ? context.f8(Key_getInstance_2()) : null;
        var tmp_0;
        if (!(job == null) ? !job.p17() : false) {
          var cause = job.m18();
          this.b1c(state, cause);
          var tmp$ret$0;
          {
            var tmp0_failure = Companion_getInstance_0();
            var tmp1_failure = recoverStackTrace(cause, continuation);
            tmp$ret$0 = _Result___init__impl__xyqfz8(createFailure(tmp1_failure));
          }
          tmp_0 = continuation.q4(tmp$ret$0);
        } else {
          var tmp_1;
          if (!(exception == null)) {
            var tmp$ret$2;
            {
              var tmp$ret$1;
              {
                var tmp0_failure_0 = Companion_getInstance_0();
                tmp$ret$1 = _Result___init__impl__xyqfz8(createFailure(exception));
              }
              tmp$ret$2 = continuation.q4(tmp$ret$1);
            }
            tmp_1 = tmp$ret$2;
          } else {
            var tmp$ret$4;
            {
              var tmp2_resume = this.j1c(state);
              var tmp$ret$3;
              {
                var tmp0_success = Companion_getInstance_0();
                tmp$ret$3 = _Result___init__impl__xyqfz8(tmp2_resume);
              }
              tmp$ret$4 = continuation.q4(tmp$ret$3);
            }
            tmp_1 = tmp$ret$4;
          }
          tmp_0 = tmp_1;
        }
        tmp$ret$5 = tmp_0;
      }
    } catch ($p) {
      if ($p instanceof Error) {
        fatalException = $p;
      } else {
        throw $p;
      }
    }
    finally {
      var tmp$ret$8;
      {
        var tmp_2;
        try {
          var tmp$ret$6;
          {
            var tmp0_success_0 = Companion_getInstance_0();
            var tmp1_success = Unit_getInstance();
            tmp$ret$6 = _Result___init__impl__xyqfz8(Unit_getInstance());
          }
          tmp_2 = tmp$ret$6;
        } catch ($p) {
          var tmp_3;
          if ($p instanceof Error) {
            var tmp$ret$7;
            {
              var tmp2_failure = Companion_getInstance_0();
              tmp$ret$7 = _Result___init__impl__xyqfz8(createFailure($p));
            }
            tmp_3 = tmp$ret$7;
          } else {
            throw $p;
          }
          tmp_2 = tmp_3;
        }
        tmp$ret$8 = tmp_2;
      }
      var result = tmp$ret$8;
      this.n1c(fatalException, Result__exceptionOrNull_impl_p6xea9(result));
    }
  };
  DispatchedTask.prototype.n1c = function (exception, finallyException) {
    if (exception === null ? finallyException === null : false)
      return Unit_getInstance();
    if (!(exception === null) ? !(finallyException === null) : false) {
      {
      }
    }
    var tmp0_elvis_lhs = exception;
    var cause = tmp0_elvis_lhs == null ? finallyException : tmp0_elvis_lhs;
    var reason = new CoroutinesInternalError('Fatal exception in coroutines machinery for ' + this + '. ' + "Please read KDoc to 'handleFatalException' method and report this incident to maintainers", ensureNotNull(cause));
    handleCoroutineException(this.y1b().s4(), reason);
  };
  DispatchedTask.$metadata$ = classMeta('DispatchedTask', undefined, undefined, undefined, undefined, SchedulerTask.prototype);
  function get_MODE_UNINITIALIZED() {
    return MODE_UNINITIALIZED;
  }
  var MODE_UNINITIALIZED;
  function get_isReusableMode(_this__u8e3s4) {
    return _this__u8e3s4 === 2;
  }
  function get_MODE_CANCELLABLE_REUSABLE() {
    return MODE_CANCELLABLE_REUSABLE;
  }
  var MODE_CANCELLABLE_REUSABLE;
  function get_isCancellableMode(_this__u8e3s4) {
    return _this__u8e3s4 === 1 ? true : _this__u8e3s4 === 2;
  }
  function dispatch(_this__u8e3s4, mode) {
    {
    }
    var delegate = _this__u8e3s4.y1b();
    var undispatched = mode === 4;
    var tmp;
    var tmp_0;
    if (!undispatched) {
      tmp_0 = delegate instanceof DispatchedContinuation;
    } else {
      tmp_0 = false;
    }
    if (tmp_0) {
      tmp = get_isCancellableMode(mode) === get_isCancellableMode(_this__u8e3s4.i1b_1);
    } else {
      tmp = false;
    }
    if (tmp) {
      var dispatcher = delegate.p1a_1;
      var context = delegate.s4();
      if (dispatcher.m1d(context)) {
        dispatcher.n1d(context, _this__u8e3s4);
      } else {
        resumeUnconfined(_this__u8e3s4);
      }
    } else {
      resume(_this__u8e3s4, delegate, undispatched);
    }
  }
  function get_MODE_UNDISPATCHED() {
    return MODE_UNDISPATCHED;
  }
  var MODE_UNDISPATCHED;
  function get_MODE_ATOMIC() {
    return MODE_ATOMIC;
  }
  var MODE_ATOMIC;
  function runUnconfinedEventLoop(_this__u8e3s4, eventLoop, block) {
    eventLoop.f1e(true);
    try {
      block();
      $l$loop: while (true) {
        if (!eventLoop.v1d())
          break $l$loop;
      }
    } catch ($p) {
      if ($p instanceof Error) {
        _this__u8e3s4.n1c($p, null);
      } else {
        throw $p;
      }
    }
    finally {
      eventLoop.g1e(true);
    }
  }
  function resumeWithStackTrace(_this__u8e3s4, exception) {
    var tmp$ret$0;
    {
      var tmp0_failure = Companion_getInstance_0();
      var tmp1_failure = recoverStackTrace(exception, _this__u8e3s4);
      tmp$ret$0 = _Result___init__impl__xyqfz8(createFailure(tmp1_failure));
    }
    _this__u8e3s4.q4(tmp$ret$0);
  }
  function resumeUnconfined(_this__u8e3s4) {
    var eventLoop = ThreadLocalEventLoop_getInstance().j1e();
    if (eventLoop.c1e()) {
      eventLoop.a1e(_this__u8e3s4);
    } else {
      {
        eventLoop.f1e(true);
        try {
          {
            resume(_this__u8e3s4, _this__u8e3s4.y1b(), true);
          }
          $l$loop: while (true) {
            if (!eventLoop.v1d())
              break $l$loop;
          }
        } catch ($p) {
          if ($p instanceof Error) {
            _this__u8e3s4.n1c($p, null);
          } else {
            throw $p;
          }
        }
        finally {
          eventLoop.g1e(true);
        }
      }
    }
  }
  function resume(_this__u8e3s4, delegate, undispatched) {
    var state = _this__u8e3s4.a1c();
    var exception = _this__u8e3s4.l1c(state);
    var tmp;
    if (!(exception == null)) {
      var tmp$ret$0;
      {
        var tmp0_failure = Companion_getInstance_0();
        tmp$ret$0 = _Result___init__impl__xyqfz8(createFailure(exception));
      }
      tmp = tmp$ret$0;
    } else {
      var tmp$ret$1;
      {
        var tmp1_success = Companion_getInstance_0();
        var tmp2_success = _this__u8e3s4.j1c(state);
        tmp$ret$1 = _Result___init__impl__xyqfz8(tmp2_success);
      }
      tmp = tmp$ret$1;
    }
    var result = tmp;
    if (undispatched) {
      var tmp3_resumeUndispatchedWith = delegate instanceof DispatchedContinuation ? delegate : THROW_CCE();
      var tmp$ret$2;
      {
        var tmp0_withContinuationContext = tmp3_resumeUndispatchedWith.q1a_1;
        var tmp1_withContinuationContext = tmp3_resumeUndispatchedWith.s1a_1;
        tmp$ret$2 = tmp3_resumeUndispatchedWith.q1a_1.q4(result);
      }
    } else
      delegate.q4(result);
  }
  function _InlineList___init__impl__z8n56(holder) {
    return holder;
  }
  function _InlineList___init__impl__z8n56_0(holder, $mask0, $marker) {
    if (!(($mask0 & 1) === 0))
      holder = null;
    var tmp = _InlineList___init__impl__z8n56(holder);
    return tmp;
  }
  function _get_holder__f6h5pd($this) {
    return $this;
  }
  function InlineList__plus_impl_nuetvo($this, element) {
    {
    }
    var tmp0_subject = _get_holder__f6h5pd($this);
    var tmp;
    if (tmp0_subject == null) {
      tmp = _InlineList___init__impl__z8n56(element);
    } else {
      if (tmp0_subject instanceof ArrayList) {
        var tmp_0 = _get_holder__f6h5pd($this);
        (tmp_0 instanceof ArrayList ? tmp_0 : THROW_CCE()).b(element);
        tmp = _InlineList___init__impl__z8n56(_get_holder__f6h5pd($this));
      } else {
        var list = ArrayList_init_$Create$(4);
        var tmp_1 = _get_holder__f6h5pd($this);
        list.b((tmp_1 == null ? true : isObject(tmp_1)) ? tmp_1 : THROW_CCE());
        list.b(element);
        tmp = _InlineList___init__impl__z8n56(list);
      }
    }
    return tmp;
  }
  function InlineList__forEachReversed_impl_jituug($this, action) {
    var tmp0_subject = _get_holder__f6h5pd($this);
    if (tmp0_subject == null)
      return Unit_getInstance();
    else {
      if (!(tmp0_subject instanceof ArrayList)) {
        var tmp = _get_holder__f6h5pd($this);
        action((tmp == null ? true : isObject(tmp)) ? tmp : THROW_CCE());
      } else {
        var tmp_0 = _get_holder__f6h5pd($this);
        var list = tmp_0 instanceof ArrayList ? tmp_0 : THROW_CCE();
        var inductionVariable = list.m() - 1 | 0;
        if (0 <= inductionVariable)
          do {
            var i = inductionVariable;
            inductionVariable = inductionVariable + -1 | 0;
            action(list.r(i));
          }
           while (0 <= inductionVariable);
      }
    }
  }
  function InlineList__toString_impl_1aej86($this) {
    return 'InlineList(holder=' + toString($this) + ')';
  }
  function InlineList__hashCode_impl_n1kg11($this) {
    return $this == null ? 0 : hashCode($this);
  }
  function InlineList__equals_impl_wwe0i1($this, other) {
    if (!(other instanceof InlineList))
      return false;
    var tmp0_other_with_cast = other instanceof InlineList ? other.o1o_1 : THROW_CCE();
    if (!equals($this, tmp0_other_with_cast))
      return false;
    return true;
  }
  function InlineList(holder) {
    this.o1o_1 = holder;
  }
  InlineList.prototype.toString = function () {
    return InlineList__toString_impl_1aej86(this.o1o_1);
  };
  InlineList.prototype.hashCode = function () {
    return InlineList__hashCode_impl_n1kg11(this.o1o_1);
  };
  InlineList.prototype.equals = function (other) {
    return InlineList__equals_impl_wwe0i1(this.o1o_1, other);
  };
  InlineList.$metadata$ = classMeta('InlineList');
  function get_REMOVE_PREPARED() {
    init_properties_LockFreeLinkedList_common_kt_ecmrzd();
    return REMOVE_PREPARED;
  }
  var REMOVE_PREPARED;
  var properties_initialized_LockFreeLinkedList_common_kt_b0cmf9;
  function init_properties_LockFreeLinkedList_common_kt_ecmrzd() {
    if (properties_initialized_LockFreeLinkedList_common_kt_b0cmf9) {
    } else {
      properties_initialized_LockFreeLinkedList_common_kt_b0cmf9 = true;
      REMOVE_PREPARED = new Symbol('REMOVE_PREPARED');
    }
  }
  function bindCancellationFun(_this__u8e3s4, element, context) {
    return bindCancellationFun$lambda(_this__u8e3s4, element, context);
  }
  function UndeliveredElementException(message, cause) {
    RuntimeException_init_$Init$(message, cause, this);
    captureStack(this, UndeliveredElementException);
  }
  UndeliveredElementException.$metadata$ = classMeta('UndeliveredElementException', undefined, undefined, undefined, undefined, RuntimeException.prototype);
  function callUndeliveredElementCatchingException(_this__u8e3s4, element, undeliveredElementException) {
    try {
      _this__u8e3s4(element);
    } catch ($p) {
      if ($p instanceof Error) {
        if (!(undeliveredElementException == null) ? !(undeliveredElementException.cause === $p) : false) {
          {
          }
        } else {
          return new UndeliveredElementException('Exception in undelivered element handler for ' + element, $p);
        }
      } else {
        throw $p;
      }
    }
    return undeliveredElementException;
  }
  function callUndeliveredElementCatchingException$default(_this__u8e3s4, element, undeliveredElementException, $mask0, $handler) {
    if (!(($mask0 & 2) === 0))
      undeliveredElementException = null;
    return callUndeliveredElementCatchingException(_this__u8e3s4, element, undeliveredElementException);
  }
  function callUndeliveredElement(_this__u8e3s4, element, context) {
    var tmp0_safe_receiver = callUndeliveredElementCatchingException(_this__u8e3s4, element, null);
    if (tmp0_safe_receiver == null)
      null;
    else {
      var tmp$ret$0;
      {
        {
        }
        tmp$ret$0 = handleCoroutineException(context, tmp0_safe_receiver);
      }
    }
  }
  function bindCancellationFun$lambda($this_bindCancellationFun, $element, $context) {
    return function (_anonymous_parameter_0__qggqh8) {
      callUndeliveredElement($this_bindCancellationFun, $element, $context);
      return Unit_getInstance();
    };
  }
  function ContextScope(context) {
    this.p1o_1 = context;
  }
  ContextScope.prototype.o17 = function () {
    return this.p1o_1;
  };
  ContextScope.prototype.toString = function () {
    return 'CoroutineScope(coroutineContext=' + this.p1o_1 + ')';
  };
  ContextScope.$metadata$ = classMeta('ContextScope', [CoroutineScope]);
  function Symbol(symbol) {
    this.q1o_1 = symbol;
  }
  Symbol.prototype.toString = function () {
    return '<' + this.q1o_1 + '>';
  };
  Symbol.$metadata$ = classMeta('Symbol');
  function systemProp(propertyName, defaultValue, minValue, maxValue) {
    return systemProp_0(propertyName, toLong(defaultValue), toLong(minValue), toLong(maxValue)).fb();
  }
  function systemProp_0(propertyName, defaultValue, minValue, maxValue) {
    var tmp0_elvis_lhs = systemProp_1(propertyName);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return defaultValue;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var value = tmp;
    var tmp1_elvis_lhs = toLongOrNull(value);
    var tmp_0;
    if (tmp1_elvis_lhs == null) {
      var tmp0_error = "System property '" + propertyName + "' has unrecognized value '" + value + "'";
      throw IllegalStateException_init_$Create$(toString_0(tmp0_error));
    } else {
      tmp_0 = tmp1_elvis_lhs;
    }
    var parsed = tmp_0;
    if (!(minValue.k1(parsed) <= 0 ? parsed.k1(maxValue) <= 0 : false)) {
      {
        var tmp1_error = "System property '" + propertyName + "' should be in range " + toString_0(minValue) + '..' + toString_0(maxValue) + ", but is '" + toString_0(parsed) + "'";
        throw IllegalStateException_init_$Create$(toString_0(tmp1_error));
      }
    }
    return parsed;
  }
  function startCoroutineCancellable(_this__u8e3s4, receiver, completion, onCancellation) {
    var tmp;
    try {
      var tmp_0 = intercepted(createCoroutineUnintercepted(_this__u8e3s4, receiver, completion));
      var tmp$ret$0;
      {
        var tmp0_success = Companion_getInstance_0();
        tmp$ret$0 = _Result___init__impl__xyqfz8(Unit_getInstance());
      }
      tmp = resumeCancellableWith(tmp_0, tmp$ret$0, onCancellation);
    } catch ($p) {
      var tmp_1;
      if ($p instanceof Error) {
        tmp_1 = dispatcherFailure$accessor$paksz7(completion, $p);
      } else {
        throw $p;
      }
      tmp = tmp_1;
    }
    return tmp;
  }
  function startCoroutineCancellable$default(_this__u8e3s4, receiver, completion, onCancellation, $mask0, $handler) {
    if (!(($mask0 & 4) === 0))
      onCancellation = null;
    return startCoroutineCancellable(_this__u8e3s4, receiver, completion, onCancellation);
  }
  function dispatcherFailure(completion, e) {
    var tmp$ret$0;
    {
      var tmp0_failure = Companion_getInstance_0();
      tmp$ret$0 = _Result___init__impl__xyqfz8(createFailure(e));
    }
    completion.q4(tmp$ret$0);
    throw e;
  }
  function startCoroutineCancellable_0(_this__u8e3s4, fatalCompletion) {
    var tmp;
    try {
      var tmp_0 = intercepted(_this__u8e3s4);
      var tmp$ret$0;
      {
        var tmp0_success = Companion_getInstance_0();
        tmp$ret$0 = _Result___init__impl__xyqfz8(Unit_getInstance());
      }
      var tmp_1 = tmp$ret$0;
      tmp = resumeCancellableWith$default(tmp_0, tmp_1, null, 2, null);
    } catch ($p) {
      var tmp_2;
      if ($p instanceof Error) {
        tmp_2 = dispatcherFailure$accessor$paksz7(fatalCompletion, $p);
      } else {
        throw $p;
      }
      tmp = tmp_2;
    }
    return tmp;
  }
  function dispatcherFailure$accessor$paksz7(completion, e) {
    return dispatcherFailure(completion, e);
  }
  function startCoroutineUnintercepted(_this__u8e3s4, receiver, completion) {
    var tmp$ret$6;
    $l$block: {
      var tmp$ret$0;
      {
        tmp$ret$0 = completion;
      }
      var actualCompletion = tmp$ret$0;
      var tmp;
      try {
        var tmp$ret$3;
        {
          var tmp$ret$2;
          {
            var tmp$ret$1;
            {
              tmp$ret$1 = _this__u8e3s4;
            }
            var a = tmp$ret$1;
            tmp$ret$2 = typeof a === 'function' ? a(receiver, actualCompletion) : _this__u8e3s4.s7(receiver, actualCompletion);
          }
          tmp$ret$3 = tmp$ret$2;
        }
        tmp = tmp$ret$3;
      } catch ($p) {
        var tmp_0;
        if ($p instanceof Error) {
          var tmp$ret$5;
          {
            var tmp$ret$4;
            {
              var tmp0_failure = Companion_getInstance_0();
              tmp$ret$4 = _Result___init__impl__xyqfz8(createFailure($p));
            }
            tmp$ret$5 = actualCompletion.q4(tmp$ret$4);
          }
          tmp$ret$6 = Unit_getInstance();
          break $l$block;
        } else {
          throw $p;
        }
        tmp = tmp_0;
      }
      var value = tmp;
      if (!(value === get_COROUTINE_SUSPENDED())) {
        var tmp$ret$8;
        {
          var tmp0_resume = (value == null ? true : isObject(value)) ? value : THROW_CCE();
          var tmp$ret$7;
          {
            var tmp0_success = Companion_getInstance_0();
            tmp$ret$7 = _Result___init__impl__xyqfz8(tmp0_resume);
          }
          tmp$ret$8 = actualCompletion.q4(tmp$ret$7);
        }
      }
    }
  }
  function startDirect(completion, block) {
    var tmp$ret$0;
    {
      tmp$ret$0 = completion;
    }
    var actualCompletion = tmp$ret$0;
    var tmp;
    try {
      tmp = block(actualCompletion);
    } catch ($p) {
      var tmp_0;
      if ($p instanceof Error) {
        var tmp$ret$2;
        {
          var tmp$ret$1;
          {
            var tmp0_failure = Companion_getInstance_0();
            tmp$ret$1 = _Result___init__impl__xyqfz8(createFailure($p));
          }
          tmp$ret$2 = actualCompletion.q4(tmp$ret$1);
        }
        return Unit_getInstance();
      } else {
        throw $p;
      }
      tmp = tmp_0;
    }
    var value = tmp;
    if (!(value === get_COROUTINE_SUSPENDED())) {
      var tmp$ret$4;
      {
        var tmp0_resume = (value == null ? true : isObject(value)) ? value : THROW_CCE();
        var tmp$ret$3;
        {
          var tmp0_success = Companion_getInstance_0();
          tmp$ret$3 = _Result___init__impl__xyqfz8(tmp0_resume);
        }
        tmp$ret$4 = actualCompletion.q4(tmp$ret$3);
      }
    }
  }
  function startCoroutineUndispatched(_this__u8e3s4, receiver, completion) {
    var tmp$ret$8;
    $l$block: {
      var tmp$ret$0;
      {
        tmp$ret$0 = completion;
      }
      var actualCompletion = tmp$ret$0;
      var tmp;
      try {
        var tmp$ret$5;
        {
          var tmp$ret$4;
          {
            var tmp0_withCoroutineContext = completion.s4();
            var tmp$ret$3;
            {
              var tmp$ret$2;
              {
                var tmp$ret$1;
                {
                  tmp$ret$1 = _this__u8e3s4;
                }
                var a = tmp$ret$1;
                tmp$ret$2 = typeof a === 'function' ? a(receiver, actualCompletion) : _this__u8e3s4.s7(receiver, actualCompletion);
              }
              tmp$ret$3 = tmp$ret$2;
            }
            tmp$ret$4 = tmp$ret$3;
          }
          tmp$ret$5 = tmp$ret$4;
        }
        tmp = tmp$ret$5;
      } catch ($p) {
        var tmp_0;
        if ($p instanceof Error) {
          var tmp$ret$7;
          {
            var tmp$ret$6;
            {
              var tmp0_failure = Companion_getInstance_0();
              tmp$ret$6 = _Result___init__impl__xyqfz8(createFailure($p));
            }
            tmp$ret$7 = actualCompletion.q4(tmp$ret$6);
          }
          tmp$ret$8 = Unit_getInstance();
          break $l$block;
        } else {
          throw $p;
        }
        tmp = tmp_0;
      }
      var value = tmp;
      if (!(value === get_COROUTINE_SUSPENDED())) {
        var tmp$ret$10;
        {
          var tmp0_resume = (value == null ? true : isObject(value)) ? value : THROW_CCE();
          var tmp$ret$9;
          {
            var tmp0_success = Companion_getInstance_0();
            tmp$ret$9 = _Result___init__impl__xyqfz8(tmp0_resume);
          }
          tmp$ret$10 = actualCompletion.q4(tmp$ret$9);
        }
      }
    }
  }
  function get_NOT_SELECTED() {
    init_properties_Select_kt_rcehwi();
    return NOT_SELECTED;
  }
  var NOT_SELECTED;
  function get_ALREADY_SELECTED() {
    init_properties_Select_kt_rcehwi();
    return ALREADY_SELECTED;
  }
  var ALREADY_SELECTED;
  function get_UNDECIDED_0() {
    init_properties_Select_kt_rcehwi();
    return UNDECIDED_0;
  }
  var UNDECIDED_0;
  function get_RESUMED_0() {
    init_properties_Select_kt_rcehwi();
    return RESUMED_0;
  }
  var RESUMED_0;
  function get_selectOpSequenceNumber() {
    init_properties_Select_kt_rcehwi();
    return selectOpSequenceNumber;
  }
  var selectOpSequenceNumber;
  function SelectClause0() {
  }
  SelectClause0.$metadata$ = interfaceMeta('SelectClause0');
  function SelectInstance() {
  }
  SelectInstance.$metadata$ = interfaceMeta('SelectInstance');
  function SeqNumber() {
    this.r1o_1 = atomic$long$1(new Long(1, 0));
  }
  SeqNumber.prototype.o = function () {
    return this.r1o_1.atomicfu$incrementAndGet$long();
  };
  SeqNumber.$metadata$ = classMeta('SeqNumber');
  function SelectClause1() {
  }
  SelectClause1.$metadata$ = interfaceMeta('SelectClause1');
  function SelectBuilder() {
  }
  SelectBuilder.$metadata$ = interfaceMeta('SelectBuilder');
  function prepareSelectOp($this) {
    {
      var tmp0_loop = $this.b1p_1.x1o_1;
      while (true) {
        {
          var tmp1__anonymous__uwfjfc = tmp0_loop.z16_1;
          if (tmp1__anonymous__uwfjfc === $this)
            return null;
          else {
            if (tmp1__anonymous__uwfjfc instanceof OpDescriptor) {
              tmp1__anonymous__uwfjfc.s1g($this.b1p_1);
            } else {
              if (tmp1__anonymous__uwfjfc === get_NOT_SELECTED()) {
                if ($this.b1p_1.x1o_1.atomicfu$compareAndSet(get_NOT_SELECTED(), $this))
                  return null;
              } else {
                return get_ALREADY_SELECTED();
              }
            }
          }
        }
      }
    }
  }
  function undoPrepare($this) {
    $this.b1p_1.x1o_1.atomicfu$compareAndSet($this, get_NOT_SELECTED());
  }
  function completeSelect($this, failure) {
    var selectSuccess = failure == null;
    var update = selectSuccess ? null : get_NOT_SELECTED();
    if ($this.b1p_1.x1o_1.atomicfu$compareAndSet($this, update)) {
      if (selectSuccess)
        doAfterSelect($this.b1p_1);
    }
  }
  function _set_parentHandle__bde57($this, value) {
    $this.z1o_1.z16_1 = value;
  }
  function _get_parentHandle__f8dcex($this) {
    return $this.z1o_1.z16_1;
  }
  function initCancellability($this) {
    var tmp0_elvis_lhs = $this.s4().f8(Key_getInstance_2());
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return Unit_getInstance();
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var parent = tmp;
    var tmp$ret$1;
    {
      var tmp0__get_asHandler__gq3rkj = new SelectOnCancelling($this);
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0__get_asHandler__gq3rkj;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    var newRegistration = parent.r18(true, false, tmp$ret$1, 2, null);
    _set_parentHandle__bde57($this, newRegistration);
    if ($this.t1g())
      newRegistration.n1a();
  }
  function SelectOnCancelling($outer) {
    this.i1p_1 = $outer;
    JobCancellingNode.call(this);
  }
  SelectOnCancelling.prototype.m1a = function (cause) {
    if (this.i1p_1.w1g())
      this.i1p_1.v1g(this.j1f().m18());
  };
  SelectOnCancelling.prototype.invoke = function (cause) {
    return this.m1a(cause);
  };
  SelectOnCancelling.$metadata$ = classMeta('SelectOnCancelling', undefined, undefined, undefined, undefined, JobCancellingNode.prototype);
  function doAfterSelect($this) {
    var tmp0_safe_receiver = _get_parentHandle__f8dcex($this);
    if (tmp0_safe_receiver == null)
      null;
    else {
      tmp0_safe_receiver.n1a();
    }
    {
      var cur = $this.t1e();
      while (!equals(cur, $this)) {
        if (cur instanceof DisposeNode) {
          var tmp0__anonymous__q1qw7t = cur;
          tmp0__anonymous__q1qw7t.m1p_1.n1a();
        }
        cur = cur.d1b_1;
      }
    }
  }
  function PairSelectOp(otherOp) {
    OpDescriptor.call(this);
    this.n1p_1 = otherOp;
  }
  PairSelectOp.prototype.s1g = function (affected) {
    var impl = affected instanceof SelectBuilderImpl ? affected : THROW_CCE();
    this.n1p_1.t1k();
    var decision = this.n1p_1.m1j_1.e1o(null);
    var update = decision == null ? this.n1p_1.l1j_1 : get_NOT_SELECTED();
    impl.x1o_1.atomicfu$compareAndSet(this, update);
    return decision;
  };
  PairSelectOp.prototype.a1o = function () {
    return this.n1p_1.m1j_1;
  };
  PairSelectOp.$metadata$ = classMeta('PairSelectOp', undefined, undefined, undefined, undefined, OpDescriptor.prototype);
  function AtomicSelectOp(impl, desc) {
    AtomicOp.call(this);
    this.b1p_1 = impl;
    this.c1p_1 = desc;
    this.d1p_1 = get_selectOpSequenceNumber().o();
    this.c1p_1.h1o_1 = this;
  }
  AtomicSelectOp.prototype.o1p = function () {
    return this.b1p_1;
  };
  AtomicSelectOp.prototype.d1o = function () {
    return this.d1p_1;
  };
  AtomicSelectOp.prototype.p1p = function (affected) {
    if (affected == null) {
      var tmp0_safe_receiver = prepareSelectOp(this);
      if (tmp0_safe_receiver == null)
        null;
      else {
        var tmp$ret$0;
        {
          {
          }
          return tmp0_safe_receiver;
        }
      }
    }
    try {
      return this.c1p_1.z1j(this);
    } catch ($p) {
      if ($p instanceof Error) {
        if (affected == null)
          undoPrepare(this);
        throw $p;
      } else {
        throw $p;
      }
    }
  };
  AtomicSelectOp.prototype.f1o = function (affected) {
    return this.p1p((affected == null ? true : isObject(affected)) ? affected : THROW_CCE());
  };
  AtomicSelectOp.prototype.q1p = function (affected, failure) {
    completeSelect(this, failure);
    this.c1p_1.a1k(this, failure);
  };
  AtomicSelectOp.prototype.g1o = function (affected, failure) {
    return this.q1p((affected == null ? true : isObject(affected)) ? affected : THROW_CCE(), failure);
  };
  AtomicSelectOp.prototype.toString = function () {
    return 'AtomicSelectOp(sequence=' + toString_0(this.d1p_1) + ')';
  };
  AtomicSelectOp.$metadata$ = classMeta('AtomicSelectOp', undefined, undefined, undefined, undefined, AtomicOp.prototype);
  function DisposeNode(handle) {
    LinkedListNode.call(this);
    this.m1p_1 = handle;
  }
  DisposeNode.prototype.r1p = function () {
    return this.m1p_1;
  };
  DisposeNode.$metadata$ = classMeta('DisposeNode', undefined, undefined, undefined, undefined, LinkedListNode.prototype);
  function SelectBuilderImpl(uCont) {
    LinkedListHead.call(this);
    this.w1o_1 = uCont;
    this.x1o_1 = atomic$ref$1(get_NOT_SELECTED());
    this.y1o_1 = atomic$ref$1(get_UNDECIDED_0());
    this.z1o_1 = atomic$ref$1(null);
  }
  SelectBuilderImpl.prototype.s4 = function () {
    return this.w1o_1.s4();
  };
  SelectBuilderImpl.prototype.u1g = function () {
    return this;
  };
  SelectBuilderImpl.prototype.jc = function (result) {
    var tmp$ret$1;
    $l$block_0: {
      {
      }
      {
        var tmp0_loop = this.y1o_1;
        while (true) {
          {
            var tmp1__anonymous__uwfjfc = tmp0_loop.z16_1;
            if (tmp1__anonymous__uwfjfc === get_UNDECIDED_0()) {
              var tmp$ret$0;
              {
                tmp$ret$0 = toState$default(result, null, 1, null);
              }
              var update = tmp$ret$0;
              if (this.y1o_1.atomicfu$compareAndSet(get_UNDECIDED_0(), update)) {
                tmp$ret$1 = Unit_getInstance();
                break $l$block_0;
              }
            } else if (tmp1__anonymous__uwfjfc === get_COROUTINE_SUSPENDED()) {
              if (this.y1o_1.atomicfu$compareAndSet(get_COROUTINE_SUSPENDED(), get_RESUMED_0())) {
                {
                  if (_Result___get_isFailure__impl__jpiriv(result)) {
                    {
                      var tmp0_resumeWithStackTrace = this.w1o_1;
                      var tmp1_resumeWithStackTrace = ensureNotNull(Result__exceptionOrNull_impl_p6xea9(result));
                      var tmp$ret$2;
                      {
                        var tmp0_failure = Companion_getInstance_0();
                        var tmp1_failure = recoverStackTrace(tmp1_resumeWithStackTrace, tmp0_resumeWithStackTrace);
                        tmp$ret$2 = _Result___init__impl__xyqfz8(createFailure(tmp1_failure));
                      }
                      tmp0_resumeWithStackTrace.q4(tmp$ret$2);
                    }
                  } else {
                    this.w1o_1.q4(result);
                  }
                }
                tmp$ret$1 = Unit_getInstance();
                break $l$block_0;
              }
            } else
              throw IllegalStateException_init_$Create$('Already resumed');
          }
        }
      }
    }
  };
  SelectBuilderImpl.prototype.q4 = function (result) {
    return this.jc(result);
  };
  SelectBuilderImpl.prototype.v1g = function (exception) {
    var tmp$ret$1;
    $l$block_0: {
      {
      }
      {
        var tmp0_loop = this.y1o_1;
        while (true) {
          {
            var tmp1__anonymous__uwfjfc = tmp0_loop.z16_1;
            if (tmp1__anonymous__uwfjfc === get_UNDECIDED_0()) {
              var tmp$ret$0;
              {
                var tmp = recoverStackTrace(exception, this.w1o_1);
                tmp$ret$0 = CompletedExceptionally_init_$Create$(tmp, false, 2, null);
              }
              var update = tmp$ret$0;
              if (this.y1o_1.atomicfu$compareAndSet(get_UNDECIDED_0(), update)) {
                tmp$ret$1 = Unit_getInstance();
                break $l$block_0;
              }
            } else if (tmp1__anonymous__uwfjfc === get_COROUTINE_SUSPENDED()) {
              if (this.y1o_1.atomicfu$compareAndSet(get_COROUTINE_SUSPENDED(), get_RESUMED_0())) {
                {
                  var tmp_0 = intercepted(this.w1o_1);
                  var tmp$ret$2;
                  {
                    var tmp0_failure = Companion_getInstance_0();
                    tmp$ret$2 = _Result___init__impl__xyqfz8(createFailure(exception));
                  }
                  tmp_0.q4(tmp$ret$2);
                }
                tmp$ret$1 = Unit_getInstance();
                break $l$block_0;
              }
            } else
              throw IllegalStateException_init_$Create$('Already resumed');
          }
        }
      }
    }
  };
  SelectBuilderImpl.prototype.i1c = function () {
    if (!this.t1g())
      initCancellability(this);
    var result = this.y1o_1.z16_1;
    if (result === get_UNDECIDED_0()) {
      if (this.y1o_1.atomicfu$compareAndSet(get_UNDECIDED_0(), get_COROUTINE_SUSPENDED()))
        return get_COROUTINE_SUSPENDED();
      result = this.y1o_1.z16_1;
    }
    if (result === get_RESUMED_0())
      throw IllegalStateException_init_$Create$('Already resumed');
    else {
      if (result instanceof CompletedExceptionally)
        throw result.u17_1;
      else {
        return result;
      }
    }
  };
  SelectBuilderImpl.prototype.s1p = function (e) {
    if (this.w1g()) {
      var tmp$ret$1;
      {
        var tmp$ret$0;
        {
          var tmp0_failure = Companion_getInstance_0();
          tmp$ret$0 = _Result___init__impl__xyqfz8(createFailure(e));
        }
        tmp$ret$1 = this.q4(tmp$ret$0);
      }
    } else {
      if (!(e instanceof CancellationException)) {
        var result = this.i1c();
        var tmp;
        if (!(result instanceof CompletedExceptionally)) {
          tmp = true;
        } else {
          tmp = !(unwrap(result.u17_1) === unwrap(e));
        }
        if (tmp) {
          handleCoroutineException(this.s4(), e);
        }
      }
    }
  };
  SelectBuilderImpl.prototype.t1g = function () {
    var tmp0_loop = this.x1o_1;
    while (true) {
      {
        var tmp1__anonymous__uwfjfc = tmp0_loop.z16_1;
        if (tmp1__anonymous__uwfjfc === get_NOT_SELECTED())
          return false;
        else {
          if (tmp1__anonymous__uwfjfc instanceof OpDescriptor) {
            tmp1__anonymous__uwfjfc.s1g(this);
          } else {
            return true;
          }
        }
      }
    }
    return Unit_getInstance();
  };
  SelectBuilderImpl.prototype.x1g = function (handle) {
    var node = new DisposeNode(handle);
    if (!this.t1g()) {
      this.a1f(node);
      if (!this.t1g())
        return Unit_getInstance();
    }
    handle.n1a();
  };
  SelectBuilderImpl.prototype.w1g = function () {
    var result = this.i1l(null);
    var tmp;
    if (result === get_RESUME_TOKEN()) {
      tmp = true;
    } else if (result == null) {
      tmp = false;
    } else {
      var tmp0_error = 'Unexpected trySelectIdempotent result ' + toString(result);
      throw IllegalStateException_init_$Create$(toString_0(tmp0_error));
    }
    return tmp;
  };
  SelectBuilderImpl.prototype.i1l = function (otherOp) {
    {
      var tmp0_loop = this.x1o_1;
      while (true) {
        var tmp$ret$0;
        $l$block_0: {
          var tmp1__anonymous__uwfjfc = tmp0_loop.z16_1;
          if (tmp1__anonymous__uwfjfc === get_NOT_SELECTED()) {
            if (otherOp == null) {
              if (!this.x1o_1.atomicfu$compareAndSet(get_NOT_SELECTED(), null)) {
                tmp$ret$0 = Unit_getInstance();
                break $l$block_0;
              }
            } else {
              var pairSelectOp = new PairSelectOp(otherOp);
              if (!this.x1o_1.atomicfu$compareAndSet(get_NOT_SELECTED(), pairSelectOp)) {
                tmp$ret$0 = Unit_getInstance();
                break $l$block_0;
              }
              var decision = pairSelectOp.s1g(this);
              if (!(decision === null))
                return decision;
            }
            doAfterSelect(this);
            return get_RESUME_TOKEN();
          } else {
            if (tmp1__anonymous__uwfjfc instanceof OpDescriptor) {
              if (!(otherOp == null)) {
                var otherAtomicOp = otherOp.m1j_1;
                var tmp;
                if (otherAtomicOp instanceof AtomicSelectOp) {
                  tmp = otherAtomicOp.b1p_1 === this;
                } else {
                  tmp = false;
                }
                if (tmp) {
                  {
                    throw IllegalStateException_init_$Create$('Cannot use matching select clauses on the same object');
                  }
                } else {
                  if (otherAtomicOp.b1o(tmp1__anonymous__uwfjfc)) {
                    return get_RETRY_ATOMIC();
                  }
                }
              }
              tmp1__anonymous__uwfjfc.s1g(this);
            } else {
              if (otherOp == null)
                return null;
              else {
                if (tmp1__anonymous__uwfjfc === otherOp.l1j_1)
                  return get_RESUME_TOKEN();
                else {
                  return null;
                }
              }
            }
          }
        }
      }
    }
  };
  SelectBuilderImpl.prototype.s1l = function (desc) {
    return (new AtomicSelectOp(this, desc)).s1g(null);
  };
  SelectBuilderImpl.prototype.toString = function () {
    return 'SelectInstance(state=' + toString(this.x1o_1.z16_1) + ', result=' + toString(this.y1o_1.z16_1) + ')';
  };
  SelectBuilderImpl.prototype.s1o = function (_this__u8e3s4, block) {
    _this__u8e3s4.r19(this, block);
  };
  SelectBuilderImpl.$metadata$ = classMeta('SelectBuilderImpl', [SelectBuilder, SelectInstance, Continuation, CoroutineStackFrame], undefined, undefined, undefined, LinkedListHead.prototype);
  var properties_initialized_Select_kt_7rpl36;
  function init_properties_Select_kt_rcehwi() {
    if (properties_initialized_Select_kt_7rpl36) {
    } else {
      properties_initialized_Select_kt_7rpl36 = true;
      NOT_SELECTED = new Symbol('NOT_SELECTED');
      ALREADY_SELECTED = new Symbol('ALREADY_SELECTED');
      UNDECIDED_0 = new Symbol('UNDECIDED');
      RESUMED_0 = new Symbol('RESUMED');
      selectOpSequenceNumber = new SeqNumber();
    }
  }
  function CompletionHandlerBase() {
    LinkedListNode.call(this);
  }
  CompletionHandlerBase.$metadata$ = classMeta('CompletionHandlerBase', undefined, undefined, undefined, undefined, LinkedListNode.prototype);
  function invokeIt(_this__u8e3s4, cause) {
    var tmp0_subject = typeof _this__u8e3s4;
    if (tmp0_subject === 'function')
      _this__u8e3s4(cause);
    else {
      var tmp$ret$0;
      {
        tmp$ret$0 = _this__u8e3s4;
      }
      tmp$ret$0.invoke(cause);
    }
  }
  function get_asHandler(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0;
  }
  function get_asHandler_0(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    return tmp$ret$0;
  }
  function CancelHandlerBase() {
  }
  CancelHandlerBase.$metadata$ = classMeta('CancelHandlerBase');
  function toDebugString(_this__u8e3s4) {
    return toString_0(_this__u8e3s4);
  }
  function withCoroutineContext(context, countOrElement, block) {
    return block();
  }
  function withContinuationContext(continuation, countOrElement, block) {
    return block();
  }
  function get_DefaultDelay() {
    var tmp = Dispatchers_getInstance().g1i_1;
    return isInterface(tmp, Delay) ? tmp : THROW_CCE();
  }
  function createDefaultDispatcher() {
    var tmp;
    if (isJsdom()) {
      tmp = NodeDispatcher_getInstance();
    } else {
      var tmp_0;
      var tmp_1;
      if (!(typeof window === 'undefined')) {
        var tmp$ret$0;
        {
          var tmp0_asDynamic = window;
          tmp$ret$0 = tmp0_asDynamic;
        }
        tmp_1 = tmp$ret$0 != null;
      } else {
        tmp_1 = false;
      }
      if (tmp_1) {
        var tmp$ret$1;
        {
          var tmp1_asDynamic = window;
          tmp$ret$1 = tmp1_asDynamic;
        }
        tmp_0 = !(typeof tmp$ret$1.addEventListener === 'undefined');
      } else {
        tmp_0 = false;
      }
      if (tmp_0) {
        tmp = asCoroutineDispatcher(window);
      } else {
        if (typeof process === 'undefined' ? true : typeof process.nextTick === 'undefined') {
          tmp = SetTimeoutDispatcher_getInstance();
        } else {
          tmp = NodeDispatcher_getInstance();
        }
      }
    }
    return tmp;
  }
  function isJsdom() {
    return ((((!(typeof navigator === 'undefined') ? navigator != null : false) ? navigator.userAgent != null : false) ? !(typeof navigator.userAgent === 'undefined') : false) ? !(typeof navigator.userAgent.match === 'undefined') : false) ? navigator.userAgent.match('\\bjsdom\\b') : false;
  }
  function newCoroutineContext(_this__u8e3s4, context) {
    var combined = _this__u8e3s4.o17().m8(context);
    return (!(combined === Dispatchers_getInstance().g1i_1) ? combined.f8(Key_getInstance()) == null : false) ? combined.m8(Dispatchers_getInstance().g1i_1) : combined;
  }
  function get_coroutineName(_this__u8e3s4) {
    return null;
  }
  function handleCoroutineExceptionImpl(context, exception) {
    console.error(exception);
  }
  var counter;
  function get_DEBUG() {
    return DEBUG;
  }
  var DEBUG;
  function get_classSimpleName(_this__u8e3s4) {
    var tmp0_elvis_lhs = getKClassFromExpression(_this__u8e3s4).ei();
    return tmp0_elvis_lhs == null ? 'Unknown' : tmp0_elvis_lhs;
  }
  function get_hexAddress(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    var result = tmp$ret$0.__debug_counter;
    if (!(typeof result === 'number')) {
      counter = counter + 1 | 0;
      result = counter;
      var tmp$ret$1;
      {
        tmp$ret$1 = _this__u8e3s4;
      }
      tmp$ret$1.__debug_counter = result;
    }
    return ((!(result == null) ? typeof result === 'number' : false) ? result : THROW_CCE()).toString();
  }
  function assert(value) {
  }
  function Dispatchers() {
    Dispatchers_instance = this;
    this.g1i_1 = createDefaultDispatcher();
    this.h1i_1 = Unconfined_getInstance();
    this.i1i_1 = new JsMainDispatcher(this.g1i_1, false);
    this.j1i_1 = null;
  }
  Dispatchers.prototype.k1i = function () {
    var tmp0_elvis_lhs = this.j1i_1;
    return tmp0_elvis_lhs == null ? this.i1i_1 : tmp0_elvis_lhs;
  };
  Dispatchers.$metadata$ = objectMeta('Dispatchers');
  var Dispatchers_instance;
  function Dispatchers_getInstance() {
    if (Dispatchers_instance == null)
      new Dispatchers();
    return Dispatchers_instance;
  }
  function JsMainDispatcher(delegate, invokeImmediately) {
    MainCoroutineDispatcher.call(this);
    this.u1p_1 = delegate;
    this.v1p_1 = invokeImmediately;
    this.w1p_1 = this.v1p_1 ? this : new JsMainDispatcher(this.u1p_1, true);
  }
  JsMainDispatcher.prototype.e1i = function () {
    return this.w1p_1;
  };
  JsMainDispatcher.prototype.m1d = function (context) {
    return !this.v1p_1;
  };
  JsMainDispatcher.prototype.n1d = function (context, block) {
    return this.u1p_1.n1d(context, block);
  };
  JsMainDispatcher.prototype.toString = function () {
    var tmp0_elvis_lhs = this.f1i();
    return tmp0_elvis_lhs == null ? this.u1p_1.toString() : tmp0_elvis_lhs;
  };
  JsMainDispatcher.$metadata$ = classMeta('JsMainDispatcher', undefined, undefined, undefined, undefined, MainCoroutineDispatcher.prototype);
  function createEventLoop() {
    return new UnconfinedEventLoop();
  }
  function UnconfinedEventLoop() {
    EventLoop.call(this);
  }
  UnconfinedEventLoop.prototype.n1d = function (context, block) {
    unsupported();
  };
  UnconfinedEventLoop.$metadata$ = classMeta('UnconfinedEventLoop', undefined, undefined, undefined, undefined, EventLoop.prototype);
  function unsupported() {
    throw UnsupportedOperationException_init_$Create$('runBlocking event loop is not supported');
  }
  function JobCancellationException(message, cause, job) {
    CancellationException_init_$Init$(message, cause, this);
    this.b1q_1 = job;
    captureStack(this, JobCancellationException);
  }
  JobCancellationException.prototype.toString = function () {
    return CancellationException.prototype.toString.call(this) + '; job=' + this.b1q_1;
  };
  JobCancellationException.prototype.equals = function (other) {
    var tmp;
    if (other === this) {
      tmp = true;
    } else {
      var tmp_0;
      var tmp_1;
      var tmp_2;
      if (other instanceof JobCancellationException) {
        tmp_2 = other.message == this.message;
      } else {
        tmp_2 = false;
      }
      if (tmp_2) {
        tmp_1 = equals(other.b1q_1, this.b1q_1);
      } else {
        tmp_1 = false;
      }
      if (tmp_1) {
        tmp_0 = equals(other.cause, this.cause);
      } else {
        tmp_0 = false;
      }
      tmp = tmp_0;
    }
    return tmp;
  };
  JobCancellationException.prototype.hashCode = function () {
    var tmp = imul(imul(getStringHashCode(ensureNotNull(this.message)), 31) + hashCode(this.b1q_1) | 0, 31);
    var tmp0_safe_receiver = this.cause;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : hashCode(tmp0_safe_receiver);
    return tmp + (tmp1_elvis_lhs == null ? 0 : tmp1_elvis_lhs) | 0;
  };
  JobCancellationException.$metadata$ = classMeta('JobCancellationException', undefined, undefined, undefined, undefined, CancellationException.prototype);
  function addSuppressedThrowable(_this__u8e3s4, other) {
  }
  function NodeDispatcher() {
    NodeDispatcher_instance = this;
    SetTimeoutBasedDispatcher.call(this);
  }
  NodeDispatcher.prototype.e1q = function () {
    process.nextTick(this.o1q().k1q_1);
  };
  NodeDispatcher.$metadata$ = objectMeta('NodeDispatcher', undefined, undefined, undefined, undefined, SetTimeoutBasedDispatcher.prototype);
  var NodeDispatcher_instance;
  function NodeDispatcher_getInstance() {
    if (NodeDispatcher_instance == null)
      new NodeDispatcher();
    return NodeDispatcher_instance;
  }
  function SetTimeoutDispatcher() {
    SetTimeoutDispatcher_instance = this;
    SetTimeoutBasedDispatcher.call(this);
  }
  SetTimeoutDispatcher.prototype.e1q = function () {
    setTimeout(this.o1q().k1q_1, 0);
  };
  SetTimeoutDispatcher.$metadata$ = objectMeta('SetTimeoutDispatcher', undefined, undefined, undefined, undefined, SetTimeoutBasedDispatcher.prototype);
  var SetTimeoutDispatcher_instance;
  function SetTimeoutDispatcher_getInstance() {
    if (SetTimeoutDispatcher_instance == null)
      new SetTimeoutDispatcher();
    return SetTimeoutDispatcher_instance;
  }
  function SetTimeoutBasedDispatcher$ScheduledMessageQueue$processQueue$lambda(this$0) {
    return function () {
      this$0.w1q();
      return Unit_getInstance();
    };
  }
  function ScheduledMessageQueue($outer) {
    this.l1q_1 = $outer;
    MessageQueue.call(this);
    var tmp = this;
    tmp.k1q_1 = SetTimeoutBasedDispatcher$ScheduledMessageQueue$processQueue$lambda(this);
  }
  ScheduledMessageQueue.prototype.x1q = function () {
    this.l1q_1.e1q();
  };
  ScheduledMessageQueue.prototype.y1q = function () {
    setTimeout(this.k1q_1, 0);
  };
  ScheduledMessageQueue.$metadata$ = classMeta('ScheduledMessageQueue', undefined, undefined, undefined, undefined, MessageQueue.prototype);
  function SetTimeoutBasedDispatcher$scheduleResumeAfterDelay$lambda($continuation, this$0) {
    return function () {
      var tmp$ret$0;
      {
        {
        }
        tmp$ret$0 = $continuation.j1a(this$0, Unit_getInstance());
      }
      return Unit_getInstance();
    };
  }
  function SetTimeoutBasedDispatcher() {
    CoroutineDispatcher.call(this);
    this.n1q_1 = new ScheduledMessageQueue(this);
  }
  SetTimeoutBasedDispatcher.prototype.o1q = function () {
    return this.n1q_1;
  };
  SetTimeoutBasedDispatcher.prototype.n1d = function (context, block) {
    this.n1q_1.z1q(block);
  };
  SetTimeoutBasedDispatcher.prototype.q1d = function (timeMillis, continuation) {
    var handle = setTimeout(SetTimeoutBasedDispatcher$scheduleResumeAfterDelay$lambda(continuation, this), delayToInt(timeMillis));
    var tmp$ret$1;
    {
      var tmp0__get_asHandler__gq3rkj = new ClearTimeout(handle);
      var tmp$ret$0;
      {
        tmp$ret$0 = tmp0__get_asHandler__gq3rkj;
      }
      tmp$ret$1 = tmp$ret$0;
    }
    continuation.i1a(tmp$ret$1);
  };
  SetTimeoutBasedDispatcher.$metadata$ = classMeta('SetTimeoutBasedDispatcher', [Delay], undefined, undefined, undefined, CoroutineDispatcher.prototype);
  function MessageQueue() {
    ArrayQueue.call(this);
    this.u1q_1 = 16;
    this.v1q_1 = false;
  }
  MessageQueue.prototype.z1q = function (element) {
    this.b1e(element);
    if (!this.v1q_1) {
      this.v1q_1 = true;
      this.x1q();
    }
  };
  MessageQueue.prototype.w1q = function () {
    try {
      {
        var tmp0_repeat = this.u1q_1;
        {
        }
        var inductionVariable = 0;
        if (inductionVariable < tmp0_repeat)
          do {
            var index = inductionVariable;
            inductionVariable = inductionVariable + 1 | 0;
            {
              var tmp0_elvis_lhs = this.z1d();
              var tmp;
              if (tmp0_elvis_lhs == null) {
                return Unit_getInstance();
              } else {
                tmp = tmp0_elvis_lhs;
              }
              var element = tmp;
              element.m1c();
            }
          }
           while (inductionVariable < tmp0_repeat);
      }
    }finally {
      if (this.e1e()) {
        this.v1q_1 = false;
      } else {
        this.y1q();
      }
    }
  };
  MessageQueue.$metadata$ = classMeta('MessageQueue', undefined, undefined, undefined, undefined, ArrayQueue.prototype);
  function delayToInt(timeMillis) {
    return coerceIn(timeMillis, new Long(0, 0), new Long(2147483647, 0)).fb();
  }
  function ClearTimeout(handle) {
    CancelHandler.call(this);
    this.a1r_1 = handle;
  }
  ClearTimeout.prototype.n1a = function () {
    clearTimeout(this.a1r_1);
  };
  ClearTimeout.prototype.m1a = function (cause) {
    this.n1a();
  };
  ClearTimeout.prototype.invoke = function (cause) {
    return this.m1a(cause);
  };
  ClearTimeout.prototype.toString = function () {
    return 'ClearTimeout[' + this.a1r_1 + ']';
  };
  ClearTimeout.$metadata$ = classMeta('ClearTimeout', [DisposableHandle], undefined, undefined, undefined, CancelHandler.prototype);
  function WindowDispatcher$scheduleResumeAfterDelay$lambda($continuation, this$0) {
    return function () {
      var tmp$ret$0;
      {
        {
        }
        tmp$ret$0 = $continuation.j1a(this$0, Unit_getInstance());
      }
      return Unit_getInstance();
    };
  }
  function WindowDispatcher(window_0) {
    CoroutineDispatcher.call(this);
    this.c1r_1 = window_0;
    this.d1r_1 = new WindowMessageQueue(this.c1r_1);
  }
  WindowDispatcher.prototype.n1d = function (context, block) {
    return this.d1r_1.z1q(block);
  };
  WindowDispatcher.prototype.q1d = function (timeMillis, continuation) {
    this.c1r_1.setTimeout(WindowDispatcher$scheduleResumeAfterDelay$lambda(continuation, this), delayToInt(timeMillis));
  };
  WindowDispatcher.$metadata$ = classMeta('WindowDispatcher', [Delay], undefined, undefined, undefined, CoroutineDispatcher.prototype);
  function WindowMessageQueue$lambda(this$0) {
    return function (event) {
      var tmp;
      if (event.source == this$0.j1r_1 ? event.data == this$0.k1r_1 : false) {
        event.stopPropagation();
        tmp = this$0.w1q();
      }
      return Unit_getInstance();
    };
  }
  function WindowMessageQueue$schedule$lambda(this$0) {
    return function (it) {
      this$0.w1q();
      return Unit_getInstance();
    };
  }
  function WindowMessageQueue(window_0) {
    MessageQueue.call(this);
    this.j1r_1 = window_0;
    this.k1r_1 = 'dispatchCoroutine';
    this.j1r_1.addEventListener('message', WindowMessageQueue$lambda(this), true);
  }
  WindowMessageQueue.prototype.x1q = function () {
    var tmp = Promise.resolve(Unit_getInstance());
    tmp.then(WindowMessageQueue$schedule$lambda(this));
  };
  WindowMessageQueue.prototype.y1q = function () {
    this.j1r_1.postMessage(this.k1r_1, '*');
  };
  WindowMessageQueue.$metadata$ = classMeta('WindowMessageQueue', undefined, undefined, undefined, undefined, MessageQueue.prototype);
  function Runnable() {
  }
  Runnable.$metadata$ = interfaceMeta('Runnable');
  function SchedulerTask() {
  }
  SchedulerTask.$metadata$ = classMeta('SchedulerTask', [Runnable]);
  function get_taskContext(_this__u8e3s4) {
    return Unit_getInstance();
  }
  function asCoroutineDispatcher(_this__u8e3s4) {
    var tmp$ret$0;
    {
      tmp$ret$0 = _this__u8e3s4;
    }
    var tmp0_elvis_lhs = tmp$ret$0.coroutineDispatcher;
    var tmp;
    if (tmp0_elvis_lhs == null) {
      var tmp$ret$2;
      {
        var tmp0_also = new WindowDispatcher(_this__u8e3s4);
        {
        }
        {
          var tmp$ret$1;
          {
            tmp$ret$1 = _this__u8e3s4;
          }
          tmp$ret$1.coroutineDispatcher = tmp0_also;
        }
        tmp$ret$2 = tmp0_also;
      }
      tmp = tmp$ret$2;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    return tmp;
  }
  function identitySet(expectedSize) {
    return HashSet_init_$Create$(expectedSize);
  }
  function NoOpLock() {
  }
  NoOpLock.$metadata$ = classMeta('NoOpLock');
  function withLock(_this__u8e3s4, action) {
    return action();
  }
  function LinkedListHead() {
    LinkedListNode.call(this);
  }
  LinkedListHead.prototype.g1b = function () {
    throw UnsupportedOperationException_init_$Create$_0();
  };
  LinkedListHead.$metadata$ = classMeta('LinkedListHead', undefined, undefined, undefined, undefined, LinkedListNode.prototype);
  function LinkedListNode() {
    this.d1b_1 = this;
    this.e1b_1 = this;
    this.f1b_1 = false;
  }
  LinkedListNode.prototype.t1e = function () {
    return this.d1b_1;
  };
  LinkedListNode.prototype.x1e = function () {
    return this.d1b_1;
  };
  LinkedListNode.prototype.y1e = function () {
    return this.e1b_1;
  };
  LinkedListNode.prototype.z1e = function () {
    return this.f1b_1;
  };
  LinkedListNode.prototype.a1f = function (node) {
    var prev = this.e1b_1;
    node.d1b_1 = this;
    node.e1b_1 = prev;
    prev.d1b_1 = node;
    this.e1b_1 = node;
  };
  LinkedListNode.prototype.g1b = function () {
    return this.b1f();
  };
  LinkedListNode.prototype.b1f = function () {
    if (this.f1b_1)
      return false;
    var prev = this.e1b_1;
    var next = this.d1b_1;
    prev.d1b_1 = next;
    next.e1b_1 = prev;
    this.f1b_1 = true;
    return true;
  };
  LinkedListNode.prototype.k1f = function (node) {
    if (!(this.d1b_1 === this))
      return false;
    this.a1f(node);
    return true;
  };
  LinkedListNode.prototype.c1f = function (node, condition) {
    if (!condition())
      return false;
    this.a1f(node);
    return true;
  };
  LinkedListNode.prototype.d1f = function (node, predicate) {
    if (!predicate(this.e1b_1))
      return false;
    this.a1f(node);
    return true;
  };
  LinkedListNode.prototype.e1f = function (node, predicate, condition) {
    if (!predicate(this.e1b_1))
      return false;
    if (!condition())
      return false;
    this.a1f(node);
    return true;
  };
  LinkedListNode.prototype.a1l = function () {
  };
  LinkedListNode.prototype.z1d = function () {
    var next = this.d1b_1;
    if (next === this)
      return null;
    {
      var tmp0_check = next.b1f();
      {
      }
      if (!tmp0_check) {
        var tmp$ret$0;
        {
          tmp$ret$0 = 'Should remove';
        }
        var message = tmp$ret$0;
        throw IllegalStateException_init_$Create$(toString_0(message));
      }
    }
    return next;
  };
  LinkedListNode.$metadata$ = classMeta('LinkedListNode');
  function PrepareOp(affected, desc, atomicOp) {
    OpDescriptor.call(this);
    this.k1j_1 = affected;
    this.l1j_1 = desc;
    this.m1j_1 = atomicOp;
  }
  PrepareOp.prototype.l1r = function () {
    return this.l1j_1;
  };
  PrepareOp.prototype.a1o = function () {
    return this.m1j_1;
  };
  PrepareOp.prototype.s1g = function (affected) {
    return null;
  };
  PrepareOp.prototype.t1k = function () {
  };
  PrepareOp.$metadata$ = classMeta('PrepareOp', undefined, undefined, undefined, undefined, OpDescriptor.prototype);
  function AbstractAtomicDesc() {
    AtomicDesc.call(this);
  }
  AbstractAtomicDesc.prototype.j1j = function (prepareOp) {
    this.w1j(prepareOp);
    return null;
  };
  AbstractAtomicDesc.prototype.z1j = function (op) {
    var affected = this.v1j();
    var failure = this.i1j(affected);
    if (!(failure == null))
      return failure;
    return this.j1j(new PrepareOp(affected, this, op));
  };
  AbstractAtomicDesc.prototype.a1k = function (op, failure) {
    return this.x1j();
  };
  AbstractAtomicDesc.prototype.i1j = function (affected) {
    return null;
  };
  AbstractAtomicDesc.$metadata$ = classMeta('AbstractAtomicDesc', undefined, undefined, undefined, undefined, AtomicDesc.prototype);
  function RemoveFirstDesc(queue) {
    AbstractAtomicDesc.call(this);
    this.s1j_1 = queue;
    var tmp = this;
    var tmp$ret$0;
    {
      var tmp0__get_nextNode__vg4li4 = this.s1j_1;
      tmp$ret$0 = tmp0__get_nextNode__vg4li4.d1b_1;
    }
    tmp.t1j_1 = tmp$ret$0;
  }
  RemoveFirstDesc.prototype.u1j = function () {
    var tmp = this.v1j();
    return isObject(tmp) ? tmp : THROW_CCE();
  };
  RemoveFirstDesc.prototype.v1j = function () {
    return this.t1j_1;
  };
  RemoveFirstDesc.prototype.w1j = function (prepareOp) {
  };
  RemoveFirstDesc.prototype.x1j = function () {
    this.s1j_1.z1d();
  };
  RemoveFirstDesc.$metadata$ = classMeta('RemoveFirstDesc', undefined, undefined, undefined, undefined, AbstractAtomicDesc.prototype);
  function probeCoroutineCreated(completion) {
    return completion;
  }
  function unwrap(exception) {
    return exception;
  }
  function CoroutineStackFrame() {
  }
  CoroutineStackFrame.$metadata$ = interfaceMeta('CoroutineStackFrame');
  function recoverStackTrace(exception, continuation) {
    return exception;
  }
  function recoverStackTrace_0(exception) {
    return exception;
  }
  function synchronized(lock, block) {
    return block();
  }
  function systemProp_1(propertyName) {
    return null;
  }
  function threadContextElements(context) {
    return 0;
  }
  function CommonThreadLocal() {
    this.k1e_1 = null;
  }
  CommonThreadLocal.prototype.l1e = function () {
    var tmp = this.k1e_1;
    return (tmp == null ? true : isObject(tmp)) ? tmp : THROW_CCE();
  };
  CommonThreadLocal.prototype.m1e = function (value) {
    this.k1e_1 = value;
  };
  CommonThreadLocal.$metadata$ = classMeta('CommonThreadLocal');
  //region block: post-declaration
  JobSupport.prototype.r18 = invokeOnCompletion$default;
  JobSupport.prototype.v18 = cancel$default;
  JobSupport.prototype.m8 = plus;
  JobSupport.prototype.f8 = get;
  JobSupport.prototype.l8 = fold;
  JobSupport.prototype.k8 = minusKey;
  AbstractCoroutine.prototype.r18 = invokeOnCompletion$default;
  AbstractCoroutine.prototype.v18 = cancel$default;
  AbstractCoroutine.prototype.m8 = plus;
  AbstractCoroutine.prototype.f8 = get;
  AbstractCoroutine.prototype.l8 = fold;
  AbstractCoroutine.prototype.k8 = minusKey;
  DeferredCoroutine.prototype.r18 = invokeOnCompletion$default;
  DeferredCoroutine.prototype.v18 = cancel$default;
  DeferredCoroutine.prototype.m8 = plus;
  DeferredCoroutine.prototype.f8 = get;
  DeferredCoroutine.prototype.l8 = fold;
  DeferredCoroutine.prototype.k8 = minusKey;
  LazyDeferredCoroutine.prototype.r18 = invokeOnCompletion$default;
  LazyDeferredCoroutine.prototype.v18 = cancel$default;
  LazyDeferredCoroutine.prototype.m8 = plus;
  LazyDeferredCoroutine.prototype.f8 = get;
  LazyDeferredCoroutine.prototype.l8 = fold;
  LazyDeferredCoroutine.prototype.k8 = minusKey;
  StandaloneCoroutine.prototype.r18 = invokeOnCompletion$default;
  StandaloneCoroutine.prototype.v18 = cancel$default;
  StandaloneCoroutine.prototype.m8 = plus;
  StandaloneCoroutine.prototype.f8 = get;
  StandaloneCoroutine.prototype.l8 = fold;
  StandaloneCoroutine.prototype.k8 = minusKey;
  LazyStandaloneCoroutine.prototype.r18 = invokeOnCompletion$default;
  LazyStandaloneCoroutine.prototype.v18 = cancel$default;
  LazyStandaloneCoroutine.prototype.m8 = plus;
  LazyStandaloneCoroutine.prototype.f8 = get;
  LazyStandaloneCoroutine.prototype.l8 = fold;
  LazyStandaloneCoroutine.prototype.k8 = minusKey;
  CancellableContinuationImpl.prototype.e1a = tryResume$default;
  CompletableDeferredImpl.prototype.r18 = invokeOnCompletion$default;
  CompletableDeferredImpl.prototype.v18 = cancel$default;
  CompletableDeferredImpl.prototype.m8 = plus;
  CompletableDeferredImpl.prototype.f8 = get;
  CompletableDeferredImpl.prototype.l8 = fold;
  CompletableDeferredImpl.prototype.k8 = minusKey;
  CoroutineDispatcher.prototype.f8 = get_0;
  CoroutineDispatcher.prototype.l8 = fold;
  CoroutineDispatcher.prototype.k8 = minusKey_0;
  CoroutineDispatcher.prototype.m8 = plus;
  EventLoop.prototype.m8 = plus;
  EventLoop.prototype.f8 = get_0;
  EventLoop.prototype.l8 = fold;
  EventLoop.prototype.k8 = minusKey_0;
  AwaitContinuation.prototype.e1a = tryResume$default;
  JobImpl.prototype.r18 = invokeOnCompletion$default;
  JobImpl.prototype.v18 = cancel$default;
  JobImpl.prototype.m8 = plus;
  JobImpl.prototype.f8 = get;
  JobImpl.prototype.l8 = fold;
  JobImpl.prototype.k8 = minusKey;
  MainCoroutineDispatcher.prototype.m8 = plus;
  MainCoroutineDispatcher.prototype.f8 = get_0;
  MainCoroutineDispatcher.prototype.l8 = fold;
  MainCoroutineDispatcher.prototype.k8 = minusKey_0;
  Unconfined.prototype.m8 = plus;
  Unconfined.prototype.f8 = get_0;
  Unconfined.prototype.l8 = fold;
  Unconfined.prototype.k8 = minusKey_0;
  JsMainDispatcher.prototype.m8 = plus;
  JsMainDispatcher.prototype.f8 = get_0;
  JsMainDispatcher.prototype.l8 = fold;
  JsMainDispatcher.prototype.k8 = minusKey_0;
  UnconfinedEventLoop.prototype.m8 = plus;
  UnconfinedEventLoop.prototype.f8 = get_0;
  UnconfinedEventLoop.prototype.l8 = fold;
  UnconfinedEventLoop.prototype.k8 = minusKey_0;
  SetTimeoutBasedDispatcher.prototype.m8 = plus;
  SetTimeoutBasedDispatcher.prototype.f8 = get_0;
  SetTimeoutBasedDispatcher.prototype.l8 = fold;
  SetTimeoutBasedDispatcher.prototype.k8 = minusKey_0;
  NodeDispatcher.prototype.m8 = plus;
  NodeDispatcher.prototype.f8 = get_0;
  NodeDispatcher.prototype.l8 = fold;
  NodeDispatcher.prototype.k8 = minusKey_0;
  SetTimeoutDispatcher.prototype.m8 = plus;
  SetTimeoutDispatcher.prototype.f8 = get_0;
  SetTimeoutDispatcher.prototype.l8 = fold;
  SetTimeoutDispatcher.prototype.k8 = minusKey_0;
  WindowDispatcher.prototype.m8 = plus;
  WindowDispatcher.prototype.f8 = get_0;
  WindowDispatcher.prototype.l8 = fold;
  WindowDispatcher.prototype.k8 = minusKey_0;
  //endregion
  //region block: init
  UNDECIDED = 0;
  SUSPENDED = 1;
  RESUMED = 2;
  FALSE = 0;
  TRUE = 1;
  DEFAULT_CLOSE_MESSAGE = 'Channel was closed';
  MODE_CANCELLABLE = 1;
  MODE_UNINITIALIZED = -1;
  MODE_CANCELLABLE_REUSABLE = 2;
  MODE_UNDISPATCHED = 4;
  MODE_ATOMIC = 0;
  counter = 0;
  DEBUG = false;
  //endregion
  //region block: exports
  _.$_$ = _.$_$ || {};
  _.$_$.a = delay;
  _.$_$.b = Channel$default;
  _.$_$.c = CompletableDeferred$default;
  _.$_$.d = Job$default;
  _.$_$.e = async$default;
  _.$_$.f = launch$default;
  _.$_$.g = Factory_getInstance;
  _.$_$.h = SelectBuilderImpl;
  _.$_$.i = CompletableDeferred_0;
  _.$_$.j = CoroutineScope_0;
  _.$_$.k = CoroutineScope;
  //endregion
  return _;
}));



/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./kotlin/Infinner.js");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=Infinner.js.map